/*
 * Decompiled from: ShadowFlare.exe
 * Generated by Ghidra
 */

/*
 * Function: FUN_004013a0
 * Address: 004013a0
 */

void __fastcall FUN_004013a0(int param_1)

{
  void *pvStack_c;
  undefined *puStack_8;
  int local_4;
  
  puStack_8 = &LAB_00471923;
  pvStack_c = ExceptionList;
  local_4 = 6;
  ExceptionList = &pvStack_c;
  CloseHandle(*(HANDLE *)(param_1 + 0xb150));
  FUN_0041d1b0(param_1 + 0x684);
  local_4._0_1_ = 5;
  FUN_004219c0(param_1 + 0x620);
  local_4._0_1_ = 4;
  FUN_00403040();
  local_4._0_1_ = 3;
  RKC_DIB::~RKC_DIB((RKC_DIB *)(param_1 + 0x590));
  local_4._0_1_ = 2;
  RKC_DIB::~RKC_DIB((RKC_DIB *)(param_1 + 0x584));
  local_4._0_1_ = 1;
  RKC_DIB::~RKC_DIB((RKC_DIB *)(param_1 + 0x578));
  local_4 = (uint)local_4._1_3_ << 8;
  RKC_DIB::~RKC_DIB((RKC_DIB *)(param_1 + 0x56c));
  local_4 = 0xffffffff;
  RKC_WINDOW::~RKC_WINDOW((RKC_WINDOW *)(param_1 + 8));
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00401460
 * Address: 00401460
 */

undefined4 __fastcall FUN_00401460(int param_1)

{
  WaitForSingleObject(*(HANDLE *)(param_1 + 0xb150),0xffffffff);
  return 1;
}



/*
 * Function: FUN_00401480
 * Address: 00401480
 */

undefined4 __fastcall FUN_00401480(int param_1)

{
  ReleaseMutex(*(HANDLE *)(param_1 + 0xb150));
  return 1;
}



/*
 * Function: FUN_004014a0
 * Address: 004014a0
 */

undefined4 FUN_004014a0(char *param_1)

{
  char cVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  
  uVar3 = 0xffffffff;
  iVar4 = 0;
  pcVar5 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar5;
    pcVar5 = pcVar5 + 1;
  } while (cVar1 != '\0');
  if (0 < (int)(~uVar3 - 2)) {
    do {
      iVar2 = RK_CheckSJIS(param_1[iVar4]);
      if (iVar2 == 1) {
        iVar4 = iVar4 + 1;
      }
      else if (param_1[iVar4] == '/') {
        if ((byte)(param_1[iVar4 + 1] | 0x20U) == 0x77) {
          DAT_0048d8b8 = 1;
        }
        else if ((byte)(param_1[iVar4 + 1] | 0x20U) == 0x66) {
          DAT_0048d8b8 = 0;
        }
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < (int)(~uVar3 - 2));
  }
  return 1;
}



/*
 * Function: FUN_00401520
 * Address: 00401520
 */

int __cdecl FUN_00401520(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_1) {
    do {
      iVar1 = _rand();
      param_1 = param_1 + -1;
      iVar2 = iVar1 % 10 + iVar2 * 10;
    } while (param_1 != 0);
  }
  return iVar2;
}



/*
 * Function: FUN_00401550
 * Address: 00401550
 */

bool __cdecl FUN_00401550(LPCSTR param_1)

{
  DWORD DVar1;
  
  CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,1,param_1);
  DVar1 = GetLastError();
  return DVar1 == 0xb7;
}



/*
 * Function: FUN_00401580
 * Address: 00401580
 */

void __cdecl FUN_00401580(HWND param_1,int param_2,int param_3)

{
  tagRECT local_20;
  tagRECT tStack_10;
  
  GetWindowRect(param_1,&local_20);
  GetClientRect(param_1,&tStack_10);
  if ((tStack_10.bottom != param_3) || (tStack_10.right != param_2)) {
    local_20.bottom = (local_20.bottom - local_20.top) + (param_3 - tStack_10.bottom);
    local_20.right = (local_20.right - local_20.left) + (param_2 - tStack_10.right);
    SetWindowPos(param_1,(HWND)0x0,0,0,local_20.right,local_20.bottom,0x86);
  }
  return;
}



/*
 * Function: FUN_00401600
 * Address: 00401600
 */

undefined4 __cdecl FUN_00401600(undefined4 *param_1,uint *param_2)

{
  BOOL BVar1;
  HANDLE hMem;
  SIZE_T SVar2;
  undefined4 *puVar3;
  uint uVar4;
  
  BVar1 = OpenClipboard(DAT_00482778);
  if (BVar1 == 0) {
    return 0xffffffff;
  }
  hMem = GetClipboardData(1);
  if (hMem == (HANDLE)0x0) {
    CloseClipboard();
    return 0xfffffffe;
  }
  SVar2 = GlobalSize(hMem);
  uVar4 = *param_2;
  *param_2 = SVar2;
  if (uVar4 < SVar2) {
    CloseClipboard();
    return 0;
  }
  puVar3 = (undefined4 *)GlobalLock(hMem);
  if (puVar3 == (undefined4 *)0x0) {
    CloseClipboard();
    return 0xfffffffc;
  }
  for (uVar4 = SVar2 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *param_1 = *puVar3;
    puVar3 = puVar3 + 1;
    param_1 = param_1 + 1;
  }
  for (uVar4 = SVar2 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined *)param_1 = *(undefined *)puVar3;
    puVar3 = (undefined4 *)((int)puVar3 + 1);
    param_1 = (undefined4 *)((int)param_1 + 1);
  }
  GlobalUnlock(hMem);
  CloseClipboard();
  return 1;
}



/*
 * Function: FUN_004016b0
 * Address: 004016b0
 */

void __fastcall FUN_004016b0(void *param_1)

{
  char cVar1;
  int iVar2;
  HDC pHVar3;
  HIMC pHVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  int *piVar8;
  char *pcVar9;
  CHAR *pCVar10;
  tagRECT tStack_84;
  RKC_FONTMAKER local_74 [44];
  tagLOGFONTA tStack_48;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471939;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_FONTMAKER::RKC_FONTMAKER(local_74);
  uStack_4 = 0;
  iVar2 = RK_CheckFileExist(s_System_Common_Pattern_Font00_njp_0047d110,0);
  if (iVar2 != 1) {
    pHVar3 = GetDC(*(HWND *)((int)param_1 + 8));
    RKC_FONTMAKER::Initialize(local_74,pHVar3,6,0xc,&DAT_0047d104);
    RKC_FONTMAKER::SaveNJPFile(local_74,pHVar3,s_System_Common_Pattern_Font00_njp_0047d110);
    ReleaseDC(*(HWND *)((int)param_1 + 8),pHVar3);
  }
  iVar2 = RK_CheckFileExist(s_System_Common_Pattern_Font01_njp_0047d0e0,0);
  if (iVar2 != 1) {
    pHVar3 = GetDC(*(HWND *)((int)param_1 + 8));
    RKC_FONTMAKER::Initialize(local_74,pHVar3,6,0xc,&DAT_0047d0d0);
    RKC_FONTMAKER::SaveNJPFile(local_74,pHVar3,s_System_Common_Pattern_Font01_njp_0047d0e0);
    ReleaseDC(*(HWND *)((int)param_1 + 8),pHVar3);
  }
  pHVar4 = ImmCreateContext();
  *(HIMC *)((int)param_1 + 0xb154) = pHVar4;
  ImmAssociateContext(DAT_00482778,(HIMC)0x0);
  uVar5 = 0xffffffff;
  tStack_48.lfWidth = 0;
  pcVar7 = &DAT_0047d0d0;
  do {
    pcVar9 = pcVar7;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar9 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar9;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  tStack_48.lfEscapement = 0;
  tStack_48.lfOrientation = 0;
  tStack_48.lfHeight = 0xc;
  tStack_48.lfWeight = 400;
  tStack_48.lfItalic = '\0';
  tStack_48.lfUnderline = '\0';
  tStack_48.lfStrikeOut = '\0';
  tStack_48.lfCharSet = '\x01';
  tStack_48.lfOutPrecision = '\0';
  tStack_48.lfClipPrecision = '\0';
  tStack_48.lfQuality = '\x01';
  tStack_48.lfPitchAndFamily = '\x01';
  pcVar7 = pcVar9 + -uVar5;
  pCVar10 = tStack_48.lfFaceName;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pCVar10 = *(undefined4 *)pcVar7;
    pcVar7 = pcVar7 + 4;
    pCVar10 = pCVar10 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pCVar10 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    pCVar10 = pCVar10 + 1;
  }
  ImmSetCompositionFontA(DAT_0048d8c4,&tStack_48);
  FUN_004562d0(*(void **)((int)param_1 + 0xb144),*(undefined4 *)((int)param_1 + 8),100);
  RKC_DSOUND::Initialize(*(RKC_DSOUND **)((int)param_1 + 0x5b8),*(HWND__ **)((int)param_1 + 8),1000)
  ;
  RKC_UPDIB::Initialize(*(RKC_UPDIB **)((int)param_1 + 0x5a0),2,0x20,9000,1);
  piVar8 = &DAT_0047d158;
  do {
    if (*piVar8 == -1) break;
    RKC_UPDIB::ReadUpd(DAT_00482d10,*piVar8,(char *)piVar8[1],0,0,0,0);
    piVar8 = piVar8 + 2;
  } while ((int)piVar8 < 0x48ea98);
  RKC_UPDIB::ReadUpd(DAT_00482d10,2,s_System_Common_Pattern_Waiting_nj_0047d0ac,0,0,0,0);
  RKC_DIB::Create((RKC_DIB *)((int)param_1 + 0x56c),0x280,0x1e0,0x18,1);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,0,1,2,0,-1,1,0,0,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,
             (RKC_DIB *)0x0);
  RKC_UPDIB::Render(DAT_00482d10,(RKC_DIB *)((int)param_1 + 0x56c),-1,0,0,0,(tagRECT *)0x0);
  RKC_UPDIB::FlushVSBlock(DAT_00482d10,-1);
  RKC_DIB::Create((RKC_DIB *)((int)param_1 + 0x578),0x280,0x1e0,0x18,1);
  RKC_DIB::FillByte((RKC_DIB *)((int)param_1 + 0x578),'\0');
  RKC_UPDIB::SetPacket
            (DAT_00482d10,0,1,2,1,-1,1,0,0,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,
             (RKC_DIB *)0x0);
  RKC_UPDIB::Render(DAT_00482d10,(RKC_DIB *)((int)param_1 + 0x578),-1,0,0,0,(tagRECT *)0x0);
  RKC_UPDIB::FlushVSBlock(DAT_00482d10,-1);
  RKC_DIB::Create((RKC_DIB *)((int)param_1 + 0x590),0x40,0x20,0x18,1);
  RKC_DIB::FillByte((RKC_DIB *)((int)param_1 + 0x590),'\0');
  RKC_UPDIB::SetPacket
            (DAT_00482d10,0,1,2,3,-1,1,0,0,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,
             (RKC_DIB *)0x0);
  RKC_UPDIB::Render(DAT_00482d10,(RKC_DIB *)((int)param_1 + 0x590),-1,0,0,0,(tagRECT *)0x0);
  RKC_UPDIB::FlushVSBlock(DAT_00482d10,-1);
  RKC_DIB::Create((RKC_DIB *)((int)param_1 + 0x584),0x18,0x18,0x18,1);
  RKC_DIB::FillByte((RKC_DIB *)((int)param_1 + 0x584),'\0');
  RKC_UPDIB::SetPacket
            (DAT_00482d10,0,1,2,2,-1,1,0,0,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,
             (RKC_DIB *)0x0);
  RKC_UPDIB::Render(DAT_00482d10,(RKC_DIB *)((int)param_1 + 0x584),-1,0,0,0,(tagRECT *)0x0);
  RKC_UPDIB::FlushVSBlock(DAT_00482d10,-1);
  RKC_UPDIB::DeleteUpd(DAT_00482d10,2,0);
  SetRect(&tStack_84,0,0,0x27f,0x1df);
  RKC_DBFCONTROL::Initialize
            (*(RKC_DBFCONTROL **)((int)param_1 + 0x5a8),DAT_00482778,
             *(RKC_UPDIB **)((int)param_1 + 0x5a0),0,1,*(long *)((int)param_1 + 0xb148),
             (_func_int *)&LAB_004024a0,0x280,0x1e0,&tStack_84,0,(tagRGBQUAD *)0x0,0x1e);
  RKC_DBFCONTROL::SetPaintFunction
            (*(RKC_DBFCONTROL **)((int)param_1 + 0x5a8),(_func_void_HDC___ptr *)&LAB_00401510);
  RKC_DBFCONTROL::StartAll(*(RKC_DBFCONTROL **)((int)param_1 + 0x5a8));
  RKC_DSOUND::ReadVocFile(DAT_00482d28,s_System_Game_Voice_Voice00_Voc_0047d08c,0);
  FUN_004023d0(param_1,0,0);
  uStack_4 = 0xffffffff;
  RKC_FONTMAKER::~RKC_FONTMAKER(local_74);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00401b90
 * Address: 00401b90
 */

void __fastcall FUN_00401b90(int param_1)

{
  RKC_DSOUND *this;
  RKC_NETWORK *this_00;
  LPVOID pvVar1;
  RKC_DBFCONTROL *this_01;
  RKC_RPGSCRN *this_02;
  RKC_UPDIB *this_03;
  undefined4 *puVar2;
  int iVar3;
  
  RKC_DBFCONTROL::StopAll(*(RKC_DBFCONTROL **)(param_1 + 0x5a8));
  iVar3 = RKC_DBFCONTROL::GetDrawingFlag(DAT_00482d18);
  while (iVar3 != 0) {
    Sleep(1);
    iVar3 = RKC_DBFCONTROL::GetDrawingFlag(DAT_00482d18);
  }
  FUN_00420df0();
  FUN_00421bf0(param_1 + 0x620);
  FUN_0041d880(param_1 + 0x684);
  FUN_0041d2b0(param_1 + 0x684);
  RKC_DSOUND::Release(DAT_00482d28);
  if (*(HIMC *)(param_1 + 0xb154) != (HIMC)0x0) {
    ImmReleaseContext(*(HWND *)(param_1 + 8),*(HIMC *)(param_1 + 0xb154));
    *(undefined4 *)(param_1 + 0xb154) = 0;
  }
  this = *(RKC_DSOUND **)(param_1 + 0x5b8);
  if (this != (RKC_DSOUND *)0x0) {
    RKC_DSOUND::~RKC_DSOUND(this);
    FUN_0046787e(this);
    *(undefined4 *)(param_1 + 0x5b8) = 0;
  }
  this_00 = *(RKC_NETWORK **)(param_1 + 0x5b4);
  if (this_00 != (RKC_NETWORK *)0x0) {
    RKC_NETWORK::~RKC_NETWORK(this_00);
    FUN_0046787e(this_00);
    *(undefined4 *)(param_1 + 0x5b4) = 0;
  }
  pvVar1 = *(LPVOID *)(param_1 + 0x5ac);
  if (pvVar1 != (LPVOID)0x0) {
    FUN_00403040();
    FUN_0046787e(pvVar1);
    *(undefined4 *)(param_1 + 0x5ac) = 0;
  }
  this_01 = *(RKC_DBFCONTROL **)(param_1 + 0x5a8);
  if (this_01 != (RKC_DBFCONTROL *)0x0) {
    RKC_DBFCONTROL::~RKC_DBFCONTROL(this_01);
    FUN_0046787e(this_01);
    *(undefined4 *)(param_1 + 0x5a8) = 0;
  }
  this_02 = *(RKC_RPGSCRN **)(param_1 + 0x5a4);
  if (this_02 != (RKC_RPGSCRN *)0x0) {
    RKC_RPGSCRN::~RKC_RPGSCRN(this_02);
    FUN_0046787e(this_02);
    *(undefined4 *)(param_1 + 0x5a4) = 0;
  }
  this_03 = *(RKC_UPDIB **)(param_1 + 0x5a0);
  if (this_03 != (RKC_UPDIB *)0x0) {
    RKC_UPDIB::~RKC_UPDIB(this_03);
    FUN_0046787e(this_03);
    *(undefined4 *)(param_1 + 0x5a0) = 0;
  }
  puVar2 = *(undefined4 **)(param_1 + 0xb144);
  if (puVar2 != (undefined4 *)0x0) {
    thunk_FUN_00456270(puVar2);
    FUN_0046787e(puVar2);
    *(undefined4 *)(param_1 + 0xb144) = 0;
  }
  return;
}



/*
 * Function: FUN_00401d10
 * Address: 00401d10
 */

undefined4 __fastcall FUN_00401d10(int param_1)

{
  int iVar1;
  int local_10;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471959;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  local_10 = param_1;
  RKC_FILE::RKC_FILE((RKC_FILE *)&local_10);
  uStack_4 = 0;
  iVar1 = RKC_FILE::Create((RKC_FILE *)&local_10,s_SFlare_Cfg_0047d134,1);
  if (iVar1 != 0) {
    iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xb148),4);
    if (iVar1 != 0) {
      iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xadc0),4);
      if (iVar1 != 0) {
        iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xadc4),4);
        if (iVar1 != 0) {
          iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xadc8),4);
          if (iVar1 != 0) {
            iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xadb8),4);
            if (iVar1 != 0) {
              iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xadd0),4);
              if (iVar1 != 0) {
                iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xadd4),4);
                if (iVar1 != 0) {
                  iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xafc4),4);
                  if (iVar1 != 0) {
                    iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 45000),4);
                    if (iVar1 != 0) {
                      iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xafcc),0x14)
                      ;
                      if (iVar1 != 0) {
                        iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xb174),4);
                        if (iVar1 != 0) {
                          iVar1 = RKC_FILE::Write((RKC_FILE *)&local_10,(void *)(param_1 + 0xb178),4
                                                 );
                          if (iVar1 != 0) {
                            RKC_FILE::Close((RKC_FILE *)&local_10);
                            uStack_4 = 0xffffffff;
                            RKC_FILE::~RKC_FILE((RKC_FILE *)&local_10);
                            ExceptionList = pvStack_c;
                            return 1;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE((RKC_FILE *)&local_10);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_00401eb0
 * Address: 00401eb0
 */

undefined4 __fastcall FUN_00401eb0(int param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  RKC_FILE local_3c [4];
  int aiStack_38 [11];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471979;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_FILE::RKC_FILE(local_3c);
  uStack_4 = 0;
  aiStack_38[1] = 0;
  aiStack_38[2] = 0;
  aiStack_38[3] = 0;
  aiStack_38[4] = 0;
  aiStack_38[5] = 0;
  iVar2 = RKC_FILE::Create(local_3c,s_SFlare_Cfg_0047d134,0);
  if (iVar2 != 0) {
    piVar3 = (int *)(param_1 + 0xb148);
    iVar2 = RKC_FILE::Read(local_3c,piVar3,4);
    if (iVar2 != 0) {
      if (*piVar3 != 0) {
        *piVar3 = 1;
      }
      iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
      if (iVar2 != 0) {
        if ((aiStack_38[0] == 1) || (aiStack_38[0] == 0)) {
          *(int *)(param_1 + 0xadc0) = aiStack_38[0];
        }
        else {
          *(undefined4 *)(param_1 + 0xadc0) = 1;
        }
        iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
        if (iVar2 != 0) {
          if ((aiStack_38[0] == 1) || (aiStack_38[0] == 0)) {
            *(int *)(param_1 + 0xadc4) = aiStack_38[0];
          }
          else {
            *(undefined4 *)(param_1 + 0xadc4) = 1;
          }
          iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
          if (iVar2 != 0) {
            if ((aiStack_38[0] == 1) || (aiStack_38[0] == 0)) {
              *(int *)(param_1 + 0xadc8) = aiStack_38[0];
            }
            else {
              *(undefined4 *)(param_1 + 0xadc8) = 1;
            }
            iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
            if (iVar2 != 0) {
              if ((aiStack_38[0] == 1) || (aiStack_38[0] == 0)) {
                *(int *)(param_1 + 0xadb8) = aiStack_38[0];
              }
              else {
                *(undefined4 *)(param_1 + 0xadb8) = 1;
              }
              iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
              if (iVar2 != 0) {
                *(undefined4 *)(param_1 + 0xadd0) = 1;
                iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
                if (iVar2 != 0) {
                  if ((aiStack_38[0] == 1) || (aiStack_38[0] == 0)) {
                    *(int *)(param_1 + 0xadd4) = aiStack_38[0];
                  }
                  else {
                    *(undefined4 *)(param_1 + 0xadd4) = 1;
                  }
                  piVar3 = (int *)(param_1 + 0xafc4);
                  iVar2 = RKC_FILE::Read(local_3c,piVar3,4);
                  if (iVar2 != 0) {
                    if (*piVar3 < 0) {
                      *piVar3 = 2;
                    }
                    if (4 < *piVar3) {
                      *piVar3 = 2;
                    }
                    iVar2 = RKC_FILE::Read(local_3c,aiStack_38,4);
                    if (iVar2 != 0) {
                      if ((aiStack_38[0] == 1) || (aiStack_38[0] == 0)) {
                        *(int *)(param_1 + 45000) = aiStack_38[0];
                      }
                      else {
                        *(undefined4 *)(param_1 + 45000) = 1;
                      }
                      iVar2 = RKC_FILE::Read(local_3c,aiStack_38 + 6,0x14);
                      if (iVar2 != 0) {
                        iVar2 = 0;
                        piVar3 = aiStack_38 + 6;
                        do {
                          iVar1 = *piVar3;
                          if ((iVar1 < 0) || (4 < iVar1)) goto LAB_0040212d;
                          iVar2 = iVar2 + 1;
                          piVar3 = piVar3 + 1;
                          aiStack_38[iVar1 + 1] = 1;
                        } while (iVar2 < 5);
                        iVar2 = 0;
                        piVar3 = aiStack_38;
                        do {
                          piVar3 = piVar3 + 1;
                          if (*piVar3 == 0) goto LAB_0040212d;
                          iVar2 = iVar2 + 1;
                        } while (iVar2 < 5);
                        piVar3 = aiStack_38 + 6;
                        piVar4 = (int *)(param_1 + 0xafcc);
                        for (iVar2 = 5; iVar2 != 0; iVar2 = iVar2 + -1) {
                          *piVar4 = *piVar3;
                          piVar3 = piVar3 + 1;
                          piVar4 = piVar4 + 1;
                        }
                        piVar3 = (int *)(param_1 + 0xb174);
                        iVar2 = RKC_FILE::Read(local_3c,piVar3,4);
                        if (iVar2 != 0) {
                          if (*piVar3 < -10000) {
                            *piVar3 = -10000;
                          }
                          if (0 < *piVar3) {
                            *piVar3 = 0;
                          }
                          piVar3 = (int *)(param_1 + 0xb178);
                          iVar2 = RKC_FILE::Read(local_3c,piVar3,4);
                          if (iVar2 != 0) {
                            if (*piVar3 < -10000) {
                              *piVar3 = -10000;
                            }
                            if (0 < *piVar3) {
                              *piVar3 = 0;
                            }
                            RKC_FILE::Close(local_3c);
                            uStack_4 = 0xffffffff;
                            RKC_FILE::~RKC_FILE(local_3c);
                            ExceptionList = pvStack_c;
                            return 1;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
LAB_0040212d:
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_3c);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_004021b0
 * Address: 004021b0
 */

undefined4 FUN_004021b0(char *param_1)

{
  char cVar1;
  FILE *pFVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  char *pcVar6;
  char *pcVar7;
  char local_104 [260];
  
  iVar5 = 0;
  while( true ) {
    FUN_00467d51(local_104,(byte *)s_Save__04d_Ssv_0047d144);
    pFVar2 = (FILE *)FUN_00467d3e(local_104,&DAT_0047d140);
    if (pFVar2 == (FILE *)0x0) break;
    FUN_00467c90(pFVar2);
    iVar5 = iVar5 + 1;
    if (5 < iVar5) {
      return 0;
    }
  }
  uVar3 = 0xffffffff;
  pcVar6 = local_104;
  do {
    pcVar7 = pcVar6;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar7 = pcVar6 + 1;
    cVar1 = *pcVar6;
    pcVar6 = pcVar7;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar6 = pcVar7 + -uVar3;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)param_1 = *(undefined4 *)pcVar6;
    pcVar6 = pcVar6 + 4;
    param_1 = param_1 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *param_1 = *pcVar6;
    pcVar6 = pcVar6 + 1;
    param_1 = param_1 + 1;
  }
  return 1;
}



/*
 * Function: FUN_004022e0
 * Address: 004022e0
 */

undefined4 FUN_004022e0(undefined4 param_1,undefined4 param_2,char *param_3,int param_4)

{
  bool bVar1;
  undefined3 extraout_var;
  BOOL BVar2;
  tagMSG tStack_1c;
  
  bVar1 = FUN_00401550(s_SHADOW_FLARE_for_WIN_Denyusha_0047d4dc);
  if (CONCAT31(extraout_var,bVar1) == 1) {
    return 0;
  }
  DAT_00482770 = param_1;
  FUN_00401eb0(0x482770);
  if (param_3 != (char *)0x0) {
    FUN_004014a0(param_3);
  }
  FUN_00402520(&DAT_00482778);
  ShowWindow(DAT_00482778,param_4);
  UpdateWindow(DAT_00482778);
  SetFocus(DAT_00482778);
  FUN_004016b0(&DAT_00482770);
  while( true ) {
    while( true ) {
      BVar2 = PeekMessageA(&tStack_1c,(HWND)0x0,0,0,0);
      if (BVar2 != 0) break;
      WaitMessage();
    }
    BVar2 = GetMessageA(&tStack_1c,(HWND)0x0,0,0);
    if (BVar2 == 0) break;
    TranslateMessage(&tStack_1c);
    DispatchMessageA(&tStack_1c);
  }
  return tStack_1c.wParam;
}



/*
 * Function: FUN_004023d0
 * Address: 004023d0
 */

undefined4 __thiscall FUN_004023d0(void *this,int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = RKC_DBFCONTROL::GetDrawingFlag(DAT_00482d18);
  while (iVar1 != 0) {
    Sleep(1);
    iVar1 = RKC_DBFCONTROL::GetDrawingFlag(DAT_00482d18);
  }
  iVar1 = *(int *)((int)this + 0x59c);
  if (iVar1 == 0) {
    FUN_00420df0();
  }
  else if (iVar1 == 1) {
    FUN_00421bf0((int)this + 0x620);
  }
  else if (iVar1 == 2) {
    FUN_0041d880((int)this + 0x684);
  }
  if (param_1 == 0) {
    FUN_00420c40((undefined4 *)((int)this + 0x5bc));
  }
  else {
    if (param_1 == 1) {
      FUN_00421a00((void *)((int)this + 0x620),param_2);
      *(undefined4 *)((int)this + 0x59c) = 1;
      return 0;
    }
    if (param_1 == 2) {
      FUN_0041d3f0((int)this + 0x684);
      *(undefined4 *)((int)this + 0x59c) = 2;
      return 0;
    }
  }
  *(int *)((int)this + 0x59c) = param_1;
  return 0;
}



/*
 * Function: FUN_004024e0
 * Address: 004024e0
 */

RKC_WINDOW * __fastcall FUN_004024e0(RKC_WINDOW *param_1)

{
  RKC_WINDOW::RKC_WINDOW(param_1);
  *(undefined4 *)(param_1 + 0x554) = 0;
  *(undefined4 *)(param_1 + 0x558) = 0;
  *(undefined4 *)(param_1 + 0x55c) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x560) = 0;
  return param_1;
}



/*
 * Function: ~RKC_WINDOW
 * Address: 00402510
 */

void __thiscall RKC_WINDOW::~RKC_WINDOW(RKC_WINDOW *this)

{
                    /* WARNING: Could not recover jumptable at 0x00402510. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  ~RKC_WINDOW(this);
  return;
}



/*
 * Function: FUN_00402520
 * Address: 00402520
 */

undefined4 __fastcall FUN_00402520(undefined4 *param_1)

{
  char cVar1;
  HICON pHVar2;
  HCURSOR pHVar3;
  DWORD dwStyle;
  DWORD dwExStyle;
  uint uVar4;
  uint uVar5;
  char *pcVar6;
  char *pcVar7;
  tagPOINT tVar8;
  char *lpClassName;
  LPCSTR lpWindowName;
  int X;
  int Y;
  int nWidth;
  int nHeight;
  HWND pHVar9;
  HMENU pHVar10;
  HINSTANCE hInstance;
  LPVOID lpParam;
  undefined auStack_8 [8];
  
  uVar4 = 0xffffffff;
  lpClassName = (char *)(param_1 + 2);
  pcVar6 = s_SHADOW_FLARE_0047d520;
  do {
    pcVar7 = pcVar6;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar7 = pcVar6 + 1;
    cVar1 = *pcVar6;
    pcVar6 = pcVar7;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  pcVar6 = pcVar7 + -uVar4;
  pcVar7 = lpClassName;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar7 = *(undefined4 *)pcVar6;
    pcVar6 = pcVar6 + 4;
    pcVar7 = pcVar7 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar7 = *pcVar6;
    pcVar6 = pcVar6 + 1;
    pcVar7 = pcVar7 + 1;
  }
  uVar4 = 0xffffffff;
  pcVar6 = s_ShadowFlare_for_Window98_Me_2000_0047d4fc;
  do {
    pcVar7 = pcVar6;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar7 = pcVar6 + 1;
    cVar1 = *pcVar6;
    pcVar6 = pcVar7;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  pcVar6 = pcVar7 + -uVar4;
  pcVar7 = (char *)(param_1 + 0x42);
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar7 = *(undefined4 *)pcVar6;
    pcVar6 = pcVar6 + 4;
    pcVar7 = pcVar7 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar7 = *pcVar6;
    pcVar6 = pcVar6 + 1;
    pcVar7 = pcVar7 + 1;
  }
  param_1[0x143] = &LAB_00402b30;
  param_1[0x144] = 0;
  ((WNDCLASSA *)(param_1 + 0x142))->style = 8;
  param_1[0x145] = 0;
  param_1[0x146] = DAT_00482770;
  pHVar2 = LoadIconA(DAT_00482770,(LPCSTR)0x65);
  param_1[0x147] = pHVar2;
  pHVar3 = LoadCursorA((HINSTANCE)0x0,(LPCSTR)0x7f00);
  param_1[0x148] = pHVar3;
  param_1[0x149] = 0;
  param_1[0x14a] = lpClassName;
  param_1[0x14b] = lpClassName;
  RegisterClassA((WNDCLASSA *)(param_1 + 0x142));
  tVar8 = RKC_DBFCONTROL::GetPosition(DAT_00482d18,(long)auStack_8);
  lpParam = (LPVOID)0x0;
  X = *(int *)tVar8.x;
  Y = ((int *)tVar8.x)[1];
  pHVar10 = (HMENU)0x0;
  pHVar9 = (HWND)0x0;
  nHeight = 0x1e0;
  nWidth = 0x280;
  hInstance = DAT_00482770;
  dwStyle = RKC_DBFCONTROL::GetStyle(DAT_00482d18,(long)DAT_0048d8b8);
  lpWindowName = (LPCSTR)(param_1 + 0x42);
  dwExStyle = RKC_DBFCONTROL::GetExStyle(DAT_00482d18,(long)DAT_0048d8b8);
  pHVar9 = CreateWindowExA(dwExStyle,lpClassName,lpWindowName,dwStyle,X,Y,nWidth,nHeight,pHVar9,
                           pHVar10,hInstance,lpParam);
  *param_1 = pHVar9;
  pHVar10 = GetMenu(pHVar9);
  param_1[1] = pHVar10;
  param_1[0x14d] = 0;
  FUN_00401580((HWND)*param_1,0x280,0x1e0);
  return 1;
}



/*
 * Function: FUN_00402690
 * Address: 00402690
 */

void __fastcall FUN_00402690(undefined4 *param_1)

{
  HDC hDC;
  
  hDC = GetDC((HWND)*param_1);
  FUN_00402920(hDC);
  ReleaseDC((HWND)*param_1,hDC);
  return;
}



/*
 * Function: FUN_004026c0
 * Address: 004026c0
 */

void __fastcall FUN_004026c0(undefined4 *param_1)

{
  FUN_00402690(param_1);
  return;
}



/*
 * Function: FUN_004026d0
 * Address: 004026d0
 */

void FUN_004026d0(void)

{
  return;
}



/*
 * Function: FUN_004026e0
 * Address: 004026e0
 */

void FUN_004026e0(int param_1)

{
  GetAsyncKeyState(0x10);
  GetAsyncKeyState(0x11);
  switch(param_1) {
  case 0x13:
    DAT_0048d70c = 1;
    return;
  case 0x14:
  case 0xf0:
    DAT_0048d7d0 = 1;
    return;
  case 0x70:
  case 0x71:
  case 0x72:
  case 0x73:
  case 0x74:
  case 0x75:
  case 0x76:
  case 0x77:
  case 0x78:
    DAT_0048d52c = param_1 + -0x70;
    return;
  case 0x91:
    if (DAT_0048d760 == -1) {
      DAT_0048d760 = 0;
    }
  }
  return;
}



/*
 * Function: FUN_00402840
 * Address: 00402840
 */

void FUN_00402840(int param_1)

{
  GetAsyncKeyState(0x10);
  GetAsyncKeyState(0x11);
  if (param_1 == 0xd) {
    if ((DAT_0048d8d4 == 2) && (DAT_0048d8d8 == 1)) {
      DAT_0048d8d4 = 3;
    }
  }
  else if ((param_1 == 0x2c) && (DAT_0048d8cc == 0)) {
    DAT_0048d71c = 1;
    return;
  }
  return;
}



/*
 * Function: FUN_004028a0
 * Address: 004028a0
 */

void FUN_004028a0(int param_1,int param_2)

{
  GetAsyncKeyState(0x10);
  GetAsyncKeyState(0x11);
  if ((((DAT_0048d8d4 == 2) && (DAT_0048d8d8 == 1)) && (0x24f < param_1)) &&
     (((param_1 < 0x274 && (0x1c1 < param_2)) && (param_2 < 0x1d8)))) {
    DAT_0048d8d4 = 3;
  }
  return;
}



/*
 * Function: FUN_00402900
 * Address: 00402900
 */

void FUN_00402900(void)

{
  GetAsyncKeyState(0x10);
  GetAsyncKeyState(0x11);
  return;
}



/*
 * Function: FUN_00402920
 * Address: 00402920
 */

void FUN_00402920(HDC__ *param_1)

{
  int iVar1;
  RKC_DIBHISPEEDMODE *pRVar2;
  IDirectDrawSurface *pIVar3;
  int iVar4;
  HDC__ *unaff_ESI;
  long lVar5;
  long lVar6;
  long lVar7;
  int *piVar8;
  RKC_DIB *pRVar9;
  undefined auStack_1c [4];
  RKC_DIB local_18 [12];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471999;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_DIB::RKC_DIB(local_18);
  uStack_4 = 0;
  if (-1 < DAT_0048d8d4) {
    RKC_DIB::Create(local_18,0x280,0x1e0,0x18,1);
    RKC_DIB::FillByte(local_18,'\0');
    if (DAT_0048d720 == 1) {
      pRVar9 = (RKC_DIB *)&DAT_00482cdc;
    }
    else {
      pRVar9 = (RKC_DIB *)&DAT_00482ce8;
    }
    RKC_DIB::TransferToDIBFast(local_18,0,0,pRVar9);
    iVar1 = DAT_00482d00;
    iVar4 = DAT_00482cf4;
    if (DAT_0048d8d4 == 2) {
      pRVar2 = RKC_UPDIB::GetDIBHISpeedMode(DAT_00482d10);
      lVar6 = *(long *)(iVar4 + 4);
      lVar7 = *(long *)(iVar4 + 8);
      piVar8 = &DAT_00482cf4;
      iVar4 = DAT_0048d8e0 + 0x250;
      lVar5 = 0x1c2;
    }
    else {
      pRVar2 = RKC_UPDIB::GetDIBHISpeedMode(DAT_00482d10);
      lVar6 = *(long *)(iVar1 + 4);
      lVar7 = *(long *)(iVar1 + 8);
      piVar8 = &DAT_00482d00;
      lVar5 = 0x1bb;
      iVar4 = 0x23c;
    }
    RKC_DIB::TransferToDIBEx
              (local_18,iVar4,lVar5,lVar6,lVar7,(RKC_DIB *)piVar8,0,0,0,0,1000,0,pRVar2);
    if (DAT_0048d8b8 == 0) {
      pIVar3 = RKC_DBFCONTROL::GetSurface(DAT_00482d18,1);
      if (pIVar3 != (IDirectDrawSurface *)0x0) {
        (**(code **)(*(int *)pIVar3 + 0x44))(pIVar3,auStack_1c);
        RKC_DIB::TransferToDDB((RKC_DIB *)&stack0xffffffe0,unaff_ESI,0,0);
        (**(code **)(*(int *)pIVar3 + 0x68))(pIVar3,unaff_ESI);
      }
      pIVar3 = RKC_DBFCONTROL::GetSurface(DAT_00482d18,0);
      if (pIVar3 != (IDirectDrawSurface *)0x0) {
        (**(code **)(*(int *)pIVar3 + 0x44))(pIVar3,auStack_1c);
        RKC_DIB::TransferToDDB((RKC_DIB *)&stack0xffffffe0,unaff_ESI,0,0);
        (**(code **)(*(int *)pIVar3 + 0x68))(pIVar3,unaff_ESI);
      }
    }
    else {
      RKC_DIB::TransferToDDB(local_18,param_1,0,0);
    }
  }
  uStack_4 = 0xffffffff;
  RKC_DIB::~RKC_DIB(local_18);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00402b00
 * Address: 00402b00
 */

void __fastcall FUN_00402b00(undefined4 *param_1)

{
  HDC pHVar1;
  tagPAINTSTRUCT local_40;
  
  pHVar1 = BeginPaint((HWND)*param_1,&local_40);
  FUN_00402920(pHVar1);
  EndPaint((HWND)*param_1,&local_40);
  return;
}



/*
 * Function: FUN_00403020
 * Address: 00403020
 */

void __fastcall FUN_00403020(int param_1)

{
  *(undefined4 *)(param_1 + 0x30) = 0;
  *(undefined4 *)(param_1 + 0x34) = 0;
  *(undefined4 *)(param_1 + 0x38) = 0;
  *(undefined4 *)(param_1 + 0x3c) = 0;
  *(undefined4 *)(param_1 + 0x2c) = 0;
  *(undefined4 *)(param_1 + 0x28) = 0;
  *(undefined4 *)(param_1 + 0x20) = 0;
  *(undefined4 *)(param_1 + 0x24) = 0;
  return;
}



/*
 * Function: FUN_00403040
 * Address: 00403040
 */

void FUN_00403040(void)

{
  return;
}



/*
 * Function: FUN_00403050
 * Address: 00403050
 */

void __thiscall
FUN_00403050(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 *param_8)

{
  *(undefined4 *)((int)this + 0x28) = param_1;
  *(undefined4 *)((int)this + 0x2c) = param_2;
  *(undefined4 *)((int)this + 0x30) = param_3;
  *(undefined4 *)((int)this + 0x34) = param_4;
  *(undefined4 *)((int)this + 0x38) = param_5;
  *(undefined4 *)((int)this + 0x3c) = param_6;
  *(undefined4 *)((int)this + 0x20) = param_7;
  *(undefined4 *)((int)this + 0x10) = *param_8;
  *(undefined4 *)((int)this + 0x14) = param_8[1];
  *(undefined4 *)((int)this + 0x18) = param_8[2];
  *(undefined4 *)((int)this + 0x1c) = param_8[3];
  return;
}



/*
 * Function: FUN_004030b0
 * Address: 004030b0
 */

void __thiscall FUN_004030b0(void *this,undefined4 *param_1)

{
  *(undefined4 *)this = *param_1;
  *(undefined4 *)((int)this + 4) = param_1[1];
  *(undefined4 *)((int)this + 8) = param_1[2];
  *(undefined4 *)((int)this + 0xc) = param_1[3];
  return;
}



/*
 * Function: FUN_004030d0
 * Address: 004030d0
 */

void __thiscall FUN_004030d0(void *this,undefined4 *param_1)

{
                    /* WARNING: Load size is inaccurate */
  *param_1 = *this;
  param_1[1] = *(undefined4 *)((int)this + 4);
  param_1[2] = *(undefined4 *)((int)this + 8);
  param_1[3] = *(undefined4 *)((int)this + 0xc);
  return;
}



/*
 * Function: FUN_004030f0
 * Address: 004030f0
 */

void __fastcall FUN_004030f0(tagRECT *param_1)

{
  RKC_RPGSCRN_OBJECTBLOCK *this;
  LONG LVar1;
  RKC_DBF *this_00;
  long lVar2;
  int iVar3;
  RKC_RPGSCRN_OBJECTDISP local_1c [8];
  RKC_RPGSCRN_OBJECTDISP local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  uint local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_004719c2;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_1c);
  local_4 = 0;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_14);
  local_4 = CONCAT31(local_4._1_3_,1);
  this_00 = RKC_DBFCONTROL::GetCurrentDBF((RKC_DBFCONTROL *)param_1[2].bottom);
  lVar2 = RKC_DBF::GetVSBlockNo(this_00);
  iVar3 = FUN_00417bd0(0x482df4);
  if (iVar3 == 0) {
    RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_1c,DAT_00482d14);
    RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_14,DAT_00482d14);
    RKC_RPGSCRN_GROUNDBLOCK::SetPacket
              ((RKC_RPGSCRN_GROUNDBLOCK *)param_1[3].left,lVar2,param_1[2].left,param_1,
               param_1[4].left,param_1[4].top,param_1 + 1);
    RKC_RPGSCRN_OBJECTBLOCK::SetShadowObject
              ((RKC_RPGSCRN_OBJECTBLOCK *)param_1[3].top,local_14,param_1,1);
    RKC_RPGSCRN_OBJECTBLOCK::SetShadowObject
              ((RKC_RPGSCRN_OBJECTBLOCK *)param_1[3].right,local_14,param_1,1);
    RKC_RPGSCRN_OBJECTDISP::SortDisplayObject(local_14);
    RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
              ((RKC_RPGSCRN_OBJECTBLOCK *)param_1[3].top,local_1c,param_1,1);
    RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
              ((RKC_RPGSCRN_OBJECTBLOCK *)param_1[3].right,local_1c,param_1,1);
    RKC_RPGSCRN_OBJECTDISP::SortDisplayObject(local_1c);
    if (DAT_0048d534 == 1) {
      FUN_004032c0(param_1,local_1c);
    }
    RKC_RPGSCRN_OBJECTDISP::SetPacket
              (local_14,lVar2,param_1[2].left,param_1[4].left,param_1[4].top,1,0xe);
    RKC_RPGSCRN_OBJECTDISP::SetPacket
              (local_1c,lVar2,param_1[2].left,param_1[4].left,param_1[4].top,0,0xe);
    RKC_RPGSCRN_OBJECTDISP::SetPacket
              (local_14,lVar2,param_1[2].left,param_1[4].left,param_1[4].top,1,1);
    RKC_RPGSCRN_OBJECTDISP::SetPacket
              (local_1c,lVar2,param_1[2].left,param_1[4].left,param_1[4].top,0,1);
  }
  this = (RKC_RPGSCRN_OBJECTBLOCK *)param_1[3].bottom;
  LVar1 = param_1[3].right;
  param_1[3].right = (LONG)this;
  param_1[3].bottom = LVar1;
  RKC_RPGSCRN_OBJECTBLOCK::Release(this);
  local_4 = local_4 & 0xffffff00;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_14);
  local_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_1c);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_004032a0
 * Address: 004032a0
 */

void __thiscall FUN_004032a0(void *this,undefined4 param_1,undefined4 param_2)

{
  *(undefined4 *)((int)this + 0x40) = param_1;
  *(undefined4 *)((int)this + 0x44) = param_2;
  return;
}



/*
 * Function: FUN_004032c0
 * Address: 004032c0
 */

void __thiscall FUN_004032c0(void *this,RKC_RPGSCRN_OBJECTDISP *param_1)

{
  ushort uVar1;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar4;
  RKC_RPGSCRN_OBJECT *pRVar5;
  long lVar6;
  RKC_RPGSCRN_OBJECT *pRVar7;
  long lVar8;
  void *this_00;
  undefined4 *puVar9;
  int iVar10;
  int iVar11;
  short sVar12;
  int iStack_3c;
  int iStack_34;
  int iStack_30;
  RKC_RPGSCRN_OBJECTDISP local_2c [8];
  long lStack_24;
  long lStack_20;
  tagRECT tStack_1c;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_004719d9;
  pvStack_c = ExceptionList;
  iVar10 = -1;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_2c);
  iVar11 = 0;
  uStack_4 = 0;
  RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_2c,DAT_00482d14);
  iVar2 = FUN_00434cd0(DAT_0048ce0c);
  lVar3 = RKC_RPGSCRN_OBJECTDISP::GetCount(param_1);
  if (0 < lVar3) {
    do {
      pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(param_1,iVar11);
      pRVar5 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
      if ((pRVar5 != (RKC_RPGSCRN_OBJECT *)0x0) &&
         (lVar6 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5), lVar6 == iVar2)) {
        RKC_RPGSCRN_OBJECT::GetPosition(pRVar5,(RKC_RPGSCRN_POSITION *)&lStack_24);
        RKC_RPGSCRN::CalcRealPos(DAT_00482d14,lStack_24,lStack_20,&iStack_34,&iStack_30);
        iVar10 = iVar11;
      }
      iVar11 = iVar11 + 1;
    } while (iVar11 < lVar3);
    if (iVar10 != -1) {
      tStack_1c.left = iStack_34 + -0x19;
      tStack_1c.right = iStack_34 + 0x19;
      tStack_1c.bottom = iStack_30;
      tStack_1c.top = iStack_30 + -0x3c;
      RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
                (*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this + 0x34),local_2c,&tStack_1c,1);
      RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
                (*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this + 0x38),local_2c,&tStack_1c,1);
      lVar3 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_2c);
      lVar6 = RKC_RPGSCRN_OBJECTDISP::GetCount(param_1);
      for (; iVar10 < lVar6; iVar10 = iVar10 + 1) {
        pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(param_1,iVar10);
        pRVar5 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
        if ((pRVar5 != (RKC_RPGSCRN_OBJECT *)0x0) && (iStack_3c = 0, 0 < lVar3)) {
          do {
            pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(local_2c,iStack_3c);
            pRVar7 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
            if ((pRVar7 == pRVar5) &&
               (uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRVar5), (uVar1 & 0x2000) == 0)) {
              lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5);
              if (lVar8 == -1) {
LAB_004034bd:
                sVar12 = 500;
                pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(param_1,iVar10);
                RKC_RPGSCRN_OBJECTDISPCELL::SetTrans(pRVar4,sVar12);
              }
              else {
                lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5);
                if (9999999 < lVar8) {
                  lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5);
                  iVar2 = FUN_00434cb0(DAT_0048ce0c);
                  this_00 = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
                  puVar9 = (undefined4 *)FUN_004299e0(this_00,lVar8);
                  if (puVar9 == (undefined4 *)0x0) goto LAB_004034bd;
                  iVar2 = FUN_00427b20(puVar9);
                  if (iVar2 == 0) {
                    iVar2 = FUN_00434cd0((int)puVar9);
                    if (*(int *)(iVar2 + 0xe0) != 1) goto LAB_004034bd;
                  }
                  else if ((iVar2 < 1) || (5 < iVar2)) goto LAB_004034bd;
                }
              }
            }
            iStack_3c = iStack_3c + 1;
          } while (iStack_3c < lVar3);
        }
      }
    }
  }
  uStack_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_2c);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00403520
 * Address: 00403520
 */

undefined4 __fastcall FUN_00403520(int param_1)

{
  return *(undefined4 *)(param_1 + 0x34);
}



/*
 * Function: FUN_00403530
 * Address: 00403530
 */

undefined4 __fastcall FUN_00403530(int param_1)

{
  return *(undefined4 *)(param_1 + 0x38);
}



/*
 * Function: FUN_00403540
 * Address: 00403540
 */

undefined4 __fastcall FUN_00403540(int param_1)

{
  return *(undefined4 *)(param_1 + 0x3c);
}



/*
 * Function: FUN_00403550
 * Address: 00403550
 */

undefined4 __fastcall FUN_00403550(undefined4 param_1)

{
  return param_1;
}



/*
 * Function: FUN_00403560
 * Address: 00403560
 */

void __fastcall FUN_00403560(undefined4 *param_1)

{
  param_1[0x26] = 1;
  *param_1 = 0;
  param_1[0x11] = 0;
  param_1[0x22] = 0;
  param_1[0x23] = 0;
  param_1[0x24] = 0;
  param_1[0x25] = 0;
  param_1[0x27] = 0;
  param_1[0x28] = 0;
  param_1[0x29] = 0;
  return;
}



/*
 * Function: FUN_004035a0
 * Address: 004035a0
 */

void __thiscall FUN_004035a0(void *this,uint *param_1,int param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  uint uVar5;
  int iVar6;
  uint *local_8;
  int local_4;
  
  local_4 = 0x34;
  if (param_1 == (uint *)0x1) {
    local_8 = (uint *)((int)this + 4);
    param_1 = (uint *)this;
  }
  else {
    local_8 = (uint *)((int)this + 0x48);
    param_1 = (uint *)((int)this + 0x44);
  }
  if (param_2 == 1) {
    local_4 = 0x35;
  }
  do {
    do {
      iVar3 = _rand();
      uVar2 = (iVar3 % local_4) / 0xd;
      uVar5 = (iVar3 % local_4) % 0xd + 1;
      if (uVar2 == 4) {
        uVar5 = 0;
      }
                    /* WARNING: Load size is inaccurate */
      iVar3 = *this;
      if ((iVar3 == 0) && (*(int *)((int)this + 0x44) == 0)) goto LAB_004036a5;
      iVar6 = 0;
      puVar4 = (uint *)this;
      if (0 < iVar3) {
        do {
          uVar1 = puVar4[1];
          if ((((int)uVar1 >> 0x10 & 0xfU) == uVar2) && ((uVar1 & 0xffff) == uVar5)) break;
          iVar6 = iVar6 + 1;
          puVar4 = puVar4 + 1;
        } while (iVar6 < iVar3);
      }
    } while (iVar6 != iVar3);
    iVar3 = *(int *)((int)this + 0x44);
    iVar6 = 0;
    if (0 < iVar3) {
      puVar4 = (uint *)((int)this + 0x48);
      do {
        if ((((int)*puVar4 >> 0x10 & 0xfU) == uVar2) && ((*puVar4 & 0xffff) == uVar5)) break;
        iVar6 = iVar6 + 1;
        puVar4 = puVar4 + 1;
      } while (iVar6 < iVar3);
    }
  } while (iVar6 != iVar3);
  local_8 = local_8 + *param_1;
LAB_004036a5:
  uVar5 = uVar2 * 0x10000 | uVar5;
  *local_8 = uVar5;
  if (param_3 == 1) {
    *local_8 = uVar5 | 0x80000000;
  }
  *param_1 = *param_1 + 1;
  return;
}



/*
 * Function: FUN_004036d0
 * Address: 004036d0
 */

int __thiscall FUN_004036d0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint *puVar5;
  int iVar6;
  
  iVar2 = 0;
  if (param_1 == 1) {
    puVar5 = (uint *)((int)this + 4);
                    /* WARNING: Load size is inaccurate */
    iVar4 = *this;
  }
  else {
    puVar5 = (uint *)((int)this + 0x48);
    iVar4 = *(int *)((int)this + 0x44);
  }
  iVar6 = 0;
  if (0 < iVar4) {
    do {
      if ((*puVar5 & 0x7fff0000) == 0x40000) {
        iVar6 = iVar6 + 1;
      }
      else if (*(int *)(&stack0xffffffc8 + (*puVar5 & 0xffff) * 4) == 1) {
        iVar6 = iVar6 + 1;
      }
      else {
        iVar2 = iVar2 + *(int *)(&stack0xffffffc8 + (*puVar5 & 0xffff) * 4);
      }
      puVar5 = puVar5 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  if (0 < iVar6) {
    iVar4 = iVar6 + 10;
    iVar3 = 0x15 - iVar2;
    do {
      if (iVar3 < iVar4) {
        iVar2 = iVar2 + 1;
        iVar1 = -1;
      }
      else {
        iVar2 = iVar2 + 0xb;
        iVar1 = -0xb;
      }
      iVar3 = iVar3 + iVar1;
      iVar4 = iVar4 + -1;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
  }
  if (0x15 < iVar2) {
    iVar2 = -1;
  }
  return iVar2;
}



/*
 * Function: FUN_004037c0
 * Address: 004037c0
 */

int __fastcall FUN_004037c0(int *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = FUN_004036d0(param_1,0);
  iVar2 = FUN_004036d0(param_1,1);
  if (iVar1 < iVar2) {
    return 1;
  }
  if (iVar2 < iVar1) {
    return 2;
  }
  if (iVar2 == 0x15) {
    if (param_1[0x11] == 2) {
      if (*param_1 != 2) {
        return param_1[0x11];
      }
    }
    else if (*param_1 == 2) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_00403820
 * Address: 00403820
 */

void __thiscall FUN_00403820(void *this,int param_1)

{
  uint *puVar1;
  int iVar2;
  
  if (param_1 == 1) {
    puVar1 = (uint *)((int)this + 4);
  }
  else {
    puVar1 = (uint *)((int)this + 0x48);
    this = (void *)((int)this + 0x44);
  }
                    /* WARNING: Load size is inaccurate */
  iVar2 = 0;
  if (0 < *this) {
    do {
      iVar2 = iVar2 + 1;
      *puVar1 = *puVar1 & 0x7fffffff;
                    /* WARNING: Load size is inaccurate */
      puVar1 = puVar1 + 1;
    } while (iVar2 < *this);
  }
  return;
}



/*
 * Function: FUN_00403860
 * Address: 00403860
 */

void __thiscall
FUN_00403860(void *this,int param_1,int param_2,long param_3,long param_4,int param_5,int param_6)

{
  uint uVar1;
  int iVar2;
  
  iVar2 = (int)this + 4;
  if (param_1 != 1) {
    iVar2 = (int)this + 0x48;
  }
  uVar1 = *(uint *)(iVar2 + param_2 * 4);
  if ((uVar1 & 0x80000000) == 0) {
    param_1 = ((int)uVar1 >> 0x10 & 0xfU) * 0xd + -1 + (uVar1 & 0xffff);
  }
  else {
    param_1 = 0x35;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_3,param_4,0xf,0x36,-1,4,param_5 + -3,param_6 + 3,1000,1000,500,1000,
             0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_3,param_4,0xf,param_1,-1,4,param_5,param_6,1000,1000,1000,1000,0,
             1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  return;
}



/*
 * Function: FUN_00403950
 * Address: 00403950
 */

undefined4 FUN_00403950(long param_1,int param_2,int param_3,int param_4,int param_5)

{
  if ((-1 < param_4) && (param_4 < 10)) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xb,5,param_4 + 0x13,-1,4,param_2 - (param_5 << 3) / 1000,
               param_3 - (param_5 * 0xc) / 1000,param_5,param_5,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_004039f0
 * Address: 004039f0
 */

undefined4 __thiscall FUN_004039f0(int param_1_00,int param_1)

{
  long lVar1;
  int iVar2;
  void *this;
  int iVar3;
  int iVar4;
  RKC_RPG_TABLEDATA *this_00;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint *puVar9;
  longlong lVar10;
  undefined8 uVar11;
  long lVar12;
  long lVar13;
  short sVar14;
  short sVar15;
  short sVar16;
  tagRECT *ptVar17;
  RKC_DIB *pRVar18;
  int iStack_5c;
  tagRECT tStack_54;
  tagRECT local_44;
  tagRECT tStack_34;
  int local_24 [9];
  
  lVar1 = param_1;
  local_24[0] = 0;
  local_24[1] = 0;
  local_24[2] = 0x3c;
  local_24[3] = 0;
  local_24[4] = 0x38;
  local_24[5] = 0x41;
  local_24[6] = 0x33;
  local_24[7] = 0x3c;
  local_24[8] = 0x45;
  iVar2 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
  if (*(int *)(iVar2 + 0x458) != 0) {
    iVar7 = *(int *)(iVar2 + 4) + 16000000;
    this = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
    iVar7 = FUN_004299e0(this,iVar7);
    if (iVar7 != 0) {
      iVar3 = FUN_00434cd0(iVar7);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xb,5,0x1e,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar7 = *(int *)(iVar3 + 0xfc);
      if (0 < iVar7) {
        param_1 = (iVar7 * 0x6d) / *(int *)(iVar3 + 0xf8);
        if (iVar7 == *(int *)(iVar3 + 0xf8)) {
          param_1 = 0x6d;
        }
        else if (param_1 == 0) goto LAB_00403ba1;
        sVar14 = 1000;
        if ((param_1 * 100) / 0x6d < 0x1e) {
          uVar8 = *(uint *)(param_1_00 + 0xa0a4) & 0x80000003;
          if ((int)uVar8 < 0) {
            uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
          }
          if ((int)uVar8 < 2) {
            sVar14 = 0x5dc;
          }
        }
        SetRect(&local_44,0x6e - param_1,0x18c,0x6d,0x196);
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,lVar1,0xb,5,0x1d,-1,0x24,0,0,1000,1000,1000,1000,0,sVar14,sVar14,
                   sVar14,&local_44,(RKC_DIB *)0x0);
      }
    }
LAB_00403ba1:
    if (*(int *)(iVar2 + 0x15a0) == 1) {
      lVar12 = 0x20;
    }
    else {
      lVar12 = 0x1f;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,lVar12,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,0xb,5,7,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0
             ,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,0xb,5,8,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0
             ,(RKC_DIB *)0x0);
  if (*(int *)(param_1_00 + 0xa07c) != 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0x11,-1,4,0,0,1000,1000,300,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    *(undefined4 *)(param_1_00 + 0xa07c) = 0;
  }
  if (*(int *)(param_1_00 + 0xa080) != 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0x12,-1,4,0,0,1000,1000,300,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    *(undefined4 *)(param_1_00 + 0xa080) = 0;
  }
  if (*(int *)(param_1_00 + 0xa084) != 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0x10,-1,4,0,0,1000,1000,300,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    *(undefined4 *)(param_1_00 + 0xa084) = 0;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,0xb,5,0xb - (uint)(*(int *)(param_1_00 + 0xa08c) != 0),-1,5,0,0,1000
             ,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  if (*(int *)(param_1_00 + 0xa038) == -1) {
    *(undefined4 *)(param_1_00 + 0xa038) = *(undefined4 *)(iVar2 + 0x194);
  }
  iVar7 = *(int *)(param_1_00 + 0xa038);
  if (iVar7 != *(int *)(iVar2 + 0x194)) {
    if (iVar7 < 0x2718) {
      if (iVar7 < 10000) {
        *(undefined4 *)(param_1_00 + 0xa038) = 10000;
      }
      else {
        *(int *)(param_1_00 + 0xa038) = iVar7 + 1;
      }
    }
    else {
      *(int *)(param_1_00 + 0xa038) = *(int *)(iVar2 + 0x194);
    }
  }
  iVar7 = *(int *)(iVar2 + 0x194);
  uVar8 = (uint)(9 < iVar7);
  if (99 < iVar7) {
    uVar8 = 2;
  }
  iVar3 = *(int *)(param_1_00 + 0xa038);
  if (iVar3 == 10000) {
    iVar3 = 0x5dc;
  }
  else if ((iVar3 < 0x2711) || (0x2713 < iVar3)) {
    iVar3 = 1000;
  }
  else {
    iVar3 = iVar3 * -0xa6 + 0x195ae2;
  }
  FUN_00403950(lVar1,local_24[uVar8 * 3 + 2] + 8,0x1dd,iVar7 % 10,iVar3);
  if (9 < *(int *)(iVar2 + 0x194)) {
    iVar7 = *(int *)(param_1_00 + 0xa038);
    if (iVar7 == 0x2714) {
      iVar7 = 0x5dc;
    }
    else if ((iVar7 < 0x2715) || (0x2717 < iVar7)) {
      iVar7 = 1000;
    }
    else {
      iVar7 = iVar7 * -0xa6 + 0x195cd4;
    }
    FUN_00403950(lVar1,local_24[uVar8 * 3 + 1] + 8,0x1dd,(*(int *)(iVar2 + 0x194) / 10) % 10,iVar7);
  }
  if (99 < *(int *)(iVar2 + 0x194)) {
    iVar7 = *(int *)(param_1_00 + 0xa038);
    if (iVar7 == 0x2718) {
      iVar7 = 0x5dc;
    }
    else if ((iVar7 < 0x2719) || (0x271b < iVar7)) {
      iVar7 = 1000;
    }
    else {
      iVar7 = iVar7 * -0xa6 + 0x195f6c;
    }
    FUN_00403950(lVar1,local_24[uVar8 * 3] + 8,0x1dd,(*(int *)(iVar2 + 0x194) / 100) % 10,iVar7);
  }
  iStack_5c = (*(int *)(iVar2 + 0x1a4) * 0xce) / *(int *)(iVar2 + 0x1a0);
  if ((*(int *)(iVar2 + 0x1a4) != 0) && (iStack_5c == 0)) {
    iStack_5c = 1;
  }
  iVar7 = *(int *)(param_1_00 + 41000);
  if (iStack_5c < iVar7) {
    *(int *)(param_1_00 + 41000) = iVar7 + -2;
    if (iVar7 + -2 < iStack_5c) {
      *(int *)(param_1_00 + 41000) = iStack_5c;
    }
    SetRect(&tStack_54,iStack_5c + 0x51,0x1a9,*(int *)(param_1_00 + 41000) + 0x50,0x1b4);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,2,-1,0x25,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               &tStack_54,(RKC_DIB *)0x0);
    SetRect(&tStack_54,0x51,0x1a9,iStack_5c + 0x50,0x1b4);
LAB_0040412f:
    lVar12 = 0;
  }
  else {
    if (iStack_5c <= iVar7) {
      SetRect(&tStack_54,0x51,0x1a9,iStack_5c + 0x50,0x1b4);
      goto LAB_0040412f;
    }
    *(int *)(param_1_00 + 41000) = iVar7 + 2;
    if (iStack_5c < iVar7 + 2) {
      *(int *)(param_1_00 + 41000) = iStack_5c;
    }
    SetRect(&tStack_54,0x51,0x1a9,iStack_5c + 0x50,0x1b4);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0,-1,0x25,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               &tStack_54,(RKC_DIB *)0x0);
    SetRect(&tStack_54,*(int *)(param_1_00 + 41000) + 0x51,0x1a9,iStack_5c + 0x50,0x1b4);
    lVar12 = 1;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,0xb,5,lVar12,-1,0x25,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             &tStack_54,(RKC_DIB *)0x0);
  param_1 = 0;
  lVar12 = RKC_DBFCONTROL::GetFramePerSecond(DAT_00482d18);
  if (0 < lVar12 << 1) {
    puVar9 = (uint *)(param_1_00 + 0xa2d4);
    do {
      uVar8 = puVar9[-0x80];
      if (uVar8 == 0) {
        uVar8 = _rand();
        uVar8 = (uVar8 & 0x7f) / 0x78;
        puVar9[-0x80] = uVar8;
        if (uVar8 != 0) {
          uVar8 = _rand();
          *puVar9 = (uVar8 & 7) + 5;
          uVar8 = _rand();
          puVar9[0x80] = uVar8 & 7;
        }
      }
      else {
        iVar7 = (int)(uVar8 * uVar8 * *puVar9) / 200;
        if (iVar7 < iStack_5c + -3) {
          pRVar18 = (RKC_DIB *)0x0;
          ptVar17 = (tagRECT *)0x0;
          sVar16 = 1000;
          sVar15 = 1000;
          iVar4 = ((*puVar9 & 1) * -7 + 0x16) * *puVar9;
          sVar14 = 1000;
          lVar13 = 0;
          lVar12 = 1000;
          iVar6 = ((*puVar9 & 1) * 5 + 5) * 200;
          iVar3 = iVar6;
          uVar8 = _rand();
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar1,10,5,6,-1,7,iVar7 + 0x53,(uVar8 & 1) + 0x1ab + puVar9[0x80],
                     iVar6,iVar3,iVar4,lVar12,lVar13,sVar14,sVar15,sVar16,ptVar17,pRVar18);
          puVar9[-0x80] = puVar9[-0x80] + 1;
        }
        else {
          puVar9[-0x80] = 0;
        }
      }
      puVar9 = puVar9 + 1;
      param_1 = param_1 + 1;
      lVar12 = RKC_DBFCONTROL::GetFramePerSecond(DAT_00482d18);
    } while (SBORROW4(param_1,lVar12 * 2) != param_1 + lVar12 * -2 < 0);
  }
  iStack_5c = (*(int *)(iVar2 + 0x1ac) * 0xce) / *(int *)(iVar2 + 0x1a8);
  if ((*(int *)(iVar2 + 0x1ac) != 0) && (iStack_5c == 0)) {
    iStack_5c = 1;
  }
  iVar7 = *(int *)(param_1_00 + 0xa02c);
  if (iStack_5c < iVar7) {
    *(int *)(param_1_00 + 0xa02c) = iVar7 + -4;
    if (iStack_5c <= iVar7 + -4) goto LAB_00404318;
  }
  else if ((iStack_5c <= iVar7) ||
          (*(int *)(param_1_00 + 0xa02c) = iVar7 + 4, iVar7 + 4 <= iStack_5c)) goto LAB_00404318;
  *(int *)(param_1_00 + 0xa02c) = iStack_5c;
LAB_00404318:
  SetRect(&tStack_34,0x6a,0x1c4,*(int *)(param_1_00 + 0xa02c) + 0x69,0x1cf);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,0xb,5,3,-1,0x25,0,0,1000,1000,1000,1000,0,1000,1000,1000,&tStack_34,
             (RKC_DIB *)0x0);
  param_1 = 0;
  lVar12 = RKC_DBFCONTROL::GetFramePerSecond(DAT_00482d18);
  if (0 < lVar12 << 1) {
    puVar9 = (uint *)(param_1_00 + 0xa3d4);
    do {
      uVar8 = puVar9[-0x80];
      if (uVar8 == 0) {
        uVar8 = _rand();
        uVar8 = (uVar8 & 0x7f) / 0x78;
        puVar9[-0x80] = uVar8;
        if (uVar8 == 1) {
          uVar8 = _rand();
          *puVar9 = (uVar8 & 7) + 5;
          uVar8 = _rand();
          puVar9[0x80] = uVar8 & 7;
        }
      }
      else {
        uVar5 = *puVar9;
        iVar7 = (int)(uVar8 * uVar8 * uVar5) / 200;
        if (iVar7 < iStack_5c + -3) {
          pRVar18 = (RKC_DIB *)0x0;
          ptVar17 = (tagRECT *)0x0;
          sVar16 = 1000;
          sVar15 = 1000;
          iVar4 = ((uVar5 & 1) * -7 + 0x16) * uVar5;
          sVar14 = 1000;
          lVar13 = 0;
          lVar12 = 1000;
          iVar6 = ((uVar5 & 1) * 5 + 5) * 200;
          iVar3 = iVar6;
          uVar8 = _rand();
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar1,10,5,6,-1,7,iVar7 + 0x6c,(uVar8 & 1) + 0x1c6 + puVar9[0x80],
                     iVar6,iVar3,iVar4,lVar12,lVar13,sVar14,sVar15,sVar16,ptVar17,pRVar18);
          puVar9[-0x80] = puVar9[-0x80] + 1;
        }
        else {
          puVar9[-0x80] = 0;
        }
      }
      puVar9 = puVar9 + 1;
      param_1 = param_1 + 1;
      lVar12 = RKC_DBFCONTROL::GetFramePerSecond(DAT_00482d18);
    } while (SBORROW4(param_1,lVar12 * 2) != param_1 + lVar12 * -2 < 0);
  }
  if (*(int *)(param_1_00 + 0xa7e4) == 0) {
    if (*(int *)(iVar2 + 0x328) != 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,lVar1,0xb,5,9,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
  }
  else {
    *(int *)(param_1_00 + 0xa7e4) = *(int *)(param_1_00 + 0xa7e4) + -1;
  }
  iVar7 = FUN_00451a00(iVar2);
  if (iVar7 == 1) {
    uVar8 = *(uint *)(param_1_00 + 0xa7ec) & 0x80000003;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
    }
    sVar14 = ((1 < (int)uVar8) - 1 & 200) + 800;
    *(uint *)(param_1_00 + 0xa7ec) = *(uint *)(param_1_00 + 0xa7ec) + 1;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0xc,-1,4,0,0,1000,1000,1000,1000,0,sVar14,sVar14,sVar14,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  else if (*(int *)(param_1_00 + 0xa930) != 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0xd,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    *(int *)(param_1_00 + 0xa930) = *(int *)(param_1_00 + 0xa930) + -1;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,0xb,5,0xf,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  if (*(int *)(iVar2 + 0x34) != 100) {
    this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xd);
    uVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,*(int *)(iVar2 + 0x34) + -1,0);
    uVar8 = *(uint *)(iVar2 + 0xe8);
    lVar10 = __allmul(uVar8,0,0x6d,0);
    uVar11 = __alldiv((uint)lVar10,(uint)((ulonglong)lVar10 >> 0x20),uVar5,(int)uVar5 >> 0x1f);
    iVar2 = (int)uVar11;
    if (uVar8 < uVar5) {
      if (iVar2 == 0) {
        return 1;
      }
    }
    else {
      iVar2 = 0x6d;
    }
    sVar14 = 1000;
    if (0x59 < (iVar2 * 100) / 0x6d) {
      uVar8 = *(uint *)(param_1_00 + 0xa0a4) & 0x80000003;
      if ((int)uVar8 < 0) {
        uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
      }
      if ((int)uVar8 < 2) {
        sVar14 = 0x5dc;
      }
    }
    SetRect(&local_44,0x212,0x18b,iVar2 + 0x211,0x194);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,lVar1,0xb,5,0xe,-1,0x24,0,0,1000,1000,1000,1000,0,sVar14,sVar14,sVar14,
               &local_44,(RKC_DIB *)0x0);
  }
  return 1;
}



/*
 * Function: FUN_00404760
 * Address: 00404760
 */

void __thiscall
FUN_00404760(void *this,uint param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5,
            int param_6,int param_7,int param_8,int param_9,int param_10,int param_11,char *param_12
            ,char *param_13,char *param_14,char *param_15,char *param_16,char *param_17,
            char *param_18,char *param_19,undefined *param_20,undefined *param_21,
            undefined *param_22,undefined *param_23,undefined *param_24,char *param_25,
            char *param_26,undefined *param_27,undefined *param_28,char *param_29,
            undefined *param_30,undefined *param_31,undefined *param_32,undefined *param_33,
            undefined *param_34,undefined *param_35,char *param_36,undefined *param_37,
            undefined *param_38,undefined *param_39,undefined *param_40,undefined *param_41,
            char *param_42,char *param_43,undefined *param_44,undefined *param_45,char *param_46,
            undefined *param_47,undefined *param_48,undefined *param_49,undefined *param_50,
            undefined *param_51,undefined *param_52,char *param_53)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  long lVar4;
  int unaff_EBX;
  int unaff_EBP;
  int iVar5;
  int unaff_ESI;
  int unaff_EDI;
  RKC_RPG_TABLEDATA *unaff_retaddr;
  int *in_stack_fffffff8;
  
  uVar1 = param_1;
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  iVar3 = iVar2;
  if ((*(int *)((int)this + 0xa044) == 1) || (*(int *)((int)this + 0xa04c) == 1)) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,(*(int *)((int)this + 0xa044) != 1) + 5,-1,5,0,0,1000,1000
               ,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    FUN_00405750(param_1,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,(int)in_stack_fffffff8,iVar3,
                 unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,
                 param_9,param_10,param_11,param_12,param_13,param_14,param_15,param_16,param_17,
                 param_18,param_19,param_20,param_21,param_22,param_23,param_24,param_25,param_26,
                 param_27,param_28,param_29,param_30,param_31,param_32,param_33,param_34,param_35,
                 param_36,param_37,param_38,param_39,param_40,param_41,param_42,param_43,param_44,
                 param_45,param_46,param_47,param_48,param_49,param_50,param_51,param_52,param_53);
    FUN_00407a60(this,param_1);
  }
  if ((*(int *)((int)this + 0xa054) == 1) || (*(int *)((int)this + 0xa058) == 1)) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0xe,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0xf,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    if (*(int *)((int)this + 0xa058) == 1) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x49,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar5 = 0;
      in_stack_fffffff8 = (int *)(iVar3 + 0x55c);
      param_1 = 0x18;
      iVar2 = iVar3;
      do {
        if (*in_stack_fffffff8 == 1) {
          if (*(int *)(iVar2 + 0x558) == iVar5) {
            iVar3 = iVar5 + 0x55;
          }
          else {
            iVar3 = iVar5 + 0x4b;
          }
        }
        else {
          iVar3 = 0x4a;
        }
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,uVar1,0xe,4,iVar3,-1,5,param_1,0x29,1000,1000,1000,1000,0,1000,1000,
                   1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
        param_1 = param_1 + 0x18;
        iVar5 = iVar5 + 1;
        in_stack_fffffff8 = in_stack_fffffff8 + 1;
        iVar3 = iVar2;
      } while (iVar5 < 10);
    }
    if (*(int *)((int)this + 0xa054) == 1) {
      FUN_00409000(this,uVar1,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,in_stack_fffffff8,iVar3,
                   (int)unaff_retaddr,param_1,param_2,param_3);
    }
    if (*(int *)((int)this + 0xa058) == 1) {
      FUN_004090b0(this,uVar1,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,in_stack_fffffff8,iVar3,
                   (int)unaff_retaddr,param_1,param_2,param_3);
    }
  }
  if (*(int *)((int)this + 0xa050) == 1) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,7,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,8,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,9,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    FUN_00408f50(this,uVar1,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,in_stack_fffffff8,iVar3,
                 (int)unaff_retaddr,param_1,param_2,param_3);
  }
  if (*(int *)((int)this + 0xa074) != 0) {
    FUN_0040f900(this,uVar1);
    FUN_00408db0(this,uVar1,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,in_stack_fffffff8,iVar3,
                 (int)unaff_retaddr,param_1,param_2,param_3);
  }
  if (*(int *)((int)this + 0xa048) == 1) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,2,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,3,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,(uint)(*(int *)(iVar2 + 0x188) != 1),-1,5,0,0,1000,1000,1000
               ,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    lVar4 = 0x74;
    iVar5 = **(int **)(iVar2 + 0x3fc);
    if ((((0x176 < iVar5) && (iVar5 < 0x1bb)) &&
        (iVar5 = (*(int **)(iVar2 + 0x3fc))[1], 0x188 < iVar5)) && (iVar5 < 0x193)) {
      lVar4 = 0x75;
    }
    if (*(int *)(iVar2 + 0x588) != 0) {
      lVar4 = 0x74;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xe,4,lVar4,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    FUN_00406aa0(this,uVar1,-1);
    FUN_00408a80(this,uVar1,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,in_stack_fffffff8,iVar3);
  }
  FUN_00407170(this,uVar1);
  if (*(int *)((int)this + 0xa05c) != 0) {
    FUN_0040c950(this,uVar1);
  }
  if (*(int *)((int)this + 0xa060) != 0) {
    FUN_0040cea0(this,uVar1);
  }
  if (*(int *)((int)this + 0xa070) == 0) {
    *(undefined4 *)((int)this + 0xa994) = 0;
  }
  else {
    FUN_0040d4d0(this,uVar1);
  }
  if (*(int *)((int)this + 0xa078) != 0) {
    FUN_0040da90(this,uVar1,0);
  }
  if (*(int *)((int)this + 0xa064) != 0) {
    FUN_0040e710(this,uVar1,0);
  }
  if (*(int *)((int)this + 0xa068) != 0) {
    FUN_004103c0(uVar1,**(undefined4 **)(iVar2 + 0x3fc),(*(undefined4 **)(iVar2 + 0x3fc))[1],0,0);
  }
  if (((((*(int *)((int)this + 0xa06c) == 0) ||
        (FUN_0040f9e0(this,uVar1,**(int **)(iVar2 + 0x3fc),(*(int **)(iVar2 + 0x3fc))[1],0),
        *(int *)((int)this + 0xa06c) == 0)) &&
       ((*(int *)((int)this + 0xa074) == 0 &&
        ((*(int *)((int)this + 0xa044) == 0 && (*(int *)((int)this + 0xa04c) == 0)))))) &&
      (*(int *)((int)this + 0xa054) == 0)) &&
     (((((*(int *)((int)this + 0xa050) == 0 && (*(int *)((int)this + 0xa048) == 0)) &&
        (*(int *)((int)this + 0xa05c) == 0)) &&
       ((*(int *)((int)this + 0xa060) == 0 && (*(int *)((int)this + 0xa068) == 0)))) &&
      ((*(int *)((int)this + 0xa064) == 0 &&
       ((*(int *)((int)this + 0xa070) == 0 && (*(int *)((int)this + 0xa058) == 0)))))))) {
    if (*(int *)((int)this + 0xa0a8) == 2) {
      *(undefined4 *)((int)this + 0xa0a8) = 4;
    }
  }
  else if (*(int *)((int)this + 0xa0a8) == 0) {
    *(undefined4 *)((int)this + 0xa0a8) = 1;
  }
  FUN_004088b0(this,uVar1);
  if (DAT_0048ce40 == 0) {
    *(undefined4 *)((int)this + 0xa710) = 0xffffffff;
  }
  if (*(int *)(*(int *)(iVar2 + 0x3f8) + 8) == 0) {
    if (*(int *)((int)this + 0xa710) != -1) {
      FUN_00404e40(this,**(int **)(iVar2 + 0x3fc),(*(int **)(iVar2 + 0x3fc))[1]);
    }
    *(undefined4 *)((int)this + 0xa710) = 0xffffffff;
  }
  if (*(int *)((int)this + 0xa710) != -1) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,uVar1,0xc,9,*(int *)((int)this + 0xa710) + 2,-1,5,
               **(int **)(iVar2 + 0x3fc) + -3,(*(int **)(iVar2 + 0x3fc))[1] + -3,1000,1000,1000,1000
               ,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  FUN_00404ee0(this,uVar1);
  FUN_004050f0(this,uVar1,0);
  return;
}



/*
 * Function: FUN_00404e40
 * Address: 00404e40
 */

void __thiscall FUN_00404e40(void *this,int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int local_4;
  
  iVar3 = 0x1d;
  local_4 = 8;
  piVar4 = (int *)((int)this + 0xa714);
  do {
    if ((((iVar3 <= param_1) && (param_1 < iVar3 + 0x20)) && (0x163 < param_2)) && (param_2 < 0x184)
       ) {
      iVar2 = 8;
      piVar1 = (int *)((int)this + 0xa714);
      do {
        if (*piVar1 == *(int *)((int)this + 0xa710)) {
          *piVar1 = -1;
        }
        piVar1 = piVar1 + 1;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
      *piVar4 = *(int *)((int)this + 0xa710);
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
    iVar3 = iVar3 + 0x20;
    piVar4 = piVar4 + 1;
    local_4 = local_4 + -1;
  } while (local_4 != 0);
  return;
}



/*
 * Function: FUN_00404ee0
 * Address: 00404ee0
 */

void __thiscall FUN_00404ee0(void *this,long param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  bool bVar6;
  uint local_14;
  uint local_c [3];
  
  FUN_00416fb0(local_c);
  if ((local_c[0] != 0x11) || (*(int *)((int)this + 0xa734) != 1)) {
    iVar5 = 0xe0;
    if (local_c[0] == 0x10) {
      iVar5 = 0x158;
    }
    else if (local_c[0] == 1) {
      iVar5 = 0x7c;
    }
    piVar4 = (int *)((int)this + 0xa714);
    local_14 = 0;
    do {
      uVar3 = local_14 & 0x80000003;
      bVar6 = uVar3 == 0;
      if ((int)uVar3 < 0) {
        bVar6 = (uVar3 - 1 | 0xfffffffc) == 0xffffffff;
      }
      if (bVar6) {
        iVar5 = iVar5 + 4;
      }
      if (*piVar4 == -1) {
LAB_00405004:
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,param_1,0xd,10,3,-1,5,iVar5,0x188,1000,1000,1000,1000,0,1000,1000,
                   1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar5 = iVar5 + 0x10;
      }
      else {
        iVar1 = FUN_00434cb0(DAT_0048ce0c);
        iVar2 = *piVar4;
        if (*(int *)(iVar1 + 0x1440 + iVar2 * 4) != 3) goto LAB_00405004;
        iVar1 = FUN_00434cb0(DAT_0048ce0c);
        if (iVar2 == *(int *)(iVar1 + 0x127c)) {
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,param_1,0xd,9,iVar2 + 2,-1,5,iVar5,0x17e,1000,1000,1000,1000,0,
                     1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
          iVar5 = iVar5 + 0x1a;
        }
        else {
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,param_1,0xd,10,iVar2 + 4,-1,5,iVar5,0x188,1000,1000,1000,1000,0,
                     1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
          iVar5 = iVar5 + 0x10;
        }
      }
      piVar4 = piVar4 + 1;
      local_14 = local_14 + 1;
    } while ((int)local_14 < 8);
    iVar2 = FUN_00434cb0(DAT_0048ce0c);
    if (*(int *)(iVar2 + 0x1288) == 1) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xd,9,0,-1,5,iVar5 + 4,0x17e,1000,1000,1000,1000,0,1000,1000,
                 1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      return;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xd,10,2,-1,5,iVar5 + 4,0x188,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  return;
}



/*
 * Function: FUN_004050f0
 * Address: 004050f0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_004050f0(void *this,long param_1,int param_2)

{
  char cVar1;
  int iVar2;
  void *pvVar3;
  int iVar4;
  RKC_RPG_TABLEDATA *pRVar5;
  char *pcVar6;
  uint uVar7;
  int *piVar8;
  int iVar9;
  int local_114;
  uint local_110;
  byte local_10c [12];
  char acStack_100 [256];
  
  FUN_00416fb0((uint *)local_10c);
  if ((local_10c[0] & 1) != 0) {
    return 0;
  }
  if (param_2 == 1) {
    iVar2 = FUN_00434cb0(DAT_0048ce0c);
    local_110 = **(uint **)(iVar2 + 0x3fc);
    iVar2 = FUN_00434cb0(DAT_0048ce0c);
    local_114 = *(int *)(*(int *)(iVar2 + 0x3fc) + 4);
  }
  iVar9 = 10;
  iVar2 = -0x18;
  pvVar3 = (void *)FUN_00434cb0(DAT_0048ce0c);
  iVar9 = FUN_0044faa0(pvVar3,iVar9);
  if (iVar9 == 1) {
    if (param_2 == 0) {
      iVar2 = 0;
      pvVar3 = (void *)FUN_00434cb0(DAT_0048ce0c);
      iVar2 = FUN_0044faa0(pvVar3,iVar2);
      if ((iVar2 == 1) || (*(int *)((int)this + 0xa0a4) % 0x14 < 10)) {
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,param_1,0xd,0xb,2,-1,4,0x268,0x168,1000,1000,1000,1000,0,1000,1000,
                   1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      }
    }
    else if ((((0x267 < (int)local_110) && ((int)local_110 < 0x280)) && (0x16f < local_114)) &&
            (local_114 < 0x180)) {
      if ((DAT_0048ce44 == 0) && (DAT_0048ce6c == 0)) {
        if (DAT_0048ce3c == 0) {
          _DAT_0048ce30 = 0;
          DAT_0048ce50 = 0;
          DAT_0048ce54 = 0;
          DAT_0048ce64 = 0;
          DAT_0048ce58 = 0;
          DAT_0048ce3c = 1;
          return 1;
        }
        DAT_0048ce3c = 0;
      }
      return 1;
    }
    iVar2 = -0x30;
  }
  iVar4 = 0;
  iVar9 = *(int *)((int)this + 0xa0c0);
  if (0 < iVar9) {
    piVar8 = *(int **)((int)this + 0xa0c4);
    do {
      if (*piVar8 == 1) break;
      iVar4 = iVar4 + 1;
      piVar8 = piVar8 + 1;
    } while (iVar4 < iVar9);
  }
  if (iVar4 != iVar9) {
    if (param_2 == 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xd,0xb,0,-1,4,iVar2 + 0x280,0x168,1000,1000,1000,1000,0,1000,
                 1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      goto LAB_004053b3;
    }
    if ((((iVar2 + 0x280 <= (int)local_110) && ((int)local_110 < iVar2 + 0x298)) &&
        (0x16f < local_114)) && (local_114 < 0x180)) {
      if (DAT_0048ce44 != 0) {
        return 1;
      }
      if (DAT_0048ce6c == 0) {
        if (DAT_0048ce54 != 0) {
          DAT_0048ce54 = 0;
          return 1;
        }
        FUN_004170f0();
        DAT_0048ce54 = 1;
        _DAT_0048d770 = 0xffffffff;
        return 1;
      }
      return 1;
    }
  }
  if (param_2 != 0) {
    if (*(int *)((int)this + 0xa90c) == 0) {
      return 0;
    }
    pRVar5 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x29);
    if (pRVar5 == (RKC_RPG_TABLEDATA *)0x0) {
      return 0;
    }
    pcVar6 = RKC_RPG_TABLEDATA::GetStrings(pRVar5,*(long *)((int)this + 0xa908),0);
    if (pcVar6 == (char *)0x0) {
      return 0;
    }
    FUN_00467d51(acStack_100,&DAT_0047d530);
    uVar7 = 0xffffffff;
    pcVar6 = acStack_100;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    iVar2 = iVar2 + (0x6a - (~uVar7 - 1)) * 6;
    if ((int)local_110 < iVar2) {
      return 0;
    }
    uVar7 = 0xffffffff;
    pcVar6 = acStack_100;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    if (iVar2 + (~uVar7 - 1) * 6 <= local_110) {
      return 0;
    }
    if (local_114 < 0x170) {
      return 0;
    }
    if (0x17b < local_114) {
      return 0;
    }
    if (DAT_0048ce44 == 0) {
      if (DAT_0048ce6c != 0) {
        return 1;
      }
      if (DAT_0048ce54 != 0) {
        DAT_0048ce54 = 0;
        return 1;
      }
      FUN_004170f0();
      DAT_0048ce54 = 1;
      return 1;
    }
    return 1;
  }
LAB_004053b3:
  if (*(int *)((int)this + 0xa90c) != 0) {
    pRVar5 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x29);
    if ((pRVar5 != (RKC_RPG_TABLEDATA *)0x0) &&
       (pcVar6 = RKC_RPG_TABLEDATA::GetStrings(pRVar5,*(long *)((int)this + 0xa908),0),
       pcVar6 != (char *)0x0)) {
      FUN_00467d51(acStack_100,&DAT_0047d530);
      uVar7 = 0xffffffff;
      pcVar6 = acStack_100;
      do {
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        cVar1 = *pcVar6;
        pcVar6 = pcVar6 + 1;
      } while (cVar1 != '\0');
      iVar2 = iVar2 + (0x6a - (~uVar7 - 1)) * 6;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xd,1,iVar2 + 1,0x171,acStack_100,'\0','\0','\0',4,0,0,1,1000)
      ;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xd,1,iVar2,0x170,acStack_100,0xe0,0xe0,0xe0,4,0,0,1,1000);
    }
    *(int *)((int)this + 0xa90c) = *(int *)((int)this + 0xa90c) + -1;
  }
  return 0;
}



/*
 * Function: FUN_00405590
 * Address: 00405590
 */

void FUN_00405590(long param_1,long param_2,int param_3,int param_4,int param_5,int param_6)

{
  uchar uVar1;
  uchar uVar2;
  int iVar3;
  undefined2 local_1a;
  undefined *local_18;
  undefined2 local_14;
  uchar local_10 [8];
  uchar local_8 [8];
  
  local_1a = DAT_0047d538;
  local_8[0] = 0xe0;
  local_8[1] = '\0';
  local_8[2] = 0xe0;
  local_8[3] = '\0';
  local_8[4] = 0xe0;
  local_8[5] = '\0';
  local_10[0] = 0xe0;
  local_10[1] = '\0';
  local_10[2] = '@';
  local_10[3] = '\0';
  local_10[4] = 0xc0;
  local_10[5] = '\0';
  local_18 = &UNK_004000e0;
  local_14 = 0x80;
  if (param_3 != 0) {
    uVar1 = *(uchar *)((int)&local_18 + param_6 * 2);
    uVar2 = local_10[param_6 * 2];
    local_18 = (undefined *)CONCAT31(0x4000,local_8[param_6 * 2]);
    iVar3 = param_4 + 1;
    do {
      param_4 = param_4 + -8;
      iVar3 = iVar3 + -8;
      local_1a = CONCAT11(local_1a._1_1_,(char)(param_3 % 10) + '0');
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,param_2,1,iVar3,param_5 + 3,(char *)&local_1a,'\0','\0','\0',4
                 ,0,0,1,1000);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,param_2,1,param_4,param_5 + 2,(char *)&local_1a,
                 (uchar)local_18,uVar2,uVar1,4,0,0,1,1000);
      param_3 = param_3 / 10;
    } while (param_3 != 0);
    return;
  }
  local_1a._1_1_ = (undefined)((ushort)DAT_0047d538 >> 8);
  local_1a = CONCAT11(local_1a._1_1_,0x30);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,param_2,1,param_4 + -7,param_5 + 3,(char *)&local_1a,'\0','\0',
             '\0',4,0,0,1,1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,param_2,1,param_4 + -8,param_5 + 2,(char *)&local_1a,
             local_8[param_6 * 2],local_10[param_6 * 2],*(uchar *)((int)&local_18 + param_6 * 2),4,0
             ,0,1,1000);
  return;
}



/*
 * Function: FUN_00405750
 * Address: 00405750
 */

void FUN_00405750(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,
                 int param_7,RKC_RPG_TABLEDATA *param_8,int param_9,undefined4 param_10,
                 undefined4 param_11,int param_12,int param_13,int param_14,int param_15,
                 int param_16,int param_17,int param_18,int param_19,char *param_20,char *param_21,
                 char *param_22,char *param_23,char *param_24,char *param_25,char *param_26,
                 char *param_27,undefined *param_28,undefined *param_29,undefined *param_30,
                 undefined *param_31,undefined *param_32,char *param_33,char *param_34,
                 undefined *param_35,undefined *param_36,char *param_37,undefined *param_38,
                 undefined *param_39,undefined *param_40,undefined *param_41,undefined *param_42,
                 undefined *param_43,char *param_44,undefined *param_45,undefined *param_46,
                 undefined *param_47,undefined *param_48,undefined *param_49,char *param_50,
                 char *param_51,undefined *param_52,undefined *param_53,char *param_54,
                 undefined *param_55,undefined *param_56,undefined *param_57,undefined *param_58,
                 undefined *param_59,undefined *param_60,char *param_61)

{
  char cVar1;
  void *this;
  int iVar2;
  int *piVar3;
  long lVar4;
  int extraout_ECX;
  int iVar5;
  RKC_RPG_TABLEDATA *pRVar6;
  uint uVar7;
  uint uVar8;
  code *pcVar9;
  undefined4 *puVar10;
  char *pcVar11;
  char *pcVar12;
  char *pcVar13;
  undefined1 unaff_retaddr;
  int in_stack_00000150;
  int in_stack_0000016c;
  int in_stack_00000170;
  int in_stack_00000174;
  int in_stack_00000178;
  int in_stack_0000017c;
  int in_stack_00000180;
  int in_stack_00000184;
  int in_stack_00000188;
  long in_stack_0000128c;
  int iVar14;
  
  FUN_00467f60(unaff_retaddr);
  puVar10 = (undefined4 *)&stack0x00000289;
  for (iVar5 = 0x3ff; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar10 = 0;
    puVar10 = puVar10 + 1;
  }
  *(undefined2 *)puVar10 = 0;
  *(undefined *)((int)puVar10 + 2) = 0;
  param_28 = &DAT_0048d9f0;
  param_29 = &DAT_0048d9f0;
  param_30 = &DAT_0048d9f0;
  param_31 = &DAT_0048d9f0;
  param_32 = &DAT_0048d9f0;
  param_35 = &DAT_0048d9f0;
  param_36 = &DAT_0048d9f0;
  param_38 = &DAT_0048d9f0;
  param_39 = &DAT_0048d9f0;
  param_40 = &DAT_0048d9f0;
  param_41 = &DAT_0048d9f0;
  param_42 = &DAT_0048d9f0;
  param_43 = &DAT_0048d9f0;
  param_45 = &DAT_0048d9f0;
  param_46 = &DAT_0048d9f0;
  param_47 = &DAT_0048d9f0;
  param_48 = &DAT_0048d9f0;
  param_49 = &DAT_0048d9f0;
  param_52 = &DAT_0048d9f0;
  param_53 = &DAT_0048d9f0;
  param_55 = &DAT_0048d9f0;
  param_56 = &DAT_0048d9f0;
  param_57 = &DAT_0048d9f0;
  param_58 = &DAT_0048d9f0;
  param_59 = &DAT_0048d9f0;
  param_60 = &DAT_0048d9f0;
  param_33 = s_Hunter_0047d7b8;
  param_34 = s_Warrior_0047d7ac;
  param_37 = s_Witch_0047d798;
  param_44 = s_Mercenary_0047d7a0;
  param_50 = s_Hunter_0047d7b8;
  param_51 = s_Warrior_0047d7ac;
  param_54 = s_Wizard_0047d78c;
  param_61 = s_Mercenary_0047d7a0;
  param_20 = s_Effect_of_Fire_Attack___d___0047d758;
  param_21 = s_Effect_of_Water_Defense___d___0047d724;
  param_22 = s_Effect_of_Earth_Hit_Rate___d___0047d6f0;
  param_23 = s_Effect_of_Thunder_Evasion_Rate___0047d6bc;
  param_24 = s_Effect_of_Holy_Magical_Attack____0047d688;
  param_25 = s_Effect_of_Dark_Magical_Defense___0047d654;
  param_26 = s_Effect_of_Gel_Magical_Hit_Rate___0047d620;
  param_27 = s_Effect_of_Metal_Magical_Evasion_R_0047d5ec;
  if (*(int *)(extraout_ECX + 0xa044) == 0) {
    return;
  }
  param_6 = extraout_ECX;
  this = (void *)FUN_00434cb0(*(int *)(extraout_ECX + 0xa018));
  RKC_UPDIB::GetFontParam(DAT_00482d10,1,&param_10,&param_11);
  FUN_0044ea60(this,(undefined4 *)&stack0x00000128);
  FUN_0044fca0(this,&param_12);
  FUN_0044fe30(this,(int *)&stack0x00000108);
  iVar5 = *(int *)((int)this + 0x34);
  if (iVar5 == 100) {
    iVar14 = 2;
    iVar5 = 100;
  }
  else {
    iVar14 = 0;
  }
  FUN_00405590(in_stack_0000128c,0xe,iVar5,0x12f,0x29,iVar14);
  if (*(int *)((int)this + 0x34) == 100) {
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,in_stack_0000128c,0xe,1,0x11b,0x43,&DAT_0047d5e8,'\0','\0','\0',4,0,0,1,
               1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,in_stack_0000128c,0xe,1,0x11b,0x43,&DAT_0047d5e8,0xe0,0xc0,0x80,4,0,0,1,
               1000);
  }
  else {
    FUN_00405590(in_stack_0000128c,0xe,*(int *)((int)this + 0xe8),0x12f,0x41,0);
  }
  iVar5 = *(int *)((int)this + 0x1a0);
  if (iVar5 == *(int *)((int)this + 0x40)) {
    iVar14 = 0;
  }
  else {
    iVar14 = (*(int *)((int)this + 0x40) <= iVar5) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,iVar5,0x7c,0x59,iVar14);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x54,0x5c,&DAT_0047d5e4,'\0','\0','\0',4,0,0,1,
             1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x53,0x5b,&DAT_0047d5e4,0xe0,0xe0,0xe0,4,0,0,1,
             1000);
  FUN_00405590(in_stack_0000128c,0xe,*(int *)((int)this + 0x1a4),0x51,0x59,iVar14);
  iVar5 = *(int *)((int)this + 0x1b0);
  if (iVar5 == *(int *)((int)this + 0x50)) {
    iVar14 = 0;
  }
  else {
    iVar14 = (*(int *)((int)this + 0x50) <= iVar5) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,iVar5,0x5f,0x71,iVar14);
  if (in_stack_0000016c == *(int *)((int)this + 0x54)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x54) <= in_stack_0000016c) + 1;
  }
  iVar14 = 100;
  if (((*(int *)((int)this + 0x4f4) != 0) &&
      (iVar2 = FUN_004663a0(*(int *)((int)this + 0x4f4)), iVar2 == 5)) &&
     (*(int *)((int)this + 0x2c) != 5)) {
    iVar14 = FUN_00450f80(this,5);
    iVar14 = (iVar14 * 0x32) / 0x1e + 0x28;
    if (iVar14 < 0x5b) {
      if (iVar14 == 100) goto LAB_00405b3b;
    }
    else {
      iVar14 = 0x5a;
    }
    iVar5 = 2;
  }
LAB_00405b3b:
  FUN_00405590(in_stack_0000128c,0xe,(iVar14 * in_stack_0000016c) / 100,0xc6,0x71,iVar5);
  pcVar9 = SetPacket_exref;
  iVar5 = **(int **)((int)this + 0x3fc);
  if (((((0x65 < iVar5) && (iVar5 < 0xca)) &&
       ((iVar5 = (*(int **)((int)this + 0x3fc))[1], 0x6d < iVar5 &&
        ((iVar5 < 0x82 && (iVar14 != 100)))))) && (*(int *)((int)this + 0x4f4) != 0)) &&
     ((iVar5 = FUN_004663a0(*(int *)((int)this + 0x4f4)), iVar5 == 5 &&
      (*(int *)((int)this + 0x2c) != 5)))) {
    piVar3 = FUN_00457db0(DAT_0048ce10);
    FUN_00467d51(&stack0x00000288,(byte *)s_Revision_of_Attack__Not_for_Hunt_0047d5b8);
    RKC_UPDIB::GetFontParam(DAT_00482d10,1,&param_10,&param_11);
    param_1 = CONCAT13(param_1._3_1_,0xe00000);
    param_7 = param_7 & 0xff000000;
    SetRect((LPRECT)&stack0x000000f8,**(int **)((int)this + 0x3fc),(*(int **)((int)this + 0x3fc))[1]
            ,0,0);
    FUN_00456550(piVar3,2,0x21,1,(int *)&stack0x000000f8,&param_7,&param_1,&stack0x00000288,
                 (int *)0x0,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,600);
    FUN_00457690(piVar3,&param_2);
    param_2 = param_2 - param_4 / 2;
    param_3 = param_3 + 8;
    if (param_2 < 1) {
      param_2 = 1;
    }
    if (param_3 < 1) {
      param_3 = 1;
    }
    if (0x27f < param_2 + param_4) {
      param_2 = 0x280 - param_4;
    }
    if (0x1df < param_5 + param_3) {
      param_3 = 0x1e0 - param_5;
    }
    FUN_004576b0(piVar3,&param_2);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_0000128c,2,0,0,0,0x204,param_2 + -1,param_3 + -1,param_2 + -1,
               param_5 + -1 + param_3,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_0000128c,2,0,0,0,0x204,param_2 + -1,param_3 + -1,
               param_4 + -1 + param_2,param_3 + -1,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,
               (RKC_DIB *)0x0);
    iVar5 = param_4 + -1 + param_2;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_0000128c,2,0,0,0,0x204,iVar5,param_3 + -1,iVar5,
               param_5 + -1 + param_3,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar5 = param_5 + -1 + param_3;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_0000128c,2,0,0,0,0x204,param_2 + -1,iVar5,
               param_4 + -1 + param_2,iVar5,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
    *(int **)(param_6 + 0xa6dc) = piVar3;
  }
  if (in_stack_00000170 == *(int *)((int)this + 0x58)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x58) <= in_stack_00000170) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000170,0x12f,0x71,iVar5);
  if (in_stack_00000174 == *(int *)((int)this + 0x5c)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x5c) <= in_stack_00000174) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000174,0x96,0x89,iVar5);
  if (in_stack_00000178 == *(int *)((int)this + 0x60)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x60) <= in_stack_00000178) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000178,0x12f,0x89,iVar5);
  iVar5 = *(int *)((int)this + 0x19c);
  if (iVar5 == *(int *)((int)this + 0x3c)) {
    iVar14 = 0;
  }
  else {
    iVar14 = (*(int *)((int)this + 0x3c) <= iVar5) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,iVar5,0x96,0xa1,iVar14);
  if (in_stack_00000150 == *(int *)((int)this + 0x38)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x38) <= in_stack_00000150) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000150,0x12f,0xa1,iVar5);
  iVar5 = *(int *)((int)this + 0x1a8);
  if (iVar5 == *(int *)((int)this + 0x48)) {
    iVar14 = 0;
  }
  else {
    iVar14 = (*(int *)((int)this + 0x48) <= iVar5) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,iVar5,0x7c,0xc0,iVar14);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x54,0xc3,&DAT_0047d5e4,'\0','\0','\0',4,0,0,1,
             1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x53,0xc2,&DAT_0047d5e4,0xe0,0xe0,0xe0,4,0,0,1,
             1000);
  FUN_00405590(in_stack_0000128c,0xe,*(int *)((int)this + 0x1ac),0x51,0xc0,iVar14);
  if (in_stack_0000017c == *(int *)((int)this + 100)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 100) <= in_stack_0000017c) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_0000017c,0x96,0xd9,iVar5);
  if (in_stack_00000180 == *(int *)((int)this + 0x68)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x68) <= in_stack_00000180) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000180,0x12f,0xd9,iVar5);
  if (in_stack_00000184 == *(int *)((int)this + 0x6c)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x6c) <= in_stack_00000184) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000184,0x96,0xf1,iVar5);
  if (in_stack_00000188 == *(int *)((int)this + 0x70)) {
    iVar5 = 0;
  }
  else {
    iVar5 = (*(int *)((int)this + 0x70) <= in_stack_00000188) + 1;
  }
  FUN_00405590(in_stack_0000128c,0xe,in_stack_00000188,0x12f,0xf1,iVar5);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x17,0x2b,
             (&param_28)[*(int *)((int)this + 0x28) * 0x11 + *(int *)((int)this + 0x2c)],'\0','\0',
             '\0',4,0,0,1,1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x16,0x2a,
             (&param_28)[*(int *)((int)this + 0x28) * 0x11 + *(int *)((int)this + 0x2c)],0xe0,0xe0,
             0xe0,4,0,0,1,1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x5d,0x2b,(char *)((int)this + 0x170),'\0','\0',
             '\0',4,0,0,1,1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,in_stack_0000128c,0xe,1,0x5c,0x2a,(char *)((int)this + 0x170),0xe0,0xe0,
             0xe0,4,0,0,1,1000);
  piVar3 = &param_12;
  iVar5 = 0;
  do {
    iVar14 = *piVar3 + 10;
    if (iVar14 < 0) {
      iVar14 = 0;
    }
    else if (0x14 < iVar14) {
      iVar14 = 0x14;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_0000128c,0xe,4,iVar14 + 0x24,-1,5,0,iVar5,1000,1000,1000,1000,0
               ,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar14 = param_6;
    iVar5 = iVar5 + 0x10;
    piVar3 = piVar3 + 1;
  } while (iVar5 < 0x80);
  iVar5 = *(int *)(param_6 + 0xa0a4) % 0x32;
  if (iVar5 < 0x19) {
    iVar5 = (iVar5 * 1000) / 0x19;
  }
  else {
    iVar5 = ((0x19 - iVar5) * 1000) / 0x19 + 1000;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,in_stack_0000128c,0xe,4,0x39,-1,4,
             (*(int *)((int)this + 0x74) * 0x30) / 20000 + 0x50,
             0x14a - (*(int *)((int)this + 0x78) * 0x30) / 20000,1000,1000,iVar5,1000,0,1000,1000,
             1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar5 = *(int *)((int)this + 0x30);
  if ((*(int *)((int)this + 0x2c) != iVar5) || (*(int *)(iVar14 + 0xa7e8) != 0)) {
    pRVar6 = (RKC_RPG_TABLEDATA *)0x40;
    if (iVar5 != 6) {
      pRVar6 = param_8;
    }
    if (iVar5 == 5) {
      pRVar6 = (RKC_RPG_TABLEDATA *)0x3d;
    }
    if (iVar5 == 9) {
      pRVar6 = (RKC_RPG_TABLEDATA *)((-(uint)(*(int *)((int)this + 0x28) != 1) & 2) + 0x3c);
    }
    if (*(int *)(iVar14 + 0xa7e8) != 0) {
      *(int *)(iVar14 + 0xa7e8) = *(int *)(iVar14 + 0xa7e8) + -1;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_0000128c,0xe,4,(long)pRVar6,-1,5,0,0,1000,1000,1000,1000,0,1000
               ,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  piVar3 = (int *)FUN_00456440(DAT_0048d8b4);
  param_9 = *piVar3;
  iVar5 = FUN_00456440(DAT_0048d8b4);
  iVar5 = *(int *)(iVar5 + 4);
  iVar2 = 0;
  iVar14 = 0x119;
  do {
    if ((((0x9c < param_9) && (param_9 < 0x131)) && (iVar14 + -0xf <= iVar5)) && (iVar5 < iVar14)) {
      if (iVar2 != -1) {
        param_8 = (RKC_RPG_TABLEDATA *)(&param_12 + iVar2);
        FUN_00467d51(&stack0x00000288,(byte *)(&param_20)[iVar2]);
        if (*(int *)param_8 != 10) goto LAB_0040652c;
        if (iVar2 == 0) {
          if (param_13 != 10) goto LAB_0040652c;
          pcVar11 = s_Maximum_HP__10__0047d5a0;
        }
        else if (iVar2 == 1) {
          if (param_12 != 10) goto LAB_0040652c;
          pcVar11 = s_Maximum_HP__10__0047d5a0;
        }
        else if (iVar2 == 2) {
          if (param_15 != 10) goto LAB_0040652c;
          pcVar11 = s_Speed_of_Attack__10__0047d588;
        }
        else if (iVar2 == 3) {
          if (param_14 != 10) goto LAB_0040652c;
          pcVar11 = s_Speed_of_Attack__10__0047d588;
        }
        else if (iVar2 == 4) {
          if (param_17 != 10) goto LAB_0040652c;
          pcVar11 = s_Maximum_MP__10__0047d570;
        }
        else if (iVar2 == 5) {
          if (param_16 != 10) goto LAB_0040652c;
          pcVar11 = s_Maximum_MP__10__0047d570;
        }
        else {
          iVar14 = param_19;
          if (((iVar2 != 6) && (iVar14 = param_18, iVar2 != 7)) || (iVar14 != 10))
          goto LAB_0040652c;
          pcVar11 = s_Speed_of_Chant__10__0047d558;
        }
        uVar8 = 0xffffffff;
        goto code_r0x00406506;
      }
      break;
    }
    iVar14 = iVar14 + 0x10;
    iVar2 = iVar2 + 1;
  } while (iVar14 < 0x199);
LAB_004067b9:
  if (((0xaa < param_9) && (param_9 < 0x139)) &&
     ((0x3a < iVar5 && ((iVar5 < 0x55 && (*(int *)((int)this + 0x34) != 100)))))) {
    param_8 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xd);
    FUN_00467d51(&stack0x00000288,(byte *)s_Next_Level_0047d53c);
    iVar5 = -1;
    pcVar11 = &stack0x00000288;
    do {
      if (iVar5 == 0) break;
      iVar5 = iVar5 + -1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar11 + 1;
    } while (cVar1 != '\0');
    pRVar6 = (RKC_RPG_TABLEDATA *)0x0;
    param_7 = param_7 & 0xff000000;
    param_1 = CONCAT13(param_1._3_1_,0xe00000);
    param_1 = CONCAT22(param_1._2_2_,0xe000);
    param_1 = CONCAT31(param_1._1_3_,0xe0);
    (*pcVar9)();
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,in_stack_0000128c,0xe,1,0xa5,0x52,&stack0x00000240,'\0','\0','\0',4,0,0,
               1,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,in_stack_0000128c,0xe,1,0xa3,0x51,&stack0x00000240,0xe0,0xe0,0xe0,4,0,0,
               1,1000);
    iVar14 = 0;
    iVar5 = 0x4f;
    uVar8 = 0xffffffff;
    pcVar11 = &stack0x00000240;
    do {
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar11 + 1;
    } while (cVar1 != '\0');
    iVar2 = (~uVar8 - 1) * 6 + 0x9f;
    lVar4 = RKC_RPG_TABLEDATA::GetValue(pRVar6,*(int *)((int)this + 0x34) + -1,0);
    FUN_00405590(in_stack_0000128c,0xe,lVar4,iVar2,iVar5,iVar14);
    uVar8 = 0xffffffff;
    pcVar11 = &stack0x00000240;
    do {
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar11 + 1;
    } while (cVar1 != '\0');
    SetRect((LPRECT)&stack0xffffffc0,0xa0,0x51,(~uVar8 - 1) * 6,0xd);
    (*pcVar9)();
    (*pcVar9)();
    (*pcVar9)();
    (*pcVar9)();
  }
  return;
  while( true ) {
    uVar8 = uVar8 - 1;
    pcVar13 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar13;
    if (cVar1 == '\0') break;
code_r0x00406506:
    pcVar13 = pcVar11;
    if (uVar8 == 0) break;
  }
  uVar8 = ~uVar8;
  iVar14 = -1;
  pcVar11 = &stack0x00000288;
  do {
    pcVar12 = pcVar11;
    if (iVar14 == 0) break;
    iVar14 = iVar14 + -1;
    pcVar12 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar12;
  } while (cVar1 != '\0');
  pcVar11 = pcVar13 + -uVar8;
  pcVar13 = pcVar12 + -1;
  for (uVar7 = uVar8 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
    *(undefined4 *)pcVar13 = *(undefined4 *)pcVar11;
    pcVar11 = pcVar11 + 4;
    pcVar13 = pcVar13 + 4;
  }
  for (uVar8 = uVar8 & 3; pcVar9 = SetPacket_exref, uVar8 != 0; uVar8 = uVar8 - 1) {
    *pcVar13 = *pcVar11;
    pcVar11 = pcVar11 + 1;
    pcVar13 = pcVar13 + 1;
  }
LAB_0040652c:
  RKC_UPDIB::GetFontParam(DAT_00482d10,1,&param_10,&param_11);
  iVar14 = *(int *)param_8;
  if (iVar14 < 1) {
    if (iVar14 < 0) {
      param_1 = CONCAT13(param_1._3_1_,0xe00000);
    }
    else if (iVar14 == 0) {
      param_1 = CONCAT13(param_1._3_1_,0xe00000);
      param_1 = CONCAT22(param_1._2_2_,0xe000);
      param_1 = CONCAT31(param_1._1_3_,0xe0);
    }
  }
  else {
    param_1 = CONCAT13(param_1._3_1_,0xe00000);
    param_1 = CONCAT22(param_1._2_2_,0xc000);
    param_1 = CONCAT31(param_1._1_3_,0x80);
  }
  piVar3 = FUN_00457db0(DAT_0048ce10);
  param_7 = param_7 & 0xff000000;
  SetRect((LPRECT)&stack0x000000f8,param_9,iVar5,0,0);
  FUN_00456550(piVar3,2,0x21,1,(int *)&stack0x000000f8,&param_7,&param_1,&stack0x00000288,(int *)0x0
               ,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,600);
  FUN_00457690(piVar3,&param_2);
  param_2 = param_2 - param_4 / 2;
  param_3 = param_3 + 8;
  if (param_2 < 1) {
    param_2 = 1;
  }
  if (param_3 < 1) {
    param_3 = 1;
  }
  if (0x27f < param_2 + param_4) {
    param_2 = 0x280 - param_4;
  }
  if (0x1df < param_5 + param_3) {
    param_3 = 0x1e0 - param_5;
  }
  FUN_004576b0(piVar3,&param_2);
  (*pcVar9)();
  (*pcVar9)();
  (*pcVar9)();
  (*pcVar9)();
  *(int **)(param_6 + 0xa6dc) = piVar3;
  goto LAB_004067b9;
}



/*
 * Function: FUN_00406aa0
 * Address: 00406aa0
 */

undefined4 __thiscall FUN_00406aa0(void *this,long param_1,int param_2)

{
  int iVar1;
  bool bVar2;
  int *piVar3;
  long lVar4;
  undefined4 local_4;
  
  local_4 = 0;
  bVar2 = false;
  piVar3 = (int *)FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (param_2 == -1) {
    if (*(int *)((int)this + 0xa9c8) == 0) {
      lVar4 = (-(uint)(*(int *)((int)this + 0xa9cc) != 0) & 2) + 0x5f;
    }
    else {
      lVar4 = (-(uint)(*(int *)((int)this + 0xa9cc) != 0) & 2) + 0x62;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,lVar4,-1,5,0x1ea,0x91,1000,1000,1000,1000,0,1000,1000,1000
               ,(tagRECT *)0x0,(RKC_DIB *)0x0);
    if (*(int *)((int)this + 0xa9c8) == 1) {
      lVar4 = (*(int *)((int)this + 0xa9d0) != 0) + 0x60;
    }
    else {
      lVar4 = (*(int *)((int)this + 0xa9d0) != 0) + 99;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,lVar4,-1,5,0x201,0x91,1000,1000,1000,1000,0,1000,1000,1000
               ,(tagRECT *)0x0,(RKC_DIB *)0x0);
    if (*(int *)((int)this + 0xa9c8) == 0) {
      lVar4 = (-(uint)(*(int *)((int)this + 0xa9d4) != 0) & 2) + 0x5f;
    }
    else {
      lVar4 = (-(uint)(*(int *)((int)this + 0xa9d4) != 0) & 2) + 0x62;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,lVar4,-1,5,0x1ea,0x101,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    if (*(int *)((int)this + 0xa9c8) == 1) {
      lVar4 = (*(int *)((int)this + 0xa9d8) != 0) + 0x60;
    }
    else {
      lVar4 = (*(int *)((int)this + 0xa9d8) != 0) + 99;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,lVar4,-1,5,0x201,0x101,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    return 1;
  }
  iVar1 = *(int *)piVar3[0xff];
  if ((((0x1e9 < iVar1) && (iVar1 < 0x1ff)) && (iVar1 = ((int *)piVar3[0xff])[1], 0x90 < iVar1)) &&
     (iVar1 < 0x98)) {
    local_4 = 1;
    if (param_2 == 1) {
      if (*(int *)((int)this + 0xa9c8) == 1) {
        if ((*(int *)((int)this + 0xa9cc) == 0) && (*(int *)((int)this + 0xa9d0) == 0)) {
          iVar1 = piVar3[0x13d];
          piVar3[0x13d] = piVar3[0x143];
          piVar3[0x143] = iVar1;
          bVar2 = true;
        }
        if ((*(int *)((int)this + 0xa9d4) == 0) && (*(int *)((int)this + 0xa9d8) == 0)) {
          iVar1 = piVar3[0x13e];
          piVar3[0x13e] = piVar3[0x144];
          piVar3[0x144] = iVar1;
          bVar2 = true;
        }
        *(undefined4 *)((int)this + 0xa9c8) = 0;
        RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
      }
    }
    else if (*(int *)((int)this + 0xa9c8) == 0) {
      if ((*(int *)((int)this + 0xa9cc) == 0) && (*(int *)((int)this + 0xa9d0) == 0)) {
        if (piVar3[0x13d] == 0) {
          *(undefined4 *)((int)this + 0xa9cc) = 1;
          if (piVar3[0x143] != 0) {
            piVar3[0x13d] = piVar3[0x143];
            piVar3[0x143] = 0;
LAB_00406dbb:
            bVar2 = true;
          }
        }
      }
      else if (*(int *)((int)this + 0xa9cc) == 1) {
        *(undefined4 *)((int)this + 0xa9cc) = 0;
        if (piVar3[0x13d] != 0) {
          piVar3[0x143] = piVar3[0x13d];
          piVar3[0x13d] = 0;
          goto LAB_00406dbb;
        }
      }
    }
  }
  iVar1 = *(int *)piVar3[0xff];
  if ((((0x200 < iVar1) && (iVar1 < 0x216)) && (iVar1 = ((int *)piVar3[0xff])[1], 0x90 < iVar1)) &&
     (iVar1 < 0x98)) {
    local_4 = 1;
    if (param_2 == 1) {
      if (*(int *)((int)this + 0xa9c8) == 0) {
        if ((*(int *)((int)this + 0xa9cc) == 0) && (*(int *)((int)this + 0xa9d0) == 0)) {
          iVar1 = piVar3[0x13d];
          piVar3[0x13d] = piVar3[0x143];
          piVar3[0x143] = iVar1;
          bVar2 = true;
        }
        if ((*(int *)((int)this + 0xa9d4) == 0) && (*(int *)((int)this + 0xa9d8) == 0)) {
          iVar1 = piVar3[0x13e];
          piVar3[0x13e] = piVar3[0x144];
          piVar3[0x144] = iVar1;
          bVar2 = true;
        }
        *(undefined4 *)((int)this + 0xa9c8) = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
      }
    }
    else if (*(int *)((int)this + 0xa9c8) == 1) {
      if ((*(int *)((int)this + 0xa9cc) == 0) && (*(int *)((int)this + 0xa9d0) == 0)) {
        if (piVar3[0x13d] == 0) {
          *(undefined4 *)((int)this + 0xa9d0) = 1;
          if (piVar3[0x143] != 0) {
            piVar3[0x13d] = piVar3[0x143];
            piVar3[0x143] = 0;
LAB_00406eef:
            bVar2 = true;
          }
        }
      }
      else if (*(int *)((int)this + 0xa9d0) == 1) {
        *(undefined4 *)((int)this + 0xa9d0) = 0;
        if (piVar3[0x13d] != 0) {
          piVar3[0x143] = piVar3[0x13d];
          piVar3[0x13d] = 0;
          goto LAB_00406eef;
        }
      }
    }
  }
  iVar1 = *(int *)piVar3[0xff];
  if ((((0x1e9 < iVar1) && (iVar1 < 0x1ff)) && (iVar1 = ((int *)piVar3[0xff])[1], 0x100 < iVar1)) &&
     (iVar1 < 0x108)) {
    local_4 = 1;
    if (param_2 == 1) {
      if (*(int *)((int)this + 0xa9c8) == 1) {
        if ((*(int *)((int)this + 0xa9cc) == 0) && (*(int *)((int)this + 0xa9d0) == 0)) {
          iVar1 = piVar3[0x13d];
          piVar3[0x13d] = piVar3[0x143];
          piVar3[0x143] = iVar1;
          bVar2 = true;
        }
        if ((*(int *)((int)this + 0xa9d4) == 0) && (*(int *)((int)this + 0xa9d8) == 0)) {
          iVar1 = piVar3[0x13e];
          piVar3[0x13e] = piVar3[0x144];
          piVar3[0x144] = iVar1;
          bVar2 = true;
        }
        *(undefined4 *)((int)this + 0xa9c8) = 0;
        RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
      }
    }
    else if (*(int *)((int)this + 0xa9c8) == 0) {
      if ((*(int *)((int)this + 0xa9d4) == 0) && (*(int *)((int)this + 0xa9d8) == 0)) {
        if (piVar3[0x13e] == 0) {
          *(undefined4 *)((int)this + 0xa9d4) = 1;
          if (piVar3[0x144] != 0) {
            piVar3[0x13e] = piVar3[0x144];
            piVar3[0x144] = 0;
LAB_0040701d:
            bVar2 = true;
          }
        }
      }
      else if (*(int *)((int)this + 0xa9d4) == 1) {
        *(undefined4 *)((int)this + 0xa9d4) = 0;
        if (piVar3[0x13e] != 0) {
          piVar3[0x144] = piVar3[0x13e];
          piVar3[0x13e] = 0;
          goto LAB_0040701d;
        }
      }
    }
  }
  iVar1 = *(int *)piVar3[0xff];
  if ((((0x200 < iVar1) && (iVar1 < 0x216)) && (iVar1 = ((int *)piVar3[0xff])[1], 0x100 < iVar1)) &&
     (iVar1 < 0x108)) {
    local_4 = 1;
    if (param_2 == 1) {
      if (*(int *)((int)this + 0xa9c8) == 0) {
        if ((*(int *)((int)this + 0xa9cc) == 0) && (*(int *)((int)this + 0xa9d0) == 0)) {
          iVar1 = piVar3[0x13d];
          piVar3[0x13d] = piVar3[0x143];
          piVar3[0x143] = iVar1;
          bVar2 = true;
        }
        if ((*(int *)((int)this + 0xa9d4) == 0) && (*(int *)((int)this + 0xa9d8) == 0)) {
          iVar1 = piVar3[0x13e];
          piVar3[0x13e] = piVar3[0x144];
          piVar3[0x144] = iVar1;
          bVar2 = true;
        }
        *(undefined4 *)((int)this + 0xa9c8) = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
      }
    }
    else if (*(int *)((int)this + 0xa9c8) == 1) {
      if ((*(int *)((int)this + 0xa9d4) == 0) && (*(int *)((int)this + 0xa9d8) == 0)) {
        if (piVar3[0x13e] == 0) {
          *(undefined4 *)((int)this + 0xa9d8) = 1;
          if (piVar3[0x144] != 0) {
            piVar3[0x13e] = piVar3[0x144];
            piVar3[0x144] = 0;
            goto LAB_004070ec;
          }
        }
      }
      else if (*(int *)((int)this + 0xa9d8) == 1) {
        *(undefined4 *)((int)this + 0xa9d8) = 0;
        if (piVar3[0x13e] != 0) {
          piVar3[0x144] = piVar3[0x13e];
          piVar3[0x13e] = 0;
          goto LAB_004070ec;
        }
      }
    }
  }
  if (!bVar2) {
    return local_4;
  }
LAB_004070ec:
  FUN_00452910(piVar3);
  FUN_00450080(piVar3);
  return local_4;
}



/*
 * Function: FUN_00407170
 * Address: 00407170
 */

void __thiscall FUN_00407170(void *this,long param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  void *pvVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  long lVar12;
  int local_11c;
  int *local_118;
  long local_110;
  long local_10c;
  int local_104 [6];
  undefined4 local_ec;
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined4 local_d8;
  undefined4 local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  int local_4c [19];
  
  local_4c[0] = 0x150;
  local_4c[5] = 0x150;
  local_4c[10] = 0x150;
  local_4c[0xf] = 0x150;
  local_50 = 0;
  local_4c[1] = 0x48;
  local_4c[2] = 9;
  local_4c[3] = 2;
  local_4c[4] = 0;
  local_4c[6] = 0xa8;
  local_4c[7] = 9;
  local_4c[8] = 1;
  local_4c[9] = 0;
  local_4c[0xb] = 0xe8;
  local_4c[0xc] = 9;
  local_4c[0xd] = 1;
  local_4c[0xe] = 0;
  local_4c[0x10] = 0x128;
  local_4c[0x11] = 9;
  local_4c[0x12] = 2;
  piVar2 = (int *)FUN_00456440(DAT_0048d8b4);
  iVar3 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  local_104[2] = 0x10;
  local_c0 = 0x10;
  local_104[0] = *(int *)(iVar3 + 0x4e8);
  local_104[5] = *(undefined4 *)(iVar3 + 0x4ec);
  local_b4 = *(undefined4 *)(iVar3 + 0x4f8);
  local_dc = *(undefined4 *)(iVar3 + 0x4f0);
  local_104[1] = 0x230;
  local_ec = 0x230;
  local_d8 = 0x230;
  local_c8 = *(undefined4 *)(iVar3 + 0x4f4);
  local_a0 = *(undefined4 *)(iVar3 + 0x4fc);
  local_8c = *(undefined4 *)(iVar3 + 0x500);
  local_c4 = 0x1e0;
  local_b0 = 0x1e0;
  local_104[3] = 2;
  local_104[4] = 2;
  local_e8 = 0x58;
  local_e4 = 2;
  local_e0 = 3;
  local_d4 = 0xc0;
  local_d0 = 2;
  local_cc = 2;
  local_bc = 2;
  local_b8 = 4;
  local_ac = 0xa0;
  local_a8 = 2;
  local_a4 = 3;
  local_9c = 400;
  local_98 = 0x8f;
  local_94 = 1;
  local_90 = 1;
  local_88 = 400;
  local_78 = *(undefined4 *)(iVar3 + 0x504);
  local_70 = 0x8f;
  local_64 = *(undefined4 *)(iVar3 + 0x508);
  local_74 = 0x1b8;
  local_60 = 0x1b8;
  local_84 = 0xb7;
  local_80 = 1;
  local_7c = 1;
  local_6c = 1;
  local_68 = 1;
  local_5c = 0xb7;
  local_58 = 1;
  local_54 = 1;
  if (*(int *)((int)this + 0xa048) != 1) goto LAB_0040775c;
  iVar4 = FUN_00466d50((int *)(iVar3 + 0x514));
  iVar9 = 0;
  if (0 < iVar4) {
    do {
      pvVar5 = (void *)FUN_00466cb0((void *)(iVar3 + 0x514),iVar9);
      if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
        lVar12 = 1000;
        iVar11 = -1;
        iVar10 = -1;
        iVar6 = FUN_004663b0((int)pvVar5);
        iVar6 = *(int *)(iVar6 + 4) * 0x20 + 0x108;
        piVar7 = (int *)FUN_004663b0((int)pvVar5);
        FUN_00465cb0(pvVar5,param_1,0xe,*piVar7 * 0x20 + 0x150,iVar6,iVar10,iVar11,lVar12);
      }
      iVar9 = iVar9 + 1;
    } while (iVar9 < iVar4);
  }
  local_118 = (int *)0x0;
  do {
    pvVar5 = (void *)local_104[(int)local_118 * 5];
    if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
      local_110 = 1000;
      if ((local_118 == (int *)0x4) &&
         ((*(int *)(iVar3 + 0x4f4) != 0 &&
          (iVar4 = FUN_004672f0(*(int *)(iVar3 + 0x4f4)), iVar4 != 0)))) {
        local_110 = 300;
      }
      iVar6 = local_104[(int)local_118 * 5 + 4];
      iVar10 = local_104[(int)local_118 * 5 + 3];
      iVar11 = local_104[(int)local_118 * 5 + 2];
      iVar1 = local_104[(int)local_118 * 5 + 1];
      iVar4 = iVar11 + -0x10 + iVar6 * 0x20;
      iVar9 = iVar1 + -0x10 + iVar10 * 0x20;
      iVar8 = FUN_004308b0((int)pvVar5);
      iVar11 = ((iVar6 * 0x20) / 2 - (iVar8 * 0x20) / 2) + iVar11;
      iVar6 = FUN_004308a0((int)pvVar5);
      FUN_00465cb0(pvVar5,param_1,0xe,((iVar10 * 0x20) / 2 - (iVar6 * 0x20) / 2) + iVar1,iVar11,
                   iVar9,iVar4,local_110);
    }
    local_118 = (int *)((int)local_118 + 1);
  } while ((int)local_118 < 9);
  if ((((*(int *)((int)this + 0xa040) == 0) || (*piVar2 < 0x150)) || (0x187 < *piVar2)) ||
     ((piVar2[1] < 0x8c || (0xd3 < piVar2[1])))) {
    if (0 < *(int *)((int)this + 0xa03c)) {
      iVar4 = *(int *)((int)this + 0xa03c) + -1;
      goto LAB_0040756a;
    }
  }
  else if (*(int *)((int)this + 0xa03c) < 10) {
    iVar4 = *(int *)((int)this + 0xa03c) + 1;
LAB_0040756a:
    *(int *)((int)this + 0xa03c) = iVar4;
  }
  if (0 < *(int *)((int)this + 0xa03c)) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,4,-1,5,0,0,1000,1000,*(int *)((int)this + 0xa03c) * 100,
               1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  if (*(int *)(iVar3 + 0x1b0) < 1) {
    iVar4 = 100;
  }
  else {
    iVar4 = FUN_00445630(iVar3);
    iVar4 = (iVar4 * 100) / *(int *)(iVar3 + 0x1b0);
  }
  local_11c = (iVar4 * 0x21) / 100;
  if (0x21 < local_11c) {
    local_11c = 0x21;
  }
  if (*(int *)((int)this + 0xa030) == -1) {
    *(int *)((int)this + 0xa030) = local_11c;
  }
  local_110 = 1000;
  iVar4 = 0x152;
  for (local_118 = (int *)0x0;
      (iVar9 = *(int *)((int)this + 0xa030), (int)local_118 < iVar9 || ((int)local_118 < local_11c))
      ; local_118 = (int *)((int)local_118 + 1)) {
    if (iVar4 < 0x1b6) {
      local_10c = 0x12;
    }
    else {
      local_10c = (0x1c9 < iVar4) + 0x13;
    }
    if ((local_11c < iVar9) && (local_11c < (int)local_118)) {
      iVar6 = iVar9 - local_11c;
LAB_0040769c:
      local_110 = local_110 + (int)(-1000 / (longlong)iVar6);
    }
    else if ((iVar9 < local_11c) && (iVar9 < (int)local_118)) {
      iVar6 = local_11c - iVar9;
      goto LAB_0040769c;
    }
    if (((*(int *)((int)this + 0xa034) != 1) || (local_11c == iVar9)) ||
       (lVar12 = 0x15, local_110 != 1000)) {
      lVar12 = local_10c;
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,lVar12,-1,5,iVar4,0xef,1000,1000,local_110,1000,0,1000,
               1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar4 = iVar4 + 4;
  }
  iVar4 = *(int *)((int)this + 0xa030);
  if (iVar4 == local_11c) {
    *(undefined4 *)((int)this + 0xa034) = 1;
  }
  else {
    *(undefined4 *)((int)this + 0xa034) = 0;
  }
  if (local_11c < iVar4) {
    iVar4 = iVar4 + -1;
  }
  else {
    if (local_11c <= iVar4) goto LAB_0040775c;
    iVar4 = iVar4 + 1;
  }
  *(int *)((int)this + 0xa030) = iVar4;
LAB_0040775c:
  if (*(int *)((int)this + 0xa074) == 1) {
    local_118 = (int *)(iVar3 + 0x548);
    piVar2 = local_4c;
    local_10c = 4;
    do {
      iVar4 = FUN_00466d50(local_118);
      iVar9 = 0;
      if (0 < iVar4) {
        do {
          pvVar5 = (void *)FUN_00466cb0(local_118,iVar9);
          if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
            lVar12 = 1000;
            iVar11 = -1;
            iVar10 = -1;
            iVar6 = FUN_004663b0((int)pvVar5);
            iVar6 = *(int *)(iVar6 + 4) * 0x20 + piVar2[1];
            piVar7 = (int *)FUN_004663b0((int)pvVar5);
            FUN_00465cb0(pvVar5,param_1,0xe,*piVar7 * 0x20 + *piVar2,iVar6,iVar10,iVar11,lVar12);
          }
          iVar9 = iVar9 + 1;
        } while (iVar9 < iVar4);
      }
      local_118 = local_118 + 1;
      piVar2 = piVar2 + 5;
      local_10c = local_10c + -1;
    } while (local_10c != 0);
  }
  if (*(int *)((int)this + 0xa054) == 1) {
    iVar4 = FUN_00466d50((int *)(iVar3 + 0x51c));
    iVar9 = 0;
    if (0 < iVar4) {
      do {
        pvVar5 = (void *)FUN_00466cb0((int *)(iVar3 + 0x51c),iVar9);
        if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
          lVar12 = 1000;
          iVar11 = -1;
          iVar10 = -1;
          iVar6 = FUN_004663b0((int)pvVar5);
          iVar6 = *(int *)(iVar6 + 4) * 0x20 + 0x48;
          piVar2 = (int *)FUN_004663b0((int)pvVar5);
          FUN_00465cb0(pvVar5,param_1,0xe,*piVar2 * 0x20 + 0x10,iVar6,iVar10,iVar11,lVar12);
        }
        iVar9 = iVar9 + 1;
      } while (iVar9 < iVar4);
    }
  }
  if (*(int *)((int)this + 0xa058) == 1) {
    iVar4 = FUN_00466d50((int *)(iVar3 + 0x520 + *(int *)(iVar3 + 0x558) * 4));
    iVar9 = 0;
    if (0 < iVar4) {
      do {
        pvVar5 = (void *)FUN_00466cb0((void *)(iVar3 + 0x520 + *(int *)(iVar3 + 0x558) * 4),iVar9);
        if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
          lVar12 = 1000;
          iVar11 = -1;
          iVar10 = -1;
          iVar6 = FUN_004663b0((int)pvVar5);
          iVar6 = *(int *)(iVar6 + 4) * 0x20 + 0x48;
          piVar2 = (int *)FUN_004663b0((int)pvVar5);
          FUN_00465cb0(pvVar5,param_1,0xe,*piVar2 * 0x20 + 0x10,iVar6,iVar10,iVar11,lVar12);
        }
        iVar9 = iVar9 + 1;
      } while (iVar9 < iVar4);
    }
  }
  if (*(int *)((int)this + 0xa050) == 1) {
    iVar4 = FUN_00466d50(*(int **)(iVar3 + 0x584));
    iVar9 = 0;
    if (0 < iVar4) {
      do {
        pvVar5 = (void *)FUN_00466cb0(*(void **)(iVar3 + 0x584),iVar9);
        if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
          lVar12 = 1000;
          iVar11 = -1;
          iVar10 = -1;
          iVar6 = FUN_004663b0((int)pvVar5);
          iVar6 = *(int *)(iVar6 + 4) * 0x20 + 0x48;
          piVar2 = (int *)FUN_004663b0((int)pvVar5);
          FUN_00465cb0(pvVar5,param_1,0xe,*piVar2 * 0x20 + 0x10,iVar6,iVar10,iVar11,lVar12);
        }
        iVar9 = iVar9 + 1;
      } while (iVar9 < iVar4);
    }
  }
  iVar4 = FUN_00466d50((int *)(iVar3 + 0x518));
  iVar9 = 0;
  if (0 < iVar4) {
    do {
      pvVar5 = (void *)FUN_00466cb0((int *)(iVar3 + 0x518),iVar9);
      if ((pvVar5 != (void *)0x0) && (pvVar5 != *(void **)((int)this + 0xa040))) {
        iVar6 = FUN_004663b0((int)pvVar5);
        iVar6 = *(int *)(iVar6 + 4);
        iVar10 = FUN_004663b0((int)pvVar5);
        if (*(int *)(iVar10 + 4) == 0) {
          piVar2 = (int *)FUN_004663b0((int)pvVar5);
          iVar10 = *piVar2 * 0x20 + 0x165;
        }
        else {
          piVar2 = (int *)FUN_004663b0((int)pvVar5);
          iVar10 = *piVar2 * 0x20 + 0x195;
        }
        FUN_00465cb0(pvVar5,param_1,0xb,iVar10,(-(uint)(iVar6 != 0) & 0x20) + 0x19d,-1,-1,1000);
      }
      iVar9 = iVar9 + 1;
    } while (iVar9 < iVar4);
  }
  return;
}



/*
 * Function: FUN_00407a60
 * Address: 00407a60
 */

void __thiscall FUN_00407a60(void *this,long param_1)

{
  char cVar1;
  void *this_00;
  int *piVar2;
  char *pcVar3;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  code *pcVar9;
  undefined4 *puVar10;
  char *pcVar11;
  char *pcVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  uchar local_870;
  int iStack_86c;
  int local_864;
  int local_85c;
  int iStack_858;
  int iStack_854;
  int iStack_850;
  int iStack_84c;
  byte *local_848;
  int iStack_844;
  void *local_840;
  int local_83c;
  undefined uStack_838;
  undefined uStack_837;
  undefined uStack_836;
  undefined uStack_834;
  undefined uStack_833;
  undefined uStack_832;
  RKC_RPG_TABLEDATA *pRStack_830;
  int local_82c;
  int *local_828;
  undefined4 uStack_824;
  RKC_RPG_TABLEDATA *pRStack_820;
  undefined4 uStack_81c;
  char *local_818 [4];
  char *local_808;
  char *local_804;
  char *local_800;
  char *local_7fc;
  char *local_7f8;
  char *local_7f4;
  char *local_7f0;
  char *local_7ec;
  char *local_7e8;
  char *local_7e4;
  char *local_7e0;
  char *local_7dc;
  char *local_7d8;
  char *local_7d4;
  char *local_7d0;
  char *local_7cc;
  char *local_7c8;
  char *local_7c4;
  char *local_7c0 [4];
  char *local_7b0;
  char *local_7ac;
  char *local_7a8;
  char *local_7a4;
  char *local_7a0;
  char *local_79c;
  char *local_798;
  char *local_794;
  char *local_790;
  char *local_78c;
  char *local_788;
  char *local_784;
  char *local_780;
  char *local_77c;
  char *local_778;
  char *local_774;
  char *local_770;
  char *local_76c;
  char *local_768 [4];
  char *local_758;
  char *local_754;
  undefined *local_750;
  undefined *local_74c;
  char *local_748;
  char *local_744;
  char *local_740;
  char *local_73c;
  char *local_738;
  char *local_734;
  char *local_730;
  char *local_72c;
  char *local_728;
  char *local_724;
  char *local_720;
  char *local_71c;
  char *local_718;
  char *local_714;
  tagRECT tStack_710;
  char acStack_700 [256];
  char local_600;
  undefined4 local_5ff;
  char acStack_500 [256];
  char acStack_400 [1024];
  
  local_7c0[1] = s__3d__4d_0047dcf8;
  local_7c0[2] = s__3d__4d_0047dcf8;
  local_7c0[3] = s__3d__4d_0047dcf8;
  local_7b0 = s__3d__4d_0047dcf8;
  local_7ac = s__3d__4d_0047dcf8;
  local_798 = s__3d__4d_0047dcf8;
  local_794 = s__3d__4d_0047dcf8;
  local_790 = s__3d__4d_0047dcf8;
  local_78c = s__3d__4d_0047dcf8;
  local_788 = s__3d__4d_0047dcf8;
  local_780 = s__3d__4d_0047dcf8;
  local_770 = s__3d__4d_0047dcf8;
  local_76c = s__3d__4d_0047dcf8;
  local_7a8 = s__3d__3d_0047dcb4;
  local_79c = s__3d__3d_0047dcb4;
  local_784 = s__3d__3d_0047dcb4;
  local_778 = s__3d__3d_0047dcb4;
  local_774 = s__3d__3d_0047dcb4;
  local_818[1] = s_Lv__Exp__MP__Attack__0047dc60;
  local_818[2] = s_Lv__Exp__MP__Attack__0047dc60;
  local_818[3] = s_Lv__Exp__MP__Attack__0047dc60;
  local_808 = s_Lv__Exp__MP__Attack__0047dc60;
  local_804 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7f0 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7ec = s_Lv__Exp__MP__Attack__0047dc60;
  local_7e8 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7e4 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7e0 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7d8 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7c8 = s_Lv__Exp__MP__Attack__0047dc60;
  local_7c4 = s_Lv__Exp__MP__Attack__0047dc60;
  local_818[0] = s_Lv__Exp__MP__0047dc0c;
  local_7fc = s_Lv__Exp__MP__0047dc0c;
  local_7f8 = s_Lv__Exp__MP__0047dc0c;
  local_600 = DAT_0048d9f0;
  local_768[0] = s_Transport_0047dbbc;
  local_768[1] = s_Fire_Ball_0047dbb0;
  local_768[2] = s_Ice_Bolt_0047dba4;
  local_768[3] = s_Plasma_0047db9c;
  local_758 = s_Hell_Fire_0047db90;
  local_754 = s_Ice_Blast_0047db84;
  local_750 = &DAT_0047db7c;
  local_74c = &DAT_0047db74;
  local_748 = s_Berserker_0047db68;
  local_744 = s_Energy_Shield_0047db58;
  local_740 = s_Earth_Spear_0047db4c;
  local_73c = s_Flame_Strike_0047db3c;
  local_738 = s_Dread_Deathscythe_0047db28;
  local_734 = s_Lightning_Storm_0047db18;
  local_730 = s_Medusa_0047db10;
  local_72c = s_Sonic_Blade_0047db04;
  local_728 = s_Mud_Javelin_0047daf8;
  local_724 = s_Identify_0047daec;
  local_720 = s_Magic_Shield_0047dadc;
  local_71c = s_Counter_Burst_0047dacc;
  local_718 = s_Explosion_0047dac0;
  local_714 = s_Elemental_Strike_0047daac;
  local_7c0[0] = s__3d_0047dbc8;
  local_7a4 = s__3d_0047dbc8;
  local_7a0 = s__3d_0047dbc8;
  local_77c = s__3d_0047da74;
  local_800 = s_Lv__Exp__MP__Heal____0047da20;
  local_7f4 = s_Lv__Exp__MP__Def____0047d9cc;
  local_7dc = s_Lv__Exp__MP__Attack____0047d978;
  local_7d4 = s_Lv__Exp__MP__0047d930;
  local_7d0 = s_Lv__Exp__MP__Shield____0047d8dc;
  local_7cc = s_Lv__Exp__MP__RefPer____0047d888;
  puVar10 = &local_5ff;
  for (iVar5 = 0x3f; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar10 = 0;
    puVar10 = puVar10 + 1;
  }
  *(undefined2 *)puVar10 = 0;
  *(undefined *)((int)puVar10 + 2) = 0;
  if (*(int *)((int)this + 0xa04c) != 0) {
    local_840 = this;
    this_00 = (void *)FUN_00434cb0(DAT_0048ce0c);
    iVar5 = *(int *)((int)this + 0xa93c) * 6;
    local_864 = 0;
    local_85c = *(int *)((int)this + 0xa93c) * 0x18;
    local_82c = 0x3b;
    do {
      iVar7 = local_82c;
      local_828 = (int *)(iVar5 + local_864);
      if (0x15 < (int)local_828) break;
      local_83c = FUN_00451e60(this_00,(int)local_828);
      pcVar9 = SetPacket_exref;
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xc,4,0x20,-1,5,0x18,iVar7 + -3,1000,1000,1000,1000,0,1000,
                 1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      local_848 = (byte *)((int)this_00 + (local_864 + iVar5) * 4 + 0x1440);
      if (*(int *)local_848 == 3) {
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,param_1,0xc,9,local_864 + 2 + iVar5,-1,5,0x1b,iVar7,1000,1000,1000,
                   1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar13 = **(int **)((int)this_00 + 0x3fc);
        if ((((0x3b < iVar13) && (iVar13 < 0xe4)) &&
            (iVar13 = (*(int **)((int)this_00 + 0x3fc))[1], iVar7 + 7 <= iVar13)) &&
           (iVar13 < iVar7 + 0x13)) {
          piVar2 = FUN_00457db0(DAT_0048ce10);
          pRStack_820 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,local_864 + 600 + iVar5);
          uStack_836 = 0xe0;
          uStack_837 = 0xe0;
          uStack_838 = 0xe0;
          uStack_832 = 0;
          uStack_833 = 0;
          uStack_834 = 0;
          SetRect(&tStack_710,**(int **)((int)this_00 + 0x3fc),(*(int **)((int)this_00 + 0x3fc))[1],
                  0,0);
          acStack_400[0] = '\0';
          pRStack_830 = (RKC_RPG_TABLEDATA *)RKC_RPG_TABLEDATA::GetRowCount(pRStack_820);
          iStack_86c = 0;
          if (0 < (int)pRStack_830) {
            do {
              pcVar3 = RKC_RPG_TABLEDATA::GetStrings(pRStack_820,iStack_86c,0);
              uVar6 = 0xffffffff;
              do {
                pcVar12 = pcVar3;
                if (uVar6 == 0) break;
                uVar6 = uVar6 - 1;
                pcVar12 = pcVar3 + 1;
                cVar1 = *pcVar3;
                pcVar3 = pcVar12;
              } while (cVar1 != '\0');
              uVar6 = ~uVar6;
              iVar7 = -1;
              pcVar3 = acStack_400;
              do {
                pcVar11 = pcVar3;
                if (iVar7 == 0) break;
                iVar7 = iVar7 + -1;
                pcVar11 = pcVar3 + 1;
                cVar1 = *pcVar3;
                pcVar3 = pcVar11;
              } while (cVar1 != '\0');
              pcVar3 = pcVar12 + -uVar6;
              pcVar12 = pcVar11 + -1;
              for (uVar8 = uVar6 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                *(undefined4 *)pcVar12 = *(undefined4 *)pcVar3;
                pcVar3 = pcVar3 + 4;
                pcVar12 = pcVar12 + 4;
              }
              for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
                *pcVar12 = *pcVar3;
                pcVar3 = pcVar3 + 1;
                pcVar12 = pcVar12 + 1;
              }
              uVar6 = 0xffffffff;
              pcVar3 = &DAT_0047d884;
              do {
                pcVar12 = pcVar3;
                if (uVar6 == 0) break;
                uVar6 = uVar6 - 1;
                pcVar12 = pcVar3 + 1;
                cVar1 = *pcVar3;
                pcVar3 = pcVar12;
              } while (cVar1 != '\0');
              uVar6 = ~uVar6;
              iVar7 = -1;
              pcVar3 = acStack_400;
              do {
                pcVar11 = pcVar3;
                if (iVar7 == 0) break;
                iVar7 = iVar7 + -1;
                pcVar11 = pcVar3 + 1;
                cVar1 = *pcVar3;
                pcVar3 = pcVar11;
              } while (cVar1 != '\0');
              pcVar3 = pcVar12 + -uVar6;
              pcVar12 = pcVar11 + -1;
              for (uVar8 = uVar6 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                *(undefined4 *)pcVar12 = *(undefined4 *)pcVar3;
                pcVar3 = pcVar3 + 4;
                pcVar12 = pcVar12 + 4;
              }
              iStack_86c = iStack_86c + 1;
              for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
                *pcVar12 = *pcVar3;
                pcVar3 = pcVar3 + 1;
                pcVar12 = pcVar12 + 1;
              }
              pcVar9 = SetPacket_exref;
              iVar7 = local_82c;
            } while (iStack_86c < (int)pRStack_830);
          }
          FUN_00456550(piVar2,2,0x21,1,&tStack_710.left,(int *)&uStack_834,(int *)&uStack_838,
                       acStack_400,(int *)0x0,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,600);
          FUN_00457690(piVar2,&iStack_858);
          iStack_858 = iStack_858 - iStack_850 / 2;
          iStack_854 = iStack_854 + 8;
          if (iStack_858 < 1) {
            iStack_858 = 1;
          }
          if (iStack_854 < 1) {
            iStack_854 = 1;
          }
          if (0x27f < iStack_858 + iStack_850) {
            iStack_858 = 0x280 - iStack_850;
          }
          if (0x1df < iStack_84c + iStack_854) {
            iStack_854 = 0x1e0 - iStack_84c;
          }
          FUN_004576b0(piVar2,&iStack_858);
          iVar19 = 0;
          iVar18 = 0;
          iVar17 = 500;
          (*pcVar9)(param_1,2,0,0,0,0x204,iStack_858 + -1,iStack_854 + -1,iStack_858 + -1,
                    iStack_84c + -1 + iStack_854,500,0,0,0xff,0xff,0xff,0,0);
          iVar16 = 0xff;
          iVar15 = 0;
          iVar14 = 0;
          iVar13 = 500;
          (*pcVar9)(param_1,2,0,0,0,0x204,iVar17 + -1,iVar18 + -1,iVar19 + -1 + iVar17,iVar18 + -1,
                    500,0,0,0xff,0xff,0xff,0,0);
          iVar13 = iVar15 + -1 + iVar13;
          iVar19 = 0xff;
          iVar18 = 0;
          iVar15 = 0;
          iVar17 = 500;
          (*pcVar9)(param_1,2,0,0,0,0x204,iVar13,iVar14 + -1,iVar13,iVar16 + -1 + iVar14,500,0,0,
                    0xff,0xff,0xff,0,0);
          iVar15 = iVar19 + -1 + iVar15;
          (*pcVar9)(param_1,2,0,0,0,0x204,iVar17 + -1,iVar15,iVar18 + -1 + iVar17,iVar15,500,0,0,
                    0xff,0xff,0xff,0,0);
          *(int **)((int)local_840 + 0xa6e0) = piVar2;
        }
      }
      if (*(int *)local_848 == 1) {
        (*pcVar9)(param_1,0xc,9,local_864 + 2 + iVar5,0xffffffff,5,0x1b,iVar7,1000,1000,300,1000,0,
                  1000,1000,1000,0,0);
      }
      pRStack_830 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x1b);
      piVar2 = local_828;
      if ((*local_848 & 1) != 0) {
        local_848 = (byte *)FUN_00417410((long)local_828,local_83c,2);
        pbVar4 = (byte *)FUN_0044f610(this_00,(int)local_848);
        if (((piVar2 == (int *)0x0) || (piVar2 == (int *)0x7)) ||
           ((piVar2 == (int *)0x8 || (piVar2 == (int *)0x11)))) {
          FUN_00467d51(acStack_700,*(byte **)((int)local_7c0 + local_85c));
        }
        else {
          FUN_00417410((long)piVar2,local_83c,0);
          FUN_00467d51(acStack_700,*(byte **)((int)local_7c0 + local_85c));
        }
        if (local_848 != pbVar4) {
          FUN_00467d51(&local_600,(byte *)s__3d_0047d864);
          if ((int)local_848 < (int)pbVar4) {
            iStack_844 = 0xe0;
            uStack_81c = 0x40;
            uStack_824 = 0x40;
          }
          if ((int)pbVar4 < (int)local_848) {
            iStack_844 = 0xe0;
            uStack_81c = 0xc0;
            uStack_824 = 0x80;
          }
        }
        local_828 = (int *)((int)this_00 + (local_864 + iVar5) * 4 + 0x1498);
        if (*local_828 == 0x14) {
          uVar6 = 0xffffffff;
          pcVar3 = s_Max_0047d838;
          do {
            pcVar12 = pcVar3;
            if (uVar6 == 0) break;
            uVar6 = uVar6 - 1;
            pcVar12 = pcVar3 + 1;
            cVar1 = *pcVar3;
            pcVar3 = pcVar12;
          } while (cVar1 != '\0');
          uVar6 = ~uVar6;
          local_870 = 0xc0;
          iStack_86c._0_1_ = 0x80;
          pcVar3 = pcVar12 + -uVar6;
          pcVar12 = acStack_500;
          for (uVar8 = uVar6 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
            *(undefined4 *)pcVar12 = *(undefined4 *)pcVar3;
            pcVar3 = pcVar3 + 4;
            pcVar12 = pcVar12 + 4;
          }
          for (uVar6 = uVar6 & 3; iVar7 = local_82c, uVar6 != 0; uVar6 = uVar6 - 1) {
            *pcVar12 = *pcVar3;
            pcVar3 = pcVar3 + 1;
            pcVar12 = pcVar12 + 1;
          }
        }
        else {
          RKC_RPG_TABLEDATA::GetValue(pRStack_830,(long)piVar2,*local_828 + -1);
          FUN_00467d51(acStack_500,(byte *)s__3d__3d_0047d80c);
          local_870 = 0xe0;
          iStack_86c._0_1_ = 0xe0;
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,param_1,0xe,1,0x3d,iVar7,s___0047d7e0,'\0','\0','\0',4,0,0,1,1000)
          ;
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,param_1,0xe,1,0x3c,iVar7 + -1,s___0047d7e0,0xa0,0xa0,'@',4,0,0,1,
                     1000);
        }
        pcVar3 = *(char **)((int)local_768 + local_85c);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3b,iVar7 + 8,pcVar3,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3a,iVar7 + 7,pcVar3,0xe0,0xc0,0x80,4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3d,iVar7,acStack_700,'\0','\0','\0',4,0,0,1,1000);
        iVar13 = iVar7 + -1;
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3c,iVar13,acStack_700,0xe0,0xe0,0xe0,4,0,0,1,1000);
        if (local_600 != '\0') {
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,param_1,0xe,1,0x3d,iVar7,&local_600,'\0','\0','\0',4,0,0,1,1000);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,param_1,0xe,1,0x3c,iVar13,&local_600,(uchar)iStack_844,
                     (uchar)uStack_81c,(uchar)uStack_824,4,0,0,1,1000);
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3d,iVar7,acStack_500,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3c,iVar13,acStack_500,0xe0,local_870,
                   (uchar)iStack_86c,4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3d,iVar7,*(char **)((int)local_818 + local_85c),'\0'
                   ,'\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x3c,iVar13,*(char **)((int)local_818 + local_85c),
                   0xa0,0xa0,'@',4,0,0,1,1000);
        FUN_00467d51(acStack_700,(byte *)s__3d_0047d7c4);
        if (*local_828 < local_83c) {
          local_870 = 0xc0;
          iStack_86c._0_1_ = 0x80;
        }
        else {
          local_870 = '@';
          iStack_86c._0_1_ = local_870;
          if (*local_828 <= local_83c) {
            local_870 = 0xe0;
            iStack_86c._0_1_ = local_870;
          }
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x43,iVar7,acStack_700,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,0x42,iVar13,acStack_700,0xe0,local_870,
                   (uchar)iStack_86c,4,0,0,1,1000);
      }
      local_82c = iVar7 + 0x30;
      local_864 = local_864 + 1;
      local_85c = local_85c + 4;
      this = local_840;
    } while (local_864 < 6);
    if (*(int *)((int)this + 0xa93c) != 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xc,4,0x45,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
    if (*(int *)((int)this + 0xa93c) < 3) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xc,4,0x46,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
    iVar5 = 0x20;
    piVar2 = (int *)((int)this + 0xa714);
    iStack_844 = 8;
    do {
      iVar7 = *piVar2;
      if ((iVar7 != -1) && (*(int *)((int)this_00 + iVar7 * 4 + 0x1440) == 3)) {
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,param_1,0xe,9,iVar7 + 2,-1,5,iVar5,0x167,1000,1000,1000,1000,0,1000,
                   1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      }
      iVar5 = iVar5 + 0x20;
      piVar2 = piVar2 + 1;
      iStack_844 = iStack_844 + -1;
    } while (iStack_844 != 0);
  }
  return;
}



/*
 * Function: FUN_004087b0
 * Address: 004087b0
 */

undefined4 __thiscall FUN_004087b0(void *this,long param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  long lVar5;
  tagPOINT local_8;
  
  GetCursorPos(&local_8);
  ScreenToClient(DAT_00482778,&local_8);
  if (*(int *)((int)this + 0xa040) != 0) {
    lVar5 = 1000;
    iVar4 = -1;
    iVar3 = -1;
    iVar1 = FUN_004308b0(*(int *)((int)this + 0xa040));
    iVar2 = local_8.y - (iVar1 * 0x20) / 2;
    iVar1 = FUN_004308a0(*(int *)((int)this + 0xa040));
    FUN_00465cb0(*(void **)((int)this + 0xa040),param_1,5,local_8.x - (iVar1 * 0x20) / 2,iVar2,iVar3
                 ,iVar4,lVar5);
  }
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  if (iVar1 != 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,3,3,(uint)(*(int *)(iVar1 + 0x1624) != 0),-1,4,local_8.x,
               local_8.y,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  return 1;
}



/*
 * Function: FUN_004088b0
 * Address: 004088b0
 */

undefined4 __thiscall FUN_004088b0(void *this,long param_1)

{
  long lVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0x189;
  lVar1 = param_1;
  switch(*(undefined4 *)((int)this + 0xa0a8)) {
  case 0:
    return 0;
  case 1:
    iVar3 = 0x19d - *(int *)((int)this + 0xa0ac);
    iVar2 = *(int *)((int)this + 0xa0ac) + 1;
    *(int *)((int)this + 0xa0ac) = iVar2;
    lVar1 = 0x1b;
    if (0x13 < iVar2) {
      *(undefined4 *)((int)this + 0xa0a8) = 2;
      *(undefined4 *)((int)this + 0xa0ac) = 0;
    }
    break;
  case 2:
    iVar2 = *(int *)((int)this + 0xa0ac);
    switch(iVar2 >> 2 & 7) {
    case 0:
    case 7:
      *(int *)((int)this + 0xa0ac) = iVar2 + 1;
      lVar1 = 0x1b;
      break;
    case 1:
    case 6:
      *(int *)((int)this + 0xa0ac) = iVar2 + 1;
      lVar1 = 0x1c;
      break;
    case 2:
    case 5:
      *(int *)((int)this + 0xa0ac) = iVar2 + 1;
      lVar1 = 0x1d;
      break;
    case 3:
    case 4:
      *(int *)((int)this + 0xa0ac) = iVar2 + 1;
      lVar1 = 0x1e;
      break;
    default:
      *(int *)((int)this + 0xa0ac) = iVar2 + 1;
    }
    break;
  case 3:
    if ((DAT_0048ce44 != 1) || (iVar2 = FUN_00434cb0(DAT_0048ce0c), *(int *)(iVar2 + 0x588) == 1)) {
      FUN_004170f0();
    }
    *(undefined4 *)((int)this + 0xa0a8) = 5;
    *(undefined4 *)((int)this + 0xa0ac) = 0;
    lVar1 = 0x1f;
    break;
  case 4:
    *(undefined4 *)((int)this + 0xa0a8) = 5;
    *(undefined4 *)((int)this + 0xa0ac) = 0;
  case 5:
    iVar3 = *(int *)((int)this + 0xa0ac) + 0x189;
    iVar2 = *(int *)((int)this + 0xa0ac) + 1;
    *(int *)((int)this + 0xa0ac) = iVar2;
    lVar1 = 0x1b;
    if (0x13 < iVar2) {
      *(undefined4 *)((int)this + 0xa0a8) = 0;
      *(undefined4 *)((int)this + 0xa0ac) = 0;
    }
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xc,4,lVar1,-1,4,0x12d,iVar3,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  return 1;
}



/*
 * Function: FUN_00408a80
 * Address: 00408a80
 */

void __thiscall
FUN_00408a80(void *this,uint param_1,undefined4 param_2,undefined4 param_3,int param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  RKC_RPG_TABLEDATA *this_00;
  long lVar5;
  int iVar6;
  uint uVar7;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  int unaff_retaddr;
  int in_stack_fffffff4;
  int in_stack_fffffff8;
  int *this_01;
  
  uVar1 = param_1;
  if ((*(int *)((int)this + 0xa048) != 0) &&
     (iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018)), iVar2 != 0)) {
    this_01 = (int *)(iVar2 + 0x514);
    iVar3 = FUN_00466d70(this_01);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xe,1,0x157,0x1f,s_Total_Gold_0047dd3c,'\0','\0','\0',4,0,0,1,
               1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xe,1,0x156,0x1e,s_Total_Gold_0047dd3c,0xe0,0xc0,0x80,4,0,0,1,
               1000);
    FUN_00405590(param_1,0xe,iVar3,0x1d7,0x1c,0);
    if (*(int *)(iVar2 + 0x328) != 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x43,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
    if (*(int *)(iVar2 + 0x2c0) < *(int *)(iVar2 + 0x160)) {
      param_1 = 1;
    }
    else {
      param_1 = (*(int *)(iVar2 + 0x2c0) <= *(int *)(iVar2 + 0x160)) - 1 & 2;
    }
    FUN_00405590(uVar1,0xe,*(int *)(iVar2 + 0x328),0x1be,0x74,param_1);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,uVar1,0xe,1,0x1be,0x76,&DAT_0047d5e4,'\0','\0','\0',4,0,0,1,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,uVar1,0xe,1,0x1bd,0x75,&DAT_0047d5e4,0xe0,0xe0,0xe0,4,0,0,1,1000);
    FUN_00405590(uVar1,0xe,*(int *)(iVar2 + 0x2c0),0x1d7,0x74,param_1);
    iVar4 = FUN_00445630(iVar2);
    FUN_00405590(uVar1,0xe,iVar4,0x1d7,0xe0,(uint)(*(int *)(iVar2 + 0x1b0) < iVar4));
    this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x17);
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,*(int *)(iVar2 + 0x34) + -1,0);
    iVar4 = *(int *)(iVar2 + 0x2c4);
    iVar6 = lVar5 + iVar4;
    if (iVar6 < 1) {
      iVar6 = 1;
    }
    if (iVar4 < 1) {
      uVar7 = (uint)(iVar4 < 0);
    }
    else {
      uVar7 = 2;
    }
    FUN_00405590(uVar1,0xe,iVar6,0x1d7,0x50,uVar7);
    iVar4 = FUN_00447290(**(int **)(iVar2 + 0x3fc),(*(int **)(iVar2 + 0x3fc))[1],
                         (int *)&stack0xfffffff8,(int *)&stack0xfffffff4);
    switch(iVar4) {
    case 0:
      iVar2 = *(int *)(iVar2 + 0x4e8);
      break;
    case 1:
      iVar2 = *(int *)(iVar2 + 0x4ec);
      break;
    case 2:
      iVar2 = *(int *)(iVar2 + 0x4f0);
      break;
    case 3:
      iVar2 = *(int *)(iVar2 + 0x4f4);
      break;
    case 4:
      iVar2 = *(int *)(iVar2 + 0x4f8);
      break;
    case 5:
    case 6:
    case 7:
    case 8:
      iVar2 = *(int *)(iVar2 + 0x4e8 + iVar4 * 4);
      break;
    case 9:
      iVar2 = FUN_00466b00(this_01,in_stack_fffffff8,in_stack_fffffff4,-1,-1);
      break;
    default:
      goto switchD_00408cf6_caseD_a;
    }
    if ((iVar2 != 0) && (*(int *)((int)this + 0xa6d4) == 0)) {
      if (2 < *(int *)((int)this + 0xa978)) {
        FUN_00409160(uVar1,iVar2,1,unaff_EDI,unaff_ESI,unaff_EBX,iVar3,(char)in_stack_fffffff4,
                     in_stack_fffffff8,(int)this_01,unaff_retaddr,param_1,param_2,param_3,param_4,
                     param_5,param_6,param_7);
      }
      *(undefined4 *)((int)this + 0xa980) = 1;
    }
  }
switchD_00408cf6_caseD_a:
  return;
}



/*
 * Function: FUN_00408db0
 * Address: 00408db0
 */

void __thiscall
FUN_00408db0(void *this,int param_1,int param_2,int param_3,int param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,int param_8,undefined4 param_9,undefined4 param_10
            ,undefined4 param_11)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  int unaff_retaddr;
  
  if (*(int *)((int)this + 0xa074) == 0) {
    return;
  }
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (iVar2 == 0) {
    return;
  }
  iVar3 = **(int **)(iVar2 + 0x3fc);
  if (((iVar3 < 0x150) || (iVar1 = (*(int **)(iVar2 + 0x3fc))[1], iVar1 < 0x48)) ||
     (iVar3 = iVar3 + -0x150, iVar1 = iVar1 + -0x48,
     iVar3 = FUN_00466b00((void *)(iVar2 + 0x548),(int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5,
                          (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,-1,-1), iVar3 == 0)) {
    iVar3 = **(int **)(iVar2 + 0x3fc);
    if (((iVar3 < 0x150) || (iVar1 = (*(int **)(iVar2 + 0x3fc))[1], iVar1 < 0xa8)) ||
       (iVar3 = iVar3 + -0x150, iVar1 = iVar1 + -0xa8,
       iVar3 = FUN_00466b00((void *)(iVar2 + 0x54c),(int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5,
                            (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,-1,-1), iVar3 == 0)) {
      iVar3 = **(int **)(iVar2 + 0x3fc);
      if (((iVar3 < 0x150) || (iVar1 = (*(int **)(iVar2 + 0x3fc))[1], iVar1 < 0xe8)) ||
         (iVar3 = iVar3 + -0x150, iVar1 = iVar1 + -0xe8,
         iVar3 = FUN_00466b00((void *)(iVar2 + 0x550),(int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5,
                              (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,-1,-1), iVar3 == 0)) {
        iVar3 = **(int **)(iVar2 + 0x3fc);
        if (iVar3 < 0x150) {
          return;
        }
        iVar1 = (*(int **)(iVar2 + 0x3fc))[1];
        if (iVar1 < 0x128) {
          return;
        }
        iVar3 = iVar3 + -0x150;
        iVar1 = iVar1 + -0x128;
        iVar3 = FUN_00466b00((void *)(iVar2 + 0x554),(int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5,
                             (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,-1,-1);
        if (iVar3 == 0) {
          return;
        }
      }
    }
  }
  if (*(int *)((int)this + 0xa6d4) == 0) {
    if (2 < *(int *)((int)this + 0xa978)) {
      FUN_00409160(param_1,iVar3,1,unaff_EDI,unaff_ESI,unaff_EBX,unaff_retaddr,(undefined)param_1,
                   param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,param_11
                  );
    }
    *(undefined4 *)((int)this + 0xa980) = 1;
  }
  return;
}



/*
 * Function: FUN_00408f50
 * Address: 00408f50
 */

void __thiscall
FUN_00408f50(void *this,int param_1,int param_2,int param_3,int param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,int param_8,undefined4 param_9,undefined4 param_10
            ,undefined4 param_11)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  int unaff_retaddr;
  
  if (*(int *)((int)this + 0xa050) != 0) {
    iVar3 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    if (iVar3 != 0) {
      iVar1 = **(int **)(iVar3 + 0x3fc);
      if ((((0xf < iVar1) && (iVar1 < 0x130)) &&
          (iVar2 = (*(int **)(iVar3 + 0x3fc))[1], 0x47 < iVar2)) && (iVar2 < 0x188)) {
        iVar3 = FUN_00466b00(*(void **)(iVar3 + 0x584),
                             (int)(iVar1 + -0x10 + (iVar1 + -0x10 >> 0x1f & 0x1fU)) >> 5,
                             (int)(iVar2 + -0x48 + (iVar2 + -0x48 >> 0x1f & 0x1fU)) >> 5,-1,-1);
        if ((iVar3 != 0) && (*(int *)((int)this + 0xa6d4) == 0)) {
          if (1 < *(int *)((int)this + 0xa978)) {
            FUN_00409160(param_1,iVar3,0,unaff_EDI,unaff_ESI,unaff_EBX,unaff_retaddr,
                         (undefined)param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,
                         param_9,param_10,param_11);
          }
          *(undefined4 *)((int)this + 0xa980) = 1;
        }
      }
    }
  }
  return;
}



/*
 * Function: FUN_00409000
 * Address: 00409000
 */

void __thiscall
FUN_00409000(void *this,int param_1,int param_2,int param_3,int param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,int param_8,undefined4 param_9,undefined4 param_10
            ,undefined4 param_11)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  int unaff_retaddr;
  
  if ((*(int *)((int)this + 0xa054) != 0) && (*(int *)((int)this + 0xa040) == 0)) {
    iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    if (iVar2 != 0) {
      iVar3 = **(int **)(iVar2 + 0x3fc);
      if ((0xf < iVar3) && (iVar1 = (*(int **)(iVar2 + 0x3fc))[1], 0x47 < iVar1)) {
        iVar3 = iVar3 + -0x10;
        iVar1 = iVar1 + -0x48;
        iVar2 = FUN_00466b00((void *)(iVar2 + 0x51c),(int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5,
                             (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,-1,-1);
        if ((iVar2 != 0) && (*(int *)((int)this + 0xa6d4) == 0)) {
          if (2 < *(int *)((int)this + 0xa978)) {
            FUN_00409160(param_1,iVar2,1,unaff_EDI,unaff_ESI,unaff_EBX,unaff_retaddr,
                         (undefined)param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,
                         param_9,param_10,param_11);
          }
          *(undefined4 *)((int)this + 0xa980) = 1;
        }
      }
    }
  }
  return;
}



/*
 * Function: FUN_004090b0
 * Address: 004090b0
 */

void __thiscall
FUN_004090b0(void *this,int param_1,int param_2,int param_3,int param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,int param_8,undefined4 param_9,undefined4 param_10
            ,undefined4 param_11)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  int unaff_retaddr;
  
  if ((*(int *)((int)this + 0xa058) != 0) && (*(int *)((int)this + 0xa040) == 0)) {
    iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    if (iVar2 != 0) {
      iVar3 = **(int **)(iVar2 + 0x3fc);
      if ((0xf < iVar3) && (iVar1 = (*(int **)(iVar2 + 0x3fc))[1], 0x47 < iVar1)) {
        iVar3 = iVar3 + -0x10;
        iVar1 = iVar1 + -0x48;
        iVar2 = FUN_00466b00((void *)(iVar2 + 0x520 + *(int *)(iVar2 + 0x558) * 4),
                             (int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5,
                             (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,-1,-1);
        if ((iVar2 != 0) && (*(int *)((int)this + 0xa6d4) == 0)) {
          if (2 < *(int *)((int)this + 0xa978)) {
            FUN_00409160(param_1,iVar2,1,unaff_EDI,unaff_ESI,unaff_EBX,unaff_retaddr,
                         (undefined)param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,
                         param_9,param_10,param_11);
          }
          *(undefined4 *)((int)this + 0xa980) = 1;
        }
      }
    }
  }
  return;
}



/*
 * Function: FUN_00409160
 * Address: 00409160
 */

void FUN_00409160(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,
                 int param_7,undefined param_8,int param_9,int param_10,int param_11,
                 undefined4 param_12,undefined4 param_13,undefined4 param_14,int param_15,
                 undefined4 param_16,undefined4 param_17,undefined4 param_18)

{
  char cVar1;
  int *piVar2;
  int extraout_ECX;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *puVar7;
  char *pcVar8;
  char *pcVar9;
  char *pcVar10;
  undefined1 unaff_retaddr;
  undefined uStack00000021;
  undefined uStack00000022;
  char cVar11;
  char cVar12;
  long in_stack_00002368;
  void *in_stack_0000236c;
  int in_stack_00002370;
  
  FUN_00467f60(unaff_retaddr);
  puVar7 = (undefined4 *)&stack0x00001365;
  for (iVar3 = 0x3ff; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  *(undefined2 *)puVar7 = 0;
  *(undefined *)((int)puVar7 + 2) = 0;
  puVar7 = (undefined4 *)&stack0x00000365;
  cVar12 = DAT_0048d9f0;
  for (iVar3 = 0x3ff; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  *(undefined2 *)puVar7 = 0;
  *(undefined *)((int)puVar7 + 2) = 0;
  pcVar8 = s_Fire___3d_Water___3d_Earth___3d_T_0047dda4;
  pcVar10 = &stack0x00000164;
  cVar11 = DAT_0048d9f0;
  for (iVar3 = 0xc; iVar3 != 0; iVar3 = iVar3 + -1) {
    *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
    pcVar8 = pcVar8 + 4;
    pcVar10 = pcVar10 + 4;
  }
  *pcVar10 = *pcVar8;
  puVar7 = (undefined4 *)&stack0x00000195;
  for (iVar3 = 0x33; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  *(undefined2 *)puVar7 = 0;
  *(undefined *)((int)puVar7 + 2) = 0;
  pcVar8 = s_Holy___3d_Dark___3d_Gel___3d_Met_0047dd70;
  pcVar10 = &stack0x00000264;
  for (iVar3 = 0xc; iVar3 != 0; iVar3 = iVar3 + -1) {
    *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
    pcVar8 = pcVar8 + 4;
    pcVar10 = pcVar10 + 4;
  }
  *pcVar10 = *pcVar8;
  puVar7 = (undefined4 *)&stack0x00000295;
  for (iVar3 = 0x33; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  *(undefined2 *)puVar7 = 0;
  *(undefined *)((int)puVar7 + 2) = 0;
  param_7 = extraout_ECX;
  piVar2 = (int *)FUN_00456440(DAT_0048d8b4);
  param_10 = *piVar2;
  iVar3 = FUN_00456440(DAT_0048d8b4);
  param_9 = *(int *)(iVar3 + 4);
  iVar3 = FUN_00427b40((int)in_stack_0000236c);
  if (iVar3 == 1) {
    FUN_00456230((int)in_stack_0000236c);
    FUN_00467d51(&stack0x00001364,(byte *)s___s__0047dd68);
  }
  else {
    FUN_00434cd0((int)in_stack_0000236c);
    FUN_00467d51(&stack0x00001364,(byte *)s___s__0047dd68);
  }
  FUN_00467d51(&stack0x00000364,&DAT_0047d884);
  iVar3 = FUN_00465e60(in_stack_0000236c,2,-1,-1);
  if ((iVar3 != 1) || (iVar3 = FUN_004308a0((int)in_stack_0000236c), iVar3 == 1)) {
    uVar4 = 0xffffffff;
    pcVar8 = &DAT_0047d884;
    do {
      pcVar10 = pcVar8;
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      pcVar10 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar10;
    } while (cVar1 != '\0');
    uVar4 = ~uVar4;
    iVar3 = -1;
    pcVar8 = &stack0x00001364;
    do {
      pcVar9 = pcVar8;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar9;
    } while (cVar1 != '\0');
    pcVar8 = pcVar10 + -uVar4;
    pcVar10 = pcVar9 + -1;
    for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
      pcVar8 = pcVar8 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *pcVar10 = *pcVar8;
      pcVar8 = pcVar8 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &DAT_0047d884;
    do {
      pcVar10 = pcVar8;
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      pcVar10 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar10;
    } while (cVar1 != '\0');
    uVar4 = ~uVar4;
    iVar3 = -1;
    pcVar8 = &stack0x00000364;
    do {
      pcVar9 = pcVar8;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar9;
    } while (cVar1 != '\0');
    pcVar8 = pcVar10 + -uVar4;
    pcVar10 = pcVar9 + -1;
    for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
      pcVar8 = pcVar8 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *pcVar10 = *pcVar8;
      pcVar8 = pcVar8 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &stack0x00001364;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    uVar5 = 0xffffffff;
    pcVar8 = &stack0x00000364;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    FUN_00409a60(in_stack_0000236c,&stack0x00001364,&stack0x00000364,in_stack_00002370);
    uVar6 = 0xffffffff;
    pcVar8 = &stack0x00001364;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    if (~uVar6 - 1 == ~uVar4 - 1) {
      (&stack0x00001362)[~uVar4] = 0;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &stack0x00000364;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    if (~uVar4 - 1 == ~uVar5 - 1) {
      (&stack0x00000362)[~uVar5] = 0;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &DAT_0047d884;
    do {
      pcVar10 = pcVar8;
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      pcVar10 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar10;
    } while (cVar1 != '\0');
    uVar4 = ~uVar4;
    iVar3 = -1;
    pcVar8 = &stack0x00001364;
    do {
      pcVar9 = pcVar8;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar9;
    } while (cVar1 != '\0');
    pcVar8 = pcVar10 + -uVar4;
    pcVar10 = pcVar9 + -1;
    for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
      pcVar8 = pcVar8 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *pcVar10 = *pcVar8;
      pcVar8 = pcVar8 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &DAT_0047d884;
    do {
      pcVar10 = pcVar8;
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      pcVar10 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar10;
    } while (cVar1 != '\0');
    uVar4 = ~uVar4;
    iVar3 = -1;
    pcVar8 = &stack0x00000364;
    do {
      pcVar9 = pcVar8;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar8 + 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar9;
    } while (cVar1 != '\0');
    pcVar8 = pcVar10 + -uVar4;
    pcVar10 = pcVar9 + -1;
    for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
      pcVar8 = pcVar8 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *pcVar10 = *pcVar8;
      pcVar8 = pcVar8 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &stack0x00001364;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    uVar5 = 0xffffffff;
    pcVar8 = &stack0x00000364;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    iVar3 = FUN_00427b40((int)in_stack_0000236c);
    if (iVar3 == 1) {
      FUN_0040aed0(in_stack_0000236c,&stack0x00001364,&stack0x00000364);
    }
    uVar6 = 0xffffffff;
    pcVar8 = &stack0x00001364;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    if (~uVar6 - 1 == ~uVar4 - 1) {
      (&stack0x00001362)[~uVar4] = 0;
    }
    uVar4 = 0xffffffff;
    pcVar8 = &stack0x00000364;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    if (~uVar4 - 1 == ~uVar5 - 1) {
      (&stack0x00000362)[~uVar5] = 0;
    }
    iVar3 = FUN_00427b40((int)in_stack_0000236c);
    if (((iVar3 == 1) && (iVar3 = FUN_00456210((int)in_stack_0000236c), -1 < iVar3)) && (iVar3 < 3))
    {
      FUN_00465c30(in_stack_0000236c,&param_11);
      uVar4 = 0xffffffff;
      pcVar8 = &DAT_0047d884;
      do {
        pcVar10 = pcVar8;
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        pcVar10 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar10;
      } while (cVar1 != '\0');
      uVar4 = ~uVar4;
      iVar3 = -1;
      pcVar8 = &stack0x00001364;
      do {
        pcVar9 = pcVar8;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar9;
      } while (cVar1 != '\0');
      pcVar8 = pcVar10 + -uVar4;
      pcVar10 = pcVar9 + -1;
      for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
        pcVar8 = pcVar8 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
        *pcVar10 = *pcVar8;
        pcVar8 = pcVar8 + 1;
        pcVar10 = pcVar10 + 1;
      }
      FUN_00467d51(&stack0x00000064,&stack0x00000164);
      uVar4 = 0xffffffff;
      pcVar8 = &stack0x00000064;
      do {
        pcVar10 = pcVar8;
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        pcVar10 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar10;
      } while (cVar1 != '\0');
      uVar4 = ~uVar4;
      iVar3 = -1;
      pcVar8 = &stack0x00001364;
      do {
        pcVar9 = pcVar8;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar9;
      } while (cVar1 != '\0');
      pcVar8 = pcVar10 + -uVar4;
      pcVar10 = pcVar9 + -1;
      for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
        pcVar8 = pcVar8 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
        *pcVar10 = *pcVar8;
        pcVar8 = pcVar8 + 1;
        pcVar10 = pcVar10 + 1;
      }
      FUN_00467d51(&stack0x00000064,&stack0x00000264);
      uVar4 = 0xffffffff;
      pcVar8 = &stack0x00000064;
      do {
        pcVar10 = pcVar8;
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        pcVar10 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar10;
      } while (cVar1 != '\0');
      uVar4 = ~uVar4;
      iVar3 = -1;
      pcVar8 = &stack0x00001364;
      do {
        pcVar9 = pcVar8;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar9;
      } while (cVar1 != '\0');
      pcVar8 = pcVar10 + -uVar4;
      pcVar10 = pcVar9 + -1;
      for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
        pcVar8 = pcVar8 + 4;
        pcVar10 = pcVar10 + 4;
      }
      param_5 = 4;
      for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
        *pcVar10 = *pcVar8;
        pcVar8 = pcVar8 + 1;
        pcVar10 = pcVar10 + 1;
      }
      uVar4 = 0xffffffff;
      pcVar8 = &DAT_0047d884;
      do {
        pcVar10 = pcVar8;
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        pcVar10 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar10;
      } while (cVar1 != '\0');
      uVar4 = ~uVar4;
      iVar3 = -1;
      pcVar8 = &stack0x00000364;
      do {
        pcVar9 = pcVar8;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar9;
      } while (cVar1 != '\0');
      pcVar8 = pcVar10 + -uVar4;
      pcVar10 = pcVar9 + -1;
      for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
        pcVar8 = pcVar8 + 4;
        pcVar10 = pcVar10 + 4;
      }
      piVar2 = &param_11;
      for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
        *pcVar10 = *pcVar8;
        pcVar8 = pcVar8 + 1;
        pcVar10 = pcVar10 + 1;
      }
      do {
        if (*piVar2 < 0) {
          FUN_00467d51(&stack0x00000064,(byte *)s__3d_0047dd58);
          pcVar8 = &stack0x00000064;
        }
        else {
          pcVar8 = s__0047dd48;
        }
        uVar4 = 0xffffffff;
        do {
          pcVar10 = pcVar8;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar10 = pcVar8 + 1;
          cVar1 = *pcVar8;
          pcVar8 = pcVar10;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        piVar2 = piVar2 + 1;
        iVar3 = -1;
        pcVar8 = &stack0x00000364;
        do {
          pcVar9 = pcVar8;
          if (iVar3 == 0) break;
          iVar3 = iVar3 + -1;
          pcVar9 = pcVar8 + 1;
          cVar1 = *pcVar8;
          pcVar8 = pcVar9;
        } while (cVar1 != '\0');
        pcVar8 = pcVar10 + -uVar4;
        pcVar10 = pcVar9 + -1;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
          pcVar8 = pcVar8 + 4;
          pcVar10 = pcVar10 + 4;
        }
        param_5 = param_5 + -1;
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pcVar10 = *pcVar8;
          pcVar8 = pcVar8 + 1;
          pcVar10 = pcVar10 + 1;
        }
      } while (param_5 != 0);
      uVar4 = 0xffffffff;
      pcVar8 = &DAT_0047d884;
      do {
        pcVar10 = pcVar8;
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        pcVar10 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar10;
      } while (cVar1 != '\0');
      uVar4 = ~uVar4;
      param_5 = 4;
      iVar3 = -1;
      pcVar8 = &stack0x00000364;
      do {
        pcVar9 = pcVar8;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar9;
      } while (cVar1 != '\0');
      pcVar8 = pcVar10 + -uVar4;
      pcVar10 = pcVar9 + -1;
      for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
        pcVar8 = pcVar8 + 4;
        pcVar10 = pcVar10 + 4;
      }
      piVar2 = &param_15;
      for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
        *pcVar10 = *pcVar8;
        pcVar8 = pcVar8 + 1;
        pcVar10 = pcVar10 + 1;
      }
      do {
        if (*piVar2 < 0) {
          FUN_00467d51(&stack0x00000064,(byte *)s__3d_0047dd58);
          pcVar8 = &stack0x00000064;
        }
        else {
          pcVar8 = s__0047dd48;
        }
        uVar4 = 0xffffffff;
        do {
          pcVar10 = pcVar8;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar10 = pcVar8 + 1;
          cVar1 = *pcVar8;
          pcVar8 = pcVar10;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        piVar2 = piVar2 + 1;
        iVar3 = -1;
        pcVar8 = &stack0x00000364;
        do {
          pcVar9 = pcVar8;
          if (iVar3 == 0) break;
          iVar3 = iVar3 + -1;
          pcVar9 = pcVar8 + 1;
          cVar1 = *pcVar8;
          pcVar8 = pcVar9;
        } while (cVar1 != '\0');
        pcVar8 = pcVar10 + -uVar4;
        pcVar10 = pcVar9 + -1;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
          pcVar8 = pcVar8 + 4;
          pcVar10 = pcVar10 + 4;
        }
        param_5 = param_5 + -1;
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pcVar10 = *pcVar8;
          pcVar8 = pcVar8 + 1;
          pcVar10 = pcVar10 + 1;
        }
      } while (param_5 != 0);
      uVar4 = 0xffffffff;
      pcVar8 = &DAT_0047d884;
      do {
        pcVar10 = pcVar8;
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        pcVar10 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar10;
      } while (cVar1 != '\0');
      uVar4 = ~uVar4;
      iVar3 = -1;
      pcVar8 = &stack0x00000364;
      do {
        pcVar9 = pcVar8;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar8 + 1;
        cVar1 = *pcVar8;
        pcVar8 = pcVar9;
      } while (cVar1 != '\0');
      pcVar8 = pcVar10 + -uVar4;
      pcVar10 = pcVar9 + -1;
      for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
        pcVar8 = pcVar8 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar4 = uVar4 & 3; param_5 = 0, uVar4 != 0; uVar4 = uVar4 - 1) {
        *pcVar10 = *pcVar8;
        pcVar8 = pcVar8 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
  }
  RKC_UPDIB::GetFontParam(DAT_00482d10,1,(long *)&stack0x0000004c,(long *)&stack0x00000050);
  iVar3 = FUN_00430890((int)in_stack_0000236c);
  if ((iVar3 != 1) && (iVar3 = FUN_00430890((int)in_stack_0000236c), iVar3 != 2)) {
    FUN_00430890((int)in_stack_0000236c);
  }
  if (cVar12 != '\0') {
    piVar2 = FUN_00457db0(DAT_0048ce10);
    param_6 = param_6 & 0xff000000;
    SetRect((LPRECT)&stack0x00000054,param_10,param_9,0,0);
    FUN_00456550(piVar2,2,0x21,1,(int *)&stack0x00000054,&param_6,(int *)&stack0x00000000,
                 &stack0x00001364,(int *)0x0,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,600);
    FUN_00457690(piVar2,&param_1);
    param_1 = param_1 - param_3 / 2;
    param_2 = param_2 + 8;
    if (param_1 < 1) {
      param_1 = 1;
    }
    if (param_2 < 1) {
      param_2 = 1;
    }
    if (0x27f < param_3 + param_1) {
      param_1 = 0x280 - param_3;
    }
    if (0x1df < param_2 + param_4) {
      param_2 = 0x1e0 - param_4;
    }
    FUN_004576b0(piVar2,&param_1);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_00002368,2,0,0,0,0x204,param_1 + -1,param_2 + -1,param_1 + -1,
               param_4 + -1 + param_2,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_00002368,2,0,0,0,0x204,param_1 + -1,param_2 + -1,
               param_3 + -1 + param_1,param_2 + -1,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,
               (RKC_DIB *)0x0);
    iVar3 = param_3 + -1 + param_1;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_00002368,2,0,0,0,0x204,iVar3,param_2 + -1,iVar3,
               param_4 + -1 + param_2,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar3 = param_4 + -1 + param_2;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,in_stack_00002368,2,0,0,0,0x204,param_1 + -1,iVar3,
               param_3 + -1 + param_1,iVar3,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
    *(int **)(param_7 + 0xa6d4) = piVar2;
  }
  if (cVar11 != '\0') {
    piVar2 = FUN_00457db0(DAT_0048ce10);
    SetRect((LPRECT)&stack0x00000054,param_10,param_9,0,0);
    uStack00000022 = 0xe0;
    uStack00000021 = 0;
    param_8 = 0;
    FUN_00456550(piVar2,2,0x20,1,(int *)&stack0x00000054,&param_6,(int *)&param_8,&stack0x00000364,
                 (int *)0x0,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,600);
    *(int **)(param_7 + 0xa6d8) = piVar2;
    FUN_004576b0(piVar2,&param_1);
  }
  return;
}



/*
 * Function: FUN_00409a60
 * Address: 00409a60
 */

void FUN_00409a60(void *param_1,char *param_2,char *param_3,int param_4)

{
  char cVar1;
  bool bVar2;
  int iVar3;
  undefined4 uVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  char *pcVar9;
  char *pcVar10;
  char *pcVar11;
  char local_164 [64];
  int local_124;
  undefined *local_120;
  undefined *local_11c;
  undefined *local_118;
  undefined *local_114;
  undefined *local_110;
  undefined *local_10c;
  undefined *local_108;
  undefined *local_104;
  char local_100 [256];
  
  local_120 = &DAT_0047e048;
  local_11c = &DAT_0047e03c;
  local_118 = &DAT_0047e034;
  local_114 = &DAT_0047e028;
  local_110 = &DAT_0047e020;
  local_10c = &DAT_0047e014;
  local_108 = &DAT_0047e00c;
  local_104 = &DAT_0047e000;
  local_124 = FUN_00434cb0(DAT_0048ce0c);
  iVar3 = FUN_00427b40((int)param_1);
  if (iVar3 == 0) {
    iVar3 = FUN_00456230((int)param_1);
    if (iVar3 != 0) {
      FUN_00456230((int)param_1);
    }
  }
  else {
    iVar3 = FUN_00434cd0((int)param_1);
    if (iVar3 != 0) {
      FUN_00434cd0((int)param_1);
    }
  }
  uVar4 = FUN_00456210((int)param_1);
  switch(uVar4) {
  case 0:
    piVar5 = (int *)FUN_004677a0((int)param_1);
    iVar3 = *piVar5;
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Attack___9d_0047dfe0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
    if (iVar3 < 0) {
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
LAB_00409b85:
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
    else if (iVar3 != 0) {
      pcVar11 = &DAT_0047d884;
      goto LAB_00409b85;
    }
    iVar3 = piVar5[1];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Hit_Rate___9d_0047dfa0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409c43;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409c43:
    iVar3 = piVar5[2];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Defense___9d_0047df80);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409cdc;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409cdc:
    iVar3 = piVar5[3];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Evasion_Rate___9d_0047df60);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409d75;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409d75:
    iVar3 = piVar5[4];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Attack___9d_0047df40);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409e0e;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409e0e:
    iVar3 = piVar5[5];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Hit_Rate___9d_0047df20);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409ea7;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409ea7:
    iVar3 = piVar5[6];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Defense___9d_0047df00);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409f40;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409f40:
    iVar3 = piVar5[7];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Evasion_Rate___9d_0047dee0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_00409fd9;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_00409fd9:
    iVar3 = piVar5[8];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Speed_of_Attack___9d_0047dec0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a072;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a072:
    iVar3 = piVar5[9];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Walking_Speed___9d_0047dea0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a10b;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a10b:
    FUN_00467720((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Durability___9d_0047de80);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    iVar3 = FUN_00467710((int)param_1);
    iVar6 = FUN_00467720((int)param_1);
    if (iVar3 / 10 < iVar6) {
      pcVar11 = &DAT_0047d884;
    }
    else {
      FUN_00467720((int)param_1);
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
    }
    uVar7 = 0xffffffff;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    bVar2 = false;
    iVar3 = FUN_004677c0((int)param_1);
    if (-1 < iVar3) {
      local_100[0] = '\0';
      iVar3 = FUN_004677d0((int)param_1);
      if (0 < iVar3) {
        iVar3 = FUN_004677d0((int)param_1);
        uVar7 = 0xffffffff;
        pcVar11 = (char *)(&local_124)[iVar3];
        do {
          pcVar10 = pcVar11;
          if (uVar7 == 0) break;
          uVar7 = uVar7 - 1;
          pcVar10 = pcVar11 + 1;
          cVar1 = *pcVar11;
          pcVar11 = pcVar10;
        } while (cVar1 != '\0');
        uVar7 = ~uVar7;
        iVar3 = -1;
        pcVar11 = local_100;
        do {
          pcVar9 = pcVar11;
          if (iVar3 == 0) break;
          iVar3 = iVar3 + -1;
          pcVar9 = pcVar11 + 1;
          cVar1 = *pcVar11;
          pcVar11 = pcVar9;
        } while (cVar1 != '\0');
        pcVar11 = pcVar10 + -uVar7;
        pcVar10 = pcVar9 + -1;
        for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
          *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
          pcVar11 = pcVar11 + 4;
          pcVar10 = pcVar10 + 4;
        }
        for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
          *pcVar10 = *pcVar11;
          pcVar11 = pcVar11 + 1;
          pcVar10 = pcVar10 + 1;
        }
        bVar2 = true;
      }
      iVar3 = FUN_00467820((int)param_1);
      if (iVar3 == 1) {
        uVar7 = 0xffffffff;
        pcVar11 = s_Pierce_0047de78;
        do {
          pcVar10 = pcVar11;
          if (uVar7 == 0) break;
          uVar7 = uVar7 - 1;
          pcVar10 = pcVar11 + 1;
          cVar1 = *pcVar11;
          pcVar11 = pcVar10;
        } while (cVar1 != '\0');
        uVar7 = ~uVar7;
        iVar3 = -1;
        pcVar11 = local_100;
        do {
          pcVar9 = pcVar11;
          if (iVar3 == 0) break;
          iVar3 = iVar3 + -1;
          pcVar9 = pcVar11 + 1;
          cVar1 = *pcVar11;
          pcVar11 = pcVar9;
        } while (cVar1 != '\0');
        pcVar11 = pcVar10 + -uVar7;
        pcVar10 = pcVar9 + -1;
        for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
          *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
          pcVar11 = pcVar11 + 4;
          pcVar10 = pcVar10 + 4;
        }
        for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
          *pcVar10 = *pcVar11;
          pcVar11 = pcVar11 + 1;
          pcVar10 = pcVar10 + 1;
        }
      }
      else if (!bVar2) goto LAB_0040a2d3;
      FUN_00467d51(local_164,(byte *)s_Orbit_Efficiency___9s_0047de58);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      uVar7 = 0xffffffff;
      pcVar11 = &DAT_0047d884;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a2d3:
    FUN_00427b10((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Weight___9d_0047de38);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar7 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    FUN_00467780((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Required_Level___9d_0047de18);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    iVar3 = FUN_00467780((int)param_1);
    if (*(int *)(local_124 + 0x34) < iVar3) {
      FUN_00467780((int)param_1);
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
    }
    else {
      pcVar11 = &DAT_0047d884;
    }
    uVar7 = 0xffffffff;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    break;
  case 1:
    piVar5 = (int *)FUN_004677a0((int)param_1);
    iVar3 = *piVar5;
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Attack___9d_0047dfe0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
    if (iVar3 < 0) {
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
LAB_0040a47d:
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
    else if (iVar3 != 0) {
      pcVar11 = &DAT_0047d884;
      goto LAB_0040a47d;
    }
    iVar3 = piVar5[1];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Hit_Rate___9d_0047dfa0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a53b;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a53b:
    iVar3 = piVar5[2];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Defense___9d_0047df80);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a5d4;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a5d4:
    iVar3 = piVar5[3];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Evasion_Rate___9d_0047df60);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a66d;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a66d:
    iVar3 = piVar5[4];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Attack___9d_0047df40);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a706;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a706:
    iVar3 = piVar5[5];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Hit_Rate___9d_0047df20);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a79f;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a79f:
    iVar3 = piVar5[6];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Defense___9d_0047df00);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a838;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a838:
    iVar3 = piVar5[7];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Magical_Evasion_Rate___9d_0047dee0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a8d1;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a8d1:
    iVar3 = piVar5[8];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Speed_of_Attack___9d_0047dec0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040a96a;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040a96a:
    iVar3 = piVar5[9];
    if (iVar3 != 0) {
      FUN_00467d51(local_164,(byte *)s_Walking_Speed___9d_0047dea0);
      uVar7 = 0xffffffff;
      pcVar11 = local_164;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar6 = -1;
      pcVar11 = param_2;
      do {
        pcVar9 = pcVar11;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
      if (iVar3 < 0) {
        FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
        pcVar11 = local_164;
      }
      else {
        if (iVar3 == 0) goto LAB_0040aa03;
        pcVar11 = &DAT_0047d884;
      }
      uVar7 = 0xffffffff;
      do {
        pcVar10 = pcVar11;
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar10 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar10;
      } while (cVar1 != '\0');
      uVar7 = ~uVar7;
      iVar3 = -1;
      pcVar11 = param_3;
      do {
        pcVar9 = pcVar11;
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      pcVar11 = pcVar10 + -uVar7;
      pcVar10 = pcVar9 + -1;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar10 = pcVar10 + 4;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *pcVar10 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar10 = pcVar10 + 1;
      }
    }
LAB_0040aa03:
    FUN_00467720((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Durability___9d_0047de80);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    iVar3 = FUN_00467710((int)param_1);
    iVar6 = FUN_00467720((int)param_1);
    if (iVar3 / 10 < iVar6) {
      pcVar11 = &DAT_0047d884;
    }
    else {
      FUN_00467720((int)param_1);
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
    }
    uVar7 = 0xffffffff;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    FUN_00427b10((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Weight___9d_0047de38);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar7 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    FUN_00467780((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Required_Level___9d_0047de18);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    iVar3 = FUN_00467780((int)param_1);
    if (*(int *)(local_124 + 0x34) < iVar3) {
      FUN_00467780((int)param_1);
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
    }
    else {
      pcVar11 = &DAT_0047d884;
    }
    uVar7 = 0xffffffff;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    break;
  case 2:
    FUN_00427b10((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Weight___9d_0047de38);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    uVar7 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    FUN_00465990((int)param_1);
    FUN_00467d51(local_164,(byte *)s_Required_Level___9d_0047de18);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_2;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    iVar3 = FUN_00465990((int)param_1);
    if (*(int *)(local_124 + 0x34) < iVar3) {
      FUN_00465990((int)param_1);
      FUN_00467d51(local_164,(byte *)s__9d_0047dfc0);
      pcVar11 = local_164;
    }
    else {
      pcVar11 = &DAT_0047d884;
    }
    uVar7 = 0xffffffff;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    pcVar11 = param_3;
    do {
      pcVar9 = pcVar11;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    pcVar11 = pcVar10 + -uVar7;
    pcVar10 = pcVar9 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar10 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar10 = pcVar10 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar10 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar10 = pcVar10 + 1;
    }
    if ((param_4 != 0) && (iVar3 = FUN_00466480((int)param_1), iVar3 != -1)) {
      return;
    }
    FUN_004661c0(param_1,param_4);
    FUN_00467d51(local_164,(byte *)s_Sale_Price___9d_0047ddf8);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    do {
      pcVar11 = param_2;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar11 = param_2 + 1;
      cVar1 = *param_2;
      param_2 = pcVar11;
    } while (cVar1 != '\0');
    pcVar10 = pcVar10 + -uVar7;
    pcVar11 = pcVar11 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar11 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar11 = pcVar11 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar11 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar11 = pcVar11 + 1;
    }
    uVar7 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    pcVar10 = pcVar10 + -uVar7;
    goto LAB_0040ae99;
  case 3:
    if (param_4 != 0) {
      iVar3 = FUN_00466480((int)param_1);
joined_r0x0040ae35:
      if (iVar3 != -1) {
        return;
      }
    }
LAB_0040ae37:
    FUN_004661c0(param_1,param_4);
    pcVar11 = s_Sale_Price___9d_0047ddf8;
    goto LAB_0040ae45;
  case 4:
    iVar3 = FUN_00466390((int)param_1);
    if (iVar3 != 0) {
      if (param_4 != 0) {
        iVar3 = FUN_00466480((int)param_1);
        goto joined_r0x0040ae35;
      }
      goto LAB_0040ae37;
    }
    FUN_004661c0(param_1,0);
    pcVar11 = s_Price___9d_0047ddd8;
LAB_0040ae45:
    FUN_00467d51(local_164,(byte *)pcVar11);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    do {
      pcVar11 = param_2;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar11 = param_2 + 1;
      cVar1 = *param_2;
      param_2 = pcVar11;
    } while (cVar1 != '\0');
    pcVar10 = pcVar10 + -uVar7;
    pcVar11 = pcVar11 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar11 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar11 = pcVar11 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar11 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar11 = pcVar11 + 1;
    }
    uVar7 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    pcVar10 = pcVar10 + -uVar7;
    goto LAB_0040ae99;
  default:
    goto switchD_00409aff_caseD_5;
  }
  if ((param_4 == 0) || (iVar3 = FUN_00466480((int)param_1), iVar3 == -1)) {
    FUN_004661c0(param_1,param_4);
    FUN_00467d51(local_164,(byte *)s_Sale_Price___9d_0047ddf8);
    uVar7 = 0xffffffff;
    pcVar11 = local_164;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    iVar3 = -1;
    do {
      pcVar11 = param_2;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar11 = param_2 + 1;
      cVar1 = *param_2;
      param_2 = pcVar11;
    } while (cVar1 != '\0');
    pcVar10 = pcVar10 + -uVar7;
    pcVar11 = pcVar11 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar11 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar11 = pcVar11 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar11 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar11 = pcVar11 + 1;
    }
    uVar7 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar10 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar10 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar10;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    pcVar10 = pcVar10 + -uVar7;
LAB_0040ae99:
    iVar3 = -1;
    do {
      pcVar11 = param_3;
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      pcVar11 = param_3 + 1;
      cVar1 = *param_3;
      param_3 = pcVar11;
    } while (cVar1 != '\0');
    pcVar11 = pcVar11 + -1;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar11 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar11 = pcVar11 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar11 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar11 = pcVar11 + 1;
    }
  }
switchD_00409aff_caseD_5:
  return;
}



/*
 * Function: FUN_0040aed0
 * Address: 0040aed0
 */

void FUN_0040aed0(void *param_1,char *param_2,char *param_3)

{
  char cVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  char *pcVar8;
  char *pcVar9;
  char *pcVar10;
  char local_100 [256];
  
  iVar2 = FUN_00427b40((int)param_1);
  if (iVar2 == 0) {
    iVar2 = FUN_00456230((int)param_1);
    if (iVar2 != 0) {
      FUN_00456230((int)param_1);
    }
  }
  else {
    iVar2 = FUN_00434cd0((int)param_1);
    if (iVar2 != 0) {
      FUN_00434cd0((int)param_1);
    }
  }
  uVar3 = FUN_00456210((int)param_1);
  switch(uVar3) {
  case 0:
    piVar4 = (int *)FUN_00467740(param_1,0);
    break;
  case 1:
    piVar4 = (int *)FUN_00466900(param_1,0);
    break;
  case 2:
    piVar4 = (int *)FUN_004659a0(param_1,0);
    break;
  default:
    return;
  }
  if (piVar4 == (int *)0x0) {
    return;
  }
  iVar2 = *piVar4;
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Attack____9d_0047e784);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[3];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Defense____9d_0047e734);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[6];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Hit_Rate____9d_0047e70c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[9];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Evasion_Rate____9d_0047e6e4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0xc];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Magical_Attack____9d_0047e6bc);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0xf];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Magical_Defense____9d_0047e694);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x12];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Magical_Hit_Rate____9d_0047e66c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x15];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Magical_Evasion_Rate____9d_0047e644);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x18];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Speed_of_Attack____9d_0047e61c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x1b];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Walking_Speed____9d_0047e5f4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x1e];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Maximum_HP____9d_0047e5cc);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x21];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Maximum_MP____9d_0047e5a4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x24];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Strength____9d_0047e57c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x27];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Magic_Level____9d_0047e554);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = FUN_00456210((int)param_1);
  if (iVar2 == 0) {
    iVar2 = piVar4[0x2a];
    if (iVar2 != 0) {
      FUN_00467d51(local_100,(byte *)s_Probability_of_Stiffness____8d___0047e52c);
      uVar5 = 0xffffffff;
      pcVar10 = local_100;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar6 = -1;
      pcVar10 = param_2;
      do {
        pcVar9 = pcVar10;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
      if (iVar2 < 0) {
        FUN_00467d51(local_100,(byte *)s___8d___0047e504);
        pcVar10 = local_100;
      }
      else {
LAB_0040b89b:
        pcVar10 = &DAT_0047d884;
      }
LAB_0040b8a0:
      uVar5 = 0xffffffff;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar2 = -1;
      pcVar10 = param_3;
      do {
        pcVar9 = pcVar10;
        if (iVar2 == 0) break;
        iVar2 = iVar2 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
    }
  }
  else {
    iVar2 = piVar4[0x2a];
    if (iVar2 != 0) {
      FUN_00467d51(local_100,(byte *)s_Probability_of_Stiffness____8d___0047e52c);
      uVar5 = 0xffffffff;
      pcVar10 = local_100;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar6 = -1;
      pcVar10 = param_2;
      do {
        pcVar9 = pcVar10;
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
      if (-1 < iVar2) goto LAB_0040b89b;
      FUN_00467d51(local_100,(byte *)s___8d___0047e504);
      pcVar10 = local_100;
      goto LAB_0040b8a0;
    }
  }
  if (piVar4[0x2a] == 0) goto LAB_0040ba04;
  iVar2 = FUN_00456210((int)param_1);
  if (iVar2 == 0) {
    iVar2 = piVar4[0x2d];
    if (iVar2 == 0) goto LAB_0040ba04;
    FUN_00467d51(local_100,(byte *)s_Duration_of_Stiffness____9d_0047e4dc);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
LAB_0040b9da:
      pcVar10 = &DAT_0047d884;
    }
  }
  else {
    iVar2 = piVar4[0x2d];
    if (iVar2 == 0) goto LAB_0040ba04;
    FUN_00467d51(local_100,(byte *)s_Duration_of_Stiffness____9d_0047e4dc);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (-1 < iVar2) goto LAB_0040b9da;
    FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
    pcVar10 = local_100;
  }
  uVar5 = 0xffffffff;
  do {
    pcVar8 = pcVar10;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar10 + 1;
    cVar1 = *pcVar10;
    pcVar10 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar2 = -1;
  pcVar10 = param_3;
  do {
    pcVar9 = pcVar10;
    if (iVar2 == 0) break;
    iVar2 = iVar2 + -1;
    pcVar9 = pcVar10 + 1;
    cVar1 = *pcVar10;
    pcVar10 = pcVar9;
  } while (cVar1 != '\0');
  pcVar10 = pcVar8 + -uVar5;
  pcVar8 = pcVar9 + -1;
  for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
    pcVar10 = pcVar10 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar10;
    pcVar10 = pcVar10 + 1;
    pcVar8 = pcVar8 + 1;
  }
LAB_0040ba04:
  if (piVar4[0x33] != 0) {
    if (piVar4[0x33] < 0) {
      FUN_00467d51(local_100,(byte *)s_Life_Recovery____3d__1d___s_0047e4ac);
      uVar5 = 0xffffffff;
      pcVar10 = local_100;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar2 = -1;
      pcVar10 = param_2;
      do {
        pcVar9 = pcVar10;
        if (iVar2 == 0) break;
        iVar2 = iVar2 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
      FUN_00467d51(local_100,(byte *)s___3d__1d___0047e480);
      pcVar10 = local_100;
    }
    else {
      FUN_00467d51(local_100,(byte *)s_Life_Recovery___4d__1d___s_0047e454);
      uVar5 = 0xffffffff;
      pcVar10 = local_100;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar2 = -1;
      pcVar10 = param_2;
      do {
        pcVar9 = pcVar10;
        if (iVar2 == 0) break;
        iVar2 = iVar2 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  if (piVar4[0x36] != 0) {
    if (piVar4[0x36] < 0) {
      FUN_00467d51(local_100,(byte *)s_Mental_Consumption____3d__1d___s_0047e424);
      uVar5 = 0xffffffff;
      pcVar10 = local_100;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar2 = -1;
      pcVar10 = param_2;
      do {
        pcVar9 = pcVar10;
        if (iVar2 == 0) break;
        iVar2 = iVar2 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
      FUN_00467d51(local_100,(byte *)s___3d__1d__0047e3f8);
      pcVar10 = local_100;
    }
    else {
      FUN_00467d51(local_100,(byte *)s_Mental_Recovery___4d__1d___s_0047e3cc);
      uVar5 = 0xffffffff;
      pcVar10 = local_100;
      do {
        pcVar8 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar2 = -1;
      pcVar10 = param_2;
      do {
        pcVar9 = pcVar10;
        if (iVar2 == 0) break;
        iVar2 = iVar2 + -1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      pcVar10 = pcVar8 + -uVar5;
      pcVar8 = pcVar9 + -1;
      for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar8 = pcVar8 + 1;
      }
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x39];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Mental_Consumption____9d_0047e3a4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x3c];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Generation_of_Reflection___8d___0047e37c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s__8d___0047e354);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  if ((piVar4[0x3c] != 0) && (iVar2 = piVar4[0x3f], iVar2 != 0)) {
    FUN_00467d51(local_100,(byte *)s_Reflection_Rate___8d___0047e32c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s__8d___0047e354);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x42];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Effect_of_Stamina_Medicine____8d_0047e304);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___8d___0047e504);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x45];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Effect_of_Mental_Medicine____8d__0047e2dc);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___8d___0047e504);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x48];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Incidents_of_Absorption___8d___0047e2b4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s__8d___0047e354);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  if ((piVar4[0x48] != 0) && (iVar2 = piVar4[0x4b], iVar2 != 0)) {
    FUN_00467d51(local_100,(byte *)s_Absorption_Rate___8d___0047e28c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s__8d___0047e354);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x4e];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Amount_of_Gold____8d___0047e264);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___8d___0047e504);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x51];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Effect_of_Mine____9d_0047e23c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x54];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Number_of_Mines____9d_0047e214);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x57];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Speed_of_Chant____9d_0047e1ec);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x5a];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_HP____9d_0047e1c4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x5d];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Attack____9d_0047e19c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x60];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Hit_Rate____9d_0047e174);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[99];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Defense____9d_0047e14c);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x66];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Evasion_Rate____9d_0047e124);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x69];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Magical_Attack____9d_0047e0fc);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x6c];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Magical_Hit_Rate____9d_0047e0d4);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x6f];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Magical_Defense____9d_0047e0ac);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = piVar4[0x72];
  if (iVar2 != 0) {
    FUN_00467d51(local_100,(byte *)s_Companion_Magical_Evasion_Rate___0047e084);
    uVar5 = 0xffffffff;
    pcVar10 = local_100;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar6 = -1;
    pcVar10 = param_2;
    do {
      pcVar9 = pcVar10;
      if (iVar6 == 0) break;
      iVar6 = iVar6 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
    if (iVar2 < 0) {
      FUN_00467d51(local_100,(byte *)s___9d_0047e75c);
      pcVar10 = local_100;
    }
    else {
      pcVar10 = &DAT_0047d884;
    }
    uVar5 = 0xffffffff;
    do {
      pcVar8 = pcVar10;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar8 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar8;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar2 = -1;
    pcVar10 = param_3;
    do {
      pcVar9 = pcVar10;
      if (iVar2 == 0) break;
      iVar2 = iVar2 + -1;
      pcVar9 = pcVar10 + 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar9;
    } while (cVar1 != '\0');
    pcVar10 = pcVar8 + -uVar5;
    pcVar8 = pcVar9 + -1;
    for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *(undefined4 *)pcVar8 = *(undefined4 *)pcVar10;
      pcVar10 = pcVar10 + 4;
      pcVar8 = pcVar8 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar8 = *pcVar10;
      pcVar10 = pcVar10 + 1;
      pcVar8 = pcVar8 + 1;
    }
  }
  iVar2 = FUN_00456210((int)param_1);
  if (iVar2 == 0) {
    if (piVar4[0x30] != 0) {
      return;
    }
    pcVar10 = s_High_damage_attack_0047e070;
  }
  else {
    if (piVar4[0x30] == 0) {
      return;
    }
    pcVar10 = s_Avoidance_of_counter_attacks_0047e050;
  }
  FUN_00467d51(local_100,(byte *)pcVar10);
  uVar5 = 0xffffffff;
  pcVar10 = local_100;
  do {
    pcVar8 = pcVar10;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar10 + 1;
    cVar1 = *pcVar10;
    pcVar10 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar2 = -1;
  do {
    pcVar10 = param_2;
    if (iVar2 == 0) break;
    iVar2 = iVar2 + -1;
    pcVar10 = param_2 + 1;
    cVar1 = *param_2;
    param_2 = pcVar10;
  } while (cVar1 != '\0');
  pcVar8 = pcVar8 + -uVar5;
  pcVar10 = pcVar10 + -1;
  for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
    *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
    pcVar8 = pcVar8 + 4;
    pcVar10 = pcVar10 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar10 = *pcVar8;
    pcVar8 = pcVar8 + 1;
    pcVar10 = pcVar10 + 1;
  }
  uVar5 = 0xffffffff;
  pcVar10 = &DAT_0047d884;
  do {
    pcVar8 = pcVar10;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar10 + 1;
    cVar1 = *pcVar10;
    pcVar10 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar2 = -1;
  do {
    pcVar10 = param_3;
    if (iVar2 == 0) break;
    iVar2 = iVar2 + -1;
    pcVar10 = param_3 + 1;
    cVar1 = *param_3;
    param_3 = pcVar10;
  } while (cVar1 != '\0');
  pcVar8 = pcVar8 + -uVar5;
  pcVar10 = pcVar10 + -1;
  for (uVar7 = uVar5 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
    *(undefined4 *)pcVar10 = *(undefined4 *)pcVar8;
    pcVar8 = pcVar8 + 4;
    pcVar10 = pcVar10 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar10 = *pcVar8;
    pcVar8 = pcVar8 + 1;
    pcVar10 = pcVar10 + 1;
  }
  return;
}



/*
 * Function: FUN_0040c950
 * Address: 0040c950
 */

void __thiscall FUN_0040c950(void *this,long param_1)

{
  char cVar1;
  int iVar2;
  RKC_RPG_TABLEDATA *this_00;
  long lVar3;
  int *piVar4;
  char *pcVar5;
  long lVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  bool bVar10;
  int local_120;
  long lStack_11c;
  int iStack_114;
  uchar uStack_110;
  char acStack_100 [256];
  
  iVar9 = 0;
  local_120 = 0;
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,0xd,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  this_00 = RKC_RPG_TABLE::GetFromTableNo(*(RKC_RPG_TABLE **)((int)this + 0xa6f0),0x28);
  lVar3 = RKC_RPG_TABLEDATA::GetRowCount(this_00);
  if (0 < lVar3) {
    piVar4 = *(int **)((int)this + 0xa0bc);
    lVar6 = lVar3;
    do {
      if (*piVar4 != 0) {
        iVar9 = iVar9 + 1;
      }
      piVar4 = piVar4 + 1;
      lVar6 = lVar6 + -1;
    } while (lVar6 != 0);
  }
  iVar9 = (iVar9 + 9) / 10;
  iStack_114 = 0;
  if (0 < lVar3) {
    do {
      if (*(int *)(*(int *)((int)this + 0xa0bc) + iStack_114 * 4) != 0) {
        iVar8 = *(int *)((int)this + 0xa934);
        if ((SBORROW4(local_120,iVar8 * 10) == local_120 + iVar8 * -10 < 0) &&
           (iVar8 = iVar8 * 5 + 5, SBORROW4(local_120,iVar8 * 2) != local_120 + iVar8 * -2 < 0)) {
          uVar7 = 0;
          lStack_11c = 0x16;
          if ((**(int **)(iVar2 + 0x3fc) < 0x20) || (0x120 < **(int **)(iVar2 + 0x3fc))) {
LAB_0040cb3f:
            uStack_110 = 0x80;
          }
          else {
            iVar8 = *(int *)(*(int *)(iVar2 + 0x3fc) + 4);
            if ((iVar8 < (local_120 % 10) * 0x1e + 0x3f) || ((local_120 % 10) * 0x1e + 0x55 < iVar8)
               ) goto LAB_0040cb3f;
            uStack_110 = 0xe0;
            bVar10 = *(int *)(*(int *)(iVar2 + 0x3f8) + 8) != 1;
            if (bVar10) {
              lStack_11c = 0x18;
            }
            else {
              lStack_11c = 0x17;
            }
            uVar7 = (uint)!bVar10;
            if (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) == 1) {
              RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
              *(undefined4 *)(iVar2 + 0x2dc) = 0;
              lVar6 = RKC_RPG_TABLEDATA::GetValue(this_00,iStack_114,1);
              *(long *)(iVar2 + 0x440) = lVar6;
              lVar6 = RKC_RPG_TABLEDATA::GetValue(this_00,iStack_114,2);
              *(long *)(iVar2 + 0x444) = lVar6;
              *(undefined4 *)(iVar2 + 0x43c) = 1;
              *(undefined4 *)(iVar2 + 0x454) = 0xffffffff;
              FUN_004170f0();
            }
          }
          iVar8 = (local_120 % 10) * 0x1e;
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,param_1,0xe,4,lStack_11c,-1,4,0x34,iVar8 + 0x3b,1000,1000,1000,
                     1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
          pcVar5 = RKC_RPG_TABLEDATA::GetStrings(this_00,iStack_114,0);
          if (pcVar5 != (char *)0x0) {
            RKC_UPDIB::SetStringsPacket
                      (DAT_00482d10,param_1,0xc,1,uVar7 + 0x50,iVar8 + 0x42 + uVar7,pcVar5,'\0','\0'
                       ,'\0',4,0,0,1,1000);
            RKC_UPDIB::SetStringsPacket
                      (DAT_00482d10,param_1,0xc,1,uVar7 + 0x4f,iVar8 + 0x41 + uVar7,pcVar5,
                       uStack_110,uStack_110,uStack_110,4,0,0,1,1000);
          }
        }
        local_120 = local_120 + 1;
      }
      iStack_114 = iStack_114 + 1;
    } while (iStack_114 < lVar3);
  }
  if (0 < *(int *)((int)this + 0xa934)) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0xb,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar8 = **(int **)(iVar2 + 0x3fc);
    if ((((0x1b < iVar8) && (iVar8 < 0x5d)) &&
        (iVar8 = (*(int **)(iVar2 + 0x3fc))[1], 0x16f < iVar8)) &&
       ((iVar8 < 0x183 && (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) == 1)))) {
      *(int *)((int)this + 0xa934) = *(int *)((int)this + 0xa934) + -1;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
  }
  if ((*(int *)((int)this + 0xa934) < iVar9 + -1) && (1 < iVar9)) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0xc,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar8 = **(int **)(iVar2 + 0x3fc);
    if (((0xdf < iVar8) &&
        (((iVar8 < 0x121 && (iVar8 = (*(int **)(iVar2 + 0x3fc))[1], 0x16f < iVar8)) &&
         (iVar8 < 0x183)))) && (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) == 1)) {
      *(int *)((int)this + 0xa934) = *(int *)((int)this + 0xa934) + 1;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
  }
  if (iVar9 != 0) {
    FUN_00467d51(acStack_100,&DAT_0047e7ac);
    uVar7 = 0xffffffff;
    pcVar5 = acStack_100;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      cVar1 = *pcVar5;
      pcVar5 = pcVar5 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar7 - 1) * -6 + 0x99 >> 1) + 0x55,0x173,acStack_100,
               '\0','\0','\0',4,0,0,1,1000);
    uVar7 = 0xffffffff;
    pcVar5 = acStack_100;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      cVar1 = *pcVar5;
      pcVar5 = pcVar5 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar7 - 1) * -6 + 0x99 >> 1) + 0x54,0x172,acStack_100,
               0xe0,0xe0,0xe0,4,0,0,1,1000);
  }
  return;
}



/*
 * Function: FUN_0040cea0
 * Address: 0040cea0
 */

void __thiscall FUN_0040cea0(void *this,long param_1)

{
  code *pcVar1;
  int iVar2;
  RKC_RPG_TABLEDATA *this_00;
  long lVar3;
  char *pcVar4;
  RKC_RPG_TABLEDATA *this_01;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uchar uVar9;
  uchar uVar10;
  uchar uVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  long lVar16;
  RKC_RPG_TABLEDATA *this_02;
  char acStack_190 [20];
  int iStack_118;
  uchar uStack_110;
  long lStack_104;
  
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if ((*(int *)((int)this + 0xa97c) == -1) && (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) != 0)) {
    iVar5 = **(int **)(iVar2 + 0x3fc);
    if ((0x113 < iVar5) &&
       (((iVar5 < 0x128 && (iVar5 = (*(int **)(iVar2 + 0x3fc))[1], 9 < iVar5)) && (iVar5 < 0x21))))
    {
      *(undefined4 *)((int)this + 0xa910) = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
    iVar5 = **(int **)(iVar2 + 0x3fc);
    if (((0x157 < iVar5) && (iVar5 < 0x16c)) &&
       ((iVar5 = (*(int **)(iVar2 + 0x3fc))[1], 9 < iVar5 && (iVar5 < 0x21)))) {
      *(undefined4 *)((int)this + 0xa910) = 1;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
  }
  pcVar1 = SetPacket_exref;
  acStack_190[0x10] = -0x3b;
  acStack_190[0x11] = -0x31;
  acStack_190[0x12] = '@';
  acStack_190[0x13] = '\0';
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,10,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  acStack_190[0x10] = '\x13';
  acStack_190[0x11] = -0x30;
  acStack_190[0x12] = '@';
  acStack_190[0x13] = '\0';
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,
             (-(uint)(*(int *)((int)this + 0xa910) != 0) & 0xfffffffe) + 0x70,-1,5,0,0,1000,1000,
             1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  acStack_190[0x10] = 'b';
  acStack_190[0x11] = -0x30;
  acStack_190[0x12] = '@';
  acStack_190[0x13] = '\0';
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,
             (-(uint)(*(int *)((int)this + 0xa910) != 1) & 0xfffffffe) + 0x71,-1,5,0,0,1000,1000,
             1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  this_00 = RKC_RPG_TABLE::GetFromTableNo(*(RKC_RPG_TABLE **)((int)this + 0xa6f0),0x29);
  lVar3 = RKC_RPG_TABLEDATA::GetRowCount(this_00);
  iVar5 = *(int *)((int)this + 0xa910) * 0x18;
  iStack_118 = iVar5 + 0x17;
  if (lVar3 <= iStack_118) {
    iStack_118 = lVar3 + -1;
  }
  for (; iVar5 <= iStack_118; iVar5 = iVar5 + 1) {
    iVar6 = *(int *)(*(int *)((int)this + 0xa0c4) + iVar5 * 4);
    if (iVar6 == 1) {
      lStack_104 = 0x19;
      uStack_110 = 0xe0;
    }
    else if (iVar6 == 2) {
      lStack_104 = 0x1a;
      uStack_110 = 0x80;
    }
    if (iVar6 != 0) {
      iVar6 = iVar5 % 0xc;
      uVar7 = iVar5 / 0xc & 0x80000001;
      if ((int)uVar7 < 0) {
        uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
      }
      iVar8 = uVar7 * 0x126;
      acStack_190[0x10] = 'g';
      acStack_190[0x11] = -0x2f;
      acStack_190[0x12] = '@';
      acStack_190[0x13] = '\0';
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,lStack_104,-1,4,iVar8 + 0x34,iVar6 * 0x1b + 0x30,1000,
                 1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      pcVar4 = RKC_RPG_TABLEDATA::GetStrings(this_00,iVar5,0);
      if (pcVar4 != (char *)0x0) {
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,iVar8 + 0x50,iVar6 * 0x1b + 0x37,pcVar4,'\0','\0','\0'
                   ,4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xe,1,iVar8 + 0x4f,(iVar6 * 3 + 6) * 9,pcVar4,uStack_110,
                   uStack_110,uStack_110,4,0,0,1,1000);
      }
    }
    if (*(int *)(*(int *)((int)this + 0xa0c4) + iVar5 * 4) != 0) {
      uVar7 = iVar5 / 0xc & 0x80000001;
      if ((int)uVar7 < 0) {
        uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
      }
      iVar6 = (iVar5 % 0xc) * 0x1b;
      if (*(int *)((int)this + 0xa97c) == -1) {
        iVar8 = **(int **)(iVar2 + 0x3fc);
        if ((((int)(uVar7 * 0x126 + 0x34) <= iVar8) && (iVar8 < (int)(uVar7 * 0x126 + 0x15a))) &&
           ((iVar8 = (*(int **)(iVar2 + 0x3fc))[1], iVar6 + 0x30 <= iVar8 &&
            ((iVar8 < iVar6 + 0x4b && (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) != 0)))))) {
          *(int *)((int)this + 0xa97c) = iVar5;
        }
      }
    }
    pcVar1 = SetPacket_exref;
  }
  if (*(int *)((int)this + 0xa97c) != -1) {
    acStack_190[0x10] = -0xe;
    acStack_190[0x11] = -0x2e;
    acStack_190[0x12] = '@';
    acStack_190[0x13] = '\0';
    (*pcVar1)();
    acStack_190[0x10] = '\0';
    acStack_190[0x11] = '\0';
    acStack_190[0x12] = '\0';
    acStack_190[0x13] = '\0';
    acStack_190[0xc] = '\0';
    acStack_190[0xd] = '\0';
    acStack_190[0xe] = '\0';
    acStack_190[0xf] = '\0';
    acStack_190[8] = -0x18;
    acStack_190[9] = '\x03';
    acStack_190[10] = '\0';
    acStack_190[0xb] = '\0';
    acStack_190[4] = -0x18;
    acStack_190[5] = '\x03';
    acStack_190[6] = '\0';
    acStack_190[7] = '\0';
    acStack_190[0] = -0x18;
    acStack_190[1] = '\x03';
    acStack_190[2] = '\0';
    acStack_190[3] = '\0';
    iVar5 = 1000;
    iVar2 = 0;
    (*pcVar1)(param_1,0xe,4,0x3a,0xffffffff,5,0,0,1000,1000,1000,1000,0);
    this_01 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,*(int *)((int)this + 0xa97c) + 700);
    if (this_01 != (RKC_RPG_TABLEDATA *)0x0) {
      this_02 = this_01;
      RKC_RPG_TABLEDATA::GetStrings(this_00,*(long *)((int)this + 0xa97c),0);
      FUN_00467d51(acStack_190,&DAT_0047e7b8);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xe,1,0xbf,0x61,acStack_190,'\0','\0','\0',4,0,0,1,1000);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xe,1,0xbe,0x60,acStack_190,0xe0,0xc0,'\0',4,0,0,1,1000);
      iVar6 = 0x78;
      lVar3 = RKC_RPG_TABLEDATA::GetRowCount(this_01);
      iVar8 = 0;
      if (0 < lVar3) {
        do {
          lVar16 = 1000;
          lVar15 = 1;
          lVar14 = 0;
          lVar13 = 0;
          lVar12 = 4;
          uVar11 = '\0';
          uVar10 = '\0';
          uVar9 = '\0';
          pcVar4 = RKC_RPG_TABLEDATA::GetStrings(this_02,iVar8,0);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,param_1,0xe,0,0xbf,iVar6 + 1,pcVar4,uVar9,uVar10,uVar11,lVar12,
                     lVar13,lVar14,lVar15,lVar16);
          lVar16 = 1000;
          lVar15 = 1;
          lVar14 = 0;
          lVar13 = 0;
          lVar12 = 4;
          uVar11 = 0xe0;
          uVar10 = 0xe0;
          uVar9 = 0xe0;
          pcVar4 = RKC_RPG_TABLEDATA::GetStrings(this_02,iVar8,0);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,param_1,0xe,0,0xbe,iVar6,pcVar4,uVar9,uVar10,uVar11,lVar12,lVar13,
                     lVar14,lVar15,lVar16);
          iVar6 = iVar6 + 0x10;
          iVar8 = iVar8 + 1;
        } while (iVar8 < lVar3);
      }
    }
    if ((((iVar5 == 1) && (iVar5 = *(int *)(*(int *)(iVar2 + 0x3fc) + 4), -1 < iVar5)) &&
        (iVar5 < 0x19d)) && (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) != 0)) {
      *(undefined4 *)((int)this + 0xa97c) = 0xffffffff;
    }
  }
  return;
}



/*
 * Function: FUN_0040d4d0
 * Address: 0040d4d0
 */

void __thiscall FUN_0040d4d0(void *this,int param_1)

{
  char *pcVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  RKC_DIB *pRVar7;
  uint uVar8;
  long lVar9;
  char *pcVar10;
  int iStack_2c;
  int iStack_28;
  int iStack_24;
  int iStack_20;
  int iStack_1c;
  int local_18;
  int iStack_14;
  tagRECT local_10;
  
  iVar3 = param_1;
  iVar4 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  local_18 = iVar4;
  SetRect(&local_10,0x20,0x28,0x13f,0x177);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,0,0,0,0x804,local_10.left,local_10.top,local_10.right,
             local_10.bottom,1000,1000,0,0,0,0,(tagRECT *)0x0,(RKC_DIB *)0x0);
  if (*(int *)(*(int *)(iVar4 + 0x3f8) + 0xe8) == 1) {
    *(int *)((int)this + 0xa998) = *(int *)((int)this + 0xa998) + -0x10;
  }
  if (*(int *)(*(int *)(iVar4 + 0x3f8) + 0xb0) == 1) {
    *(int *)((int)this + 0xa99c) = *(int *)((int)this + 0xa99c) + -10;
  }
  if (*(int *)(*(int *)(iVar4 + 0x3f8) + 0x104) == 1) {
    *(int *)((int)this + 0xa998) = *(int *)((int)this + 0xa998) + 0x10;
  }
  if (*(int *)(*(int *)(iVar4 + 0x3f8) + 0xcc) == 1) {
    *(int *)((int)this + 0xa99c) = *(int *)((int)this + 0xa99c) + 10;
  }
  if (*(int *)(*(int *)(iVar4 + 0x3f8) + 400) == 1) {
    *(undefined4 *)((int)this + 0xa998) = 0;
    *(undefined4 *)((int)this + 0xa99c) = 0;
  }
  iVar5 = FUN_00427b30(*(int *)(iVar4 + 0x458));
  if (iVar5 == 1) {
    RKC_RPGSCRN::CalcRealPos
              (DAT_00482d14,*(long *)(iVar4 + 0x2e0),*(long *)(iVar4 + 0x2e4),&iStack_28,&iStack_2c)
    ;
    iStack_14 = iStack_28 / 10;
    iStack_1c = iStack_2c / 10;
    iStack_28 = iStack_14 + -0xa0 + *(int *)((int)this + 0xa998);
    iStack_2c = iStack_1c + -0xd2 + *(int *)((int)this + 0xa99c);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xc,0,-1,0x25,-iStack_28,-iStack_2c,1000,1000,1000,1000,0,
               1000,1000,1000,&local_10,(RKC_DIB *)0x0);
    puVar6 = (undefined4 *)FUN_004182c0(&DAT_0048d7b0,0);
    if (puVar6 != (undefined4 *)0x0) {
      pRVar7 = (RKC_DIB *)FUN_00427b20(puVar6);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,0,0,-1,0x1024,-iStack_28,-iStack_2c,1000,1000,1000,1000,0,
                 1000,1000,1000,&local_10,pRVar7);
    }
    if (*(int *)((int)this + 0xa0a4) % 0x14 < 0xf) {
      param_1 = 3;
      do {
        iVar5 = FUN_00434c90(*(void **)((int)this + 0xa018),param_1);
        if ((((iVar5 != 0) && (*(int *)(iVar5 + 0x2d8) == 1)) && (iVar5 != iVar4)) &&
           (*(int *)(iVar5 + 0x458) == *(int *)(iVar4 + 0x458))) {
          if (param_1 == 0) {
            lVar9 = 2;
          }
          else {
            lVar9 = param_1 + 2;
          }
          RKC_RPGSCRN::CalcRealPos
                    (DAT_00482d14,*(long *)(iVar5 + 0x2e0),*(long *)(iVar5 + 0x2e4),&iStack_20,
                     &iStack_24);
          iStack_20 = iStack_20 / 10;
          iStack_24 = iStack_24 / 10;
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,iVar3,0xe,0xd,0,1,0x24,iStack_20 - iStack_28,iStack_24 - iStack_2c
                     ,1000,1000,1000,1000,0,1000,1000,1000,&local_10,(RKC_DIB *)0x0);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,iVar3,0xe,0xd,lVar9,1,0x24,iStack_20 - iStack_28,
                     iStack_24 - iStack_2c,1000,1000,1000,1000,0,1000,1000,1000,&local_10,
                     (RKC_DIB *)0x0);
          iVar4 = local_18;
        }
        iVar5 = iStack_14;
        param_1 = param_1 + -1;
      } while (-1 < param_1);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,iVar3,0xe,0xd,0,0,0x24,iStack_14 - iStack_28,iStack_1c - iStack_2c,
                 1000,1000,1000,1000,0,1000,1000,1000,&local_10,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,iVar3,0xe,0xd,1,0,0x24,iVar5 - iStack_28,iStack_1c - iStack_2c,1000,
                 1000,1000,1000,0,1000,1000,1000,&local_10,(RKC_DIB *)0x0);
    }
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,iVar3,0xe,4,0x47,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar4 = *(int *)((int)this + 0xa994) + 1;
  *(int *)((int)this + 0xa994) = iVar4;
  if (iVar4 == 0x3c) {
    *(undefined4 *)((int)this + 0xa994) = 0;
  }
  iVar4 = *(int *)((int)this + 0xa994);
  if (iVar4 < 0x1e) {
    param_1._0_2_ = ((short)iVar4 * 5 + 0x15e) * 2;
  }
  else if (iVar4 < 0x3c) {
    param_1._0_2_ = (0x82 - (short)iVar4) * 10;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,iVar3,0xe,4,0x76,-1,6,0,0,1000,1000,1000,1000,0,(short)param_1,
             (short)param_1,(short)param_1,(tagRECT *)0x0,(RKC_DIB *)0x0);
  pcVar1 = (char *)((int)this + 0xa804);
  uVar8 = 0xffffffff;
  pcVar10 = pcVar1;
  do {
    if (uVar8 == 0) break;
    uVar8 = uVar8 - 1;
    cVar2 = *pcVar10;
    pcVar10 = pcVar10 + 1;
  } while (cVar2 != '\0');
  RKC_UPDIB::SetPacket
            (DAT_00482d10,iVar3,0xe,0,0,0,0x804,0x44,0x2e,(~uVar8 - 1) * 6 + 0x46,0x42,500,1000,0,0,
             0,0,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetStringsPacket(DAT_00482d10,iVar3,0xe,1,0x49,0x33,pcVar1,'\0','\0','\0',4,0,0,1,1000)
  ;
  RKC_UPDIB::SetStringsPacket(DAT_00482d10,iVar3,0xe,1,0x48,0x32,pcVar1,0xe0,0xe0,0xe0,4,0,0,1,1000)
  ;
  return;
}



/*
 * Function: FUN_0040da90
 * Address: 0040da90
 */

void __thiscall FUN_0040da90(void *this,long param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *this_00;
  int *piVar3;
  long lVar4;
  int iVar5;
  int iVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  int iStack_28;
  int local_20;
  int iStack_14;
  tagRECT local_10;
  
  iVar1 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  iVar6 = 0;
  local_20 = 0;
  iVar2 = *(int *)(iVar1 + 4) + 16000000;
  this_00 = (void *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_004299e0(this_00,iVar2);
  if (iVar2 != 0) {
    local_20 = FUN_00434cd0(iVar2);
  }
  if (param_2 != 0) {
    return;
  }
  iVar2 = *(int *)(*(int *)(iVar1 + 0x3f8) + 0x10);
  if (iVar2 == 1) {
    if (DAT_0048d880 == 0) goto LAB_0040db23;
    if (199 < DAT_0048d880) goto LAB_0040db1b;
    DAT_0048d880 = 1;
LAB_0040dcd5:
    if (DAT_0048d87c == 1) goto LAB_0040dce7;
  }
  else {
LAB_0040db1b:
    if (DAT_0048d880 != 0) goto LAB_0040dcd5;
LAB_0040db23:
    if (DAT_0048d87c != 0) {
      if ((DAT_0048d888 == 0) && (iVar2 == 1)) {
        iVar2 = **(int **)(iVar1 + 0x3fc);
        if ((0xe5 < iVar2) &&
           ((((iVar2 < 0x148 && (iVar2 = (*(int **)(iVar1 + 0x3fc))[1], 0x151 < iVar2)) &&
             (iVar2 < 0x172)) && (DAT_0048d878 % 0xf == 0)))) {
          DAT_0048d894 = 1;
          DAT_0048d878 = DAT_0048d878 + 1;
        }
        iVar2 = **(int **)(iVar1 + 0x3fc);
        if (((0x14f < iVar2) && (iVar2 < 0x1b2)) &&
           ((iVar2 = (*(int **)(iVar1 + 0x3fc))[1], 0x151 < iVar2 &&
            ((iVar2 < 0x172 && (DAT_0048d878 % 0xf == 0)))))) {
          DAT_0048d888 = 1;
          DAT_0048d890 = 1;
          if (DAT_0048d88c == 1) {
            DAT_0048d880 = 200;
          }
          DAT_0048d878 = 1;
          FUN_00403820(&DAT_0048d7f0,0);
        }
      }
      goto LAB_0040dcd5;
    }
    DAT_0048d878 = DAT_0048d878 + 1;
    if (DAT_0048d878 == 0xf) {
      DAT_0048d888 = 0;
      FUN_004035a0(&DAT_0048d7f0,(uint *)0x0,0,0);
      RKC_DSOUND::Play(DAT_00482d28,0,0x2c,0,0,DAT_0048d8e4);
    }
    if (DAT_0048d878 == 0x1e) {
      DAT_0048d888 = 1;
      FUN_004035a0(&DAT_0048d7f0,(uint *)0x1,0,0);
      RKC_DSOUND::Play(DAT_00482d28,0,0x2c,0,0,DAT_0048d8e4);
    }
    if (DAT_0048d878 == 0x2d) {
      DAT_0048d888 = 0;
      FUN_004035a0(&DAT_0048d7f0,(uint *)0x0,0,1);
      RKC_DSOUND::Play(DAT_00482d28,0,0x2c,0,0,DAT_0048d8e4);
    }
    if (DAT_0048d878 != 0x3c) goto LAB_0040dcd5;
    DAT_0048d888 = 0;
    FUN_004035a0(&DAT_0048d7f0,(uint *)0x1,0,0);
    RKC_DSOUND::Play(DAT_00482d28,0,0x2c,0,0,DAT_0048d8e4);
    DAT_0048d87c = 1;
    DAT_0048d878 = 0;
LAB_0040dce7:
    if (DAT_0048d880 == 0) {
      if (DAT_0048d878 % 0xf != 0) {
        DAT_0048d878 = DAT_0048d878 + 1;
      }
      if ((DAT_0048d878 % 0xf == 0) && (DAT_0048d888 == 1)) {
        FUN_00403820(&DAT_0048d7f0,0);
        if (DAT_0048d894 == 0) {
          if (DAT_0048d88c == 0) {
            iVar2 = FUN_004036d0(&DAT_0048d7f0,0);
            if (0x10 < iVar2) {
              DAT_0048d88c = 1;
            }
            if (iVar2 == -1) {
              DAT_0048d88c = 1;
              DAT_0048d880 = 200;
            }
            else if (DAT_0048d88c == 1) {
              DAT_0048d880 = 200;
            }
            else if (DAT_0048d88c == 0) {
              DAT_0048d894 = 1;
              goto LAB_0040ddc6;
            }
          }
        }
        else if (DAT_0048d88c == 0) {
          FUN_004035a0(&DAT_0048d7f0,(uint *)0x0,0,0);
          RKC_DSOUND::Play(DAT_00482d28,0,0x2c,0,0,DAT_0048d8e4);
          DAT_0048d894 = 0;
LAB_0040ddc6:
          DAT_0048d878 = DAT_0048d878 + 1;
        }
      }
      if (((DAT_0048d878 % 0xf == 0) && (DAT_0048d888 == 0)) && (DAT_0048d894 != 0)) {
        RKC_DSOUND::Play(DAT_00482d28,0,0x2c,0,0,DAT_0048d8e4);
        FUN_004035a0(&DAT_0048d7f0,(uint *)0x1,0,0);
        DAT_0048d878 = DAT_0048d878 + 1;
        iVar2 = FUN_004036d0(&DAT_0048d7f0,1);
        if (iVar2 == -1) {
          DAT_0048d890 = 1;
          DAT_0048d88c = 1;
          DAT_0048d880 = 200;
          FUN_00403820(&DAT_0048d7f0,0);
        }
        DAT_0048d894 = 0;
      }
    }
    else {
      if (DAT_0048d880 == 200) {
        DAT_0048d884 = FUN_004037c0(&DAT_0048d7f0);
        if (DAT_0048d884 == 1) {
          RKC_DSOUND::Play(DAT_00482d28,0,0x40,0,0,DAT_0048d8e4);
        }
        if (DAT_0048d884 == 2) {
          RKC_DSOUND::Play(DAT_00482d28,0,0x41,0,0,DAT_0048d8e4);
        }
      }
      DAT_0048d880 = DAT_0048d880 + -1;
      if (DAT_0048d880 == 0) {
        DAT_0048ce6c = 0;
        iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
        piVar3 = (int *)FUN_00466410(*(int *)(iVar2 + 0x458));
        FUN_00430540(piVar3);
      }
    }
  }
  SetRect(&local_10,0x20,0x28,0x25f,0x177);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,0xf,0x41,-1,5,0x20,0x28,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar2 = 0x232;
  do {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x35,-1,4,iVar2,0x3c,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar2 = iVar2 + -10;
  } while (0x1ec < iVar2);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,0x77,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  do {
    iVar2 = DAT_0048d834;
    if (iVar6 != 0) {
      iVar2 = DAT_0048d7f0;
    }
    if (iVar2 < 5) {
      iVar5 = 0;
      if (0 < iVar2) {
        iStack_28 = 0;
        do {
          FUN_00403860(&DAT_0048d7f0,iVar6,iVar5,param_1,0xe,iStack_28 + iVar6 * -0x18 + 0xb6,
                       iVar6 * 0x8c + 0x46);
          iVar5 = iVar5 + 1;
          iStack_28 = iStack_28 + 0x50;
        } while (iVar5 < iVar2);
      }
    }
    else {
      iVar2 = iVar2 + -1;
      iVar5 = 0;
      if (0 < iVar2) {
        param_2 = 0;
        do {
          FUN_00403860(&DAT_0048d7f0,iVar6,iVar5,param_1,0xe,param_2 + iVar6 * -0x18 + 0xb6,
                       iVar6 * 0x8c + 0x46);
          iVar5 = iVar5 + 1;
          param_2 = param_2 + (int)(0xf0 / (longlong)iVar2);
        } while (iVar5 < iVar2);
      }
      FUN_00403860(&DAT_0048d7f0,iVar6,iVar5,param_1,0xe,iVar6 * -0x18 + 0x1a6,iVar6 * 0x8c + 0x46);
    }
    iVar6 = iVar6 + 1;
  } while (iVar6 < 2);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,0xf,0x37,-1,4,0x50,0x78,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,0xf,0x38,-1,4,0x50,0x78,1000,1000,500,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
            (DAT_00482d20,param_1,0xe,*(long *)(iVar1 + 0x340),9,5,*(long *)((int)this + 0xa0a4),
             0x1f8,0x140,*(int **)(iVar1 + 0x32c),*(short **)(iVar1 + 0x330),
             *(short **)(iVar1 + 0x334),*(short **)(iVar1 + 0x338),0x208,1000);
  if (local_20 != 0) {
    psVar14 = *(short **)(local_20 + 0x48);
    psVar13 = *(short **)(local_20 + 0x44);
    lVar16 = 1000;
    lVar15 = 0x208;
    psVar12 = *(short **)(local_20 + 0x40);
    piVar3 = *(int **)(local_20 + 0x3c);
    lVar7 = *(long *)((int)this + 0xa0a4);
    lVar11 = 0x154;
    lVar10 = 0x234;
    lVar9 = 5;
    lVar8 = 0;
    lVar4 = FUN_004663a0(*(int *)(local_20 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
              (DAT_00482d20,param_1,0xe,lVar4,lVar8,lVar9,lVar7,lVar10,lVar11,piVar3,psVar12,psVar13
               ,psVar14,lVar15,lVar16);
  }
  if (DAT_0048d890 == 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x3f,-1,4,0xe3,0x155,1000,1000,500,1000,0,1000,1000,1000
               ,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x3b,-1,4,0xe6,0x152,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x3f,-1,4,0x14d,0x155,1000,1000,500,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x3c,-1,4,0x150,0x152,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  iVar2 = DAT_0048d878 % 0xf;
  if ((iVar2 != 0) && ((DAT_0048d87c == 0 || ((DAT_0048d87c == 1 && (DAT_0048d894 == 1)))))) {
    if (DAT_0048d888 == 0) {
      param_2 = 0xd2;
      iVar6 = DAT_0048d7f0;
    }
    else {
      param_2 = 0x46;
      iVar6 = DAT_0048d834;
    }
    if (iVar6 + 1 < 5) {
      iVar6 = (iVar6 + 1) * 0x50 + 0x4e + DAT_0048d888 * 0x18;
    }
    else {
      iVar6 = DAT_0048d888 * 0x18 + 0x18e;
    }
    iVar6 = ((iVar6 + -0x1ec) * iVar2) / 0xf;
    iVar2 = ((param_2 + -0x3c) * iVar2) / 0xf;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x36,-1,4,iVar6 + 0x1e9,iVar2 + 0x3f,1000,1000,500,1000,
               0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x35,-1,4,iVar6 + 0x1ec,iVar2 + 0x3c,1000,1000,1000,1000
               ,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  if (DAT_0048d880 == 0) {
    return;
  }
  lVar7 = -1;
  if ((DAT_0048d7f0 == 2) && (iVar2 = FUN_004036d0(&DAT_0048d7f0,1), iVar2 == 0x15)) {
    lVar7 = 0x39;
  }
  iVar2 = FUN_004036d0(&DAT_0048d7f0,1);
  if (iVar2 == -1) {
    lVar7 = 0x3a;
LAB_0040e4d8:
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,lVar7,-1,5,0xc4,0xf2,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  else if (lVar7 != -1) goto LAB_0040e4d8;
  lVar7 = -1;
  if ((DAT_0048d834 == 2) && (iVar2 = FUN_004036d0(&DAT_0048d7f0,0), iVar2 == 0x15)) {
    lVar7 = 0x39;
  }
  iVar2 = FUN_004036d0(&DAT_0048d7f0,0);
  if (iVar2 == -1) {
    lVar7 = 0x3a;
LAB_0040e55c:
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,lVar7,-1,5,0xdc,0x66,1000,1000,1000,1000,0,1000,1000,
               1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  else if (lVar7 != -1) goto LAB_0040e55c;
  if (DAT_0048d884 == 0) {
    iVar1 = 0x42;
    iStack_14 = 0x42;
  }
  else if (DAT_0048d884 == 1) {
    iVar1 = 0x3e;
    iStack_14 = 0x3d;
  }
  else if (DAT_0048d884 == 2) {
    iVar1 = 0x3d;
    iStack_14 = 0x3e;
  }
  else if (iVar1 == -1) goto LAB_0040e665;
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,0xf,0x40,-1,4,0x24,0x8f,1000,1000,500,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,0xf,iVar1,-1,4,0x27,0x8c,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
LAB_0040e665:
  if (iStack_14 != -1) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,0x40,-1,4,0x1e3,0xcb,1000,1000,500,1000,0,1000,1000,1000
               ,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0xf,iStack_14,-1,4,0x1e6,200,1000,1000,1000,1000,0,1000,1000
               ,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  return;
}



/*
 * Function: FUN_0040e710
 * Address: 0040e710
 */

void __thiscall FUN_0040e710(void *this,long param_1,int param_2)

{
  long lVar1;
  int iVar2;
  void *this_00;
  long lVar3;
  int iVar4;
  uchar uVar5;
  int iVar6;
  char *pcVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  long lVar12;
  int *piVar13;
  short *psVar14;
  short *psVar15;
  short *psVar16;
  long lVar17;
  long lVar18;
  uchar local_4;
  
  lVar1 = param_1;
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  iVar4 = *(int *)(iVar2 + 4) + 16000000;
  iVar6 = 0;
  this_00 = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
  iVar4 = FUN_004299e0(this_00,iVar4);
  if (iVar4 != 0) {
    iVar6 = FUN_00434cd0(iVar4);
  }
  if (param_2 == 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,10,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xe,1,0x2b,0x31,s_SHADOW_FLARE___MOUSE_ACTION_HELP_0047f120,'\0'
               ,'\0','\0',4,0,0,1,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xe,1,0x2a,0x30,s_SHADOW_FLARE___MOUSE_ACTION_HELP_0047f120,0xe0
               ,0xe0,'@',4,0,0,1,1000);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x42,-1,5,0x40,0x46,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,0,0,0,0x404,0x3f,0x45,0x126,0xc6,500,1000,0,0xff,0xff,0xff,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    param_1 = 0;
    if (*(int *)(iVar2 + 0x4f4) != 0) {
      iVar4 = FUN_004663a0(*(int *)(iVar2 + 0x4f4));
      if (iVar4 == 1) {
        param_1 = 0x18;
      }
      iVar4 = FUN_004663a0(*(int *)(iVar2 + 0x4f4));
      if (iVar4 == 3) {
        param_1 = 0x19;
      }
    }
    RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
              (DAT_00482d20,lVar1,0xe,*(long *)(iVar2 + 0x340),param_1,7,
               *(long *)((int)this + 0xa970),0x98,0x94,*(int **)(iVar2 + 0x32c),
               *(short **)(iVar2 + 0x330),*(short **)(iVar2 + 0x334),*(short **)(iVar2 + 0x338),
               0x208,1000);
    if (iVar6 != 0) {
      psVar16 = *(short **)(iVar6 + 0x48);
      psVar15 = *(short **)(iVar6 + 0x44);
      psVar14 = *(short **)(iVar6 + 0x40);
      lVar18 = 1000;
      lVar17 = 0x208;
      piVar13 = *(int **)(iVar6 + 0x3c);
      lVar10 = *(long *)((int)this + 0xa970);
      lVar12 = 0x9e;
      lVar11 = 0xd4;
      lVar9 = 7;
      lVar8 = 0;
      lVar3 = FUN_004663a0(*(int *)(iVar6 + 0x14));
      RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
                (DAT_00482d20,lVar1,0xe,lVar3,lVar8,lVar9,lVar10,lVar11,lVar12,piVar13,psVar14,
                 psVar15,psVar16,lVar17,lVar18);
    }
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x2b,0xd4,s_SHADOW_FLARE___KEYBOARD_HELP___0047f100,'\0',
               '\0','\0',4,0,0,1,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x2a,0xd3,s_SHADOW_FLARE___KEYBOARD_HELP___0047f100,0xe0,
               0xe0,'@',4,0,0,1,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x3b,0xe9,&DAT_0047ed70,'\0','\0','\0',4,0,0,2,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x3a,0xe8,&DAT_0047ed70,0x8b,0xa9,0xc9,4,0,0,2,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x3b,0xe9,s_Actions_with_R_clicking_Open_Sta_0047e9e0,'\0',
               '\0','\0',4,0,0,2,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x3a,0xe8,s_Actions_with_R_clicking_Open_Sta_0047e9e0,0xc0,
               0xc0,0xc0,4,0,0,2,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x137,0x45,s_Attack_While_Moving_Attack_When_N_0047e928,'\0'
               ,'\0','\0',4,0,0,8,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x136,0x44,s_Attack_While_Moving_Attack_When_N_0047e928,0x8b
               ,0xa9,0xc9,4,0,0,8,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x137,0x45,s_L_click_Near_Object_TAB_L_click_o_0047e840,'\0'
               ,'\0','\0',4,0,0,8,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x136,0x44,s_L_click_Near_Object_TAB_L_click_o_0047e840,0xc0
               ,0xc0,0xc0,4,0,0,8,1000);
  }
  pcVar7 = s_L_click_on_Enemy_0047e82c;
  if (DAT_0048d540 != 1) {
    pcVar7 = s_N_A_0047e820;
  }
  iVar4 = param_2;
  if (param_2 == 0) {
    param_1._0_1_ = 0xc0;
    local_4 = 0xc0;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cd,0x45,pcVar7,'\0','\0','\0',4,0,0,0,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cc,0x44,pcVar7,0xc0,0xc0,0xc0,4,0,0,0,1000);
    iVar4 = 0xc0;
  }
  uVar5 = (uchar)iVar4;
  if ((DAT_0048d540 == 1) || (pcVar7 = s_R_click_0047e814, *(int *)(iVar2 + 0x1288) != 1)) {
    pcVar7 = s_SHIFT_L_click_0047e804;
  }
  if (param_2 == 0) {
    uVar5 = 0xc0;
    param_1._0_1_ = 0xc0;
    local_4 = 0xc0;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cd,0x59,pcVar7,'\0','\0','\0',4,0,0,0,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cc,0x58,pcVar7,0xc0,0xc0,0xc0,4,0,0,0,1000);
  }
  if (DAT_0048d540 == 1) {
    if (*(int *)(iVar2 + 0x1288) == 1) {
      pcVar7 = s_Magic_Not_Selected_0047e7f0;
      goto LAB_0040ec96;
    }
  }
  else if (*(int *)(iVar2 + 0x1288) == 1) {
    pcVar7 = s_Magic_Not_Selected_0047e7f0;
    goto LAB_0040ec96;
  }
  pcVar7 = s_R_click_0047e814;
LAB_0040ec96:
  if (param_2 == 0) {
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cd,0x6d,pcVar7,'\0','\0','\0',4,0,0,0,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cc,0x6c,pcVar7,local_4,(uchar)param_1,uVar5,4,0,0,0,1000)
    ;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cd,0x95,s_TAB_L_click_on_Enemy_0047e7d8,'\0','\0','\0',4,
               0,0,0,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cc,0x94,s_TAB_L_click_on_Enemy_0047e7d8,0xc0,0xc0,0xc0,4,
               0,0,0,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cd,0xa9,s_TAB_R_click_on_Enemy_0047e7c0,'\0','\0','\0',4,
               0,0,0,1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,lVar1,0xe,1,0x1cc,0xa8,s_TAB_R_click_on_Enemy_0047e7c0,0xc0,0xc0,0xc0,4,
               0,0,0,1000);
    *(int *)((int)this + 0xa970) = *(int *)((int)this + 0xa970) + 1;
  }
  return;
}



/*
 * Function: FUN_0040ede0
 * Address: 0040ede0
 */

void __fastcall FUN_0040ede0(void *param_1)

{
  int iVar1;
  int iVar2;
  long local_8;
  long local_4;
  
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  iVar2 = (**(int **)(iVar1 + 0x3fc) - DAT_0048cdfc) + DAT_0048cdf4;
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  iVar1 = (*(int *)(*(int *)(iVar1 + 0x3fc) + 4) - DAT_0048ce00) + DAT_0048cdf8;
  RKC_RPGSCRN::CalcWorldPos(DAT_00482d14,iVar2,iVar1,&local_4,&local_8);
  RKC_RPGSCRN_OBJECTDISP::Release((RKC_RPGSCRN_OBJECTDISP *)((int)param_1 + 0xa758));
  FUN_004165d0(param_1,(RKC_RPGSCRN_OBJECTDISP *)((int)param_1 + 0xa758),iVar2,iVar1);
  return;
}



/*
 * Function: FUN_0040ee70
 * Address: 0040ee70
 */

void __thiscall FUN_0040ee70(void *this,long param_1)

{
  char cVar1;
  short sVar2;
  int iVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *pRVar4;
  int iVar5;
  undefined4 *puVar6;
  char *pcVar7;
  undefined4 *puVar8;
  int iVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  long lVar11;
  uint uVar12;
  uint uVar13;
  int iVar14;
  int iVar15;
  char *pcVar16;
  char *pcVar17;
  uchar uVar18;
  long lVar19;
  uchar uVar20;
  uchar uVar21;
  long lVar22;
  short sVar23;
  long lVar24;
  short sVar25;
  long lVar26;
  int *piVar27;
  long lVar28;
  tagRECT *ptVar29;
  void *pvVar30;
  int *piVar31;
  long lVar32;
  RKC_DIB *pRVar33;
  int iStack_11c;
  int iStack_118;
  uchar local_114;
  uchar uStack_113;
  uchar uStack_112;
  undefined uStack_111;
  int iStack_10c;
  long local_108;
  int local_104;
  char acStack_100 [256];
  
  iVar3 = FUN_004663a0(DAT_0048ce10);
  if (iVar3 == 1) {
    return;
  }
  iVar3 = FUN_00434cb0((int)DAT_0048ce0c);
  local_114 = (uchar)iVar3;
  uStack_113 = (uchar)((uint)iVar3 >> 8);
  uStack_112 = (uchar)((uint)iVar3 >> 0x10);
  uStack_111 = (undefined)((uint)iVar3 >> 0x18);
  local_104 = *(int *)(iVar3 + 0x458);
  local_108 = -1;
  iStack_10c = RKC_RPGSCRN_OBJECTDISP::GetCount((RKC_RPGSCRN_OBJECTDISP *)((int)this + 0xa758));
  if (iStack_10c == 0) {
    return;
  }
  iStack_10c = iStack_10c + -1;
  if (iStack_10c < 0) {
    return;
  }
  do {
    this_00 = RKC_RPGSCRN_OBJECTDISP::Get((RKC_RPGSCRN_OBJECTDISP *)((int)this + 0xa758),iStack_10c)
    ;
    if (this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
      pRVar4 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
      local_108 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4);
      if ((local_108 < 4) && (-1 < local_108)) {
        iVar3 = FUN_00434c90(DAT_0048ce0c,local_108);
        if ((iVar3 != 0) && (*(int *)(iVar3 + 0x2d8) == 1)) {
          iVar5 = FUN_00434cb0((int)DAT_0048ce0c);
          if (iVar3 != iVar5) {
            FUN_00417b10(&DAT_00482df4,*(long *)(iVar3 + 0x2e0),*(long *)(iVar3 + 0x2e4),&iStack_118
                         ,&iStack_11c);
            uVar12 = 0xffffffff;
            pcVar7 = (char *)(iVar3 + 0x10);
            goto code_r0x0040f040;
          }
          local_108 = -1;
        }
      }
      else {
        pvVar30 = (void *)0x80000000;
        lVar11 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4);
        uVar12 = FUN_00417070(&DAT_00482df4,lVar11,pvVar30);
        if (uVar12 != 0) {
          lVar11 = local_108;
          pvVar30 = (void *)FUN_00427aa0(local_104);
          puVar6 = (undefined4 *)FUN_004299e0(pvVar30,lVar11);
          if (puVar6 != (undefined4 *)0x0) {
            piVar31 = &iStack_11c;
            piVar27 = &iStack_118;
            iVar3 = FUN_00434cd0((int)puVar6);
            lVar11 = *(long *)(iVar3 + 0x1c);
            iVar3 = FUN_00434cd0((int)puVar6);
            FUN_00417b10(&DAT_00482df4,*(long *)(iVar3 + 0x18),lVar11,piVar27,piVar31);
            FUN_00427b20(puVar6);
            iVar3 = FUN_00427b20(puVar6);
            if (iVar3 == 5) {
              if (*(int *)(*(int *)(CONCAT13(uStack_111,
                                             CONCAT12(uStack_112,CONCAT11(uStack_113,local_114))) +
                                   0x3f8) + 0x158) == 1) break;
              local_108 = -1;
            }
            else {
              iVar3 = FUN_00427b20(puVar6);
              if (iVar3 == 3) {
                iVar3 = FUN_00434cd0((int)puVar6);
                pvVar30 = *(void **)(iVar3 + 0xcc);
                iVar3 = FUN_00430890((int)pvVar30);
                if (iVar3 == 1) {
                  local_114 = 0xc0;
                  uStack_112 = 0x80;
                  uStack_113 = 0x80;
                }
                else {
                  iVar3 = FUN_00430890((int)pvVar30);
                  if (iVar3 == 2) {
                    uStack_112 = 0xe0;
                    uStack_113 = 0xc0;
                    local_114 = 0x80;
                  }
                  else {
                    iVar3 = FUN_00430890((int)pvVar30);
                    if (iVar3 == 3) {
                      uStack_112 = 0xe0;
                      uStack_113 = 0x80;
                      local_114 = '\\';
                    }
                    else {
                      uStack_112 = 0xe0;
                      uStack_113 = 0xe0;
                      local_114 = 0xe0;
                    }
                  }
                }
                iVar3 = FUN_00456210((int)pvVar30);
                if ((iVar3 == 4) && (iVar3 = FUN_00466390((int)pvVar30), iVar3 == 0)) {
                  FUN_004661c0(pvVar30,0);
                  FUN_00467d51(acStack_100,(byte *)s__d_Gold_0047f148);
                  goto LAB_0040f241;
                }
                iVar3 = FUN_00427b40((int)pvVar30);
                if (iVar3 == 1) {
                  pcVar7 = (char *)FUN_00456230((int)pvVar30);
                }
                else {
                  pcVar7 = (char *)FUN_00434cd0((int)pvVar30);
                }
                uVar12 = 0xffffffff;
                goto code_r0x0040f229;
              }
              iVar3 = FUN_00427b20(puVar6);
              if (iVar3 != 4) {
                iVar3 = FUN_00427b20(puVar6);
                if ((iVar3 == 0) &&
                   (iVar3 = FUN_00434cd0((int)puVar6), *(int *)(iVar3 + 0xec) != -1)) {
                  iVar3 = FUN_00434cd0((int)puVar6);
                  iVar3 = *(int *)(iVar3 + 0xec) + 14000000;
                  pvVar30 = (void *)FUN_00427aa0(local_104);
                  puVar8 = (undefined4 *)FUN_004299e0(pvVar30,iVar3);
                  if (puVar8 != (undefined4 *)0x0) {
                    puVar6 = puVar8;
                  }
                }
                iVar3 = FUN_00434cd0((int)puVar6);
                if (*(int *)(iVar3 + 0x30) != 0) {
                  iVar3 = FUN_00434cd0((int)puVar6);
                  iStack_11c = iStack_11c - *(int *)(iVar3 + 0x34);
                  iVar3 = FUN_00434cd0((int)puVar6);
                  uVar12 = 0xffffffff;
                  pcVar7 = *(char **)(iVar3 + 0x30);
                  goto code_r0x0040f45b;
                }
                break;
              }
            }
          }
        }
      }
    }
    iStack_10c = iStack_10c + -1;
  } while (-1 < iStack_10c);
  goto LAB_0040f836;
  while( true ) {
    uVar12 = uVar12 - 1;
    pcVar17 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar17;
    if (cVar1 == '\0') break;
code_r0x0040f229:
    pcVar17 = pcVar7;
    if (uVar12 == 0) break;
  }
  uVar12 = ~uVar12;
  pcVar7 = pcVar17 + -uVar12;
  pcVar17 = acStack_100;
  for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
    *(undefined4 *)pcVar17 = *(undefined4 *)pcVar7;
    pcVar7 = pcVar7 + 4;
    pcVar17 = pcVar17 + 4;
  }
  for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
    *pcVar17 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    pcVar17 = pcVar17 + 1;
  }
LAB_0040f241:
  iVar3 = iStack_11c + -0xb;
  uVar12 = 0xffffffff;
  iStack_118 = iStack_118 + 2;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  iVar5 = iStack_11c + -0x1a;
  uVar13 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar13 == 0) break;
    uVar13 = uVar13 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  iStack_11c = iStack_11c + -0x18;
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0x11,0,0,0,0x800,
             (iStack_118 - ((~uVar13 - 1) * 3 & 0x7fffffff)) + -4,iVar5,
             ((~uVar12 - 1) * 3 & 0x7fffffff) + 1 + iStack_118,iVar3,500,1000,0,0,0,0x60,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  uVar12 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  uVar13 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar13 == 0) break;
    uVar13 = uVar13 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0x11,0,0,0,0x400,
             (iStack_118 - ((~uVar13 - 1) * 3 & 0x7fffffff)) + -5,iStack_11c + -3,
             ((~uVar12 - 1) * 3 & 0x7fffffff) + 2 + iStack_118,iStack_11c + 0xe,800,1000,0,0,0,0,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  uVar12 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x11,1,(iStack_118 - ((~uVar12 - 1) * 3 & 0x7fffffff)) + 1,
             iStack_11c + 1,acStack_100,'\0','\0','\0',0,0,0,1,1000);
  uVar12 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x11,1,iStack_118 - ((~uVar12 - 1) * 3 & 0x7fffffff),iStack_11c,
             acStack_100,uStack_112,uStack_113,local_114,0,0,0,1,1000);
  goto LAB_0040f836;
  while( true ) {
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    if (cVar1 == '\0') break;
code_r0x0040f45b:
    if (uVar12 == 0) break;
  }
  iVar3 = FUN_00427b20(puVar6);
  if (iVar3 != 2) {
    iVar5 = (int)((~uVar12 - 1) * 6) / 2;
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0x11,0,0,0,0x800,(iStack_118 - iVar5) + -4,iStack_11c + -2,
               iVar5 + 1 + iStack_118,iStack_11c + 0xd,500,1000,0,0,0,0x60,(tagRECT *)0x0,
               (RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0x11,0,0,0,0x400,(iStack_118 - iVar5) + -5,iStack_11c + -3,
               iVar5 + 2 + iStack_118,iStack_11c + 0xe,800,1000,0,0,0,0,(tagRECT *)0x0,
               (RKC_DIB *)0x0);
    lVar32 = 1000;
    lVar28 = 1;
    lVar26 = 0;
    lVar24 = 0;
    lVar11 = 0;
    uVar21 = '\0';
    uVar18 = '\0';
    uVar20 = '\0';
    iVar3 = FUN_00434cd0((int)puVar6);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0x11,1,(iStack_118 - iVar5) + 1,iStack_11c + 1,
               *(char **)(iVar3 + 0x30),uVar20,uVar18,uVar21,lVar11,lVar24,lVar26,lVar28,lVar32);
    lVar32 = 1000;
    lVar28 = 1;
    lVar26 = 0;
    lVar24 = 0;
    lVar11 = 0;
    iVar3 = FUN_00434cd0((int)puVar6);
    uVar20 = *(uchar *)(iVar3 + 0xbc);
    iVar3 = FUN_00434cd0((int)puVar6);
    uVar18 = *(uchar *)(iVar3 + 0xbd);
    iVar3 = FUN_00434cd0((int)puVar6);
    uVar21 = *(uchar *)(iVar3 + 0xbe);
    iVar3 = FUN_00434cd0((int)puVar6);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0x11,1,iStack_118 - iVar5,iStack_11c,*(char **)(iVar3 + 0x30),
               uVar21,uVar18,uVar20,lVar11,lVar24,lVar26,lVar28,lVar32);
    goto LAB_0040f836;
  }
  iVar3 = (int)((~uVar12 + 1) * 6) / 2;
  iVar14 = iStack_118 - iVar3;
  local_114 = (uchar)iVar3;
  uStack_113 = (uchar)((uint)iVar3 >> 8);
  uStack_112 = (uchar)((uint)iVar3 >> 0x10);
  uStack_111 = (undefined)((uint)iVar3 >> 0x18);
  iVar3 = iVar3 + 1 + iStack_118;
  iVar15 = iVar14 + -4;
  iVar9 = FUN_00434cd0((int)puVar6);
  iVar5 = *(int *)(iVar9 + 0xd4);
  if (iVar5 == *(int *)(iVar9 + 0xe4)) {
    iVar5 = (iVar3 - iVar15) + 1;
LAB_0040f4c4:
    if (iVar5 != 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0x11,0,0,0,0x800,iVar15,iStack_11c + -2,iVar5 + -1 + iVar15,
                 iStack_11c + 0xd,500,1000,0,0x80,0x20,0x20,(tagRECT *)0x0,(RKC_DIB *)0x0);
    }
  }
  else {
    if (0 < iVar5) {
      iVar5 = (((iVar3 - iVar15) + 1) * iVar5) / *(int *)(iVar9 + 0xe4);
      goto LAB_0040f4c4;
    }
    iVar5 = 0;
  }
  if (iVar5 + iVar15 <= iVar3) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0x11,0,0,0,0x800,iVar5 + iVar15,iStack_11c + -2,iVar3,
               iStack_11c + 0xd,500,1000,0,0,0,0,(tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0x11,0,0,0,0x400,iVar14 + -5,iStack_11c + -3,iVar3 + 1,
             iStack_11c + 0xe,800,1000,0,0,0,0,(tagRECT *)0x0,(RKC_DIB *)0x0);
  uVar12 = 0xffffffff;
  pcVar7 = &DAT_0047f144;
  do {
    pcVar17 = pcVar7;
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    pcVar17 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar17;
  } while (cVar1 != '\0');
  uVar12 = ~uVar12;
  pcVar7 = pcVar17 + -uVar12;
  pcVar17 = acStack_100;
  for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
    *(undefined4 *)pcVar17 = *(undefined4 *)pcVar7;
    pcVar7 = pcVar7 + 4;
    pcVar17 = pcVar17 + 4;
  }
  for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
    *pcVar17 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    pcVar17 = pcVar17 + 1;
  }
  iVar3 = FUN_00434cd0((int)puVar6);
  uVar12 = 0xffffffff;
  pcVar7 = *(char **)(iVar3 + 0x30);
  do {
    pcVar17 = pcVar7;
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    pcVar17 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar17;
  } while (cVar1 != '\0');
  uVar12 = ~uVar12;
  iVar3 = -1;
  pcVar7 = acStack_100;
  do {
    pcVar16 = pcVar7;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar16 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar16;
  } while (cVar1 != '\0');
  pcVar7 = pcVar17 + -uVar12;
  pcVar17 = pcVar16 + -1;
  for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
    *(undefined4 *)pcVar17 = *(undefined4 *)pcVar7;
    pcVar7 = pcVar7 + 4;
    pcVar17 = pcVar17 + 4;
  }
  for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
    *pcVar17 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    pcVar17 = pcVar17 + 1;
  }
  iVar3 = CONCAT13(uStack_111,CONCAT12(uStack_112,CONCAT11(uStack_113,local_114)));
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x11,1,(iStack_118 - iVar3) + 1,iStack_11c + 1,acStack_100,'\0',
             '\0','\0',0,0,0,1,1000);
  lVar32 = 1000;
  lVar28 = 1;
  lVar26 = 0;
  lVar24 = 0;
  lVar11 = 0;
  iVar5 = FUN_00434cd0((int)puVar6);
  uVar20 = *(uchar *)(iVar5 + 0xbc);
  iVar5 = FUN_00434cd0((int)puVar6);
  uVar18 = *(uchar *)(iVar5 + 0xbd);
  iVar5 = FUN_00434cd0((int)puVar6);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x11,1,iStack_118 - iVar3,iStack_11c,acStack_100,
             *(uchar *)(iVar5 + 0xbe),uVar18,uVar20,lVar11,lVar24,lVar26,lVar28,lVar32);
  pRVar33 = (RKC_DIB *)0x0;
  ptVar29 = (tagRECT *)0x0;
  sVar25 = 1000;
  sVar23 = 1000;
  sVar2 = 1000;
  lVar22 = 0;
  lVar19 = 1000;
  lVar32 = 1000;
  lVar28 = 1000;
  iVar3 = iStack_11c + 1;
  lVar26 = 1000;
  iVar14 = iVar14 + -2;
  lVar24 = 4;
  lVar11 = -1;
  iVar5 = FUN_00434cd0((int)puVar6);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0x11,0xb,*(int *)(iVar5 + 0xd8) + 3,lVar11,lVar24,iVar14,iVar3,
             lVar26,lVar28,lVar32,lVar19,lVar22,sVar2,sVar23,sVar25,ptVar29,pRVar33);
  goto LAB_0040f836;
  while( true ) {
    uVar12 = uVar12 - 1;
    pcVar17 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar17;
    if (cVar1 == '\0') break;
code_r0x0040f040:
    pcVar17 = pcVar7;
    if (uVar12 == 0) break;
  }
  uVar12 = ~uVar12;
  pcVar7 = pcVar17 + -uVar12;
  pcVar17 = acStack_100;
  for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
    *(undefined4 *)pcVar17 = *(undefined4 *)pcVar7;
    pcVar7 = pcVar7 + 4;
    pcVar17 = pcVar17 + 4;
  }
  for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
    *pcVar17 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    pcVar17 = pcVar17 + 1;
  }
  uVar12 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  iVar3 = (int)((~uVar12 - 1) * 6) / 2;
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0x11,0,0,0,0x800,(iStack_118 - iVar3) + -4,iStack_11c + -2,
             iVar3 + 1 + iStack_118,iStack_11c + 0xd,500,1000,0,0,0,0,(tagRECT *)0x0,(RKC_DIB *)0x0)
  ;
  uVar12 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x11,1,(iStack_118 - ((~uVar12 - 1) * 3 & 0x7fffffff)) + 1,
             iStack_11c + 1,acStack_100,'\0','\0','\0',0,0,0,1,1000);
  uVar12 = 0xffffffff;
  pcVar7 = acStack_100;
  do {
    if (uVar12 == 0) break;
    uVar12 = uVar12 - 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x11,1,iStack_118 - ((~uVar12 - 1) * 3 & 0x7fffffff),iStack_11c,
             acStack_100,0xe0,0xe0,0xe0,0,0,0,1,1000);
LAB_0040f836:
  if (local_108 != -1) {
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    lVar11 = RKC_RPGSCRN_OBJECTBLOCK::GetCount(pRVar10);
    local_114 = (uchar)lVar11;
    uStack_113 = (uchar)((uint)lVar11 >> 8);
    uStack_112 = (uchar)((uint)lVar11 >> 0x10);
    uStack_111 = (undefined)((uint)lVar11 >> 0x18);
    iStack_10c = 0;
    if (0 < lVar11) {
      do {
        iVar3 = iStack_10c;
        pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        pRVar4 = RKC_RPGSCRN_OBJECTBLOCK::Get(pRVar10,iVar3);
        if ((pRVar4 != (RKC_RPGSCRN_OBJECT *)0x0) &&
           (lVar11 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4), lVar11 == local_108)) {
          sVar2 = RKC_RPGSCRN_OBJECT::GetRStrong(pRVar4);
          RKC_RPGSCRN_OBJECT::SetRStrong(pRVar4,sVar2 + 300);
          sVar2 = RKC_RPGSCRN_OBJECT::GetGStrong(pRVar4);
          RKC_RPGSCRN_OBJECT::SetGStrong(pRVar4,sVar2 + 300);
          sVar2 = RKC_RPGSCRN_OBJECT::GetBStrong(pRVar4);
          RKC_RPGSCRN_OBJECT::SetBStrong(pRVar4,sVar2 + 300);
        }
        iStack_10c = iStack_10c + 1;
      } while (iStack_10c < CONCAT13(uStack_111,CONCAT12(uStack_112,CONCAT11(uStack_113,local_114)))
              );
    }
  }
  return;
}



/*
 * Function: FUN_0040f900
 * Address: 0040f900
 */

void __thiscall FUN_0040f900(void *this,long param_1)

{
  int iVar1;
  int iVar2;
  long lVar3;
  
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,0x65,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  lVar3 = 0x72;
  iVar1 = **(int **)(iVar2 + 0x3fc);
  if ((((0x176 < iVar1) && (iVar1 < 0x1bb)) &&
      (iVar1 = (*(int **)(iVar2 + 0x3fc))[1], 0x188 < iVar1)) && (iVar1 < 0x193)) {
    lVar3 = 0x73;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,0xe,4,lVar3,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  return;
}



/*
 * Function: FUN_0040f9e0
 * Address: 0040f9e0
 */

void __thiscall FUN_0040f9e0(void *this,uint param_1,int param_2,int param_3,int param_4)

{
  uint uVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  code *pcVar6;
  int iVar7;
  int iVar8;
  long lVar9;
  
  uVar1 = param_1;
  piVar2 = (int *)FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (param_4 == 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x66,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x69,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    if ((((0xc5 < param_2) && (param_2 < 0xf1)) && (299 < param_3)) && (param_3 < 0x13d)) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x6a,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
    if (((0x14e < param_2) && (param_2 < 0x1c4)) && ((299 < param_3 && (param_3 < 0x13d)))) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x68,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
  }
  if (*(int *)((int)this + 0xa9e0) == -1) {
    if (piVar2[0x13d] == 0) {
      if (piVar2[0x13e] == 0) {
        if (piVar2[0x13b] != 0) {
          *(undefined4 *)((int)this + 0xa9e0) = 2;
        }
      }
      else {
        iVar3 = FUN_00467730(piVar2[0x13e]);
        if (-1 < iVar3) {
          *(undefined4 *)((int)this + 0xa9e0) = 1;
        }
      }
    }
    else {
      *(undefined4 *)((int)this + 0xa9e0) = 0;
    }
  }
  if ((*(int *)((int)this + 0xa9e0) == 0) && (piVar2[0x13d] == 0)) {
    *(undefined4 *)((int)this + 0xa9e0) = 1;
  }
  if ((*(int *)((int)this + 0xa9e0) == 1) && (piVar2[0x13e] == 0)) {
    *(undefined4 *)((int)this + 0xa9e0) = 2;
  }
  if ((*(int *)((int)this + 0xa9e0) == 2) && (piVar2[0x13b] == 0)) {
    *(undefined4 *)((int)this + 0xa9e0) = 3;
  }
  if (*(int *)((int)this + 0xa9e0) == 3) {
    *(undefined4 *)((int)this + 0xa9e0) = 0xffffffff;
  }
  iVar3 = *(int *)((int)this + 0xa9e0);
  if (iVar3 == 0) {
    iVar3 = FUN_00467730(piVar2[0x13d]);
    uVar4 = FUN_00467800(piVar2[0x13d]);
    if (param_4 == 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x6c,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar3 = iVar3 + -5;
      param_1 = uVar4;
      goto LAB_0040fdad;
    }
  }
  else if (iVar3 == 1) {
    iVar3 = FUN_00467730(piVar2[0x13e]);
    uVar4 = FUN_00466940(piVar2[0x13e]);
    if (param_4 == 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x6b,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar3 = iVar3 + -5;
      param_1 = uVar4;
      goto LAB_0040fdad;
    }
  }
  else if (iVar3 == 2) {
    iVar3 = FUN_00467730(piVar2[0x13b]);
    uVar4 = FUN_00466940(piVar2[0x13b]);
    if (param_4 == 0) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,0xe,4,0x67,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar3 = iVar3 + -5;
      param_1 = uVar4;
LAB_0040fdad:
      if (-1 < *(int *)((int)this + 0xa9e0)) {
        param_3 = 0;
        param_2 = 0;
        do {
          iVar8 = 0;
          iVar7 = 0;
          do {
            iVar5 = (iVar8 + (param_3 + (iVar3 + piVar2[10] * -0x12) * 4) * 4) * 0xc;
            RKC_UPDIB::SetPacket
                      (DAT_00482d10,uVar1,0xe,4,0x6d,-1,5,iVar7,param_2,1000,1000,1000,1000,0,
                       (short)*(undefined4 *)(&DAT_004743e0 + iVar5),
                       (short)*(undefined4 *)(&DAT_004743e4 + iVar5),
                       (short)*(undefined4 *)(&DAT_004743e8 + iVar5),(tagRECT *)0x0,(RKC_DIB *)0x0);
            iVar7 = iVar7 + 0x20;
            iVar8 = iVar8 + 1;
          } while (iVar7 < 0x80);
          param_2 = param_2 + 0x18;
          param_3 = param_3 + 1;
        } while (param_2 < 0x60);
        if (-1 < (int)param_1) {
          iVar3 = ((int)(param_1 + ((int)param_1 >> 0x1f & 3U)) >> 2) * 0x18;
          uVar4 = param_1 & 0x80000003;
          if ((int)uVar4 < 0) {
            uVar4 = (uVar4 - 1 | 0xfffffffc) + 1;
          }
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,uVar1,0xe,0,0,0,0x404,uVar4 * 0x20 + 0x14c,iVar3 + 0xbb,
                     uVar4 * 0x20 + 0x165,iVar3 + 0xcc,500,1000,0,0xff,0xff,0xff,(tagRECT *)0x0,
                     (RKC_DIB *)0x0);
        }
      }
      lVar9 = 0;
      if (piVar2[0x13d] != 0) {
        iVar3 = FUN_004663a0(piVar2[0x13d]);
        if (iVar3 == 1) {
          lVar9 = 0x18;
        }
        iVar3 = FUN_004663a0(piVar2[0x13d]);
        if (iVar3 == 3) {
          lVar9 = 0x19;
        }
      }
      RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
                (DAT_00482d20,uVar1,0xe,piVar2[0xd0],lVar9,*(long *)((int)this + 0xa9f0),
                 *(long *)((int)this + 0xa0a4),0x10d,0xf4,(int *)piVar2[0xcb],(short *)piVar2[0xcc],
                 (short *)piVar2[0xcd],(short *)piVar2[0xce],0x208,1000);
      return;
    }
  }
  else {
    iVar3 = param_3;
    if (param_4 == 0) goto LAB_0040fdad;
  }
  if (-1 < *(int *)((int)this + 0xa9e0)) {
    iVar3 = 0;
    param_4 = 0xcc;
    do {
      iVar8 = 0;
      iVar7 = 0x165;
      do {
        if ((((iVar7 + -0x19 <= param_2) && (param_4 + -0x11 <= param_3)) && (param_2 <= iVar7)) &&
           (param_3 <= param_4)) {
          iVar5 = *(int *)((int)this + 0xa9e0);
          if (iVar5 == 0) {
            FUN_00467810((void *)piVar2[0x13d],iVar8 + iVar3);
          }
          else if (iVar5 == 1) {
            FUN_00466950((void *)piVar2[0x13e],iVar8 + iVar3);
          }
          else if (iVar5 == 2) {
            FUN_00466950((void *)piVar2[0x13b],iVar8 + iVar3);
          }
        }
        iVar7 = iVar7 + 0x20;
        iVar8 = iVar8 + 1;
      } while (iVar7 < 0x1e5);
      iVar3 = iVar3 + 4;
      param_4 = param_4 + 0x18;
    } while (param_4 < 300);
  }
  pcVar6 = Play_exref;
  if (0xad < param_2) {
    if (((param_2 < 0xd6) && (0xc6 < param_3)) && ((param_3 < 0xd7 && (piVar2[0x13d] != 0)))) {
      *(undefined4 *)((int)this + 0xa9e0) = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
    if (param_2 < 0xd6) {
      if (((0xde < param_3) && (param_3 < 0xef)) &&
         ((piVar2[0x13e] != 0 && (iVar3 = FUN_00467730(piVar2[0x13e]), -1 < iVar3)))) {
        *(undefined4 *)((int)this + 0xa9e0) = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
      }
      if ((((param_2 < 0xd6) && (0xf6 < param_3)) && (param_3 < 0x107)) && (piVar2[0x13b] != 0)) {
        *(undefined4 *)((int)this + 0xa9e0) = 2;
        RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
      }
    }
  }
  if (((0xd7 < param_2) && (param_2 < 0x13b)) && ((0xb3 < param_3 && (param_3 < 0x112)))) {
    iVar5 = 0;
    iVar8 = 0xb4;
    iVar7 = 0xd8;
    iVar3 = 0;
    while( true ) {
      do {
        if (((iVar7 <= param_2) && (param_2 < iVar7 + 0x21)) &&
           ((iVar8 <= param_3 && (param_3 < iVar8 + 0x1f)))) {
          switch(iVar5 + iVar3) {
          case 0:
            *(undefined4 *)((int)this + 0xa9f0) = 5;
            break;
          case 1:
            *(undefined4 *)((int)this + 0xa9f0) = 4;
            break;
          case 2:
            *(undefined4 *)((int)this + 0xa9f0) = 3;
            break;
          case 3:
            *(undefined4 *)((int)this + 0xa9f0) = 6;
            break;
          case 5:
            *(undefined4 *)((int)this + 0xa9f0) = 2;
            break;
          case 6:
            *(undefined4 *)((int)this + 0xa9f0) = 7;
            break;
          case 7:
            *(undefined4 *)((int)this + 0xa9f0) = 0;
            break;
          case 8:
            *(undefined4 *)((int)this + 0xa9f0) = 1;
          }
        }
        iVar7 = iVar7 + 0x21;
        iVar3 = iVar3 + 1;
      } while (iVar3 < 3);
      iVar5 = iVar5 + 3;
      iVar8 = iVar8 + 0x1f;
      pcVar6 = Play_exref;
      if (8 < iVar5) break;
      iVar7 = 0xd8;
      iVar3 = 0;
    }
  }
  if ((((399 < param_2) && (param_2 < 0x1d0)) && (0x117 < param_3)) && (param_3 < 0x128)) {
    iVar3 = *(int *)((int)this + 0xa9e0);
    if (iVar3 == 0) {
      FUN_00467810((void *)piVar2[0x13d],0xffffffff);
    }
    else if (iVar3 == 1) {
      FUN_00466950((void *)piVar2[0x13e],0xffffffff);
    }
    else if (iVar3 == 2) {
      FUN_00466950((void *)piVar2[0x13b],0xffffffff);
    }
  }
  if (((0xc5 < param_2) && (param_2 < 0xf1)) && ((299 < param_3 && (param_3 < 0x13d)))) {
    *(undefined4 *)((int)this + 0xa06c) = 0;
    FUN_00452910(piVar2);
    (*pcVar6)(0,0x3a,0,0,DAT_0048d8e4);
  }
  if (((0x14e < param_2) && (param_2 < 0x1c4)) && ((299 < param_3 && (param_3 < 0x13d)))) {
    FUN_00410360((int)this);
    *(undefined4 *)((int)this + 0xa06c) = 0;
    (*pcVar6)(0,0x3a,0,0,DAT_0048d8e4);
  }
  return;
}



/*
 * Function: FUN_00410360
 * Address: 00410360
 */

void __fastcall FUN_00410360(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if (*(void **)(iVar1 + 0x4f4) != (void *)0x0) {
    FUN_00467810(*(void **)(iVar1 + 0x4f4),*(undefined4 *)(param_1 + 0xa9e4));
  }
  if (*(void **)(iVar1 + 0x4f8) != (void *)0x0) {
    FUN_00466950(*(void **)(iVar1 + 0x4f8),*(undefined4 *)(param_1 + 0xa9e8));
  }
  if (*(void **)(iVar1 + 0x4ec) != (void *)0x0) {
    FUN_00466950(*(void **)(iVar1 + 0x4ec),*(undefined4 *)(param_1 + 0xa9ec));
  }
  return;
}



/*
 * Function: FUN_004103c0
 * Address: 004103c0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_004103c0(int param_1_00,long param_1,int param_2,int param_3,int param_4)

{
  char cVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int *piVar5;
  uchar uVar6;
  code *pcVar7;
  uchar uVar8;
  int iVar9;
  char *pcVar10;
  undefined4 uVar11;
  char **local_2e0;
  undefined **local_2dc;
  int *local_2d8;
  uchar local_2d4;
  uchar local_2d0;
  int local_2c8;
  int local_2c0;
  int local_2bc;
  int local_2b8;
  int local_2b4;
  int local_2b0;
  int local_2ac;
  int local_2a8;
  undefined4 local_2a4;
  int local_2a0;
  int local_29c;
  int local_298;
  int local_294;
  int local_290;
  undefined4 local_28c;
  undefined4 local_288;
  undefined4 local_284;
  char *local_280;
  char *local_27c;
  char *local_278;
  char *local_274;
  undefined *local_270 [6];
  undefined *local_258;
  undefined *local_254;
  undefined *local_250;
  undefined *local_24c;
  char *local_248;
  char *local_244;
  char *local_240;
  char *local_23c;
  char *local_238;
  char *local_234;
  char *local_230;
  char *local_22c;
  char *local_228;
  char *local_224;
  char *local_220;
  char *local_21c;
  char *local_218;
  char *local_214;
  char *local_210;
  char *local_20c;
  char *local_208;
  char *local_204;
  char local_200 [256];
  byte local_100 [256];
  
  local_234 = s_OFF_0047f3b4;
  local_228 = s_OFF_0047f3b4;
  local_21c = s_OFF_0047f3b4;
  local_210 = s_OFF_0047f3b4;
  local_204 = s_OFF_0047f3b4;
  local_248 = s_Screen_Mode_at_Start_0047f390;
  local_244 = s_WINDOW_0047f388;
  local_240 = s_FULL_0047f380;
  local_23c = s_Semi_transparent_Objects_0047f364;
  local_238 = s_ON_0047f3ac;
  local_230 = s_Semi_transparent_Shadow_0047f348;
  local_22c = s_ON_0047f3ac;
  local_224 = s_Display_Darkness_0047f32c;
  local_220 = s_ON_0047f3ac;
  local_218 = s_Save_Image_at_Game_End_0047f310;
  local_214 = s_ON_0047f3ac;
  local_20c = s_Click_Range_0047f2f4;
  local_208 = s_ON_0047f3ac;
  local_270[5] = &DAT_0047f2ec;
  local_258 = &DAT_0047f2e4;
  local_254 = &DAT_0047f2dc;
  local_250 = &DAT_0047f2d4;
  local_24c = &DAT_0047f2cc;
  local_270[0] = &DAT_0047f2c4;
  local_270[1] = &DAT_0047f2bc;
  local_270[2] = &DAT_0047f2b4;
  local_270[3] = &DAT_0047f2ac;
  local_270[4] = &DAT_0047f2a4;
  local_2c0 = 0;
  local_2bc = 0;
  local_2b8 = 0;
  local_2b4 = 0;
  local_2b0 = 0;
  local_2ac = 0;
  local_2a8 = 0;
  local_2a4 = 0;
  local_2a0 = 0;
  local_29c = 0;
  local_298 = 0;
  local_294 = 0;
  local_290 = 0;
  local_28c = 0;
  local_288 = 0;
  local_284 = 0;
  local_280 = s_HOST___0047f298;
  local_27c = s_CLIENT_1__0047f28c;
  local_278 = s_CLIENT_2__0047f280;
  local_274 = s_CLIENT_3__0047f274;
  if (param_4 == 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x3b,-1,5,0,0,1000,1000,500,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x3a,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
  }
  iVar9 = *(int *)(param_1_00 + 0xa754);
  if (iVar9 != 0) {
    if (((iVar9 == 1) || (iVar9 == 4)) && (param_4 == 0)) {
      if (DAT_0048d70c == 1) {
        uVar4 = 0xffffffff;
        pcVar10 = s_Now_saving_the_data_0047f1d4;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0xab,
                   s_Now_saving_the_data_0047f1d4,'\0','\0','\0',4,0,0,1,1000);
        uVar4 = 0xffffffff;
        pcVar10 = s_Now_saving_the_data_0047f1d4;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0xaa,
                   s_Now_saving_the_data_0047f1d4,0x80,0x80,0xe0,4,0,0,1,1000);
      }
      else {
        if ((DAT_0048d544 == 1) && (DAT_0048d70c == 2)) {
          FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
          FUN_0044e830();
          DAT_0048d70c = 0;
        }
        if (*(int *)(param_1_00 + 0xa754) == 1) {
          _DAT_0048ce90 = 1;
        }
        if (*(int *)(param_1_00 + 0xa754) == 4) {
          PostMessageA(DAT_00482778,0x406,0,0);
        }
      }
    }
    if (*(int *)(param_1_00 + 0xa754) == 2) {
      if (param_4 == 0) {
        uVar4 = 0xffffffff;
        pcVar10 = s_Return_to_the_Title_Screen__0047f1ac;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0xab,
                   s_Return_to_the_Title_Screen__0047f1ac,'\0','\0','\0',4,0,0,1,1000);
        uVar4 = 0xffffffff;
        pcVar10 = s_Return_to_the_Title_Screen__0047f1ac;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0xaa,
                   s_Return_to_the_Title_Screen__0047f1ac,0xe0,0xe0,0xe0,4,0,0,1,1000);
        if (((param_2 < 0x150) || (0x167 < param_2)) ||
           ((param_3 < 0xca || (uVar6 = '@', 0xd5 < param_3)))) {
          uVar6 = 0xe0;
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x151,0xcb,s_YES_0047f1a4,'\0','\0','\0',4,0,0,1,1000)
        ;
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x150,0xca,s_YES_0047f1a4,uVar6,uVar6,0xe0,4,0,0,1,
                   1000);
        if (((param_2 < 0x180) || (0x1a3 < param_2)) ||
           ((param_3 < 0xca || (uVar6 = '@', 0xd5 < param_3)))) {
          uVar6 = 0xe0;
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x181,0xcb,s_NO_0047f19c,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x180,0xca,s_NO_0047f19c,uVar6,uVar6,0xe0,4,0,0,1,1000
                  );
      }
      else {
        if (((0x14f < param_2) && (param_2 < 0x168)) && ((0xc9 < param_3 && (param_3 < 0xd6)))) {
          RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
          FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
          FUN_0044b580();
          *(undefined4 *)(param_1_00 + 0xa754) = 1;
          FUN_004181d0(0x48d7b0);
          if (DAT_0048d544 == 1) {
            DAT_0048d70c = 1;
          }
        }
        if ((((0x17f < param_2) && (param_2 < 0x1a4)) && (0xc9 < param_3)) && (param_3 < 0xd6)) {
          *(undefined4 *)(param_1_00 + 0xa754) = 0;
          RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
        }
      }
    }
    if (*(int *)(param_1_00 + 0xa754) == 3) {
      if (param_4 == 0) {
        uVar4 = 0xffffffff;
        pcVar10 = s_Is_it_O_K__to_exit_the_game__0047f174;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0xab,
                   s_Is_it_O_K__to_exit_the_game__0047f174,'\0','\0','\0',4,0,0,1,1000);
        uVar4 = 0xffffffff;
        pcVar10 = s_Is_it_O_K__to_exit_the_game__0047f174;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0xaa,
                   s_Is_it_O_K__to_exit_the_game__0047f174,0xe0,0xe0,0xe0,4,0,0,1,1000);
        if (((param_2 < 0x150) || (0x167 < param_2)) ||
           ((param_3 < 0xca || (uVar6 = '@', 0xd5 < param_3)))) {
          uVar6 = 0xe0;
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x151,0xcb,s_YES_0047f1a4,'\0','\0','\0',4,0,0,1,1000)
        ;
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x150,0xca,s_YES_0047f1a4,uVar6,uVar6,0xe0,4,0,0,1,
                   1000);
        if ((((param_2 < 0x180) || (0x1a3 < param_2)) || (param_3 < 0xca)) || (0xd5 < param_3)) {
          uVar8 = 0xe0;
          uVar6 = 0xe0;
        }
        else {
          uVar6 = '@';
          uVar8 = '@';
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x181,0xcb,s_NO_0047f19c,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x180,0xca,s_NO_0047f19c,uVar6,uVar8,0xe0,4,0,0,1,1000
                  );
      }
      else {
        if ((((0x14f < param_2) && (param_2 < 0x168)) && (0xc9 < param_3)) && (param_3 < 0xd6)) {
          RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
          FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
          FUN_0044b580();
          *(undefined4 *)(param_1_00 + 0xa754) = 4;
          FUN_004181d0(0x48d7b0);
          if (DAT_0048d544 == 1) {
            DAT_0048d70c = 1;
          }
        }
        if (((0x17f < param_2) && (param_2 < 0x1a4)) && ((0xc9 < param_3 && (param_3 < 0xd6)))) {
          *(undefined4 *)(param_1_00 + 0xa754) = 0;
          RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
        }
      }
    }
    goto LAB_00412060;
  }
  if (DAT_0048d8b8 == 1) {
    local_2c0 = 1;
  }
  if (DAT_0048d534 == 1) {
    local_2bc = 1;
  }
  if (DAT_0048d530 == 1) {
    local_2b8 = 1;
  }
  if (DAT_0048d538 == 1) {
    local_2b4 = 1;
  }
  if (DAT_0048d544 == 1) {
    local_2b0 = 1;
  }
  if (DAT_0048d738 == 1) {
    local_2ac = 1;
  }
  local_2d8 = &local_2c0;
  local_2e0 = &local_244;
  iVar9 = 0x56;
  local_2c8 = 6;
  do {
    pcVar10 = local_2e0[-1];
    if ((pcVar10 != (char *)0x0) && (param_4 == 0)) {
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xc,1,0xb9,iVar9 + 1,pcVar10,'\0','\0','\0',4,0,0,1,1000);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xc,1,0xb8,iVar9,pcVar10,0xe0,0xe0,0xe0,4,0,0,1,1000);
    }
    pcVar10 = *local_2e0;
    if (pcVar10 != (char *)0x0) {
      if (param_4 == 0) {
        if (*local_2d8 == 1) {
          uVar6 = 0xff;
          local_2d4 = 0xff;
          local_2d0 = 0xff;
        }
        else {
          uVar6 = 0x80;
          local_2d0 = 0x80;
          local_2d4 = 0x80;
        }
        if (((0x177 < param_2) && (param_2 < 0x1aa)) &&
           ((iVar9 <= param_3 && (param_3 < iVar9 + 0xc)))) {
          uVar6 = '@';
          local_2d0 = 0xe0;
          local_2d4 = '@';
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x179,iVar9 + 1,pcVar10,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x178,iVar9,pcVar10,uVar6,local_2d4,local_2d0,4,0,0,1,
                   1000);
      }
      else if ((((0x177 < param_2) && (param_2 < 0x1aa)) && (iVar9 <= param_3)) &&
              (param_3 < iVar9 + 0xc)) {
        *local_2d8 = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      }
    }
    pcVar10 = local_2e0[1];
    if (pcVar10 != (char *)0x0) {
      if (param_4 == 0) {
        if (*local_2d8 == 0) {
          uVar6 = 0xff;
          local_2d4 = 0xff;
          local_2d0 = 0xff;
        }
        else {
          uVar6 = 0x80;
          local_2d0 = 0x80;
          local_2d4 = 0x80;
        }
        if (((0x1a9 < param_2) && (param_2 < 0x1d0)) &&
           ((iVar9 <= param_3 && (param_3 < iVar9 + 0xc)))) {
          uVar6 = '@';
          local_2d0 = 0xe0;
          local_2d4 = '@';
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x1ab,iVar9 + 1,pcVar10,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0x1aa,iVar9,pcVar10,uVar6,local_2d4,local_2d0,4,0,0,1,
                   1000);
      }
      else if (((0x1a9 < param_2) && (param_2 < 0x1d0)) &&
              ((iVar9 <= param_3 && (param_3 < iVar9 + 0xc)))) {
        *local_2d8 = 0;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      }
    }
    iVar9 = iVar9 + 0x10;
    local_2e0 = local_2e0 + 3;
    local_2d8 = local_2d8 + 1;
    local_2c8 = local_2c8 + -1;
  } while (local_2c8 != 0);
  if (param_4 == 0) {
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb9,0xb7,s_Click_Range_0047f260,'\0','\0','\0',4,0,0,1,
               1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb8,0xb6,s_Click_Range_0047f260,0xe0,0xe0,0xe0,4,0,0,1,
               1000);
    local_2dc = local_270 + 5;
    local_2d8 = (int *)0x0;
    iVar9 = 0x13d;
    do {
      if ((((param_2 < iVar9) || (iVar9 + 0x18 <= param_2)) || (param_3 < 0xb6)) || (0xc1 < param_3)
         ) {
        if ((int *)DAT_0048d734 == local_2d8) {
          local_2e0._0_1_ = 0xff;
          local_2d4 = 0xff;
          local_2d0 = 0xff;
        }
        else {
          local_2d0 = 0x80;
          local_2d4 = 0x80;
          local_2e0._0_1_ = 0x80;
        }
      }
      else {
        local_2e0._0_1_ = '@';
        local_2d4 = '@';
        local_2d0 = 0xe0;
      }
      pcVar10 = *local_2dc;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xc,1,iVar9,0xb7,pcVar10,'\0','\0','\0',4,0,0,1,1000);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xc,1,iVar9 + -1,0xb6,pcVar10,(uchar)local_2e0,local_2d4,
                 local_2d0,4,0,0,1,1000);
      iVar9 = iVar9 + 0x1e;
      local_2d8 = (int *)((int)local_2d8 + 1);
      local_2dc = local_2dc + 1;
    } while (iVar9 < 0x1d3);
  }
  else {
    local_2a8 = -1;
    iVar2 = 0;
    iVar9 = 0x155;
    do {
      if (((iVar9 + -0x18 <= param_2) && (param_2 < iVar9)) &&
         ((0xb5 < param_3 && (param_3 < 0xc2)))) {
        local_2a8 = iVar2;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
        break;
      }
      iVar9 = iVar9 + 0x1e;
      iVar2 = iVar2 + 1;
    } while (iVar9 < 0x1eb);
  }
  if (param_4 == 0) {
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb9,199,s_Click_Priority_0047f24c,'\0','\0','\0',4,0,0,1,
               1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb8,0xc6,s_Click_Priority_0047f24c,0xe0,0xe0,0xe0,4,0,0,1
               ,1000);
    iVar9 = 0x84;
    local_2dc = (undefined **)0x4;
    do {
      iVar2 = 0;
      piVar3 = (int *)(param_1_00 + 0xa948);
      do {
        if ((undefined **)*piVar3 == local_2dc) break;
        iVar2 = iVar2 + 1;
        piVar3 = piVar3 + 1;
      } while (iVar2 < 5);
      if (((param_2 < iVar9 + 0xb9) || (iVar9 + 0xd1 <= param_2)) ||
         ((param_3 < 0xc6 || (0xd1 < param_3)))) {
        local_2d0 = 0xe0;
        local_2d4 = 0xe0;
        local_2e0._0_1_ = 0xe0;
      }
      else {
        local_2d0 = 0xff;
        local_2e0._0_1_ = '@';
        local_2d4 = '@';
      }
      pcVar10 = local_270[iVar2];
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xc,1,iVar9 + 0xb9,199,pcVar10,'\0','\0','\0',4,0,0,1,1000);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,0xc,1,iVar9 + 0xb8,0xc6,pcVar10,(uchar)local_2e0,local_2d4,
                 local_2d0,4,0,0,1,1000);
      iVar9 = iVar9 + 0x1e;
      local_2dc = (undefined **)((int)local_2dc + -1);
    } while (iVar9 < 0x11a);
  }
  else {
    iVar2 = 0;
    iVar9 = 0x155;
    do {
      if ((((iVar9 + -0x18 <= param_2) && (param_2 < iVar9)) && (0xc5 < param_3)) &&
         (param_3 < 0xd2)) {
        iVar9 = 0;
        piVar3 = (int *)(param_1_00 + 0xa948);
        piVar5 = piVar3;
        goto LAB_00410d22;
      }
      iVar9 = iVar9 + 0x1e;
      iVar2 = iVar2 + 1;
    } while (iVar9 < 0x1eb);
  }
  goto LAB_00410d6d;
  while( true ) {
    iVar9 = iVar9 + 1;
    piVar5 = piVar5 + 1;
    if (4 < iVar9) break;
LAB_00410d22:
    if (*piVar5 == 4 - iVar2) break;
  }
  iVar2 = 5;
  do {
    if (*piVar3 < *(int *)(param_1_00 + 0xa948 + iVar9 * 4)) {
      *piVar3 = *piVar3 + 1;
    }
    piVar3 = piVar3 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  *(undefined4 *)(param_1_00 + 0xa948 + iVar9 * 4) = 0;
  RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
LAB_00410d6d:
  local_2dc = (undefined **)((DAT_0048ce98 % 100) * 10);
  if ((int)local_2dc < 500) {
    local_2dc = (undefined **)((DAT_0048ce98 % 100) * -10 + 1000);
  }
  pcVar7 = SetPacket_exref;
  if (param_4 == 0) {
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb9,0xdb,s_EFF_VOLUME_0047f240,'\0','\0','\0',4,0,0,1,
               1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb8,0xda,s_EFF_VOLUME_0047f240,0xe0,0xe0,0xe0,4,0,0,1,
               1000);
    pcVar7 = SetPacket_exref;
    uVar4 = 0xffffffff;
    pcVar10 = s_EFF_VOLUME_0047f240;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x78,-1,5,(~uVar4 + 0x1f) * 6,0xdf,1000,1000,1000,1000,0,
               1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar9 = ((DAT_0048d8e4 * 5 + 15000) * 0x28) / 3000;
    if (DAT_0048d8e4 == -10000) {
      iVar9 = 0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = s_EFF_VOLUME_0047f240;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,0xe,4,0x44,-1,6,iVar9 + (~uVar4 + 0x1f) * 6,0xdf,1000,1000,
               (long)local_2dc,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar9 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
    if (*(int *)(*(int *)(iVar9 + 0x3f8) + 8) == 1) {
      iVar9 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
      iVar9 = **(int **)(iVar9 + 0x3fc);
      iVar2 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
      iVar2 = *(int *)(*(int *)(iVar2 + 0x3fc) + 4);
      if (((0xaf < iVar9) && (iVar9 < 0x1d0)) && ((0xd9 < iVar2 && (iVar2 < 0xea)))) {
        uVar4 = 0xffffffff;
        pcVar10 = s_EFF_VOLUME_0047f240;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        iVar9 = iVar9 + (-0x20 - (~uVar4 - 1)) * 6;
        if (iVar9 < 0) {
LAB_00410fd2:
          iVar9 = -10000;
        }
        else {
          if (iVar9 < 0xc9) {
            if (iVar9 == 0) goto LAB_00410fd2;
          }
          else {
            iVar9 = 200;
          }
          iVar9 = (iVar9 * 3000) / 200 + -3000;
        }
        if (iVar9 != DAT_0048d8e4) {
          DAT_0048d8e4 = iVar9;
        }
      }
    }
  }
  if (param_4 == 0) {
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb9,0xef,s_BGM_VOLUME_0047f234,'\0','\0','\0',4,0,0,1,
               1000);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,0xb8,0xee,s_BGM_VOLUME_0047f234,0xe0,0xe0,0xe0,4,0,0,1,
               1000);
    uVar4 = 0xffffffff;
    pcVar10 = s_EFF_VOLUME_0047f240;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    uVar11 = 5;
    (*pcVar7)(param_1,0xe,4,0x78,0xffffffff,5,(~uVar4 + 0x1f) * 6,0xf3,1000,1000,1000,1000,0,1000,
              1000,1000,0,0);
    iVar9 = ((DAT_0048d8e8 * 5 + 15000) * 0x28) / 3000;
    if (DAT_0048d8e8 == -10000) {
      iVar9 = 0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = s_BGM_VOLUME_0047f234;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    (*pcVar7)(param_1,0xe,4,0x44,0xffffffff,6,iVar9 + (~uVar4 + 0x1f) * 6,0xf3,1000,1000,uVar11,1000
              ,0,1000,1000,1000,0,0);
    iVar9 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
    if (*(int *)(*(int *)(iVar9 + 0x3f8) + 8) == 1) {
      iVar9 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
      iVar9 = **(int **)(iVar9 + 0x3fc);
      iVar2 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
      iVar2 = *(int *)(*(int *)(iVar2 + 0x3fc) + 4);
      if ((((0xaf < iVar9) && (iVar9 < 0x1d0)) && (0xed < iVar2)) && (iVar2 < 0xfe)) {
        uVar4 = 0xffffffff;
        pcVar10 = s_BGM_VOLUME_0047f234;
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        iVar9 = iVar9 + (-0x20 - (~uVar4 - 1)) * 6;
        if (iVar9 < 0) {
LAB_00411319:
          iVar9 = -10000;
        }
        else {
          if (iVar9 < 0xc9) {
            if (iVar9 == 0) goto LAB_00411319;
          }
          else {
            iVar9 = 200;
          }
          iVar9 = (iVar9 * 3000) / 200 + -3000;
        }
        if (iVar9 != DAT_0048d8e8) {
          DAT_0048d8e8 = iVar9;
          RKC_DSOUND::SetVolume(DAT_00482d28,500,0,iVar9);
        }
      }
    }
    if (((param_2 < 0xb0) || (0x1cf < param_2)) ||
       ((param_3 < 0xfe || (uVar6 = '@', 0x109 < param_3)))) {
      uVar6 = 0xe0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = s_Mission_List_0047f224;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0xff,
               s_Mission_List_0047f224,'\0','\0','\0',4,0,0,1,1000);
    uVar4 = 0xffffffff;
    pcVar10 = s_Mission_List_0047f224;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0xfe,
               s_Mission_List_0047f224,uVar6,uVar6,0xe0,4,0,0,1,1000);
  }
  else if (((0xaf < param_2) && (param_2 < 0x1d0)) && ((0xfd < param_3 && (param_3 < 0x10a)))) {
    local_2a0 = 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
  }
  if (param_4 == 0) {
    if ((((param_2 < 0xb0) || (0x1cf < param_2)) || (param_3 < 0x10e)) ||
       (uVar6 = '@', 0x119 < param_3)) {
      uVar6 = 0xe0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = &DAT_0047f220;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0x10f,
               &DAT_0047f220,'\0','\0','\0',4,0,0,1,1000);
    uVar4 = 0xffffffff;
    pcVar10 = &DAT_0047f220;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0x10e,
               &DAT_0047f220,uVar6,uVar6,0xe0,4,0,0,1,1000);
  }
  else if (((0xaf < param_2) && (param_2 < 0x1d0)) && ((0x10d < param_3 && (param_3 < 0x11a)))) {
    local_29c = 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
  }
  if (param_4 == 0) {
    if (((param_2 < 0xb0) || (0x1cf < param_2)) ||
       ((param_3 < 0x11e || (uVar6 = '@', 0x129 < param_3)))) {
      uVar6 = 0xe0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = &DAT_0047f218;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0x11f,
               &DAT_0047f218,'\0','\0','\0',4,0,0,1,1000);
    uVar4 = 0xffffffff;
    pcVar10 = &DAT_0047f218;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0x11e,
               &DAT_0047f218,uVar6,uVar6,0xe0,4,0,0,1,1000);
  }
  else if (((0xaf < param_2) && (param_2 < 0x1d0)) && ((0x11d < param_3 && (param_3 < 0x12a)))) {
    local_298 = 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
  }
  if (param_4 == 0) {
    if (((param_2 < 0xb0) || (0x1cf < param_2)) ||
       ((param_3 < 0x12e || (uVar6 = '@', 0x139 < param_3)))) {
      uVar6 = 0xe0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = s_Save_and_Return_to_Title_0047f1fc;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0x12f,
               s_Save_and_Return_to_Title_0047f1fc,'\0','\0','\0',4,0,0,1,1000);
    uVar4 = 0xffffffff;
    pcVar10 = s_Save_and_Return_to_Title_0047f1fc;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0x12e,
               s_Save_and_Return_to_Title_0047f1fc,uVar6,uVar6,0xe0,4,0,0,1,1000);
  }
  else if ((((0xaf < param_2) && (param_2 < 0x1d0)) && (0x12d < param_3)) && (param_3 < 0x13a)) {
    local_294 = 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
  }
  if (param_4 == 0) {
    if ((((param_2 < 0xb0) || (0x1cf < param_2)) || (param_3 < 0x13e)) ||
       (uVar6 = '@', 0x149 < param_3)) {
      uVar6 = 0xe0;
    }
    uVar4 = 0xffffffff;
    pcVar10 = s_Save_and_Exit_0047f1ec;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb1,0x13f,
               s_Save_and_Exit_0047f1ec,'\0','\0','\0',4,0,0,1,1000);
    uVar4 = 0xffffffff;
    pcVar10 = s_Save_and_Exit_0047f1ec;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,0xc,1,((~uVar4 - 1) * -6 + 0x120 >> 1) + 0xb0,0x13e,
               s_Save_and_Exit_0047f1ec,uVar6,uVar6,0xe0,4,0,0,1,1000);
  }
  else {
    if (((0xaf < param_2) && (param_2 < 0x1d0)) && ((0x13d < param_3 && (param_3 < 0x14a)))) {
      local_290 = 1;
      RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
    }
    if (param_4 == 1) {
      DAT_0048d8b8 = (uint)(local_2c0 != 0);
      DAT_0048d534 = (uint)(local_2bc != 0);
      DAT_0048d530 = (uint)(local_2b8 != 0);
      DAT_0048d538 = (uint)(local_2b4 != 0);
      DAT_0048d544 = (uint)(local_2b0 != 0);
      DAT_0048d738 = (uint)(local_2ac != 0);
      if (local_2a8 != -1) {
        DAT_0048d734 = local_2a8;
      }
      if (((local_2a0 != 0) && (DAT_0048ce44 == 0)) && (DAT_0048ce6c == 0)) {
        if (DAT_0048ce54 == 0) {
          FUN_004170f0();
          DAT_0048ce54 = 1;
          _DAT_0048d770 = 0xffffffff;
        }
        else {
          DAT_0048ce54 = 0;
        }
      }
      if (((local_29c != 0) && (DAT_0048ce44 == 0)) && (DAT_0048ce6c == 0)) {
        if (DAT_0048ce64 == 0) {
          DAT_0048ce4c = 0;
          DAT_0048ce48 = 0;
          DAT_0048ce40 = 0;
          DAT_0048ce38 = 0;
          DAT_0048ce50 = 0;
          DAT_0048ce54 = 0;
          DAT_0048ce64 = 1;
          DAT_0048ce5c = 0;
        }
        else {
          DAT_0048ce64 = 0;
        }
      }
      if (((local_298 != 0) && (DAT_0048ce44 == 0)) && (DAT_0048ce6c == 0)) {
        if (DAT_0048ce58 == 0) {
          FUN_004170f0();
          _DAT_0048d764 = 0;
          DAT_0048ce58 = 1;
        }
        else {
          DAT_0048ce58 = 0;
        }
      }
      if (local_294 != 0) {
        *(undefined4 *)(param_1_00 + 0xa754) = 2;
      }
      if (local_290 != 0) {
        *(undefined4 *)(param_1_00 + 0xa754) = 3;
      }
      RKC_RPGSCRN::SetShadowTransFlag(DAT_00482d14,DAT_0048d530);
    }
  }
LAB_00412060:
  if (DAT_00482db0 != 0) {
    iVar9 = 0x156;
    local_2dc = (undefined **)0xffffffff;
    local_2d8 = (int *)0x0;
    do {
      iVar2 = FUN_00434c90(*(void **)(param_1_00 + 0xa018),(int)local_2d8);
      if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
        uVar4 = 0xffffffff;
        pcVar10 = (char *)(iVar2 + 0x10);
        do {
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          cVar1 = *pcVar10;
          pcVar10 = pcVar10 + 1;
        } while (cVar1 != '\0');
        if ((int)local_2dc < (int)(~uVar4 - 1)) {
          uVar4 = 0xffffffff;
          pcVar10 = (char *)(iVar2 + 0x10);
          do {
            if (uVar4 == 0) break;
            uVar4 = uVar4 - 1;
            cVar1 = *pcVar10;
            pcVar10 = pcVar10 + 1;
          } while (cVar1 != '\0');
          local_2dc = (undefined **)(~uVar4 - 1);
        }
      }
      local_2d8 = (int *)((int)local_2d8 + 1);
    } while ((int)local_2d8 < 4);
    local_2d8 = (int *)0x0;
    do {
      iVar2 = FUN_00434c90(*(void **)(param_1_00 + 0xa018),(int)local_2d8);
      if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
        FUN_00467d51(local_100,(byte *)s___s_____ds_Lv___3d____s_0047f15c);
        FUN_00434cb0(DAT_0048ce0c);
        FUN_00427b10(*(int *)(iVar2 + 0x458));
        FUN_00467d51(local_200,local_100);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0xad,iVar9 + 1,local_200,'\0','\0','\0',4,0,0,1,1000);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,param_1,0xc,1,0xac,iVar9,local_200,0xc0,0xc0,0xc0,4,0,0,1,1000);
        iVar9 = iVar9 + 0xd;
      }
      local_2d8 = (int *)((int)local_2d8 + 1);
    } while ((int)local_2d8 < 4);
  }
  return;
}



/*
 * Function: FUN_00412220
 * Address: 00412220
 */

void __thiscall FUN_00412220(void *this,long param_1)

{
  short sVar1;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int iVar2;
  int iVar3;
  int iVar4;
  
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,0x1f5);
  this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,0);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,8);
  iVar2 = *(int *)((int)this + 0xa800);
  iVar4 = (int)sVar1;
  if (iVar2 == -1) {
    if (DAT_0048ce5c != 1) goto LAB_00412345;
LAB_00412273:
    iVar3 = iVar4 + -1;
  }
  else {
    iVar3 = iVar2;
    if (iVar4 <= iVar2) goto LAB_00412273;
  }
  if (iVar2 < iVar4 + 0x96) {
    iVar2 = 1000;
  }
  else {
    iVar2 = (((iVar4 - iVar2) + 0xb4) * 1000) / 0x1e;
    if ((iVar2 < 0) || (iVar2 == 0)) goto LAB_00412345;
  }
  RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
            (DAT_00482d20,param_1,0x10,0x1f5,0,8,iVar3,0,0,(int *)0x0,(short *)0x0,(short *)0x0,
             (short *)0x0,0,iVar2);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x10,1,0x6d,0x21,(char *)((int)this + 0xa804),'\0','\0','\0',4,0,0
             ,1,iVar2);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,param_1,0x10,1,0x6c,0x20,(char *)((int)this + 0xa804),0xe0,0xe0,0xe0,4,0,0
             ,1,iVar2);
LAB_00412345:
  if ((*(int *)((int)this + 0xa800) != -1) &&
     (iVar2 = *(int *)((int)this + 0xa800) + 1, *(int *)((int)this + 0xa800) = iVar2,
     iVar4 + 0xb4 <= iVar2)) {
    *(undefined4 *)((int)this + 0xa800) = 0xffffffff;
  }
  return;
}



/*
 * Function: FUN_00412380
 * Address: 00412380
 */

void __thiscall FUN_00412380(void *this,long param_1)

{
  char cVar1;
  char *pcVar2;
  int iVar3;
  uchar uVar4;
  uchar uVar5;
  uchar uVar6;
  int local_a0;
  int local_9c;
  char **local_98;
  long local_94;
  int local_90;
  char *local_88;
  char *local_84;
  char *local_80;
  undefined1 *local_7c;
  char *local_78;
  char *local_74;
  undefined1 *local_70;
  char *local_6c;
  char *local_68;
  undefined1 *local_64;
  char *local_60;
  char *local_5c;
  undefined1 *local_58;
  char *local_54;
  char *local_50;
  undefined1 *local_4c;
  char *local_48;
  char *local_44;
  undefined1 *local_40;
  char *local_3c;
  char *local_38;
  undefined1 *local_34;
  char *local_30;
  char *local_2c;
  char *local_28;
  char *local_24;
  undefined1 *local_20;
  char *local_1c;
  char *local_18;
  char *local_14;
  char *local_10;
  undefined1 *local_c;
  char *local_8;
  undefined4 local_4;
  
  local_74 = s_1_Masayuki_Hino_0047f6c4;
  local_50 = s_1_Masayuki_Hino_0047f6c4;
  iVar3 = *(int *)((int)this + 0xa96c);
  local_88 = s_2_______SHADOW_FLARE_STAFF_______0047f6a0;
  local_84 = s_0_Producer_0047f67c;
  local_80 = s_1_Shogo_Hayashi_0047f658;
  local_7c = &DAT_0048d9f0;
  local_78 = s_0_Planner_0047f634;
  local_70 = &DAT_0048d9f0;
  local_6c = s_0_Game_Tool_Program__GameSetting_0047f610;
  local_68 = s_1_Daisuke_Kura_0047f5ec;
  local_64 = &DAT_0048d9f0;
  local_60 = s_0_CharacterAnimation_Visual_CG_0047f5c8;
  local_5c = s_1_Masahiko_Mimata_0047f5a4;
  local_58 = &DAT_0048d9f0;
  local_54 = s_0_Background_Object_Item_CG_0047f580;
  local_4c = &DAT_0048d9f0;
  local_48 = s_0_Installer_WEB_Program_0047f55c;
  local_44 = s_1_Akihiro_Yamasaki_0047f538;
  local_40 = &DAT_0048d9f0;
  local_3c = s_0_WEB_Manager_0047f514;
  local_38 = s_1_Koji_Arata_0047f4f0;
  local_34 = &DAT_0048d9f0;
  local_30 = s_0_SE_Music_1st_Story__0047f4cc;
  local_2c = s_1_Tama__Muse__0047f4a8;
  local_28 = s_1_Masato_Arikawa_0047f484;
  local_24 = s_1__Woozy___Dizzy_Factory__0047f460;
  local_20 = &DAT_0048d9f0;
  local_1c = s_0_Special_Thanks_0047f44c;
  local_18 = s_1_Takahito_Kita_Masafumi_Terai_0047f428;
  local_14 = s_1_Masashi_Suga_Yumiko_Sakane_0047f404;
  local_10 = s_1_Sawako_Tsuji_0047f3e0;
  local_c = &DAT_0048d9f0;
  local_8 = s_2__2001_2002_Denyusha_Co_Ltd____0047f3bc;
  local_4 = 0;
  if (iVar3 == -1) {
    return;
  }
  local_a0 = (0xf0 - iVar3) * 2;
  if (local_a0 < 8) {
    local_a0 = 8;
  }
  if (iVar3 < 800) {
    local_94 = 1000;
  }
  else {
    local_94 = ((0x33e - iVar3) * 1000) / 0x1e;
    if ((local_94 < 0) || (local_94 == 0)) goto LAB_00412634;
  }
  local_9c = local_a0 + 1;
  local_98 = &local_88;
  local_90 = 0;
  do {
    pcVar2 = *local_98;
    if (pcVar2 == (char *)0x0) break;
    cVar1 = *pcVar2;
    if (cVar1 == '\0') {
      local_a0 = local_a0 + 8;
      local_9c = local_9c + 8;
    }
    else {
      uVar6 = 0xe0;
      uVar4 = 0xe0;
      uVar5 = 0xe0;
      if (cVar1 == '0') {
        uVar6 = 0xc0;
        uVar5 = '@';
        uVar4 = 0xc0;
      }
      if (cVar1 == '1') {
        uVar6 = 0xc0;
        uVar4 = 0xc0;
        uVar5 = 0xc0;
      }
      if (cVar1 == '2') {
        uVar6 = 0xe0;
        uVar5 = '@';
        uVar4 = 0xe0;
      }
      if (cVar1 == '3') {
        uVar6 = 0xb0;
        uVar4 = 0xb0;
        uVar5 = 0xb0;
      }
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,1,0x1a5,local_9c,pcVar2 + 1,'\0','\0','\0',4,0,0,1,local_94)
      ;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,1,0x1a4,local_a0,pcVar2 + 1,uVar6,uVar4,uVar5,4,0,0,1,
                 local_94);
      local_a0 = local_a0 + 0xd;
      local_9c = local_9c + 0xd;
    }
    local_90 = local_90 + 1;
    local_98 = local_98 + 1;
  } while (local_90 < 100);
LAB_00412634:
  iVar3 = *(int *)((int)this + 0xa96c) + 1;
  *(int *)((int)this + 0xa96c) = iVar3;
  if (iVar3 == 0x578) {
    *(undefined4 *)((int)this + 0xa96c) = 0xffffffff;
  }
  return;
}



/*
 * Function: FUN_00412670
 * Address: 00412670
 */

void __fastcall FUN_00412670(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0xffffffff;
  param_1[4] = 0xffffffff;
  return;
}



/*
 * Function: FUN_00412690
 * Address: 00412690
 */

void __thiscall
FUN_00412690(void *this,int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            int *param_5)

{
  int iVar1;
  int iVar2;
  longlong lVar3;
  
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  iVar2 = FUN_00456230(*(int *)(iVar1 + 0x458));
  if (iVar2 == param_1) {
    if ((param_5 != (int *)0x0) &&
       (lVar3 = FUN_00414310(*(int *)(iVar1 + 0x2e0),*(int *)(iVar1 + 0x2e4),*param_5,param_5[1]),
       4000 < (int)lVar3)) {
      return;
    }
    *(undefined4 *)this = param_2;
    *(undefined4 *)((int)this + 4) = param_3;
    *(undefined4 *)((int)this + 8) = param_4;
    *(undefined4 *)((int)this + 0xc) = 0;
    *(int *)((int)this + 0x10) = param_1;
  }
  return;
}



/*
 * Function: FUN_00412710
 * Address: 00412710
 */

void __fastcall FUN_00412710(int param_1)

{
  *(undefined4 *)(param_1 + 0xc) = 0xffffffff;
  return;
}



/*
 * Function: FUN_00412720
 * Address: 00412720
 */

undefined4 __thiscall FUN_00412720(void *this,int *param_1)

{
  int iVar1;
  uint uVar2;
  bool bVar3;
  
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  iVar1 = FUN_00456230(*(int *)(iVar1 + 0x458));
  if (iVar1 != *(int *)((int)this + 0x10)) {
    *param_1 = 0;
    param_1[1] = 0;
    return 0;
  }
  if (*(uint *)((int)this + 0xc) == 0xffffffff) {
    *param_1 = 0;
    param_1[1] = 0;
    return 0;
  }
  uVar2 = *(uint *)((int)this + 0xc) & 0x80000001;
  bVar3 = uVar2 == 0;
  if ((int)uVar2 < 0) {
    bVar3 = (uVar2 - 1 | 0xfffffffe) == 0xffffffff;
  }
  if (bVar3) {
    iVar1 = 0;
    *param_1 = 0;
  }
  else {
                    /* WARNING: Load size is inaccurate */
    iVar1 = 0;
    if (*this == 0) {
      *param_1 = 0;
      iVar1 = *(int *)((int)this + 8);
    }
    else {
      *param_1 = *(int *)((int)this + 8);
    }
  }
  param_1[1] = iVar1;
  iVar1 = *(int *)((int)this + 0xc) + 1;
  *(int *)((int)this + 0xc) = iVar1;
  if (iVar1 == *(int *)((int)this + 4)) {
    *(undefined4 *)((int)this + 0xc) = 0xffffffff;
  }
  return 1;
}



/*
 * Function: FUN_004127d0
 * Address: 004127d0
 */

undefined4 __fastcall FUN_004127d0(int param_1)

{
  uint uVar1;
  int iVar2;
  RKC_RPGSCRN_CHARANIM *this;
  long *plVar3;
  undefined **ppuVar4;
  uint uVar5;
  char *pcVar6;
  undefined *puVar7;
  
  plVar3 = &DAT_0047f6e8;
  do {
    iVar2 = RKC_UPDIB::ReadUpd(DAT_00482d10,*plVar3,(char *)plVar3[1],0,0,0,0);
    if (iVar2 == 0) {
      return 0;
    }
    plVar3 = plVar3 + 2;
  } while ((int)plVar3 < 0x47f740);
  ppuVar4 = &PTR_s_Player_Common_Powerup_caf_0047f764;
  do {
    puVar7 = ppuVar4[1];
    pcVar6 = *ppuVar4;
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,(long)ppuVar4[-1]);
    iVar2 = RKC_RPGSCRN_CHARANIM::ReadCafFile(this,pcVar6,(long)puVar7);
    if (iVar2 == 0) {
      return 0;
    }
    ppuVar4 = ppuVar4 + 3;
  } while ((int)ppuVar4 < 0x47f7a0);
  if ((DAT_00482db0 == 1) || (DAT_00482db0 == 2)) {
    plVar3 = &DAT_0047f740;
    do {
      iVar2 = RKC_UPDIB::ReadUpd(DAT_00482d10,*plVar3,(char *)plVar3[1],0,0,0,0);
      if (iVar2 == 0) {
        return 0;
      }
      plVar3 = plVar3 + 2;
    } while ((int)plVar3 < 0x47f760);
  }
  else {
    uVar5 = 0;
    iVar2 = FUN_00456450(DAT_00482dcc);
    if (*(int *)(iVar2 + 0x18) == 0) {
      uVar5 = 2;
    }
    uVar1 = uVar5 + 2;
    if (uVar5 < uVar1) {
      plVar3 = &DAT_0047f740 + uVar5 * 2;
      do {
        iVar2 = RKC_UPDIB::ReadUpd(DAT_00482d10,*plVar3,(char *)plVar3[1],0,0,0,0);
        if (iVar2 == 0) {
          return 0;
        }
        uVar5 = uVar5 + 1;
        plVar3 = plVar3 + 2;
      } while ((int)uVar5 < (int)uVar1);
    }
  }
  FUN_00462f80();
  RKC_RPG_AICONTROL::ReadFile
            (*(RKC_RPG_AICONTROL **)(param_1 + 0xa024),s_System_Game_Parameter_Control_ai_0047fa18);
  return 1;
}



/*
 * Function: FUN_00412900
 * Address: 00412900
 */

undefined4 FUN_00412900(void)

{
  int *piVar1;
  RKC_UPDIB_UPD *this;
  int iVar2;
  
  iVar2 = 0;
  do {
    piVar1 = &DAT_0047d158;
    do {
      if (*piVar1 == -1) break;
      if (iVar2 == *piVar1) goto LAB_00412938;
      piVar1 = piVar1 + 2;
    } while ((int)piVar1 < 0x48ea98);
    this = RKC_UPDIB::GetUpd(DAT_00482d10,iVar2);
    RKC_UPDIB_UPD::Release(this);
LAB_00412938:
    iVar2 = iVar2 + 1;
    if (8999 < iVar2) {
      return 1;
    }
  } while( true );
}



/*
 * Function: FUN_00412950
 * Address: 00412950
 */

void __thiscall FUN_00412950(void *this,int param_1)

{
  undefined4 uVar1;
  int iVar2;
  void *this_00;
  int iVar3;
  long local_8;
  long local_4;
  
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if ((*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) == 1) ||
     (*(int *)(*(int *)(iVar2 + 0x3f8) + 0x2c) == 1)) {
    iVar3 = param_1;
    this_00 = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
    iVar3 = FUN_004299e0(this_00,iVar3);
    if (iVar3 != 0) {
      *(undefined4 *)((int)this + 0xa95c) = 8;
      iVar3 = FUN_00434cd0(iVar3);
      *(undefined4 *)((int)this + 0xa960) = *(undefined4 *)(iVar3 + 0x18);
      uVar1 = *(undefined4 *)(iVar3 + 0x1c);
      *(int *)((int)this + 0xa968) = param_1;
      *(undefined4 *)((int)this + 0xa964) = uVar1;
    }
  }
  if (param_1 == -1) {
    RKC_RPGSCRN::CalcWorldPos
              (DAT_00482d14,(**(int **)(iVar2 + 0x3fc) - DAT_0048cdfc) + DAT_0048cdf4,
               ((*(int **)(iVar2 + 0x3fc))[1] - DAT_0048ce00) + DAT_0048cdf8,&local_8,&local_4);
    *(undefined4 *)((int)this + 0xa95c) = 8;
    *(long *)((int)this + 0xa960) = local_8;
    *(long *)((int)this + 0xa964) = local_4;
    *(undefined4 *)((int)this + 0xa968) = 0xffffffff;
  }
  return;
}



/*
 * Function: FUN_00412a40
 * Address: 00412a40
 */

int FUN_00412a40(undefined2 *param_1,int *param_2)

{
  uint uVar1;
  int iVar2;
  RKC_RPG_TABLEDATA *pRVar3;
  int *piVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  
  if (*(int *)(param_1 + 0x4a) == 1) {
    return *(int *)(param_1 + 8);
  }
  if (*(int *)(param_1 + 2) == 3) {
    iVar2 = *param_2;
    if (iVar2 == 0) {
      pRVar3 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xb);
      piVar4 = param_2;
      if (pRVar3 != (RKC_RPG_TABLEDATA *)0x0) {
        piVar4 = (int *)RKC_RPG_TABLEDATA::GetValue
                                  (pRVar3,param_2[*(int *)(param_1 + 0x40) + 5] + 10,0);
      }
      iVar2 = _rand();
      iVar2 = ((iVar2 % 3 + 9) * *(int *)(param_1 + 8)) / 10 - (param_2[4] * (int)piVar4) / 10;
      goto LAB_00412e0c;
    }
    if (iVar2 == 1) {
      uVar1 = param_2[0xd];
      uVar5 = *(uint *)(param_1 + 0x40);
      uVar6 = uVar1 & 0x80000001;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
      }
      if ((((int)uVar1 / 2) * 2 - uVar6) + 1 != uVar5) goto LAB_00412b03;
      uVar1 = _rand();
      uVar1 = uVar1 & 0x80000003;
      if ((int)uVar1 < 0) {
        uVar1 = (uVar1 - 1 | 0xfffffffc) + 1;
      }
LAB_00412afe:
      iVar7 = uVar1 + 10;
    }
    else {
      if (iVar2 != 2) {
        return 1;
      }
      uVar1 = param_2[0xd];
      uVar5 = *(uint *)(param_1 + 0x40);
      uVar6 = uVar1 & 0x80000001;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
      }
      if ((((int)uVar1 / 2) * 2 - uVar6) + 1 == uVar5) {
        uVar1 = _rand();
        uVar1 = uVar1 & 0x80000003;
        if (-1 < (int)uVar1) goto LAB_00412afe;
        iVar7 = (uVar1 - 1 | 0xfffffffc) + 0xb;
      }
      else {
LAB_00412b03:
        if (uVar1 == uVar5) {
          uVar1 = _rand();
          uVar1 = uVar1 & 0x80000003;
          if ((int)uVar1 < 0) {
            uVar1 = (uVar1 - 1 | 0xfffffffc) + 1;
          }
          iVar7 = uVar1 + 7;
        }
        else {
          iVar7 = 10;
        }
      }
    }
    iVar2 = _rand();
    iVar7 = (iVar2 % 3 + 9) * *(int *)(param_1 + 8) * iVar7;
    iVar2 = param_2[4];
  }
  else {
    iVar2 = CONCAT22(*(undefined2 *)param_2,*param_1);
    if (iVar2 < 0x20001) {
      if (iVar2 == 0x20000) {
        FUN_00434c90(DAT_0048ce0c,*(int *)(param_1 + 4));
        if (*(int *)(param_1 + 2) == 1) {
          iVar2 = _rand();
          iVar2 = iVar2 % 3 + 10;
        }
        else {
          iVar2 = _rand();
          iVar2 = iVar2 % 3 + 9;
        }
        uVar1 = param_2[0xd];
        uVar5 = uVar1 & 0x80000001;
        if ((int)uVar5 < 0) {
          uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
        }
        pRVar3 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,7);
        piVar4 = param_2;
        if (pRVar3 != (RKC_RPG_TABLEDATA *)0x0) {
          piVar4 = (int *)RKC_RPG_TABLEDATA::GetValue
                                    (pRVar3,*(int *)(param_1 +
                                                    ((((int)uVar1 / 2) * 2 - uVar5) + 1) * 2 + 0xc)
                                            + 10,0);
        }
        iVar2 = (*(int *)(param_1 + 8) * iVar2 * (int)piVar4) / 100 - param_2[3];
        goto LAB_00412e0c;
      }
      if (iVar2 == 2) {
        pRVar3 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xb);
        piVar4 = param_2;
        if (pRVar3 != (RKC_RPG_TABLEDATA *)0x0) {
          piVar4 = (int *)RKC_RPG_TABLEDATA::GetValue
                                    (pRVar3,param_2[*(int *)(param_1 + 0x40) + 5] + 10,0);
        }
        iVar2 = _rand();
        iVar2 = ((iVar2 % 3 + 9) * *(int *)(param_1 + 8)) / 10 - (param_2[3] * (int)piVar4) / 10;
        goto LAB_00412e0c;
      }
      if (iVar2 != 0x10002) {
        return 1;
      }
      uVar1 = param_2[0xd];
      uVar5 = *(uint *)(param_1 + 0x40);
      uVar6 = uVar1 & 0x80000001;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
      }
      if ((((int)uVar1 / 2) * 2 - uVar6) + 1 != uVar5) goto LAB_00412dbb;
      uVar1 = _rand();
      uVar1 = uVar1 & 0x80000003;
      if (-1 < (int)uVar1) goto LAB_00412db6;
      iVar7 = (uVar1 - 1 | 0xfffffffc) + 0xb;
    }
    else {
      if (iVar2 != 0x20001) {
        return 1;
      }
      uVar1 = param_2[0xd];
      uVar5 = *(uint *)(param_1 + 0x40);
      uVar6 = uVar1 & 0x80000001;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
      }
      if ((((int)uVar1 / 2) * 2 - uVar6) + 1 == uVar5) {
        uVar1 = _rand();
        uVar1 = uVar1 & 0x80000003;
        if ((int)uVar1 < 0) {
          uVar1 = (uVar1 - 1 | 0xfffffffc) + 1;
        }
LAB_00412db6:
        iVar7 = uVar1 + 10;
      }
      else {
LAB_00412dbb:
        if (uVar1 == uVar5) {
          uVar1 = _rand();
          uVar1 = uVar1 & 0x80000003;
          if ((int)uVar1 < 0) {
            uVar1 = (uVar1 - 1 | 0xfffffffc) + 1;
          }
          iVar7 = uVar1 + 7;
        }
        else {
          iVar7 = 10;
        }
      }
    }
    iVar2 = _rand();
    iVar7 = (iVar2 % 3 + 9) * *(int *)(param_1 + 8) * iVar7;
    iVar2 = param_2[3];
  }
  iVar2 = iVar7 / 100 - iVar2;
LAB_00412e0c:
  if (iVar2 < 1) {
    return 1;
  }
  return iVar2;
}



/*
 * Function: FUN_00412e20
 * Address: 00412e20
 */

void FUN_00412e20(int param_1)

{
  char *pcVar1;
  int iVar2;
  bool bVar3;
  int iVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  int iVar6;
  
  iVar4 = param_1;
  this = RKC_RPG_TABLE::GetFromTableNo
                   (DAT_0048d4e4,*(int *)(*(int *)(param_1 + 0x214) + 0x150) + 800);
  param_1 = *(int *)(*(int *)(param_1 + 0x214) + 0x34) / 3 + 2;
  if (0x23 < param_1) {
    param_1 = 0x23;
  }
  if (iVar4 != 0) {
    iVar6 = *(int *)(iVar4 + 0x214);
    bVar3 = false;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this,0x12,*(int *)(iVar6 + 0x154) + -1);
    if (lVar5 <= *(int *)(iVar6 + 0x158)) {
      do {
        if (param_1 <= *(int *)(iVar6 + 0x154)) {
          *(undefined4 *)(*(int *)(iVar4 + 0x214) + 0x158) = 0;
          if (!bVar3) goto LAB_00412f8a;
          break;
        }
        iVar2 = *(int *)(iVar4 + 0x214);
        bVar3 = true;
        lVar5 = RKC_RPG_TABLEDATA::GetValue(this,0x12,*(int *)(iVar6 + 0x154) + -1);
        *(int *)(iVar2 + 0x158) = *(int *)(iVar2 + 0x158) - lVar5;
        *(int *)(*(int *)(iVar4 + 0x214) + 0x154) = *(int *)(*(int *)(iVar4 + 0x214) + 0x154) + 1;
        iVar6 = *(int *)(iVar4 + 0x214);
        lVar5 = RKC_RPG_TABLEDATA::GetValue(this,0x12,*(int *)(iVar6 + 0x154) + -1);
      } while (lVar5 <= *(int *)(iVar6 + 0x158));
      pcVar1 = (char *)(iVar4 + 0xc4);
      FUN_00413830(*(long *)(*(int *)(iVar4 + 0x214) + 0x150),pcVar1);
      FUN_004136f0(*(int *)(*(int *)(iVar4 + 0x214) + 0x150),
                   *(int *)(*(int *)(iVar4 + 0x214) + 0x154),(int)pcVar1);
      FUN_004138b0(*(int *)(iVar4 + 0x214),(int)pcVar1);
      *(undefined4 *)(iVar4 + 0xfc) = *(undefined4 *)(iVar4 + 0xf8);
    }
  }
LAB_00412f8a:
  if (param_1 == *(int *)(*(int *)(iVar4 + 0x214) + 0x154)) {
    *(undefined4 *)(*(int *)(iVar4 + 0x214) + 0x158) = 0;
  }
  return;
}



/*
 * Function: FUN_00412fb0
 * Address: 00412fb0
 */

void FUN_00412fb0(void *param_1)

{
  char cVar1;
  int iVar2;
  bool bVar3;
  RKC_RPG_TABLEDATA *this;
  RKC_RPG_TABLEDATA *this_00;
  RKC_RPG_TABLEDATA *this_01;
  RKC_RPG_TABLEDATA *this_02;
  RKC_RPG_TABLEDATA *this_03;
  RKC_RPG_TABLEDATA *this_04;
  RKC_RPG_TABLEDATA *this_05;
  RKC_RPG_TABLEDATA *this_06;
  char *pcVar4;
  RKC_RPG_TABLEDATA *this_07;
  long lVar5;
  byte *pbVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  int *piVar10;
  undefined1 *unaff_EBX;
  undefined1 *unaff_EBP;
  undefined1 *unaff_ESI;
  undefined4 *puVar11;
  undefined1 *unaff_EDI;
  undefined4 *puVar12;
  char *pcVar13;
  undefined1 *puVar14;
  undefined1 *puVar15;
  undefined1 *extraout_var;
  undefined1 *puVar16;
  undefined1 *puVar17;
  undefined1 *puVar18;
  undefined1 *puVar19;
  undefined1 *puVar20;
  char *pcVar21;
  char *pcVar22;
  undefined1 *puVar23;
  undefined1 *puVar24;
  char *pcVar25;
  undefined1 *puVar26;
  undefined1 *puVar27;
  undefined1 *puVar28;
  undefined1 *puVar29;
  undefined1 *puVar30;
  undefined1 *puVar31;
  char *pcVar32;
  char *pcVar33;
  char *in_stack_fffffe04;
  char *in_stack_fffffe08;
  char *in_stack_fffffe0c;
  char *in_stack_fffffe10;
  char *in_stack_fffffe14;
  undefined *in_stack_fffffe18;
  undefined *in_stack_fffffe1c;
  char *in_stack_fffffe20;
  char *in_stack_fffffe24;
  char *in_stack_fffffe28;
  char *in_stack_fffffe2c;
  char *in_stack_fffffe30;
  char *in_stack_fffffe34;
  char *in_stack_fffffe38;
  char *in_stack_fffffe3c;
  char *in_stack_fffffe40;
  char *in_stack_fffffe44;
  char *in_stack_fffffe48;
  char *in_stack_fffffe4c;
  char *in_stack_fffffe50;
  char *in_stack_fffffe54;
  undefined4 in_stack_fffffe58;
  undefined4 in_stack_fffffe5c;
  undefined4 local_160 [88];
  
  puVar11 = (undefined4 *)((int)param_1 + 0x10);
  puVar12 = local_160;
  for (iVar7 = 0x58; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar12 = *puVar11;
    puVar11 = puVar11 + 1;
    puVar12 = puVar12 + 1;
  }
  puVar11 = (undefined4 *)((int)param_1 + 0x1440);
  puVar12 = (undefined4 *)&stack0xfffffe48;
  for (iVar7 = 0x16; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar12 = *puVar11;
    puVar11 = puVar11 + 1;
    puVar12 = puVar12 + 1;
  }
  puVar17 = (undefined1 *)0xffffffff;
  puVar18 = (undefined1 *)0xffffffff;
  puVar19 = (undefined1 *)0x4;
  puVar20 = (undefined1 *)0xffffffff;
  pcVar21 = (char *)0xffffffff;
  pcVar22 = (char *)0x3;
  puVar23 = (undefined1 *)0x1;
  puVar24 = (undefined1 *)0xffffffff;
  pcVar25 = (char *)0x5;
  puVar26 = (undefined1 *)0x2;
  puVar27 = (undefined1 *)0x6;
  puVar28 = (undefined1 *)0xffffffff;
  puVar29 = (undefined1 *)0xffffffff;
  puVar30 = (undefined1 *)0xffffffff;
  puVar31 = (undefined1 *)0xffffffff;
  pcVar32 = (char *)0xffffffff;
  pcVar33 = (char *)0x0;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,100);
  puVar16 = extraout_var;
  this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x65);
  this_01 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x66);
  this_02 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x67);
  this_03 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x68);
  this_04 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x69);
  this_05 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x6a);
  this_06 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x6b);
  *(undefined *)(*(int *)((int)param_1 + 0x34) + 0xec + (int)param_1) =
       *(undefined *)((int)param_1 + 0x2c);
  iVar7 = *(int *)((int)param_1 + 0x34) + 1;
  *(int *)((int)param_1 + 0x34) = iVar7;
  puVar11 = (undefined4 *)&stack0xfffffe04;
  for (iVar8 = 0x11; iVar8 != 0; iVar8 = iVar8 + -1) {
    *puVar11 = 0;
    puVar11 = puVar11 + 1;
  }
  if (0 < iVar7) {
    pcVar4 = (char *)((int)param_1 + 0xec);
    do {
      cVar1 = *pcVar4;
      pcVar4 = pcVar4 + 1;
      *(int *)(&stack0xfffffe04 + cVar1 * 4) = *(int *)(&stack0xfffffe04 + cVar1 * 4) + 1;
    } while ((int)(pcVar4 + (-0xec - (int)param_1)) < iVar7);
  }
  iVar7 = *(int *)((int)param_1 + 0x2c) * 4;
  iVar8 = *(int *)(&stack0xfffffe04 + iVar7) + -1;
  this_07 = RKC_RPG_TABLE::GetFromTableNo
                      (DAT_0048d4e4,
                       (*(int *)(&stack0xfffffdc0 + iVar7) * 2 - *(int *)((int)param_1 + 0x28)) +
                       0x385);
  if (this_07 != (RKC_RPG_TABLEDATA *)0x0) {
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,0,iVar8);
    *(int *)((int)param_1 + 0x38) = *(int *)((int)param_1 + 0x38) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,1,iVar8);
    *(int *)((int)param_1 + 0x3c) = *(int *)((int)param_1 + 0x3c) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,2,iVar8);
    *(int *)((int)param_1 + 0x40) = *(int *)((int)param_1 + 0x40) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,3,iVar8);
    *(int *)((int)param_1 + 0x48) = *(int *)((int)param_1 + 0x48) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,4,iVar8);
    *(int *)((int)param_1 + 0x50) = *(int *)((int)param_1 + 0x50) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,5,iVar8);
    *(int *)((int)param_1 + 0x54) = *(int *)((int)param_1 + 0x54) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,6,iVar8);
    *(int *)((int)param_1 + 0x58) = *(int *)((int)param_1 + 0x58) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,7,iVar8);
    *(int *)((int)param_1 + 100) = *(int *)((int)param_1 + 100) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,8,iVar8);
    *(int *)((int)param_1 + 0x68) = *(int *)((int)param_1 + 0x68) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,9,iVar8);
    *(int *)((int)param_1 + 0x5c) = *(int *)((int)param_1 + 0x5c) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,10,iVar8);
    *(int *)((int)param_1 + 0x60) = *(int *)((int)param_1 + 0x60) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,0xb,iVar8);
    *(int *)((int)param_1 + 0x6c) = *(int *)((int)param_1 + 0x6c) + lVar5;
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_07,0xc,iVar8);
    *(int *)((int)param_1 + 0x70) = *(int *)((int)param_1 + 0x70) + lVar5;
  }
  puVar14 = (undefined1 *)0x0;
  puVar15 = (undefined1 *)0x0;
  pcVar4 = (char *)0x0;
  pcVar13 = (char *)0x0;
  iVar7 = 0;
  do {
    iVar8 = *(int *)(&stack0xfffffdc0 + iVar7);
    if (iVar8 != -1) {
      iVar2 = *(int *)(&stack0xfffffe04 + iVar7);
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this,iVar8,0);
      puVar14 = puVar14 + lVar5 * iVar2;
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,iVar8,0);
      puVar15 = puVar15 + lVar5 * iVar2;
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_01,iVar8,0);
      pcVar4 = pcVar4 + lVar5 * iVar2;
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_02,iVar8,0);
      pcVar13 = pcVar13 + lVar5 * iVar2;
    }
    iVar7 = iVar7 + 4;
  } while (iVar7 < 0x44);
  pbVar6 = (byte *)((int)param_1 + 0x1440);
  iVar7 = 0;
  do {
    if ((*pbVar6 & 1) == 0) {
      bVar3 = false;
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_03,iVar7,0);
      if ((lVar5 <= (int)puVar14) && (*(int *)((int)param_1 + 0x2c) == 0x10)) {
        bVar3 = true;
      }
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_04,iVar7,0);
      if ((lVar5 <= (int)puVar15) && (*(int *)((int)param_1 + 0x2c) == 6)) {
        bVar3 = true;
      }
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_05,iVar7,0);
      if ((lVar5 <= (int)pcVar4) && (*(int *)((int)param_1 + 0x2c) == 9)) {
        bVar3 = true;
      }
      lVar5 = RKC_RPG_TABLEDATA::GetValue(this_06,iVar7,0);
      if (((lVar5 <= (int)pcVar13) && (*(int *)((int)param_1 + 0x2c) == 5)) || (bVar3)) {
        *(uint *)((int)param_1 + iVar7 * 4 + 0x1440) =
             *(uint *)((int)param_1 + iVar7 * 4 + 0x1440) | 3;
        *(undefined4 *)((int)param_1 + iVar7 * 4 + 0x1498) = 1;
        iVar8 = 0;
        piVar9 = (int *)(puVar16 + 0xa714);
        goto LAB_00413362;
      }
    }
    iVar7 = iVar7 + 1;
    pbVar6 = pbVar6 + 4;
  } while (iVar7 < 0x16);
  goto LAB_00413379;
  while( true ) {
    iVar8 = iVar8 + 1;
    piVar9 = piVar9 + 1;
    if (7 < iVar8) break;
LAB_00413362:
    if (*piVar9 == -1) {
      *(int *)(puVar16 + iVar8 * 4 + 0xa714) = iVar7;
      break;
    }
  }
LAB_00413379:
  if (*(int *)((int)param_1 + 0x34) < 5) goto LAB_0041343d;
  iVar7 = *(int *)((int)param_1 + 0xc0);
  piVar10 = (int *)&stack0xfffffdc0;
  piVar9 = (int *)((int)param_1 + 0xc4);
  iVar8 = 9;
  do {
    if (iVar7 == 0) {
      *piVar10 = 0;
    }
    else {
      *piVar10 = (*piVar9 * 100) / iVar7;
    }
    piVar9 = piVar9 + 1;
    piVar10 = piVar10 + 1;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  iVar7 = *(int *)((int)param_1 + 0x2c);
  bVar3 = false;
  if ((iVar7 != 9) && (0x13 < (int)pcVar25)) {
    *(undefined4 *)((int)param_1 + 0x30) = 9;
    bVar3 = true;
  }
  if (((iVar7 != 5) && (!bVar3)) && (0x1d < (int)pcVar22)) {
    *(undefined4 *)((int)param_1 + 0x30) = 5;
    bVar3 = true;
  }
  if (iVar7 == 6) {
    if (!bVar3) {
LAB_00413421:
      *(int *)((int)param_1 + 0x30) = iVar7;
    }
  }
  else if (!bVar3) {
    if ((int)(puVar18 + (int)puVar20 + (int)puVar17) < 0x32) goto LAB_00413421;
    *(undefined4 *)((int)param_1 + 0x30) = 6;
  }
  if (*(int *)((int)param_1 + 0x34) == 5) {
    *(undefined4 *)((int)param_1 + 0x30) = 6;
    *(undefined4 *)((int)param_1 + 0x2c) = 6;
    FUN_004456d0(param_1,0,0x40,0);
  }
LAB_0041343d:
  *(undefined4 *)((int)param_1 + 0xc0) = 0;
  puVar11 = (undefined4 *)((int)param_1 + 0xc4);
  for (iVar7 = 9; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar11 = 0;
    puVar11 = puVar11 + 1;
  }
  FUN_00450fb0((char)local_160,(int)param_1 + 0x10,(int)&stack0xfffffe48,(int)param_1 + 0x1440,
               unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,pbVar6,pcVar4,pcVar13,puVar14,puVar15,
               (char *)this_02,this_05,this_06,this_01,puVar16,this_03,this,(char *)this_00,this_04,
               puVar17,puVar18,puVar19,puVar20,pcVar21,pcVar22,puVar23,puVar24,pcVar25,puVar26,
               puVar27,puVar28,puVar29,puVar30,puVar31,pcVar32,pcVar33,in_stack_fffffe04,
               in_stack_fffffe08,in_stack_fffffe0c,in_stack_fffffe10,in_stack_fffffe14,
               in_stack_fffffe18,in_stack_fffffe1c,in_stack_fffffe20,in_stack_fffffe24,
               in_stack_fffffe28,in_stack_fffffe2c,in_stack_fffffe30,in_stack_fffffe34,
               in_stack_fffffe38,in_stack_fffffe3c,in_stack_fffffe40,in_stack_fffffe44,
               in_stack_fffffe48,in_stack_fffffe4c,in_stack_fffffe50,in_stack_fffffe54,
               in_stack_fffffe58,in_stack_fffffe5c);
  FUN_004456d0(param_1,0,0x3f,0);
  return;
}



/*
 * Function: FUN_004134a0
 * Address: 004134a0
 */

void __thiscall FUN_004134a0(void *this,int param_1,int param_2,int param_3)

{
  RKC_RPG_TABLEDATA *this_00;
  RKC_RPG_TABLEDATA *this_01;
  int iVar1;
  int *piVar2;
  void *this_02;
  int iVar3;
  long lVar4;
  uint uVar5;
  int local_c;
  
  local_c = 0;
  this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xd);
  this_01 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xe);
  iVar1 = FUN_00434cd0((int)DAT_0048ce0c);
  piVar2 = (int *)FUN_00434c90(DAT_0048ce0c,iVar1);
  iVar3 = iVar1 + 16000000;
  this_02 = (void *)FUN_00427aa0(piVar2[0x116]);
  iVar3 = FUN_004299e0(this_02,iVar3);
  if (iVar3 != 0) {
    local_c = FUN_00434cd0(iVar3);
  }
  if ((piVar2[0x65] < 100) && (iVar3 = *(int *)(param_1 + 0x288 + iVar1 * 4), iVar3 != 0)) {
    lVar4 = (iVar3 * 10) / *(int *)(param_1 + 0xe4);
    if (lVar4 < 0) {
      lVar4 = 0;
    }
    else if (10 < lVar4) {
      lVar4 = 10;
    }
    lVar4 = RKC_RPG_TABLEDATA::GetValue(this_01,lVar4,0);
    piVar2[0x3a] = piVar2[0x3a] + (lVar4 * *(int *)(param_1 + 0x17c)) / 100;
  }
  if (param_3 % 10 != iVar1) goto LAB_00413672;
  if (param_3 == iVar1) {
    piVar2[0x30] = piVar2[0x30] + 1;
    piVar2[0x554] = piVar2[0x554] + 1;
    iVar3 = FUN_00451a00((int)piVar2);
    if (iVar3 == 1) {
      *(undefined4 *)((int)this + 0xa7ec) = 0;
    }
    if (param_2 == 0) {
      if (piVar2[0x13d] != 0) {
        iVar3 = FUN_004663a0(piVar2[0x13d]);
        if ((iVar3 == 8) || (iVar3 = FUN_004663a0(piVar2[0x13d]), iVar3 == 9)) goto LAB_0041361d;
        iVar3 = FUN_004663a0(piVar2[0x13d]);
        piVar2[iVar3 + 0x31] = piVar2[iVar3 + 0x31] + 1;
      }
    }
    else {
LAB_0041361d:
      piVar2[0x39] = piVar2[0x39] + 1;
    }
  }
  iVar3 = piVar2[0xd] / 3 + 2;
  if (0x23 < iVar3) {
    iVar3 = 0x23;
  }
  if ((local_c != 0) && (0 < *(int *)(local_c + 0xfc))) {
    if (piVar2[0x55] < iVar3) {
      piVar2[0x56] = piVar2[0x56] + 1;
    }
    else {
      piVar2[0x56] = 0;
    }
  }
LAB_00413672:
  if ((piVar2[0xd] < 100) &&
     (uVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,piVar2[0xd] + -1,0), uVar5 <= (uint)piVar2[0x3a]))
  {
    FUN_00412fb0(piVar2);
    piVar2[0x3a] = 0;
    if (piVar2[0xd] == 100) {
      piVar2[0x3a] = 0;
    }
    FUN_00450080(piVar2);
    piVar2[0x69] = piVar2[0x68];
    piVar2[0x6b] = piVar2[0x6a];
    FUN_00452a90(piVar2);
  }
  FUN_00412e20(local_c);
  return;
}



/*
 * Function: FUN_004136f0
 * Address: 004136f0
 */

void FUN_004136f0(int param_1,int param_2,int param_3)

{
  RKC_RPG_TABLEDATA *this;
  long lVar1;
  int iVar2;
  int iVar3;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,param_1 + 800);
  iVar3 = 0;
  iVar2 = 0;
  *(undefined4 *)(param_3 + 0x20) = 0;
  *(undefined4 *)(param_3 + 0x24) = 0;
  *(undefined4 *)(param_3 + 0x28) = 0;
  *(undefined4 *)(param_3 + 0x34) = 0;
  *(undefined4 *)(param_3 + 0x2c) = 0;
  *(undefined4 *)(param_3 + 0x3c) = 0;
  *(undefined4 *)(param_3 + 0x40) = 0;
  *(undefined4 *)(param_3 + 0x44) = 0;
  *(undefined4 *)(param_3 + 0x48) = 0;
  *(undefined4 *)(param_3 + 0x4c) = 0;
  *(undefined4 *)(param_3 + 0x50) = 0;
  *(undefined4 *)(param_3 + 0x54) = 0;
  *(undefined4 *)(param_3 + 0x58) = 0;
  if (0 < param_2) {
    while( true ) {
      do {
        lVar1 = RKC_RPG_TABLEDATA::GetValue(this,iVar3,iVar2);
        switch(iVar3) {
        case 0:
          *(int *)(param_3 + 0x20) = *(int *)(param_3 + 0x20) + lVar1;
          break;
        case 1:
          *(int *)(param_3 + 0x24) = *(int *)(param_3 + 0x24) + lVar1;
          break;
        case 2:
          *(int *)(param_3 + 0x28) = *(int *)(param_3 + 0x28) + lVar1;
          break;
        case 3:
          *(int *)(param_3 + 0x34) = *(int *)(param_3 + 0x34) + lVar1;
          break;
        case 4:
          *(int *)(param_3 + 0x2c) = *(int *)(param_3 + 0x2c) + lVar1;
          break;
        case 5:
          *(int *)(param_3 + 0x3c) = *(int *)(param_3 + 0x3c) + lVar1;
          break;
        case 6:
          *(int *)(param_3 + 0x40) = *(int *)(param_3 + 0x40) + lVar1;
          break;
        case 7:
          *(int *)(param_3 + 0x44) = *(int *)(param_3 + 0x44) + lVar1;
          break;
        case 8:
          *(int *)(param_3 + 0x48) = *(int *)(param_3 + 0x48) + lVar1;
          break;
        case 9:
          *(int *)(param_3 + 0x4c) = *(int *)(param_3 + 0x4c) + lVar1;
          break;
        case 10:
          *(int *)(param_3 + 0x54) = *(int *)(param_3 + 0x54) + lVar1;
          break;
        case 0xb:
          *(int *)(param_3 + 0x50) = *(int *)(param_3 + 0x50) + lVar1;
          break;
        case 0xc:
          *(int *)(param_3 + 0x58) = *(int *)(param_3 + 0x58) + lVar1;
          break;
        case 0xd:
          *(long *)(param_3 + 0x1c) = lVar1;
          break;
        case 0xe:
          *(long *)(param_3 + 0x84) = lVar1;
          break;
        case 0xf:
          *(long *)(param_3 + 0x88) = lVar1;
          break;
        case 0x10:
          *(long *)(param_3 + 0x8c) = lVar1;
          break;
        case 0x11:
          *(long *)(param_3 + 0x90) = lVar1;
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < 0x12);
      iVar2 = iVar2 + 1;
      if (param_2 <= iVar2) break;
      iVar3 = 0;
    }
  }
  return;
}



/*
 * Function: FUN_00413830
 * Address: 00413830
 */

void FUN_00413830(long param_1,char *param_2)

{
  char cVar1;
  RKC_RPG_TABLEDATA *this;
  char *pcVar2;
  long lVar3;
  uint uVar4;
  uint uVar5;
  char *pcVar6;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
  pcVar2 = RKC_RPG_TABLEDATA::GetStrings(this,param_1,0);
  uVar4 = 0xffffffff;
  do {
    pcVar6 = pcVar2;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar6 = pcVar2 + 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar6;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  pcVar2 = pcVar6 + -uVar4;
  pcVar6 = param_2;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar6 = *(undefined4 *)pcVar2;
    pcVar2 = pcVar2 + 4;
    pcVar6 = pcVar6 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar6 = *pcVar2;
    pcVar2 = pcVar2 + 1;
    pcVar6 = pcVar6 + 1;
  }
  lVar3 = RKC_RPG_TABLEDATA::GetValue(this,param_1,2);
  *(long *)(param_2 + 0x68) = lVar3;
  lVar3 = RKC_RPG_TABLEDATA::GetValue(this,param_1,3);
  *(long *)(param_2 + 0x6c) = lVar3;
  lVar3 = RKC_RPG_TABLEDATA::GetValue(this,param_1,4);
  *(long *)(param_2 + 0x70) = lVar3;
  return;
}



/*
 * Function: FUN_004138b0
 * Address: 004138b0
 */

void FUN_004138b0(int param_1,int param_2)

{
  void *this;
  int iVar1;
  int iVar2;
  int iVar3;
  RKC_RPG_TABLEDATA *this_00;
  long lVar4;
  undefined4 *puVar5;
  undefined4 local_24 [4];
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  iVar2 = param_1;
  local_24[0] = *(undefined4 *)(param_1 + 0x4e8);
  local_24[1] = *(undefined4 *)(param_1 + 0x4ec);
  local_24[2] = *(undefined4 *)(param_1 + 0x4f0);
  local_24[3] = *(undefined4 *)(param_1 + 0x4f4);
  local_14 = *(undefined4 *)(param_1 + 0x4f8);
  local_10 = *(undefined4 *)(param_1 + 0x4fc);
  local_c = *(undefined4 *)(param_1 + 0x500);
  local_8 = *(undefined4 *)(param_1 + 0x504);
  local_4 = *(undefined4 *)(param_1 + 0x508);
  puVar5 = local_24;
  param_1 = 9;
  do {
    this = (void *)*puVar5;
    if (this != (void *)0x0) {
      iVar3 = FUN_00456210((int)this);
      if (iVar3 == 0) {
        iVar3 = FUN_00467720((int)this);
        if (iVar3 != 0) {
          iVar3 = FUN_00467740(this,0);
          goto LAB_004139a1;
        }
      }
      else if (iVar3 == 1) {
        if ((*(void **)(iVar2 + 0x4f8) == this) && (*(int *)(iVar2 + 0x4f4) != 0)) {
          iVar3 = FUN_004672f0(*(int *)(iVar2 + 0x4f4));
          if (iVar3 != 0) goto LAB_00413a1a;
        }
        iVar3 = FUN_00467720((int)this);
        if (iVar3 != 0) {
          iVar3 = FUN_00466900(this,0);
          goto LAB_004139a1;
        }
      }
      else if (iVar3 == 2) {
        iVar3 = FUN_004659a0(this,0);
LAB_004139a1:
        if (iVar3 != 0) {
          if (*(int *)(iVar3 + 0x168) != 0) {
            *(int *)(param_2 + 0x34) = *(int *)(param_2 + 0x34) + *(int *)(iVar3 + 0x168);
          }
          if (*(int *)(iVar3 + 0x174) != 0) {
            *(int *)(param_2 + 0x3c) = *(int *)(param_2 + 0x3c) + *(int *)(iVar3 + 0x174);
          }
          if (*(int *)(iVar3 + 0x180) != 0) {
            *(int *)(param_2 + 0x40) = *(int *)(param_2 + 0x40) + *(int *)(iVar3 + 0x180);
          }
          if (*(int *)(iVar3 + 0x18c) != 0) {
            *(int *)(param_2 + 0x44) = *(int *)(param_2 + 0x44) + *(int *)(iVar3 + 0x18c);
          }
          if (*(int *)(iVar3 + 0x198) != 0) {
            *(int *)(param_2 + 0x48) = *(int *)(param_2 + 0x48) + *(int *)(iVar3 + 0x198);
          }
          if (*(int *)(iVar3 + 0x1a4) != 0) {
            *(int *)(param_2 + 0x4c) = *(int *)(param_2 + 0x4c) + *(int *)(iVar3 + 0x1a4);
          }
          if (*(int *)(iVar3 + 0x1b0) != 0) {
            *(int *)(param_2 + 0x50) = *(int *)(param_2 + 0x50) + *(int *)(iVar3 + 0x1b0);
          }
          if (*(int *)(iVar3 + 0x1bc) != 0) {
            *(int *)(param_2 + 0x54) = *(int *)(param_2 + 0x54) + *(int *)(iVar3 + 0x1bc);
          }
          if (*(int *)(iVar3 + 0x1c8) != 0) {
            *(int *)(param_2 + 0x58) = *(int *)(param_2 + 0x58) + *(int *)(iVar3 + 0x1c8);
          }
        }
      }
    }
LAB_00413a1a:
    puVar5 = puVar5 + 1;
    param_1 = param_1 + -1;
    if (param_1 == 0) {
      if (*(int *)(param_2 + 0x34) < 1) {
        *(undefined4 *)(param_2 + 0x34) = 1;
      }
      if (*(int *)(param_2 + 0x3c) < 1) {
        *(undefined4 *)(param_2 + 0x3c) = 1;
      }
      if (*(int *)(param_2 + 0x40) < 1) {
        *(undefined4 *)(param_2 + 0x40) = 1;
      }
      if (*(int *)(param_2 + 0x44) < 1) {
        *(undefined4 *)(param_2 + 0x44) = 1;
      }
      if (*(int *)(param_2 + 0x48) < 1) {
        *(undefined4 *)(param_2 + 0x48) = 1;
      }
      if (*(int *)(param_2 + 0x4c) < 1) {
        *(undefined4 *)(param_2 + 0x4c) = 1;
      }
      if (*(int *)(param_2 + 0x50) < 1) {
        *(undefined4 *)(param_2 + 0x50) = 1;
      }
      if (*(int *)(param_2 + 0x54) < 1) {
        *(undefined4 *)(param_2 + 0x54) = 1;
      }
      if (*(int *)(param_2 + 0x58) < 1) {
        *(undefined4 *)(param_2 + 0x58) = 1;
      }
      if (*(int *)(iVar2 + 0x15e4) != 0) {
        this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,200);
        iVar3 = *(int *)(param_2 + 0x20);
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,1,*(int *)(iVar2 + 0x15e8) + -1);
        iVar1 = *(int *)(param_2 + 0x24);
        *(int *)(param_2 + 0x20) = (lVar4 * iVar3) / 100 + iVar3;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,2,*(int *)(iVar2 + 0x15e8) + -1);
        iVar3 = *(int *)(param_2 + 0x28);
        *(int *)(param_2 + 0x24) = (lVar4 * iVar1) / 100 + iVar1;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,3,*(int *)(iVar2 + 0x15e8) + -1);
        iVar1 = *(int *)(param_2 + 0x34);
        *(int *)(param_2 + 0x28) = (lVar4 * iVar3) / 100 + iVar3;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,4,*(int *)(iVar2 + 0x15e8) + -1);
        *(int *)(param_2 + 0x34) = (lVar4 * iVar1) / 100 + iVar1;
        iVar3 = *(int *)(param_2 + 0x2c);
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,5,*(int *)(iVar2 + 0x15e8) + -1);
        iVar1 = *(int *)(param_2 + 0x3c);
        *(int *)(param_2 + 0x2c) = (lVar4 * iVar3) / 100 + iVar3;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,6,*(int *)(iVar2 + 0x15e8) + -1);
        iVar3 = *(int *)(param_2 + 0x40);
        *(int *)(param_2 + 0x3c) = (lVar4 * iVar1) / 100 + iVar1;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,7,*(int *)(iVar2 + 0x15e8) + -1);
        iVar1 = *(int *)(param_2 + 0x44);
        *(int *)(param_2 + 0x40) = (lVar4 * iVar3) / 100 + iVar3;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,8,*(int *)(iVar2 + 0x15e8) + -1);
        iVar3 = *(int *)(param_2 + 0x48);
        *(int *)(param_2 + 0x44) = (lVar4 * iVar1) / 100 + iVar1;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,9,*(int *)(iVar2 + 0x15e8) + -1);
        iVar1 = *(int *)(param_2 + 0x4c);
        *(int *)(param_2 + 0x48) = (lVar4 * iVar3) / 100 + iVar3;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,10,*(int *)(iVar2 + 0x15e8) + -1);
        iVar3 = *(int *)(param_2 + 0x54);
        *(int *)(param_2 + 0x4c) = (lVar4 * iVar1) / 100 + iVar1;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,0xb,*(int *)(iVar2 + 0x15e8) + -1);
        iVar1 = *(int *)(param_2 + 0x50);
        *(int *)(param_2 + 0x54) = (lVar4 * iVar3) / 100 + iVar3;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,0xc,*(int *)(iVar2 + 0x15e8) + -1);
        iVar3 = *(int *)(param_2 + 0x58);
        *(int *)(param_2 + 0x50) = (lVar4 * iVar1) / 100 + iVar1;
        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,0xd,*(int *)(iVar2 + 0x15e8) + -1);
        iVar3 = (lVar4 * iVar3) / 100 + iVar3;
        *(int *)(param_2 + 0x58) = iVar3;
        if (*(int *)(param_2 + 0x20) < 0) {
          *(undefined4 *)(param_2 + 0x20) = 0;
        }
        if (0xff < *(int *)(param_2 + 0x20)) {
          *(undefined4 *)(param_2 + 0x20) = 0xff;
        }
        if (*(int *)(param_2 + 0x24) < 0) {
          *(undefined4 *)(param_2 + 0x24) = 0;
        }
        if (0xff < *(int *)(param_2 + 0x24)) {
          *(undefined4 *)(param_2 + 0x24) = 0xff;
        }
        if (*(int *)(param_2 + 0x28) < 0) {
          *(undefined4 *)(param_2 + 0x28) = 0;
        }
        if (0xff < *(int *)(param_2 + 0x28)) {
          *(undefined4 *)(param_2 + 0x28) = 0xff;
        }
        if (*(int *)(param_2 + 0x34) < 1) {
          *(undefined4 *)(param_2 + 0x34) = 1;
        }
        if (*(int *)(param_2 + 0x3c) < 1) {
          *(undefined4 *)(param_2 + 0x3c) = 1;
        }
        if (*(int *)(param_2 + 0x2c) < 1) {
          *(undefined4 *)(param_2 + 0x2c) = 1;
        }
        if (*(int *)(param_2 + 0x40) < 1) {
          *(undefined4 *)(param_2 + 0x40) = 1;
        }
        if (*(int *)(param_2 + 0x44) < 1) {
          *(undefined4 *)(param_2 + 0x44) = 1;
        }
        if (*(int *)(param_2 + 0x48) < 1) {
          *(undefined4 *)(param_2 + 0x48) = 1;
        }
        if (*(int *)(param_2 + 0x4c) < 1) {
          *(undefined4 *)(param_2 + 0x4c) = 1;
        }
        if (*(int *)(param_2 + 0x50) < 1) {
          *(undefined4 *)(param_2 + 0x50) = 1;
        }
        if (*(int *)(param_2 + 0x54) < 1) {
          *(undefined4 *)(param_2 + 0x54) = 1;
        }
        if (iVar3 < 1) {
          *(undefined4 *)(param_2 + 0x58) = 1;
        }
      }
      return;
    }
  } while( true );
}



/*
 * Function: FUN_00413e00
 * Address: 00413e00
 */

bool FUN_00413e00(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar2 = param_1 - param_2;
  if (iVar2 < 0x14) {
    iVar2 = 0x14;
  }
  else if (0x62 < iVar2) {
    iVar2 = 0x62;
  }
  iVar1 = _rand();
  return iVar1 % 100 < iVar2;
}



/*
 * Function: FUN_00413e40
 * Address: 00413e40
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00413e40(double param_1)

{
  if (param_1 < _DAT_00475168) {
    while (param_1 = param_1 + _DAT_00475160, param_1 <= _DAT_00475160) {
      if (_DAT_00475168 <= param_1) {
        return;
      }
    }
  }
  else {
    if (param_1 < _DAT_00475160) {
      return;
    }
    if (_DAT_00475160 < param_1) {
      do {
        param_1 = param_1 - _DAT_00475160;
        if (param_1 < _DAT_00475168) {
          return;
        }
      } while (_DAT_00475160 < param_1);
    }
  }
  return;
}



/*
 * Function: FUN_00413ec0
 * Address: 00413ec0
 */

undefined4 FUN_00413ec0(int param_1,int param_2)

{
  int iVar1;
  float10 fVar2;
  longlong lVar3;
  
  fVar2 = (float10)fpatan((float10)-param_2,(float10)param_1);
  FUN_00413e40((double)fVar2);
  lVar3 = __ftol();
  iVar1 = (int)lVar3;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0xe10;
  }
  iVar1 = iVar1 % 0xe10;
  if (iVar1 < 0) {
    if (0xe0 < iVar1) goto LAB_00413f1d;
    if (0x2a2 < iVar1) goto LAB_00413f35;
    if (0x464 < iVar1) goto LAB_00413f4d;
    if (0x626 < iVar1) goto LAB_00413f65;
    if (0x7e8 < iVar1) goto LAB_00413f7d;
    if (iVar1 < 0x9ab) {
      if (iVar1 < 0xb6d) {
        return 1;
      }
      goto LAB_00413fb1;
    }
  }
  else {
    if (iVar1 < 0xe2) {
      return 1;
    }
LAB_00413f1d:
    if (iVar1 < 0x2a4) {
      return 2;
    }
LAB_00413f35:
    if (iVar1 < 0x466) {
      return 3;
    }
LAB_00413f4d:
    if (iVar1 < 0x628) {
      return 4;
    }
LAB_00413f65:
    if (iVar1 < 0x7ea) {
      return 5;
    }
LAB_00413f7d:
    if (iVar1 < 0x9ac) {
      return 6;
    }
  }
  if (iVar1 < 0xb6e) {
    return 7;
  }
LAB_00413fb1:
  if (0xd2f < iVar1) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_00413fd0
 * Address: 00413fd0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

float10 FUN_00413fd0(undefined4 param_1)

{
  switch(param_1) {
  case 0:
    return (float10)_DAT_00475180 * (float10)_DAT_004751b0;
  default:
    return (float10)_DAT_00475168 * (float10)_DAT_004751b0;
  case 2:
    return (float10)_DAT_004751b8 * (float10)_DAT_004751b0;
  case 3:
    return (float10)_DAT_004751a8 * (float10)_DAT_004751b0;
  case 4:
    return (float10)_DAT_004751a0 * (float10)_DAT_004751b0;
  case 5:
    return (float10)_DAT_00475198 * (float10)_DAT_004751b0;
  case 6:
    return (float10)_DAT_00475190 * (float10)_DAT_004751b0;
  case 7:
    return (float10)_DAT_00475188 * (float10)_DAT_004751b0;
  }
}



/*
 * Function: FUN_00414080
 * Address: 00414080
 */

undefined1  [10] FUN_00414080(int param_1,int param_2)

{
  undefined1 auVar1 [10];
  
  auVar1 = (undefined1  [10])fpatan((float10)-param_2,(float10)param_1);
  return auVar1;
}



/*
 * Function: FUN_004140a0
 * Address: 004140a0
 */

undefined8 FUN_004140a0(int *param_1,double param_2,undefined4 param_3,int *param_4)

{
  longlong lVar1;
  
  fcos((float10)param_2);
  lVar1 = __ftol();
  fsin((float10)param_2);
  *param_4 = (int)lVar1 + *param_1;
  lVar1 = __ftol();
  param_4[1] = param_1[1] - (int)lVar1;
  return CONCAT44((int)((ulonglong)lVar1 >> 0x20),1);
}



/*
 * Function: FUN_004140f0
 * Address: 004140f0
 */

undefined4 FUN_004140f0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  longlong lVar2;
  
  FUN_00413e40((double)CONCAT44(param_2,param_1));
  lVar2 = __ftol();
  iVar1 = (int)lVar2;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0xe10;
  }
  iVar1 = iVar1 % 0xe10;
  if (iVar1 < 0) {
    if (0xe0 < iVar1) goto LAB_0041413d;
    if (0x2a2 < iVar1) goto LAB_00414155;
    if (0x464 < iVar1) goto LAB_0041416d;
    if (0x626 < iVar1) goto LAB_00414185;
    if (0x7e8 < iVar1) goto LAB_0041419d;
    if (iVar1 < 0x9ab) {
      if (iVar1 < 0xb6d) {
        return 1;
      }
      goto LAB_004141d1;
    }
  }
  else {
    if (iVar1 < 0xe2) {
      return 1;
    }
LAB_0041413d:
    if (iVar1 < 0x2a4) {
      return 2;
    }
LAB_00414155:
    if (iVar1 < 0x466) {
      return 3;
    }
LAB_0041416d:
    if (iVar1 < 0x628) {
      return 4;
    }
LAB_00414185:
    if (iVar1 < 0x7ea) {
      return 5;
    }
LAB_0041419d:
    if (iVar1 < 0x9ac) {
      return 6;
    }
  }
  if (iVar1 < 0xb6e) {
    return 7;
  }
LAB_004141d1:
  if (0xd2f < iVar1) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_004141f0
 * Address: 004141f0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ulonglong FUN_004141f0(int *param_1,int *param_2,undefined4 param_3,int *param_4)

{
  int iVar1;
  longlong lVar2;
  ulonglong uVar3;
  
  FUN_00468007((double)(*param_1 - *param_2),(double)(param_1[1] - param_2[1]));
  iVar1 = *param_2;
  lVar2 = __ftol();
  *param_4 = (int)lVar2 + iVar1;
  iVar1 = param_2[1];
  uVar3 = __ftol();
  param_4[1] = (int)uVar3 + iVar1;
  return uVar3 & 0xffffffff00000000;
}



/*
 * Function: FUN_00414290
 * Address: 00414290
 */

ulonglong FUN_00414290(int *param_1,int *param_2,double param_3,int *param_4)

{
  float10 fVar1;
  longlong lVar2;
  ulonglong uVar3;
  
  fVar1 = (float10)fpatan((float10)(param_2[1] - param_1[1]),(float10)(*param_2 - *param_1));
  FUN_00414310(*param_1,param_1[1],*param_2,param_2[1]);
  fcos((float10)(double)(fVar1 + (float10)param_3));
  lVar2 = __ftol();
  fsin((float10)(double)(fVar1 + (float10)param_3));
  *param_4 = (int)lVar2 + *param_1;
  uVar3 = __ftol();
  param_4[1] = (int)uVar3 + param_1[1];
  return uVar3 & 0xffffffff00000000;
}



/*
 * Function: FUN_00414310
 * Address: 00414310
 */

longlong FUN_00414310(int param_1,int param_2,int param_3,int param_4)

{
  longlong lVar1;
  
  FUN_00468007((double)(param_1 - param_3),(double)(param_2 - param_4));
  lVar1 = __ftol();
  return lVar1;
}



/*
 * Function: FUN_00414350
 * Address: 00414350
 */

undefined4 FUN_00414350(int *param_1,int *param_2,int *param_3,int *param_4)

{
  if ((*param_2 + *param_1 <= param_4[2] + *param_3) &&
     (*param_4 + *param_3 <= param_2[2] + *param_1)) {
    if ((param_2[1] + param_1[1] <= param_4[3] + param_3[1]) &&
       (param_4[1] + param_3[1] <= param_2[3] + param_1[1])) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_004143c0
 * Address: 004143c0
 */

undefined8 FUN_004143c0(int *param_1,int *param_2,int *param_3,int *param_4)

{
  double dVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  longlong lVar12;
  double dVar13;
  
  iVar6 = *param_2 + *param_1;
  iVar11 = param_2[2] + *param_1;
  iVar10 = param_2[1] + param_1[1];
  iVar9 = param_2[3] + param_1[1];
  iVar2 = *param_3 + *param_4;
  iVar3 = param_4[1] + param_3[1];
  iVar4 = param_4[2] + *param_3;
  iVar5 = param_4[3] + param_3[1];
  if ((iVar4 < iVar6) || (iVar11 < iVar2)) {
    if ((iVar10 <= iVar5) && (iVar3 <= iVar9)) {
      uVar7 = iVar6 - iVar2 >> 0x1f;
      iVar3 = ((iVar6 - iVar2 ^ uVar7) - uVar7) + -1;
      uVar7 = iVar11 - iVar2 >> 0x1f;
      iVar2 = ((iVar11 - iVar2 ^ uVar7) - uVar7) + -1;
      if (iVar2 < iVar3) {
        iVar3 = iVar2;
      }
      uVar7 = iVar6 - iVar4 >> 0x1f;
      iVar2 = ((iVar6 - iVar4 ^ uVar7) - uVar7) + -1;
      if (iVar2 < iVar3) {
        iVar3 = iVar2;
      }
      uVar7 = iVar11 - iVar4 >> 0x1f;
      iVar2 = ((iVar11 - iVar4 ^ uVar7) - uVar7) + -1;
      if (iVar2 < iVar3) {
        iVar3 = iVar2;
      }
      return CONCAT44(uVar7,iVar3);
    }
    if (iVar6 < iVar2) {
      if (iVar10 < iVar3) {
        dVar13 = (double)(iVar9 - iVar3);
        dVar1 = (double)(iVar11 - iVar2);
      }
      else {
        dVar13 = (double)(iVar10 - iVar5);
        dVar1 = (double)(iVar11 - iVar2);
      }
    }
    else if (iVar10 < iVar3) {
      dVar13 = (double)(iVar9 - iVar3);
      dVar1 = (double)(iVar6 - iVar4);
    }
    else {
      dVar13 = (double)(iVar10 - iVar5);
      dVar1 = (double)(iVar6 - iVar4);
    }
    FUN_00468007(dVar1,dVar13);
    lVar12 = __ftol();
    iVar2 = (int)((ulonglong)lVar12 >> 0x20);
    iVar3 = (int)lVar12 + -1;
    if (-1 < iVar3) goto LAB_004145a3;
  }
  else if ((iVar5 < iVar10) || (iVar9 < iVar3)) {
    uVar7 = iVar10 - iVar3 >> 0x1f;
    uVar8 = iVar9 - iVar3 >> 0x1f;
    iVar2 = ((iVar10 - iVar3 ^ uVar7) - uVar7) + -1;
    iVar3 = ((iVar9 - iVar3 ^ uVar8) - uVar8) + -1;
    if (iVar3 < iVar2) {
      iVar2 = iVar3;
    }
    uVar7 = iVar10 - iVar5 >> 0x1f;
    iVar3 = ((iVar10 - iVar5 ^ uVar7) - uVar7) + -1;
    if (iVar3 < iVar2) {
      iVar2 = iVar3;
    }
    uVar7 = iVar9 - iVar5 >> 0x1f;
    iVar3 = ((iVar9 - iVar5 ^ uVar7) - uVar7) + -1;
    if (iVar3 < iVar2) {
      iVar2 = iVar3;
    }
    return CONCAT44(uVar7,iVar2);
  }
  iVar3 = 0;
LAB_004145a3:
  return CONCAT44(iVar2,iVar3);
}



/*
 * Function: FUN_004145b0
 * Address: 004145b0
 */

undefined4
FUN_004145b0(int param_1,int param_2,int *param_3,int *param_4,int param_5,uint param_6,int param_7)

{
  RKC_RPGSCRN_GROUNDBLOCK *this;
  RKC_RPGSCRN_OBJECTBLOCK *this_00;
  RKC_RPGSCRN_OBJECTBLOCK *this_01;
  long lVar1;
  undefined4 uVar2;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar3;
  RKC_RPGSCRN_OBJECT *pRVar4;
  long lVar5;
  void *this_02;
  undefined4 *puVar6;
  short **ppsVar7;
  int iVar8;
  int iVar9;
  int iStack_58;
  RKC_RPGSCRN_GROUNDBLOCK *pRStack_54;
  int iStack_50;
  int iStack_4c;
  int iStack_48;
  RKC_RPGSCRN_OBJECTDISP local_44 [8];
  tagRECT tStack_3c;
  uint uStack_2c;
  int iStack_28;
  int iStack_24;
  int iStack_20;
  tagRECT tStack_1c;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_004719f9;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_44);
  uStack_4 = 0;
  this_00 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0(param_1);
  this_01 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(param_1);
  pRStack_54 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540(param_1);
  tStack_3c.left = *param_4 + *param_3;
  tStack_3c.top = param_4[1] + param_3[1];
  tStack_3c.right = param_4[2] + *param_3;
  tStack_3c.bottom = param_4[3] + param_3[1];
  RKC_RPGSCRN_OBJECTDISP::Release(local_44);
  RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(this_00,local_44,&tStack_3c,0,0,1,param_7);
  lVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_44);
  if (lVar1 == 0) {
    if (param_5 == 0) {
      RKC_RPGSCRN_OBJECTDISP::Release(local_44);
      RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(this_01,local_44,&tStack_3c,0,0,1,0);
      lVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_44);
      if ((lVar1 != 0) && (iVar9 = 0, 0 < lVar1)) {
        do {
          pRVar3 = RKC_RPGSCRN_OBJECTDISP::Get(local_44,iVar9);
          pRVar4 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar3);
          lVar5 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4);
          if (lVar5 != param_2) {
            pRVar3 = RKC_RPGSCRN_OBJECTDISP::Get(local_44,iVar9);
            pRVar4 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar3);
            lVar5 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4);
            if (lVar5 < 4) {
              pRVar3 = RKC_RPGSCRN_OBJECTDISP::Get(local_44,iVar9);
              pRVar4 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar3);
              lVar5 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4);
              if (-1 < lVar5) {
                if ((param_6 & 1) == 0) goto LAB_00414812;
                goto LAB_0041466d;
              }
            }
            pRVar3 = RKC_RPGSCRN_OBJECTDISP::Get(local_44,iVar9);
            pRVar4 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar3);
            lVar5 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar4);
            this_02 = (void *)FUN_00427aa0(param_1);
            puVar6 = (undefined4 *)FUN_004299e0(this_02,lVar5);
            if ((puVar6 != (undefined4 *)0x0) &&
               ((((((iVar8 = FUN_00427b20(puVar6), iVar8 == 0 && ((param_6 & 2) != 0)) &&
                   ((param_7 != 1 ||
                    (iVar8 = FUN_00434cd0((int)puVar6), *(int *)(iVar8 + 0xf8) != 1)))) ||
                  ((iVar8 = FUN_00427b20(puVar6), iVar8 == 1 && ((param_6 & 4) != 0)))) ||
                 ((iVar8 = FUN_00427b20(puVar6), iVar8 == 2 && ((param_6 & 8) != 0)))) ||
                ((((iVar8 = FUN_00427b20(puVar6), iVar8 == 4 && ((param_6 & 0x10) != 0)) ||
                  ((iVar8 = FUN_00427b20(puVar6), iVar8 == 3 && ((param_6 & 0x20) != 0)))) ||
                 ((iVar8 = FUN_00427b20(puVar6), iVar8 == 5 && ((param_6 & 0x40) != 0))))))))
            goto LAB_0041466d;
          }
LAB_00414812:
          iVar9 = iVar9 + 1;
        } while (iVar9 < lVar1);
      }
    }
    SetRect(&tStack_1c,tStack_3c.left,tStack_3c.top,tStack_3c.right,tStack_3c.bottom);
    this = pRStack_54;
    RKC_RPGSCRN_GROUNDBLOCK::GetGroundRect(pRStack_54,&tStack_1c,(RKC_RPGSCRN_RECT *)&uStack_2c,1,0)
    ;
    RKC_RPGSCRN_GROUNDBLOCK::GetBaseMag(this,&iStack_58,&iStack_48);
    ppsVar7 = RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudge(this);
    RKC_RPGSCRN_GROUNDBLOCK::GetJudgeOffset(this,&iStack_4c,&iStack_50);
    for (; iStack_28 <= iStack_20; iStack_28 = iStack_28 + 1) {
      param_6 = uStack_2c;
      if ((int)uStack_2c <= iStack_24) {
        iVar8 = uStack_2c * iStack_58;
        iVar9 = uStack_2c * 2;
        do {
          if (((*(byte *)(iVar9 + iStack_4c * -2 + (int)ppsVar7[iStack_28 - iStack_50]) & 1) != 0)
             && ((param_7 != 1 ||
                 ((*(byte *)(iVar9 + iStack_4c * -2 + (int)ppsVar7[iStack_28 - iStack_50]) & 2) == 0
                 )))) {
            if ((iVar8 <= tStack_3c.right) &&
               (((tStack_3c.left <= iStack_58 + -1 + iVar8 &&
                 (iStack_48 * iStack_28 - tStack_3c.bottom == 0 ||
                  iStack_48 * iStack_28 < tStack_3c.bottom)) &&
                (tStack_3c.top <= (iStack_28 + 1) * iStack_48 + -1)))) goto LAB_0041466d;
          }
          param_6 = param_6 + 1;
          iVar9 = iVar9 + 2;
          iVar8 = iVar8 + iStack_58;
        } while ((int)param_6 <= iStack_24);
      }
    }
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_44);
    uVar2 = 1;
  }
  else {
LAB_0041466d:
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_44);
    uVar2 = 0;
  }
  ExceptionList = pvStack_c;
  return uVar2;
}



/*
 * Function: FUN_00414990
 * Address: 00414990
 */

undefined4
FUN_00414990(int param_1,int param_2,int *param_3,int *param_4,int *param_5,int *param_6,int param_7
            ,int param_8,byte param_9,int param_10)

{
  bool bVar1;
  RKC_RPGSCRN_GROUNDBLOCK *this;
  ushort uVar2;
  RKC_RPGSCRN_OBJECTBLOCK *this_00;
  long lVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar4;
  RKC_RPGSCRN_OBJECT *pRVar5;
  int iVar6;
  long lVar7;
  RKC_RPGSCRN_OBJECT *this_01;
  void *this_02;
  undefined4 *puVar8;
  int iVar9;
  undefined4 uVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  uint uVar20;
  uint uVar21;
  int *piVar22;
  int iVar23;
  int iVar24;
  int iVar25;
  int iStack_a0;
  int iStack_9c;
  int *piStack_98;
  int iStack_7c;
  int iStack_78;
  RKC_RPGSCRN_OBJECTDISP local_6c [8];
  uint uStack_64;
  tagRECT tStack_60;
  int iStack_50;
  RKC_RPGSCRN_GROUNDBLOCK *pRStack_4c;
  int iStack_48;
  int iStack_44;
  int iStack_40;
  int iStack_3c;
  int iStack_38;
  int iStack_34;
  int iStack_30;
  int iStack_2c;
  int iStack_28;
  RKC_RPGSCRN_OBJECTBLOCK *pRStack_24;
  int iStack_20;
  int iStack_1c;
  int iStack_18;
  int iStack_14;
  int iStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471a19;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_6c);
  uStack_4 = 0;
  iStack_50 = 0;
  piStack_98 = (int *)0x0;
  if ((param_7 == 1) || (param_7 == 2)) {
    if (*param_3 == *param_5) {
      param_7 = 0;
    }
    else {
      if (param_3[1] == param_5[1]) {
        uVar13 = *param_3 - *param_5;
        uVar14 = (int)uVar13 >> 0x1f;
        iStack_50 = ((uVar13 ^ uVar14) - uVar14) + 1;
        goto LAB_00414a19;
      }
      param_7 = 0;
    }
  }
  else {
LAB_00414a19:
    if ((param_7 == 3) || (param_7 == 4)) {
      if (param_3[1] == param_5[1]) {
        param_7 = 0;
      }
      else if (*param_3 == *param_5) {
        uVar13 = param_3[1] - param_5[1];
        uVar14 = (int)uVar13 >> 0x1f;
        iStack_50 = ((uVar13 ^ uVar14) - uVar14) + 1;
      }
      else {
        param_7 = 0;
      }
    }
    if (iStack_50 != 0) {
      piStack_98 = (int *)GlobalAlloc(0x40,iStack_50 << 2);
    }
  }
  *param_6 = *param_5;
  param_6[1] = param_5[1];
  this_00 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0(param_1);
  pRStack_4c = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540(param_1);
  pRStack_24 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(param_1);
  iVar9 = *param_5;
  iVar12 = *param_3;
  if (iVar12 < iVar9) {
    tStack_60.left = iVar12 + *param_4;
    tStack_60.right = param_4[2] + iVar9;
  }
  else {
    tStack_60.left = iVar9 + *param_4;
    tStack_60.right = param_4[2] + iVar12;
  }
  iVar6 = param_3[1];
  if (iVar6 < param_5[1]) {
    tStack_60.top = iVar6 + param_4[1];
    tStack_60.bottom = param_5[1];
  }
  else {
    tStack_60.top = param_5[1] + param_4[1];
    tStack_60.bottom = iVar6;
  }
  tStack_60.bottom = tStack_60.bottom + param_4[3];
  if (param_7 == 1) {
    tStack_60.top = tStack_60.top + -1;
  }
  else if (param_7 == 2) {
    tStack_60.bottom = tStack_60.bottom + 1;
  }
  else if (param_7 == 3) {
    tStack_60.left = tStack_60.left + -1;
  }
  else if (param_7 == 4) {
    tStack_60.right = tStack_60.right + 1;
  }
  iVar11 = param_5[1];
  uVar13 = iVar11 - iVar6 >> 0x1f;
  uVar14 = iVar9 - iVar12 >> 0x1f;
  *param_6 = *param_5;
  uStack_64 = (uint)((int)((iVar11 - iVar6 ^ uVar13) - uVar13) <
                    (int)((iVar9 - iVar12 ^ uVar14) - uVar14));
  param_6[1] = param_5[1];
  RKC_RPGSCRN_OBJECTDISP::Release(local_6c);
  RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(this_00,local_6c,&tStack_60,0,0,1,param_10);
  lVar3 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_6c);
  iStack_78 = 0;
  if (0 < lVar3) {
    do {
      pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(local_6c,iStack_78);
      pRVar5 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
      if (pRVar5 != (RKC_RPGSCRN_OBJECT *)0x0) {
        RKC_RPGSCRN_OBJECT::GetPosition(pRVar5,(RKC_RPGSCRN_POSITION *)&iStack_48);
        RKC_RPGSCRN_OBJECT::GetJudgement(pRVar5,(RKC_RPGSCRN_RECT *)&iStack_40);
        iVar11 = iStack_40 + iStack_48;
        iVar15 = iStack_3c + iStack_44;
        iVar16 = iStack_38 + iStack_48;
        iVar6 = iStack_34 + iStack_44;
        iVar9 = *param_3;
        iVar12 = param_3[1];
        if ((((param_4[2] + iVar9 < iVar11) || (iVar16 < iVar9 + *param_4)) ||
            (iVar12 + param_4[3] < iVar15)) || (iVar6 < iVar12 + param_4[1])) {
          if (uStack_64 == 1) {
            iVar19 = *param_5;
            iVar17 = iVar9;
            if (iVar19 < iVar9) {
              while (iVar23 = iVar17, iVar19 <= iVar23) {
                iVar17 = *param_3;
                if (iVar23 == iVar17) {
                  iVar24 = param_3[1];
                }
                else if (iVar23 == iVar19) {
                  iVar24 = param_5[1];
                }
                else {
                  if (*param_5 - iVar17 == 0) {
                    iVar24 = param_3[1];
                    iVar25 = iVar24;
                  }
                  else {
                    iVar25 = param_3[1];
                    iVar24 = ((iVar23 - iVar17) * (param_5[1] - iVar25)) / (*param_5 - iVar17) +
                             iVar25;
                  }
                  iVar18 = param_5[1];
                  if (iVar25 < iVar18) {
                    if (iVar24 < iVar25) {
                      iVar24 = iVar25;
                    }
                    if (iVar18 < iVar24) {
LAB_00414ede:
                      iVar24 = iVar18;
                    }
                  }
                  else {
                    if (iVar25 < iVar24) {
                      iVar24 = iVar25;
                    }
                    if (iVar24 < iVar18) goto LAB_00414ede;
                  }
                }
                iStack_7c = iVar24 + param_4[1];
                iVar25 = iVar24 + param_4[3];
                if (((iVar11 <= param_4[2] + iVar23) && (iVar23 + *param_4 <= iVar16)) &&
                   ((iVar15 <= iVar25 && (iStack_7c <= iVar6)))) {
                  uVar13 = iVar9 - *param_3;
                  uVar20 = (int)uVar13 >> 0x1f;
                  uVar14 = *param_6 - *param_3;
                  uVar21 = (int)uVar14 >> 0x1f;
                  if (((int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21)) ||
                     (uVar13 = param_6[1] - param_3[1], uVar20 = (int)uVar13 >> 0x1f,
                     uVar14 = iVar12 - param_3[1], uVar21 = (int)uVar14 >> 0x1f,
                     (int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20))) {
                    *param_6 = iVar9;
                    param_6[1] = iVar12;
                  }
                  break;
                }
                if (param_7 != 0) {
                  if (param_7 == 1) {
                    iStack_7c = iStack_7c + -1;
                    iVar25 = iVar25 + -1;
                  }
                  else if (param_7 == 2) {
                    iStack_7c = iStack_7c + 1;
                    iVar25 = iVar25 + 1;
                  }
                  if ((((param_4[2] + iVar23 < iVar11) || (iVar16 < iVar23 + *param_4)) ||
                      (iVar25 < iVar15)) || (iVar6 < iStack_7c)) {
                    if (piStack_98[iVar17 - iVar23] == 0) {
                      piStack_98[iVar17 - iVar23] = 1;
                    }
                  }
                  else if (piStack_98[iVar17 - iVar23] < 2) {
                    piStack_98[iVar17 - iVar23] = 2;
                  }
                }
                iVar9 = iVar23;
                iVar12 = iVar24;
                iVar17 = iVar23 + -1;
              }
            }
            else {
              while (iVar23 = iVar17, iVar23 <= iVar19) {
                iVar17 = *param_3;
                if (iVar23 == iVar17) {
                  iVar24 = param_3[1];
                }
                else if (iVar23 == iVar19) {
                  iVar24 = param_5[1];
                }
                else {
                  iVar25 = param_3[1];
                  iVar24 = iVar25;
                  if (*param_5 - iVar17 != 0) {
                    iVar24 = ((iVar23 - iVar17) * (param_5[1] - iVar25)) / (*param_5 - iVar17) +
                             iVar25;
                  }
                  iVar17 = param_5[1];
                  if (iVar25 < iVar17) {
                    if (iVar24 < iVar25) {
                      iVar24 = iVar25;
                    }
                    if (iVar17 < iVar24) {
LAB_00414cfc:
                      iVar24 = iVar17;
                    }
                  }
                  else {
                    if (iVar25 < iVar24) {
                      iVar24 = iVar25;
                    }
                    if (iVar24 < iVar17) goto LAB_00414cfc;
                  }
                }
                iVar17 = iVar24 + param_4[3];
                iVar25 = iVar24 + param_4[1];
                if (((iVar11 <= param_4[2] + iVar23) && (iVar23 + *param_4 <= iVar16)) &&
                   ((iVar15 <= iVar17 && (iVar25 <= iVar6)))) {
                  uVar13 = iVar9 - *param_3;
                  uVar20 = (int)uVar13 >> 0x1f;
                  uVar14 = *param_6 - *param_3;
                  uVar21 = (int)uVar14 >> 0x1f;
                  if (((int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21)) ||
                     (uVar13 = param_6[1] - param_3[1], uVar20 = (int)uVar13 >> 0x1f,
                     uVar14 = iVar12 - param_3[1], uVar21 = (int)uVar14 >> 0x1f,
                     (int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20))) {
                    *param_6 = iVar9;
                    param_6[1] = iVar12;
                  }
                  break;
                }
                if (param_7 != 0) {
                  if (param_7 == 1) {
                    iVar25 = iVar25 + -1;
                    iVar17 = iVar17 + -1;
                  }
                  else if (param_7 == 2) {
                    iVar25 = iVar25 + 1;
                    iVar17 = iVar17 + 1;
                  }
                  if ((((param_4[2] + iVar23 < iVar11) || (iVar16 < iVar23 + *param_4)) ||
                      (iVar17 < iVar15)) || (iVar6 < iVar25)) {
                    if (piStack_98[iVar23 - *param_3] == 0) {
                      piStack_98[iVar23 - *param_3] = 1;
                    }
                  }
                  else if (piStack_98[iVar23 - *param_3] < 2) {
                    piStack_98[iVar23 - *param_3] = 2;
                  }
                }
                iVar9 = iVar23;
                iVar12 = iVar24;
                iVar17 = iVar23 + 1;
              }
            }
          }
          else {
            iVar19 = param_5[1];
            iVar17 = iVar12;
            if (iVar19 < iVar12) {
              while (iVar23 = iVar17, iVar19 <= iVar23) {
                iVar17 = param_3[1];
                if (iVar23 == iVar17) {
                  iVar24 = *param_3;
                }
                else if (iVar23 == iVar19) {
                  iVar24 = *param_5;
                }
                else {
                  iVar25 = *param_3;
                  iVar24 = iVar25;
                  if (param_5[1] - iVar17 != 0) {
                    iVar24 = ((iVar23 - iVar17) * (*param_5 - iVar25)) / (param_5[1] - iVar17) +
                             iVar25;
                  }
                  iVar18 = *param_5;
                  if (iVar25 < iVar18) {
                    if (iVar24 < iVar25) {
                      iVar24 = iVar25;
                    }
                    if (iVar18 < iVar24) {
LAB_00415253:
                      iVar24 = iVar18;
                    }
                  }
                  else {
                    if (iVar25 < iVar24) {
                      iVar24 = iVar25;
                    }
                    if (iVar24 < iVar18) goto LAB_00415253;
                  }
                }
                iVar18 = iVar24 + *param_4;
                iVar25 = param_4[2] + iVar24;
                if (((iVar11 <= iVar25) && (iVar18 <= iVar16)) &&
                   ((iVar15 <= iVar23 + param_4[3] && (iVar23 + param_4[1] <= iVar6)))) {
                  uVar13 = param_6[1] - param_3[1];
                  uVar20 = (int)uVar13 >> 0x1f;
                  uVar14 = iVar12 - param_3[1];
                  uVar21 = (int)uVar14 >> 0x1f;
                  if (((int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20)) ||
                     (uVar13 = iVar9 - *param_3, uVar20 = (int)uVar13 >> 0x1f,
                     uVar14 = *param_6 - *param_3, uVar21 = (int)uVar14 >> 0x1f,
                     (int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21))) {
                    param_6[1] = iVar12;
                    *param_6 = iVar9;
                  }
                  break;
                }
                if (param_7 != 0) {
                  if (param_7 == 3) {
                    iVar18 = iVar18 + -1;
                    iVar25 = iVar25 + -1;
                  }
                  else if (param_7 == 4) {
                    iVar18 = iVar18 + 1;
                    iVar25 = iVar25 + 1;
                  }
                  if ((((iVar25 < iVar11) || (iVar16 < iVar18)) || (iVar23 + param_4[3] < iVar15))
                     || (iVar6 < iVar23 + param_4[1])) {
                    if (piStack_98[iVar17 - iVar23] == 0) {
                      piStack_98[iVar17 - iVar23] = 1;
                    }
                  }
                  else if (piStack_98[iVar17 - iVar23] < 2) {
                    piStack_98[iVar17 - iVar23] = 2;
                  }
                }
                iVar9 = iVar24;
                iVar12 = iVar23;
                iVar17 = iVar23 + -1;
              }
            }
            else {
              while (iVar23 = iVar17, iVar23 <= iVar19) {
                iVar17 = param_3[1];
                if (iVar23 == iVar17) {
                  iVar24 = *param_3;
                }
                else if (iVar23 == iVar19) {
                  iVar24 = *param_5;
                }
                else {
                  iVar25 = *param_3;
                  iVar24 = iVar25;
                  if (param_5[1] - iVar17 != 0) {
                    iVar24 = ((iVar23 - iVar17) * (*param_5 - iVar25)) / (param_5[1] - iVar17) +
                             iVar25;
                  }
                  iVar17 = *param_5;
                  if (iVar25 < iVar17) {
                    if (iVar24 < iVar25) {
                      iVar24 = iVar25;
                    }
                    if (iVar17 < iVar24) {
LAB_004150b1:
                      iVar24 = iVar17;
                    }
                  }
                  else {
                    if (iVar25 < iVar24) {
                      iVar24 = iVar25;
                    }
                    if (iVar24 < iVar17) goto LAB_004150b1;
                  }
                }
                iVar25 = iVar24 + *param_4;
                iVar17 = param_4[2] + iVar24;
                if (((iVar11 <= iVar17) && (iVar25 <= iVar16)) &&
                   ((iVar15 <= iVar23 + param_4[3] && (iVar23 + param_4[1] <= iVar6)))) {
                  uVar13 = param_6[1] - param_3[1];
                  uVar20 = (int)uVar13 >> 0x1f;
                  uVar14 = iVar12 - param_3[1];
                  uVar21 = (int)uVar14 >> 0x1f;
                  if (((int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20)) ||
                     (uVar13 = iVar9 - *param_3, uVar20 = (int)uVar13 >> 0x1f,
                     uVar14 = *param_6 - *param_3, uVar21 = (int)uVar14 >> 0x1f,
                     (int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21))) {
                    param_6[1] = iVar12;
                    *param_6 = iVar9;
                  }
                  break;
                }
                if (param_7 != 0) {
                  if (param_7 == 3) {
                    iVar25 = iVar25 + -1;
                    iVar17 = iVar17 + -1;
                  }
                  else if (param_7 == 4) {
                    iVar25 = iVar25 + 1;
                    iVar17 = iVar17 + 1;
                  }
                  if ((((iVar17 < iVar11) || (iVar16 < iVar25)) || (iVar23 + param_4[3] < iVar15))
                     || (iVar6 < iVar23 + param_4[1])) {
                    if (piStack_98[iVar23 - param_3[1]] == 0) {
                      piStack_98[iVar23 - param_3[1]] = 1;
                    }
                  }
                  else if (piStack_98[iVar23 - param_3[1]] < 2) {
                    piStack_98[iVar23 - param_3[1]] = 2;
                  }
                }
                iVar9 = iVar24;
                iVar12 = iVar23;
                iVar17 = iVar23 + 1;
              }
            }
          }
        }
      }
      iStack_78 = iStack_78 + 1;
    } while (iStack_78 < lVar3);
  }
  if (param_8 == 0) {
    RKC_RPGSCRN_OBJECTDISP::Release(local_6c);
    RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(pRStack_24,local_6c,&tStack_60,0,0,1,0);
    lVar3 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_6c);
    iStack_78 = 0;
    if (0 < lVar3) {
LAB_004153ec:
      pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(local_6c,iStack_78);
      pRVar5 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
      if (((pRVar5 != (RKC_RPGSCRN_OBJECT *)0x0) &&
          (lVar7 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5), lVar7 != param_2)) &&
         (uVar2 = RKC_RPGSCRN_OBJECT::GetStatus(pRVar5), (uVar2 & 1) != 0)) {
        bVar1 = false;
        lVar7 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5);
        if (lVar7 < 4) {
          pRVar4 = RKC_RPGSCRN_OBJECTDISP::Get(local_6c,iStack_78);
          this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
          lVar7 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          if (lVar7 < 0) goto LAB_0041547b;
          if ((param_9 & 1) == 0) goto LAB_00415770;
LAB_00415572:
          RKC_RPGSCRN_OBJECT::GetPosition(pRVar5,(RKC_RPGSCRN_POSITION *)&iStack_48);
          RKC_RPGSCRN_OBJECT::GetJudgement(pRVar5,(RKC_RPGSCRN_RECT *)&iStack_40);
          iVar12 = iStack_40 + iStack_48;
          iVar6 = iStack_3c + iStack_44;
          iVar11 = iStack_38 + iStack_48;
          iVar9 = iStack_34 + iStack_44;
          iStack_a0 = *param_3;
          iStack_9c = param_3[1];
          if (((param_4[2] + iStack_a0 < iVar12) || (iVar11 < iStack_a0 + *param_4)) ||
             ((iStack_9c + param_4[3] < iVar6 || (iVar9 < iStack_9c + param_4[1])))) {
            if (uStack_64 == 1) {
              iVar15 = *param_5;
              iVar16 = iStack_a0;
              if (iVar15 < iStack_a0) {
                while (iVar19 = iVar16, iVar15 <= iVar19) {
                  iVar16 = *param_3;
                  if (iVar19 == iVar16) {
                    iVar23 = param_3[1];
                  }
                  else if (iVar19 == iVar15) {
                    iVar23 = param_5[1];
                  }
                  else {
                    iVar17 = param_3[1];
                    iVar23 = iVar17;
                    if (*param_5 - iVar16 != 0) {
                      iVar23 = ((iVar19 - iVar16) * (param_5[1] - iVar17)) / (*param_5 - iVar16) +
                               iVar17;
                    }
                    iVar25 = param_5[1];
                    if (iVar17 < iVar25) {
                      if (iVar23 < iVar17) {
                        iVar23 = iVar17;
                      }
                      if (iVar25 < iVar23) {
LAB_004159d6:
                        iVar23 = iVar25;
                      }
                    }
                    else {
                      if (iVar17 < iVar23) {
                        iVar23 = iVar17;
                      }
                      if (iVar23 < iVar25) goto LAB_004159d6;
                    }
                  }
                  iVar25 = iVar23 + param_4[1];
                  iVar17 = iVar23 + param_4[3];
                  if (((iVar12 <= param_4[2] + iVar19) && (iVar19 + *param_4 <= iVar11)) &&
                     ((iVar6 <= iVar17 && (iVar25 <= iVar9)))) goto LAB_00415906;
                  if (param_7 != 0) {
                    if (param_7 == 1) {
                      iVar25 = iVar25 + -1;
                      iVar17 = iVar17 + -1;
                    }
                    else if (param_7 == 2) {
                      iVar25 = iVar25 + 1;
                      iVar17 = iVar17 + 1;
                    }
                    if (((param_4[2] + iVar19 < iVar12) || (iVar11 < iVar19 + *param_4)) ||
                       ((iVar17 < iVar6 || (iVar9 < iVar25)))) {
                      if (piStack_98[iVar16 - iVar19] == 0) {
                        piStack_98[iVar16 - iVar19] = 1;
                      }
                    }
                    else if (piStack_98[iVar16 - iVar19] < 2) {
                      piStack_98[iVar16 - iVar19] = 2;
                    }
                  }
                  iStack_a0 = iVar19;
                  iStack_9c = iVar23;
                  iVar16 = iVar19 + -1;
                }
              }
              else {
                while (iVar19 = iVar16, iVar19 <= iVar15) {
                  iVar16 = *param_3;
                  if (iVar19 == iVar16) {
                    iVar23 = param_3[1];
                  }
                  else if (iVar19 == iVar15) {
                    iVar23 = param_5[1];
                  }
                  else {
                    iVar17 = param_3[1];
                    iVar23 = iVar17;
                    if (*param_5 - iVar16 != 0) {
                      iVar23 = ((iVar19 - iVar16) * (param_5[1] - iVar17)) / (*param_5 - iVar16) +
                               iVar17;
                    }
                    iVar16 = param_5[1];
                    if (iVar17 < iVar16) {
                      if (iVar23 < iVar17) {
                        iVar23 = iVar17;
                      }
                      if (iVar16 < iVar23) {
LAB_00415697:
                        iVar23 = iVar16;
                      }
                    }
                    else {
                      if (iVar17 < iVar23) {
                        iVar23 = iVar17;
                      }
                      if (iVar23 < iVar16) goto LAB_00415697;
                    }
                  }
                  iVar17 = iVar23 + param_4[1];
                  iVar16 = iVar23 + param_4[3];
                  if ((((iVar12 <= param_4[2] + iVar19) && (iVar19 + *param_4 <= iVar11)) &&
                      (iVar6 <= iVar16)) && (iVar17 <= iVar9)) goto LAB_00415906;
                  if (param_7 != 0) {
                    if (param_7 == 1) {
                      iVar17 = iVar17 + -1;
                      iVar16 = iVar16 + -1;
                    }
                    else if (param_7 == 2) {
                      iVar17 = iVar17 + 1;
                      iVar16 = iVar16 + 1;
                    }
                    if (((param_4[2] + iVar19 < iVar12) || (iVar11 < iVar19 + *param_4)) ||
                       ((iVar16 < iVar6 || (iVar9 < iVar17)))) {
                      if (piStack_98[iVar19 - *param_3] == 0) {
                        piStack_98[iVar19 - *param_3] = 1;
                      }
                    }
                    else if (piStack_98[iVar19 - *param_3] < 2) {
                      piStack_98[iVar19 - *param_3] = 2;
                    }
                  }
                  iStack_a0 = iVar19;
                  iStack_9c = iVar23;
                  iVar16 = iVar19 + 1;
                }
              }
            }
            else {
              iVar15 = param_5[1];
              iVar16 = iStack_9c;
              if (iVar15 < iStack_9c) {
                while (iVar19 = iVar16, iVar15 <= iVar19) {
                  iVar16 = param_3[1];
                  if (iVar19 == iVar16) {
                    iVar23 = *param_3;
                  }
                  else if (iVar19 == iVar15) {
                    iVar23 = *param_5;
                  }
                  else {
                    iVar17 = *param_3;
                    iVar23 = iVar17;
                    if (param_5[1] - iVar16 != 0) {
                      iVar23 = ((iVar19 - iVar16) * (*param_5 - iVar17)) / (param_5[1] - iVar16) +
                               iVar17;
                    }
                    iVar25 = *param_5;
                    if (iVar17 < iVar25) {
                      if (iVar23 < iVar17) {
                        iVar23 = iVar17;
                      }
                      if (iVar25 < iVar23) {
LAB_00415cac:
                        iVar23 = iVar25;
                      }
                    }
                    else {
                      if (iVar17 < iVar23) {
                        iVar23 = iVar17;
                      }
                      if (iVar23 < iVar25) goto LAB_00415cac;
                    }
                  }
                  iVar25 = iVar23 + *param_4;
                  iVar17 = param_4[2] + iVar23;
                  if (((iVar12 <= iVar17) && (iVar25 <= iVar11)) &&
                     ((iVar6 <= iVar19 + param_4[3] && (iVar19 + param_4[1] <= iVar9)))) {
                    uVar13 = param_6[1] - param_3[1];
                    uVar20 = (int)uVar13 >> 0x1f;
                    uVar14 = iStack_9c - param_3[1];
                    uVar21 = (int)uVar14 >> 0x1f;
                    if (((int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20)) ||
                       (uVar13 = iStack_a0 - *param_3, uVar20 = (int)uVar13 >> 0x1f,
                       uVar14 = *param_6 - *param_3, uVar21 = (int)uVar14 >> 0x1f,
                       (int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21))) {
                      param_6[1] = iStack_9c;
                      *param_6 = iStack_a0;
                    }
                    break;
                  }
                  if (param_7 != 0) {
                    if (param_7 == 3) {
                      iVar25 = iVar25 + -1;
                      iVar17 = iVar17 + -1;
                    }
                    else if (param_7 == 4) {
                      iVar25 = iVar25 + 1;
                      iVar17 = iVar17 + 1;
                    }
                    if ((((iVar17 < iVar12) || (iVar11 < iVar25)) || (iVar19 + param_4[3] < iVar6))
                       || (iVar9 < iVar19 + param_4[1])) {
                      if (piStack_98[iVar16 - iVar19] == 0) {
                        piStack_98[iVar16 - iVar19] = 1;
                      }
                    }
                    else if (piStack_98[iVar16 - iVar19] < 2) {
                      piStack_98[iVar16 - iVar19] = 2;
                    }
                  }
                  iStack_a0 = iVar23;
                  iStack_9c = iVar19;
                  iVar16 = iVar19 + -1;
                }
              }
              else {
                while (iVar19 = iVar16, iVar19 <= iVar15) {
                  iVar16 = param_3[1];
                  if (iVar19 == iVar16) {
                    iVar23 = *param_3;
                  }
                  else if (iVar19 == iVar15) {
                    iVar23 = *param_5;
                  }
                  else {
                    iVar17 = *param_3;
                    iVar23 = iVar17;
                    if (param_5[1] - iVar16 != 0) {
                      iVar23 = ((iVar19 - iVar16) * (*param_5 - iVar17)) / (param_5[1] - iVar16) +
                               iVar17;
                    }
                    iVar16 = *param_5;
                    if (iVar17 < iVar16) {
                      if (iVar23 < iVar17) {
                        iVar23 = iVar17;
                      }
                      if (iVar16 < iVar23) {
LAB_00415b0d:
                        iVar23 = iVar16;
                      }
                    }
                    else {
                      if (iVar17 < iVar23) {
                        iVar23 = iVar17;
                      }
                      if (iVar23 < iVar16) goto LAB_00415b0d;
                    }
                  }
                  iVar17 = iVar23 + *param_4;
                  iVar16 = param_4[2] + iVar23;
                  if (((iVar12 <= iVar16) && (iVar17 <= iVar11)) &&
                     ((iVar6 <= iVar19 + param_4[3] && (iVar19 + param_4[1] <= iVar9)))) {
                    uVar13 = param_6[1] - param_3[1];
                    uVar20 = (int)uVar13 >> 0x1f;
                    uVar14 = iStack_9c - param_3[1];
                    uVar21 = (int)uVar14 >> 0x1f;
                    if (((int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20)) ||
                       (uVar13 = iStack_a0 - *param_3, uVar20 = (int)uVar13 >> 0x1f,
                       uVar14 = *param_6 - *param_3, uVar21 = (int)uVar14 >> 0x1f,
                       (int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21))) {
                      param_6[1] = iStack_9c;
                      *param_6 = iStack_a0;
                    }
                    break;
                  }
                  if (param_7 != 0) {
                    if (param_7 == 3) {
                      iVar17 = iVar17 + -1;
                      iVar16 = iVar16 + -1;
                    }
                    else if (param_7 == 4) {
                      iVar17 = iVar17 + 1;
                      iVar16 = iVar16 + 1;
                    }
                    if ((((iVar16 < iVar12) || (iVar11 < iVar17)) || (iVar19 + param_4[3] < iVar6))
                       || (iVar9 < iVar19 + param_4[1])) {
                      if (piStack_98[iVar19 - param_3[1]] == 0) {
                        piStack_98[iVar19 - param_3[1]] = 1;
                      }
                    }
                    else if (piStack_98[iVar19 - param_3[1]] < 2) {
                      piStack_98[iVar19 - param_3[1]] = 2;
                    }
                  }
                  iStack_a0 = iVar23;
                  iStack_9c = iVar19;
                  iVar16 = iVar19 + 1;
                }
              }
            }
          }
        }
        else {
LAB_0041547b:
          lVar7 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar5);
          this_02 = (void *)FUN_00427aa0(param_1);
          puVar8 = (undefined4 *)FUN_004299e0(this_02,lVar7);
          if (puVar8 != (undefined4 *)0x0) {
            iVar9 = FUN_00427b20(puVar8);
            if (((iVar9 == 0) && ((param_9 & 2) != 0)) &&
               ((param_10 != 1 || (iVar9 = FUN_00434cd0((int)puVar8), *(int *)(iVar9 + 0xf8) != 1)))
               ) {
              bVar1 = true;
            }
            iVar9 = FUN_00427b20(puVar8);
            if ((iVar9 == 1) && ((param_9 & 4) != 0)) {
              bVar1 = true;
            }
            iVar9 = FUN_00427b20(puVar8);
            if ((iVar9 == 2) && ((param_9 & 8) != 0)) {
              bVar1 = true;
            }
            iVar9 = FUN_00427b20(puVar8);
            if ((iVar9 == 4) && ((param_9 & 0x10) != 0)) {
              bVar1 = true;
            }
            iVar9 = FUN_00427b20(puVar8);
            if ((iVar9 == 3) && ((param_9 & 0x20) != 0)) {
              bVar1 = true;
            }
            iVar9 = FUN_00427b20(puVar8);
            if (((iVar9 == 5) && ((param_9 & 0x40) != 0)) || (bVar1)) goto LAB_00415572;
          }
        }
      }
      goto LAB_00415770;
    }
  }
LAB_00415785:
  this = pRStack_4c;
  RKC_RPGSCRN_GROUNDBLOCK::GetGroundRect(pRStack_4c,&tStack_60,(RKC_RPGSCRN_RECT *)&iStack_1c,1,0);
  RKC_RPGSCRN_GROUNDBLOCK::GetBaseMag(this,&iStack_2c,&iStack_30);
  pRStack_4c = (RKC_RPGSCRN_GROUNDBLOCK *)RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudge(this);
  RKC_RPGSCRN_GROUNDBLOCK::GetJudgeOffset(this,&iStack_20,&iStack_28);
  for (; iStack_18 <= iStack_10; iStack_18 = iStack_18 + 1) {
    iVar9 = iStack_1c;
    if (iStack_1c <= iStack_14) {
LAB_00415814:
      if ((((*(short **)((int)pRStack_4c + (iStack_18 - iStack_28) * 4))[iVar9 - iStack_20] & 1U) !=
           0) && ((param_10 != 1 ||
                  (((*(short **)((int)pRStack_4c + (iStack_18 - iStack_28) * 4))[iVar9 - iStack_20]
                   & 2U) == 0)))) {
        iVar12 = iVar9 * iStack_2c;
        iVar6 = iStack_30 * iStack_18;
        iVar11 = (iVar9 + 1) * iStack_2c + -1;
        iVar15 = (iStack_18 + 1) * iStack_30 + -1;
        iStack_a0 = *param_3;
        iStack_9c = param_3[1];
        if ((param_4[2] + iStack_a0 < iVar12) ||
           (((iVar11 < iStack_a0 + *param_4 || (iStack_9c + param_4[3] < iVar6)) ||
            (iVar15 < iStack_9c + param_4[1])))) {
          if (uStack_64 == 1) {
            iVar16 = *param_5;
            iVar19 = iStack_a0;
            if (iVar16 < iStack_a0) {
              while (iVar17 = iVar19, iVar16 <= iVar17) {
                iVar19 = *param_3;
                if (iVar17 == iVar19) {
                  iVar25 = param_3[1];
                }
                else if (iVar17 == iVar16) {
                  iVar25 = param_5[1];
                }
                else {
                  iVar23 = param_3[1];
                  iVar25 = iVar23;
                  if (*param_5 - iVar19 != 0) {
                    iVar25 = ((iVar17 - iVar19) * (param_5[1] - iVar23)) / (*param_5 - iVar19) +
                             iVar23;
                  }
                  iVar24 = param_5[1];
                  if (iVar23 < iVar24) {
                    if (iVar25 < iVar23) {
                      iVar25 = iVar23;
                    }
                    if (iVar24 < iVar25) {
LAB_00416040:
                      iVar25 = iVar24;
                    }
                  }
                  else {
                    if (iVar23 < iVar25) {
                      iVar25 = iVar23;
                    }
                    if (iVar25 < iVar24) goto LAB_00416040;
                  }
                }
                iVar24 = iVar25 + param_4[1];
                iVar23 = iVar25 + param_4[3];
                if (((iVar12 <= param_4[2] + iVar17) && (iVar17 + *param_4 <= iVar11)) &&
                   ((iVar6 <= iVar23 && (iVar24 <= iVar15)))) goto LAB_00415f77;
                if (param_7 != 0) {
                  if (param_7 == 1) {
                    iVar24 = iVar24 + -1;
                    iVar23 = iVar23 + -1;
                  }
                  else if (param_7 == 2) {
                    iVar24 = iVar24 + 1;
                    iVar23 = iVar23 + 1;
                  }
                  if (((param_4[2] + iVar17 < iVar12) || (iVar11 < iVar17 + *param_4)) ||
                     ((iVar23 < iVar6 || (iVar15 < iVar24)))) {
                    if (piStack_98[iVar19 - iVar17] == 0) {
                      piStack_98[iVar19 - iVar17] = 1;
                    }
                  }
                  else if (piStack_98[iVar19 - iVar17] < 2) {
                    piStack_98[iVar19 - iVar17] = 2;
                  }
                }
                iStack_a0 = iVar17;
                iStack_9c = iVar25;
                iVar19 = iVar17 + -1;
              }
            }
            else {
              while (iVar17 = iVar19, iVar17 <= iVar16) {
                iVar19 = *param_3;
                if (iVar17 == iVar19) {
                  iVar25 = param_3[1];
                }
                else if (iVar17 == iVar16) {
                  iVar25 = param_5[1];
                }
                else {
                  iVar23 = param_3[1];
                  iVar25 = iVar23;
                  if (*param_5 - iVar19 != 0) {
                    iVar25 = ((iVar17 - iVar19) * (param_5[1] - iVar23)) / (*param_5 - iVar19) +
                             iVar23;
                  }
                  iVar19 = param_5[1];
                  if (iVar23 < iVar19) {
                    if (iVar25 < iVar23) {
                      iVar25 = iVar23;
                    }
                    if (iVar19 < iVar25) {
LAB_00415e3c:
                      iVar25 = iVar19;
                    }
                  }
                  else {
                    if (iVar23 < iVar25) {
                      iVar25 = iVar23;
                    }
                    if (iVar25 < iVar19) goto LAB_00415e3c;
                  }
                }
                iVar23 = iVar25 + param_4[1];
                iVar19 = iVar25 + param_4[3];
                if ((((iVar12 <= param_4[2] + iVar17) && (iVar17 + *param_4 <= iVar11)) &&
                    (iVar6 <= iVar19)) && (iVar23 <= iVar15)) goto LAB_00415f77;
                if (param_7 != 0) {
                  if (param_7 == 1) {
                    iVar23 = iVar23 + -1;
                    iVar19 = iVar19 + -1;
                  }
                  else if (param_7 == 2) {
                    iVar23 = iVar23 + 1;
                    iVar19 = iVar19 + 1;
                  }
                  if (((param_4[2] + iVar17 < iVar12) || (iVar11 < iVar17 + *param_4)) ||
                     ((iVar19 < iVar6 || (iVar15 < iVar23)))) {
                    if (piStack_98[iVar17 - *param_3] == 0) {
                      piStack_98[iVar17 - *param_3] = 1;
                    }
                  }
                  else if (piStack_98[iVar17 - *param_3] < 2) {
                    piStack_98[iVar17 - *param_3] = 2;
                  }
                }
                iStack_a0 = iVar17;
                iStack_9c = iVar25;
                iVar19 = iVar17 + 1;
              }
            }
          }
          else {
            iVar16 = param_5[1];
            iVar19 = iStack_9c;
            if (iVar16 < iStack_9c) {
              while (iVar17 = iVar19, iVar16 <= iVar17) {
                iVar19 = param_3[1];
                if (iVar17 == iVar19) {
                  iVar25 = *param_3;
                }
                else if (iVar17 == iVar16) {
                  iVar25 = *param_5;
                }
                else {
                  iVar23 = *param_3;
                  iVar25 = iVar23;
                  if (param_5[1] - iVar19 != 0) {
                    iVar25 = ((iVar17 - iVar19) * (*param_5 - iVar23)) / (param_5[1] - iVar19) +
                             iVar23;
                  }
                  iVar24 = *param_5;
                  if (iVar23 < iVar24) {
                    if (iVar25 < iVar23) {
                      iVar25 = iVar23;
                    }
                    if (iVar24 < iVar25) {
LAB_00416305:
                      iVar25 = iVar24;
                    }
                  }
                  else {
                    if (iVar23 < iVar25) {
                      iVar25 = iVar23;
                    }
                    if (iVar25 < iVar24) goto LAB_00416305;
                  }
                }
                iVar24 = iVar25 + *param_4;
                iVar23 = param_4[2] + iVar25;
                if (((iVar12 <= iVar23) && (iVar24 <= iVar11)) &&
                   ((iVar6 <= iVar17 + param_4[3] && (iVar17 + param_4[1] <= iVar15)))) {
                  uVar13 = param_6[1] - param_3[1];
                  uVar20 = (int)uVar13 >> 0x1f;
                  uVar14 = iStack_9c - param_3[1];
                  uVar21 = (int)uVar14 >> 0x1f;
                  if (((int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20)) ||
                     (uVar13 = iStack_a0 - *param_3, uVar20 = (int)uVar13 >> 0x1f,
                     uVar14 = *param_6 - *param_3, uVar21 = (int)uVar14 >> 0x1f,
                     (int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21))) {
                    param_6[1] = iStack_9c;
                    *param_6 = iStack_a0;
                  }
                  break;
                }
                if (param_7 != 0) {
                  if (param_7 == 3) {
                    iVar24 = iVar24 + -1;
                    iVar23 = iVar23 + -1;
                  }
                  else if (param_7 == 4) {
                    iVar24 = iVar24 + 1;
                    iVar23 = iVar23 + 1;
                  }
                  if ((((iVar23 < iVar12) || (iVar11 < iVar24)) || (iVar17 + param_4[3] < iVar6)) ||
                     (iVar15 < iVar17 + param_4[1])) {
                    if (piStack_98[iVar19 - iVar17] == 0) {
                      piStack_98[iVar19 - iVar17] = 1;
                    }
                  }
                  else if (piStack_98[iVar19 - iVar17] < 2) {
                    piStack_98[iVar19 - iVar17] = 2;
                  }
                }
                iStack_a0 = iVar25;
                iStack_9c = iVar17;
                iVar19 = iVar17 + -1;
              }
            }
            else {
              while (iVar17 = iVar19, iVar17 <= iVar16) {
                iVar19 = param_3[1];
                if (iVar17 == iVar19) {
                  iVar25 = *param_3;
                }
                else if (iVar17 == iVar16) {
                  iVar25 = *param_5;
                }
                else {
                  iVar23 = *param_3;
                  iVar25 = iVar23;
                  if (param_5[1] - iVar19 != 0) {
                    iVar25 = ((iVar17 - iVar19) * (*param_5 - iVar23)) / (param_5[1] - iVar19) +
                             iVar23;
                  }
                  iVar19 = *param_5;
                  if (iVar23 < iVar19) {
                    if (iVar25 < iVar23) {
                      iVar25 = iVar23;
                    }
                    if (iVar19 < iVar25) {
LAB_00416172:
                      iVar25 = iVar19;
                    }
                  }
                  else {
                    if (iVar23 < iVar25) {
                      iVar25 = iVar23;
                    }
                    if (iVar25 < iVar19) goto LAB_00416172;
                  }
                }
                iVar23 = iVar25 + *param_4;
                iVar19 = param_4[2] + iVar25;
                if (((iVar12 <= iVar19) && (iVar23 <= iVar11)) &&
                   ((iVar6 <= iVar17 + param_4[3] && (iVar17 + param_4[1] <= iVar15)))) {
                  uVar13 = param_6[1] - param_3[1];
                  uVar20 = (int)uVar13 >> 0x1f;
                  uVar14 = iStack_9c - param_3[1];
                  uVar21 = (int)uVar14 >> 0x1f;
                  if (((int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20)) ||
                     (uVar13 = iStack_a0 - *param_3, uVar20 = (int)uVar13 >> 0x1f,
                     uVar14 = *param_6 - *param_3, uVar21 = (int)uVar14 >> 0x1f,
                     (int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21))) {
                    param_6[1] = iStack_9c;
                    *param_6 = iStack_a0;
                  }
                  break;
                }
                if (param_7 != 0) {
                  if (param_7 == 3) {
                    iVar23 = iVar23 + -1;
                    iVar19 = iVar19 + -1;
                  }
                  else if (param_7 == 4) {
                    iVar23 = iVar23 + 1;
                    iVar19 = iVar19 + 1;
                  }
                  if ((((iVar19 < iVar12) || (iVar11 < iVar23)) || (iVar17 + param_4[3] < iVar6)) ||
                     (iVar15 < iVar17 + param_4[1])) {
                    if (piStack_98[iVar17 - param_3[1]] == 0) {
                      piStack_98[iVar17 - param_3[1]] = 1;
                    }
                  }
                  else if (piStack_98[iVar17 - param_3[1]] < 2) {
                    piStack_98[iVar17 - param_3[1]] = 2;
                  }
                }
                iStack_a0 = iVar25;
                iStack_9c = iVar17;
                iVar19 = iVar17 + 1;
              }
            }
          }
        }
      }
      goto LAB_00415f10;
    }
LAB_00415f2c:
  }
  if (param_7 != 0) {
    iVar9 = 0;
    piVar22 = piStack_98;
    if (0 < iStack_50) {
      do {
        if (*piVar22 != 0) {
          if (uStack_64 != 1) {
            iVar9 = param_3[1];
            if (param_5[1] < iVar9) {
              iVar6 = 0;
              piVar22 = piStack_98;
              goto LAB_004164f1;
            }
            iVar12 = 0;
            piVar22 = piStack_98;
            goto LAB_004164c5;
          }
          iVar9 = *param_3;
          if (*param_5 < iVar9) {
            iVar12 = 0;
            piVar22 = piStack_98;
            goto LAB_00416475;
          }
          iVar12 = 0;
          piVar22 = piStack_98;
          goto LAB_0041644b;
        }
        iVar9 = iVar9 + 1;
        piVar22 = piVar22 + 1;
      } while (iVar9 < iStack_50);
    }
    if (param_7 == 1) {
      param_6[1] = param_6[1] + -1;
    }
    else if (param_7 == 2) {
      iVar9 = param_6[1];
LAB_0041652b:
      param_6[1] = iVar9 + 1;
    }
    else {
      if (param_7 == 3) {
        iVar12 = *param_6 + -1;
      }
      else {
        if (param_7 != 4) goto LAB_00416548;
        iVar12 = *param_6;
LAB_00416544:
        iVar12 = iVar12 + 1;
      }
LAB_00416545:
      *param_6 = iVar12;
    }
  }
  goto LAB_00416548;
LAB_00415906:
  uVar13 = iStack_a0 - *param_3;
  uVar20 = (int)uVar13 >> 0x1f;
  uVar14 = *param_6 - *param_3;
  uVar21 = (int)uVar14 >> 0x1f;
  if (((int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21)) ||
     (uVar13 = param_6[1] - param_3[1], uVar20 = (int)uVar13 >> 0x1f,
     uVar14 = iStack_9c - param_3[1], uVar21 = (int)uVar14 >> 0x1f,
     (int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20))) {
    *param_6 = iStack_a0;
    param_6[1] = iStack_9c;
  }
LAB_00415770:
  iStack_78 = iStack_78 + 1;
  if (lVar3 <= iStack_78) goto LAB_00415785;
  goto LAB_004153ec;
LAB_00415f77:
  uVar13 = iStack_a0 - *param_3;
  uVar20 = (int)uVar13 >> 0x1f;
  uVar14 = *param_6 - *param_3;
  uVar21 = (int)uVar14 >> 0x1f;
  if (((int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar14 ^ uVar21) - uVar21)) ||
     (uVar13 = param_6[1] - param_3[1], uVar20 = (int)uVar13 >> 0x1f,
     uVar14 = iStack_9c - param_3[1], uVar21 = (int)uVar14 >> 0x1f,
     (int)((uVar14 ^ uVar21) - uVar21) < (int)((uVar13 ^ uVar20) - uVar20))) {
    *param_6 = iStack_a0;
    param_6[1] = iStack_9c;
  }
LAB_00415f10:
  iVar9 = iVar9 + 1;
  if (iStack_14 < iVar9) goto LAB_00415f2c;
  goto LAB_00415814;
  while( true ) {
    iVar12 = iVar12 + 1;
    piVar22 = piVar22 + 1;
    if (iStack_50 <= iVar12) break;
LAB_0041644b:
    if (*piVar22 == 1) {
      if (iVar12 + iVar9 <= *param_6) {
        *param_6 = iVar12 + iVar9;
        goto LAB_00416499;
      }
      break;
    }
  }
  goto LAB_00416548;
LAB_00416475:
  if (*piVar22 != 1) goto code_r0x0041647a;
  if (*param_6 <= iVar9 - iVar12) {
    *param_6 = iVar9 - iVar12;
LAB_00416499:
    iVar9 = param_6[1];
    if (param_7 == 1) {
      param_6[1] = iVar9 + -1;
      goto LAB_00416548;
    }
    goto LAB_0041652b;
  }
  goto LAB_00416548;
code_r0x0041647a:
  iVar12 = iVar12 + 1;
  piVar22 = piVar22 + 1;
  if (iStack_50 <= iVar12) goto LAB_00416548;
  goto LAB_00416475;
  while( true ) {
    iVar12 = iVar12 + 1;
    piVar22 = piVar22 + 1;
    if (iStack_50 <= iVar12) break;
LAB_004164c5:
    if (*piVar22 == 1) {
      if (iVar12 + iVar9 <= param_6[1]) {
        param_6[1] = iVar12 + iVar9;
        iVar12 = *param_6;
        if (param_7 != 3) goto LAB_00416544;
        iVar12 = iVar12 + -1;
        goto LAB_00416545;
      }
      break;
    }
  }
  goto LAB_00416548;
  while( true ) {
    iVar6 = iVar6 + 1;
    piVar22 = piVar22 + 1;
    if (iStack_50 <= iVar6) break;
LAB_004164f1:
    if (*piVar22 == 1) {
      if (param_6[1] <= iVar9 - iVar6) {
        iVar12 = *param_6;
        param_6[1] = iVar9 - iVar6;
        if (param_7 != 3) goto LAB_00416544;
        iVar12 = iVar12 + -1;
        goto LAB_00416545;
      }
      break;
    }
  }
LAB_00416548:
  if (piStack_98 != (int *)0x0) {
    GlobalFree(piStack_98);
  }
  if (*param_6 == *param_5) {
    uStack_4 = 0xffffffff;
    if (param_6[1] == param_5[1]) {
      RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_6c);
      uVar10 = 0;
    }
    else {
      RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_6c);
      uVar10 = 1;
    }
  }
  else {
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_6c);
    uVar10 = 1;
  }
  ExceptionList = pvStack_c;
  return uVar10;
}



/*
 * Function: FUN_004165d0
 * Address: 004165d0
 */

undefined4 __thiscall
FUN_004165d0(void *this,RKC_RPGSCRN_OBJECTDISP *param_1,int param_2,int param_3)

{
  int iVar1;
  RKC_RPGSCRN_OBJECTBLOCK *this_00;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar2;
  RKC_RPGSCRN_OBJECT *pRVar3;
  long lVar4;
  uint uVar5;
  undefined4 *puVar6;
  RKC_RPGSCRN_OBJECTDISPCELL *this_01;
  int iVar7;
  int iVar8;
  int iVar9;
  code *pcVar10;
  longlong lVar11;
  RKC_RPGSCRN_OBJECTDISP *pRVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  RKC_RPGSCRN_OBJECT *pRStack_98;
  int iStack_94;
  int iStack_90;
  RKC_RPGSCRN_OBJECTDISPCELL *pRStack_8c;
  int iStack_88;
  int iStack_80;
  int iStack_7c;
  int iStack_78;
  long lStack_74;
  int iStack_70;
  int iStack_6c;
  int iStack_68;
  RKC_RPGSCRN_OBJECTDISPCELL *pRStack_64;
  RKC_RPGSCRN_OBJECTDISP local_60 [8];
  void *pvStack_58;
  void *local_54;
  int iStack_50;
  int iStack_4c;
  int iStack_44;
  int local_40 [11];
  RKC_RPGSCRN_OBJECTDISP local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  uint local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471a42;
  pvStack_c = ExceptionList;
  local_40[6] = 0;
  local_40[7] = 0xc;
  local_40[8] = 0x10;
  local_40[9] = 0x18;
  local_40[10] = 0x30;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_60);
  local_4 = 0;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_14);
  local_4 = CONCAT31(local_4._1_3_,1);
  local_40[0] = 1;
  local_40[1] = 3;
  local_40[2] = 0;
  local_40[3] = 2;
  local_40[4] = 0xffffffff;
  local_40[5] = 4;
  iVar1 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  local_54 = (void *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar9 = local_40[*(int *)((int)this + 0xa940) + 6];
  RKC_RPGSCRN_OBJECTDISP::Release(param_1);
  RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_60,(RKC_RPGSCRN *)DAT_00482d14);
  iVar15 = 0;
  iVar14 = 1;
  iVar13 = 1;
  iVar1 = iVar9 + param_3;
  iVar7 = iVar9 + param_2;
  iVar8 = param_3 - iVar9;
  iVar9 = param_2 - iVar9;
  pRVar12 = local_60;
  this_00 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403540(DAT_00482d1c);
  RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
            (this_00,pRVar12,iVar9,iVar8,iVar7,iVar1,iVar13,iVar14,iVar15);
  RKC_RPGSCRN_OBJECTDISP::SortDisplayObject(local_60);
  RKC_RPGSCRN::CalcWorldPos((RKC_RPGSCRN *)DAT_00482d14,param_2,param_3,&iStack_78,&iStack_7c);
  iStack_94 = 0;
  iVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_60);
  pvStack_58 = (void *)0x0;
  pcVar10 = Get_exref;
  lStack_74 = iVar1;
  do {
    iStack_50 = iStack_94;
    pRStack_98 = (RKC_RPGSCRN_OBJECT *)0x0;
    if (0 < iVar1) {
      do {
        pRVar2 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(pRStack_98);
        if (pRVar2 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
          pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar2);
          lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar3);
          if (((((3 < lVar4) || (lVar4 < 0)) &&
               (uVar5 = FUN_00417070(this,lVar4,(void *)0x80000000), uVar5 != 0)) &&
              ((puVar6 = (undefined4 *)FUN_004299e0(local_54,lVar4), puVar6 != (undefined4 *)0x0 &&
               (iVar1 = FUN_00427b20(puVar6), local_40[iVar1] != -1)))) &&
             (iVar1 = FUN_00427b20(puVar6),
             *(void **)((int)this + local_40[iVar1] * 4 + 0xa948) == pvStack_58)) {
            this_01 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,iStack_94);
            pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar2);
            RKC_RPGSCRN_OBJECTDISPCELL::Set(this_01,pRVar3);
            iStack_94 = iStack_94 + 1;
          }
        }
        pRStack_98 = pRStack_98 + 1;
        iVar1 = lStack_74;
      } while ((int)pRStack_98 < lStack_74);
    }
    iStack_90 = iStack_94 - iStack_50;
    if (iStack_90 != 0) {
      pRStack_8c = (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
      iVar1 = iStack_50;
      if (0 < iStack_90) {
        do {
          pRVar2 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(iVar1);
          pRStack_98 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar2);
          iVar7 = RKC_RPGSCRN_OBJECT::CheckDisplayObject(pRStack_98,param_2,param_3,1);
          if (iVar7 == 1) {
            RKC_RPGSCRN_OBJECTDISP::Delete(param_1,iVar1);
            pRVar3 = pRStack_98;
            pRVar2 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,iStack_94 + -1);
            RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar2,pRVar3);
            iStack_90 = iStack_90 + -1;
            pRStack_8c = pRStack_8c + -1;
            iVar1 = iVar1 + -1;
          }
          pRStack_8c = pRStack_8c + 1;
          iVar1 = iVar1 + 1;
        } while ((int)pRStack_8c < iStack_90);
      }
      iStack_90 = iStack_90 + -1;
      iVar1 = lStack_74;
      iStack_88 = iStack_90;
      if (0 < iStack_90) {
        do {
          if (0 < iStack_90) {
            iStack_70 = -1 - iStack_50;
            iVar1 = iStack_50 + 1;
            do {
              pRVar2 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(iVar1 + -1);
              pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar2);
              lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar3);
              iVar7 = FUN_004299e0(pvStack_58,lVar4);
              iVar7 = FUN_00434cd0(iVar7);
              iStack_70 = *(int *)(iVar7 + 0x18);
              iStack_6c = *(int *)(iVar7 + 0x1c);
              pRStack_64 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(iVar1);
              pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRStack_64);
              lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar3);
              iVar7 = FUN_004299e0(local_54,lVar4);
              iVar9 = FUN_00434cd0(iVar7);
              iVar7 = *(int *)(iVar9 + 0x18);
              iStack_44 = *(int *)(iVar9 + 0x1c);
              lVar11 = FUN_00414310(iStack_6c,iStack_68,iStack_78,iStack_7c);
              iStack_4c = (int)lVar11;
              lVar11 = FUN_00414310(iVar7,iStack_44,iStack_78,iStack_7c);
              if (iStack_4c < (int)lVar11) {
                RKC_RPGSCRN_OBJECTDISPCELL::Set(pRStack_8c,pRVar3);
                RKC_RPGSCRN_OBJECTDISPCELL::Set(pRStack_64,pRStack_98);
              }
              iVar1 = iVar1 + 1;
              pcVar10 = Get_exref;
            } while (iStack_70 + iVar1 < iStack_90);
          }
          iStack_90 = iStack_90 + -1;
          iStack_88 = iStack_88 + -1;
          iVar1 = lStack_74;
        } while (iStack_88 != 0);
      }
    }
    pvStack_58 = (void *)((int)pvStack_58 + 1);
  } while ((int)pvStack_58 < 5);
  iStack_94 = 0;
  pRStack_98 = (RKC_RPGSCRN_OBJECT *)0x0;
  iVar7 = 0;
  if (0 < iVar1) {
    do {
      pRVar2 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(pRStack_98);
      if (pRVar2 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
        pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar2);
        lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar3);
        if ((lVar4 < 4) && (-1 < lVar4)) {
          pRVar2 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,iStack_94);
          RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar2,pRVar3);
          iStack_94 = iStack_94 + 1;
        }
      }
      pRStack_98 = pRStack_98 + 1;
      iVar7 = iStack_94;
    } while ((int)pRStack_98 < lStack_74);
  }
  if ((iVar7 != 0) && (iVar7 = iVar7 + -1, iStack_80 = iVar7, 0 < iVar7)) {
    do {
      iVar1 = 0;
      if (0 < iVar7) {
        do {
          pRVar2 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(iVar1);
          pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar2);
          lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar3);
          iVar9 = FUN_00434c90(DAT_0048ce0c,lVar4);
          iStack_70 = *(undefined4 *)(iVar9 + 0x2e0);
          iStack_6c = *(int *)(iVar9 + 0x2e4);
          iStack_50 = iVar1 + 1;
          pRStack_64 = (RKC_RPGSCRN_OBJECTDISPCELL *)(*pcVar10)(iStack_50);
          pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRStack_64);
          lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar3);
          iVar1 = FUN_00434c90(DAT_0048ce0c,lVar4);
          iStack_44 = *(int *)(iVar1 + 0x2e4);
          iVar1 = *(int *)(iVar1 + 0x2e0);
          lVar11 = FUN_00414310(iStack_6c,iStack_68,iStack_78,iStack_7c);
          iStack_70 = (int)lVar11;
          lVar11 = FUN_00414310(iVar1,iStack_44,iStack_78,iStack_7c);
          if (iStack_70 < (int)lVar11) {
            RKC_RPGSCRN_OBJECTDISPCELL::Set(pRStack_8c,pRVar3);
            RKC_RPGSCRN_OBJECTDISPCELL::Set(pRStack_64,pRStack_98);
          }
          iVar1 = iStack_4c;
        } while (iStack_4c < iVar7);
      }
      iVar7 = iVar7 + -1;
      iStack_80 = iStack_80 + -1;
    } while (iStack_80 != 0);
  }
  local_4 = local_4 & 0xffffff00;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_14);
  local_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_60);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00416bb0
 * Address: 00416bb0
 */

void __thiscall FUN_00416bb0(void *this,long param_1,RKC_RPGSCRN_OBJECTDISP *param_2)

{
  int iVar1;
  int iVar2;
  long lVar3;
  int iVar4;
  int iVar5;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  uint uVar6;
  int iVar7;
  undefined4 *puVar8;
  int iVar9;
  short sVar10;
  short sVar11;
  int iVar12;
  void *pvVar13;
  RKC_RPGSCRN_OBJECTDISP local_34 [8];
  uint auStack_2c [3];
  int local_20 [5];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471a59;
  pvStack_c = ExceptionList;
  local_20[0] = 0;
  local_20[1] = 0xc;
  local_20[2] = 0x10;
  local_20[3] = 0x18;
  local_20[4] = 0x30;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_34);
  uStack_4 = 0;
  if (((DAT_0048d778 != -1) || (iVar1 = FUN_004663a0(DAT_0048ce10), iVar1 == 1)) ||
     (DAT_0048d7e8 != 0)) {
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_34);
    ExceptionList = pvStack_c;
    return;
  }
  if (*(int *)((int)this + 0xa944) != 1) goto LAB_00416f7f;
  iVar1 = local_20[*(int *)((int)this + 0xa940)];
  FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (iVar1 < 1) goto LAB_00416f7f;
  iVar2 = FUN_00434cb0(DAT_0048ce0c);
  iVar12 = **(int **)(iVar2 + 0x3fc);
  iVar2 = FUN_00434cb0(DAT_0048ce0c);
  iVar2 = *(int *)(*(int *)(iVar2 + 0x3fc) + 4);
  FUN_00416fb0(auStack_2c);
  if (auStack_2c[0] == 1) {
    if (iVar12 < 0x140) goto LAB_00416cf4;
  }
  else if (auStack_2c[0] == 0x10) {
    if (0x13f < iVar12) goto LAB_00416cf4;
  }
  else if (auStack_2c[0] != 0x11) {
LAB_00416cf4:
    if (iVar2 < 0x198) {
      lVar3 = RKC_RPGSCRN_OBJECTDISP::GetCount(param_2);
      iVar4 = (-(uint)(lVar3 != 0) & 200) + 100;
      iVar5 = RKC_RPGSCRN_OBJECTDISP::GetCount(param_2);
      iVar9 = param_1;
      if (iVar5 != 0) {
        do {
          while( true ) {
            do {
              do {
                do {
                  iVar5 = iVar5 + -1;
                  if (iVar5 < 0) goto LAB_00416e21;
                  this_00 = RKC_RPGSCRN_OBJECTDISP::Get(param_2,iVar5);
                } while (this_00 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0);
                this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
                pvVar13 = (void *)0x80000000;
                lVar3 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
                uVar6 = FUN_00417070(&DAT_00482df4,lVar3,pvVar13);
              } while (uVar6 == 0);
              lVar3 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
              iVar7 = FUN_00434cb0(*(int *)((int)this + 0xa018));
              pvVar13 = (void *)FUN_00427aa0(*(int *)(iVar7 + 0x458));
              puVar8 = (undefined4 *)FUN_004299e0(pvVar13,lVar3);
            } while (puVar8 == (undefined4 *)0x0);
            iVar9 = FUN_00427b20(puVar8);
            iVar7 = FUN_00427b20(puVar8);
            if (iVar7 != 5) break;
            iVar7 = FUN_00434cb0(*(int *)((int)this + 0xa018));
            if (*(int *)(*(int *)(iVar7 + 0x3f8) + 0x158) == 1) goto LAB_00416e21;
          }
          iVar7 = FUN_00427b20(puVar8);
          if (iVar7 == 3) goto LAB_00416e21;
          iVar7 = FUN_00427b20(puVar8);
        } while (iVar7 == 4);
        iVar5 = FUN_00427b20(puVar8);
        if ((iVar5 == 0) && (iVar5 = FUN_00434cd0((int)puVar8), *(int *)(iVar5 + 0xec) != -1)) {
          iVar9 = 2;
        }
      }
LAB_00416e21:
      sVar10 = 0xff;
      sVar11 = 0xff;
      param_2._0_2_ = 0xff;
      if (iVar9 == 0) {
        param_2._0_2_ = 0xff;
      }
      else if (iVar9 == 1) {
        sVar11 = 0xff;
        param_2._0_2_ = 0xff;
      }
      else {
        if (iVar9 == 2) {
          sVar11 = 0;
          sVar10 = 0xff;
        }
        else {
          if (iVar9 != 3) goto LAB_00416e5e;
          sVar10 = 0xe0;
          sVar11 = 0xe0;
        }
        param_2._0_2_ = 0;
      }
LAB_00416e5e:
      iVar9 = iVar2 - iVar1;
      iVar5 = iVar1 + iVar12;
      iVar12 = iVar12 - iVar1;
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,1,0,0,0,0x204,iVar12,iVar9,iVar5,iVar9,iVar4,0,0,sVar10,sVar11
                 ,(short)param_2,(tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar2 = iVar2 + iVar1;
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,1,0,0,0,0x204,iVar12,iVar9,iVar12,iVar2,iVar4,0,0,sVar10,
                 sVar11,(short)param_2,(tagRECT *)0x0,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,1,0,0,0,0x204,iVar5,iVar9,iVar5,iVar2,iVar4,0,0,sVar10,sVar11,
                 (short)param_2,(tagRECT *)0x0,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,1,0,0,0,0x204,iVar12,iVar2,iVar5,iVar2,iVar4,0,0,sVar10,sVar11
                 ,(short)param_2,(tagRECT *)0x0,(RKC_DIB *)0x0);
      goto LAB_00416f7f;
    }
  }
  *(undefined4 *)((int)this + 0xa95c) = 0;
LAB_00416f7f:
  uStack_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_34);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00416fb0
 * Address: 00416fb0
 */

void FUN_00416fb0(uint *param_1)

{
  uint uVar1;
  
  uVar1 = (uint)(DAT_0048ce3c == 1);
  if (DAT_0048ce68 == 1) {
    uVar1 = 1;
  }
  if (DAT_0048ce38 == 1) {
    uVar1 = uVar1 | 0x10;
  }
  if (DAT_0048ce40 == 1) {
    uVar1 = uVar1 | 0x10;
  }
  if (DAT_0048ce44 == 1) {
    uVar1 = 0x11;
  }
  if (DAT_0048ce48 == 1) {
    uVar1 = uVar1 | 0x10;
  }
  if (DAT_0048ce4c == 1) {
    uVar1 = uVar1 | 0x10;
  }
  if (DAT_0048ce50 == 1) {
    uVar1 = uVar1 | 0x10;
  }
  if (DAT_0048ce54 == 1) {
    uVar1 = 0x11;
  }
  if (DAT_0048ce64 == 1) {
    uVar1 = uVar1 | 0x10;
  }
  if (DAT_0048ce6c == 1) {
    uVar1 = 0x11;
  }
  if (DAT_0048ce58 == 1) {
    uVar1 = 0x11;
  }
  *param_1 = uVar1;
  if (uVar1 != 1) {
    if (uVar1 == 0x10) {
      param_1[2] = 0;
      param_1[1] = 0x140;
      return;
    }
    if (uVar1 != 0) {
      return;
    }
  }
  param_1[1] = 0;
  param_1[2] = 0;
  return;
}



/*
 * Function: FUN_00417070
 * Address: 00417070
 */

uint __thiscall FUN_00417070(void *this,int param_1,void *param_2)

{
  int iVar1;
  void *this_00;
  
  if (-1 < param_1) {
    if (param_1 < 4) {
      return *(uint *)(*(int *)(*(int *)(*(int *)((int)this + 0xa018) + 4) + param_1 * 4) + 0x2d0) &
             (uint)param_2;
    }
    if (9999999 < param_1) {
      iVar1 = FUN_00456210(*(int *)((int)this + 0xa010));
      this_00 = param_2;
      if (iVar1 != 0) {
        this_00 = (void *)FUN_00427aa0(iVar1);
      }
      iVar1 = FUN_004299e0(this_00,param_1);
      if (iVar1 != 0) {
        iVar1 = FUN_00434cd0(iVar1);
        return *(uint *)(iVar1 + 8) & (uint)param_2;
      }
    }
  }
  return 0xffffffff;
}



/*
 * Function: FUN_004170f0
 * Address: 004170f0
 */

void FUN_004170f0(void)

{
  int iVar1;
  
  DAT_0048ce3c = 0;
  DAT_0048ce38 = 0;
  DAT_0048ce40 = 0;
  DAT_0048ce44 = 0;
  DAT_0048ce48 = 0;
  DAT_0048ce4c = 0;
  DAT_0048ce50 = 0;
  DAT_0048ce54 = 0;
  DAT_0048ce5c = 0;
  if (DAT_0048ce60 == 1) {
    FUN_00410360(0x482df4);
  }
  DAT_0048ce60 = 0;
  DAT_0048ce58 = 0;
  DAT_0048ce64 = 0;
  DAT_0048ce68 = 0;
  DAT_0048ce6c = 0;
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  *(undefined4 *)(iVar1 + 0x588) = 0;
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  *(undefined4 *)(iVar1 + 0x58c) = 0;
  return;
}



/*
 * Function: FUN_00417180
 * Address: 00417180
 */

void __cdecl FUN_00417180(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  param_1[0xc] = 0;
  param_1[0xd] = 8;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[0x12] = 0;
  param_1[0x11] = 0;
  param_1[0x7a] = 0;
  param_1[0x15] = 0;
  param_1[0x18] = 1000;
  param_1[0x19] = 1000;
  param_1[0x1a] = 1000;
  param_1[0x1b] = 1000;
  param_1[0x1f] = 1000;
  param_1[0x20] = 1000;
  param_1[0x21] = 1000;
  param_1[0x22] = 1000;
  param_1[0x1c] = 1000;
  param_1[8] = 0;
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[0xb] = 0;
  param_1[0x16] = 0xffffffff;
  param_1[0x17] = 0;
  param_1[0x1d] = 0xffffffff;
  param_1[0x23] = 0xffffffff;
  param_1[0x24] = 0xffffffff;
  param_1[0x25] = 1;
  param_1[0x26] = 0;
  param_1[0x27] = 0;
  param_1[7] = 0xffffffff;
  param_1[0x1e] = 0;
  param_1[0x76] = 0xffffffff;
  param_1[0x77] = 0xffffffff;
  param_1[0x78] = 0xffffffff;
  param_1[0x79] = 0xffffffff;
  param_1[0x28] = 1;
  param_1[0x10] = 1;
  param_1[6] = 0;
  param_1[0x7b] = 0xffffffff;
  param_1[0x7c] = 0;
  return;
}



/*
 * Function: FUN_00417260
 * Address: 00417260
 */

undefined4 FUN_00417260(long param_1,long param_2,int *param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  longlong lVar3;
  
  if (param_4 == -1) {
    iVar1 = -1;
  }
  else {
    iVar1 = FUN_00434cb0(DAT_0048ce0c);
    iVar2 = FUN_00434cb0(DAT_0048ce0c);
    iVar2 = FUN_00456230(*(int *)(iVar2 + 0x458));
    if (param_4 != iVar2) {
      return 0;
    }
  }
  if (((param_5 == 0) && (param_3 != (int *)0x0)) &&
     (lVar3 = FUN_00414310(*(int *)(iVar1 + 0x2e0),*(int *)(iVar1 + 0x2e4),*param_3,param_3[1]),
     3000 < (int)lVar3)) {
    return 0;
  }
  RKC_DSOUND::Play(DAT_00482d28,param_1,param_2,0,0,DAT_0048d8e4);
  return 0;
}



/*
 * Function: FUN_00417300
 * Address: 00417300
 */

void __fastcall FUN_00417300(int param_1)

{
  int iVar1;
  int iVar2;
  void *this;
  void *this_00;
  int iVar3;
  long lVar4;
  int *piVar5;
  int *piVar6;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  iVar1 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  iVar2 = FUN_004663a0(*(int *)(param_1 + 0xa01c));
  if (iVar2 == 1) {
    iVar2 = FUN_00466390(*(int *)(param_1 + 0xa01c));
    this = (void *)FUN_00457f10(*(void **)(param_1 + 0xa01c),iVar2);
    if (this != (void *)0x0) {
      iVar2 = FUN_00466410(*(int *)(iVar1 + 0x458));
      iVar2 = FUN_004308a0(iVar2);
      if (-1 < iVar2) {
        this_00 = (void *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
        iVar2 = FUN_004299e0(this_00,iVar2);
        if (iVar2 != 0) {
          FUN_00457690(this,&local_10);
          piVar6 = &local_18;
          piVar5 = &local_14;
          iVar3 = FUN_00434cd0(iVar2);
          lVar4 = *(long *)(iVar3 + 0x1c);
          iVar2 = FUN_00434cd0(iVar2);
          FUN_00417b10(&DAT_00482df4,*(long *)(iVar2 + 0x18),lVar4,piVar5,piVar6);
          iVar1 = FUN_00466410(*(int *)(iVar1 + 0x458));
          iVar1 = FUN_00427b10(iVar1);
          local_18 = local_18 + iVar1;
          local_c = (local_18 - local_4) + -0x10;
          local_10 = (local_14 - local_8 / 2) + 0xc;
          FUN_004576b0(this,&local_10);
        }
      }
    }
  }
  return;
}



/*
 * Function: FUN_00417410
 * Address: 00417410
 */

long FUN_00417410(long param_1,int param_2,int param_3)

{
  RKC_RPG_TABLEDATA *pRVar1;
  long lVar2;
  long local_14 [5];
  
  local_14[0] = 0x11;
  local_14[1] = 0x12;
  local_14[2] = 0x10;
  local_14[3] = 0x23;
  local_14[4] = 0x15;
  if (param_3 < 5) {
    pRVar1 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,local_14[param_3]);
    if (pRVar1 != (RKC_RPG_TABLEDATA *)0x0) {
      lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,param_1,param_2 + -1);
      return lVar2;
    }
  }
  else {
    pRVar1 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x13);
    if (pRVar1 != (RKC_RPG_TABLEDATA *)0x0) {
      lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,param_1,0);
      return lVar2;
    }
  }
  return -1;
}



/*
 * Function: FUN_004174b0
 * Address: 004174b0
 */

void FUN_004174b0(long param_1,int param_2,int param_3,long *param_4,int param_5)

{
  int iVar1;
  int iVar2;
  RKC_RPG_TABLEDATA *this;
  long lVar3;
  int local_4;
  
  iVar1 = param_3 - (int)param_4;
  iVar2 = param_5 - (int)param_4;
  local_4 = 0;
  do {
    this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,local_4 + 0x46);
    if (this != (RKC_RPG_TABLEDATA *)0x0) {
      lVar3 = RKC_RPG_TABLEDATA::GetValue(this,param_1,param_2 * 3 + -3);
      *(long *)(iVar1 + (int)param_4) = lVar3;
      lVar3 = RKC_RPG_TABLEDATA::GetValue(this,param_1,param_2 * 3 + -2);
      *param_4 = lVar3;
      lVar3 = RKC_RPG_TABLEDATA::GetValue(this,param_1,param_2 * 3 + -1);
      *(long *)(iVar2 + (int)param_4) = lVar3;
    }
    param_4 = param_4 + 1;
    local_4 = local_4 + 1;
  } while (local_4 < 9);
  return;
}



/*
 * Function: FUN_00417550
 * Address: 00417550
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall
FUN_00417550(int param_1_00,void *param_1,int param_2,int param_3,undefined4 param_4,int param_5,
            int *param_6)

{
  RKC_RPG_TABLEDATA *this;
  long lVar1;
  int iVar2;
  RKC_RPG_TABLEDATA *this_00;
  int iVar3;
  int iVar4;
  long lVar5;
  uint uVar6;
  long lVar7;
  undefined4 *this_01;
  void *this_02;
  undefined4 uVar8;
  int *piVar9;
  code *pcVar10;
  int iVar11;
  int *piVar12;
  void *pvVar13;
  int iStack_54;
  int local_50;
  int local_4c;
  int local_48;
  int *piStack_40;
  int *piStack_38;
  int iStack_30;
  int iStack_2c;
  int iStack_1c;
  undefined4 uStack_18;
  int iStack_14;
  undefined4 uStack_10;
  int aiStack_c [3];
  
  iVar11 = 0;
  local_4c = 0;
  local_50 = 0;
  if (param_5 == 1) {
    *param_6 = *param_6 + 1;
  }
  if (param_2 < 0) {
    return 1;
  }
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x1e);
  pcVar10 = GetValue_exref;
  if (this != (RKC_RPG_TABLEDATA *)0x0) {
    lVar1 = RKC_RPG_TABLEDATA::GetValue(this,param_2,0);
    if (lVar1 == 0) {
      do {
        iVar2 = FUN_00434c90(*(void **)(param_1_00 + 0xa018),iVar11);
        if (*(int *)(iVar2 + 0x2d8) == 1) {
          lVar1 = lVar1 + 1;
        }
        iVar11 = iVar11 + 1;
      } while (iVar11 < 4);
    }
    iStack_30 = 0;
    iStack_2c = lVar1;
    if (0 < lVar1) {
      do {
        iVar11 = _rand();
        iVar2 = (*pcVar10)(param_2,1);
        if ((iVar11 % 100 <= iVar2) &&
           (this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x1f),
           this_00 != (RKC_RPG_TABLEDATA *)0x0)) {
          iVar11 = _rand();
          iVar2 = (*pcVar10)(param_2,(iVar11 % 10) * 2 + 2);
          if (iVar2 != -1) {
            local_48 = (*pcVar10)(iVar2,0);
            iVar3 = (*pcVar10)(iVar2);
            iVar4 = (*pcVar10)(iVar2,2);
            lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,iVar2,3);
            uVar6 = RKC_RPG_TABLEDATA::GetValue(this_00,iVar2,4);
            iVar11 = (iVar11 % 10) * 2 + 3;
            lVar7 = RKC_RPG_TABLEDATA::GetValue(this,param_2,iVar11);
            if (lVar7 % 10 != 0) {
              local_48 = 1;
            }
            lVar7 = RKC_RPG_TABLEDATA::GetValue(this,param_2,iVar11);
            iVar2 = lVar7 % 100 >> 0x1f;
            if ((lVar7 % 100) / 10 + iVar2 != iVar2) {
              local_4c = 1;
            }
            lVar7 = RKC_RPG_TABLEDATA::GetValue(this,param_2,iVar11);
            iVar11 = lVar7 % 1000 >> 0x1f;
            if ((lVar7 % 1000) / 100 + iVar11 != iVar11) {
              local_50 = 1;
            }
            if (lVar5 == -1) {
              if (piStack_40 == (int *)0xffffffff) {
                iVar11 = 0;
                piVar9 = aiStack_c;
                piStack_40 = (int *)0x0;
                do {
                  *piVar9 = 0;
                  iVar2 = FUN_00465500(DAT_0048ce14,iVar11,iVar3,iVar4,local_48,local_4c,local_50,1,
                                       uVar6);
                  *piVar9 = iVar2;
                  piStack_40 = (int *)((int)piStack_40 + iVar2);
                  iVar11 = iVar11 + 1;
                  piVar9 = piVar9 + 1;
                } while (iVar11 < 3);
                piVar9 = piStack_38;
                if (piStack_40 != (int *)0x0) {
                  iVar11 = FUN_00401520(9);
                  iVar11 = iVar11 % (int)piStack_40;
                  piVar12 = (int *)0x0;
                  piStack_40 = aiStack_c;
                  do {
                    if (*piStack_40 != 0) {
                      iStack_54 = FUN_004653a0(DAT_0048ce14,(int)piVar12,iVar3,iVar4,local_48,
                                               local_4c,local_50,1,iVar11,uVar6);
                      piVar9 = piVar12;
                      if (iStack_54 != -1) break;
                      iVar11 = iVar11 - *piStack_40;
                    }
                    piVar12 = (int *)((int)piVar12 + 1);
                    piStack_40 = piStack_40 + 1;
                    piVar9 = piStack_38;
                  } while ((int)piVar12 < 3);
                }
              }
              else {
                piStack_38 = piStack_40;
                iVar11 = FUN_00465500(DAT_0048ce14,(int)piStack_40,iVar3,iVar4,local_48,local_4c,
                                      local_50,1,uVar6);
                piVar9 = piStack_38;
                if (iVar11 != 0) {
                  iVar2 = FUN_00401520(9);
                  lVar5 = FUN_004653a0(DAT_0048ce14,(int)piStack_40,iVar3,iVar4,local_48,local_4c,
                                       local_50,1,iVar2 % iVar11,uVar6);
                  goto LAB_0041786a;
                }
              }
            }
            else {
LAB_0041786a:
              piStack_38 = piStack_40;
              iStack_54 = lVar5;
              piVar9 = piStack_38;
            }
            piStack_38 = piVar9;
            if (iStack_54 != -1) {
              if (param_5 == 0) {
                this_01 = FUN_00462d30(DAT_0048ce14,piStack_38,iStack_54,(undefined4 *)0x0);
                if (this_01 != (undefined4 *)0x0) {
                  iStack_14 = param_3;
                  uStack_10 = param_4;
                  if (lVar1 == 0) {
                    iStack_1c = param_3;
                    uStack_18 = param_4;
                  }
                  else {
                    FUN_004140a0(&iStack_14,((double)iStack_30 * _DAT_004751c8) / (double)lVar1,200,
                                 &iStack_1c);
                    iStack_30 = iStack_30 + 1;
                  }
                  FUN_004663e0(this_01,iStack_1c,uStack_18);
                  iVar11 = FUN_00434cb0(DAT_0048ce0c);
                  uVar6 = (uint)(param_1 != *(void **)(iVar11 + 0x458));
                  pvVar13 = param_1;
                  this_02 = (void *)FUN_00434cb0(DAT_0048ce0c);
                  FUN_00452420(this_02,this_01,pvVar13,uVar6);
                }
              }
              else {
                iVar11 = FUN_00462b60(DAT_0048ce14,piStack_38,iStack_54);
                if (iVar11 != 0) {
                  uVar8 = FUN_00430890(iVar11);
                  switch(uVar8) {
                  case 0:
                    param_6[1] = param_6[1] + 1;
                    break;
                  case 1:
                    param_6[2] = param_6[2] + 1;
                    break;
                  case 2:
                    param_6[3] = param_6[3] + 1;
                    break;
                  case 3:
                    param_6[4] = param_6[4] + 1;
                  }
                  switch(piStack_38) {
                  case (int *)0x0:
                    iVar11 = FUN_00462c30(DAT_0048ce14,iVar11);
                    piVar9 = param_6 + iVar11 + 5;
                    break;
                  case (int *)0x1:
                    iVar11 = FUN_00462c30(DAT_0048ce14,iVar11);
                    piVar9 = param_6 + iVar11 + 0x3ed;
                    break;
                  case (int *)0x2:
                    iVar11 = FUN_00462c30(DAT_0048ce14,iVar11);
                    piVar9 = param_6 + iVar11 + 0x7d5;
                    break;
                  case (int *)0x3:
                    iVar11 = FUN_00462c30(DAT_0048ce14,iVar11);
                    piVar9 = param_6 + iVar11 + 0xbbd;
                    break;
                  case (int *)0x4:
                    iVar11 = FUN_00462c30(DAT_0048ce14,iVar11);
                    piVar9 = param_6 + iVar11 + 0xfa5;
                    break;
                  default:
                    goto switchD_00417996_caseD_5;
                  }
                  *piVar9 = *piVar9 + 1;
                }
              }
            }
          }
        }
switchD_00417996_caseD_5:
        iStack_2c = iStack_2c + -1;
        pcVar10 = GetValue_exref;
      } while (iStack_2c != 0);
    }
  }
  return 1;
}



/*
 * Function: FUN_00417a60
 * Address: 00417a60
 */

void FUN_00417a60(int param_1,int param_2)

{
  void *pvVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  
  if (param_1 != 0) {
    uVar23 = 0;
    uVar22 = 200;
    uVar21 = 0;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 0xffffffff;
    uVar15 = 8;
    puVar14 = (undefined4 *)0x0;
    puVar12 = (undefined4 *)(param_1 + 0x2e8);
    uVar4 = *(undefined4 *)(param_1 + 4);
    uVar13 = 0;
    puVar11 = (undefined4 *)0x0;
    uVar10 = 0;
    uVar9 = 0;
    uVar8 = 400;
    uVar7 = 0;
    uVar6 = 0;
    uVar5 = 0;
    uVar3 = 1;
    uVar2 = 0x4e2c;
    pvVar1 = (void *)FUN_00466420(*(int *)(param_1 + 0x458));
    FUN_0042fdc0(pvVar1,uVar2,uVar3,uVar4,uVar5,uVar6,uVar7,uVar8,uVar9,uVar10,puVar11,puVar12,
                 uVar13,puVar14,uVar15,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23);
  }
  if (param_2 != 0) {
    uVar23 = 0;
    uVar22 = 200;
    uVar21 = 0;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 0xffffffff;
    uVar15 = 8;
    puVar14 = (undefined4 *)0x0;
    puVar12 = (undefined4 *)(param_2 + 0x20);
    uVar4 = *(undefined4 *)(param_2 + 4);
    uVar13 = 0;
    puVar11 = (undefined4 *)0x0;
    uVar10 = 0;
    uVar9 = 0;
    uVar8 = 400;
    uVar7 = 0;
    uVar6 = 0;
    uVar5 = 0;
    uVar3 = 6;
    uVar2 = 0x4e2c;
    pvVar1 = (void *)FUN_00466420(*(int *)(param_2 + 0x5c));
    FUN_0042fdc0(pvVar1,uVar2,uVar3,uVar4,uVar5,uVar6,uVar7,uVar8,uVar9,uVar10,puVar11,puVar12,
                 uVar13,puVar14,uVar15,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23);
  }
  return;
}



/*
 * Function: FUN_00417b10
 * Address: 00417b10
 */

void __thiscall FUN_00417b10(void *this,long param_1,long param_2,int *param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  long lVar3;
  int *piVar4;
  int *piVar5;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  uint local_c [3];
  
  iVar2 = 0;
  FUN_00416fb0(local_c);
  if (local_c[0] == 1) {
    iVar2 = -0xa0;
  }
  else if (local_c[0] == 0x10) {
    iVar2 = 0xa0;
  }
  piVar5 = &local_18;
  piVar4 = &local_1c;
  iVar1 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  lVar3 = *(long *)(iVar1 + 0x2e4);
  iVar1 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  RKC_RPGSCRN::CalcRealPos(DAT_00482d14,*(long *)(iVar1 + 0x2e0),lVar3,piVar4,piVar5);
  RKC_RPGSCRN::CalcRealPos(DAT_00482d14,param_1,param_2,&local_14,&local_10);
  *param_3 = local_14 + (iVar2 - (local_1c + -0x140));
  *param_4 = local_10 - (local_18 + -0xf0);
  return;
}



/*
 * Function: FUN_00417bd0
 * Address: 00417bd0
 */

undefined4 __fastcall FUN_00417bd0(int param_1)

{
  RKC_DBF *this;
  long lVar1;
  RKC_UPDIB_UPD *this_00;
  int iVar2;
  short sVar3;
  long lVar4;
  char *pcVar5;
  char local_104 [260];
  
  if (*(int *)(param_1 + 0xa984) == -1) {
    return 0;
  }
  if (*(int *)(param_1 + 0xa98c) == 0) {
    if (DAT_0048d77c == 0) {
      pcVar5 = s_System_Common_Pattern_Waiting_nj_0047d0ac;
    }
    else {
      FUN_00467d51(local_104,(byte *)s_System_Common_Pattern_Visual_02d_0047fa3c);
      pcVar5 = local_104;
    }
    RKC_UPDIB::ReadUpd(DAT_00482d10,2,pcVar5,0,0,0,0);
    RKC_DBFCONTROL::Clear(DAT_00482d18,(tagRGBQUAD *)0x0);
    *(undefined4 *)(param_1 + 0xa990) = 0;
  }
  if (*(int *)(param_1 + 0xa98c) == -1) {
    *(undefined4 *)(param_1 + 0xa984) = 0xffffffff;
    RKC_UPDIB::DeleteUpd(DAT_00482d10,2,0);
    return 0;
  }
  this = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
  lVar1 = RKC_DBF::GetVSBlockNo(this);
  RKC_UPDIB::FlushVSBlock(DAT_00482d10,-1);
  if (*(int *)(param_1 + 0xa98c) < 0x78) {
    sVar3 = (short)((*(int *)(param_1 + 0xa98c) * 1000) / 0x78);
  }
  else {
    sVar3 = 1000;
  }
  if (DAT_0048d77c == 0) {
    lVar4 = 4;
  }
  else {
    lVar4 = *(long *)(param_1 + 0xa990);
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,4,2,lVar4,-1,5,0,0,1000,1000,1000,1000,0,sVar3,sVar3,sVar3,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar2 = *(int *)(param_1 + 0xa98c) + 1;
  *(int *)(param_1 + 0xa98c) = iVar2;
  if (iVar2 < *(int *)(param_1 + 0xa984)) {
    return 1;
  }
  iVar2 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if (((*(int *)(*(int *)(iVar2 + 0x3f8) + 0x10) == 1) ||
      (iVar2 = FUN_00434cb0(*(int *)(param_1 + 0xa018)),
      *(int *)(*(int *)(iVar2 + 0x3f8) + 0x198) == 1)) ||
     (iVar2 = FUN_00434cb0(*(int *)(param_1 + 0xa018)),
     *(int *)(*(int *)(iVar2 + 0x3f8) + 0x17c) == 1)) {
    *(int *)(param_1 + 0xa990) = *(int *)(param_1 + 0xa990) + 1;
    if (*(int *)(param_1 + 0xa988) != 0) {
      this_00 = RKC_UPDIB::GetUpd(DAT_00482d10,2);
      lVar4 = RKC_UPDIB_UPD::GetPatternCount(this_00);
      if (*(int *)(param_1 + 0xa990) < lVar4) {
        *(undefined4 *)(param_1 + 0xa98c) = 1;
        *(undefined4 *)(param_1 + 0xa984) = 300;
        goto LAB_00417df3;
      }
    }
    *(undefined4 *)(param_1 + 0xa98c) = 0xffffffff;
  }
LAB_00417df3:
  iVar2 = *(int *)(param_1 + 0xa98c) % 0xf;
  if (iVar2 < 5) {
    iVar2 = 0;
  }
  else {
    iVar2 = ((9 < iVar2) - 1 & 0xfffffff8) + 0x10;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,lVar1,4,0xe,0,-1,4,iVar2 + 0x24e,0x1b8,1000,1000,1000,1000,0,sVar3,sVar3,
             sVar3,(tagRECT *)0x0,(RKC_DIB *)0x0);
  return 1;
}



/*
 * Function: FUN_00417e70
 * Address: 00417e70
 */

void FUN_00417e70(int param_1)

{
  *(undefined4 *)(param_1 + 0x8c) = 8;
  *(undefined4 *)(param_1 + 300) = 8;
  *(undefined4 *)(param_1 + 0x130) = 0;
  *(undefined4 *)(param_1 + 0x124) = 0xffffffff;
  return;
}



/*
 * Function: FUN_00417ea0
 * Address: 00417ea0
 */

void __fastcall FUN_00417ea0(undefined4 *param_1)

{
  param_1[1] = 0xffffffff;
  *param_1 = 0;
  param_1[2] = 0;
  return;
}



/*
 * Function: thunk_FUN_00417ed0
 * Address: 00417ec0
 */

void __fastcall thunk_FUN_00417ed0(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if (param_1[2] != 0) {
    iVar2 = 0;
    if (0 < *param_1) {
      do {
        puVar1 = *(undefined4 **)(param_1[2] + iVar2 * 4);
        if (puVar1 != (undefined4 *)0x0) {
          thunk_FUN_00418350(puVar1);
          FUN_0046787e(puVar1);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < *param_1);
    }
    GlobalFree((HGLOBAL)param_1[2]);
  }
  param_1[1] = -1;
  *param_1 = 0;
  param_1[2] = 0;
  return;
}



/*
 * Function: FUN_00417ed0
 * Address: 00417ed0
 */

void __fastcall FUN_00417ed0(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if (param_1[2] != 0) {
    iVar2 = 0;
    if (0 < *param_1) {
      do {
        puVar1 = *(undefined4 **)(param_1[2] + iVar2 * 4);
        if (puVar1 != (undefined4 *)0x0) {
          thunk_FUN_00418350(puVar1);
          FUN_0046787e(puVar1);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < *param_1);
    }
    GlobalFree((HGLOBAL)param_1[2]);
  }
  param_1[1] = -1;
  *param_1 = 0;
  param_1[2] = 0;
  return;
}



/*
 * Function: FUN_00417f30
 * Address: 00417f30
 */

undefined4 __thiscall FUN_00417f30(void *this,int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar3;
  HGLOBAL pvVar4;
  undefined4 *puVar5;
  int iVar6;
  long lVar7;
  int iVar8;
  char cVar9;
  char *pcVar10;
  int *piVar11;
  int *piVar12;
  int local_134 [2];
  char *pcStack_12c;
  long lStack_128;
  RKC_FILE aRStack_124 [4];
  int iStack_120;
  long lStack_11c;
  int iStack_118;
  undefined4 *puStack_114;
  char acStack_110 [260];
  void *pvStack_c;
  undefined *puStack_8;
  uint uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471a96;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_DIB::RKC_DIB((RKC_DIB *)local_134);
  uStack_4 = 0;
  RKC_FILE::RKC_FILE(aRStack_124);
  uStack_4 = CONCAT31(uStack_4._1_3_,1);
  FUN_00417ed0((int *)this);
  iVar2 = FUN_00426160(DAT_0048ce04,param_1);
  pRVar3 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540(iVar2);
  lStack_11c = RKC_RPGSCRN_GROUNDBLOCK::GetChipWidth(pRVar3);
  pRVar3 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540(iVar2);
  lStack_128 = RKC_RPGSCRN_GROUNDBLOCK::GetChipHeight(pRVar3);
  piVar12 = &iStack_120;
  piVar11 = &iStack_118;
  pRVar3 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540(iVar2);
  RKC_RPGSCRN_GROUNDBLOCK::GetAreaSize(pRVar3,piVar11,piVar12);
  *(int *)((int)this + 4) = param_1;
  *(int *)this = param_2;
  pvVar4 = GlobalAlloc(0x40,param_2 * 4);
  iVar2 = 0;
  *(HGLOBAL *)((int)this + 8) = pvVar4;
  if (0 < param_2) {
    do {
      puStack_114 = (undefined4 *)operator_new(4);
      uStack_4._0_1_ = 2;
      if (puStack_114 == (undefined4 *)0x0) {
        puVar5 = (undefined4 *)0x0;
      }
      else {
        puVar5 = FUN_004182d0(puStack_114);
      }
      uStack_4 = CONCAT31(uStack_4._1_3_,1);
      *(undefined4 **)(*(int *)((int)this + 8) + iVar2 * 4) = puVar5;
      iVar8 = (iStack_118 * lStack_11c) / 10;
      iVar1 = (iStack_120 * lStack_128) / 10;
      RKC_DIB::Create((RKC_DIB *)**(undefined4 **)(*(int *)((int)this + 8) + iVar2 * 4),iVar8,iVar1,
                      8,1);
      RKC_DIB::FillByte((RKC_DIB *)**(undefined4 **)(*(int *)((int)this + 8) + iVar2 * 4),'\x01');
      *(undefined *)(*(int *)(**(int **)(*(int *)((int)this + 8) + iVar2 * 4) + 4) + 2) = 0xff;
      *(undefined *)(*(int *)(**(int **)(*(int *)((int)this + 8) + iVar2 * 4) + 4) + 1) = 0xff;
      **(undefined **)(**(int **)(*(int *)((int)this + 8) + iVar2 * 4) + 4) = 0xff;
      *(undefined *)(*(int *)(**(int **)(*(int *)((int)this + 8) + iVar2 * 4) + 4) + 6) = 0;
      *(undefined *)(*(int *)(**(int **)(*(int *)((int)this + 8) + iVar2 * 4) + 4) + 5) = 0;
      *(undefined *)(*(int *)(**(int **)(*(int *)((int)this + 8) + iVar2 * 4) + 4) + 4) = 0;
      FUN_00467d51(acStack_110,(byte *)s_Save_M_08d_02d_msk_0047fa64);
      iVar6 = RKC_DIB::ReadFile((RKC_DIB *)local_134,acStack_110,-1);
      pcVar10 = pcStack_12c;
      if (((iVar6 == 1) && (*(int *)(local_134[0] + 4) == iVar8)) &&
         (*(int *)(local_134[0] + 8) == iVar1)) {
        cVar9 = '\0';
        lVar7 = RKC_DIB::GetAlignWidth((RKC_DIB *)local_134);
        iVar8 = lVar7 * *(int *)(local_134[0] + 8);
        if (iVar8 < 2) {
LAB_0041814d:
          cVar9 = '\x01';
        }
        else {
          iVar8 = iVar8 + -1;
          do {
            pcVar10 = pcVar10 + 1;
            cVar9 = cVar9 + *pcVar10;
            iVar8 = iVar8 + -1;
          } while (iVar8 != 0);
          if (cVar9 == '\0') goto LAB_0041814d;
        }
        if (cVar9 == *pcStack_12c) {
          *pcStack_12c = -1;
          RKC_DIB::Convert((RKC_DIB *)**(undefined4 **)(*(int *)((int)this + 8) + iVar2 * 4),
                           (RKC_DIB *)local_134,8);
        }
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_2);
  }
  uStack_4 = uStack_4 & 0xffffff00;
  RKC_FILE::~RKC_FILE(aRStack_124);
  uStack_4 = 0xffffffff;
  RKC_DIB::~RKC_DIB((RKC_DIB *)local_134);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_004181d0
 * Address: 004181d0
 */

undefined4 __fastcall FUN_004181d0(int param_1)

{
  char cVar1;
  long lVar2;
  int iVar3;
  char cVar4;
  char *pcVar5;
  int local_11c [2];
  char *pcStack_114;
  char acStack_110 [260];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471aac;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_DIB::RKC_DIB((RKC_DIB *)local_11c);
  uStack_4 = 0;
  FUN_00467d51(acStack_110,(byte *)s_Save_M_08d_02d_msk_0047fa64);
  RKC_DIB::Convert((RKC_DIB *)local_11c,*(RKC_DIB **)**(undefined4 **)(param_1 + 8),1);
  pcVar5 = pcStack_114;
  cVar4 = '\0';
  lVar2 = RKC_DIB::GetAlignWidth((RKC_DIB *)local_11c);
  iVar3 = lVar2 * *(int *)(local_11c[0] + 8);
  if (1 < iVar3) {
    iVar3 = iVar3 + -1;
    do {
      pcVar5 = pcVar5 + 1;
      cVar4 = cVar4 + *pcVar5;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    if (cVar4 != '\0') goto LAB_0041825f;
  }
  cVar4 = '\x01';
LAB_0041825f:
  cVar1 = *pcStack_114;
  *pcStack_114 = cVar4;
  RKC_DIB::WriteFile((RKC_DIB *)local_11c,acStack_110);
  uStack_4 = 0xffffffff;
  *pcStack_114 = cVar1;
  RKC_DIB::~RKC_DIB((RKC_DIB *)local_11c);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_004182c0
 * Address: 004182c0
 */

undefined4 __thiscall FUN_004182c0(void *this,int param_1)

{
  return *(undefined4 *)(*(int *)((int)this + 8) + param_1 * 4);
}



/*
 * Function: FUN_004182d0
 * Address: 004182d0
 */

undefined4 * __fastcall FUN_004182d0(undefined4 *param_1)

{
  RKC_DIB *this;
  undefined4 uVar1;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471acb;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  this = (RKC_DIB *)operator_new(0xc);
  local_4 = 0;
  if (this != (RKC_DIB *)0x0) {
    uVar1 = RKC_DIB::RKC_DIB(this);
    *param_1 = uVar1;
    ExceptionList = local_c;
    return param_1;
  }
  *param_1 = 0;
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: thunk_FUN_00418350
 * Address: 00418340
 */

void __fastcall thunk_FUN_00418350(undefined4 *param_1)

{
  RKC_DIB *this;
  
  this = (RKC_DIB *)*param_1;
  if (this != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this);
    FUN_0046787e(this);
  }
  return;
}



/*
 * Function: FUN_00418350
 * Address: 00418350
 */

void __fastcall FUN_00418350(undefined4 *param_1)

{
  RKC_DIB *this;
  
  this = (RKC_DIB *)*param_1;
  if (this != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this);
    FUN_0046787e(this);
  }
  return;
}



/*
 * Function: FUN_00418370
 * Address: 00418370
 */

undefined4 __thiscall FUN_00418370(void *this,int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  long lVar4;
  int iVar5;
  int iVar6;
  int local_14;
  int local_10;
  
                    /* WARNING: Load size is inaccurate */
  local_14 = 0;
  iVar1 = *(int *)(**this + 4);
  iVar2 = *(int *)(**this + 8);
  if (0 < param_4) {
    local_10 = param_2;
    iVar5 = iVar2;
    do {
      if (iVar2 <= local_10) {
        return 1;
      }
      if ((-1 < local_10) && (iVar6 = 0, 0 < param_3)) {
        do {
          if (iVar1 <= iVar6 + param_1) break;
          if (-1 < iVar6 + param_1) {
                    /* WARNING: Load size is inaccurate */
            iVar3 = *(int *)(*this + 8);
            lVar4 = RKC_DIB::GetAlignWidth(*this);
            *(undefined *)(lVar4 * ((iVar5 - param_2) + -1) + iVar3 + iVar6 + param_1) = 0;
          }
          iVar6 = iVar6 + 1;
        } while (iVar6 < param_3);
      }
      local_14 = local_14 + 1;
      local_10 = local_10 + 1;
      iVar5 = iVar5 + -1;
    } while (local_14 < param_4);
  }
  return 1;
}



/*
 * Function: FUN_00418430
 * Address: 00418430
 */

undefined4 __thiscall FUN_00418430(void *this,RKC_NETWORK_PACKET *param_1,int param_2)

{
  long lVar1;
  undefined4 uVar2;
  undefined4 unaff_ESI;
  int unaff_EDI;
  int unaff_retaddr;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_1);
  switch(lVar1) {
  case 4:
    uVar2 = FUN_00418640((int)param_1,unaff_EDI,unaff_ESI,unaff_retaddr,(int)param_1,param_2);
    return uVar2;
  case 5:
    uVar2 = FUN_00418750(this,param_1);
    return uVar2;
  default:
    return 0;
  case 0xb:
    uVar2 = FUN_00418a80(this,param_1);
    return uVar2;
  case 0xc:
    uVar2 = FUN_00418b00(this,param_1);
    return uVar2;
  case 0xe:
    uVar2 = FUN_00418e20(this,param_1);
    return uVar2;
  case 0xf:
    uVar2 = FUN_00418ea0(this,param_1);
    return uVar2;
  case 0x12:
    uVar2 = FUN_00419ad0(param_1);
    return uVar2;
  case 0x13:
    uVar2 = FUN_00419bb0(this,param_1);
    return uVar2;
  case 0x14:
  case 0x15:
  case 0x16:
  case 0x17:
  case 0x18:
  case 0x19:
  case 0x1a:
  case 0x1b:
  case 0x1c:
  case 0x1d:
  case 0x1e:
  case 0x1f:
  case 0x23:
    uVar2 = FUN_004190b0(this,param_1);
    return uVar2;
  case 0x21:
    uVar2 = FUN_00418fb0(param_1);
    return uVar2;
  case 0x24:
    uVar2 = FUN_00418880(this,param_1);
    return uVar2;
  }
}



/*
 * Function: FUN_00418550
 * Address: 00418550
 */

undefined4 __thiscall FUN_00418550(void *this,RKC_NETWORK_PACKET *param_1)

{
  long lVar1;
  undefined4 uVar2;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_1);
  switch(lVar1) {
  case 7:
    uVar2 = FUN_00418830(param_1);
    return uVar2;
  case 8:
    uVar2 = FUN_00418900(param_1);
    return uVar2;
  case 9:
    uVar2 = FUN_004189b0(this,param_1);
    return uVar2;
  default:
    return 0;
  case 0xd:
    uVar2 = FUN_00418d40(param_1);
    return uVar2;
  case 0xf:
    uVar2 = FUN_00418ea0(this,param_1);
    return uVar2;
  case 0x10:
    uVar2 = FUN_00418f70(this,param_1);
    return uVar2;
  case 0x11:
    uVar2 = FUN_00418d80(param_1);
    return uVar2;
  }
}



/*
 * Function: FUN_00418600
 * Address: 00418600
 */

undefined4 __thiscall FUN_00418600(void *this,RKC_NETWORK_PACKET *param_1)

{
  long lVar1;
  undefined4 uVar2;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_1);
  if (lVar1 == 10) {
    uVar2 = FUN_00418940(this,param_1);
    return uVar2;
  }
  if (lVar1 != 0xf) {
    return 0;
  }
  uVar2 = FUN_00418ea0(this,param_1);
  return uVar2;
}



/*
 * Function: FUN_00418640
 * Address: 00418640
 */

undefined4
FUN_00418640(int param_1,int param_2,undefined4 param_3,int param_4,int param_5,int param_6)

{
  undefined4 *puVar1;
  int *this;
  int extraout_ECX;
  int iVar2;
  undefined4 *puVar3;
  int unaff_retaddr;
  RKC_NETWORK_PACKET *in_stack_000010bc;
  char *pcVar4;
  undefined uVar5;
  undefined uVar6;
  undefined uVar7;
  int iVar8;
  
  FUN_00467f60((char)unaff_retaddr);
  puVar1 = (undefined4 *)RKC_NETWORK_PACKET::GetData(in_stack_000010bc);
  puVar3 = (undefined4 *)register0x00000010;
  for (iVar2 = 0x22e; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar3 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar3 = puVar3 + 1;
  }
  this = (int *)FUN_00434c90(*(void **)(extraout_ECX + 0xa018),unaff_retaddr);
  if (this[0xb6] == 0) {
    FUN_00440f70(this,(undefined4 *)&stack0x0000001c);
    FUN_00440c20(this);
    *this = (unaff_retaddr != 0) + 1;
    FUN_00445180(this,(int)&stack0x00000000);
    FUN_00426200(*(void **)(extraout_ECX + 0xa010),unaff_retaddr,param_1,param_2,0,(undefined4 *)0x0
                 ,-1);
    this[0xb8] = param_4;
    this[0xb9] = param_5;
    this[199] = param_6;
    FUN_00467d51(&stack0x000008b8,(byte *)s_Player___s__login_to_this_world__0047fa78);
    pcVar4 = &stack0x000008b8;
    iVar8 = 0;
    uVar7 = 0x40;
    uVar6 = 0xe0;
    uVar5 = 0xe0;
    iVar2 = FUN_00434cb0(DAT_0048ce0c);
    FUN_00453700(*(void **)(iVar2 + 0x4e4),pcVar4,uVar5,uVar6,uVar7,iVar8);
  }
  return 1;
}



/*
 * Function: FUN_00418750
 * Address: 00418750
 */

undefined4 __thiscall FUN_00418750(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  void *this_00;
  char *pcVar4;
  undefined uVar5;
  undefined uVar6;
  undefined uVar7;
  int iVar8;
  char acStack_800 [2048];
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434c90(*(void **)((int)this + 0xa018),*piVar1);
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
    FUN_00467d51(acStack_800,(byte *)s_Player___s__logout_from_this_wor_0047fa9c);
    pcVar4 = acStack_800;
    iVar8 = 0;
    uVar7 = 0x40;
    uVar6 = 0xe0;
    uVar5 = 0xe0;
    iVar3 = FUN_00434cb0(DAT_0048ce0c);
    FUN_00453700(*(void **)(iVar3 + 0x4e4),pcVar4,uVar5,uVar6,uVar7,iVar8);
    iVar3 = *(int *)(iVar2 + 0x458);
    if (iVar3 != 0) {
      FUN_004505d0(iVar2);
      iVar8 = *(int *)(iVar2 + 4);
      this_00 = (void *)FUN_00466420(iVar3);
      FUN_0042fef0(this_00,iVar8);
    }
    FUN_004201a0(DAT_0048d768 + *(int *)(iVar2 + 4) * 0x6c);
    FUN_00440d00(iVar2);
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_00418830
 * Address: 00418830
 */

undefined4 FUN_00418830(RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  void *this;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
  if ((this != (void *)0x0) && (*(int *)((int)this + 0x2d8) == 1)) {
    FUN_00451f00(this,piVar1);
    if (*(char *)((int)piVar1 + 0x16) == '\x01') {
      FUN_00440c20(this);
      *(int *)((int)this + 0x15d8) = *(int *)((int)this + 0x15d8) + 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_00418880
 * Address: 00418880
 */

undefined4 __thiscall FUN_00418880(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  void *pvVar4;
  undefined4 *puVar5;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (*(int *)(iVar2 + 0x2d8) != 0) {
    iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458));
    if (*piVar1 == iVar3) {
      pvVar4 = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
      puVar5 = (undefined4 *)FUN_004299e0(pvVar4,piVar1[1]);
      if (puVar5 != (undefined4 *)0x0) {
        iVar2 = FUN_00427b20(puVar5);
        if (iVar2 == 2) {
          pvVar4 = (void *)FUN_00434cd0((int)puVar5);
          FUN_0045cfe0(pvVar4,param_1);
        }
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00418900
 * Address: 00418900
 */

undefined4 FUN_00418900(RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  void *this;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
  if ((this != (void *)0x0) && (*(int *)((int)this + 0x2d8) == 1)) {
    FUN_00452da0(this,piVar1);
  }
  return 1;
}



/*
 * Function: FUN_00418940
 * Address: 00418940
 */

undefined4 __thiscall FUN_00418940(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  void *this_00;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (*(int *)(iVar2 + 0x2d8) != 0) {
    iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458));
    if (*piVar1 == iVar3) {
      this_00 = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
      iVar2 = FUN_004299e0(this_00,piVar1[1]);
      if (iVar2 != 0) {
        piVar1 = (int *)FUN_00434cd0(iVar2);
        (**(code **)(*piVar1 + 0x1c))(param_1);
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_004189b0
 * Address: 004189b0
 */

undefined4 __thiscall FUN_004189b0(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  long lVar2;
  int iVar3;
  int iVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  lVar2 = RKC_NETWORK_PACKET::GetSize(param_1);
  if (lVar2 == piVar1[3] + 0x18) {
    FUN_00434cb0(*(int *)((int)this + 0xa018));
    iVar4 = *piVar1;
    iVar3 = FUN_00434cd0(*(int *)((int)this + 0xa018));
    if (iVar4 != iVar3) {
      if (piVar1[1] == 0) {
        iVar4 = FUN_00434c90(*(void **)((int)this + 0xa018),iVar4);
        if ((iVar4 != 0) && (*(int *)(iVar4 + 0x2d8) == 1)) {
          FUN_00453700(*(void **)(iVar4 + 0x4e0),(char *)(piVar1 + 5),
                       *(undefined *)((int)piVar1 + 0x12),*(undefined *)((int)piVar1 + 0x11),
                       *(undefined *)(piVar1 + 4),1);
          return 1;
        }
      }
      else {
        iVar4 = FUN_00434cb0(*(int *)((int)this + 0xa018));
        if (iVar4 != 0) {
          FUN_00453700(*(void **)(iVar4 + 0x4e4),(char *)(piVar1 + 5),
                       *(undefined *)((int)piVar1 + 0x12),*(undefined *)((int)piVar1 + 0x11),
                       *(undefined *)(piVar1 + 4),2);
        }
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00418a80
 * Address: 00418a80
 */

undefined4 __thiscall FUN_00418a80(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 *this_00;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458));
  if (*piVar1 == iVar3) {
    this_00 = FUN_00462d30(DAT_0048ce14,piVar1[4],piVar1[5],piVar1 + 7);
    FUN_004663e0(this_00,piVar1[2],piVar1[3]);
    FUN_004663c0(this_00,piVar1[6]);
    FUN_00427970(*(void **)(iVar2 + 0x458),(int)this_00,0,piVar1[1]);
  }
  return 1;
}



/*
 * Function: FUN_00418b00
 * Address: 00418b00
 */

undefined4 __thiscall FUN_00418b00(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  void *this_00;
  int iVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int iVar5;
  char *pcVar6;
  void *this_01;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  this_00 = (void *)FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (piVar1[2] == *(int *)((int)this_00 + 4)) {
    if (*(int *)((int)this_00 + 0x41c) != 0) {
      iVar2 = *(int *)((int)this_00 + 0x424);
      iVar5 = FUN_00456230(*(int *)((int)this_00 + 0x458));
      if (iVar2 == iVar5) {
        if (*piVar1 == iVar2) {
          iVar2 = piVar1[1];
          pvVar3 = (void *)0x0;
          this_01 = (void *)FUN_00427aa0(*(int *)((int)this_00 + 0x458));
          puVar4 = (undefined4 *)FUN_004299e0(this_01,iVar2);
          if (puVar4 != (undefined4 *)0x0) {
            iVar2 = FUN_00427b20(puVar4);
            if (iVar2 == 3) {
              iVar2 = FUN_00434cd0((int)puVar4);
              pvVar3 = *(void **)(iVar2 + 0xcc);
            }
          }
          iVar2 = *(int *)((int)this_00 + 0x420);
          if (piVar1[1] == iVar2) {
            if (pvVar3 != (void *)0x0) {
              FUN_00427a00(*(void **)((int)this_00 + 0x458),piVar1[1],(int)pvVar3);
              iVar2 = FUN_00449ef0(this_00,piVar1[1],pvVar3);
              if (iVar2 == 0) {
                FUN_00452420(this_00,pvVar3,(void *)0x0,0);
              }
            }
          }
          else {
            pvVar3 = (void *)FUN_00427aa0(*(int *)((int)this_00 + 0x458));
            puVar4 = (undefined4 *)FUN_004299e0(pvVar3,iVar2);
            if (puVar4 != (undefined4 *)0x0) {
              iVar2 = FUN_00427b20(puVar4);
              if (iVar2 == 3) {
                iVar2 = FUN_00434cd0((int)puVar4);
                if (*(int *)(iVar2 + 0xcc) != 0) {
                  FUN_00427a40(*(void **)((int)this_00 + 0x458),*(int *)((int)this_00 + 0x420),
                               *(int *)(iVar2 + 0xcc));
                }
              }
            }
          }
        }
      }
      else if (piVar1[1] == *(int *)((int)this_00 + 0x420)) {
        pcVar6 = RKC_MEMORY::Get((RKC_MEMORY *)((int)this_00 + 0x430));
        puVar4 = FUN_00462d30(DAT_0048ce14,*(undefined4 *)((int)this_00 + 0x428),
                              *(int *)((int)this_00 + 0x42c),(undefined4 *)pcVar6);
        if (puVar4 != (undefined4 *)0x0) {
          iVar2 = FUN_00449ef0(this_00,-1,puVar4);
          if (iVar2 == 0) {
            FUN_004663e0(puVar4,*(undefined4 *)((int)this_00 + 0x2e0),
                         *(undefined4 *)((int)this_00 + 0x2e4));
            FUN_00452420(this_00,puVar4,(void *)0x0,0);
          }
        }
      }
      *(undefined4 *)((int)this_00 + 0x41c) = 0;
    }
  }
  else {
    if (((*(int *)((int)this_00 + 0x41c) != 0) && (*piVar1 == *(int *)((int)this_00 + 0x424))) &&
       (piVar1[1] == *(int *)((int)this_00 + 0x420))) {
      *(undefined4 *)((int)this_00 + 0x41c) = 0;
    }
    iVar2 = FUN_00456230(*(int *)((int)this_00 + 0x458));
    if (*piVar1 == iVar2) {
      iVar2 = piVar1[1];
      pvVar3 = (void *)FUN_00427aa0(*(int *)((int)this_00 + 0x458));
      puVar4 = (undefined4 *)FUN_004299e0(pvVar3,iVar2);
      if (puVar4 != (undefined4 *)0x0) {
        iVar2 = FUN_00427b20(puVar4);
        if (iVar2 == 3) {
          iVar2 = FUN_00434cd0((int)puVar4);
          FUN_00427a40(*(void **)((int)this_00 + 0x458),piVar1[1],*(int *)(iVar2 + 0xcc));
          return 1;
        }
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00418d40
 * Address: 00418d40
 */

undefined4 FUN_00418d40(RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  void *this;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
  if ((this != (void *)0x0) && (*(int *)((int)this + 0x2d8) == 1)) {
    FUN_00445430(this,piVar1);
  }
  return 1;
}



/*
 * Function: FUN_00418d80
 * Address: 00418d80
 */

undefined4 FUN_00418d80(RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  void *this;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 auStack_160 [80];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
  if ((this != (void *)0x0) && (*(int *)((int)this + 0x2d8) == 1)) {
    puVar3 = (undefined4 *)((int)this + 0x10);
    puVar4 = auStack_160;
    for (iVar2 = 0x58; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    FUN_00445180(this,(int)piVar1);
    *(undefined4 *)((int)this + 0x150) = uStack_20;
    *(undefined4 *)((int)this + 0x158) = uStack_18;
    *(undefined4 *)((int)this + 0x154) = uStack_1c;
    *(undefined4 *)((int)this + 0x15c) = uStack_14;
  }
  return 1;
}



/*
 * Function: FUN_00418e20
 * Address: 00418e20
 */

undefined4 __thiscall FUN_00418e20(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434c90(*(void **)((int)this + 0xa018),*piVar1);
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
    if ((piVar1[3] == -1) && (piVar1[7] == 1)) {
      FUN_004201a0(DAT_0048d768 + *piVar1 * 0x6c);
    }
    FUN_00426200(*(void **)((int)this + 0xa010),*piVar1,piVar1[2],piVar1[3],piVar1[4],piVar1 + 5,
                 piVar1[8]);
  }
  return 1;
}



/*
 * Function: FUN_00418ea0
 * Address: 00418ea0
 */

undefined4 __thiscall FUN_00418ea0(void *this,RKC_NETWORK_PACKET *param_1)

{
  long lVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_1);
  if (lVar1 == 0xf) {
    piVar2 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    iVar4 = *piVar2;
    if (iVar4 == 0) {
      uVar3 = *(uint *)((int)this + 0xa0b0) | 1;
    }
    else if (iVar4 == 1) {
      uVar3 = *(uint *)((int)this + 0xa0b0) | 2;
    }
    else {
      if (iVar4 != 2) goto LAB_00418eef;
      uVar3 = *(uint *)((int)this + 0xa0b0) | 4;
    }
    *(uint *)((int)this + 0xa0b0) = uVar3;
  }
LAB_00418eef:
  iVar4 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (((*(int *)(iVar4 + 0x43c) == 2) && (*(int *)((int)this + 0xa0b0) == 7)) &&
     (*(int *)((int)this + 0xa0b4) == 0x1fff)) {
    iVar4 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    *(undefined4 *)(iVar4 + 0x43c) = 0;
    if (DAT_00482db0 == 2) {
      iVar4 = FUN_00434cb0(*(int *)((int)this + 0xa018));
      piVar2 = (int *)FUN_00466410(*(int *)(iVar4 + 0x458));
      FUN_004304b0(piVar2);
      DAT_0048d8d4 = 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_00418f70
 * Address: 00418f70
 */

undefined4 __thiscall FUN_00418f70(void *this,RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434c90(DAT_0048ce0c,piVar1[2]);
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
    FUN_0041cbe0(this,piVar1);
  }
  return 1;
}



/*
 * Function: FUN_00418fb0
 * Address: 00418fb0
 */

undefined4 FUN_00418fb0(RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434cb0(DAT_0048ce0c);
  if (iVar2 != 0) {
    if (piVar1[1] < 0) {
      iVar2 = piVar1[2];
      if (((-1 < iVar2) && (iVar2 < DAT_0048ceb4)) && (*(int *)(DAT_0048ceb8 + iVar2 * 4) == 1)) {
        *(undefined4 *)(DAT_0048ceb8 + iVar2 * 4) = 2;
        FUN_00417260(0,0x42,(int *)0x0,-1,1);
      }
    }
    else {
      iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458));
      if (iVar3 == *piVar1) {
        iVar3 = piVar1[2];
        iVar4 = piVar1[1];
        FUN_00466410(*(int *)(iVar2 + 0x458));
        FUN_00430a40(iVar4,iVar3);
        return 1;
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00419050
 * Address: 00419050
 */

undefined4 FUN_00419050(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  RKC_NETWORK_CLIENT *this;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  if (DAT_00482db0 == 2) {
    this = RKC_NETWORK::GetClient(DAT_00482d24);
    uStack_10 = param_4;
    uStack_4 = param_3;
    uStack_8 = param_2;
    uStack_c = param_1;
    RKC_NETWORK_CLIENT::SetSendPacket(this,0,0x10,0x22,&uStack_10,-1,0,0);
  }
  return 1;
}



/*
 * Function: FUN_004190b0
 * Address: 004190b0
 */

undefined4 __thiscall FUN_004190b0(void *this,RKC_NETWORK_PACKET *param_1)

{
  RKC_NETWORK_PACKET *pRVar1;
  int iVar2;
  long lVar3;
  void *pvVar4;
  int *piVar5;
  undefined4 *puVar6;
  HGLOBAL pvVar7;
  undefined4 *puVar8;
  int iVar9;
  RKC_RPG_SCRIPT *pRVar10;
  int iVar11;
  void *pvVar12;
  int *piVar13;
  uint uVar14;
  int iVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 *puVar19;
  undefined4 *puVar20;
  undefined4 *puVar21;
  undefined4 *puVar22;
  undefined4 *puVar23;
  undefined4 *puVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 *puVar27;
  undefined4 uVar28;
  undefined4 *puVar29;
  undefined4 *puVar30;
  int iVar31;
  undefined4 uVar32;
  undefined4 *puVar33;
  int iStack_10;
  undefined4 uStack_8;
  undefined4 *puStack_4;
  
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  iVar2 = *(int *)(iVar2 + 0x458);
  lVar3 = RKC_NETWORK_PACKET::GetInfoID(param_1);
  switch(lVar3) {
  case 0x14:
    *(undefined4 *)((int)this + 0xa6ec) = 0;
    uVar14 = RKC_NETWORK_PACKET::GetSize(param_1);
    piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    for (uVar14 = uVar14 / 0x8b8; uVar14 != 0; uVar14 = uVar14 - 1) {
      pvVar12 = (void *)FUN_00434c90(*(void **)((int)this + 0xa018),*piVar13);
      if (((pvVar12 != (void *)0x0) && (*(int *)((int)pvVar12 + 0x2d8) == 1)) &&
         (iVar2 = FUN_00434cd0(DAT_0048ce0c), *(int *)((int)pvVar12 + 4) != iVar2)) {
        FUN_00445180(pvVar12,(int)piVar13);
      }
      piVar13 = piVar13 + 0x22e;
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 1;
    break;
  case 0x15:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      pRVar1 = (RKC_NETWORK_PACKET *)*piVar13;
      pvVar12 = RKC_NETWORK_PACKET::GetData(param_1);
      piVar13 = (int *)((int)pvVar12 + 4);
      RKC_NETWORK_PACKET::GetData(param_1);
      param_1 = pRVar1;
      if (0 < (int)pRVar1) {
        do {
          iVar15 = *piVar13;
          pvVar12 = (void *)FUN_00427aa0(iVar2);
          puVar8 = (undefined4 *)FUN_004299e0(pvVar12,iVar15);
          if ((puVar8 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar8), iVar15 == 0)) {
            pvVar12 = (void *)FUN_00434cd0((int)puVar8);
            FUN_0045e100(pvVar12,(int)piVar13);
          }
          piVar13 = piVar13 + 3;
          param_1 = param_1 + -1;
        } while (param_1 != (RKC_NETWORK_PACKET *)0x0);
      }
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 2;
    break;
  case 0x16:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      pRVar1 = (RKC_NETWORK_PACKET *)*piVar13;
      pvVar12 = RKC_NETWORK_PACKET::GetData(param_1);
      piVar13 = (int *)((int)pvVar12 + 4);
      RKC_NETWORK_PACKET::GetData(param_1);
      param_1 = pRVar1;
      if (0 < (int)pRVar1) {
        do {
          iVar15 = *piVar13;
          pvVar12 = (void *)FUN_00427aa0(iVar2);
          puVar8 = (undefined4 *)FUN_004299e0(pvVar12,iVar15);
          if ((puVar8 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar8), iVar15 == 1)) {
            pvVar12 = (void *)FUN_00434cd0((int)puVar8);
            FUN_0045d5d0(pvVar12,(int)piVar13);
          }
          piVar13 = piVar13 + 3;
          param_1 = param_1 + -1;
        } while (param_1 != (RKC_NETWORK_PACKET *)0x0);
      }
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 4;
    break;
  case 0x17:
    uVar14 = RKC_NETWORK_PACKET::GetSize(param_1);
    piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    for (uVar14 = uVar14 / 0xe0; uVar14 != 0; uVar14 = uVar14 - 1) {
      iVar15 = *piVar13;
      iVar9 = 30000000;
      pvVar12 = (void *)FUN_00427aa0(iVar2);
      pvVar12 = FUN_004298c0(pvVar12,iVar9,iVar15);
      iVar15 = *piVar13;
      iVar31 = 0;
      uVar16 = 0;
      uVar28 = 0;
      puVar6 = (undefined4 *)0x0;
      puVar8 = (undefined4 *)0x0;
      iVar11 = 30000000;
      iVar9 = iVar2;
      pvVar4 = (void *)FUN_00434cd0((int)pvVar12);
      FUN_00453aa0(pvVar4,iVar9,iVar15,iVar11,puVar8,puVar6,uVar28,uVar16,iVar31);
      uStack_8 = 1;
      puStack_4 = FUN_00462d30(DAT_0048ce14,0,piVar13[2],piVar13 + 6);
      FUN_004663e0(puStack_4,piVar13[3],piVar13[4]);
      FUN_004663c0(puStack_4,piVar13[5]);
      piVar5 = (int *)FUN_00434cd0((int)pvVar12);
      (**(code **)(*piVar5 + 4))(&uStack_8);
      piVar13 = piVar13 + 0x38;
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 8;
    break;
  case 0x18:
    uVar14 = RKC_NETWORK_PACKET::GetSize(param_1);
    piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    for (uVar14 = uVar14 / 0xdc; uVar14 != 0; uVar14 = uVar14 - 1) {
      iVar15 = *piVar13;
      iVar9 = 30000000;
      pvVar12 = (void *)FUN_00427aa0(iVar2);
      pvVar12 = FUN_004298c0(pvVar12,iVar9,iVar15);
      iVar31 = 0;
      uVar16 = 0;
      uVar28 = 0;
      iVar15 = *piVar13;
      puVar6 = (undefined4 *)0x0;
      puVar8 = (undefined4 *)0x0;
      iVar11 = 30000000;
      iVar9 = iVar2;
      pvVar4 = (void *)FUN_00434cd0((int)pvVar12);
      FUN_00453aa0(pvVar4,iVar9,iVar15,iVar11,puVar8,puVar6,uVar28,uVar16,iVar31);
      uStack_8 = 1;
      puStack_4 = FUN_00462d30(DAT_0048ce14,1,piVar13[1],piVar13 + 5);
      FUN_004663e0(puStack_4,piVar13[2],piVar13[3]);
      FUN_004663c0(puStack_4,piVar13[4]);
      piVar5 = (int *)FUN_00434cd0((int)pvVar12);
      (**(code **)(*piVar5 + 4))(&uStack_8);
      piVar13 = piVar13 + 0x37;
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x10;
    break;
  case 0x19:
    uVar14 = RKC_NETWORK_PACKET::GetSize(param_1);
    piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    for (uVar14 = uVar14 / 0xd4; uVar14 != 0; uVar14 = uVar14 - 1) {
      iVar15 = *piVar13;
      iVar9 = 30000000;
      pvVar12 = (void *)FUN_00427aa0(iVar2);
      pvVar12 = FUN_004298c0(pvVar12,iVar9,iVar15);
      iVar31 = 0;
      uVar16 = 0;
      uVar28 = 0;
      iVar15 = *piVar13;
      puVar6 = (undefined4 *)0x0;
      puVar8 = (undefined4 *)0x0;
      iVar11 = 30000000;
      iVar9 = iVar2;
      pvVar4 = (void *)FUN_00434cd0((int)pvVar12);
      FUN_00453aa0(pvVar4,iVar9,iVar15,iVar11,puVar8,puVar6,uVar28,uVar16,iVar31);
      uStack_8 = 1;
      puStack_4 = FUN_00462d30(DAT_0048ce14,2,piVar13[1],piVar13 + 5);
      FUN_004663e0(puStack_4,piVar13[2],piVar13[3]);
      FUN_004663c0(puStack_4,piVar13[4]);
      piVar5 = (int *)FUN_00434cd0((int)pvVar12);
      (**(code **)(*piVar5 + 4))(&uStack_8);
      piVar13 = piVar13 + 0x35;
    }
    *(uint *)((int)this + 0xa0b4) = *(uint *)((int)this + 0xa0b4) | 0x20;
    goto switchD_004190e6_caseD_20;
  case 0x1a:
    uVar14 = RKC_NETWORK_PACKET::GetSize(param_1);
    piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    for (uVar14 = uVar14 >> 4; uVar14 != 0; uVar14 = uVar14 - 1) {
      iVar15 = *piVar13;
      iVar9 = 30000000;
      pvVar12 = (void *)FUN_00427aa0(iVar2);
      pvVar12 = FUN_004298c0(pvVar12,iVar9,iVar15);
      iVar31 = 0;
      uVar16 = 0;
      uVar28 = 0;
      iVar15 = *piVar13;
      puVar6 = (undefined4 *)0x0;
      puVar8 = (undefined4 *)0x0;
      iVar11 = 30000000;
      iVar9 = iVar2;
      pvVar4 = (void *)FUN_00434cd0((int)pvVar12);
      FUN_00453aa0(pvVar4,iVar9,iVar15,iVar11,puVar8,puVar6,uVar28,uVar16,iVar31);
      uStack_8 = 1;
      puStack_4 = FUN_00462d30(DAT_0048ce14,3,piVar13[1],(undefined4 *)0x0);
      FUN_004663e0(puStack_4,piVar13[2],piVar13[3]);
      piVar5 = (int *)FUN_00434cd0((int)pvVar12);
      (**(code **)(*piVar5 + 4))(&uStack_8);
      piVar13 = piVar13 + 4;
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x40;
    break;
  case 0x1b:
    uVar14 = RKC_NETWORK_PACKET::GetSize(param_1);
    piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
    for (uVar14 = uVar14 / 0x14; uVar14 != 0; uVar14 = uVar14 - 1) {
      iVar15 = *piVar13;
      iVar9 = 30000000;
      pvVar12 = (void *)FUN_00427aa0(iVar2);
      pvVar12 = FUN_004298c0(pvVar12,iVar9,iVar15);
      iVar15 = *piVar13;
      iVar31 = 0;
      uVar16 = 0;
      uVar28 = 0;
      puVar6 = (undefined4 *)0x0;
      puVar8 = (undefined4 *)0x0;
      iVar11 = 30000000;
      iVar9 = iVar2;
      pvVar4 = (void *)FUN_00434cd0((int)pvVar12);
      FUN_00453aa0(pvVar4,iVar9,iVar15,iVar11,puVar8,puVar6,uVar28,uVar16,iVar31);
      uStack_8 = 1;
      puStack_4 = FUN_00462d30(DAT_0048ce14,4,piVar13[1],piVar13 + 4);
      FUN_004663e0(puStack_4,piVar13[2],piVar13[3]);
      piVar5 = (int *)FUN_00434cd0((int)pvVar12);
      (**(code **)(*piVar5 + 4))(&uStack_8);
      piVar13 = piVar13 + 5;
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x80;
    break;
  case 0x1c:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      pRVar1 = (RKC_NETWORK_PACKET *)*piVar13;
      pvVar12 = RKC_NETWORK_PACKET::GetData(param_1);
      piVar13 = (int *)((int)pvVar12 + 4);
      RKC_NETWORK_PACKET::GetData(param_1);
      param_1 = pRVar1;
      if (0 < (int)pRVar1) {
        do {
          iVar15 = *piVar13;
          pvVar12 = (void *)FUN_00427aa0(iVar2);
          puVar8 = (undefined4 *)FUN_004299e0(pvVar12,iVar15);
          if ((puVar8 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar8), iVar15 == 2)) {
            pvVar12 = (void *)FUN_00434cd0((int)puVar8);
            FUN_0045a210(pvVar12,(int)piVar13);
          }
          piVar13 = piVar13 + 5;
          param_1 = param_1 + -1;
        } while (param_1 != (RKC_NETWORK_PACKET *)0x0);
      }
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x100;
    break;
  case 0x1d:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      iStack_10 = *piVar13;
      pvVar12 = RKC_NETWORK_PACKET::GetData(param_1);
      piVar13 = (int *)((int)pvVar12 + 4);
      if (0 < iStack_10) {
        puVar8 = (undefined4 *)((int)pvVar12 + 8);
        do {
          iVar15 = *piVar13;
          iVar9 = FUN_00434cd0(*(int *)((int)this + 0xa018));
          if (iVar15 % 10 != iVar9) {
            iVar15 = *piVar13;
            pvVar12 = (void *)FUN_00427aa0(iVar2);
            puVar6 = (undefined4 *)FUN_004299e0(pvVar12,iVar15);
            if ((puVar6 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar6), iVar15 == 5)) {
              uVar28 = *puVar8;
              uVar16 = puVar8[1];
              iVar15 = FUN_00434cd0((int)puVar6);
              *(undefined4 *)(iVar15 + 0x18) = uVar28;
              *(undefined4 *)(iVar15 + 0x1c) = uVar16;
            }
          }
          piVar13 = piVar13 + 3;
          puVar8 = puVar8 + 3;
          iStack_10 = iStack_10 + -1;
        } while (iStack_10 != 0);
      }
    }
    *(uint *)((int)this + 0xa0b4) = *(uint *)((int)this + 0xa0b4) | 0x200;
    goto switchD_004190e6_caseD_20;
  case 0x1e:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      iVar15 = *piVar13;
      pvVar12 = RKC_NETWORK_PACKET::GetData(param_1);
      piVar13 = (int *)((int)pvVar12 + 4);
      if (0 < iVar15) {
        do {
          iVar9 = piVar13[3];
          iVar11 = *piVar13;
          iVar31 = 1000;
          uVar28 = 1;
          pvVar12 = (void *)FUN_00466420(iVar2);
          puVar8 = (undefined4 *)FUN_0042ff90(pvVar12,uVar28,iVar11,iVar31,iVar9);
          if (puVar8 == (undefined4 *)0x0) {
            iVar9 = piVar13[3];
            uVar32 = 200;
            uVar26 = 1;
            uVar25 = 1;
            piVar5 = piVar13 + 1;
            iVar11 = *piVar13;
            uVar18 = 0xffffffff;
            uVar17 = 0x14;
            uVar16 = 1;
            uVar28 = 1000;
            puVar6 = puVar8;
            puVar19 = puVar8;
            puVar20 = puVar8;
            puVar21 = puVar8;
            puVar22 = puVar8;
            puVar23 = puVar8;
            puVar24 = puVar8;
            puVar27 = puVar8;
            puVar29 = puVar8;
            puVar30 = puVar8;
            puVar33 = puVar8;
            pvVar12 = (void *)FUN_00466420(iVar2);
            FUN_0042fdc0(pvVar12,uVar28,uVar16,iVar11,uVar17,uVar18,puVar8,puVar6,puVar19,puVar20,
                         piVar5,puVar21,puVar22,puVar23,puVar24,iVar9,uVar25,uVar26,puVar27,puVar29,
                         puVar30,uVar32,puVar33);
          }
          piVar13 = piVar13 + 4;
          iVar15 = iVar15 + -1;
        } while (iVar15 != 0);
      }
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x400;
    break;
  case 0x1f:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      iVar2 = *piVar13;
      *(int *)((int)this + 0xa6e4) = iVar2;
      if (iVar2 != 0) {
        if (*(HGLOBAL *)((int)this + 0xa6e8) != (HGLOBAL)0x0) {
          GlobalFree(*(HGLOBAL *)((int)this + 0xa6e8));
        }
        pvVar7 = GlobalAlloc(0,*(int *)((int)this + 0xa6e4) * 0xc);
        *(HGLOBAL *)((int)this + 0xa6e8) = pvVar7;
        iVar2 = *(int *)((int)this + 0xa6e4);
        puVar8 = (undefined4 *)RKC_NETWORK_PACKET::GetData(param_1);
        puVar6 = *(undefined4 **)((int)this + 0xa6e8);
        for (uVar14 = iVar2 * 3 & 0x3fffffff; puVar8 = puVar8 + 1, uVar14 != 0; uVar14 = uVar14 - 1)
        {
          *puVar6 = *puVar8;
          puVar6 = puVar6 + 1;
        }
        for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
          *(undefined *)puVar6 = *(undefined *)puVar8;
          puVar8 = (undefined4 *)((int)puVar8 + 1);
          puVar6 = (undefined4 *)((int)puVar6 + 1);
        }
      }
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x800;
    break;
  default:
    goto switchD_004190e6_caseD_20;
  case 0x23:
    lVar3 = RKC_NETWORK_PACKET::GetSize(param_1);
    if (lVar3 != 0) {
      piVar13 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
      iVar2 = *piVar13;
      *(int *)((int)this + 0xa6f4) = iVar2;
      if (iVar2 != 0) {
        if (*(HGLOBAL *)((int)this + 0xa6f8) != (HGLOBAL)0x0) {
          GlobalFree(*(HGLOBAL *)((int)this + 0xa6f8));
        }
        pvVar7 = GlobalAlloc(0,*(int *)((int)this + 0xa6f4) * 0xc);
        *(HGLOBAL *)((int)this + 0xa6f8) = pvVar7;
        iVar2 = *(int *)((int)this + 0xa6f4);
        puVar8 = (undefined4 *)RKC_NETWORK_PACKET::GetData(param_1);
        puVar6 = *(undefined4 **)((int)this + 0xa6f8);
        for (uVar14 = iVar2 * 3 & 0x3fffffff; puVar8 = puVar8 + 1, uVar14 != 0; uVar14 = uVar14 - 1)
        {
          *puVar6 = *puVar8;
          puVar6 = puVar6 + 1;
        }
        for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
          *(undefined *)puVar6 = *(undefined *)puVar8;
          puVar8 = (undefined4 *)((int)puVar8 + 1);
          puVar6 = (undefined4 *)((int)puVar6 + 1);
        }
      }
    }
    uVar14 = *(uint *)((int)this + 0xa0b4) | 0x1000;
  }
  *(uint *)((int)this + 0xa0b4) = uVar14;
switchD_004190e6_caseD_20:
  if ((*(int *)((int)this + 0xa0b4) == 0x1fff) && (*(int *)((int)this + 0xa6ec) == 0)) {
    puVar8 = *(undefined4 **)((int)this + 0xa6f8);
    iVar2 = *(int *)((int)this + 0xa6f4);
    puVar6 = *(undefined4 **)((int)this + 0xa6e8);
    iVar15 = *(int *)((int)this + 0xa6e4);
    iVar9 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    pRVar10 = (RKC_RPG_SCRIPT *)FUN_00427b00(*(int *)(iVar9 + 0x458));
    iVar9 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    iVar9 = *(int *)(iVar9 + 0x458);
    iVar11 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    pvVar12 = (void *)FUN_00466410(*(int *)(iVar11 + 0x458));
    iVar2 = FUN_004300e0(pvVar12,iVar9,pRVar10,iVar15,puVar6,iVar2,puVar8);
    if (iVar2 == 1) {
      *(undefined4 *)((int)this + 0xa6ec) = 1;
    }
  }
  iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  if (((*(int *)(iVar2 + 0x43c) == 2) && (*(int *)((int)this + 0xa0b0) == 7)) &&
     (*(int *)((int)this + 0xa0b4) == 0x1fff)) {
    iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
    *(undefined4 *)(iVar2 + 0x43c) = 0;
    if (DAT_00482db0 == 2) {
      iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
      piVar13 = (int *)FUN_00466410(*(int *)(iVar2 + 0x458));
      FUN_004304b0(piVar13);
      DAT_0048d8d4 = 1;
      return 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_00419ad0
 * Address: 00419ad0
 */

undefined4 FUN_00419ad0(RKC_NETWORK_PACKET *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  void *this;
  undefined4 *puVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  iVar2 = FUN_00434cb0(DAT_0048ce0c);
  if (iVar2 != 0) {
    iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458));
    if (iVar3 == *piVar1) {
      iVar3 = piVar1[2];
      this = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
      puVar4 = (undefined4 *)FUN_004299e0(this,iVar3);
      if (puVar4 != (undefined4 *)0x0) {
        iVar2 = FUN_00427b20(puVar4);
        if (iVar2 == 2) {
          iVar2 = FUN_00434cd0((int)puVar4);
          if (iVar2 != 0) {
            iVar3 = *(int *)(iVar2 + 0xd4) - piVar1[4];
            *(int *)(iVar2 + 0xd4) = iVar3;
            if (iVar3 < 1) {
              *(undefined4 *)(iVar2 + 0xd4) = 1;
            }
            *(int *)(iVar2 + 0x18) = piVar1[6];
            *(int *)(iVar2 + 0x1c) = piVar1[7];
          }
        }
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00419b70
 * Address: 00419b70
 */

undefined4 FUN_00419b70(void *param_1)

{
  int iVar1;
  RKC_NETWORK_CLIENT *this;
  
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  if (iVar1 != 0) {
    this = RKC_NETWORK::GetClient(DAT_00482d24);
    RKC_NETWORK_CLIENT::SetSendPacket(this,0,0x20,0x12,param_1,-1,0,0);
  }
  return 1;
}



/*
 * Function: FUN_00419bb0
 * Address: 00419bb0
 */

undefined4 __thiscall FUN_00419bb0(void *this,RKC_NETWORK_PACKET *param_1)

{
  int iVar1;
  int *piVar2;
  void *this_00;
  int iVar3;
  void *this_01;
  undefined4 *puVar4;
  int *piVar5;
  int *piVar6;
  int iVar7;
  
  piVar2 = (int *)RKC_NETWORK_PACKET::GetData(param_1);
  this_00 = (void *)FUN_00434cb0((int)DAT_0048ce0c);
  if ((this_00 != (void *)0x0) &&
     (iVar3 = FUN_00456230(*(int *)((int)this_00 + 0x458)), iVar3 == *piVar2)) {
    if (piVar2[1] == 1) {
      iVar3 = piVar2[2];
      this_01 = (void *)FUN_00427aa0(*(int *)((int)this_00 + 0x458));
      puVar4 = (undefined4 *)FUN_004299e0(this_01,iVar3);
      if (puVar4 != (undefined4 *)0x0) {
        iVar3 = FUN_00427b20(puVar4);
        if ((iVar3 == 2) && (iVar3 = FUN_00434cd0((int)puVar4), iVar3 != 0)) {
          *(undefined4 *)(iVar3 + 0xd4) = 0;
          *(int *)(iVar3 + 0x18) = piVar2[10];
          *(int *)(iVar3 + 0x1c) = piVar2[0xb];
          piVar6 = (int *)(iVar3 + 0x288);
          piVar5 = piVar2 + 5;
          iVar7 = 4;
          do {
            iVar1 = *piVar5;
            piVar5 = piVar5 + 1;
            *piVar6 = iVar1;
            piVar6 = piVar6 + 1;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
          FUN_004134a0(this,iVar3,piVar2[9],piVar2[4]);
          if (*(int *)((int)this_00 + 4) == piVar2[4] % 10) {
            if (*(int *)((int)this_00 + 0x15e4) != 0) {
              FUN_0044f6f0(this_00,7,1);
            }
            if (*(int *)((int)this_00 + 0x15dc) != 0) {
              FUN_0044f6f0(this_00,8,1);
            }
            if (*(int *)((int)this_00 + 0x15ec) != 0) {
              FUN_0044f6f0(this_00,9,1);
            }
          }
        }
        iVar3 = FUN_00427b20(puVar4);
        if (iVar3 == 5) {
          iVar3 = FUN_00434cd0((int)puVar4);
          iVar3 = *(int *)(iVar3 + 4);
          iVar7 = FUN_00434cd0((int)DAT_0048ce0c);
          if ((iVar3 % 10 != iVar7) && (iVar3 = FUN_00434cd0((int)puVar4), iVar3 != 0)) {
            *(undefined4 *)(iVar3 + 0xfc) = 0;
            return 1;
          }
        }
      }
    }
    else {
      iVar3 = FUN_00434c90(DAT_0048ce0c,piVar2[2]);
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x2d8) == 1)) {
        *(undefined4 *)(iVar3 + 0x1a4) = 0;
        *(undefined4 *)(iVar3 + 0x1598) = 1;
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00419d60
 * Address: 00419d60
 */

undefined4 FUN_00419d60(void *param_1)

{
  int iVar1;
  RKC_NETWORK_CLIENT *this;
  
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  if (iVar1 != 0) {
    this = RKC_NETWORK::GetClient(DAT_00482d24);
    RKC_NETWORK_CLIENT::SetSendPacket(this,0,0x30,0x13,param_1,-1,0,0);
  }
  return 1;
}



/*
 * Function: FUN_00419da0
 * Address: 00419da0
 */

undefined4 __thiscall FUN_00419da0(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  long lVar1;
  undefined4 uVar2;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_2);
  switch(lVar1) {
  case 0xb:
    uVar2 = FUN_0041aa80(param_1,param_2);
    return uVar2;
  case 0xc:
    uVar2 = FUN_0041ab20(this,param_1,param_2);
    return uVar2;
  default:
    return 0;
  case 0xe:
    uVar2 = FUN_0041ad70(this,param_1,param_2);
    return uVar2;
  case 0x12:
    uVar2 = FUN_0041bfa0(this,param_1,param_2);
    return uVar2;
  case 0x13:
    uVar2 = FUN_0041c300(param_1,param_2);
    return uVar2;
  case 0x22:
    uVar2 = FUN_0041bf00(this,param_1,param_2);
    return uVar2;
  }
}



/*
 * Function: FUN_00419e70
 * Address: 00419e70
 */

undefined4 __thiscall FUN_00419e70(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  long lVar1;
  undefined4 uVar2;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_2);
  switch(lVar1) {
  case 7:
    uVar2 = FUN_0041a720(param_1,param_2);
    return uVar2;
  case 8:
    uVar2 = FUN_0041a810(param_1,param_2);
    return uVar2;
  case 9:
    uVar2 = FUN_0041a8f0(this,param_1,param_2);
    return uVar2;
  default:
    return 0;
  case 0xd:
    uVar2 = FUN_0041ac90(param_1,param_2);
    return uVar2;
  case 0x10:
    uVar2 = FUN_0041aed0(this,param_1,param_2);
    return uVar2;
  case 0x11:
    uVar2 = FUN_0041c590(param_1,param_2);
    return uVar2;
  }
}



/*
 * Function: FUN_00419f30
 * Address: 00419f30
 */

undefined4 FUN_00419f30(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  long lVar1;
  undefined4 uVar2;
  
  lVar1 = RKC_NETWORK_PACKET::GetInfoID(param_2);
  if (lVar1 != 10) {
    return 0;
  }
  uVar2 = FUN_0041c6b0(param_1,param_2);
  return uVar2;
}



/*
 * Function: FUN_00419f60
 * Address: 00419f60
 */

undefined4 FUN_00419f60(undefined param_1,undefined param_2,undefined param_3)

{
  RKC_NETWORK_SERVER *this;
  int iVar1;
  long lVar2;
  RKC_NETWORK_SERVER_CONNECTION *pRVar3;
  long lVar4;
  int iVar5;
  undefined4 *this_00;
  RKC_NETWORK_PACKET *this_01;
  int *piVar6;
  void *pvVar7;
  char *pcVar8;
  undefined4 *puVar9;
  void *this_02;
  undefined4 *puVar10;
  int in_stack_00000068;
  int in_stack_0000006c;
  void *in_stack_0000111c;
  undefined uVar11;
  undefined uVar12;
  int iVar13;
  undefined uVar14;
  int iVar15;
  int iStack_8;
  
  uVar14 = SUB41(ExceptionList,0);
  ExceptionList = &stack0xfffffff4;
  FUN_00467f60(uVar14);
  RKC_MEMORY::RKC_MEMORY((RKC_MEMORY *)&param_3);
  RKC_NETWORK::SetMutex(DAT_00482d24);
  this = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c60(*(void **)((int)this_02 + 0xa018),0);
  lVar2 = RKC_NETWORK_SERVER::GetConnectionCount(this);
  iStack_8 = 0;
  if (0 < lVar2) {
    do {
      pRVar3 = RKC_NETWORK_SERVER::GetConnection(this,iStack_8);
      if ((pRVar3 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) &&
         (lVar4 = RKC_NETWORK_SERVER_CONNECTION::GetStatus(pRVar3), lVar4 == 2)) {
        iVar15 = 1;
        if (1 < iVar1) {
          do {
            iVar5 = FUN_00434c90(*(void **)((int)this_02 + 0xa018),iVar15);
            if ((iVar5 != 0) &&
               (((*(int *)(iVar5 + 0x2d8) == 1 || (*(int *)(iVar5 + 0x2d4) == 1)) &&
                (lVar4 = RKC_NETWORK_SERVER_CONNECTION::GetID(pRVar3), *(int *)(iVar5 + 8) == lVar4)
                ))) break;
            iVar15 = iVar15 + 1;
          } while (iVar15 < iVar1);
        }
        if (iVar15 == iVar1) {
          iVar15 = 1;
          if (1 < iVar1) {
            do {
              iVar5 = FUN_00434c90(*(void **)((int)this_02 + 0xa018),iVar15);
              if (((iVar5 != 0) && (*(int *)(iVar5 + 0x2d8) == 0)) && (*(int *)(iVar5 + 0x2d4) == 0)
                 ) {
                *(undefined4 *)(iVar5 + 0x2d4) = 1;
                lVar4 = RKC_NETWORK_SERVER_CONNECTION::GetID(pRVar3);
                *(long *)(iVar5 + 8) = lVar4;
                RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar3,0,4,0,&stack0xfffffff4,-1,0,0);
                break;
              }
              iVar15 = iVar15 + 1;
            } while (iVar15 < iVar1);
          }
          if (iVar15 == iVar1) {
            RKC_NETWORK_SERVER_CONNECTION::Release(pRVar3);
          }
        }
      }
      iStack_8 = iStack_8 + 1;
    } while (iStack_8 < lVar2);
  }
  iStack_8 = 0;
  if (0 < iVar1) {
    do {
      this_00 = (undefined4 *)FUN_00434c90(*(void **)((int)this_02 + 0xa018),iStack_8);
      if (((this_00 != (undefined4 *)0x0) && (this_00[0xb6] == 0)) &&
         ((this_00[0xb5] == 1 &&
          ((pRVar3 = RKC_NETWORK_SERVER::GetConnection(this,this_00[2],(RKC_NETWORK_IP *)0x0,-1),
           pRVar3 != (RKC_NETWORK_SERVER_CONNECTION *)0x0 &&
           (this_01 = RKC_NETWORK_SERVER_CONNECTION::GetRecvPacket(pRVar3,0,1),
           this_01 != (RKC_NETWORK_PACKET *)0x0)))))) {
        piVar6 = (int *)RKC_NETWORK_PACKET::GetData(this_01);
        if ((*piVar6 != DAT_0048e2c0) ||
           ((piVar6[1] != DAT_0048e2bc || (piVar6[2] != DAT_0048e2b8)))) {
          RKC_NETWORK_SERVER_CONNECTION::Release(pRVar3);
          break;
        }
        pvVar7 = RKC_NETWORK_PACKET::GetData(this_01);
        puVar9 = (undefined4 *)((int)pvVar7 + 0xc);
        puVar10 = (undefined4 *)&stack0x00000064;
        for (iVar15 = 0x22e; iVar15 != 0; iVar15 = iVar15 + -1) {
          *puVar10 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar10 = puVar10 + 1;
        }
        RKC_NETWORK_SERVER_CONNECTION::DeleteRecvPacket(pRVar3,this_01);
        RKC_MEMORY::Allocation((RKC_MEMORY *)&param_3,0x22e0,0);
        pcVar8 = RKC_MEMORY::Get((RKC_MEMORY *)&param_3);
        iVar5 = 0;
        iVar15 = 0;
        do {
          pvVar7 = (void *)FUN_00434c90(*(void **)((int)this_02 + 0xa018),iVar15);
          if ((pvVar7 != (void *)0x0) && (*(int *)((int)pvVar7 + 0x2d8) == 1)) {
            FUN_00445210(pvVar7,(undefined4 *)pcVar8);
            pcVar8 = pcVar8 + 0x8b8;
            iVar5 = iVar5 + 1;
          }
          iVar15 = iVar15 + 1;
        } while (iVar15 < iVar1);
        iVar13 = 0;
        iVar15 = 0;
        lVar2 = -1;
        pcVar8 = RKC_MEMORY::Get((RKC_MEMORY *)&param_3);
        RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                  (pRVar3,0,iVar5 * 0x8b8,2,pcVar8,lVar2,iVar15,iVar13);
        RKC_MEMORY::Release((RKC_MEMORY *)&param_3);
        iVar15 = 0;
        do {
          FUN_00420b00((void *)(DAT_0048d768 + iVar15 * 0x6c),
                       (undefined4 *)(&stack0x00000014 + iVar15 * 0x14));
          iVar15 = iVar15 + 1;
        } while (iVar15 < 4);
        RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar3,0,0x50,6,&stack0x00000014,-1,0,0);
        this_00[0xb5] = 0;
        FUN_00440f70(this_00,(undefined4 *)&stack0x00000080);
        FUN_00440c20(this_00);
        FUN_00445180(this_00,(int)&stack0x00000064);
        *this_00 = 2;
        FUN_00426200(*(void **)((int)this_02 + 0xa010),iStack_8,in_stack_00000068,in_stack_0000006c,
                     0,(undefined4 *)0x0,-1);
        FUN_00467d51(&stack0x0000091c,(byte *)s_Player___s__login_to_this_world__0047fa78);
        pcVar8 = &stack0x0000091c;
        iVar5 = 0;
        uVar12 = 0x40;
        uVar11 = 0xe0;
        uVar14 = 0xe0;
        iVar15 = FUN_00434cb0(DAT_0048ce0c);
        FUN_00453700(*(void **)(iVar15 + 0x4e4),pcVar8,uVar14,uVar11,uVar12,iVar5);
        FUN_0041afc0(this_02,iStack_8);
        FUN_00445210(this_00,(undefined4 *)&stack0x00000064);
        iVar15 = 1;
        if (1 < iVar1) {
          do {
            puVar9 = (undefined4 *)FUN_00434c90(*(void **)((int)this_02 + 0xa018),iVar15);
            if ((((puVar9 != (undefined4 *)0x0) && (puVar9 != this_00)) && (puVar9[0xb6] == 1)) &&
               (pRVar3 = RKC_NETWORK_SERVER::GetConnection(this,puVar9[2],(RKC_NETWORK_IP *)0x0,-1),
               pRVar3 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
              RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar3,0,0x8b8,4,&stack0x00000064,-1,0,0)
              ;
            }
            iVar15 = iVar15 + 1;
          } while (iVar15 < iVar1);
        }
      }
      iStack_8 = iStack_8 + 1;
    } while (iStack_8 < iVar1);
  }
  RKC_NETWORK::ResetMutex(DAT_00482d24);
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)&param_3);
  ExceptionList = in_stack_0000111c;
  return 1;
}



/*
 * Function: FUN_0041a450
 * Address: 0041a450
 */

undefined4 __fastcall FUN_0041a450(int param_1)

{
  void *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar1;
  RKC_NETWORK_SERVER_CONNECTION *pRVar2;
  void *pvVar3;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar4;
  int iVar5;
  RKC_RPGSCRN_GROUNDBLOCK *this_01;
  RKC_NETWORK_PACKETBLOCK *pRVar6;
  char *pcVar7;
  undefined uVar8;
  undefined uVar9;
  undefined uVar10;
  int iVar11;
  int iStack_820;
  int iStack_81c;
  int local_818;
  RKC_MEMORY local_814 [8];
  char acStack_80c [2048];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471b0c;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  local_818 = param_1;
  RKC_MEMORY::RKC_MEMORY(local_814);
  uStack_4 = 0;
  RKC_NETWORK::SetMutex(DAT_00482d24);
  this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c60(*(void **)(param_1 + 0xa018),0);
  iStack_81c = iVar1;
  RKC_NETWORK_SERVER::GetConnectionCount(this_00);
  iStack_820 = 1;
  if (1 < iVar1) {
    do {
      iVar1 = FUN_00434c90(*(void **)(param_1 + 0xa018),iStack_820);
      if (((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) &&
         (pRVar2 = RKC_NETWORK_SERVER::GetConnection
                             (this_00,*(long *)(iVar1 + 8),(RKC_NETWORK_IP *)0x0,-1),
         pRVar2 == (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
        this = *(void **)(iVar1 + 0x458);
        if (this != (void *)0x0) {
          iVar5 = iStack_820;
          pvVar3 = (void *)FUN_00466420((int)this);
          FUN_0042fef0(pvVar3,iVar5);
          FUN_004505d0(iVar1);
          iVar5 = iStack_820;
          pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this);
          FUN_00434c10(DAT_0048ce0c,pRVar4,iVar5);
          iVar5 = FUN_00430890((int)this);
          if (iVar5 == 1) {
            pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this);
            RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar4);
            pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this);
            RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar4);
            this_01 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540((int)this);
            RKC_RPGSCRN_GROUNDBLOCK::Release(this_01);
            iVar5 = 4;
            pvVar3 = (void *)FUN_00427aa0((int)this);
            FUN_00429d30(pvVar3,iVar5);
            iVar5 = FUN_00466420((int)this);
            FUN_0042fb00(iVar5);
            pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this);
            pvVar3 = (void *)FUN_00427aa0((int)this);
            FUN_00429ab0(pvVar3,pRVar4);
            pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this);
            RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar4);
          }
          iVar5 = FUN_00430890((int)this);
          FUN_00427ac0(this,iVar5 + -1);
        }
        FUN_00467d51(acStack_80c,(byte *)s_Player___s__logout_from_this_wor_0047fa9c);
        pcVar7 = acStack_80c;
        iVar11 = 0;
        uVar10 = 0x40;
        uVar9 = 0xe0;
        uVar8 = 0xe0;
        iVar5 = FUN_00434cb0((int)DAT_0048ce0c);
        FUN_00453700(*(void **)(iVar5 + 0x4e4),pcVar7,uVar8,uVar9,uVar10,iVar11);
        FUN_004201a0(DAT_0048d768 + *(int *)(iVar1 + 4) * 0x6c);
        FUN_00440d00(iVar1);
        pRVar2 = RKC_NETWORK_SERVER::GetConnection
                           (this_00,*(long *)(iVar1 + 8),(RKC_NETWORK_IP *)0x0,-1);
        if (pRVar2 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
          pRVar6 = RKC_NETWORK_SERVER_CONNECTION::GetSendPacketBlock(pRVar2);
          RKC_NETWORK_PACKETBLOCK::Release(pRVar6);
          pRVar6 = RKC_NETWORK_SERVER_CONNECTION::GetRecvPacketBlock(pRVar2);
          RKC_NETWORK_PACKETBLOCK::Release(pRVar6);
        }
        iVar1 = 1;
        do {
          if (((iStack_820 != iVar1) &&
              (iVar5 = FUN_00434c90(*(void **)(local_818 + 0xa018),iVar1), iVar5 != 0)) &&
             ((*(int *)(iVar5 + 0x2d8) == 1 &&
              (pRVar2 = RKC_NETWORK_SERVER::GetConnection
                                  (this_00,*(long *)(iVar5 + 8),(RKC_NETWORK_IP *)0x0,-1),
              pRVar2 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)))) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar2,0,4,5,&iStack_820,-1,0,0);
          }
          iVar1 = iVar1 + 1;
          param_1 = local_818;
        } while (iVar1 < iStack_81c);
      }
      iStack_820 = iStack_820 + 1;
    } while (iStack_820 < iStack_81c);
  }
  RKC_NETWORK::ResetMutex(DAT_00482d24);
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_814);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_0041a720
 * Address: 0041a720
 */

undefined4 FUN_0041a720(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  void *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  if (*piVar1 != 0) {
    this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
    if ((this != (void *)0x0) && (*(int *)((int)this + 0x2d8) == 1)) {
      FUN_00451f00(this,piVar1);
      if (*(char *)((int)piVar1 + 0x16) == '\x01') {
        FUN_00440c20(this);
        *(int *)((int)this + 0x15d8) = *(int *)((int)this + 0x15d8) + 1;
      }
      this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
      iVar2 = FUN_00434c60(DAT_0048ce0c,0);
      iVar4 = 1;
      if (1 < iVar2) {
        do {
          if ((((iVar4 != *piVar1) && (iVar3 = FUN_00434c90(DAT_0048ce0c,iVar4), iVar3 != 0)) &&
              (*(int *)(iVar3 + 0x2d8) == 1)) &&
             (this_01 = RKC_NETWORK_SERVER::GetConnection
                                  (this_00,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1),
             this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                      (this_01,1,0x20,7,piVar1,*piVar1,1 - *(char *)(piVar1 + 5),0);
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < iVar2);
      }
    }
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_0041a810
 * Address: 0041a810
 */

undefined4 FUN_0041a810(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  void *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  if (*piVar1 != 0) {
    this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
    if ((this != (void *)0x0) && (iVar4 = 1, *(int *)((int)this + 0x2d8) == 1)) {
      FUN_00452da0(this,piVar1);
      this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
      iVar2 = FUN_00434c60(DAT_0048ce0c,0);
      if (1 < iVar2) {
        do {
          if ((((iVar4 != *piVar1) && (iVar3 = FUN_00434c90(DAT_0048ce0c,iVar4), iVar3 != 0)) &&
              (*(int *)(iVar3 + 0x2d8) == 1)) &&
             (this_01 = RKC_NETWORK_SERVER::GetConnection
                                  (this_00,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1),
             this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,1,0x1c,8,piVar1,*piVar1 + 0xc,1,0);
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < iVar2);
      }
    }
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_0041a8f0
 * Address: 0041a8f0
 */

undefined4 __thiscall FUN_0041a8f0(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  RKC_NETWORK_PACKET *this_00;
  int *piVar1;
  long lVar2;
  int iVar3;
  RKC_NETWORK_SERVER *this_01;
  RKC_NETWORK_SERVER_CONNECTION *this_02;
  void *this_03;
  long lVar4;
  int *piVar5;
  undefined uVar6;
  long lVar7;
  undefined uVar8;
  undefined uVar9;
  int iVar10;
  RKC_MEMORY local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  this_00 = param_2;
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471b29;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_14);
  uStack_4 = 0;
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  lVar2 = RKC_NETWORK_PACKET::GetSize(param_2);
  if ((lVar2 == piVar1[3] + 0x18) &&
     (iVar3 = FUN_00434cd0(*(int *)((int)this + 0xa018)), *piVar1 != iVar3)) {
    this_01 = RKC_NETWORK::GetServer(DAT_00482d24);
    param_2 = (RKC_NETWORK_PACKET *)0x1;
    do {
      if (((param_2 != (RKC_NETWORK_PACKET *)*piVar1) &&
          (iVar3 = FUN_00434c90(DAT_0048ce0c,(int)param_2), *(int *)(iVar3 + 0x2d8) == 1)) &&
         (this_02 = RKC_NETWORK_SERVER::GetConnection
                              (this_01,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1),
         this_02 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
        iVar10 = 0;
        iVar3 = 0;
        lVar7 = -1;
        lVar4 = 9;
        piVar5 = piVar1;
        lVar2 = RKC_NETWORK_PACKET::GetSize(this_00);
        RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                  (this_02,1,lVar2,lVar4,piVar5,lVar7,iVar3,iVar10);
      }
      param_2 = param_2 + 1;
    } while ((int)param_2 < 4);
    FUN_00434cb0(*(int *)((int)this + 0xa018));
    if (piVar1[1] == 0) {
      iVar3 = FUN_00434c90(*(void **)((int)this + 0xa018),*piVar1);
      if ((iVar3 == 0) || (*(int *)(iVar3 + 0x2d8) != 1)) goto LAB_0041aa49;
      uVar9 = *(undefined *)(piVar1 + 4);
      uVar8 = *(undefined *)((int)piVar1 + 0x11);
      iVar10 = 1;
      uVar6 = *(undefined *)((int)piVar1 + 0x12);
      this_03 = *(void **)(iVar3 + 0x4e0);
    }
    else {
      iVar3 = FUN_00434cb0(*(int *)((int)this + 0xa018));
      if (iVar3 == 0) goto LAB_0041aa49;
      uVar9 = *(undefined *)(piVar1 + 4);
      uVar8 = *(undefined *)((int)piVar1 + 0x11);
      iVar10 = 2;
      uVar6 = *(undefined *)((int)piVar1 + 0x12);
      this_03 = *(void **)(iVar3 + 0x4e4);
    }
    FUN_00453700(this_03,(char *)(piVar1 + 5),uVar6,uVar8,uVar9,iVar10);
  }
LAB_0041aa49:
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_14);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_0041aa80
 * Address: 0041aa80
 */

undefined4 __thiscall FUN_0041aa80(int param_1_00,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  void *this;
  undefined4 *this_00;
  void *pvVar2;
  int iVar3;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  this = (void *)FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
  this_00 = FUN_00462d30(DAT_0048ce14,piVar1[4],piVar1[5],piVar1 + 7);
  FUN_004663e0(this_00,piVar1[2],piVar1[3]);
  FUN_004663c0(this_00,piVar1[6]);
  pvVar2 = (void *)FUN_00426160(*(void **)(param_1_00 + 0xa010),*piVar1);
  iVar3 = FUN_00434cb0(*(int *)(param_1_00 + 0xa018));
  FUN_00452420(this,this_00,pvVar2,(uint)(pvVar2 != *(void **)(iVar3 + 0x458)));
  return 1;
}



/*
 * Function: FUN_0041ab20
 * Address: 0041ab20
 */

undefined4 __thiscall FUN_0041ab20(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  void *this_00;
  void *this_01;
  undefined4 *puVar2;
  int iVar3;
  RKC_NETWORK_SERVER *pRVar4;
  int iVar5;
  int iVar6;
  RKC_NETWORK_SERVER_CONNECTION *pRVar7;
  int iVar8;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  FUN_00434cb0(*(int *)((int)this + 0xa018));
  this_00 = (void *)FUN_00426160(*(void **)((int)this + 0xa010),*piVar1);
  this_01 = (void *)FUN_00427aa0((int)this_00);
  puVar2 = (undefined4 *)FUN_004299e0(this_01,piVar1[1]);
  if (puVar2 != (undefined4 *)0x0) {
    iVar3 = FUN_00427b20(puVar2);
    if (iVar3 == 3) {
      iVar3 = FUN_00434cd0((int)puVar2);
      iVar3 = *(int *)(iVar3 + 0xcc);
      pRVar4 = RKC_NETWORK::GetServer(DAT_00482d24);
      iVar5 = FUN_00434c60(DAT_0048ce0c,0);
      iVar8 = 1;
      if (1 < iVar5) {
        do {
          iVar6 = FUN_00434c90(DAT_0048ce0c,iVar8);
          if ((iVar6 != 0) && (*(int *)(iVar6 + 0x2d8) == 1)) {
            pRVar7 = RKC_NETWORK_SERVER::GetConnection
                               (pRVar4,*(long *)(iVar6 + 8),(RKC_NETWORK_IP *)0x0,-1);
            if (pRVar7 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
              RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar7,0,0xc,0xc,piVar1,-1,0,0);
            }
          }
          iVar8 = iVar8 + 1;
        } while (iVar8 < iVar5);
      }
      FUN_00427a40(this_00,piVar1[1],iVar3);
      return 1;
    }
  }
  pRVar4 = RKC_NETWORK::GetServer(DAT_00482d24);
  FUN_00434c60(DAT_0048ce0c,0);
  piVar1[1] = -1;
  iVar3 = FUN_00434c90(DAT_0048ce0c,piVar1[2]);
  if ((iVar3 != 0) && (*(int *)(iVar3 + 0x2d8) == 1)) {
    pRVar7 = RKC_NETWORK_SERVER::GetConnection(pRVar4,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1)
    ;
    if (pRVar7 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
      RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar7,0,0xc,0xc,piVar1,-1,0,0);
    }
  }
  return 1;
}



/*
 * Function: FUN_0041ac90
 * Address: 0041ac90
 */

undefined4 FUN_0041ac90(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  void *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
  if (this == (void *)0x0) {
    return 1;
  }
  iVar4 = 1;
  if (*(int *)((int)this + 0x2d8) == 1) {
    FUN_00445430(this,piVar1);
    this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar2 = FUN_00434c60(DAT_0048ce0c,0);
    if (1 < iVar2) {
      do {
        if ((((iVar4 != *piVar1) && (iVar3 = FUN_00434c90(DAT_0048ce0c,iVar4), iVar3 != 0)) &&
            (*(int *)(iVar3 + 0x2d8) == 1)) &&
           (this_01 = RKC_NETWORK_SERVER::GetConnection
                                (this_00,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1),
           this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,1,0x710,0xd,piVar1,*piVar1 + 4,1,0);
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < iVar2);
      return 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_0041ad70
 * Address: 0041ad70
 */

undefined4 __thiscall FUN_0041ad70(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  RKC_NETWORK_SERVER *this_00;
  int *piVar1;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *pRVar3;
  int iVar4;
  int iVar5;
  int iStack_8;
  RKC_NETWORK_SERVER *pRStack_4;
  
  this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
  pRStack_4 = this_00;
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  iVar2 = FUN_00434c90(*(void **)((int)this + 0xa018),*piVar1);
  if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) && (piVar1[1] != piVar1[2])) {
    if ((piVar1[3] == -1) && (piVar1[7] == 1)) {
      FUN_004201a0(DAT_0048d768 + *piVar1 * 0x6c);
    }
    FUN_00426200(*(void **)((int)this + 0xa010),*piVar1,piVar1[2],piVar1[3],piVar1[4],piVar1 + 5,
                 piVar1[8]);
    pRVar3 = RKC_NETWORK_SERVER::GetConnection
                       (this_00,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1);
    if (pRVar3 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
      FUN_0041afc0(this,*(int *)(iVar2 + 4));
      iVar2 = 0;
      do {
        iStack_8 = iVar2;
        RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar3,iVar2,4,0xf,&iStack_8,-1,0,0);
        iVar2 = iVar2 + 1;
      } while (iVar2 < 3);
    }
    iVar2 = FUN_00434c60(DAT_0048ce0c,0);
    iVar5 = 1;
    if (1 < iVar2) {
      do {
        iVar4 = FUN_00434c90(DAT_0048ce0c,iVar5);
        if (((iVar4 != 0) && (*piVar1 != iVar5)) &&
           ((*(int *)(iVar4 + 0x2d8) == 1 &&
            (pRVar3 = RKC_NETWORK_SERVER::GetConnection
                                (pRStack_4,*(long *)(iVar4 + 8),(RKC_NETWORK_IP *)0x0,-1),
            pRVar3 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)))) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar3,0,0x24,0xe,piVar1,-1,0,0);
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < iVar2);
    }
  }
  return 1;
}



/*
 * Function: FUN_0041aed0
 * Address: 0041aed0
 */

undefined4 __thiscall FUN_0041aed0(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  int iVar2;
  RKC_NETWORK_SERVER *this_00;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar4;
  int iVar5;
  long lVar6;
  
  iVar5 = 0;
  lVar6 = -1;
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  iVar2 = FUN_00434c90(DAT_0048ce0c,piVar1[2]);
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
    FUN_0041cbe0(this,piVar1);
    if ((piVar1[3] < 0x2c) && (piVar1[3] != 0x16)) {
      iVar5 = 1;
      lVar6 = piVar1[2] + 8;
    }
    this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar2 = FUN_00434c60(DAT_0048ce0c,0);
    iVar4 = 1;
    if (1 < iVar2) {
      do {
        if (iVar4 != piVar1[2]) {
          iVar3 = FUN_00434c90(DAT_0048ce0c,iVar4);
          if ((iVar3 != 0) && (*(int *)(iVar3 + 0x2d8) == 1)) {
            this_01 = RKC_NETWORK_SERVER::GetConnection
                                (this_00,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1);
            if (this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
              RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,1,0x38,0x10,piVar1,lVar6,iVar5,0)
              ;
            }
          }
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < iVar2);
    }
  }
  return 1;
}



/*
 * Function: FUN_0041afc0
 * Address: 0041afc0
 */

undefined4 __thiscall FUN_0041afc0(void *this,int param_1)

{
  RKC_NETWORK_SERVER *this_00;
  int iVar1;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar2;
  void *pvVar3;
  char *pcVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  int iVar8;
  undefined4 *puVar9;
  int *piVar10;
  uint uVar11;
  code *pcVar12;
  char *pcVar13;
  int iVar14;
  int iVar15;
  char *pcVar16;
  long lVar17;
  char *pcStack_30;
  int iStack_28;
  int iStack_24;
  int iStack_20;
  int iStack_1c;
  int iStack_18;
  RKC_MEMORY local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471b49;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_14);
  uStack_4 = 0;
  iStack_28 = 0;
  iStack_24 = 0;
  iStack_20 = 0;
  iStack_1c = 0;
  iStack_18 = 0;
  this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c90(DAT_0048ce0c,param_1);
  if (((iVar1 == 0) || (*(int *)(iVar1 + 0x2d8) == 0)) ||
     (this_01 = RKC_NETWORK_SERVER::GetConnection
                          (this_00,*(long *)(iVar1 + 8),(RKC_NETWORK_IP *)0x0,-1),
     this_01 == (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
    uStack_4 = 0xffffffff;
    RKC_MEMORY::~RKC_MEMORY(local_14);
    ExceptionList = pvStack_c;
    return 0;
  }
  iVar2 = FUN_00434c60(DAT_0048ce0c,0);
  RKC_MEMORY::Allocation(local_14,iVar2 * 0x8b8,0);
  pcStack_30 = RKC_MEMORY::Get(local_14);
  iVar15 = 0;
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      if (((*(int *)(iVar1 + 4) != iVar14) &&
          (pvVar3 = (void *)FUN_00434c90(*(void **)((int)this + 0xa018),iVar14),
          pvVar3 != (void *)0x0)) && (*(int *)((int)pvVar3 + 0x2d8) == 1)) {
        FUN_00445210(pvVar3,(undefined4 *)pcStack_30);
        pcStack_30 = pcStack_30 + 0x8b8;
        iVar15 = iVar15 + 1;
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
  }
  iVar14 = 0;
  iVar2 = 0;
  lVar17 = -1;
  pcVar4 = RKC_MEMORY::Get(local_14);
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
            (this_01,0,iVar15 * 0x8b8,0x14,pcVar4,lVar17,iVar2,iVar14);
  RKC_MEMORY::Release(local_14);
  puVar5 = (undefined4 *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00427b20(puVar5);
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar6 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar6), iVar15 == 3)) {
        iVar15 = FUN_00434cd0((int)puVar6);
        uVar7 = FUN_00456210(*(int *)(iVar15 + 0xcc));
        switch(uVar7) {
        case 0:
          iStack_28 = iStack_28 + 1;
          break;
        case 1:
          iStack_24 = iStack_24 + 1;
          break;
        case 2:
          iStack_20 = iStack_20 + 1;
          break;
        case 3:
          iStack_1c = iStack_1c + 1;
          break;
        case 4:
          iStack_18 = iStack_18 + 1;
        }
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
    if (iStack_28 != 0) {
      RKC_MEMORY::Allocation(local_14,iStack_28 * 0xe0,0);
    }
  }
  pcVar12 = Get_exref;
  pcVar4 = RKC_MEMORY::Get(local_14);
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar6 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar6), iVar15 == 3)) {
        iVar15 = FUN_00434cd0((int)puVar6);
        iVar8 = FUN_00456210(*(int *)(iVar15 + 0xcc));
        if (iVar8 == 0) {
          iVar8 = FUN_00434cd0((int)puVar6);
          *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 4);
          uVar7 = FUN_00466390(*(int *)(iVar15 + 0xcc));
          *(undefined4 *)(pcVar4 + 8) = uVar7;
          uVar7 = FUN_00427b40(*(int *)(iVar15 + 0xcc));
          *(undefined4 *)(pcVar4 + 0x14) = uVar7;
          puVar6 = (undefined4 *)FUN_004663b0(*(int *)(iVar15 + 0xcc));
          uVar7 = puVar6[1];
          *(undefined4 *)(pcVar4 + 0xc) = *puVar6;
          *(undefined4 *)(pcVar4 + 0x10) = uVar7;
          FUN_004674d0(*(void **)(iVar15 + 0xcc),(undefined4 *)(pcVar4 + 0x18));
          pcVar4 = pcVar4 + 0xe0;
        }
      }
      iVar14 = iVar14 + 1;
      pcVar12 = Get_exref;
    } while (iVar14 < iVar2);
  }
  iVar15 = 0;
  iVar14 = 0;
  lVar17 = -1;
  pvVar3 = (void *)(*pcVar12)();
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
            (this_01,0,iStack_28 * 0xe0,0x17,pvVar3,lVar17,iVar14,iVar15);
  RKC_MEMORY::Release(local_14);
  if (iStack_24 != 0) {
    RKC_MEMORY::Allocation(local_14,iStack_24 * 0xdc,0);
  }
  puVar6 = (undefined4 *)(*pcVar12)();
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      puVar9 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar9 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar9), iVar15 == 3)) {
        iVar15 = FUN_00434cd0((int)puVar9);
        iVar8 = FUN_00456210(*(int *)(iVar15 + 0xcc));
        if (iVar8 == 1) {
          iVar8 = FUN_00434cd0((int)puVar9);
          *puVar6 = *(undefined4 *)(iVar8 + 4);
          uVar7 = FUN_00466390(*(int *)(iVar15 + 0xcc));
          puVar6[1] = uVar7;
          uVar7 = FUN_00427b40(*(int *)(iVar15 + 0xcc));
          puVar6[4] = uVar7;
          puVar9 = (undefined4 *)FUN_004663b0(*(int *)(iVar15 + 0xcc));
          uVar7 = puVar9[1];
          puVar6[2] = *puVar9;
          puVar6[3] = uVar7;
          FUN_00466720(*(void **)(iVar15 + 0xcc),puVar6 + 5);
          puVar6 = puVar6 + 0x37;
        }
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
  }
  iVar15 = 0;
  iVar14 = 0;
  lVar17 = -1;
  pcVar4 = RKC_MEMORY::Get(local_14);
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
            (this_01,0,iStack_24 * 0xdc,0x18,pcVar4,lVar17,iVar14,iVar15);
  RKC_MEMORY::Release(local_14);
  if (iStack_20 != 0) {
    RKC_MEMORY::Allocation(local_14,iStack_20 * 0xd4,0);
  }
  pcVar4 = RKC_MEMORY::Get(local_14);
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar6 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar6), iVar15 == 3)) {
        iVar15 = FUN_00434cd0((int)puVar6);
        iVar8 = FUN_00456210(*(int *)(iVar15 + 0xcc));
        if (iVar8 == 2) {
          iVar8 = FUN_00434cd0((int)puVar6);
          *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 4);
          uVar7 = FUN_00466390(*(int *)(iVar15 + 0xcc));
          *(undefined4 *)(pcVar4 + 4) = uVar7;
          uVar7 = FUN_00427b40(*(int *)(iVar15 + 0xcc));
          *(undefined4 *)(pcVar4 + 0x10) = uVar7;
          puVar6 = (undefined4 *)FUN_004663b0(*(int *)(iVar15 + 0xcc));
          uVar7 = puVar6[1];
          *(undefined4 *)(pcVar4 + 8) = *puVar6;
          *(undefined4 *)(pcVar4 + 0xc) = uVar7;
          FUN_004658a0(*(void **)(iVar15 + 0xcc),(undefined4 *)(pcVar4 + 0x14));
          pcVar4 = pcVar4 + 0xd4;
        }
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
  }
  iVar15 = 0;
  iVar14 = 0;
  lVar17 = -1;
  pcVar4 = RKC_MEMORY::Get(local_14);
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
            (this_01,0,iStack_20 * 0xd4,0x19,pcVar4,lVar17,iVar14,iVar15);
  RKC_MEMORY::Release(local_14);
  if (iStack_1c != 0) {
    RKC_MEMORY::Allocation(local_14,iStack_1c << 4,0);
  }
  pcVar4 = RKC_MEMORY::Get(local_14);
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      pcVar16 = pcVar4;
      if ((puVar6 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar6), iVar15 == 3)) {
        iVar15 = FUN_00434cd0((int)puVar6);
        iVar8 = FUN_00456210(*(int *)(iVar15 + 0xcc));
        if (iVar8 == 3) {
          iVar8 = FUN_00434cd0((int)puVar6);
          *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 4);
          uVar7 = FUN_00466390(*(int *)(iVar15 + 0xcc));
          *(undefined4 *)(pcVar4 + 4) = uVar7;
          puVar6 = (undefined4 *)FUN_004663b0(*(int *)(iVar15 + 0xcc));
          pcVar16 = pcVar4 + 0x10;
          uVar7 = puVar6[1];
          *(undefined4 *)(pcVar4 + 8) = *puVar6;
          *(undefined4 *)(pcVar4 + 0xc) = uVar7;
        }
      }
      iVar14 = iVar14 + 1;
      pcVar4 = pcVar16;
    } while (iVar14 < iVar2);
  }
  iVar15 = 0;
  iVar14 = 0;
  lVar17 = -1;
  pcVar4 = RKC_MEMORY::Get(local_14);
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
            (this_01,0,iStack_1c << 4,0x1a,pcVar4,lVar17,iVar14,iVar15);
  RKC_MEMORY::Release(local_14);
  if (iStack_18 != 0) {
    RKC_MEMORY::Allocation(local_14,iStack_18 * 0x14,0);
  }
  pcVar4 = RKC_MEMORY::Get(local_14);
  iVar14 = 0;
  if (0 < iVar2) {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar6 != (undefined4 *)0x0) && (iVar15 = FUN_00427b20(puVar6), iVar15 == 3)) {
        iVar15 = FUN_00434cd0((int)puVar6);
        iVar8 = FUN_00456210(*(int *)(iVar15 + 0xcc));
        if (iVar8 == 4) {
          iVar8 = FUN_00434cd0((int)puVar6);
          *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 4);
          uVar7 = FUN_00466390(*(int *)(iVar15 + 0xcc));
          *(undefined4 *)(pcVar4 + 4) = uVar7;
          puVar6 = (undefined4 *)FUN_004663b0(*(int *)(iVar15 + 0xcc));
          uVar7 = puVar6[1];
          *(undefined4 *)(pcVar4 + 8) = *puVar6;
          *(undefined4 *)(pcVar4 + 0xc) = uVar7;
          FUN_00466a90(*(void **)(iVar15 + 0xcc),(undefined4 *)(pcVar4 + 0x10));
          pcVar4 = pcVar4 + 0x14;
        }
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
  }
  iVar14 = 0;
  iVar2 = 0;
  lVar17 = -1;
  pcVar4 = RKC_MEMORY::Get(local_14);
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
            (this_01,0,iStack_18 * 0x14,0x1b,pcVar4,lVar17,iVar2,iVar14);
  RKC_MEMORY::Release(local_14);
  puVar5 = (undefined4 *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00427b20(puVar5);
  iVar14 = 0;
  iVar15 = 0;
  if (iVar2 < 1) {
LAB_0041b78b:
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0,0x15,(void *)0x0,-1,0,0);
  }
  else {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar15);
      if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 0)) {
        iVar14 = iVar14 + 1;
      }
      iVar15 = iVar15 + 1;
    } while (iVar15 < iVar2);
    if (iVar14 == 0) goto LAB_0041b78b;
    iVar15 = iVar14 * 0xc + 4;
    RKC_MEMORY::Allocation(local_14,iVar15,0);
    piVar10 = (int *)RKC_MEMORY::Get(local_14);
    *piVar10 = iVar14;
    pcVar4 = RKC_MEMORY::Get(local_14);
    iStack_18 = 0;
    pcVar16 = pcVar4 + 4;
    pcVar4 = pcVar4 + 8;
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iStack_18);
      if ((puVar6 != (undefined4 *)0x0) && (iVar14 = FUN_00427b20(puVar6), iVar14 == 0)) {
        iVar14 = FUN_00434cd0((int)puVar6);
        *(undefined4 *)pcVar16 = *(undefined4 *)(iVar14 + 4);
        *(undefined4 *)pcVar4 = *(undefined4 *)(iVar14 + 0x18);
        *(undefined4 *)(pcVar4 + 4) = *(undefined4 *)(iVar14 + 0x1c);
        pcVar16 = pcVar16 + 0xc;
        pcVar4 = pcVar4 + 0xc;
      }
      iStack_18 = iStack_18 + 1;
    } while (iStack_18 < iVar2);
    iVar14 = 0;
    iVar2 = 0;
    lVar17 = -1;
    pcVar4 = RKC_MEMORY::Get(local_14);
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar15,0x15,pcVar4,lVar17,iVar2,iVar14);
    RKC_MEMORY::Release(local_14);
  }
  puVar5 = (undefined4 *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00427b20(puVar5);
  iVar14 = 0;
  iVar15 = 0;
  if (iVar2 < 1) {
LAB_0041b8a2:
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0,0x16,(void *)0x0,-1,0,0);
  }
  else {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar15);
      if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 1)) {
        iVar14 = iVar14 + 1;
      }
      iVar15 = iVar15 + 1;
    } while (iVar15 < iVar2);
    if (iVar14 == 0) goto LAB_0041b8a2;
    iVar15 = iVar14 * 0xc + 4;
    RKC_MEMORY::Allocation(local_14,iVar15,0);
    piVar10 = (int *)RKC_MEMORY::Get(local_14);
    *piVar10 = iVar14;
    pcVar4 = RKC_MEMORY::Get(local_14);
    pcVar16 = pcVar4 + 4;
    iVar14 = 0;
    pcVar4 = pcVar4 + 8;
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 1)) {
        iVar8 = FUN_00434cd0((int)puVar6);
        *(undefined4 *)pcVar16 = *(undefined4 *)(iVar8 + 4);
        *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 0x18);
        *(undefined4 *)(pcVar4 + 4) = *(undefined4 *)(iVar8 + 0x1c);
        pcVar16 = pcVar16 + 0xc;
        pcVar4 = pcVar4 + 0xc;
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
    iVar14 = 0;
    iVar2 = 0;
    lVar17 = -1;
    pcVar4 = RKC_MEMORY::Get(local_14);
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar15,0x16,pcVar4,lVar17,iVar2,iVar14);
    RKC_MEMORY::Release(local_14);
  }
  puVar5 = (undefined4 *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00427b20(puVar5);
  iVar14 = 0;
  iVar15 = 0;
  if (iVar2 < 1) {
LAB_0041b9be:
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0,0x1c,(void *)0x0,-1,0,0);
  }
  else {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar15);
      if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 2)) {
        iVar14 = iVar14 + 1;
      }
      iVar15 = iVar15 + 1;
    } while (iVar15 < iVar2);
    if (iVar14 == 0) goto LAB_0041b9be;
    iVar15 = iVar14 * 0x14 + 4;
    RKC_MEMORY::Allocation(local_14,iVar15,0);
    piVar10 = (int *)RKC_MEMORY::Get(local_14);
    *piVar10 = iVar14;
    pcVar4 = RKC_MEMORY::Get(local_14);
    pcVar4 = pcVar4 + 4;
    iVar14 = 0;
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 2)) {
        iVar8 = FUN_00434cd0((int)puVar6);
        *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 4);
        *(undefined4 *)(pcVar4 + 8) = *(undefined4 *)(iVar8 + 0x18);
        *(undefined4 *)(pcVar4 + 0xc) = *(undefined4 *)(iVar8 + 0x1c);
        *(undefined4 *)(pcVar4 + 0x10) = *(undefined4 *)(iVar8 + 0xd4);
        *(undefined4 *)(pcVar4 + 4) = *(undefined4 *)(iVar8 + 0x1e4);
        pcVar4 = pcVar4 + 0x14;
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
    iVar14 = 0;
    iVar2 = 0;
    lVar17 = -1;
    pcVar4 = RKC_MEMORY::Get(local_14);
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar15,0x1c,pcVar4,lVar17,iVar2,iVar14);
    RKC_MEMORY::Release(local_14);
  }
  puVar5 = (undefined4 *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00427b20(puVar5);
  iVar15 = 0;
  iVar14 = 0;
  if (iVar2 < 1) {
LAB_0041bb10:
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0,0x1d,(void *)0x0,-1,0,0);
  }
  else {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
      if (((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 5)) &&
         (iVar8 = FUN_00434cd0((int)puVar6), *(int *)(iVar8 + 4) % 10 != param_1)) {
        iVar15 = iVar15 + 1;
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < iVar2);
    if (iVar15 == 0) goto LAB_0041bb10;
    iVar14 = iVar15 * 0xc + 4;
    RKC_MEMORY::Allocation(local_14,iVar14,0);
    piVar10 = (int *)RKC_MEMORY::Get(local_14);
    *piVar10 = iVar15;
    pcVar4 = RKC_MEMORY::Get(local_14);
    pcVar16 = pcVar4 + 4;
    iVar15 = 0;
    pcVar4 = pcVar4 + 8;
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar15);
      pcVar13 = pcVar4;
      if (((puVar6 != (undefined4 *)0x0) &&
          (iVar8 = FUN_00434cd0((int)puVar6), *(int *)(iVar8 + 4) % 10 != param_1)) &&
         (iVar8 = FUN_00427b20(puVar6), iVar8 == 5)) {
        iVar8 = FUN_00434cd0((int)puVar6);
        *(undefined4 *)pcVar16 = *(undefined4 *)(iVar8 + 4);
        iVar8 = FUN_00434cd0((int)puVar6);
        pcVar16 = pcVar16 + 0xc;
        *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 0x18);
        pcVar13 = pcVar4 + 0xc;
        *(undefined4 *)(pcVar4 + 4) = *(undefined4 *)(iVar8 + 0x1c);
      }
      iVar15 = iVar15 + 1;
      pcVar4 = pcVar13;
    } while (iVar15 < iVar2);
    iVar15 = 0;
    iVar2 = 0;
    lVar17 = -1;
    pcVar4 = RKC_MEMORY::Get(local_14);
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar14,0x1d,pcVar4,lVar17,iVar2,iVar15);
    RKC_MEMORY::Release(local_14);
  }
  puVar5 = (undefined4 *)FUN_00427aa0(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00427b20(puVar5);
  iVar14 = 0;
  iVar15 = 0;
  if (0 < iVar2) {
    do {
      puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar15);
      if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 4)) {
        iVar8 = FUN_00434cd0((int)puVar6);
        if ((*(int *)(iVar8 + 0x14) != 0) &&
           (iVar8 = FUN_00434cd0(*(int *)(iVar8 + 0x14)), iVar8 == 1000)) {
          iVar14 = iVar14 + 1;
        }
      }
      iVar15 = iVar15 + 1;
    } while (iVar15 < iVar2);
    if (iVar14 != 0) {
      iVar15 = iVar14 * 0x10 + 4;
      RKC_MEMORY::Allocation(local_14,iVar15,0);
      piVar10 = (int *)RKC_MEMORY::Get(local_14);
      *piVar10 = iVar14;
      pcVar4 = RKC_MEMORY::Get(local_14);
      pcVar4 = pcVar4 + 4;
      iVar14 = 0;
      do {
        puVar6 = (undefined4 *)FUN_00434c90(puVar5,iVar14);
        if ((puVar6 != (undefined4 *)0x0) && (iVar8 = FUN_00427b20(puVar6), iVar8 == 4)) {
          iVar8 = FUN_00434cd0((int)puVar6);
          if ((*(int *)(iVar8 + 0x14) != 0) &&
             (iVar8 = FUN_00434cd0(*(int *)(iVar8 + 0x14)), iVar8 == 1000)) {
            iVar8 = FUN_00434cd0((int)puVar6);
            *(undefined4 *)pcVar4 = *(undefined4 *)(iVar8 + 0xd4);
            *(undefined4 *)(pcVar4 + 4) = *(undefined4 *)(iVar8 + 0x18);
            *(undefined4 *)(pcVar4 + 8) = *(undefined4 *)(iVar8 + 0x1c);
            *(undefined4 *)(pcVar4 + 0xc) = *(undefined4 *)(iVar8 + 700);
            pcVar4 = pcVar4 + 0x10;
          }
        }
        iVar14 = iVar14 + 1;
      } while (iVar14 < iVar2);
      iVar14 = 0;
      iVar2 = 0;
      lVar17 = -1;
      pcVar4 = RKC_MEMORY::Get(local_14);
      pcVar12 = SetSendPacket_exref;
      RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar15,0x1e,pcVar4,lVar17,iVar2,iVar14)
      ;
      RKC_MEMORY::Release(local_14);
      goto LAB_0041bc80;
    }
  }
  pcVar12 = SetSendPacket_exref;
  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0,0x1e,(void *)0x0,-1,0,0);
LAB_0041bc80:
  iVar2 = FUN_00466410(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00430890(iVar2);
  if (iVar2 == 0) {
    (*pcVar12)(0,0,0x1f,0,0xffffffff,0,0);
  }
  else {
    iVar14 = iVar2 * 0xc + 4;
    RKC_MEMORY::Allocation(local_14,iVar14,0);
    piVar10 = (int *)RKC_MEMORY::Get(local_14);
    *piVar10 = iVar2;
    pcVar4 = RKC_MEMORY::Get(local_14);
    iVar15 = FUN_00466410(*(int *)(iVar1 + 0x458));
    pcVar16 = (char *)FUN_00427b40(iVar15);
    iVar15 = 0;
    for (uVar11 = iVar2 * 3 & 0x3fffffff; pcVar4 = pcVar4 + 4, uVar11 != 0; uVar11 = uVar11 - 1) {
      *(undefined4 *)pcVar4 = *(undefined4 *)pcVar16;
      pcVar16 = pcVar16 + 4;
    }
    iVar8 = 0;
    lVar17 = -1;
    for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pcVar4 = *pcVar16;
      pcVar16 = pcVar16 + 1;
      pcVar4 = pcVar4 + 1;
    }
    pcVar4 = RKC_MEMORY::Get(local_14);
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar14,0x1f,pcVar4,lVar17,iVar8,iVar15);
    RKC_MEMORY::Release(local_14);
    pcVar12 = SetSendPacket_exref;
  }
  iVar2 = FUN_00466410(*(int *)(iVar1 + 0x458));
  iVar2 = FUN_00434cd0(iVar2);
  if (iVar2 == 0) {
    (*pcVar12)(0,0,0x23,0,0xffffffff,0,0);
  }
  else {
    iVar14 = iVar2 * 0xc + 4;
    RKC_MEMORY::Allocation(local_14,iVar14,0);
    piVar10 = (int *)RKC_MEMORY::Get(local_14);
    *piVar10 = iVar2;
    pcVar4 = RKC_MEMORY::Get(local_14);
    iVar1 = FUN_00466410(*(int *)(iVar1 + 0x458));
    pcVar16 = (char *)FUN_00456210(iVar1);
    iVar1 = 0;
    for (uVar11 = iVar2 * 3 & 0x3fffffff; pcVar4 = pcVar4 + 4, uVar11 != 0; uVar11 = uVar11 - 1) {
      *(undefined4 *)pcVar4 = *(undefined4 *)pcVar16;
      pcVar16 = pcVar16 + 4;
    }
    iVar15 = 0;
    lVar17 = -1;
    for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pcVar4 = *pcVar16;
      pcVar16 = pcVar16 + 1;
      pcVar4 = pcVar4 + 1;
    }
    pcVar4 = RKC_MEMORY::Get(local_14);
    RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,iVar14,0x23,pcVar4,lVar17,iVar15,iVar1);
    RKC_MEMORY::Release(local_14);
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_14);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_0041be40
 * Address: 0041be40
 */

undefined4 __thiscall FUN_0041be40(void *this,int param_1,int param_2,undefined4 param_3)

{
  RKC_NETWORK_SERVER *this_00;
  int iVar1;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar3;
  int iStack_c;
  int iStack_8;
  undefined4 uStack_4;
  
  this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
  iStack_8 = param_2;
  iStack_c = param_1;
  uStack_4 = param_3;
  iVar3 = 1;
  do {
    iVar1 = FUN_00434c90(*(void **)((int)this + 0xa018),iVar3);
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) {
      iVar2 = FUN_00456230(*(int *)(iVar1 + 0x458));
      if ((iVar2 == param_1) || (param_2 < 0)) {
        this_01 = RKC_NETWORK_SERVER::GetConnection
                            (this_00,*(long *)(iVar1 + 8),(RKC_NETWORK_IP *)0x0,-1);
        if (this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0xc,0x21,&iStack_c,-1,0,0);
        }
      }
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 4);
  return 1;
}



/*
 * Function: FUN_0041bf00
 * Address: 0041bf00
 */

undefined4 __thiscall FUN_0041bf00(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  void *this_00;
  int iVar4;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  iVar2 = FUN_00434c90(*(void **)((int)this + 0xa018),piVar1[1]);
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) {
    iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458));
    if (iVar3 == *piVar1) {
      if (piVar1[2] == 0) {
        iVar3 = piVar1[3];
        iVar4 = piVar1[1];
        this_00 = (void *)FUN_00466410(*(int *)(iVar2 + 0x458));
        FUN_004308c0(this_00,iVar4,iVar3);
      }
      else if (piVar1[2] == 6) {
        iVar3 = piVar1[3];
        iVar4 = piVar1[1];
        FUN_00466410(*(int *)(iVar2 + 0x458));
        FUN_004309f0(iVar4,iVar3);
        return 1;
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_0041bfa0
 * Address: 0041bfa0
 */

undefined4 __thiscall FUN_0041bfa0(void *this,undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  int iVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  RKC_NETWORK_SERVER *this_00;
  int iVar8;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  longlong lVar9;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  iVar2 = FUN_00426160(*(void **)((int)this + 0xa010),*piVar1);
  if (iVar2 != 0) {
    iVar5 = piVar1[2];
    pvVar3 = (void *)FUN_00427aa0(iVar2);
    puVar4 = (undefined4 *)FUN_004299e0(pvVar3,iVar5);
    if ((((puVar4 != (undefined4 *)0x0) && (iVar5 = FUN_00427b20(puVar4), iVar5 == 2)) &&
        (iVar5 = FUN_00434cd0((int)puVar4), iVar5 != 0)) &&
       (iVar7 = *(int *)(iVar5 + 0xd4), 0 < iVar7)) {
      uVar6 = piVar1[1] & 0x80000003;
      if (((-1 < (int)uVar6) || (uVar6 = (uVar6 - 1 | 0xfffffffc) + 1, -1 < (int)uVar6)) &&
         ((int)uVar6 < 4)) {
        if (-1 < iVar7 - piVar1[4]) {
          iVar7 = piVar1[4];
        }
        *(int *)(iVar5 + 0x288 + uVar6 * 4) = *(int *)(iVar5 + 0x288 + uVar6 * 4) + iVar7;
      }
      iVar7 = *(int *)(iVar5 + 0xd4) - piVar1[4];
      *(int *)(iVar5 + 0xd4) = iVar7;
      if (iVar7 < 1) {
        *(undefined4 *)(iVar5 + 0xd4) = 0;
        *(int *)(iVar5 + 0x18) = piVar1[6];
        *(int *)(iVar5 + 0x1c) = piVar1[7];
        *(int *)(iVar5 + 0x29c) = piVar1[3];
        *(undefined4 *)(iVar5 + 0x2a0) = 0;
        *(int *)(iVar5 + 0x2a4) = piVar1[1] % 10;
        iVar7 = FUN_00434cb0(*(int *)((int)this + 0xa018));
        if (iVar2 == *(int *)(iVar7 + 0x458)) {
          FUN_004134a0(this,iVar5,piVar1[3],piVar1[1]);
          iVar2 = FUN_00434cd0(*(int *)((int)this + 0xa018));
          if (piVar1[1] % 10 == iVar2) {
            iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
            if (*(int *)(iVar2 + 0x15e4) != 0) {
              iVar5 = 1;
              iVar2 = 7;
              pvVar3 = (void *)FUN_00434cb0(*(int *)((int)this + 0xa018));
              FUN_0044f6f0(pvVar3,iVar2,iVar5);
            }
            iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
            if (*(int *)(iVar2 + 0x15dc) != 0) {
              iVar5 = 1;
              iVar2 = 8;
              pvVar3 = (void *)FUN_00434cb0(*(int *)((int)this + 0xa018));
              FUN_0044f6f0(pvVar3,iVar2,iVar5);
            }
            iVar2 = FUN_00434cb0(*(int *)((int)this + 0xa018));
            if (*(int *)(iVar2 + 0x15ec) != 0) {
              iVar5 = 1;
              iVar2 = 9;
              pvVar3 = (void *)FUN_00434cb0(*(int *)((int)this + 0xa018));
              FUN_0044f6f0(pvVar3,iVar2,iVar5);
            }
          }
        }
      }
      else if (piVar1[5] == 0) {
        lVar9 = FUN_00414310(piVar1[6],piVar1[7],*(int *)(iVar5 + 0x18),*(int *)(iVar5 + 0x1c));
        if (299 < (int)lVar9) {
          *(int *)(iVar5 + 0x18) = piVar1[6];
          *(int *)(iVar5 + 0x1c) = piVar1[7];
          FUN_004542f0((void *)(iVar5 + 0x2b0),(int *)(iVar5 + 0x18));
        }
      }
      this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
      iVar2 = FUN_00434c60(DAT_0048ce0c,0);
      iVar5 = 1;
      if (1 < iVar2) {
        do {
          if (((iVar5 != piVar1[1]) && (iVar7 = FUN_00434c90(DAT_0048ce0c,iVar5), iVar7 != 0)) &&
             ((*(int *)(iVar7 + 0x2d8) == 1 &&
              ((iVar8 = FUN_00456230(*(int *)(iVar7 + 0x458)), iVar8 == *piVar1 &&
               (this_01 = RKC_NETWORK_SERVER::GetConnection
                                    (this_00,*(long *)(iVar7 + 8),(RKC_NETWORK_IP *)0x0,-1),
               this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)))))) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,0,0x20,0x12,piVar1,-1,0,0);
          }
          iVar5 = iVar5 + 1;
        } while (iVar5 < iVar2);
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_0041c250
 * Address: 0041c250
 */

undefined4 FUN_0041c250(int *param_1)

{
  RKC_NETWORK_SERVER *this;
  int iVar1;
  int iVar2;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_00;
  int iVar4;
  
  this = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c60(DAT_0048ce0c,0);
  iVar4 = 1;
  if (iVar1 < 2) {
    return 1;
  }
  do {
    iVar2 = FUN_00434c90(DAT_0048ce0c,iVar4);
    if ((((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
        (iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458)), iVar3 == *param_1)) &&
       (this_00 = RKC_NETWORK_SERVER::GetConnection
                            (this,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
       this_00 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
      RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_00,0,0x20,0x12,param_1,-1,0,0);
    }
    iVar4 = iVar4 + 1;
  } while (iVar4 < iVar1);
  return 1;
}



/*
 * Function: FUN_0041c300
 * Address: 0041c300
 */

undefined4 FUN_0041c300(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  RKC_NETWORK_SERVER *this;
  int *piVar1;
  int iVar2;
  void *this_00;
  undefined4 *puVar3;
  int iVar4;
  RKC_NETWORK_SERVER_CONNECTION *pRVar5;
  int iVar6;
  
  this = RKC_NETWORK::GetServer(DAT_00482d24);
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  iVar2 = FUN_00426160(DAT_0048ce04,*piVar1);
  if (iVar2 != 0) {
    iVar6 = 1;
    if (piVar1[1] == 1) {
      iVar6 = piVar1[2];
      this_00 = (void *)FUN_00427aa0(iVar2);
      puVar3 = (undefined4 *)FUN_004299e0(this_00,iVar6);
      if ((puVar3 != (undefined4 *)0x0) && (iVar2 = FUN_00427b20(puVar3), iVar2 == 5)) {
        iVar2 = FUN_00434cd0((int)puVar3);
        iVar2 = *(int *)(iVar2 + 4);
        iVar6 = FUN_00434cd0((int)DAT_0048ce0c);
        if ((iVar2 % 10 != iVar6) && (iVar2 = FUN_00434cd0((int)puVar3), iVar2 != 0)) {
          *(undefined4 *)(iVar2 + 0xfc) = 0;
        }
      }
      iVar2 = FUN_00434c60(DAT_0048ce0c,0);
      iVar6 = 1;
      if (1 < iVar2) {
        do {
          iVar4 = FUN_00434c90(DAT_0048ce0c,iVar6);
          if (((iVar4 != 0) && (*(int *)(iVar4 + 0x2d8) == 1)) &&
             (pRVar5 = RKC_NETWORK_SERVER::GetConnection
                                 (this,*(long *)(iVar4 + 8),(RKC_NETWORK_IP *)0x0,-1),
             pRVar5 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar5,0,0x30,0x13,piVar1,-1,0,0);
          }
          iVar6 = iVar6 + 1;
        } while (iVar6 < iVar2);
      }
    }
    else {
      iVar2 = FUN_00434c90(DAT_0048ce0c,piVar1[2]);
      if (iVar2 == 0) {
        return 1;
      }
      if (*(int *)(iVar2 + 0x2d8) == 0) {
        return 1;
      }
      *(undefined4 *)(iVar2 + 0x1a4) = 0;
      *(undefined4 *)(iVar2 + 0x1598) = 1;
      iVar2 = FUN_00434c60(DAT_0048ce0c,0);
      if (1 < iVar2) {
        do {
          if ((((iVar6 != piVar1[2]) && (iVar4 = FUN_00434c90(DAT_0048ce0c,iVar6), iVar4 != 0)) &&
              (*(int *)(iVar4 + 0x2d8) == 1)) &&
             (pRVar5 = RKC_NETWORK_SERVER::GetConnection
                                 (this,*(long *)(iVar4 + 8),(RKC_NETWORK_IP *)0x0,-1),
             pRVar5 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(pRVar5,0,0x30,0x13,piVar1,-1,0,0);
          }
          iVar6 = iVar6 + 1;
        } while (iVar6 < iVar2);
      }
    }
    RKC_NETWORK::GetServer(DAT_00482d24);
  }
  return 1;
}



/*
 * Function: FUN_0041c4e0
 * Address: 0041c4e0
 */

undefined4 FUN_0041c4e0(int *param_1)

{
  RKC_NETWORK_SERVER *this;
  int iVar1;
  int iVar2;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_00;
  int iVar4;
  
  this = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c60(DAT_0048ce0c,0);
  iVar4 = 1;
  if (iVar1 < 2) {
    return 1;
  }
  do {
    iVar2 = FUN_00434c90(DAT_0048ce0c,iVar4);
    if ((((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
        (iVar3 = FUN_00456230(*(int *)(iVar2 + 0x458)), iVar3 == *param_1)) &&
       (this_00 = RKC_NETWORK_SERVER::GetConnection
                            (this,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
       this_00 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
      RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_00,0,0x30,0x13,param_1,-1,0,0);
    }
    iVar4 = iVar4 + 1;
  } while (iVar4 < iVar1);
  return 1;
}



/*
 * Function: FUN_0041c590
 * Address: 0041c590
 */

undefined4 FUN_0041c590(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  void *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 auStack_160 [80];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  this = (void *)FUN_00434c90(DAT_0048ce0c,*piVar1);
  if ((this != (void *)0x0) && (*(int *)((int)this + 0x2d8) == 1)) {
    puVar4 = (undefined4 *)((int)this + 0x10);
    puVar6 = auStack_160;
    for (iVar3 = 0x58; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar6 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar6 = puVar6 + 1;
    }
    FUN_00445180(this,(int)piVar1);
    *(undefined4 *)((int)this + 0x150) = uStack_20;
    *(undefined4 *)((int)this + 0x154) = uStack_1c;
    *(undefined4 *)((int)this + 0x158) = uStack_18;
    *(undefined4 *)((int)this + 0x15c) = uStack_14;
    this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar3 = FUN_00434c60(DAT_0048ce0c,0);
    iVar5 = 1;
    if (1 < iVar3) {
      do {
        if ((((iVar5 != *piVar1) && (iVar2 = FUN_00434c90(DAT_0048ce0c,iVar5), iVar2 != 0)) &&
            (*(int *)(iVar2 + 0x2d8) == 1)) &&
           (this_01 = RKC_NETWORK_SERVER::GetConnection
                                (this_00,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
           this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,1,0x8b8,0x11,piVar1,-1,0,0);
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < iVar3);
    }
  }
  return 1;
}



/*
 * Function: FUN_0041c6b0
 * Address: 0041c6b0
 */

undefined4 FUN_0041c6b0(undefined4 param_1,RKC_NETWORK_PACKET *param_2)

{
  int *piVar1;
  int iVar2;
  void *this;
  undefined4 *puVar3;
  int *piVar4;
  RKC_NETWORK_SERVER *this_00;
  int iVar5;
  int iVar6;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar7;
  
  piVar1 = (int *)RKC_NETWORK_PACKET::GetData(param_2);
  iVar2 = FUN_00426160(DAT_0048ce04,*piVar1);
  if (iVar2 != 0) {
    iVar5 = piVar1[1];
    this = (void *)FUN_00427aa0(iVar2);
    puVar3 = (undefined4 *)FUN_004299e0(this,iVar5);
    if (puVar3 != (undefined4 *)0x0) {
      iVar2 = FUN_00427b20(puVar3);
      if (iVar2 == 5) {
        piVar4 = (int *)FUN_00434cd0((int)puVar3);
        (**(code **)(*piVar4 + 0x1c))(param_2);
        this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
        iVar2 = piVar1[1];
        iVar5 = FUN_00434c60(DAT_0048ce0c,0);
        iVar7 = 1;
        if (1 < iVar5) {
          do {
            if (iVar7 != iVar2 % 10) {
              iVar6 = FUN_00434c90(DAT_0048ce0c,iVar7);
              if ((iVar6 != 0) && (*(int *)(iVar6 + 0x2d8) == 1)) {
                this_01 = RKC_NETWORK_SERVER::GetConnection
                                    (this_00,*(long *)(iVar6 + 8),(RKC_NETWORK_IP *)0x0,-1);
                if (this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
                  RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                            (this_01,2,0x20,10,piVar1,piVar1[1],1,0);
                }
              }
            }
            iVar7 = iVar7 + 1;
          } while (iVar7 < iVar5);
        }
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_0041c7b0
 * Address: 0041c7b0
 */

undefined4 __fastcall FUN_0041c7b0(void *param_1)

{
  RKC_NETWORK_PACKET *pRVar1;
  RKC_NETWORK_CLIENT *this;
  int iVar2;
  RKC_NETWORK_PACKETBLOCK *pRVar3;
  RKC_NETWORK_PACKET *pRVar4;
  RKC_NETWORK_SERVER *this_00;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  undefined unaff_BP;
  undefined unaff_SI;
  int unaff_EDI;
  long lVar5;
  undefined uVar6;
  long lStack_4;
  
  if (DAT_00482db0 == 1) {
    this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
    uVar6 = (undefined)unaff_EDI;
    iVar2 = RKC_NETWORK_SERVER::GetActiveFlag(this_00);
    if (iVar2 == 0) {
      DAT_00482d74 = 3;
      goto LAB_0041c7f4;
    }
    FUN_00419f60(uVar6,unaff_SI,unaff_BP);
    FUN_0041a450((int)param_1);
    RKC_NETWORK::SetMutex(DAT_00482d24);
    lStack_4 = 0;
    lVar5 = RKC_NETWORK_SERVER::GetConnectionCount(this_00);
    if (0 < lVar5) {
      do {
        this_01 = RKC_NETWORK_SERVER::GetConnection(this_00,lStack_4);
        if (this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
          lVar5 = 0;
          pRVar3 = RKC_NETWORK_SERVER_CONNECTION::GetRecvPacketBlock(this_01);
          pRVar4 = RKC_NETWORK_PACKETBLOCK::Get(pRVar3,lVar5);
          while (pRVar1 = pRVar4, pRVar1 != (RKC_NETWORK_PACKET *)0x0) {
            pRVar4 = RKC_NETWORK_PACKET::GetNext(pRVar1);
            lVar5 = RKC_NETWORK_PACKET::GetLine(pRVar1);
            if (lVar5 == 0) {
              iVar2 = FUN_00419da0(param_1,this_01,pRVar1);
              goto LAB_0041c954;
            }
            if (lVar5 == 1) {
              iVar2 = FUN_00419e70(param_1,this_01,pRVar1);
              goto LAB_0041c954;
            }
            if (lVar5 == 2) {
              iVar2 = FUN_00419f30(this_01,pRVar1);
LAB_0041c954:
              if (iVar2 == 1) {
                RKC_NETWORK_SERVER_CONNECTION::DeleteRecvPacket(this_01,pRVar1);
              }
            }
          }
        }
        lStack_4 = lStack_4 + 1;
        lVar5 = RKC_NETWORK_SERVER::GetConnectionCount(this_00);
      } while (lStack_4 < lVar5);
    }
  }
  else {
    if (DAT_00482db0 != 2) {
      return 1;
    }
    this = RKC_NETWORK::GetClient(DAT_00482d24);
    iVar2 = RKC_NETWORK_CLIENT::GetActiveFlag(this);
    if (iVar2 == 0) {
      DAT_00482d74 = 2;
LAB_0041c7f4:
      DAT_00482d78 = 0x96;
      FUN_004023d0(&DAT_00482770,0,0);
      return 0;
    }
    RKC_NETWORK::SetMutex(DAT_00482d24);
    lVar5 = 0;
    pRVar3 = RKC_NETWORK_CLIENT::GetRecvPacketBlock(this);
    pRVar4 = RKC_NETWORK_PACKETBLOCK::Get(pRVar3,lVar5);
    while (pRVar1 = pRVar4, pRVar1 != (RKC_NETWORK_PACKET *)0x0) {
      pRVar4 = RKC_NETWORK_PACKET::GetNext(pRVar1);
      lVar5 = RKC_NETWORK_PACKET::GetLine(pRVar1);
      if (lVar5 == 0) {
        iVar2 = FUN_00418430(param_1,pRVar1,unaff_EDI);
        goto LAB_0041c879;
      }
      if (lVar5 == 1) {
        iVar2 = FUN_00418550(param_1,pRVar1);
        goto LAB_0041c879;
      }
      if (lVar5 == 2) {
        iVar2 = FUN_00418600(param_1,pRVar1);
LAB_0041c879:
        if (iVar2 == 1) {
          RKC_NETWORK_CLIENT::DeleteRecvPacket(this,pRVar1);
        }
      }
    }
  }
  RKC_NETWORK::ResetMutex(DAT_00482d24);
  return 1;
}



/*
 * Function: FUN_0041c9a0
 * Address: 0041c9a0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0041c9a0(int param_1)

{
  undefined4 *puVar1;
  void *this;
  RKC_NETWORK_CLIENT *this_00;
  int iVar2;
  RKC_NETWORK_SERVER *this_01;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_02;
  int iVar4;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  this = (void *)FUN_00434cb0(*(int *)(param_1 + 0xa018));
  local_20 = FUN_00456230(*(int *)((int)this + 0x458));
  local_1c = *(undefined4 *)((int)this + 0x440);
  local_24 = *(undefined4 *)((int)this + 4);
  local_18 = *(undefined4 *)((int)this + 0x444);
  local_14 = *(undefined4 *)((int)this + 0x1598);
  puVar1 = (undefined4 *)((int)this + 0x448);
  local_10 = *puVar1;
  local_c = *(undefined4 *)((int)this + 0x44c);
  local_8 = *(undefined4 *)((int)this + 0x450);
  local_4 = *(undefined4 *)((int)this + 0x454);
  if (DAT_00482db0 == 2) {
    this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
    iVar3 = *(int *)((int)this + 0x440);
    iVar2 = FUN_00456230(*(int *)((int)this + 0x458));
    FUN_00426200(*(void **)(param_1 + 0xa010),*(int *)((int)this + 4),iVar3,
                 *(int *)((int)this + 0x444),*(int *)((int)this + 0x1598),puVar1,
                 *(int *)((int)this + 0x454));
    if (iVar3 == iVar2) {
      FUN_00452060(this,1,1,0,(char)local_14);
      *(undefined4 *)((int)this + 0x43c) = 0;
    }
    else {
      RKC_NETWORK_CLIENT::SetSendPacket(this_00,0,0x24,0xe,&local_24,-1,0,0);
      *(undefined4 *)((int)this + 0x43c) = 2;
      _DAT_0048cea4 = 0;
      _DAT_0048cea8 = 0;
    }
  }
  else {
    iVar3 = *(int *)((int)this + 0x440);
    iVar2 = FUN_00456230(*(int *)((int)this + 0x458));
    FUN_00426200(*(void **)(param_1 + 0xa010),*(int *)((int)this + 4),iVar3,
                 *(int *)((int)this + 0x444),*(int *)((int)this + 0x1598),puVar1,
                 *(int *)((int)this + 0x454));
    iVar4 = 1;
    if (DAT_00482db0 == 1) {
      this_01 = RKC_NETWORK::GetServer(DAT_00482d24);
      if (iVar3 == iVar2) {
        FUN_00452160(this,1,1,0,(char)local_14);
      }
      else {
        iVar3 = FUN_00434c60(DAT_0048ce0c,0);
        if (1 < iVar3) {
          do {
            iVar2 = FUN_00434c90(DAT_0048ce0c,iVar4);
            if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
               (this_02 = RKC_NETWORK_SERVER::GetConnection
                                    (this_01,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
               this_02 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
              RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_02,0,0x24,0xe,&local_24,-1,0,0);
            }
            iVar4 = iVar4 + 1;
          } while (iVar4 < iVar3);
        }
      }
    }
    *(undefined4 *)((int)this + 0x43c) = 0;
  }
  *(undefined4 *)((int)this + 0x318) = 1;
  *(undefined4 *)((int)this + 0x314) = 1;
  *(undefined4 *)((int)this + 0x1598) = 0;
  return 1;
}



/*
 * Function: FUN_0041cbe0
 * Address: 0041cbe0
 */

undefined4 __thiscall FUN_0041cbe0(void *this,int *param_1)

{
  int iVar1;
  int iVar2;
  void *this_00;
  void *pvVar3;
  int *piVar4;
  int *piVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  undefined4 uVar15;
  undefined4 *puVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  int iVar24;
  undefined4 uVar25;
  int iVar26;
  undefined4 uVar27;
  
  iVar1 = FUN_00434cb0(*(int *)((int)this + 0xa018));
  iVar2 = FUN_00434c90(DAT_0048ce0c,param_1[2]);
  if ((iVar2 != 0) && (param_1[1] == *(int *)(iVar2 + 0x15d8))) {
    if (param_1[3] == 0x16) {
      FUN_00420020((void *)(DAT_0048d768 + *(int *)(iVar2 + 4) * 0x6c),param_1[2],*param_1,
                   param_1 + 9);
    }
    iVar1 = FUN_00456230(*(int *)(iVar1 + 0x458));
    if (((iVar1 == *param_1) || (DAT_00482db0 == 1)) &&
       (iVar1 = FUN_00456230(*(int *)(iVar2 + 0x458)), iVar1 == *param_1)) {
      if (param_1[3] < 0x2c) {
        piVar4 = param_1;
        piVar5 = (int *)(iVar2 + 0x4a8);
        for (iVar1 = 0xe; iVar1 != 0; iVar1 = iVar1 + -1) {
          *piVar5 = *piVar4;
          piVar4 = piVar4 + 1;
          piVar5 = piVar5 + 1;
        }
        *(int *)(iVar2 + 0x1268) = param_1[6];
        *(int *)(iVar2 + 0x126c) = param_1[7];
        *(int *)(iVar2 + 0x1264) = param_1[8];
        *(int *)(iVar2 + 0x1274) = param_1[9];
        *(int *)(iVar2 + 0x1278) = param_1[10];
        *(int *)(iVar2 + 0x1270) = param_1[5];
        *(undefined4 *)(iVar2 + 0x4a4) = 1;
        *(int *)(iVar2 + 0x2e0) = param_1[0xb];
        *(int *)(iVar2 + 0x2e4) = param_1[0xc];
        return 1;
      }
      switch(param_1[3]) {
      case 0x2c:
        iVar1 = param_1[8];
        iVar24 = *(int *)(iVar2 + 4);
        iVar26 = 1000;
        uVar22 = 1;
        pvVar3 = (void *)FUN_00466420(*(int *)(iVar2 + 0x458));
        iVar1 = FUN_0042ff90(pvVar3,uVar22,iVar24,iVar26,iVar1);
        if (iVar1 == 0) {
          iVar1 = param_1[8];
          uVar27 = 0;
          uVar25 = 200;
          uVar23 = 0;
          uVar21 = 0;
          uVar20 = 0;
          uVar19 = 1;
          uVar18 = 0;
          uVar17 = 0;
          puVar16 = (undefined4 *)0x0;
          uVar22 = *(undefined4 *)(iVar2 + 4);
          uVar15 = 0;
          piVar4 = param_1 + 9;
          puVar14 = (undefined4 *)0x0;
          uVar13 = 0;
          uVar12 = 0;
          uVar11 = 0;
          uVar10 = 0;
          uVar9 = 0xffffffff;
          uVar8 = 0x14;
          uVar7 = 1;
          uVar6 = 1000;
          pvVar3 = (void *)FUN_00466420(*(int *)(iVar2 + 0x458));
          FUN_0042fdc0(pvVar3,uVar6,uVar7,uVar22,uVar8,uVar9,uVar10,uVar11,uVar12,uVar13,piVar4,
                       puVar14,uVar15,puVar16,uVar17,iVar1,uVar18,uVar19,uVar20,uVar21,uVar23,uVar25
                       ,uVar27);
          return 1;
        }
        break;
      case 0x2d:
        iVar1 = param_1[8];
        iVar24 = param_1[2];
        iVar26 = 1000;
        uVar22 = 1;
        pvVar3 = (void *)FUN_00466420(*(int *)(iVar2 + 0x458));
        pvVar3 = (void *)FUN_0042ff90(pvVar3,uVar22,iVar24,iVar26,iVar1);
        if (pvVar3 != (void *)0x0) {
          iVar1 = *(int *)(iVar2 + 0x458);
          iVar2 = FUN_00434cb0((int)DAT_0048ce0c);
          if (iVar1 != *(int *)(iVar2 + 0x458)) {
            iVar2 = param_1[2];
            this_00 = (void *)FUN_00466420(iVar1);
            FUN_0042ff20(this_00,(int)pvVar3,iVar2);
            return 1;
          }
          FUN_00429eb0(pvVar3,1);
          return 1;
        }
        break;
      case 0x2e:
        iVar1 = *(int *)(iVar2 + 4) + 16000000;
        pvVar3 = (void *)FUN_00427aa0(*(int *)(iVar2 + 0x458));
        iVar1 = FUN_004299e0(pvVar3,iVar1);
        if ((iVar1 != 0) && (iVar1 = FUN_00434cd0(iVar1), 0 < *(int *)(iVar1 + 0xfc))) {
          *(int *)(iVar1 + 0x184) = param_1[4];
          *(int *)(iVar1 + 400) = param_1[9];
          *(int *)(iVar1 + 0x194) = param_1[10];
          iVar2 = param_1[8];
          *(undefined4 *)(iVar1 + 0x168) = 0;
          *(undefined4 *)(iVar1 + 0x188) = 0;
          *(int *)(iVar1 + 0x18c) = iVar2;
          *(undefined4 *)(iVar1 + 0x164) = 2;
          return 1;
        }
        break;
      case 0x30:
        *(undefined4 *)(iVar2 + 0x1550) = 0;
        *(undefined4 *)(iVar2 + 0x1554) = 900;
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_0041ce90
 * Address: 0041ce90
 */

int __fastcall FUN_0041ce90(int param_1)

{
  code *pcVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  RKC_RPG_TABLE *this;
  RKC_RPG_AICONTROL *this_00;
  undefined4 *puVar4;
  HGLOBAL pvVar5;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471c28;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  FUN_00412670((undefined4 *)(param_1 + 0xa6fc));
  local_4 = 0;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(param_1 + 0xa758));
  pcVar1 = RKC_DIB_exref;
  local_4._0_1_ = 1;
  RKC_DIB::RKC_DIB((RKC_DIB *)(param_1 + 0xa91c));
  local_4._0_1_ = 2;
  FUN_0041fdd0((undefined4 *)(param_1 + 0xa9ac));
  local_4._0_1_ = 3;
  FUN_00417ea0((undefined4 *)(param_1 + 0xa9bc));
  local_4._0_1_ = 4;
  FUN_00403550(param_1 + 0xa9fc);
  local_4._0_1_ = 5;
  FUN_0046839d(param_1 + 0xaaa8,0xc,2,pcVar1);
  local_4._0_1_ = 6;
  puVar2 = (undefined4 *)operator_new(4);
  local_4._0_1_ = 7;
  if (puVar2 == (undefined4 *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = FUN_004576d0(puVar2);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0xa014) = uVar3;
  puVar2 = (undefined4 *)operator_new(0x1a8);
  local_4._0_1_ = 8;
  if (puVar2 == (undefined4 *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = FUN_00425e00(puVar2);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0xa010) = uVar3;
  puVar2 = (undefined4 *)operator_new(0xc);
  local_4._0_1_ = 9;
  if (puVar2 == (undefined4 *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = FUN_00434a60(puVar2);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0xa018) = uVar3;
  puVar2 = (undefined4 *)operator_new(0x28);
  local_4._0_1_ = 10;
  if (puVar2 == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)0x0;
  }
  else {
    puVar2 = FUN_00457c70(puVar2);
  }
  local_4._0_1_ = 6;
  *(undefined4 **)(param_1 + 0xa01c) = puVar2;
  puVar2 = (undefined4 *)operator_new(0x14);
  local_4._0_1_ = 0xb;
  if (puVar2 == (undefined4 *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = FUN_00462a30(puVar2);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0xa020) = uVar3;
  this = (RKC_RPG_TABLE *)operator_new(4);
  local_4._0_1_ = 0xc;
  if (this == (RKC_RPG_TABLE *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = RKC_RPG_TABLE::RKC_RPG_TABLE(this);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0xa6f0) = uVar3;
  this_00 = (RKC_RPG_AICONTROL *)operator_new(4);
  local_4._0_1_ = 0xd;
  if (this_00 == (RKC_RPG_AICONTROL *)0x0) {
    uVar3 = 0;
  }
  else {
    uVar3 = RKC_RPG_AICONTROL::RKC_RPG_AICONTROL(this_00);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0xa024) = uVar3;
  puVar2 = (undefined4 *)operator_new(0x1b4);
  local_4._0_1_ = 0xe;
  if (puVar2 == (undefined4 *)0x0) {
    puVar4 = (undefined4 *)0x0;
  }
  else {
    puVar4 = puVar2 + 1;
    *puVar2 = 4;
    FUN_0046839d(puVar4,0x6c,4,&LAB_00420010);
  }
  local_4 = CONCAT31(local_4._1_3_,6);
  *(undefined4 **)(param_1 + 0xa974) = puVar4;
  *(undefined4 *)(param_1 + 0xa6e4) = 0;
  *(undefined4 *)(param_1 + 0xa6e8) = 0;
  *(undefined4 *)(param_1 + 0xa6f4) = 0;
  *(undefined4 *)(param_1 + 0xa6f8) = 0;
  *(undefined4 *)(param_1 + 0xa6ec) = 0;
  *(undefined4 *)(param_1 + 0xa0bc) = 0;
  *(undefined4 *)(param_1 + 0xa0c4) = 0;
  *(undefined4 *)(param_1 + 0xa73c) = 1;
  *(undefined4 *)(param_1 + 0xa740) = 1;
  *(undefined4 *)(param_1 + 0xa744) = 1;
  *(undefined4 *)(param_1 + 0xa734) = 1;
  *(undefined4 *)(param_1 + 0xa070) = 1;
  *(undefined4 *)(param_1 + 0xa748) = 1;
  *(undefined4 *)(param_1 + 0xa74c) = 1;
  *(undefined4 *)(param_1 + 0xa750) = 1;
  *(undefined4 *)(param_1 + 0xa0cc) = 1000;
  pvVar5 = GlobalAlloc(0x40,4000);
  *(HGLOBAL *)(param_1 + 0xa0d0) = pvVar5;
  *(undefined4 *)(param_1 + 0xa928) = 0;
  *(undefined4 *)(param_1 + 0xa918) = 0;
  *(undefined4 *)(param_1 + 0xa940) = 2;
  *(undefined4 *)(param_1 + 0xa944) = 1;
  *(undefined4 *)(param_1 + 0xa948) = 4;
  *(undefined4 *)(param_1 + 0xa950) = 3;
  *(undefined4 *)(param_1 + 0xa94c) = 2;
  *(undefined4 *)(param_1 + 0xa954) = 1;
  *(undefined4 *)(param_1 + 0xa958) = 0;
  RKC_DIB::Create((RKC_DIB *)(param_1 + 0xa91c),0x204,0x117,0x18,1);
  ExceptionList = pvStack_c;
  return param_1;
}



/*
 * Function: FUN_0041d1b0
 * Address: 0041d1b0
 */

void __fastcall FUN_0041d1b0(int param_1)

{
  code *pcVar1;
  void *pvStack_c;
  undefined *puStack_8;
  int local_4;
  
  puStack_8 = &LAB_00471cb0;
  pvStack_c = ExceptionList;
  local_4 = 6;
  ExceptionList = &pvStack_c;
  FUN_0041d2b0(param_1);
  if (*(HGLOBAL *)(param_1 + 0xa6e8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xa6e8));
  }
  *(undefined4 *)(param_1 + 0xa6e8) = 0;
  *(undefined4 *)(param_1 + 0xa6e4) = 0;
  if (*(HGLOBAL *)(param_1 + 0xa6f8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xa6f8));
  }
  pcVar1 = ~RKC_DIB_exref;
  *(undefined4 *)(param_1 + 0xa6f8) = 0;
  *(undefined4 *)(param_1 + 0xa6f4) = 0;
  local_4._0_1_ = 5;
  FUN_004682a9(param_1 + 0xaaa8,0xc,2,pcVar1);
  local_4._0_1_ = 4;
  FUN_00403040();
  local_4._0_1_ = 3;
  thunk_FUN_00417ed0((int *)(param_1 + 0xa9bc));
  local_4._0_1_ = 2;
  thunk_FUN_0041fdf0(param_1 + 0xa9ac);
  local_4._0_1_ = 1;
  RKC_DIB::~RKC_DIB((RKC_DIB *)(param_1 + 0xa91c));
  local_4 = (uint)local_4._1_3_ << 8;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(param_1 + 0xa758));
  local_4 = 0xffffffff;
  FUN_00403040();
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_0041d2b0
 * Address: 0041d2b0
 */

void __fastcall FUN_0041d2b0(int param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  RKC_RPG_TABLE *this;
  RKC_RPG_AICONTROL *this_00;
  int iVar3;
  
  if (*(HGLOBAL *)(param_1 + 0xa0d0) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xa0d0));
    *(undefined4 *)(param_1 + 0xa0d0) = 0;
  }
  piVar1 = *(int **)(param_1 + 0xa014);
  if (piVar1 != (int *)0x0) {
    thunk_FUN_00455f10(piVar1);
    FUN_0046787e(piVar1);
    *(undefined4 *)(param_1 + 0xa014) = 0;
  }
  piVar1 = *(int **)(param_1 + 0xa010);
  if (piVar1 != (int *)0x0) {
    thunk_FUN_004261a0(piVar1);
    FUN_0046787e(piVar1);
    *(undefined4 *)(param_1 + 0xa010) = 0;
  }
  piVar1 = *(int **)(param_1 + 0xa018);
  if (piVar1 != (int *)0x0) {
    thunk_FUN_00434a90(piVar1);
    FUN_0046787e(piVar1);
    *(undefined4 *)(param_1 + 0xa018) = 0;
  }
  puVar2 = *(undefined4 **)(param_1 + 0xa01c);
  if (puVar2 != (undefined4 *)0x0) {
    FUN_00457ce0(puVar2);
    FUN_0046787e(puVar2);
    *(undefined4 *)(param_1 + 0xa01c) = 0;
  }
  piVar1 = *(int **)(param_1 + 0xa020);
  if (piVar1 != (int *)0x0) {
    thunk_FUN_00462a60(piVar1);
    FUN_0046787e(piVar1);
    *(undefined4 *)(param_1 + 0xa020) = 0;
  }
  this = *(RKC_RPG_TABLE **)(param_1 + 0xa6f0);
  if (this != (RKC_RPG_TABLE *)0x0) {
    RKC_RPG_TABLE::~RKC_RPG_TABLE(this);
    FUN_0046787e(this);
    *(undefined4 *)(param_1 + 0xa6f0) = 0;
  }
  this_00 = *(RKC_RPG_AICONTROL **)(param_1 + 0xa024);
  if (this_00 != (RKC_RPG_AICONTROL *)0x0) {
    RKC_RPG_AICONTROL::~RKC_RPG_AICONTROL(this_00);
    FUN_0046787e(this_00);
    *(undefined4 *)(param_1 + 0xa024) = 0;
  }
  iVar3 = *(int *)(param_1 + 0xa974);
  if (iVar3 != 0) {
    FUN_004682a9(iVar3,0x6c,*(int *)(iVar3 + -4),FUN_004201a0);
    FUN_0046787e((LPVOID)(iVar3 + -4));
    *(undefined4 *)(param_1 + 0xa974) = 0;
  }
  return;
}



/*
 * Function: FUN_0041d3f0
 * Address: 0041d3f0
 */

undefined4 __fastcall FUN_0041d3f0(int param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  RKC_RPG_TABLEDATA *pRVar3;
  long lVar4;
  HGLOBAL pvVar5;
  int *piVar6;
  int iVar7;
  undefined uVar8;
  int iVar9;
  undefined4 *puVar10;
  tagRECT local_10;
  
  iVar9 = 0;
  *(undefined4 *)(param_1 + 0xa094) = 0;
  *(undefined4 *)(param_1 + 0xa098) = 0;
  *(undefined4 *)(param_1 + 0xa09c) = 0;
  *(undefined4 *)(param_1 + 41000) = 0xce;
  *(undefined4 *)(param_1 + 0xa02c) = 0xce;
  *(undefined4 *)(param_1 + 0xa030) = 0xffffffff;
  *(undefined4 *)(param_1 + 0xa034) = 1;
  *(undefined4 *)(param_1 + 0xa038) = 0xffffffff;
  *(undefined4 *)(param_1 + 0xa03c) = 0;
  *(undefined4 *)(param_1 + 0xa044) = 0;
  *(undefined4 *)(param_1 + 0xa048) = 0;
  *(undefined4 *)(param_1 + 0xa04c) = 0;
  *(undefined4 *)(param_1 + 0xa050) = 0;
  *(undefined4 *)(param_1 + 0xa054) = 0;
  *(undefined4 *)(param_1 + 0xa058) = 0;
  *(undefined4 *)(param_1 + 0xa040) = 0;
  *(undefined4 *)(param_1 + 0xa05c) = 0;
  *(undefined4 *)(param_1 + 0xa060) = 0;
  *(undefined4 *)(param_1 + 0xa064) = 0;
  *(undefined4 *)(param_1 + 0xa068) = 0;
  *(undefined4 *)(param_1 + 0xa06c) = 0;
  *(undefined4 *)(param_1 + 0xa070) = 0;
  *(undefined4 *)(param_1 + 0xa078) = 0;
  *(undefined4 *)(param_1 + 0xa074) = 0;
  *(undefined4 *)(param_1 + 0xa9f8) = 1000;
  *(undefined4 *)(param_1 + 0xa07c) = 0;
  *(undefined4 *)(param_1 + 0xa080) = 0;
  *(undefined4 *)(param_1 + 0xa084) = 0;
  *(undefined4 *)(param_1 + 0xa710) = 0xffffffff;
  puVar10 = (undefined4 *)(param_1 + 0xa714);
  for (iVar7 = 8; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar10 = 0xffffffff;
    puVar10 = puVar10 + 1;
  }
  local_10.left = 0;
  local_10.top = 0;
  local_10.right = 0x27f;
  local_10.bottom = 0x1df;
  if (DAT_00482dd0 == 0) {
    *(undefined4 *)(param_1 + 0xa92c) = 1;
  }
  else {
    *(undefined4 *)(param_1 + 0xa92c) = 0;
  }
  DAT_0048d8d4 = 0;
  InvalidateRect(DAT_00482778,(RECT *)0x0,0);
  DAT_0048d8d8 = (uint)(DAT_00482dd0 != 1);
  FUN_004562a0(DAT_0048d8b4,0x4a);
  iVar7 = 0;
  puVar10 = &DAT_0047fac0;
  do {
    puVar2 = (undefined4 *)FUN_00456410(DAT_0048d8b4,iVar7);
    uVar1 = *puVar10;
    puVar10 = puVar10 + 1;
    iVar7 = iVar7 + 1;
    *puVar2 = uVar1;
  } while ((int)puVar10 < 0x47fbe8);
  RKC_RPG_TABLE::ReadBinaryFile
            (*(RKC_RPG_TABLE **)(param_1 + 0xa6f0),s_System_Game_Parameter_Table_Tbd_0047fbb8);
  pRVar3 = RKC_RPG_TABLE::GetFromTableNo(*(RKC_RPG_TABLE **)(param_1 + 0xa6f0),0x28);
  lVar4 = RKC_RPG_TABLEDATA::GetRowCount(pRVar3);
  pvVar5 = GlobalAlloc(0x40,lVar4 * 4);
  *(HGLOBAL *)(param_1 + 0xa0bc) = pvVar5;
  *(long *)(param_1 + 0xa0b8) = lVar4;
  pRVar3 = RKC_RPG_TABLE::GetFromTableNo(*(RKC_RPG_TABLE **)(param_1 + 0xa6f0),0x29);
  lVar4 = RKC_RPG_TABLEDATA::GetRowCount(pRVar3);
  pvVar5 = GlobalAlloc(0x40,lVar4 * 4);
  *(HGLOBAL *)(param_1 + 0xa0c4) = pvVar5;
  pvVar5 = GlobalAlloc(0x40,lVar4 * 4);
  *(HGLOBAL *)(param_1 + 0xa0c8) = pvVar5;
  *(long *)(param_1 + 0xa0c0) = lVar4;
  iVar7 = 0;
  if (0 < *(int *)(param_1 + 0xa0cc)) {
    do {
      iVar7 = iVar7 + 1;
      *(undefined4 *)(*(int *)(param_1 + 0xa0d0) + -4 + iVar7 * 4) = 0;
    } while (iVar7 < *(int *)(param_1 + 0xa0cc));
  }
  RKC_RPGSCRN_CHARANIMBLOCK::Release(DAT_00482d20,-1);
  RKC_RPGSCRN_CHARANIMBLOCK::CreateIndex(DAT_00482d20,5000,DAT_00482d14);
  RKC_DBFCONTROL::SetClipRect(DAT_00482d18,&local_10);
  RKC_DBFCONTROL::SetScreenClear(DAT_00482d18,0,(tagRGBQUAD *)0x0);
  RKC_RPGSCRN::SetUpdibHost(DAT_00482d14,DAT_00482d10);
  RKC_RPGSCRN::SetShadowTransFlag(DAT_00482d14,*(int *)(param_1 + 0xa73c));
  RKC_RPGSCRN_OBJECTDISP::Release((RKC_RPGSCRN_OBJECTDISP *)(param_1 + 0xa758));
  RKC_RPGSCRN_OBJECTDISP::SetHostScreen((RKC_RPGSCRN_OBJECTDISP *)(param_1 + 0xa758),DAT_00482d14);
  RKC_RPGSCRN::InsertObjectBlock(DAT_00482d14,0);
  RKC_RPGSCRN::InsertObjectBlock(DAT_00482d14,1);
  FUN_004127d0(param_1);
  FUN_00434d20(*(void **)(param_1 + 0xa018));
  FUN_004555e0();
  FUN_00425e30(*(void **)(param_1 + 0xa010));
  *(undefined4 *)(param_1 + 0xa090) = 0;
  *(undefined4 *)(param_1 + 0xa0a0) = 0;
  *(undefined4 *)(param_1 + 0xa0a4) = 0;
  *(undefined4 *)(param_1 + 0xa6d4) = 0;
  *(undefined4 *)(param_1 + 0xa6d8) = 0;
  *(undefined4 *)(param_1 + 0xa6dc) = 0;
  *(undefined4 *)(param_1 + 0xa6e0) = 0;
  *(undefined4 *)(param_1 + 0xa0d4) = 0;
  *(undefined4 *)(param_1 + 0xa0d8) = 0;
  *(undefined4 *)(param_1 + 0xa1d4) = 0;
  *(undefined4 *)(param_1 + 0xa1d8) = 0;
  *(undefined4 *)(param_1 + 0xa088) = 0;
  *(undefined4 *)(param_1 + 0xa0a8) = 0;
  *(undefined4 *)(param_1 + 0xa0ac) = 0;
  *(undefined4 *)(param_1 + 0xa738) = 0xffffffff;
  *(undefined4 *)(param_1 + 0xa760) = 0;
  *(undefined4 *)(param_1 + 0xa7e4) = 0;
  *(undefined4 *)(param_1 + 0xa7e8) = 0;
  *(undefined4 *)(param_1 + 0xa90c) = 0;
  *(undefined4 *)(param_1 + 0xa928) = 0;
  *(undefined4 *)(param_1 + 0xa918) = 0;
  *(undefined4 *)(param_1 + 0xa930) = 0;
  *(undefined4 *)(param_1 + 0xa95c) = 0;
  *(undefined4 *)(param_1 + 0xa934) = 0;
  *(undefined4 *)(param_1 + 0xa938) = 0;
  *(undefined4 *)(param_1 + 0xa93c) = 0;
  *(undefined4 *)(param_1 + 0xa96c) = 0xffffffff;
  iVar7 = 0;
  do {
    FUN_00427a70((void *)(iVar7 + *(int *)(param_1 + 0xa974)),0);
    iVar7 = iVar7 + 0x6c;
  } while (iVar7 < 0x1b0);
  *(undefined4 *)(param_1 + 0xa978) = 0;
  *(undefined4 *)(param_1 + 0xa97c) = 0xffffffff;
  *(undefined4 *)(param_1 + 0xa08c) = 0;
  *(undefined4 *)(param_1 + 0xa984) = 0xffffffff;
  *(undefined4 *)(param_1 + 0xa988) = 0xffffffff;
  *(undefined4 *)(param_1 + 0xa9a8) = 0;
  *(undefined4 *)(param_1 + 0xa9a0) = 0xffffd8f0;
  *(undefined4 *)(param_1 + 0xa9a4) = 0xffffd8f0;
  *(undefined4 *)(param_1 + 0xa994) = 0;
  *(undefined4 *)(param_1 + 0xa998) = 0;
  *(undefined4 *)(param_1 + 0xa99c) = 0;
  *(undefined4 *)(param_1 + 0xa9c8) = 0;
  *(undefined4 *)(param_1 + 0xa9cc) = 0;
  *(undefined4 *)(param_1 + 0xa9d0) = 0;
  *(undefined4 *)(param_1 + 0xa9d4) = 0;
  *(undefined4 *)(param_1 + 0xa9d8) = 0;
  *(undefined4 *)(param_1 + 0xa9dc) = 0;
  *(undefined4 *)(param_1 + 0xa9e0) = 0;
  *(undefined4 *)(param_1 + 0xa9f0) = 7;
  *(undefined4 *)(param_1 + 0xa9f4) = 0;
  *(undefined4 *)(param_1 + 0xa910) = 0;
  *(undefined4 *)(param_1 + 0xaaa4) = 0;
  RKC_DIB::Create((RKC_DIB *)(param_1 + 0xaaa8),0x280,0x1a4,8,1);
  RKC_DIB::Create((RKC_DIB *)(param_1 + 0xaab4),0x280,0x1a4,8,1);
  do {
    iVar7 = 2;
    piVar6 = (int *)(param_1 + 0xaaac);
    do {
      iVar7 = iVar7 + -1;
      uVar8 = (undefined)iVar9;
      *(undefined *)(*piVar6 + 2 + iVar9 * 4) = uVar8;
      *(undefined *)(*piVar6 + 1 + iVar9 * 4) = uVar8;
      *(undefined *)(*piVar6 + iVar9 * 4) = uVar8;
      piVar6 = piVar6 + 3;
    } while (iVar7 != 0);
    iVar9 = iVar9 + 1;
  } while (iVar9 < 0x100);
  return 1;
}



/*
 * Function: FUN_0041d880
 * Address: 0041d880
 */

undefined4 __fastcall FUN_0041d880(int param_1)

{
  RKC_NETWORK_SERVER *this;
  RKC_NETWORK_CLIENT *this_00;
  
  if (*(HGLOBAL *)(param_1 + 0xa0bc) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xa0bc));
    *(undefined4 *)(param_1 + 0xa0bc) = 0;
  }
  if (*(HGLOBAL *)(param_1 + 0xa0c4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xa0c4));
    *(undefined4 *)(param_1 + 0xa0c4) = 0;
  }
  if (*(HGLOBAL *)(param_1 + 0xa0c8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xa0c8));
    *(undefined4 *)(param_1 + 0xa0c8) = 0;
  }
  this = RKC_NETWORK::GetServer(DAT_00482d24);
  RKC_NETWORK_SERVER::Release(this);
  this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
  RKC_NETWORK_CLIENT::Release(this_00);
  FUN_004261a0(*(int **)(param_1 + 0xa010));
  FUN_00455f10(*(int **)(param_1 + 0xa014));
  FUN_00434a90(*(int **)(param_1 + 0xa018));
  FUN_00457d10(*(undefined4 **)(param_1 + 0xa01c));
  FUN_00462a60(*(int **)(param_1 + 0xa020));
  RKC_RPG_TABLE::Release(*(RKC_RPG_TABLE **)(param_1 + 0xa6f0));
  RKC_DBFCONTROL::Clear(DAT_00482d18,(tagRGBQUAD *)0x0);
  RKC_RPGSCRN::Release(DAT_00482d14);
  FUN_00412900();
  return 1;
}



/*
 * Function: FUN_0041d970
 * Address: 0041d970
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0041d970(void *param_1)

{
  char cVar1;
  RKC_NETWORK_PACKET *this;
  undefined4 uVar2;
  RKC_NETWORK_CLIENT *this_00;
  int iVar3;
  RKC_NETWORK_PACKET *pRVar4;
  int *piVar5;
  char *pcVar6;
  void *pvVar7;
  undefined4 *puVar8;
  undefined4 uVar9;
  int iVar10;
  long lVar11;
  RKC_NETWORK_CLIENT *this_01;
  RKC_NETWORK_PACKETBLOCK *this_02;
  RKC_NETWORK_SERVER *this_03;
  uint uVar12;
  uint uVar13;
  int iVar14;
  char *pcVar15;
  int *piVar16;
  long lVar17;
  int iVar18;
  long lVar19;
  undefined4 *puVar20;
  int iVar21;
  RKC_NETWORK_IP aRStack_194 [8];
  RKC_NETWORK_CLIENT *pRStack_18c;
  int iStack_188;
  RKC_MEMORY local_184 [8];
  int iStack_17c;
  undefined4 uStack_170;
  char acStack_16c [24];
  undefined4 uStack_154;
  undefined4 uStack_150;
  undefined4 uStack_148;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471ccc;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_184);
  puVar20 = DAT_00482dcc;
  iVar14 = 0;
  uStack_4 = 0;
  if (DAT_00482db0 == 0) {
    FUN_00434ce0(*(void **)((int)param_1 + 0xa018),0);
    pcVar6 = (char *)FUN_00456450((int)puVar20);
    uVar12 = 0xffffffff;
    do {
      pcVar15 = pcVar6;
      if (uVar12 == 0) break;
      uVar12 = uVar12 - 1;
      pcVar15 = pcVar6 + 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar15;
    } while (cVar1 != '\0');
    uVar12 = ~uVar12;
    pcVar6 = pcVar15 + -uVar12;
    pcVar15 = acStack_16c;
    for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
      *(undefined4 *)pcVar15 = *(undefined4 *)pcVar6;
      pcVar6 = pcVar6 + 4;
      pcVar15 = pcVar15 + 4;
    }
    for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
      *pcVar15 = *pcVar6;
      pcVar6 = pcVar6 + 1;
      pcVar15 = pcVar15 + 1;
    }
    iVar14 = FUN_00456450((int)puVar20);
    uStack_150 = *(undefined4 *)(iVar14 + 0x1c);
    iVar14 = FUN_00456450((int)puVar20);
    uStack_148 = *(undefined4 *)(iVar14 + 0x24);
    iVar14 = FUN_00456450((int)puVar20);
    uStack_154 = *(undefined4 *)(iVar14 + 0x18);
    puVar8 = (undefined4 *)FUN_00456450((int)puVar20);
    pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    FUN_00440f70(pvVar7,puVar8);
    puVar8 = (undefined4 *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *puVar8 = 0;
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(undefined4 *)(iVar14 + 0x1288) = 1;
    _DAT_0048d53c = 1;
    if (DAT_00482dd0 == 1) {
      uVar9 = FUN_00427b20(puVar20);
      FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
      FUN_0044cac0(uVar9);
    }
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar14 = *(int *)(iVar14 + 0x150);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar3 = *(int *)(iVar3 + 0x1590);
    iVar10 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(undefined4 *)(iVar10 + 0x154) = *(undefined4 *)(iVar3 + iVar14 * 4);
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar14 = *(int *)(iVar14 + 0x150);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar3 = *(int *)(iVar3 + 0x1594);
    iVar10 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(undefined4 *)(iVar10 + 0x158) = *(undefined4 *)(iVar3 + iVar14 * 4);
    pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    FUN_00440c20(pvVar7);
    iVar21 = -1;
    puVar20 = (undefined4 *)0x0;
    iVar18 = 0;
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar14 = *(int *)(iVar14 + 0x15a8);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar3 = *(int *)(iVar3 + 0x15a4);
    iVar10 = FUN_00434cd0(*(int *)((int)param_1 + 0xa018));
    FUN_00426200(*(void **)((int)param_1 + 0xa010),iVar10,iVar3,iVar14,iVar18,puVar20,iVar21);
    iVar14 = FUN_00456410(DAT_0048d8b4,0);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(int *)(iVar3 + 0x3f8) = iVar14;
    iVar14 = FUN_00456440((int)DAT_0048d8b4);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(int *)(iVar3 + 0x3fc) = iVar14;
    iVar14 = FUN_00456450((int)DAT_0048d8b4);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(int *)(iVar3 + 0x400) = iVar14;
    *(undefined4 *)((int)param_1 + 0xa090) = 1;
LAB_0041e4ab:
    *(undefined4 *)((int)param_1 + 0xa0a0) = 0;
  }
  else {
    if (DAT_00482db0 != 1) {
      if (DAT_00482db0 == 2) {
        *(undefined4 *)((int)param_1 + 0xa6ec) = 0;
        this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
        pRStack_18c = this_00;
        if ((*(int *)((int)param_1 + 0xa0a0) == 0) ||
           (iVar3 = RKC_NETWORK_CLIENT::GetActiveFlag(this_00), iVar3 != 0)) {
          iVar3 = *(int *)((int)param_1 + 0xa0a0);
          if (iVar3 == 0) {
            *(undefined4 *)((int)param_1 + 0xa0b4) = 0;
            iVar14 = RKC_NETWORK_CLIENT::Initialize
                               (this_00,(RKC_NETWORK_IP *)&DAT_00482dbc,3,
                                (RKC_NETWORK_USERINFO *)0x0,0xf,0,0xf);
            if (iVar14 == 0) {
              DAT_00482d74 = 1;
              DAT_00482d78 = 0x96;
              FUN_004023d0(&DAT_00482770,0,0);
              goto LAB_0041e4b5;
            }
            iVar14 = RKC_NETWORK_CLIENT::Connect(this_00,120000);
            if (iVar14 == 0) {
              DAT_00482d74 = 1;
              DAT_00482d78 = 0x96;
              FUN_004023d0(&DAT_00482770,0,0);
              goto LAB_0041e4b5;
            }
          }
          else {
            if (iVar3 == 1) {
              pRVar4 = RKC_NETWORK_CLIENT::GetRecvPacket(this_00,0,0);
              if (pRVar4 != (RKC_NETWORK_PACKET *)0x0) {
                piVar5 = (int *)RKC_NETWORK_PACKET::GetData(pRVar4);
                DAT_0048e2b0 = *piVar5;
                RKC_NETWORK_CLIENT::DeleteRecvPacket(this_00,pRVar4);
                FUN_00434ce0(*(void **)((int)param_1 + 0xa018),DAT_0048e2b0);
                pcVar6 = (char *)FUN_00456450((int)puVar20);
                uVar12 = 0xffffffff;
                do {
                  pcVar15 = pcVar6;
                  if (uVar12 == 0) break;
                  uVar12 = uVar12 - 1;
                  pcVar15 = pcVar6 + 1;
                  cVar1 = *pcVar6;
                  pcVar6 = pcVar15;
                } while (cVar1 != '\0');
                uVar12 = ~uVar12;
                pcVar6 = pcVar15 + -uVar12;
                pcVar15 = acStack_16c;
                for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
                  *(undefined4 *)pcVar15 = *(undefined4 *)pcVar6;
                  pcVar6 = pcVar6 + 4;
                  pcVar15 = pcVar15 + 4;
                }
                for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
                  *pcVar15 = *pcVar6;
                  pcVar6 = pcVar6 + 1;
                  pcVar15 = pcVar15 + 1;
                }
                iVar14 = FUN_00456450((int)puVar20);
                uStack_150 = *(undefined4 *)(iVar14 + 0x1c);
                iVar14 = FUN_00456450((int)puVar20);
                uStack_148 = *(undefined4 *)(iVar14 + 0x24);
                iVar14 = FUN_00456450((int)puVar20);
                uStack_154 = *(undefined4 *)(iVar14 + 0x18);
                pcVar6 = acStack_16c;
                pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                FUN_00440f70(pvVar7,(undefined4 *)pcVar6);
                puVar8 = (undefined4 *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                *puVar8 = 2;
                iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                *(undefined4 *)(iVar14 + 0x1288) = 1;
                _DAT_0048d53c = 1;
                if (DAT_00482dd0 == 1) {
                  uVar9 = FUN_00427b20(puVar20);
                  FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                  FUN_0044cac0(uVar9);
                }
                pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                FUN_00440c20(pvVar7);
                iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar14 = *(int *)(iVar14 + 0x150);
                iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar3 = *(int *)(iVar3 + 0x1590);
                iVar10 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                *(undefined4 *)(iVar10 + 0x154) = *(undefined4 *)(iVar3 + iVar14 * 4);
                iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar14 = *(int *)(iVar14 + 0x150);
                iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar3 = *(int *)(iVar3 + 0x1594);
                iVar10 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar21 = -1;
                *(undefined4 *)(iVar10 + 0x158) = *(undefined4 *)(iVar3 + iVar14 * 4);
                puVar20 = (undefined4 *)0x0;
                iVar18 = 0;
                iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar14 = *(int *)(iVar14 + 0x15a8);
                iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                iVar3 = *(int *)(iVar3 + 0x15a4);
                iVar10 = FUN_00434cd0(*(int *)((int)param_1 + 0xa018));
                FUN_00426200(*(void **)((int)param_1 + 0xa010),iVar10,iVar3,iVar14,iVar18,puVar20,
                             iVar21);
                piVar5 = &DAT_0048d9f8;
                pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                FUN_00445210(pvVar7,piVar5);
                iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                _DAT_0048da00 = *(undefined4 *)(iVar14 + 0x15a8);
                iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                DAT_0048d9fc = *(int *)(iVar14 + 0x15a4);
                iVar14 = FUN_00456410(DAT_0048d8b4,0);
                iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                *(int *)(iVar3 + 0x3f8) = iVar14;
                iVar14 = FUN_00456440((int)DAT_0048d8b4);
                iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                *(int *)(iVar3 + 0x3fc) = iVar14;
                iVar14 = FUN_00456450((int)DAT_0048d8b4);
                iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                *(int *)(iVar3 + 0x400) = iVar14;
                uVar2 = DAT_0048e2c0;
                uVar9 = DAT_0048e2bc;
                uStack_170 = DAT_0048e2b8;
                RKC_MEMORY::Allocation(local_184,0x8c4,1);
                pcVar6 = RKC_MEMORY::Get(local_184);
                *(undefined4 *)pcVar6 = uVar2;
                *(undefined4 *)(pcVar6 + 4) = uVar9;
                *(undefined4 *)(pcVar6 + 8) = uStack_170;
                pcVar6 = RKC_MEMORY::Get(local_184);
                piVar5 = &DAT_0048d9f8;
                piVar16 = (int *)(pcVar6 + 0xc);
                for (iVar14 = 0x22e; iVar14 != 0; iVar14 = iVar14 + -1) {
                  *piVar16 = *piVar5;
                  piVar5 = piVar5 + 1;
                  piVar16 = piVar16 + 1;
                }
                iVar3 = 0;
                iVar14 = 0;
                lVar19 = -1;
                pcVar6 = RKC_MEMORY::Get(local_184);
                lVar17 = 1;
                lVar11 = RKC_MEMORY::GetSize(local_184);
                RKC_NETWORK_CLIENT::SetSendPacket
                          (pRStack_18c,0,lVar11,lVar17,pcVar6,lVar19,iVar14,iVar3);
                *(int *)((int)param_1 + 0xa0a0) = *(int *)((int)param_1 + 0xa0a0) + 1;
              }
              goto LAB_0041e4b5;
            }
            if (iVar3 == 2) {
              this_01 = (RKC_NETWORK_CLIENT *)RKC_NETWORK_CLIENT::GetRecvPacket(this_00,0,2);
              if (this_01 == (RKC_NETWORK_CLIENT *)0x0) goto LAB_0041e4b5;
              iStack_17c = 0;
              uVar12 = RKC_NETWORK_PACKET::GetSize((RKC_NETWORK_PACKET *)this_01);
              if (uVar12 / 0x8b8 != 0) {
                iStack_188 = 0;
                do {
                  pvVar7 = RKC_NETWORK_PACKET::GetData((RKC_NETWORK_PACKET *)this_01);
                  piVar5 = (int *)((int)pvVar7 + iStack_188);
                  piVar16 = &DAT_0048d9f8;
                  for (iVar14 = 0x22e; iVar14 != 0; iVar14 = iVar14 + -1) {
                    *piVar16 = *piVar5;
                    piVar5 = piVar5 + 1;
                    piVar16 = piVar16 + 1;
                  }
                  piVar5 = (int *)FUN_00434c90(*(void **)((int)param_1 + 0xa018),DAT_0048d9f8);
                  FUN_00440f70(piVar5,(undefined4 *)&DAT_0048da14);
                  FUN_00440c20(piVar5);
                  FUN_00445180(piVar5,0x48d9f8);
                  *piVar5 = (DAT_0048d9f8 != 0) + 1;
                  FUN_00426200(*(void **)((int)param_1 + 0xa010),DAT_0048d9f8,DAT_0048d9fc,0,0,
                               (undefined4 *)0x0,-1);
                  piVar5[0xb8] = DAT_0048da08;
                  piVar5[0xb9] = DAT_0048da0c;
                  piVar5[199] = DAT_0048da10;
                  iStack_188 = iStack_188 + 0x8b8;
                  iVar14 = iStack_17c + 1;
                  iStack_17c = iVar14;
                  uVar12 = RKC_NETWORK_PACKET::GetSize((RKC_NETWORK_PACKET *)this_01);
                  this_00 = pRStack_18c;
                } while (iVar14 < (int)(uVar12 / 0x8b8));
              }
            }
            else {
              if (iVar3 != 3) {
                if (iVar3 == 4) {
                  RKC_NETWORK::SetMutex(DAT_00482d24);
                  lVar11 = 0;
                  this_02 = RKC_NETWORK_CLIENT::GetRecvPacketBlock(this_00);
                  pRVar4 = RKC_NETWORK_PACKETBLOCK::Get(this_02,lVar11);
                  while (this = pRVar4, this != (RKC_NETWORK_PACKET *)0x0) {
                    pRVar4 = RKC_NETWORK_PACKET::GetNext(this);
                    lVar11 = RKC_NETWORK_PACKET::GetLine(this);
                    if (((lVar11 == 0) &&
                        (lVar11 = RKC_NETWORK_PACKET::GetInfoID(this), 0x13 < lVar11)) &&
                       ((lVar11 < 0x20 || (lVar11 == 0x23)))) {
                      FUN_004190b0(param_1,this);
                      RKC_NETWORK_CLIENT::DeleteRecvPacket(this_00,this);
                    }
                  }
                  RKC_NETWORK::ResetMutex(DAT_00482d24);
                  if (*(int *)((int)param_1 + 0xa0b4) == 0x1fff) {
                    *(undefined4 *)((int)param_1 + 0xa0a0) = 0;
                    *(undefined4 *)((int)param_1 + 0xa090) = 1;
                    *(undefined4 *)((int)param_1 + 0xa760) = 300;
                    DAT_0048d8d4 = 1;
                    RKC_NETWORK_CLIENT::GetMyIP(this_00,aRStack_194);
                    FUN_00467d51((undefined *)((int)param_1 + 0xa764),
                                 (byte *)s_CLIENT_IP_Address____03d__03d__0_0047fc00);
                    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
                    piVar5 = (int *)FUN_00466410(*(int *)(iVar14 + 0x458));
                    FUN_004304b0(piVar5);
                  }
                }
                goto LAB_0041e4b5;
              }
              pRStack_18c = (RKC_NETWORK_CLIENT *)RKC_NETWORK_CLIENT::GetRecvPacket(this_00,0,6);
              if (pRStack_18c == (RKC_NETWORK_CLIENT *)0x0) goto LAB_0041e4b5;
              piVar5 = (int *)RKC_NETWORK_PACKET::GetData((RKC_NETWORK_PACKET *)pRStack_18c);
              do {
                FUN_00420b30((void *)(DAT_0048d768 + iVar14),piVar5);
                iVar14 = iVar14 + 0x6c;
                piVar5 = piVar5 + 5;
                this_01 = pRStack_18c;
              } while (iVar14 < 0x1b0);
            }
            RKC_NETWORK_CLIENT::DeleteRecvPacket(this_00,(RKC_NETWORK_PACKET *)this_01);
          }
          *(int *)((int)param_1 + 0xa0a0) = *(int *)((int)param_1 + 0xa0a0) + 1;
        }
        else {
          DAT_00482d74 = 1;
          DAT_00482d78 = 0x96;
          FUN_004023d0(&DAT_00482770,0,0);
        }
      }
      goto LAB_0041e4b5;
    }
    FUN_00434ce0(*(void **)((int)param_1 + 0xa018),0);
    pcVar6 = (char *)FUN_00456450((int)puVar20);
    uVar12 = 0xffffffff;
    do {
      pcVar15 = pcVar6;
      if (uVar12 == 0) break;
      uVar12 = uVar12 - 1;
      pcVar15 = pcVar6 + 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar15;
    } while (cVar1 != '\0');
    uVar12 = ~uVar12;
    pcVar6 = pcVar15 + -uVar12;
    pcVar15 = acStack_16c;
    for (uVar13 = uVar12 >> 2; uVar13 != 0; uVar13 = uVar13 - 1) {
      *(undefined4 *)pcVar15 = *(undefined4 *)pcVar6;
      pcVar6 = pcVar6 + 4;
      pcVar15 = pcVar15 + 4;
    }
    for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
      *pcVar15 = *pcVar6;
      pcVar6 = pcVar6 + 1;
      pcVar15 = pcVar15 + 1;
    }
    iVar14 = FUN_00456450((int)puVar20);
    uStack_150 = *(undefined4 *)(iVar14 + 0x1c);
    iVar14 = FUN_00456450((int)puVar20);
    uStack_148 = *(undefined4 *)(iVar14 + 0x24);
    iVar14 = FUN_00456450((int)puVar20);
    uStack_154 = *(undefined4 *)(iVar14 + 0x18);
    pcVar6 = acStack_16c;
    pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    FUN_00440f70(pvVar7,(undefined4 *)pcVar6);
    puVar8 = (undefined4 *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *puVar8 = 1;
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(undefined4 *)(iVar14 + 0x1288) = 1;
    _DAT_0048d53c = 1;
    if (DAT_00482dd0 == 1) {
      uVar9 = FUN_00427b20(puVar20);
      FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
      FUN_0044cac0(uVar9);
    }
    pvVar7 = (void *)FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    FUN_00440c20(pvVar7);
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar14 = *(int *)(iVar14 + 0x150);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar3 = *(int *)(iVar3 + 0x1590);
    iVar10 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(undefined4 *)(iVar10 + 0x154) = *(undefined4 *)(iVar3 + iVar14 * 4);
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar14 = *(int *)(iVar14 + 0x150);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar3 = *(int *)(iVar3 + 0x1594);
    iVar10 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar21 = -1;
    *(undefined4 *)(iVar10 + 0x158) = *(undefined4 *)(iVar3 + iVar14 * 4);
    puVar20 = (undefined4 *)0x0;
    iVar18 = 0;
    iVar14 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar14 = *(int *)(iVar14 + 0x15a8);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    iVar3 = *(int *)(iVar3 + 0x15a4);
    iVar10 = FUN_00434cd0(*(int *)((int)param_1 + 0xa018));
    FUN_00426200(*(void **)((int)param_1 + 0xa010),iVar10,iVar3,iVar14,iVar18,puVar20,iVar21);
    iVar14 = FUN_00456410(DAT_0048d8b4,0);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(int *)(iVar3 + 0x3f8) = iVar14;
    iVar14 = FUN_00456440((int)DAT_0048d8b4);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(int *)(iVar3 + 0x3fc) = iVar14;
    iVar14 = FUN_00456450((int)DAT_0048d8b4);
    iVar3 = FUN_00434cb0(*(int *)((int)param_1 + 0xa018));
    *(int *)(iVar3 + 0x400) = iVar14;
    this_03 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar14 = RKC_NETWORK_SERVER::Initialize(this_03,3,3,(RKC_NETWORK_USERINFOBLOCK *)0x0,0xf,0,0xf);
    if (iVar14 == 0) {
      DAT_00482d74 = 3;
    }
    else {
      iVar14 = RKC_NETWORK_SERVER::Start(this_03);
      if (iVar14 != 0) {
        *(undefined4 *)((int)param_1 + 0xa760) = 300;
        RKC_NETWORK_SERVER::GetIP(this_03,aRStack_194);
        FUN_00467d51((undefined *)((int)param_1 + 0xa764),
                     (byte *)s_HOST_IP_Address____03d__03d__03d_0047fbd8);
        *(undefined4 *)((int)param_1 + 0xa090) = 1;
        goto LAB_0041e4ab;
      }
      DAT_00482d74 = 1;
    }
    DAT_00482d78 = 0x96;
    FUN_004023d0(&DAT_00482770,0,0);
  }
LAB_0041e4b5:
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_184);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_0041e4f0
 * Address: 0041e4f0
 */

undefined4 __fastcall FUN_0041e4f0(char *param_1)

{
  short sVar1;
  int *piVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  char *pcVar6;
  RKC_DBF *pRVar7;
  short *psVar8;
  RKC_UPDIB_UPD *pRVar9;
  RKC_UPDIB_UPD_PARTS *pRVar10;
  int iVar11;
  int iVar12;
  RKC_DIBHISPEEDMODE *pRVar13;
  undefined4 *puVar14;
  void *pvVar15;
  RKC_UPDIB_VSBLOCK *pRVar16;
  long lVar17;
  uint uVar18;
  int iVar19;
  char cVar20;
  int unaff_EBX;
  int unaff_EBP;
  undefined4 unaff_ESI;
  int iVar21;
  undefined4 *puVar22;
  undefined4 unaff_EDI;
  char *pcVar23;
  bool bVar24;
  RKC_DIB *pRVar25;
  long lVar26;
  undefined *puVar27;
  long *plVar28;
  long lVar29;
  long *plVar30;
  tagRECT *ptVar31;
  long in_stack_fffffcf8;
  int in_stack_fffffcfc;
  int in_stack_fffffd00;
  int in_stack_fffffd04;
  int in_stack_fffffd08;
  undefined4 in_stack_fffffd0c;
  char *pcVar32;
  char *in_stack_fffffd14;
  char *in_stack_fffffd18;
  char *in_stack_fffffd1c;
  char *in_stack_fffffd20;
  char *in_stack_fffffd24;
  char *in_stack_fffffd28;
  char *in_stack_fffffd2c;
  undefined *in_stack_fffffd30;
  short *psVar33;
  undefined *in_stack_fffffd38;
  undefined *in_stack_fffffd3c;
  undefined *in_stack_fffffd40;
  char *in_stack_fffffd44;
  char *in_stack_fffffd48;
  undefined *in_stack_fffffd4c;
  undefined *in_stack_fffffd50;
  char *in_stack_fffffd54;
  undefined *in_stack_fffffd58;
  undefined *in_stack_fffffd5c;
  undefined *in_stack_fffffd60;
  undefined *in_stack_fffffd64;
  undefined *in_stack_fffffd68;
  undefined *in_stack_fffffd6c;
  char *in_stack_fffffd70;
  undefined *in_stack_fffffd74;
  undefined *in_stack_fffffd78;
  undefined *in_stack_fffffd7c;
  undefined *in_stack_fffffd80;
  undefined *in_stack_fffffd84;
  char *in_stack_fffffd88;
  char *in_stack_fffffd8c;
  undefined *in_stack_fffffd90;
  undefined *in_stack_fffffd94;
  char *in_stack_fffffd98;
  undefined *in_stack_fffffd9c;
  undefined *in_stack_fffffda0;
  undefined *in_stack_fffffda4;
  undefined *in_stack_fffffda8;
  undefined *in_stack_fffffdac;
  undefined *in_stack_fffffdb0;
  char *in_stack_fffffdb4;
  undefined auStack_14c [320];
  void *pvStack_c;
  undefined *puStack_8;
  uint uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471d04;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECT::RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&stack0xfffffd70);
  uStack_4 = 0;
  RKC_DIB::RKC_DIB((RKC_DIB *)&stack0xfffffd14);
  uStack_4 = CONCAT31(uStack_4._1_3_,1);
  FUN_004275a0(*(int *)(param_1 + 0xa010));
  if (DAT_0048d8cc != 0) {
    if (DAT_0048d8cc == 1) {
      DAT_0048d8cc = 2;
    }
    goto LAB_0041e7de;
  }
  if (*(int *)(param_1 + 0xa090) == 0) {
    uVar3 = FUN_0041d970(param_1);
LAB_0041e6a1:
    uStack_4 = uStack_4 & 0xffffff00;
    RKC_DIB::~RKC_DIB((RKC_DIB *)&stack0xfffffd14);
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECT::~RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&stack0xfffffd70);
    ExceptionList = pvStack_c;
    return uVar3;
  }
  if (*(int *)(param_1 + 0xa980) == 0) {
    param_1[0xa978] = '\0';
    param_1[0xa979] = '\0';
    param_1[0xa97a] = '\0';
    param_1[0xa97b] = '\0';
  }
  param_1[0xa980] = '\0';
  param_1[0xa981] = '\0';
  param_1[0xa982] = '\0';
  param_1[0xa983] = '\0';
  if (*(int *)(param_1 + 0xa6e0) != 0) {
    iVar4 = FUN_00456230(*(int *)(param_1 + 0xa6e0));
    FUN_00457e60(*(void **)(param_1 + 0xa01c),iVar4);
    param_1[0xa6e0] = '\0';
    param_1[0xa6e1] = '\0';
    param_1[0xa6e2] = '\0';
    param_1[0xa6e3] = '\0';
  }
  if (*(int *)(param_1 + 0xa6dc) != 0) {
    iVar4 = FUN_00456230(*(int *)(param_1 + 0xa6dc));
    FUN_00457e60(*(void **)(param_1 + 0xa01c),iVar4);
    param_1[0xa6dc] = '\0';
    param_1[0xa6dd] = '\0';
    param_1[0xa6de] = '\0';
    param_1[0xa6df] = '\0';
  }
  if (*(int *)(param_1 + 0xa6d4) != 0) {
    iVar4 = FUN_00456230(*(int *)(param_1 + 0xa6d4));
    FUN_00457e60(*(void **)(param_1 + 0xa01c),iVar4);
    param_1[0xa6d4] = '\0';
    param_1[0xa6d5] = '\0';
    param_1[0xa6d6] = '\0';
    param_1[0xa6d7] = '\0';
  }
  if (*(int *)(param_1 + 0xa6d8) != 0) {
    iVar4 = FUN_00456230(*(int *)(param_1 + 0xa6d8));
    FUN_00457e60(*(void **)(param_1 + 0xa01c),iVar4);
    param_1[0xa6d8] = '\0';
    param_1[0xa6d9] = '\0';
    param_1[0xa6da] = '\0';
    param_1[0xa6db] = '\0';
  }
  uVar3 = 1;
  if (*(int *)(param_1 + 0xa094) == 1) goto LAB_0041e6a1;
  if (*(int *)(param_1 + 0xa09c) == 1) {
    uVar3 = FUN_004023d0(&DAT_00482770,0,0);
    goto LAB_0041e6a1;
  }
  if (*(int *)(param_1 + 0xa098) == 1) {
    uVar3 = FUN_004023d0(&DAT_00482770,2,0);
    goto LAB_0041e6a1;
  }
  if (DAT_00482774 != 0) {
    FUN_004562f0(DAT_0048d8b4);
  }
  *(int *)(param_1 + 0xa0a4) = *(int *)(param_1 + 0xa0a4) + 1;
  iVar4 = FUN_0041c7b0(param_1);
  if (iVar4 == 0) {
LAB_0041e7de:
    uStack_4 = uStack_4 & 0xffffff00;
    RKC_DIB::~RKC_DIB((RKC_DIB *)&stack0xfffffd14);
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECT::~RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&stack0xfffffd70);
    ExceptionList = pvStack_c;
    return 0;
  }
  iVar4 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if (*(int *)(iVar4 + 0x43c) == 2) goto LAB_0041e6a1;
  iVar4 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  piVar2 = *(int **)(iVar4 + 0x400);
  iVar4 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if (**(int **)(iVar4 + 0x3fc) == *piVar2) {
    iVar4 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
    iVar4 = *(int *)(iVar4 + 0x400);
    iVar5 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
    if (*(int *)(*(int *)(iVar5 + 0x3fc) + 4) == *(int *)(iVar4 + 4)) {
      *(int *)(param_1 + 0xa978) = *(int *)(param_1 + 0xa978) + 1;
    }
  }
  if ((DAT_0048d8d4 == 1) && (DAT_0048d8d4 = 2, DAT_0048d8d8 == 1)) {
    DAT_0048d8e0 = 0;
    InvalidateRect(DAT_00482778,(RECT *)0x0,0);
  }
  if (DAT_0048d8d4 == 2) {
    if (DAT_0048d8d8 == 0) {
      DAT_0048d8d4 = -1;
    }
    else {
      uVar18 = DAT_0048d8e0 & 0x80000003;
      bVar24 = uVar18 == 0;
      if ((int)uVar18 < 0) {
        bVar24 = (uVar18 - 1 | 0xfffffffc) == 0xffffffff;
      }
      if (bVar24) {
        InvalidateRect(DAT_00482778,(RECT *)0x0,0);
      }
      DAT_0048d8e0 = DAT_0048d8e0 + 1;
      if (0xf < (int)DAT_0048d8e0) {
        DAT_0048d8e0 = 0;
      }
    }
  }
  if ((DAT_0048d8d4 == 3) && (DAT_0048d8d8 == 1)) {
    DAT_0048d8d4 = -1;
  }
  if (-1 < DAT_0048d8d4) goto LAB_0041e7de;
  pcVar6 = (char *)FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if (*(int *)(pcVar6 + 0x43c) == 1) {
    FUN_0041c9a0((int)param_1);
    uStack_4 = uStack_4 & 0xffffff00;
    RKC_DIB::~RKC_DIB((RKC_DIB *)&stack0xfffffd14);
    uStack_4 = 0xffffffff;
    RKC_RPGSCRN_OBJECT::~RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&stack0xfffffd70);
    ExceptionList = pvStack_c;
    return 1;
  }
  if (*(int *)(param_1 + 0xa92c) == 1) {
    param_1[0xa92c] = '\0';
    param_1[0xa92d] = '\0';
    param_1[0xa92e] = '\0';
    param_1[0xa92f] = '\0';
  }
  *param_1 = '\0';
  pcVar32 = pcVar6;
  pRVar7 = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
  psVar8 = (short *)RKC_DBF::GetVSBlockNo(pRVar7);
  psVar33 = psVar8;
  FUN_0040ede0(param_1);
  iVar4 = FUN_00456210(*(int *)(param_1 + 0xa010));
  if (iVar4 != 0) {
    FUN_00427aa0(iVar4);
  }
  iVar4 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if ((*(int *)(iVar4 + 0x1624) != 0) && (DAT_0048ce3c == 0)) {
    iVar4 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
    *(undefined4 *)(iVar4 + 0x1624) = 0;
  }
  FUN_00434d30(*(void **)(param_1 + 0xa018),unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,
               in_stack_fffffcf8,in_stack_fffffcfc,in_stack_fffffd00,in_stack_fffffd04,
               in_stack_fffffd08,in_stack_fffffd0c,pcVar32,(int)in_stack_fffffd14,in_stack_fffffd18,
               (int)in_stack_fffffd1c,(int)in_stack_fffffd20);
  if (DAT_00482cd4 != -1) {
    *(int *)(pcVar6 + 0x440) = DAT_00482cd4;
    *(undefined4 *)(pcVar6 + 0x444) = DAT_00482cd8;
    pcVar6[0x43c] = '\x01';
    pcVar6[0x43d] = '\0';
    pcVar6[0x43e] = '\0';
    pcVar6[0x43f] = '\0';
    pcVar6[0x454] = -1;
    pcVar6[0x455] = -1;
    pcVar6[0x456] = -1;
    pcVar6[0x457] = -1;
    DAT_00482cd4 = -1;
  }
  iVar4 = FUN_004587d0(*(int *)(param_1 + 0xa01c));
  if ((iVar4 == 1) && ((iVar4 = FUN_00434cd0(DAT_0048ce10), iVar4 != 1 || (DAT_0048d708 != 1)))) {
    FUN_004170f0();
  }
  FUN_00416fb0((uint *)&stack0xfffffd48);
  if (in_stack_fffffd48 == (char *)0x1) {
    SetRect((LPRECT)&stack0xfffffd38,0,0,0x13f,0x19b);
    iVar4 = -0xa0;
LAB_0041ea09:
    iVar5 = 0x140;
  }
  else {
    if (in_stack_fffffd48 == (char *)0x10) {
      SetRect((LPRECT)&stack0xfffffd38,0x140,0,0x27f,0x19b);
      iVar4 = 0xa0;
      goto LAB_0041ea09;
    }
    if (in_stack_fffffd48 == (char *)0x11) {
      SetRect((LPRECT)&stack0xfffffd38,0,0,-1,-1);
      iVar4 = 0;
      iVar5 = 0;
    }
    else {
      SetRect((LPRECT)&stack0xfffffd38,0,0,0x27f,0x19b);
      iVar4 = 0;
      iVar5 = 0x280;
      if (DAT_0048d70c == 2) {
        FUN_0044e830();
        DAT_0048d70c = 0;
      }
    }
  }
  ptVar31 = (tagRECT *)&stack0xfffffd38;
  pRVar7 = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
  RKC_DBF::SetClipRect(pRVar7,ptVar31);
  if (pcVar6 == (char *)0x0) goto LAB_0041eb52;
  plVar30 = (long *)(param_1 + 0xa004);
  plVar28 = (long *)(param_1 + 0xa000);
  RKC_RPGSCRN::CalcRealPos
            (DAT_00482d14,*(long *)(pcVar32 + 0x2e0),*(long *)(pcVar32 + 0x2e4),plVar28,plVar30);
  if (in_stack_fffffd48 == (char *)0x1) {
    lVar17 = *plVar28 + -0xa0;
LAB_0041eaa8:
    *plVar28 = lVar17;
    *plVar30 = *plVar30 + -0xf0;
    param_1[0xa008] = '\0';
    param_1[0xa009] = '\0';
    param_1[0xa00a] = '\0';
    param_1[0xa00b] = '\0';
    param_1[0xa00c] = '\0';
    param_1[0xa00d] = '\0';
    param_1[0xa00e] = '\0';
    param_1[0xa00f] = '\0';
  }
  else if (in_stack_fffffd48 == (char *)0x10) {
    *plVar28 = *plVar28 + -0xa0;
    *plVar30 = *plVar30 + -0xf0;
    param_1[0xa008] = '@';
    param_1[0xa009] = '\x01';
    param_1[0xa00a] = '\0';
    param_1[0xa00b] = '\0';
    param_1[0xa00c] = '\0';
    param_1[0xa00d] = '\0';
    param_1[0xa00e] = '\0';
    param_1[0xa00f] = '\0';
  }
  else if (in_stack_fffffd48 != (char *)0x11) {
    lVar17 = *plVar28 + -0x140;
    goto LAB_0041eaa8;
  }
  FUN_00412720(param_1 + 0xa6fc,(int *)&stack0xfffffd68);
  SetRect((LPRECT)&stack0xfffffd58,*plVar28,*plVar30,
          (int)(in_stack_fffffd40 + (*plVar28 - (int)in_stack_fffffd38)),
          (int)(in_stack_fffffd44 + (*plVar30 - (int)in_stack_fffffd3c)));
  FUN_004032a0(DAT_00482d1c,in_stack_fffffd68 + (*plVar28 - *(int *)(param_1 + 0xa008)),
               in_stack_fffffd6c + (*plVar30 - *(int *)(param_1 + 0xa00c)));
  FUN_004576b0(DAT_00482d1c,(undefined4 *)&stack0xfffffd38);
  FUN_004030b0(DAT_00482d1c,(undefined4 *)&stack0xfffffd58);
LAB_0041eb52:
  *(undefined **)(param_1 + 0xa7f0) = in_stack_fffffd58;
  *(undefined **)(param_1 + 0xa7f4) = in_stack_fffffd5c;
  *(undefined **)(param_1 + 43000) = in_stack_fffffd60 + -1;
  *(undefined **)(param_1 + 0xa7fc) = in_stack_fffffd64 + -1;
  FUN_004274f0(*(int **)(param_1 + 0xa010));
  if (((DAT_0048ce5c == 0) && (DAT_0048ce60 == 0)) && (DAT_0048d7e8 == 0)) {
    FUN_0040ee70(param_1,(long)psVar8);
  }
  iVar21 = 0;
  do {
    FUN_004201b0((void *)(iVar21 + *(int *)(param_1 + 0xa974)),(long)psVar8);
    FUN_00420970((int *)(iVar21 + *(int *)(param_1 + 0xa974)));
    iVar21 = iVar21 + 0x6c;
  } while (iVar21 < 0x1b0);
  iVar21 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
  if (*(int *)(iVar21 + 0x43c) != 2) {
    FUN_004030f0(DAT_00482d1c);
    if (((*(int *)(param_1 + 0xa744) == 1) && (in_stack_fffffd48 != (char *)0x11)) &&
       ((iVar5 != 0 && (*(int *)(param_1 + 0xa9f8) != 2000)))) {
      RKC_DIB::RKC_DIB((RKC_DIB *)&stack0xfffffd20);
      uStack_4 = CONCAT31(uStack_4._1_3_,2);
      in_stack_fffffd08 = 0;
      iVar5 = 0;
      RKC_RPGSCRN::CalcRealPos
                (DAT_00482d14,*(long *)(pcVar32 + 0x2e0),*(long *)(pcVar32 + 0x2e4),
                 (long *)&stack0xfffffd08,(long *)&stack0xfffffcf8);
      iVar5 = iVar5 + -0xf0;
      in_stack_fffffd08 = in_stack_fffffd08 + -0x140;
      lVar17 = 0;
      pRVar9 = RKC_UPDIB::GetUpd(DAT_00482d10,7);
      pRVar10 = RKC_UPDIB_UPD::GetParts(pRVar9,lVar17);
      puVar14 = *(undefined4 **)(param_1 + *(int *)(param_1 + 0xaaa4) * 0xc + 0xaab0);
      lVar17 = RKC_DIB::GetAlignWidth
                         ((RKC_DIB *)(param_1 + *(int *)(param_1 + 0xaaa4) * 0xc + 0xaaa8));
      puVar22 = *(undefined4 **)(pRVar10 + 0xc);
      for (uVar18 = lVar17 * 0x69 & 0x3fffffff; uVar18 != 0; uVar18 = uVar18 - 1) {
        *puVar14 = *puVar22;
        puVar22 = puVar22 + 1;
        puVar14 = puVar14 + 1;
      }
      for (iVar21 = 0; iVar21 != 0; iVar21 = iVar21 + -1) {
        *(undefined *)puVar14 = *(undefined *)puVar22;
        puVar22 = (undefined4 *)((int)puVar22 + 1);
        puVar14 = (undefined4 *)((int)puVar14 + 1);
      }
      psVar8 = psVar33;
      if ((pcVar32 != (char *)0x0) &&
         (iVar21 = FUN_00434cb0(*(int *)(param_1 + 0xa018)), psVar8 = psVar33,
         *(int *)(iVar21 + 0x458) != 0)) {
        RKC_DIB::Create((RKC_DIB *)&stack0xfffffd20,100,100,8,0);
        iVar21 = 0;
        do {
          in_stack_fffffd24[iVar21 * 4 + 2] = (char)iVar21;
          iVar21 = iVar21 + 1;
        } while (iVar21 < 0x100);
        iVar21 = 0;
        psVar8 = psVar33;
        do {
          iVar19 = iVar21;
          iVar11 = FUN_00434c90(*(void **)(param_1 + 0xa018),iVar21);
          if ((*(int *)(iVar11 + 0x2d8) == 1) &&
             (iVar12 = FUN_00434cb0(*(int *)(param_1 + 0xa018)),
             *(int *)(iVar11 + 0x458) == *(int *)(iVar12 + 0x458))) {
            lVar17 = 3;
            pRVar9 = RKC_UPDIB::GetUpd(DAT_00482d10,7);
            pRVar10 = RKC_UPDIB_UPD::GetParts(pRVar9,lVar17);
            *(undefined4 *)(in_stack_fffffd20 + 4) = *(undefined4 *)(pRVar10 + 4);
            *(undefined4 *)(in_stack_fffffd20 + 8) = *(undefined4 *)(pRVar10 + 8);
            RKC_DIB::SetBitmap((RKC_DIB *)&stack0xfffffd20,*(uchar **)(pRVar10 + 0xc));
            RKC_RPGSCRN::CalcRealPos
                      (DAT_00482d14,*(long *)(iVar11 + 0x2e0),*(long *)(iVar11 + 0x2e4),
                       (long *)&stack0xfffffd00,(long *)&stack0xfffffd04);
            in_stack_fffffd00 = in_stack_fffffd00 - in_stack_fffffd08;
            in_stack_fffffd04 = in_stack_fffffd04 - iVar5;
            pRVar13 = RKC_UPDIB::GetDIBHISpeedMode(DAT_00482d10);
            iVar21 = iVar19;
            RKC_DIB::TransferToDIBEx
                      ((RKC_DIB *)(param_1 + *(int *)(param_1 + 0xaaa4) * 0xc + 0xaaa8),
                       in_stack_fffffd00 - *(int *)(pRVar10 + 4) / 2,
                       in_stack_fffffd04 - *(int *)(pRVar10 + 8) / 2,(RKC_DIB *)&stack0xfffffd20,0,
                       -1,1000,4,pRVar13);
          }
          iVar21 = iVar21 + 1;
        } while (iVar21 < 4);
        iVar21 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
        puVar14 = (undefined4 *)FUN_00427aa0(*(int *)(iVar21 + 0x458));
        in_stack_fffffd54 = (char *)FUN_00427b20(puVar14);
        iVar21 = 0;
        if (0 < (int)in_stack_fffffd54) {
          do {
            iVar19 = iVar21;
            iVar11 = FUN_00434cb0(*(int *)(param_1 + 0xa018));
            pvVar15 = (void *)FUN_00427aa0(*(int *)(iVar11 + 0x458));
            iVar21 = FUN_00434c90(pvVar15,iVar21);
            if (iVar21 != 0) {
              iVar11 = 0;
              pvVar15 = (void *)FUN_00434cd0(iVar21);
              iVar11 = FUN_004541c0(pvVar15,iVar11);
              if (iVar11 != 0) {
                bVar24 = true;
                iVar11 = FUN_00434cd0(iVar21);
                if ((*(int *)(iVar11 + 0xc) == 20000000) &&
                   (iVar11 = FUN_00434cd0(iVar21), *(int *)(iVar11 + 0xd4) < 1)) {
                  bVar24 = false;
                }
                iVar11 = FUN_00434cd0(iVar21);
                if (((*(int *)(iVar11 + 0xc) != 40000000) ||
                    (iVar11 = FUN_00434cd0(iVar21), 0 < *(int *)(iVar11 + 0xfc))) && (bVar24)) {
                  iVar11 = FUN_00434cd0(iVar21);
                  if (*(int *)(iVar11 + 0xc0) != -1) {
                    iVar11 = *(int *)(iVar11 + 0xc0) + 1;
                    pRVar9 = RKC_UPDIB::GetUpd(DAT_00482d10,7);
                    pRVar10 = RKC_UPDIB_UPD::GetParts(pRVar9,iVar11);
                    *(undefined4 *)(in_stack_fffffd20 + 4) = *(undefined4 *)(pRVar10 + 4);
                    *(undefined4 *)(in_stack_fffffd20 + 8) = *(undefined4 *)(pRVar10 + 8);
                    RKC_DIB::SetBitmap((RKC_DIB *)&stack0xfffffd20,*(uchar **)(pRVar10 + 0xc));
                    plVar30 = (long *)&stack0xfffffd04;
                    plVar28 = (long *)&stack0xfffffd00;
                    iVar11 = FUN_00434cd0(iVar21);
                    lVar17 = *(long *)(iVar11 + 0x1c);
                    iVar21 = FUN_00434cd0(iVar21);
                    RKC_RPGSCRN::CalcRealPos
                              (DAT_00482d14,*(long *)(iVar21 + 0x18),lVar17,plVar28,plVar30);
                    in_stack_fffffd00 = in_stack_fffffd00 - in_stack_fffffd08;
                    in_stack_fffffd04 = in_stack_fffffd04 - iVar5;
                    pRVar13 = RKC_UPDIB::GetDIBHISpeedMode(DAT_00482d10);
                    RKC_DIB::TransferToDIBEx
                              ((RKC_DIB *)(param_1 + *(int *)(param_1 + 0xaaa4) * 0xc + 0xaaa8),
                               in_stack_fffffd00 - *(int *)(pRVar10 + 4) / 2,
                               in_stack_fffffd04 - *(int *)(pRVar10 + 8) / 2,
                               (RKC_DIB *)&stack0xfffffd20,0,-1,1000,4,pRVar13);
                  }
                }
              }
            }
            iVar21 = iVar19 + 1;
          } while (iVar21 < (int)in_stack_fffffd54);
        }
      }
      iVar19 = 0;
      iVar11 = *(int *)(param_1 + 0xa9f8) + -1000;
      in_stack_fffffcfc = 0;
      iVar21 = iVar11 * 0xff;
      do {
        if (iVar11 < 1) {
          iVar12 = (int)((ulonglong)((longlong)in_stack_fffffcfc * 0x10624dd3) >> 0x20);
        }
        else {
          iVar12 = (int)((ulonglong)((longlong)iVar21 * 0x10624dd3) >> 0x20);
        }
        iVar21 = iVar21 - iVar11;
        cVar20 = ((char)(iVar12 >> 6) - (char)(iVar12 >> 0x1f)) + (char)iVar19;
        *(char *)(*(int *)(param_1 + (*(int *)(param_1 + 0xaaa4) + 0xe39) * 0xc) + 2 + iVar19 * 4) =
             cVar20;
        *(char *)(*(int *)(param_1 + (*(int *)(param_1 + 0xaaa4) + 0xe39) * 0xc) + 1 + iVar19 * 4) =
             cVar20;
        iVar19 = iVar19 + 1;
        *(char *)(*(int *)(param_1 + (*(int *)(param_1 + 0xaaa4) + 0xe39) * 0xc) + -4 + iVar19 * 4)
             = cVar20;
        in_stack_fffffcfc = in_stack_fffffcfc + iVar11;
      } while (iVar19 < 0x100);
      sVar1 = *(short *)(param_1 + 0xa9f8);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)psVar8,0x12,0,0,-1,0x1009,iVar4,0,1000,1000,1000,1000,0,sVar1,
                 sVar1,sVar1,(tagRECT *)0x0,
                 (RKC_DIB *)(param_1 + *(int *)(param_1 + 0xaaa4) * 0xc + 0xaaa8));
      *(int *)(param_1 + 0xaaa4) = 1 - *(int *)(param_1 + 0xaaa4);
      RKC_DIB::SetBitmap((RKC_DIB *)&stack0xfffffd20,(uchar *)0x0);
      uStack_4 = CONCAT31(uStack_4._1_3_,1);
      RKC_DIB::~RKC_DIB((RKC_DIB *)&stack0xfffffd20);
      psVar33 = psVar8;
    }
    FUN_00416fb0((uint *)&stack0xfffffd48);
    if (DAT_0048d70c == 1) {
      if (in_stack_fffffd48 == (char *)0x0) {
        ptVar31 = (tagRECT *)0x0;
        lVar29 = 0;
        lVar26 = 0;
        lVar17 = 0x14;
        pRVar25 = (RKC_DIB *)&DAT_0048d710;
        pRVar16 = RKC_UPDIB::GetVSBlock(DAT_00482d10,(long)psVar8);
        RKC_UPDIB_VSBLOCK::Render(pRVar16,pRVar25,lVar17,lVar26,lVar29,ptVar31);
        ptVar31 = (tagRECT *)0x0;
        lVar29 = 0;
        lVar26 = 0;
        lVar17 = 0x13;
        pRVar25 = (RKC_DIB *)&DAT_0048d710;
        pRVar16 = RKC_UPDIB::GetVSBlock(DAT_00482d10,(long)psVar8);
        RKC_UPDIB_VSBLOCK::Render(pRVar16,pRVar25,lVar17,lVar26,lVar29,ptVar31);
        ptVar31 = (tagRECT *)0x0;
        lVar29 = 0;
        lVar26 = 0;
        lVar17 = 0x12;
        pRVar25 = (RKC_DIB *)&DAT_0048d710;
        pRVar16 = RKC_UPDIB::GetVSBlock(DAT_00482d10,(long)psVar8);
        RKC_UPDIB_VSBLOCK::Render(pRVar16,pRVar25,lVar17,lVar26,lVar29,ptVar31);
        DAT_0048d70c = 2;
      }
      else {
        DAT_0048d70c = 0;
      }
    }
    FUN_00417300((int)param_1);
    FUN_004039f0(psVar8);
    FUN_00412220(param_1,(long)psVar8);
    FUN_00404760(param_1,(uint)psVar8,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,iVar5,
                 in_stack_fffffcfc,in_stack_fffffd00,in_stack_fffffd04,in_stack_fffffd08,iVar4,
                 pcVar32,in_stack_fffffd14,in_stack_fffffd18,in_stack_fffffd1c,in_stack_fffffd20,
                 in_stack_fffffd24,in_stack_fffffd28,in_stack_fffffd2c,in_stack_fffffd30,
                 (undefined *)psVar33,in_stack_fffffd38,in_stack_fffffd3c,in_stack_fffffd40,
                 in_stack_fffffd44,in_stack_fffffd48,in_stack_fffffd4c,in_stack_fffffd50,
                 in_stack_fffffd54,in_stack_fffffd58,in_stack_fffffd5c,in_stack_fffffd60,
                 in_stack_fffffd64,in_stack_fffffd68,in_stack_fffffd6c,in_stack_fffffd70,
                 in_stack_fffffd74,in_stack_fffffd78,in_stack_fffffd7c,in_stack_fffffd80,
                 in_stack_fffffd84,in_stack_fffffd88,in_stack_fffffd8c,in_stack_fffffd90,
                 in_stack_fffffd94,in_stack_fffffd98,in_stack_fffffd9c,in_stack_fffffda0,
                 in_stack_fffffda4,in_stack_fffffda8,in_stack_fffffdac,in_stack_fffffdb0,
                 in_stack_fffffdb4);
    FUN_0041fe20(param_1 + 0xa9ac,DAT_0048d79c,(long)psVar8);
    DAT_0048d79c = 0;
    if (((*(int *)(param_1 + 0xa760) != 0) || (DAT_0048ce5c == 1)) &&
       ((DAT_00482db0 == 1 || (DAT_00482db0 == 2)))) {
      pcVar6 = param_1 + 0xa764;
      uVar18 = 0xffffffff;
      pcVar23 = pcVar6;
      do {
        if (uVar18 == 0) break;
        uVar18 = uVar18 - 1;
        cVar20 = *pcVar23;
        pcVar23 = pcVar23 + 1;
      } while (cVar20 != '\0');
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,(long)psVar8,0,0,(0x6a - (~uVar18 - 1)) * 6,5,pcVar6,'\0','\0','\0',4,
                 0,0,1,1000);
      uVar18 = 0xffffffff;
      pcVar23 = pcVar6;
      do {
        if (uVar18 == 0) break;
        uVar18 = uVar18 - 1;
        cVar20 = *pcVar23;
        pcVar23 = pcVar23 + 1;
      } while (cVar20 != '\0');
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,(long)psVar8,0,0,(~uVar18 - 1) * -6 + 0x27b,4,pcVar6,0xe0,0xe0,'\0',4,
                 0,0,1,1000);
      if (*(int *)(param_1 + 0xa760) != 0) {
        *(int *)(param_1 + 0xa760) = *(int *)(param_1 + 0xa760) + -1;
      }
    }
    FUN_00457f60(*(void **)(param_1 + 0xa01c),psVar8);
    FUN_00434e30(*(int **)(param_1 + 0xa018));
    if (DAT_0048d71c == 1) {
      RKC_DIB::Create((RKC_DIB *)&stack0xfffffd14,0x280,0x1e0,0x18,1);
      RKC_UPDIB::Render(DAT_00482d10,(RKC_DIB *)&stack0xfffffd14,(long)psVar8,0,0,0,(tagRECT *)0x0);
      iVar4 = 0;
      do {
        puVar27 = &stack0xfffffdb0;
        pcVar6 = s_ScreenShot__08d_Bmp_0047fc28;
        iVar5 = iVar4;
        FUN_00467d51(puVar27,(byte *)s_ScreenShot__08d_Bmp_0047fc28);
        iVar5 = RK_CheckFileExist(&stack0xfffffdb0,auStack_14c,puVar27,pcVar6,iVar5);
        if (iVar5 == 0) {
          RKC_DIB::WriteFile((RKC_DIB *)&stack0xfffffd14,&stack0xfffffdb0);
          break;
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < 100000000);
      DAT_0048d71c = 0;
    }
    FUN_00416bb0(param_1,(long)psVar8,(RKC_RPGSCRN_OBJECTDISP *)(param_1 + 0xa758));
    FUN_004087b0(param_1,(long)psVar8);
    FUN_00412380(param_1,(long)psVar8);
    pvVar15 = (void *)FUN_004182c0(&DAT_0048d7b0,0);
    if ((pvVar15 != (void *)0x0) &&
       ((RKC_RPGSCRN::CalcRealPos
                   (DAT_00482d14,*(long *)(pcVar32 + 0x2e0),*(long *)(pcVar32 + 0x2e4),
                    (long *)&stack0xfffffd30,(long *)&stack0xfffffd2c),
        *(undefined **)(param_1 + 0xa9a0) != in_stack_fffffd30 ||
        (*(char **)(param_1 + 0xa9a4) != in_stack_fffffd2c)))) {
      FUN_00418370(pvVar15,(int)(in_stack_fffffd30 + -0x154) / 10,
                   (int)(in_stack_fffffd2c + -0xe6) / 10,0x44,0x2e);
      *(undefined **)(param_1 + 0xa9a0) = in_stack_fffffd30;
      *(char **)(param_1 + 0xa9a4) = in_stack_fffffd2c;
    }
    if (DAT_0048d7e8 != 0) {
      DAT_0048d7e8 = DAT_0048d7e8 + -1;
    }
    FUN_0041f4d0();
    FUN_00434cb0(*(int *)(param_1 + 0xa018));
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,(long)psVar8,0,0,0,0,param_1,0xff,0xff,0xff,4,0,0,1,1000);
  }
  uStack_4 = uStack_4 & 0xffffff00;
  RKC_DIB::~RKC_DIB((RKC_DIB *)&stack0xfffffd14);
  uStack_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECT::~RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&stack0xfffffd70);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_0041f4d0
 * Address: 0041f4d0
 */

undefined4 FUN_0041f4d0(void)

{
  ushort uVar1;
  RKC_DBF *this;
  long lVar2;
  RKC_RPGSCRN_OBJECTBLOCK *this_00;
  int iVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *this_01;
  RKC_RPGSCRN_GROUNDBLOCK *this_02;
  RKC_RPGSCRN_OBJECTDISP *pRVar4;
  tagRECT *ptVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  short sStack_b8;
  short sStack_b4;
  int iStack_b0;
  int iStack_ac;
  short sStack_a8;
  RKC_RPGSCRN_OBJECTDISP *local_a4;
  int iStack_a0;
  int iStack_9c;
  int iStack_98;
  int iStack_94;
  int iStack_90;
  int iStack_8c;
  int iStack_88;
  int iStack_84;
  int iStack_80;
  RKC_RPGSCRN_OBJECTDISP *local_7c;
  int iStack_78;
  RKC_RPGSCRN_OBJECT *pRStack_74;
  tagRECT tStack_70;
  int local_60;
  int iStack_5c;
  int iStack_58;
  int iStack_54;
  int iStack_50;
  int iStack_4c;
  int iStack_48;
  short sStack_42;
  short sStack_40;
  short sStack_3e;
  short sStack_3c;
  short sStack_3a;
  int iStack_38;
  int iStack_34;
  int iStack_30;
  int iStack_2c;
  long lStack_28;
  long lStack_24;
  long lStack_20;
  tagRECT tStack_1c;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471d1b;
  local_c = ExceptionList;
  if (DAT_0048d8bc == 0) {
    return 0;
  }
  ExceptionList = &local_c;
  local_7c = (RKC_RPGSCRN_OBJECTDISP *)operator_new(8);
  local_4 = 0;
  if (local_7c == (RKC_RPGSCRN_OBJECTDISP *)0x0) {
    local_a4 = (RKC_RPGSCRN_OBJECTDISP *)0x0;
  }
  else {
    local_a4 = (RKC_RPGSCRN_OBJECTDISP *)RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_7c);
  }
  local_4 = 0xffffffff;
  this = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
  lVar2 = RKC_DBF::GetVSBlockNo(this);
  if (DAT_0048ce40 == 1 || DAT_0048ce38 == 1) {
    if (DAT_0048ce3c != 1) {
      iVar10 = 0x19b;
      iVar8 = 0x27f;
      iVar6 = 0x140;
      goto LAB_0041f5ce;
    }
    iVar10 = -1;
    iVar8 = -1;
  }
  else {
    iVar10 = 0x19b;
    if (DAT_0048ce3c == 1) {
      iVar8 = 0x13f;
      iVar6 = 0;
      goto LAB_0041f5ce;
    }
    iVar8 = 0x27f;
  }
  iVar6 = 0;
LAB_0041f5ce:
  SetRect(&tStack_70,iVar6,0,iVar8,iVar10);
  RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_a4,(RKC_RPGSCRN *)DAT_00482d14);
  iVar10 = DAT_0048cdfc - DAT_0048cdf4;
  iStack_b0 = 0;
  iVar8 = DAT_0048ce00 - DAT_0048cdf8;
  do {
    FUN_004030d0(DAT_00482d1c,&tStack_1c.left);
    pRVar4 = local_a4;
    if (iStack_b0 == 0) {
      iVar9 = 1;
      ptVar5 = &tStack_1c;
      iVar6 = 1;
      iVar7 = iStack_b0;
      iVar11 = iStack_b0;
      this_00 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403520((int)DAT_00482d1c);
LAB_0041f673:
      RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(this_00,pRVar4,ptVar5,iVar6,iVar7,iVar9,iVar11);
    }
    else if (iStack_b0 == 1) {
      iVar11 = 0;
      iVar9 = 0;
      iVar7 = 0;
      ptVar5 = &tStack_1c;
      iVar6 = iStack_b0;
      iVar3 = FUN_00456210(*(int *)(local_60 + 0xa010));
      this_00 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(iVar3);
      goto LAB_0041f673;
    }
    local_7c = (RKC_RPGSCRN_OBJECTDISP *)RKC_RPGSCRN_OBJECTDISP::GetCount(local_a4);
    iStack_ac = 0;
    if (0 < (int)local_7c) {
      do {
        this_01 = RKC_RPGSCRN_OBJECTDISP::Get(local_a4,iStack_ac);
        pRStack_74 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_01);
        if (pRStack_74 != (RKC_RPGSCRN_OBJECT *)0x0) {
          RKC_RPGSCRN_OBJECT::GetParam
                    (pRStack_74,&sStack_40,&lStack_24,&sStack_3e,&iStack_78,&iStack_80,&sStack_3a,
                     &sStack_42,&sStack_3c,(RKC_RPGSCRN_RECT *)&iStack_5c,(RKC_RPGSCRN **)0x0,
                     (short *)0x0,(short *)0x0,(short *)0x0,(long *)0x0);
          sStack_b8 = 0;
          sStack_b4 = 0;
          sStack_a8 = 0;
          if (iStack_b0 == 0) {
            uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRStack_74);
            if ((uVar1 & 1) == 0) {
LAB_0041f762:
              sStack_b8 = 0xff;
            }
            else {
              uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRStack_74);
              if ((uVar1 & 2) == 0) goto LAB_0041f758;
              sStack_a8 = 0xff;
              sStack_b4 = 0xff;
            }
          }
          else {
            uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRStack_74);
            if ((uVar1 & 1) == 0) goto LAB_0041f762;
LAB_0041f758:
            sStack_a8 = 0xff;
          }
          RKC_RPGSCRN::CalcRealPos
                    ((RKC_RPGSCRN *)DAT_00482d14,iStack_5c + iStack_78,iStack_58 + iStack_80,
                     &iStack_94,&iStack_9c);
          RKC_RPGSCRN::CalcRealPos
                    ((RKC_RPGSCRN *)DAT_00482d14,iStack_54 + iStack_78,iStack_58 + iStack_80,
                     &iStack_98,&iStack_84);
          RKC_RPGSCRN::CalcRealPos
                    ((RKC_RPGSCRN *)DAT_00482d14,iStack_5c + iStack_78,iStack_50 + iStack_80,
                     &iStack_a0,&iStack_8c);
          RKC_RPGSCRN::CalcRealPos
                    ((RKC_RPGSCRN *)DAT_00482d14,iStack_54 + iStack_78,iStack_50 + iStack_80,
                     &iStack_90,&iStack_88);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_94 + iVar10,iStack_9c + iVar8,
                     iStack_98 + iVar10,iStack_84 + iVar8,1000,0,0,sStack_a8,sStack_b4,sStack_b8,
                     &tStack_70,(RKC_DIB *)0x0);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_98 + iVar10,iStack_84 + iVar8,
                     iStack_90 + iVar10,iStack_88 + iVar8,1000,0,0,sStack_a8,sStack_b4,sStack_b8,
                     &tStack_70,(RKC_DIB *)0x0);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_90 + iVar10,iStack_88 + iVar8,
                     iStack_a0 + iVar10,iStack_8c + iVar8,1000,0,0,sStack_a8,sStack_b4,sStack_b8,
                     &tStack_70,(RKC_DIB *)0x0);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_a0 + iVar10,iStack_8c + iVar8,
                     iStack_94 + iVar10,iStack_9c + iVar8,1000,0,0,sStack_a8,sStack_b4,sStack_b8,
                     &tStack_70,(RKC_DIB *)0x0);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_94 + iVar10,iStack_9c + iVar8,
                     iStack_90 + iVar10,iStack_88 + iVar8,1000,0,0,sStack_a8,sStack_b4,sStack_b8,
                     &tStack_70,(RKC_DIB *)0x0);
          RKC_UPDIB::SetPacket
                    (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_98 + iVar10,iStack_84 + iVar8,
                     iStack_a0 + iVar10,iStack_8c + iVar8,1000,0,0,sStack_a8,sStack_b4,sStack_b8,
                     &tStack_70,(RKC_DIB *)0x0);
        }
        iStack_ac = iStack_ac + 1;
      } while (iStack_ac < (int)local_7c);
    }
    RKC_RPGSCRN_OBJECTDISP::Release(local_a4);
    iStack_b0 = iStack_b0 + 1;
    if (1 < iStack_b0) {
      iVar6 = FUN_00456210(*(int *)(local_60 + 0xa010));
      this_02 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540(iVar6);
      RKC_RPGSCRN_GROUNDBLOCK::GetGroundRect(this_02,&tStack_1c,(RKC_RPGSCRN_RECT *)&iStack_38,1,1);
      RKC_RPGSCRN_GROUNDBLOCK::GetBaseMag(this_02,&lStack_20,&lStack_28);
      local_7c = (RKC_RPGSCRN_OBJECTDISP *)RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudge(this_02);
      RKC_RPGSCRN_GROUNDBLOCK::GetJudgeOffset(this_02,&iStack_48,&iStack_4c);
      iStack_ac = iStack_34;
      if (iStack_34 <= iStack_2c) {
        do {
          iStack_b0 = iStack_38;
          if (iStack_38 <= iStack_30) {
            do {
              if (((*(short **)((int)local_7c + (iStack_ac - iStack_4c) * 4))[iStack_b0 - iStack_48]
                  & 1U) != 0) {
                sStack_b4 = 0;
                if (((*(short **)((int)local_7c + (iStack_ac - iStack_4c) * 4))
                     [iStack_b0 - iStack_48] & 2U) != 0) {
                  sStack_b4 = 0xff;
                }
                RKC_RPGSCRN_GROUNDBLOCK::CalcRealPos
                          (this_02,iStack_b0,iStack_ac,&iStack_94,&iStack_9c);
                RKC_RPGSCRN_GROUNDBLOCK::CalcRealPos
                          (this_02,iStack_b0 + 1,iStack_ac,&iStack_98,&iStack_84);
                RKC_RPGSCRN_GROUNDBLOCK::CalcRealPos
                          (this_02,iStack_b0,iStack_ac + 1,&iStack_a0,&iStack_8c);
                RKC_RPGSCRN_GROUNDBLOCK::CalcRealPos
                          (this_02,iStack_b0 + 1,iStack_ac + 1,&iStack_90,&iStack_88);
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_94 + iVar10,iStack_9c + iVar8,
                           iStack_98 + iVar10,iStack_84 + iVar8,1000,0,0,0xff,sStack_b4,0,&tStack_70
                           ,(RKC_DIB *)0x0);
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_98 + iVar10,iStack_84 + iVar8,
                           iStack_90 + iVar10,iStack_88 + iVar8,1000,0,0,0xff,sStack_b4,0,&tStack_70
                           ,(RKC_DIB *)0x0);
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_90 + iVar10,iStack_88 + iVar8,
                           iStack_a0 + iVar10,iStack_8c + iVar8,1000,0,0,0xff,sStack_b4,0,&tStack_70
                           ,(RKC_DIB *)0x0);
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_a0 + iVar10,iStack_8c + iVar8,
                           iStack_94 + iVar10,iStack_9c + iVar8,1000,0,0,0xff,sStack_b4,0,&tStack_70
                           ,(RKC_DIB *)0x0);
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_94 + iVar10,iStack_9c + iVar8,
                           iStack_90 + iVar10,iStack_88 + iVar8,1000,0,0,0xff,sStack_b4,0,&tStack_70
                           ,(RKC_DIB *)0x0);
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,lVar2,0,0,0,0,0x200,iStack_98 + iVar10,iStack_84 + iVar8,
                           iStack_a0 + iVar10,iStack_8c + iVar8,1000,0,0,0xff,sStack_b4,0,&tStack_70
                           ,(RKC_DIB *)0x0);
              }
              iStack_b0 = iStack_b0 + 1;
            } while (iStack_b0 <= iStack_30);
          }
          iStack_ac = iStack_ac + 1;
        } while (iStack_ac <= iStack_2c);
      }
      if (local_a4 != (RKC_RPGSCRN_OBJECTDISP *)0x0) {
        RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_a4);
        FUN_0046787e(local_a4);
      }
      ExceptionList = local_c;
      return 0;
    }
  } while( true );
}



/*
 * Function: FUN_0041fdd0
 * Address: 0041fdd0
 */

void __fastcall FUN_0041fdd0(undefined4 *param_1)

{
  param_1[3] = 0;
  *param_1 = 0;
  return;
}



/*
 * Function: thunk_FUN_0041fdf0
 * Address: 0041fde0
 */

void __fastcall thunk_FUN_0041fdf0(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0xc);
  while (iVar1 != 0) {
    iVar1 = *(int *)((int)*(LPVOID *)(param_1 + 0xc) + 0x2c);
    FUN_0046787e(*(LPVOID *)(param_1 + 0xc));
    *(int *)(param_1 + 0xc) = iVar1;
  }
  return;
}



/*
 * Function: FUN_0041fdf0
 * Address: 0041fdf0
 */

void __fastcall FUN_0041fdf0(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0xc);
  while (iVar1 != 0) {
    iVar1 = *(int *)((int)*(LPVOID *)(param_1 + 0xc) + 0x2c);
    FUN_0046787e(*(LPVOID *)(param_1 + 0xc));
    *(int *)(param_1 + 0xc) = iVar1;
  }
  return;
}



/*
 * Function: FUN_0041fe20
 * Address: 0041fe20
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_0041fe20(void *this,int param_1,long param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  undefined4 *puVar4;
  int iVar5;
  int iVar6;
  long local_10;
  int local_c;
  long local_8;
  long local_4;
  
  if ((param_1 != 0) && (iVar6 = 0, 0 < *(int *)((int)this + 4))) {
    do {
      puVar4 = (undefined4 *)operator_new(0x30);
      *puVar4 = 0;
      puVar4[2] = 0xffffffe2;
      iVar5 = _rand();
      puVar4[1] = iVar5 % 1000 + -0xb4;
      iVar5 = _rand();
      puVar4[6] = iVar5 % 1000 + 2000;
      iVar5 = _rand();
      puVar4[8] = iVar5 % 10 + 5;
      iVar5 = _rand();
      puVar4[9] = iVar5 % 0x2bd + 300;
      puVar4[10] = *(undefined4 *)((int)this + 8);
      iVar5 = _rand();
      iVar6 = iVar6 + 1;
      *(double *)(puVar4 + 4) = _DAT_004751d0 - _DAT_004751d8 / (double)(iVar5 % 10 + 10);
      puVar4[0xb] = *(undefined4 *)((int)this + 0xc);
      *(undefined4 **)((int)this + 0xc) = puVar4;
    } while (iVar6 < *(int *)((int)this + 4));
  }
  piVar1 = *(int **)((int)this + 0xc);
  piVar3 = (int *)0x0;
  while (piVar2 = piVar1, piVar2 != (int *)0x0) {
    piVar1 = (int *)piVar2[0xb];
    FUN_004140a0(piVar2 + 1,
                 (double)CONCAT26((short)((uint)piVar2[5] >> 0x10),*(undefined6 *)(piVar2 + 4)),
                 (piVar2[6] * *piVar2) / 100,&local_10);
    FUN_004140a0(&local_10,
                 (double)CONCAT26((short)((uint)piVar2[5] >> 0x10),*(undefined6 *)(piVar2 + 4)),
                 piVar2[8],&local_8);
    if (local_c < 0x1df) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_2,0x13,0,0,0,0x200,local_10,local_c,local_8,local_4,piVar2[9],0,
                 0,(ushort)*(byte *)((int)piVar2 + 0x2a),(ushort)*(byte *)((int)piVar2 + 0x29),
                 (ushort)*(byte *)(piVar2 + 10),(tagRECT *)0x0,(RKC_DIB *)0x0);
      *piVar2 = *piVar2 + 1;
      piVar3 = piVar2;
    }
    else {
      FUN_0046787e(piVar2);
      if (piVar3 == (int *)0x0) {
        *(int **)((int)this + 0xc) = piVar1;
      }
      else {
        piVar3[0xb] = (int)piVar1;
      }
    }
  }
                    /* WARNING: Load size is inaccurate */
  *(int *)this = *this + 1;
  return;
}



/*
 * Function: FUN_0041fff0
 * Address: 0041fff0
 */

void __thiscall FUN_0041fff0(void *this,undefined param_1,undefined param_2,undefined param_3)

{
  *(undefined *)((int)this + 10) = param_1;
  *(undefined *)((int)this + 9) = param_2;
  *(undefined *)((int)this + 8) = param_3;
  return;
}



/*
 * Function: FUN_00420020
 * Address: 00420020
 */

undefined4 __thiscall FUN_00420020(void *this,int param_1,int param_2,int *param_3)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *this_00;
  undefined4 uVar3;
  int *piVar4;
  int iVar5;
  int local_10 [4];
  
  local_10[0] = -0x50;
  local_10[1] = 0xffffffb0;
  local_10[2] = 0x4f;
  local_10[3] = 0x4f;
  puVar1 = (undefined4 *)FUN_00426160(DAT_0048ce04,param_2);
  iVar2 = FUN_00427b20(puVar1);
  if (iVar2 == 0) {
    iVar2 = FUN_00456230((int)puVar1);
    FUN_00426000(DAT_0048ce04,iVar2);
  }
  iVar2 = FUN_00466430((int)puVar1);
  this_00 = (undefined4 *)FUN_00426160(DAT_0048ce04,iVar2);
  iVar2 = FUN_00427b20(this_00);
  if (iVar2 == 0) {
    iVar2 = FUN_00456230((int)this_00);
    FUN_00426000(DAT_0048ce04,iVar2);
  }
  iVar2 = FUN_00456230((int)this_00);
  if (param_2 == iVar2) {
    return 0;
  }
  iVar2 = FUN_00434cd0(DAT_0048ce0c);
  if (param_1 == iVar2) {
    iVar2 = FUN_004145b0((int)puVar1,-1,param_3,local_10,0,2,0);
    if (iVar2 == 0) {
      return 0;
    }
  }
  *(int *)this = param_1;
  *(int *)((int)this + 8) = param_2;
  *(int *)((int)this + 0xc) = *param_3;
  *(int *)((int)this + 0x10) = param_3[1];
  uVar3 = FUN_00456230((int)this_00);
  *(undefined4 *)((int)this + 0x14) = uVar3;
                    /* WARNING: Load size is inaccurate */
  piVar4 = FUN_00427930(this_00,*this + 400);
  *(int *)((int)this + 0x18) = piVar4[2];
  iVar5 = 0;
  iVar2 = piVar4[3];
  *(undefined4 *)((int)this + 0x20) = 0;
  *(int *)((int)this + 0x1c) = iVar2;
  puVar1 = (undefined4 *)((int)this + 0x24);
  do {
    puVar1[8] = iVar5;
    *puVar1 = 300;
    puVar1[4] = 0;
    iVar5 = iVar5 + 7;
    puVar1 = puVar1 + 1;
  } while (iVar5 < 0x1c);
  iVar2 = _rand();
  *(int *)((int)this + 0x54) = iVar2 % 0x5a + 1;
  iVar2 = _rand();
  *(undefined4 *)((int)this + 0x5c) = 0;
  *(undefined4 *)((int)this + 0x60) = 0;
  *(undefined4 *)((int)this + 100) = 1;
  *(undefined4 *)((int)this + 0x68) = 0;
  *(undefined4 *)((int)this + 4) = 1;
  *(int *)((int)this + 0x58) = iVar2 % 0x5a + 1;
  return 1;
}



/*
 * Function: FUN_004201a0
 * Address: 004201a0
 */

void __fastcall FUN_004201a0(int param_1)

{
  *(undefined4 *)(param_1 + 4) = 0;
  return;
}



/*
 * Function: FUN_004201b0
 * Address: 004201b0
 */

void __thiscall FUN_004201b0(void *this,long param_1)

{
  char cVar1;
  short sVar2;
  int iVar3;
  RKC_RPGSCRN_OBJECT *pRVar4;
  undefined4 uVar5;
  long lVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar9;
  long lVar10;
  uint uVar11;
  uint uVar12;
  short *psVar13;
  char *pcVar14;
  int iVar15;
  char *pcVar16;
  long lVar17;
  long lVar18;
  long lVar19;
  undefined4 uVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  int *piVar22;
  short *psVar23;
  short sVar24;
  short *psVar25;
  short sVar26;
  long lVar27;
  long lVar28;
  RKC_RPGSCRN *pRVar29;
  long lVar30;
  short sVar31;
  RKC_RPGSCRN_RECT *pRVar32;
  short sVar33;
  long lVar34;
  short sVar35;
  long lVar36;
  long lVar37;
  long lVar38;
  int iStack_34;
  int iStack_30;
  RKC_RPGSCRN_OBJECTBLOCK *local_2c;
  int local_28;
  undefined4 local_24;
  short local_20 [6];
  int local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  if (*(int *)((int)this + 4) != 0) {
    local_28 = FUN_00455ee0(DAT_0048ce08,5,0x989694);
    if (local_28 != 0) {
                    /* WARNING: Load size is inaccurate */
      if (*this == -1) {
        local_24 = 1;
        local_20[4] = 600;
        local_20[5] = 0;
        local_20[0] = 600;
        local_20[1] = 0;
      }
      else {
        local_24 = 0xffffffff;
        local_20[0] = 1000;
        local_20[1] = 0;
        local_20[4] = 1000;
        local_20[5] = 0;
      }
      local_20[2] = 1000;
      local_20[3] = 0;
      local_14 = FUN_00434cb0((int)DAT_0048ce0c);
      iVar15 = *(int *)((int)this + 8);
      iVar3 = FUN_00456230(*(int *)(local_14 + 0x458));
      if (iVar3 == iVar15) {
        if (*(int *)((int)this + 0x20) == 0) {
          FUN_00417260(0,0x4f,(int *)((int)this + 0xc),iVar15,0);
        }
        local_10 = 0xffffffce;
        local_c = 0xffffffce;
        local_8 = 0x32;
        local_4 = 0x32;
        local_2c = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        iVar15 = 0;
        psVar13 = (short *)((int)this + 0x34);
        do {
          if (*(int *)(psVar13 + 8) <= *(int *)((int)this + 0x20)) {
            pRVar4 = RKC_RPGSCRN_OBJECTBLOCK::Insert(local_2c,0);
            sVar2 = psVar13[-8];
            sVar31 = *psVar13;
            lVar37 = -1;
            pRVar21 = (RKC_RPGSCRN_RECT *)&local_10;
            lVar6 = *(long *)((int)this + 0x10);
            lVar19 = *(long *)((int)this + 0xc);
            sVar26 = 0x90;
            sVar24 = 1000;
            iVar3 = iVar15;
            uVar20 = local_24;
            pRVar29 = DAT_00482d14;
            sVar33 = sVar31;
            sVar35 = sVar31;
            uVar5 = FUN_00427b40(local_28);
            RKC_RPGSCRN_OBJECT::SetParam
                      (pRVar4,(short)uVar5,iVar3,(short)uVar20,lVar19,lVar6,sVar24,sVar26,sVar2,
                       pRVar21,pRVar29,sVar31,sVar33,sVar35,lVar37);
            iVar3 = RKC_RPGSCRN_OBJECT::CheckClip(pRVar4,(RKC_RPGSCRN_RECT *)&DAT_0048d5e4,1);
            if (iVar3 == 0) {
              RKC_RPGSCRN_OBJECTBLOCK::Delete(local_2c,0);
            }
          }
          iVar15 = iVar15 + 1;
          psVar13 = psVar13 + 2;
        } while (iVar15 < 4);
        if (*(int *)((int)this + 0x30) == 0) {
          if (*(int *)((int)this + 0x54) == 0) {
            if (*(int *)((int)this + 0x5c) == 0) {
              FUN_00417260(0,0x33,(int *)((int)this + 0xc),*(int *)((int)this + 8),0);
            }
            iVar15 = local_28;
            lVar6 = FUN_004663a0(local_28);
            pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
            pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0);
            sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
            iVar3 = (int)sVar2;
            if (iVar3 <= *(int *)((int)this + 0x5c)) {
              *(int *)((int)this + 0x5c) = iVar3 + -1;
            }
            lVar38 = 1000;
            lVar36 = 1000;
            lVar34 = 1000;
            pRVar32 = (RKC_RPGSCRN_RECT *)0x0;
            lVar30 = 1000;
            lVar28 = 0;
            psVar13 = local_20;
            lVar27 = -1;
            psVar25 = local_20 + 2;
            psVar23 = local_20 + 4;
            pRVar21 = (RKC_RPGSCRN_RECT *)&local_10;
            piVar22 = (int *)0x0;
            local_10 = 0;
            local_c = 0;
            local_8 = 0;
            local_4 = 0;
            pRVar9 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
            lVar6 = *(long *)((int)this + 0xc);
            lVar19 = *(long *)((int)this + 0x5c);
            lVar37 = *(long *)((int)this + 0x10);
            sVar2 = 0;
            lVar18 = 8;
            lVar17 = 0;
            lVar10 = FUN_004663a0(iVar15);
            RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                      (DAT_00482d20,lVar10,lVar17,lVar18,lVar19,lVar6,lVar37,sVar2,pRVar9,pRVar21,
                       piVar22,psVar23,psVar25,psVar13,lVar27,lVar28,lVar30,pRVar32,lVar34,lVar36,
                       lVar38);
            if (*(int *)((int)this + 0x5c) == iVar3 + -1) {
              iVar15 = _rand();
              *(undefined4 *)((int)this + 0x5c) = 0;
              *(int *)((int)this + 0x54) = iVar15 % 0x3c + 0x1e;
            }
            else {
              *(int *)((int)this + 0x5c) = *(int *)((int)this + 0x5c) + 1;
            }
          }
          else {
            *(int *)((int)this + 0x54) = *(int *)((int)this + 0x54) + -1;
          }
          FUN_00417b10(&DAT_00482df4,*(long *)((int)this + 0xc),*(long *)((int)this + 0x10),
                       &iStack_30,&iStack_34);
          iVar15 = **(int **)(local_14 + 0x3fc);
          if ((iStack_30 + -0x20 <= iVar15) && (iVar15 <= iStack_30 + 0x20)) {
            iVar15 = (*(int **)(local_14 + 0x3fc))[1];
            if ((iStack_34 + -0x20 <= iVar15) && (iVar15 <= iStack_34 + 0x20)) {
                    /* WARNING: Load size is inaccurate */
              iVar15 = FUN_00434c90(DAT_0048ce0c,*this);
              if (iVar15 != 0) {
                iVar3 = iStack_34 + -0x13;
                pcVar16 = (char *)(iVar15 + 0x10);
                uVar11 = 0xffffffff;
                iVar15 = iStack_34 + -0x22;
                pcVar14 = pcVar16;
                do {
                  if (uVar11 == 0) break;
                  uVar11 = uVar11 - 1;
                  cVar1 = *pcVar14;
                  pcVar14 = pcVar14 + 1;
                } while (cVar1 != '\0');
                uVar12 = 0xffffffff;
                pcVar14 = pcVar16;
                do {
                  if (uVar12 == 0) break;
                  uVar12 = uVar12 - 1;
                  cVar1 = *pcVar14;
                  pcVar14 = pcVar14 + 1;
                } while (cVar1 != '\0');
                iStack_34 = iStack_34 + -0x20;
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,param_1,0x11,0,0,0,0x800,
                           (iStack_30 - ((~uVar12 - 1) * 3 & 0x7fffffff)) + -4,iVar15,
                           ((~uVar11 - 1) * 3 & 0x7fffffff) + 1 + iStack_30,iVar3,800,1000,0,0,0,0,
                           (tagRECT *)0x0,(RKC_DIB *)0x0);
                uVar11 = 0xffffffff;
                pcVar14 = pcVar16;
                do {
                  if (uVar11 == 0) break;
                  uVar11 = uVar11 - 1;
                  cVar1 = *pcVar14;
                  pcVar14 = pcVar14 + 1;
                } while (cVar1 != '\0');
                RKC_UPDIB::SetStringsPacket
                          (DAT_00482d10,param_1,0x11,1,
                           (iStack_30 - ((~uVar11 - 1) * 3 & 0x7fffffff)) + 1,iStack_34 + 1,pcVar16,
                           '\0','\0','\0',0,0,0,1,1000);
                uVar11 = 0xffffffff;
                pcVar14 = pcVar16;
                do {
                  if (uVar11 == 0) break;
                  uVar11 = uVar11 - 1;
                  cVar1 = *pcVar14;
                  pcVar14 = pcVar14 + 1;
                } while (cVar1 != '\0');
                RKC_UPDIB::SetStringsPacket
                          (DAT_00482d10,param_1,0x11,1,iStack_30 - ((~uVar11 - 1) * 3 & 0x7fffffff),
                           iStack_34,pcVar16,0x90,0x90,0xff,0,0,0,1,1000);
              }
            }
          }
        }
      }
      iVar15 = *(int *)((int)this + 0x14);
      iVar3 = FUN_00456230(*(int *)(local_14 + 0x458));
      if (iVar3 == iVar15) {
        if (*(int *)((int)this + 0x20) == 0) {
          FUN_00417260(0,0x4f,(int *)((int)this + 0x18),iVar15,0);
        }
        local_10 = 0xffffffce;
        local_c = 0xffffffce;
        local_8 = 0x32;
        local_4 = 0x32;
        local_2c = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        iVar15 = 0;
        psVar13 = (short *)((int)this + 0x34);
        do {
          pRVar4 = RKC_RPGSCRN_OBJECTBLOCK::Insert(local_2c,0);
          sVar2 = *psVar13;
          sVar31 = psVar13[-8];
          lVar37 = -1;
          pRVar21 = (RKC_RPGSCRN_RECT *)&local_10;
          lVar6 = *(long *)((int)this + 0x1c);
          lVar19 = *(long *)((int)this + 0x18);
          sVar26 = 0x90;
          sVar24 = 1000;
          iVar3 = iVar15;
          uVar20 = local_24;
          pRVar29 = DAT_00482d14;
          sVar33 = sVar2;
          sVar35 = sVar2;
          uVar5 = FUN_00427b40(local_28);
          RKC_RPGSCRN_OBJECT::SetParam
                    (pRVar4,(short)uVar5,iVar3,(short)uVar20,lVar19,lVar6,sVar24,sVar26,sVar31,
                     pRVar21,pRVar29,sVar2,sVar33,sVar35,lVar37);
          iVar3 = RKC_RPGSCRN_OBJECT::CheckClip(pRVar4,(RKC_RPGSCRN_RECT *)&DAT_0048d5e4,1);
          if (iVar3 == 0) {
            RKC_RPGSCRN_OBJECTBLOCK::Delete(local_2c,0);
          }
          iVar15 = iVar15 + 1;
          psVar13 = psVar13 + 2;
        } while (iVar15 < 4);
        if (*(int *)((int)this + 0x30) == 0) {
          if (*(int *)((int)this + 0x58) == 0) {
            if (*(int *)((int)this + 0x60) == 0) {
              FUN_00417260(0,0x33,(int *)((int)this + 0x18),*(int *)((int)this + 0x14),0);
            }
            iVar15 = local_28;
            lVar6 = FUN_004663a0(local_28);
            pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
            pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0);
            sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
            iVar3 = (int)sVar2;
            if (iVar3 <= *(int *)((int)this + 0x60)) {
              *(int *)((int)this + 0x60) = iVar3 + -1;
            }
            lVar38 = 1000;
            lVar36 = 1000;
            lVar34 = 1000;
            pRVar32 = (RKC_RPGSCRN_RECT *)0x0;
            lVar30 = 1000;
            lVar28 = 0;
            psVar13 = local_20;
            lVar27 = -1;
            psVar25 = local_20 + 2;
            psVar23 = local_20 + 4;
            pRVar21 = (RKC_RPGSCRN_RECT *)&local_10;
            piVar22 = (int *)0x0;
            local_10 = 0;
            local_c = 0;
            local_8 = 0;
            local_4 = 0;
            pRVar9 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
            lVar6 = *(long *)((int)this + 0x18);
            lVar19 = *(long *)((int)this + 0x60);
            lVar37 = *(long *)((int)this + 0x1c);
            sVar2 = 0;
            lVar18 = 8;
            lVar17 = 0;
            lVar10 = FUN_004663a0(iVar15);
            RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                      (DAT_00482d20,lVar10,lVar17,lVar18,lVar19,lVar6,lVar37,sVar2,pRVar9,pRVar21,
                       piVar22,psVar23,psVar25,psVar13,lVar27,lVar28,lVar30,pRVar32,lVar34,lVar36,
                       lVar38);
            if (*(int *)((int)this + 0x60) == iVar3 + -1) {
              iVar15 = _rand();
              *(undefined4 *)((int)this + 0x60) = 0;
              *(int *)((int)this + 0x58) = iVar15 % 0x3c + 0x1e;
            }
            else {
              *(int *)((int)this + 0x60) = *(int *)((int)this + 0x60) + 1;
            }
          }
          else {
            *(int *)((int)this + 0x58) = *(int *)((int)this + 0x58) + -1;
          }
          FUN_00417b10(&DAT_00482df4,*(long *)((int)this + 0x18),*(long *)((int)this + 0x1c),
                       &iStack_30,&iStack_34);
          iVar15 = **(int **)(local_14 + 0x3fc);
          if ((iStack_30 + -0x20 <= iVar15) && (iVar15 <= iStack_30 + 0x20)) {
            iVar15 = (*(int **)(local_14 + 0x3fc))[1];
            if ((iStack_34 + -0x20 <= iVar15) && (iVar15 <= iStack_34 + 0x20)) {
                    /* WARNING: Load size is inaccurate */
              iVar15 = FUN_00434c90(DAT_0048ce0c,*this);
              if (iVar15 != 0) {
                iVar3 = iStack_34 + -0x13;
                pcVar14 = (char *)(iVar15 + 0x10);
                uVar11 = 0xffffffff;
                iVar15 = iStack_34 + -0x22;
                pcVar16 = pcVar14;
                do {
                  if (uVar11 == 0) break;
                  uVar11 = uVar11 - 1;
                  cVar1 = *pcVar16;
                  pcVar16 = pcVar16 + 1;
                } while (cVar1 != '\0');
                uVar12 = 0xffffffff;
                pcVar16 = pcVar14;
                do {
                  if (uVar12 == 0) break;
                  uVar12 = uVar12 - 1;
                  cVar1 = *pcVar16;
                  pcVar16 = pcVar16 + 1;
                } while (cVar1 != '\0');
                iStack_34 = iStack_34 + -0x20;
                RKC_UPDIB::SetPacket
                          (DAT_00482d10,param_1,0x11,0,0,0,0x800,
                           (iStack_30 - ((~uVar12 - 1) * 3 & 0x7fffffff)) + -4,iVar15,
                           ((~uVar11 - 1) * 3 & 0x7fffffff) + 1 + iStack_30,iVar3,800,1000,0,0,0,0,
                           (tagRECT *)0x0,(RKC_DIB *)0x0);
                uVar11 = 0xffffffff;
                pcVar16 = pcVar14;
                do {
                  if (uVar11 == 0) break;
                  uVar11 = uVar11 - 1;
                  cVar1 = *pcVar16;
                  pcVar16 = pcVar16 + 1;
                } while (cVar1 != '\0');
                RKC_UPDIB::SetStringsPacket
                          (DAT_00482d10,param_1,0x11,1,
                           (iStack_30 - ((~uVar11 - 1) * 3 & 0x7fffffff)) + 1,iStack_34 + 1,pcVar14,
                           '\0','\0','\0',0,0,0,1,1000);
                uVar11 = 0xffffffff;
                pcVar16 = pcVar14;
                do {
                  if (uVar11 == 0) break;
                  uVar11 = uVar11 - 1;
                  cVar1 = *pcVar16;
                  pcVar16 = pcVar16 + 1;
                } while (cVar1 != '\0');
                RKC_UPDIB::SetStringsPacket
                          (DAT_00482d10,param_1,0x11,1,iStack_30 - ((~uVar11 - 1) * 3 & 0x7fffffff),
                           iStack_34,pcVar14,0x90,0x90,0xff,0,0,0,1,1000);
              }
            }
          }
        }
      }
      piVar22 = (int *)((int)this + 0x24);
      iVar15 = 4;
      do {
        if (piVar22[8] <= *(int *)((int)this + 0x20)) {
          if (0 < *piVar22) {
            *piVar22 = *piVar22 + -0x32;
          }
          if (*piVar22 < 0) {
            *piVar22 = 0;
          }
          if (piVar22[4] < 1000) {
            piVar22[4] = piVar22[4] + 200;
          }
          if (1000 < piVar22[4]) {
            piVar22[4] = 1000;
          }
        }
        piVar22 = piVar22 + 1;
        iVar15 = iVar15 + -1;
      } while (iVar15 != 0);
      *(int *)((int)this + 0x20) = *(int *)((int)this + 0x20) + 1;
    }
  }
  return;
}



/*
 * Function: FUN_00420970
 * Address: 00420970
 */

void __fastcall FUN_00420970(int *param_1)

{
  int iVar1;
  int iVar2;
  undefined8 uVar3;
  int local_10 [4];
  
  local_10[0] = -0x32;
  local_10[1] = 0xffffffce;
  local_10[2] = 0x32;
  local_10[3] = 0x32;
  if (param_1[1] == 0) {
    return;
  }
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  if (*(int *)(iVar1 + 0x43c) == 1) {
    return;
  }
  iVar2 = FUN_00456230(*(int *)(iVar1 + 0x458));
  if (iVar2 == param_1[2]) {
    if (param_1[0xc] != 0) goto LAB_00420a29;
    uVar3 = FUN_004143c0((int *)(iVar1 + 0x2e0),(int *)(iVar1 + 0x2e8),param_1 + 3,local_10);
    if ((int)uVar3 == 0) {
      if (param_1[0x19] == 0) {
        iVar2 = param_1[5];
        *(undefined4 *)(iVar1 + 0x444) = 100;
        *(int *)(iVar1 + 0x440) = iVar2;
        *(undefined4 *)(iVar1 + 0x43c) = 1;
        *(int *)(iVar1 + 0x454) = *param_1;
        param_1[0x1a] = 1;
      }
      param_1[0x19] = 1;
      goto LAB_00420a29;
    }
  }
  param_1[0x19] = 0;
LAB_00420a29:
  if (*(int *)(iVar1 + 0x43c) != 1) {
    iVar1 = FUN_00434cb0(DAT_0048ce0c);
    iVar2 = FUN_00456230(*(int *)(iVar1 + 0x458));
    if (iVar2 == param_1[5]) {
      if (param_1[0xc] != 0) {
        return;
      }
      uVar3 = FUN_004143c0((int *)(iVar1 + 0x2e0),(int *)(iVar1 + 0x2e8),param_1 + 6,local_10);
      if ((int)uVar3 == 0) {
        if (param_1[0x1a] == 0) {
          *(int *)(iVar1 + 0x440) = param_1[2];
          *(undefined4 *)(iVar1 + 0x444) = 0xffffffff;
          *(int *)(iVar1 + 0x448) = param_1[3];
          *(int *)(iVar1 + 0x44c) = param_1[4];
          *(undefined4 *)(iVar1 + 0x43c) = 1;
          *(undefined4 *)(iVar1 + 0x454) = 0xffffffff;
          if (*(int *)(iVar1 + 4) == *param_1) {
            param_1[1] = 0;
            *(undefined4 *)(iVar1 + 0x450) = 1;
            param_1[0x19] = 1;
            param_1[0x1a] = 1;
            return;
          }
          *(undefined4 *)(iVar1 + 0x450) = 0;
          param_1[0x19] = 1;
        }
        param_1[0x1a] = 1;
        return;
      }
    }
    param_1[0x1a] = 0;
  }
  return;
}



/*
 * Function: FUN_00420b00
 * Address: 00420b00
 */

void __thiscall FUN_00420b00(void *this,undefined4 *param_1)

{
  *param_1 = *(undefined4 *)((int)this + 4);
                    /* WARNING: Load size is inaccurate */
  param_1[1] = *this;
  param_1[3] = *(undefined4 *)((int)this + 0xc);
  param_1[4] = *(undefined4 *)((int)this + 0x10);
  param_1[2] = *(undefined4 *)((int)this + 8);
  return;
}



/*
 * Function: FUN_00420b30
 * Address: 00420b30
 */

void __thiscall FUN_00420b30(void *this,int *param_1)

{
  if (*param_1 == 1) {
    FUN_00420020(this,param_1[1],param_1[2],param_1 + 3);
  }
  return;
}



/*
 * Function: FUN_00420b50
 * Address: 00420b50
 */

undefined4 FUN_00420b50(void)

{
  int iVar1;
  RKC_RPGSCRN_CHARANIM *this;
  int iVar2;
  int iVar3;
  char *pcVar4;
  char local_104 [260];
  
  RKC_UPDIB::ReadUpd(DAT_00482d10,4,s_System_Title_Pattern_Title_njp_0047fc84,0,0,0,1);
  iVar2 = 0;
  iVar3 = 5;
  while( true ) {
    FUN_00467d51(local_104,(byte *)s_System_Title_Pattern_Smoke_02d_n_0047fc60);
    iVar1 = RKC_UPDIB::ReadUpd(DAT_00482d10,iVar3,local_104,0,0,0,0);
    if (iVar1 == 0) {
      return 0;
    }
    FUN_00467d51(local_104,(byte *)s_System_Title_Pattern_Smoke_02d_C_0047fc3c);
    pcVar4 = local_104;
    iVar1 = iVar3;
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,iVar2);
    iVar1 = RKC_RPGSCRN_CHARANIM::ReadCafFile(this,pcVar4,iVar1);
    if (iVar1 == 0) break;
    iVar3 = iVar3 + 2;
    iVar2 = iVar2 + 1;
    if (0x18 < iVar3) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_00420c10
 * Address: 00420c10
 */

void __fastcall FUN_00420c10(int param_1)

{
  *(undefined4 *)(param_1 + 0x48) = 0;
  DAT_0048e2c0 = 2;
  DAT_0048e2bc = 4;
  DAT_0048e2b8 = 0;
  return;
}



/*
 * Function: FUN_00420c40
 * Address: 00420c40
 */

void __fastcall FUN_00420c40(undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 *puVar5;
  int *piVar6;
  tagRGBQUAD local_11c;
  undefined local_11b;
  undefined local_11a;
  undefined local_119;
  undefined auStack_118 [4];
  tagRECT local_114;
  char acStack_104 [260];
  
  local_114.left = 0;
  local_114.top = 0;
  local_114.right = 0x27f;
  local_114.bottom = 0x1df;
  local_11c = (tagRGBQUAD)0x0;
  local_11b = 0;
  local_11a = 0;
  local_119 = 0;
  RKC_RPGSCRN::SetUpdibHost(DAT_00482d14,DAT_00482d10);
  RKC_RPGSCRN::SetShadowTransFlag(DAT_00482d14,1);
  RKC_RPGSCRN_CHARANIMBLOCK::Release(DAT_00482d20,-1);
  RKC_RPGSCRN_CHARANIMBLOCK::CreateIndex(DAT_00482d20,10,DAT_00482d14);
  RKC_DBFCONTROL::Clear(DAT_00482d18,&local_11c);
  iVar1 = FUN_00420b50();
  if (iVar1 == 0) {
    return;
  }
  RKC_DBFCONTROL::SetClipRect(DAT_00482d18,&local_114);
  RKC_DBFCONTROL::SetScreenClear(DAT_00482d18,1,&local_11c);
  FUN_004562a0(DAT_0048d8b4,0x39);
  iVar1 = 0;
  puVar5 = &DAT_0047fca4;
  do {
    puVar2 = (undefined4 *)FUN_00456410(DAT_0048d8b4,iVar1);
    uVar3 = *puVar5;
    puVar5 = puVar5 + 1;
    iVar1 = iVar1 + 1;
    *puVar2 = uVar3;
  } while ((int)puVar5 < 0x47fd88);
  *param_1 = 0x14;
  param_1[1] = 0;
  iVar1 = RK_CheckFilesExist(s_Save___Ssv_0047fda8,auStack_118);
  if (iVar1 == 0) {
    param_1[2] = 0;
  }
  else {
    param_1[2] = 1;
    RK_ReleaseFilesExist(auStack_118);
  }
  DAT_0048d8d4 = 0xffffffff;
  uVar3 = FUN_004021b0(acStack_104);
  param_1[3] = uVar3;
  param_1[4] = 0;
  iVar1 = 10;
  piVar6 = param_1 + 5;
  do {
    iVar4 = _rand();
    iVar1 = iVar1 + -1;
    *piVar6 = iVar4 % 0x5a;
    piVar6 = piVar6 + 1;
  } while (iVar1 != 0);
  RKC_DSOUND::ReadVocFile(DAT_00482d28,s_System_Title_Music_BGM00_Voc_0047fd88,500);
  param_1[0xf] = 0;
  param_1[0x10] = 0;
  param_1[0x11] = 0;
  param_1[0x14] = 0;
  param_1[0x15] = 1;
  param_1[0x18] = 0;
  return;
}



/*
 * Function: FUN_00420df0
 * Address: 00420df0
 */

undefined4 FUN_00420df0(void)

{
  RKC_UPDIB_UPD *pRVar1;
  RKC_RPGSCRN_CHARANIM *this;
  int iVar2;
  int iVar3;
  
  RKC_DBFCONTROL::Clear(DAT_00482d18,(tagRGBQUAD *)0x0);
  pRVar1 = RKC_UPDIB::GetUpd(DAT_00482d10,4);
  RKC_UPDIB_UPD::Release(pRVar1);
  iVar3 = 0;
  iVar2 = 5;
  do {
    pRVar1 = RKC_UPDIB::GetUpd(DAT_00482d10,iVar2);
    RKC_UPDIB_UPD::Release(pRVar1);
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,iVar3);
    RKC_RPGSCRN_CHARANIM::Release(this);
    iVar2 = iVar2 + 2;
    iVar3 = iVar3 + 1;
  } while (iVar2 < 0x19);
  return 1;
}



/*
 * Function: FUN_00421920
 * Address: 00421920
 */

undefined4 FUN_00421920(void)

{
  RKC_UPDIB::ReadUpd(DAT_00482d10,4,s_System_Select_Pattern_Select_njp_0047ffe8,0,0,0,1);
  return 1;
}



/*
 * Function: FUN_00421950
 * Address: 00421950
 */

int __fastcall FUN_00421950(int param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471d3b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  *(undefined4 *)(param_1 + 0x3c) = 0;
  puVar1 = (undefined4 *)operator_new(4);
  local_4 = 0;
  if (puVar1 != (undefined4 *)0x0) {
    uVar2 = FUN_004576d0(puVar1);
    *(undefined4 *)(param_1 + 0x38) = uVar2;
    ExceptionList = local_c;
    return param_1;
  }
  *(undefined4 *)(param_1 + 0x38) = 0;
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: FUN_004219c0
 * Address: 004219c0
 */

void __fastcall FUN_004219c0(int param_1)

{
  undefined4 *puVar1;
  int *piVar2;
  
  if ((*(int *)(param_1 + 0x24) == 0) &&
     (puVar1 = *(undefined4 **)(param_1 + 0x3c), puVar1 != (undefined4 *)0x0)) {
    thunk_FUN_004238b0(puVar1);
    FUN_0046787e(puVar1);
  }
  piVar2 = *(int **)(param_1 + 0x38);
  if (piVar2 != (int *)0x0) {
    thunk_FUN_00423970(piVar2);
    FUN_0046787e(piVar2);
  }
  return;
}



/*
 * Function: FUN_00421a00
 * Address: 00421a00
 */

undefined4 __thiscall FUN_00421a00(void *this,int param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  tagRGBQUAD local_128;
  undefined local_127;
  undefined local_126;
  undefined local_125;
  tagRECT local_124;
  undefined4 *puStack_114;
  char local_110;
  undefined4 local_10f;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471d5e;
  pvStack_c = ExceptionList;
  local_110 = DAT_0048d9f0;
  puVar4 = &local_10f;
  for (iVar3 = 0x40; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
  }
  *(undefined2 *)puVar4 = 0;
  local_124.left = 0;
  local_124.top = 0;
  local_124.right = 0x27f;
  local_124.bottom = 0x1df;
  local_128 = (tagRGBQUAD)0x0;
  local_127 = 0;
  local_126 = 0;
  local_125 = 0;
  *(undefined *)((int)puVar4 + 2) = 0;
  ExceptionList = &pvStack_c;
  RKC_DBFCONTROL::Clear(DAT_00482d18,&local_128);
  FUN_00421920();
  RKC_DBFCONTROL::SetClipRect(DAT_00482d18,&local_124);
  RKC_DBFCONTROL::SetScreenClear(DAT_00482d18,1,&local_128);
  FUN_004562a0(DAT_0048d8b4,0x3a);
  iVar3 = 0;
  puVar4 = &DAT_0048000c;
  do {
    puVar1 = (undefined4 *)FUN_00456410(DAT_0048d8b4,iVar3);
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + 1;
    *puVar1 = uVar2;
  } while ((int)puVar4 < 0x4800f4);
  if (*(int *)((int)this + 0x24) == 0) {
    puVar4 = *(undefined4 **)((int)this + 0x3c);
    if (puVar4 != (undefined4 *)0x0) {
      thunk_FUN_004238b0(puVar4);
      FUN_0046787e(puVar4);
    }
    *(undefined4 *)((int)this + 0x3c) = 0;
  }
  if (param_1 == 0) {
    *(undefined4 *)((int)this + 0x24) = 0;
    *(undefined4 *)((int)this + 0x28) = 0;
    *(undefined4 *)((int)this + 0x60) = 1;
    puStack_114 = (undefined4 *)operator_new(0x16c);
    uStack_4 = 0;
    if (puStack_114 == (undefined4 *)0x0) {
      uVar2 = 0;
    }
    else {
      uVar2 = FUN_00423890(puStack_114);
    }
    uStack_4 = 0xffffffff;
    *(undefined4 *)((int)this + 0x3c) = uVar2;
    FUN_004021b0(&local_110);
    FUN_00423900(*(void **)((int)this + 0x3c),&local_110);
    *(undefined4 *)((int)this + 0x30) = 0;
    *(undefined4 *)((int)this + 0x34) = 0;
  }
  else {
    *(undefined4 *)((int)this + 0x24) = 1;
    *(undefined4 *)((int)this + 0x28) = 0;
    *(undefined4 *)((int)this + 0x60) = 1;
    FUN_004239b0(*(int **)((int)this + 0x38));
    *(undefined4 *)((int)this + 0x14) = 0;
    *(undefined4 *)((int)this + 0x1c) = 0;
  }
  *(undefined4 *)((int)this + 8) = 0x14;
  *(undefined4 *)((int)this + 0xc) = 0;
  *(undefined4 *)((int)this + 0x18) = 1;
  *(undefined4 *)((int)this + 0x20) = 0xffffffff;
  DAT_0048d8d4 = 0xffffffff;
  iVar3 = RKC_DSOUND::GetPlayStatus(DAT_00482d28,500,0);
  if (iVar3 == 0) {
    RKC_DSOUND::Play(DAT_00482d28,500,0,1,0,DAT_0048d8e8);
  }
  *(undefined4 *)((int)this + 0x60) = 1;
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00421bf0
 * Address: 00421bf0
 */

undefined4 __fastcall FUN_00421bf0(int param_1)

{
  RKC_UPDIB_UPD *this;
  
  if (*(HGLOBAL *)(param_1 + 0x30) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x30));
    *(undefined4 *)(param_1 + 0x30) = 0;
  }
  RKC_DSOUND::ReleaseVoc(DAT_00482d28,500);
  RKC_DBFCONTROL::Clear(DAT_00482d18,(tagRGBQUAD *)0x0);
  this = RKC_UPDIB::GetUpd(DAT_00482d10,4);
  RKC_UPDIB_UPD::Release(this);
  return 1;
}



/*
 * Function: FUN_00421c50
 * Address: 00421c50
 */

undefined4 __fastcall FUN_00421c50(int *param_1)

{
  short sVar1;
  int *piVar2;
  RKC_DBF *this;
  short *psVar3;
  int iVar4;
  long *plVar5;
  int iVar6;
  undefined4 uVar7;
  
  piVar2 = DAT_0048d8b4;
  if (DAT_0048d8cc != 0) {
    if (DAT_0048d8cc == 1) {
      DAT_0048d8cc = 2;
    }
    return 0;
  }
  if (DAT_00482774 != 0) {
    FUN_004562f0(DAT_0048d8b4);
  }
  this = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
  psVar3 = (short *)RKC_DBF::GetVSBlockNo(this);
  iVar6 = param_1[2];
  if (0 < iVar6) {
    iVar4 = (0x15 - iVar6) * 0x32;
    *param_1 = iVar4;
    param_1[2] = iVar6 + -1;
    param_1[1] = iVar4;
  }
  plVar5 = (long *)FUN_00456440((int)piVar2);
  sVar1 = *(short *)param_1;
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)psVar3,0,3,0,-1,4,*plVar5,plVar5[1],1000,1000,1000,1000,0,sVar1,
             sVar1,sVar1,(tagRECT *)0x0,(RKC_DIB *)0x0);
  if (param_1[6] == 0) {
    if (param_1[1] < 0x1f5) goto LAB_00421d37;
    iVar6 = param_1[1] + -0x50;
  }
  else {
    if ((param_1[2] != 0) || (999 < param_1[1])) goto LAB_00421d37;
    iVar6 = param_1[1] + 0x50;
  }
  param_1[1] = iVar6;
LAB_00421d37:
  if (param_1[9] == 0) {
    param_1[0x10] = 0;
    FUN_00423ca0(psVar3);
  }
  else if (param_1[9] == 1) {
    param_1[0x10] = 1;
    FUN_00422e30(param_1,(long)psVar3);
  }
  if ((param_1[9] == 0) || (param_1[9] == 1)) {
    switch(param_1[10]) {
    case 10:
      FUN_00424d80(param_1,(long)psVar3);
      break;
    case 0xb:
      FUN_004253c0(param_1,(long)psVar3);
      if (param_1[10] == 0xc) {
        FUN_00425d40((int)param_1);
      }
      break;
    case 0xc:
      FUN_00425830(param_1,psVar3);
      break;
    case 0x14:
      if (param_1[3] == 0) {
        param_1[3] = 0x1392;
      }
      if (param_1[3] == 0x13a0) {
        uVar7 = FUN_004023d0(&DAT_00482770,2,0);
        return uVar7;
      }
    }
  }
  if (param_1[0x18] == 1) {
    param_1[0x18] = 0;
  }
  return 1;
}



/*
 * Function: FUN_00421e10
 * Address: 00421e10
 */

void __thiscall
FUN_00421e10(void *this,long param_1,int param_2,int param_3,long param_4,int param_5,int param_6,
            int param_7)

{
  char cVar1;
  uchar uVar2;
  uchar uVar3;
  uchar uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  byte bVar9;
  int iVar10;
  char *pcVar11;
  code *pcVar12;
  char *pcVar13;
  short sVar14;
  char acStack_d0 [64];
  char *local_90;
  undefined *local_8c;
  undefined1 *local_88;
  undefined1 *local_84;
  undefined1 *local_80;
  undefined1 *local_7c;
  undefined1 *local_78;
  char *local_74;
  char *local_70;
  undefined1 *local_6c;
  undefined1 *local_68;
  char *local_64;
  undefined1 *local_60;
  undefined1 *local_5c;
  undefined1 *local_58;
  undefined1 *local_54;
  undefined1 *local_50;
  undefined1 *local_4c;
  char *local_48;
  undefined1 *local_44;
  undefined1 *local_40;
  undefined1 *local_3c;
  undefined1 *local_38;
  undefined1 *local_34;
  char *local_30;
  char *local_2c;
  undefined1 *local_28;
  undefined1 *local_24;
  char *local_20;
  undefined1 *local_1c;
  undefined1 *local_18;
  undefined1 *local_14;
  undefined1 *local_10;
  undefined1 *local_c;
  undefined1 *local_8;
  char *local_4;
  
  local_88 = &DAT_0048d9f0;
  local_84 = &DAT_0048d9f0;
  local_80 = &DAT_0048d9f0;
  local_7c = &DAT_0048d9f0;
  local_78 = &DAT_0048d9f0;
  local_6c = &DAT_0048d9f0;
  local_68 = &DAT_0048d9f0;
  local_60 = &DAT_0048d9f0;
  local_5c = &DAT_0048d9f0;
  local_58 = &DAT_0048d9f0;
  local_54 = &DAT_0048d9f0;
  local_50 = &DAT_0048d9f0;
  local_4c = &DAT_0048d9f0;
  local_44 = &DAT_0048d9f0;
  local_40 = &DAT_0048d9f0;
  local_3c = &DAT_0048d9f0;
  local_38 = &DAT_0048d9f0;
  local_34 = &DAT_0048d9f0;
  local_28 = &DAT_0048d9f0;
  local_24 = &DAT_0048d9f0;
  local_1c = &DAT_0048d9f0;
  local_18 = &DAT_0048d9f0;
  local_14 = &DAT_0048d9f0;
  local_10 = &DAT_0048d9f0;
  local_c = &DAT_0048d9f0;
  local_8 = &DAT_0048d9f0;
  local_74 = s_Hunter_004801b4;
  local_70 = s_Warrior_004801ac;
  local_64 = s_Witch_004801a4;
  local_48 = s_Mercenary_0047d7a0;
  local_30 = s_Hunter_004801b4;
  local_2c = s_Warrior_004801ac;
  local_20 = s_Wizard_0048019c;
  local_4 = s_Mercenary_0047d7a0;
  local_90 = s_Female_00480194;
  local_8c = &DAT_0048018c;
  iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),param_6);
  if (iVar5 == 0) {
    param_7 = 3;
    param_5 = 500;
  }
  else if (1000 < param_5) {
    bVar9 = 0xe0;
    goto LAB_00421f98;
  }
  iVar10 = param_5 * 0xe0;
  bVar9 = ((char)(iVar10 / 1000) + (char)(iVar10 >> 0x1f)) -
          (char)((longlong)iVar10 * 0x10624dd3 >> 0x3f);
LAB_00421f98:
  sVar14 = (short)param_5;
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,5,4,0x28,-1,1,param_2,param_3,1000,1000,param_4,1000,0,sVar14,
             sVar14,sVar14,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,5,4,param_7 + 0x2a + param_6 * 4,-1,1,param_2,param_3 + 0x1c,1000,
             1000,param_4,1000,0,sVar14,sVar14,sVar14,(tagRECT *)0x0,(RKC_DIB *)0x0);
  pcVar12 = SetStringsPacket_exref;
  if (iVar5 == 0) {
    uVar7 = 0xffffffff;
    pcVar11 = s_No_Data_00480124;
    do {
      pcVar13 = pcVar11;
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar13 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar13;
    } while (cVar1 != '\0');
    uVar7 = ~uVar7;
    pcVar11 = pcVar13 + -uVar7;
    pcVar13 = acStack_d0;
    for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pcVar13 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar13 = pcVar13 + 4;
    }
    for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
      *pcVar13 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar13 = pcVar13 + 1;
    }
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,param_3 + 0xd,acStack_d0,'\0','\0','\0',0,0,0
               ,1,param_4);
    iVar10 = param_3 + 0xc;
    pcVar11 = (char *)(param_2 + 0x27);
  }
  else {
    FUN_00467d51(acStack_d0,(byte *)s_Level__00480184);
    pcVar12 = SetStringsPacket_exref;
    iVar10 = param_3 + 0xd;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,iVar10,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    uVar7 = (uint)bVar9;
    uVar4 = (uchar)((uVar7 * 0x80) / 0xe0);
    uVar3 = (uchar)((uVar7 * 0xc0) / 0xe0);
    uVar2 = (uchar)((uVar7 * 0xe0) / 0xe0);
    iVar6 = param_3 + 0xc;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x27,iVar6,acStack_d0,uVar2,uVar3,uVar4,0,0,0,1,
               param_4);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__d_00480178);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,iVar10,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x27,iVar6,acStack_d0,bVar9,bVar9,bVar9,0,0,0,1,
               param_4);
    FUN_00467d51(acStack_d0,&DAT_00480170);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x69,iVar10,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x68,iVar6,acStack_d0,uVar2,uVar3,uVar4,0,0,0,1,
               param_4);
    FUN_00456450(iVar5);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__s_00480168);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x69,param_3 + 0xd,acStack_d0,'\0','\0','\0',0,0,0
               ,1,param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x68,param_3 + 0xc,acStack_d0,bVar9,bVar9,bVar9,0,
               0,0,1,param_4);
    FUN_00467d51(acStack_d0,&DAT_00480160);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0xc9,param_3 + 0xd,acStack_d0,'\0','\0','\0',0,0,0
               ,1,param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 200,param_3 + 0xc,acStack_d0,uVar2,uVar3,uVar4,0,0
               ,0,1,param_4);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__s_00480168);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0xc9,param_3 + 0xd,acStack_d0,'\0','\0','\0',0,0,0
               ,1,param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 200,param_3 + 0xc,acStack_d0,bVar9,bVar9,bVar9,0,0
               ,0,1,param_4);
    FUN_00467d51(acStack_d0,(byte *)s_Name__00480158);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,param_3 + 0x21,acStack_d0,'\0','\0','\0',0,0,
               0,1,param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x27,param_3 + 0x20,acStack_d0,uVar2,uVar3,uVar4,0
               ,0,0,1,param_4);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__s_0048014c);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,param_3 + 0x21,acStack_d0,'\0','\0','\0',0,0,
               0,1,param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x27,param_3 + 0x20,acStack_d0,bVar9,bVar9,bVar9,0
               ,0,0,1,param_4);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__d_00480144);
    iVar6 = param_3 + 0x35;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,iVar6,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    iVar10 = param_3 + 0x34;
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x27,iVar10,acStack_d0,bVar9,bVar9,bVar9,0,0,0,1,
               param_4);
    FUN_00467d51(acStack_d0,&DAT_00480140);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x28,iVar6,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x27,iVar10,acStack_d0,uVar2,uVar3,uVar4,0,0,0,1,
               param_4);
    FUN_00467d51(acStack_d0,&DAT_0048013c);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x65,iVar6,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 100,iVar10,acStack_d0,uVar2,uVar3,uVar4,0,0,0,1,
               param_4);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__d_00480144);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0x65,iVar6,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 100,iVar10,acStack_d0,bVar9,bVar9,bVar9,0,0,0,1,
               param_4);
    FUN_00467d51(acStack_d0,&DAT_00480134);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0xa1,iVar6,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    local_90 = (char *)(param_2 + 0xa0);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,(long)local_90,iVar10,acStack_d0,uVar2,uVar3,uVar4,0,0,0,1,
               param_4);
    FUN_00456450(iVar5);
    FUN_00467d51(acStack_d0,(byte *)s__d_0048012c);
    RKC_UPDIB::SetStringsPacket
              (DAT_00482d10,param_1,5,0,param_2 + 0xa1,iVar6,acStack_d0,'\0','\0','\0',0,0,0,1,
               param_4);
    pcVar11 = local_90;
  }
  (*pcVar12)(param_1,5,0,pcVar11,iVar10,acStack_d0,bVar9,bVar9,bVar9,0,0,0,1,param_4);
  return;
}



/*
 * Function: FUN_004228b0
 * Address: 004228b0
 */

undefined4 __thiscall FUN_004228b0(void *this,long param_1)

{
  char cVar1;
  int iVar2;
  void *this_00;
  int *piVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  char *pcVar8;
  int local_88;
  char acStack_80 [128];
  
  this_00 = DAT_0048d8b4;
  local_88 = 0;
  piVar3 = (int *)FUN_00456440((int)DAT_0048d8b4);
  iVar4 = FUN_00456410(this_00,4);
  if (((*(int *)(iVar4 + 0x10) != 0) ||
      (iVar4 = FUN_00456410(this_00,6), *(int *)(iVar4 + 0x10) != 0)) &&
     (*(undefined4 *)((int)this + 0x4c) = 1, *(int *)((int)this + 0x48) != 0)) {
    *(undefined4 *)((int)this + 0x48) = 0;
    RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
  }
  iVar4 = FUN_00456410(this_00,5);
  if (((*(int *)(iVar4 + 0x10) != 0) ||
      (iVar4 = FUN_00456410(this_00,7), *(int *)(iVar4 + 0x10) != 0)) &&
     (*(undefined4 *)((int)this + 0x4c) = 1, *(int *)((int)this + 0x48) != 1)) {
    *(undefined4 *)((int)this + 0x48) = 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
  }
  iVar4 = *piVar3;
  if ((((0xf7 < iVar4) && (iVar4 < 0x129)) &&
      ((iVar2 = piVar3[1], 0x113 < iVar2 && ((iVar2 < 0x120 && (*(int *)((int)this + 0x4c) == 1)))))
      ) && ((*(int *)((int)this + 0x50) != iVar4 || (*(int *)((int)this + 0x54) != iVar2)))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if ((((0xf7 < *piVar3) && (*piVar3 < 0x129)) && (0x113 < piVar3[1])) &&
     ((piVar3[1] < 0x120 && (*(int *)((int)this + 0x4c) == 0)))) {
    local_88 = 1;
    *(undefined4 *)((int)this + 0x48) = 0;
    iVar4 = FUN_00456410(this_00,0);
    if (*(int *)(iVar4 + 0x10) != 0) {
      FUN_00423b60(*(undefined4 *)((int)this + 0x1c));
      *(undefined4 *)((int)this + 0x1c) = 0;
      goto LAB_00422e04;
    }
  }
  iVar4 = FUN_00456410(this_00,10);
  if ((*(int *)(iVar4 + 0x10) == 0) || (*(int *)((int)this + 0x48) != 0)) {
    iVar4 = *piVar3;
    if ((((0x15c < iVar4) &&
         (((iVar4 < 0x183 && (iVar2 = piVar3[1], 0x113 < iVar2)) && (iVar2 < 0x120)))) &&
        (*(int *)((int)this + 0x4c) == 1)) &&
       ((*(int *)((int)this + 0x50) != iVar4 || (*(int *)((int)this + 0x54) != iVar2)))) {
      *(undefined4 *)((int)this + 0x4c) = 0;
    }
    if (((0x15c < *piVar3) && (*piVar3 < 0x183)) &&
       ((0x113 < piVar3[1] && ((piVar3[1] < 0x120 && (*(int *)((int)this + 0x4c) == 0)))))) {
      local_88 = 2;
      *(undefined4 *)((int)this + 0x48) = 1;
      iVar4 = FUN_00456410(this_00,0);
      if (*(int *)(iVar4 + 0x10) != 0) goto LAB_00422e04;
    }
    iVar4 = FUN_00456410(this_00,9);
    if ((*(int *)(iVar4 + 0x10) == 0) &&
       ((iVar4 = FUN_00456410(this_00,10), *(int *)(iVar4 + 0x10) == 0 ||
        (*(int *)((int)this + 0x48) != 1)))) {
      if (local_88 == 0) {
        local_88 = *(int *)((int)this + 0x48) + 1;
      }
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,2,4,0x26,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar4 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
      FUN_00456450(iVar4);
      FUN_00467d51(acStack_80,(byte *)s_No__d___s_004801f0);
      uVar5 = 0xffffffff;
      pcVar7 = acStack_80;
      do {
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        cVar1 = *pcVar7;
        pcVar7 = pcVar7 + 1;
      } while (cVar1 != '\0');
      iVar4 = (int)((~uVar5 - 1) * 7) / 2;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,0,0x141 - iVar4,0xbf,acStack_80,'\0','\0','\0',0,0,0,1,1000)
      ;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,0,0x140 - iVar4,0xbe,acStack_80,0xff,0xff,0xff,0,0,0,1,1000)
      ;
      uVar5 = 0xffffffff;
      pcVar7 = s_Are_you_sure_you_want_to_delete_004801d0;
      do {
        pcVar8 = pcVar7;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar7 + 1;
        cVar1 = *pcVar7;
        pcVar7 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      pcVar7 = pcVar8 + -uVar5;
      pcVar8 = acStack_80;
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar7;
        pcVar7 = pcVar7 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar7;
        pcVar7 = pcVar7 + 1;
        pcVar8 = pcVar8 + 1;
      }
      uVar5 = 0xffffffff;
      pcVar7 = acStack_80;
      do {
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        cVar1 = *pcVar7;
        pcVar7 = pcVar7 + 1;
      } while (cVar1 != '\0');
      iVar4 = (int)((~uVar5 - 1) * 7) / 2;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,0,0x141 - iVar4,0xd3,acStack_80,'\0','\0','\0',0,0,0,1,1000)
      ;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,0,0x140 - iVar4,0xd2,acStack_80,0xff,0xff,0xff,0,0,0,1,1000)
      ;
      uVar5 = 0xffffffff;
      pcVar7 = s_this_saved_data__004801bc;
      do {
        pcVar8 = pcVar7;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar8 = pcVar7 + 1;
        cVar1 = *pcVar7;
        pcVar7 = pcVar8;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      pcVar7 = pcVar8 + -uVar5;
      pcVar8 = acStack_80;
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *(undefined4 *)pcVar8 = *(undefined4 *)pcVar7;
        pcVar7 = pcVar7 + 4;
        pcVar8 = pcVar8 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar8 = *pcVar7;
        pcVar7 = pcVar7 + 1;
        pcVar8 = pcVar8 + 1;
      }
      uVar5 = 0xffffffff;
      pcVar7 = acStack_80;
      do {
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        cVar1 = *pcVar7;
        pcVar7 = pcVar7 + 1;
      } while (cVar1 != '\0');
      iVar4 = (int)((~uVar5 - 1) * 7) / 2;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,0,0x141 - iVar4,0xe7,acStack_80,'\0','\0','\0',0,0,0,1,1000)
      ;
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,param_1,1,0,0x140 - iVar4,0xe6,acStack_80,0xff,0xff,0xff,0,0,0,1,1000)
      ;
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,1,4,0xf - (uint)(local_88 != 1),-1,4,0,0,1000,1000,1000,1000,0
                 ,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,1,4,(local_88 == 2) + 0x10,-1,4,0,0,1000,1000,1000,1000,0,1000
                 ,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      *(int *)((int)this + 0x50) = *piVar3;
      *(int *)((int)this + 0x54) = piVar3[1];
      return 1;
    }
  }
  else {
    FUN_00423b60(*(undefined4 *)((int)this + 0x1c));
    *(undefined4 *)((int)this + 0x1c) = 0;
  }
LAB_00422e04:
  RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
  return 0;
}



/*
 * Function: FUN_00422e30
 * Address: 00422e30
 */

undefined4 __thiscall FUN_00422e30(void *this,long param_1)

{
  int iVar1;
  short sVar2;
  bool bVar3;
  bool bVar4;
  int iVar5;
  undefined4 uVar6;
  int *piVar7;
  int iVar8;
  RKC_DIB *pRVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  code *pcVar13;
  uint uVar14;
  void *pvVar15;
  void *this_00;
  void *this_01;
  int local_3c;
  int local_38;
  int local_30;
  long local_2c;
  int local_20 [8];
  
  local_20[0] = 3;
  local_20[7] = 3;
  bVar4 = false;
  local_20[1] = 2;
  local_20[2] = 1;
  local_20[3] = 0;
  local_20[4] = 0;
  local_20[5] = 1;
  local_20[6] = 2;
  local_3c = 1000;
  bVar3 = false;
  if (*(int *)((int)this + 0x28) == 1) {
    *(undefined4 *)((int)this + 0x60) = 1;
    iVar5 = FUN_004228b0(this,param_1);
    if (iVar5 == 0) {
      *(undefined4 *)((int)this + 0x18) = 1;
      *(undefined4 *)((int)this + 0x28) = 0;
      *(undefined4 *)((int)this + 0x60) = 1;
    }
  }
  iVar5 = *(int *)((int)this + 0xc);
  if (iVar5 == 0x3fe) {
    uVar6 = FUN_004023d0(&DAT_00482770,0,0);
    return uVar6;
  }
  if (iVar5 == 0x7e6) {
    PostMessageA(DAT_00482778,0x406,0,0);
    return 1;
  }
  if (0 < iVar5) {
    *(int *)((int)this + 0xc) = iVar5 + 1;
  }
  pvVar15 = DAT_0048d8b4;
  piVar7 = (int *)FUN_00456440((int)DAT_0048d8b4);
                    /* WARNING: Load size is inaccurate */
  if (*this < *(int *)((int)this + 4)) {
    *(int *)((int)this + 4) = *this;
  }
  if (*(int *)((int)this + 8) == 0) {
    iVar5 = *(int *)((int)this + 0xc);
    if ((iVar5 != 0) && (local_3c = 1000 - ((iVar5 % 1000) * 1000) / 10, local_3c < 0)) {
      local_3c = 0;
    }
    if (5 < iVar5 % 1000) {
      *(int *)this = ((5 - iVar5 % 1000) * 1000) / 0xf + 1000;
    }
                    /* WARNING: Load size is inaccurate */
    if (*this < 0) {
      *(undefined4 *)this = 0;
    }
                    /* WARNING: Load size is inaccurate */
    if (*this < *(int *)((int)this + 4)) {
      *(int *)((int)this + 4) = *this;
    }
    if (*(int *)((int)this + 4) < local_3c) {
      local_3c = *(int *)((int)this + 4);
    }
  }
  else {
    local_3c = *(int *)((int)this + 4);
    *(undefined4 *)((int)this + 0x44) = 0;
  }
  if (*(int *)((int)this + 0x28) == 0) {
    iVar5 = *(int *)((int)this + 0x1c);
    iVar8 = FUN_00456410(pvVar15,4);
    if ((((*(int *)(iVar8 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) &&
        (iVar8 = FUN_00423c80(*(int **)((int)this + 0x38)), iVar8 != 0)) &&
       (iVar8 = *(int *)((int)this + 0x1c) + -2, *(int *)((int)this + 0x1c) = iVar8, iVar8 < 0)) {
      *(undefined4 *)((int)this + 0x1c) = 0;
    }
    iVar8 = FUN_00456410(pvVar15,5);
    if (((*(int *)(iVar8 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) &&
       (iVar8 = FUN_00423c80(*(int **)((int)this + 0x38)), iVar8 != 0)) {
      *(int *)((int)this + 0x1c) = *(int *)((int)this + 0x1c) + 2;
      iVar8 = FUN_00423c80(*(int **)((int)this + 0x38));
      if (iVar8 + -1 < *(int *)((int)this + 0x1c)) {
        iVar8 = FUN_00423c80(*(int **)((int)this + 0x38));
        *(int *)((int)this + 0x1c) = iVar8 + -1;
      }
    }
    iVar8 = FUN_00456410(pvVar15,6);
    if (((*(int *)(iVar8 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) &&
       ((iVar8 = FUN_00423c80(*(int **)((int)this + 0x38)), iVar8 != 0 &&
        (iVar8 = *(int *)((int)this + 0x1c) + -1, *(int *)((int)this + 0x1c) = iVar8, iVar8 < 0))))
    {
      *(undefined4 *)((int)this + 0x1c) = 0;
    }
    iVar8 = FUN_00456410(pvVar15,7);
    if (((*(int *)(iVar8 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) &&
       (iVar8 = FUN_00423c80(*(int **)((int)this + 0x38)), iVar8 != 0)) {
      *(int *)((int)this + 0x1c) = *(int *)((int)this + 0x1c) + 1;
      iVar8 = FUN_00423c80(*(int **)((int)this + 0x38));
      if (iVar8 + -1 < *(int *)((int)this + 0x1c)) {
        iVar8 = FUN_00423c80(*(int **)((int)this + 0x38));
        *(int *)((int)this + 0x1c) = iVar8 + -1;
      }
    }
    if (iVar5 != *(int *)((int)this + 0x1c)) {
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
    if (*(int *)((int)this + 0x44) != 0) {
      *(int *)((int)this + 0x44) = *(int *)((int)this + 0x44) + -1;
    }
    iVar5 = FUN_00456410(pvVar15,0);
    if ((*(int *)(iVar5 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) {
      if ((*(int *)((int)this + 0x44) == 0) ||
         ((*(int *)((int)this + 0x58) != *piVar7 || (*(int *)((int)this + 0x5c) != piVar7[1])))) {
        *(undefined4 *)((int)this + 0x44) = 10;
        *(int *)((int)this + 0x58) = *piVar7;
        *(int *)((int)this + 0x5c) = piVar7[1];
      }
      else {
        bVar3 = true;
        *(undefined4 *)((int)this + 0x44) = 0;
        *(undefined4 *)((int)this + 0x58) = 0xffffffff;
      }
    }
  }
  pcVar13 = SetPacket_exref;
  sVar2 = *(short *)((int)this + 4);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,6,4,0x29,-1,5,0,0,1000,1000,1000,1000,0,sVar2,sVar2,sVar2,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  sVar2 = *(short *)((int)this + 4);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,6,4,0x25,-1,5,0,0,1000,1000,*(long *)((int)this + 4),1000,0,sVar2,
             sVar2,sVar2,(tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
  if (iVar5 != 0) {
    iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
    iVar5 = FUN_00456230(iVar5);
    if (iVar5 != 0) {
      iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
      pRVar9 = (RKC_DIB *)FUN_00456230(iVar5);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,param_1,5,-1,-1,-1,0x1005,0xe0,0x3c,1000,1000,*(long *)((int)this + 4)
                 ,1000,0,1000,1000,1000,(tagRECT *)0x0,pRVar9);
    }
  }
  sVar2 = *(short *)((int)this + 4);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,5,4,0x27,-1,4,0,0,1000,1000,1000,1000,0,sVar2,sVar2,sVar2,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  uVar14 = 0;
  local_38 = 0;
  do {
    iVar5 = *(int *)((int)this + 0x14);
    if (iVar5 < local_38) break;
    local_2c = local_3c;
    if (iVar5 < local_38 + 8) {
      local_2c = (iVar5 - local_38) * 0x7d;
    }
    iVar12 = 3;
    iVar10 = (uVar14 & 1) * 0x130;
    iVar11 = iVar10 + 0x20;
    iVar8 = ((int)uVar14 / 2) * 0x58;
    iVar1 = iVar8 + 0xbc;
    if (uVar14 == *(uint *)((int)this + 0x1c)) {
      local_30 = 1000;
      iVar12 = 0;
    }
    else {
      local_30 = 500;
    }
    if ((((*(int *)((int)this + 0x18) != 0) && (*(int *)((int)this + 0xc) == 0)) && (0x1b < iVar5))
       && (((iVar11 < *piVar7 && (*piVar7 < iVar10 + 0x13f)) &&
           ((iVar1 < piVar7[1] && (piVar7[1] < iVar8 + 0x108)))))) {
      iVar12 = local_20[iVar5 >> 2 & 7];
      *(int *)((int)this + 0x14) = iVar5 + 1;
      bVar4 = true;
      if (((*(int *)((int)this + 0x28) == 0) &&
          (iVar5 = FUN_00456410(pvVar15,0), *(int *)(iVar5 + 0x10) != 0)) &&
         ((iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),uVar14), iVar5 != 0 &&
          (*(int *)((int)this + 0x60) == 0)))) {
        *(uint *)((int)this + 0x1c) = uVar14;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
        if (bVar3) {
          iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
          *(int *)((int)this + 0x3c) = iVar5;
          *(undefined4 *)((int)this + 0x28) = 10;
          *(undefined4 *)((int)this + 0x60) = 1;
          *(undefined4 *)((int)this + 0x18) = 0;
          *(undefined4 *)((int)this + 0x48) = 0;
          *(undefined4 *)((int)this + 0x4c) = 1;
          RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
        }
      }
    }
    FUN_00421e10(this,param_1,iVar11,iVar1,local_2c,local_30,uVar14,iVar12);
    local_38 = local_38 + 2;
    uVar14 = uVar14 + 1;
    pcVar13 = SetPacket_exref;
  } while (local_38 < 0xc);
  if ((*(int *)((int)this + 8) == 0) && (*(int *)((int)this + 0x14) < 0x1c)) {
    *(int *)((int)this + 0x14) = *(int *)((int)this + 0x14) + 1;
  }
  if ((0x1b < *(int *)((int)this + 0x14)) && (!bVar4)) {
    *(undefined4 *)((int)this + 0x14) = 0x40;
  }
  iVar5 = *(int *)((int)this + 0xc);
  if (((iVar5 < 1000) || (1999 < iVar5)) &&
     ((*(int *)((int)this + 0x18) == 0 ||
      (((((iVar5 != 0 || (*piVar7 < 0x189)) || (0x1d1 < *piVar7)) ||
        ((piVar7[1] < 0x1c3 || (0x1ce < piVar7[1])))) &&
       (((*(int *)((int)this + 0x18) == 0 ||
         ((iVar5 != 0 || (iVar5 = FUN_00456410(pvVar15,9), *(int *)(iVar5 + 0x10) == 0)))) ||
        (*(int *)((int)this + 0x60) != 0)))))))) {
    uVar6 = 2;
  }
  else {
    uVar6 = 3;
    if ((((*(int *)((int)this + 0x28) == 0) && (*(int *)((int)this + 0xc) == 0)) &&
        ((iVar5 = FUN_00456410(pvVar15,0), *(int *)(iVar5 + 0x10) != 0 ||
         (iVar5 = FUN_00456410(pvVar15,9), *(int *)(iVar5 + 0x10) != 0)))) &&
       (*(int *)((int)this + 0x60) == 0)) {
      *(undefined4 *)((int)this + 0xc) = 1000;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
  }
  piVar7 = (int *)0x4;
  this_01 = (void *)0xffffffff;
  (*pcVar13)(param_1,4,4,uVar6,0xffffffff,4,0,0,1000,1000,1000,1000,0,local_3c,local_3c,local_3c,0,0
            );
  iVar5 = *(int *)((int)this + 0xc);
  if (((iVar5 < 2000) || (2999 < iVar5)) &&
     (((*(int *)((int)this + 0x18) == 0 ||
       (((iVar5 != 0 || (*piVar7 < 0x240)) || (0x278 < *piVar7)))) ||
      ((piVar7[1] < 8 || (0x13 < piVar7[1])))))) {
    uVar6 = 0;
  }
  else {
    uVar6 = 1;
    if (((*(int *)((int)this + 0x28) == 0) && (iVar5 == 0)) &&
       ((iVar5 = FUN_00456410(this_01,0), *(int *)(iVar5 + 0x10) != 0 &&
        (*(int *)((int)this + 0x60) == 0)))) {
      *(undefined4 *)((int)this + 0xc) = 2000;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
  }
  iVar8 = 1000;
  piVar7 = (int *)0x4;
  this_00 = (void *)0xffffffff;
  (*pcVar13)(pvVar15,4,4,uVar6,0xffffffff,4,0,0,1000,1000,1000,1000,0,local_3c,local_3c,local_3c,0,0
            );
  iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
  if (iVar5 != 0) {
    if ((*(int *)((int)this + 0x18) == 0) ||
       (((((*(int *)((int)this + 0xc) != 0 || (*piVar7 < 0x237)) || (0x25b < *piVar7)) ||
         ((piVar7[1] < 0x1c3 || (0x1ce < piVar7[1])))) &&
        (((*(int *)((int)this + 0x18) == 0 ||
          ((*(int *)((int)this + 0xc) != 0 ||
           (iVar5 = FUN_00456410(this_00,10), *(int *)(iVar5 + 0x10) == 0)))) ||
         (*(int *)((int)this + 0x60) != 0)))))) {
      uVar6 = 4;
    }
    else {
      iVar5 = FUN_00456410(this_00,10);
      if ((*(int *)(iVar5 + 0x10) != 0) || (uVar6 = 5, iVar8 != 0)) {
        uVar6 = 4;
      }
      if ((*(int *)((int)this + 0x28) == 0) &&
         ((iVar5 = FUN_00456410(this_00,0), *(int *)(iVar5 + 0x10) != 0 ||
          (iVar5 = FUN_00456410(this_00,10), *(int *)(iVar5 + 0x10) != 0)))) {
        iVar5 = FUN_00423b30(*(void **)((int)this + 0x38),*(int *)((int)this + 0x1c));
        *(int *)((int)this + 0x3c) = iVar5;
        *(undefined4 *)((int)this + 0x28) = 10;
        *(undefined4 *)((int)this + 0x60) = 1;
        *(undefined4 *)((int)this + 0x18) = 0;
        *(undefined4 *)((int)this + 0x48) = 0;
        *(undefined4 *)((int)this + 0x4c) = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      }
    }
    piVar7 = (int *)0x4;
    pvVar15 = (void *)0xffffffff;
    (*pcVar13)(this_01,4,4,uVar6,0xffffffff,4,0,0,1000,1000,1000,1000,0,local_3c,local_3c,local_3c,0
               ,0);
    if ((*(int *)((int)this + 0x18) == 0) ||
       (((((*(int *)((int)this + 0xc) != 0 || (*piVar7 < 0x3e)) || (0xa8 < *piVar7)) ||
         ((piVar7[1] < 0x1c3 || (0x1ce < piVar7[1])))) &&
        (((*(int *)((int)this + 0x18) == 0 ||
          ((*(int *)((int)this + 0xc) != 0 ||
           (iVar5 = FUN_00456410(pvVar15,0xb), *(int *)(iVar5 + 0x10) == 0)))) ||
         (*(int *)((int)this + 0x60) != 0)))))) {
      iVar5 = 6;
    }
    else {
      iVar5 = FUN_00456410(pvVar15,0xb);
      iVar5 = (-(uint)(*(int *)(iVar5 + 0x10) != 0) & 0xfffffff9) + 0xd;
      if ((*(int *)((int)this + 0x28) == 0) &&
         ((iVar8 = FUN_00456410(pvVar15,0), *(int *)(iVar8 + 0x10) != 0 ||
          (iVar8 = FUN_00456410(pvVar15,0xb), *(int *)(iVar8 + 0x10) != 0)))) {
        *(undefined4 *)((int)this + 0x18) = 0;
        *(undefined4 *)((int)this + 0x28) = 1;
        *(undefined4 *)((int)this + 0x60) = 1;
        *(undefined4 *)((int)this + 0x48) = 1;
        *(undefined4 *)((int)this + 0x4c) = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      }
    }
    (*pcVar13)(this_00,4,4,iVar5,0xffffffff,4,0,0,1000,1000,1000,1000,0,local_3c,local_3c,local_3c,0
               ,0);
  }
  return 1;
}



/*
 * Function: FUN_00423890
 * Address: 00423890
 */

void __fastcall FUN_00423890(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[0x5a] = 0;
  return;
}



/*
 * Function: thunk_FUN_004238b0
 * Address: 004238a0
 */

void __fastcall thunk_FUN_004238b0(undefined4 *param_1)

{
  RKC_DIB *this;
  
  if ((HGLOBAL)*param_1 != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)*param_1);
    *param_1 = 0;
  }
  this = (RKC_DIB *)param_1[1];
  param_1[0x5a] = 0;
  if (this != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this);
    FUN_0046787e(this);
    param_1[1] = 0;
  }
  return;
}



/*
 * Function: FUN_004238b0
 * Address: 004238b0
 */

void __fastcall FUN_004238b0(undefined4 *param_1)

{
  RKC_DIB *this;
  
  if ((HGLOBAL)*param_1 != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)*param_1);
    *param_1 = 0;
  }
  this = (RKC_DIB *)param_1[1];
  param_1[0x5a] = 0;
  if (this != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this);
    FUN_0046787e(this);
    param_1[1] = 0;
  }
  return;
}



/*
 * Function: FUN_00423900
 * Address: 00423900
 */

void __thiscall FUN_00423900(void *this,char *param_1)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  
                    /* WARNING: Load size is inaccurate */
  if (*this != (HGLOBAL)0x0) {
    GlobalFree(*this);
    *(undefined4 *)this = 0;
  }
  uVar3 = 0xffffffff;
  pcVar2 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar2 = (char *)GlobalAlloc(0x40,uVar3);
  *(char **)this = pcVar2;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar2 = *param_1;
    param_1 = param_1 + 1;
    pcVar2 = pcVar2 + 1;
  }
  return;
}



/*
 * Function: thunk_FUN_00423970
 * Address: 00423960
 */

void __fastcall thunk_FUN_00423970(int *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)*param_1;
  if (puVar2 == (undefined4 *)0x0) {
    *param_1 = 0;
    return;
  }
  do {
    puVar1 = (undefined4 *)puVar2[0x5a];
    if (puVar2 != (undefined4 *)0x0) {
      thunk_FUN_004238b0(puVar2);
      FUN_0046787e(puVar2);
    }
    puVar2 = puVar1;
  } while (puVar1 != (undefined4 *)0x0);
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_00423970
 * Address: 00423970
 */

void __fastcall FUN_00423970(int *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)*param_1;
  if (puVar2 == (undefined4 *)0x0) {
    *param_1 = 0;
    return;
  }
  do {
    puVar1 = (undefined4 *)puVar2[0x5a];
    if (puVar2 != (undefined4 *)0x0) {
      thunk_FUN_004238b0(puVar2);
      FUN_0046787e(puVar2);
    }
    puVar2 = puVar1;
  } while (puVar1 != (undefined4 *)0x0);
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_004239b0
 * Address: 004239b0
 */

undefined4 __fastcall FUN_004239b0(int *param_1)

{
  FILE *pFVar1;
  undefined4 *puVar2;
  RKC_DIB *pRVar3;
  int iVar4;
  int iVar5;
  void *this;
  char local_120 [16];
  char local_110 [260];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471d8c;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  FUN_00423970(param_1);
  iVar5 = 0;
  do {
    FUN_00467d51(local_110,(byte *)s_Save__04d_Ssv_0047d144);
    pFVar1 = (FILE *)FUN_00467d3e(local_110,&DAT_0047d140);
    this = (void *)0x0;
    if (pFVar1 != (FILE *)0x0) {
      puVar2 = (undefined4 *)operator_new(0x16c);
      local_4 = 0;
      if (puVar2 != (undefined4 *)0x0) {
        this = (void *)FUN_00423890(puVar2);
      }
      local_4 = 0xffffffff;
      FUN_00423900(this,local_110);
      FUN_0046841f(local_120,0x10,1,(int *)pFVar1);
      FUN_0046841f((char *)((int)this + 8),0x160,1,(int *)pFVar1);
      FUN_00467c90(pFVar1);
      FUN_00467d51(local_110,(byte *)s_Save__04d_Bmp_004801fc);
      pRVar3 = (RKC_DIB *)operator_new(0xc);
      local_4 = 1;
      if (pRVar3 == (RKC_DIB *)0x0) {
        pRVar3 = (RKC_DIB *)0x0;
      }
      else {
        pRVar3 = (RKC_DIB *)RKC_DIB::RKC_DIB(pRVar3);
      }
      local_4 = 0xffffffff;
      iVar4 = RKC_DIB::ReadFile(pRVar3,local_110,-1);
      if (iVar4 == 1) {
        *(RKC_DIB **)((int)this + 4) = pRVar3;
      }
      else if (pRVar3 != (RKC_DIB *)0x0) {
        RKC_DIB::~RKC_DIB(pRVar3);
        FUN_0046787e(pRVar3);
      }
      if (*param_1 == 0) {
        *param_1 = (int)this;
      }
      else {
        iVar4 = FUN_00423c80(param_1);
        iVar4 = FUN_00423b30(param_1,iVar4 + -1);
        *(void **)(iVar4 + 0x168) = this;
      }
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 6);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00423b30
 * Address: 00423b30
 */

int __thiscall FUN_00423b30(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  if (-1 < param_1) {
                    /* WARNING: Load size is inaccurate */
    iVar1 = *this;
    for (; (iVar1 != 0 && (param_1 != iVar2)); iVar2 = iVar2 + 1) {
      iVar1 = *(int *)(iVar1 + 0x168);
    }
    return iVar1;
  }
  return 0;
}



/*
 * Function: FUN_00423b60
 * Address: 00423b60
 */

BOOL __thiscall FUN_00423b60(undefined4 *param_1_00,int param_1)

{
  char cVar1;
  undefined4 *puVar2;
  int iVar3;
  LPCSTR lpFileName;
  char *pcVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  char *pcVar8;
  BOOL local_10c;
  undefined4 *local_108;
  char acStack_104 [260];
  
  local_10c = 0;
  local_108 = param_1_00;
  puVar2 = (undefined4 *)FUN_00423b30(param_1_00,param_1);
  if (puVar2 == (undefined4 *)0x0) {
    return 0;
  }
  iVar3 = FUN_00427b20(puVar2);
  if (iVar3 != 0) {
    lpFileName = (LPCSTR)FUN_00427b20(puVar2);
    local_10c = DeleteFileA(lpFileName);
  }
  pcVar4 = (char *)FUN_00427b20(puVar2);
  uVar5 = 0xffffffff;
  do {
    pcVar8 = pcVar4;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar4 + 1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  pcVar4 = pcVar8 + -uVar5;
  pcVar8 = acStack_104;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar4;
    pcVar4 = pcVar4 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar4;
    pcVar4 = pcVar4 + 1;
    pcVar8 = pcVar8 + 1;
  }
  uVar5 = 0xffffffff;
  pcVar4 = acStack_104;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (cVar1 != '\0');
  acStack_104[~uVar5 - 4] = '\0';
  uVar5 = 0xffffffff;
  pcVar4 = &DAT_0048020c;
  do {
    pcVar8 = pcVar4;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar4 + 1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar4 = acStack_104;
  do {
    pcVar7 = pcVar4;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar4 + 1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar7;
  } while (cVar1 != '\0');
  pcVar4 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar4;
    pcVar4 = pcVar4 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar4;
    pcVar4 = pcVar4 + 1;
    pcVar8 = pcVar8 + 1;
  }
  DeleteFileA(acStack_104);
  if (param_1 == 0) {
    *local_108 = puVar2[0x5a];
  }
  else {
    iVar3 = FUN_00423b30(local_108,param_1 + -1);
    *(undefined4 *)(iVar3 + 0x168) = puVar2[0x5a];
  }
  thunk_FUN_004238b0(puVar2);
  FUN_0046787e(puVar2);
  return local_10c;
}



/*
 * Function: FUN_00423c80
 * Address: 00423c80
 */

int __fastcall FUN_00423c80(int *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x168)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: FUN_00423ca0
 * Address: 00423ca0
 */

undefined4 __thiscall FUN_00423ca0(int *param_1_00,short *param_1)

{
  char cVar1;
  int iVar2;
  void *this;
  undefined4 uVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  long lVar8;
  char *pcVar9;
  char *pcVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  char *pcVar14;
  code *pcVar15;
  uchar uVar16;
  uchar uVar17;
  uchar uVar18;
  short sVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  long lVar23;
  long lStack_140;
  long local_138;
  long lStack_134;
  undefined uStack_12c;
  undefined uStack_12b;
  undefined uStack_12a;
  undefined uStack_128;
  undefined uStack_127;
  undefined uStack_126;
  undefined uStack_124;
  undefined uStack_123;
  undefined uStack_122;
  char *local_120;
  int iStack_11c;
  long lStack_118;
  tagRECT tStack_114;
  char acStack_104 [260];
  
  iVar13 = 1000;
  iVar5 = param_1_00[3];
  local_120 = (char *)0x0;
  if (iVar5 == 0x3fe) {
    uVar3 = FUN_004023d0(&DAT_00482770,0,0);
    return uVar3;
  }
  if (iVar5 == 0x7e6) {
    PostMessageA(DAT_00482778,0x406,0,0);
    return 1;
  }
  if (0 < iVar5) {
    param_1_00[3] = iVar5 + 1;
  }
  FUN_00401460(0x482770);
  this = DAT_0048d8b4;
  piVar4 = (int *)FUN_00456440((int)DAT_0048d8b4);
  if (*param_1_00 < param_1_00[1]) {
    param_1_00[1] = *param_1_00;
  }
  if (param_1_00[2] == 0) {
    iVar5 = param_1_00[3];
    if ((iVar5 != 0) && (iVar13 = 1000 - ((iVar5 % 1000) * 1000) / 0x14, iVar13 < 0)) {
      iVar13 = 0;
    }
    if (5 < iVar5 % 1000) {
      *param_1_00 = ((5 - iVar5 % 1000) * 1000) / 0xf + 1000;
    }
    if (*param_1_00 < 0) {
      *param_1_00 = 0;
    }
    if (*param_1_00 < param_1_00[1]) {
      param_1_00[1] = *param_1_00;
    }
    if (param_1_00[1] < iVar13) {
      iVar13 = param_1_00[1];
    }
  }
  else {
    iVar13 = param_1_00[1];
    param_1_00[0x12] = 0;
  }
  if ((param_1_00[2] == 0) && (param_1_00[10] == 0)) {
    iVar5 = FUN_00456410(this,4);
    if (((*(int *)(iVar5 + 0x10) != 0) ||
        (iVar5 = FUN_00456410(this,6), *(int *)(iVar5 + 0x10) != 0)) &&
       (param_1_00[0x13] = 1, param_1_00[0x12] != 0)) {
      param_1_00[0x12] = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
    iVar5 = FUN_00456410(this,5);
    if (((*(int *)(iVar5 + 0x10) != 0) ||
        (iVar5 = FUN_00456410(this,7), *(int *)(iVar5 + 0x10) != 0)) &&
       (param_1_00[0x13] = 1, param_1_00[0x12] != 1)) {
      param_1_00[0x12] = 1;
      RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    }
  }
  pcVar15 = SetPacket_exref;
  sVar19 = *(short *)(param_1_00 + 1);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,6,4,0x29,-1,5,0,0,1000,1000,1000,1000,0,sVar19,sVar19,sVar19
             ,(tagRECT *)0x0,(RKC_DIB *)0x0);
  sVar19 = *(short *)(param_1_00 + 1);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,6,4,0x24,-1,5,0,0,1000,1000,1000,1000,0,sVar19,sVar19,sVar19
             ,(tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar5 = param_1_00[3];
  if ((((iVar5 < 1000) || (1999 < iVar5)) &&
      (((param_1_00[6] == 0 || ((iVar5 != 0 || (*piVar4 < 0x189)))) ||
       ((0x1d1 < *piVar4 || ((piVar4[1] < 0x1c3 || (0x1ce < piVar4[1])))))))) &&
     ((param_1_00[6] == 0 ||
      ((iVar5 != 0 || (iVar5 = FUN_00456410(this,9), *(int *)(iVar5 + 0x10) == 0)))))) {
    local_138 = 2;
  }
  else {
    local_138 = 3;
    if ((param_1_00[3] == 0) &&
       ((iVar5 = FUN_00456410(this,0), *(int *)(iVar5 + 0x10) != 0 ||
        (iVar5 = FUN_00456410(this,9), *(int *)(iVar5 + 0x10) != 0)))) {
      if (param_1_00[0xd] != 0) {
        iVar5 = FUN_00456230(param_1_00[0xd]);
        FUN_00457e60(DAT_0048ce10,iVar5);
        param_1_00[0xd] = 0;
        PostMessageA(DAT_00482778,0x405,0,0);
        PostMessageA(DAT_00482778,0x403,0,0);
      }
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      if (param_1_00[10] == 0) {
        param_1_00[3] = 1000;
      }
      else {
        param_1_00[4] = 2000;
        param_1_00[10] = 0;
        param_1_00[0x18] = 1;
        param_1_00[0x12] = 0;
      }
    }
  }
  sVar19 = (short)iVar13;
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,4,4,local_138,-1,4,0,0,1000,1000,1000,1000,0,sVar19,sVar19,
             sVar19,(tagRECT *)0x0,(RKC_DIB *)0x0);
  iVar5 = param_1_00[3];
  if (((iVar5 < 2000) || (2999 < iVar5)) &&
     ((param_1_00[6] == 0 ||
      ((((iVar5 != 0 || (*piVar4 < 0x240)) || (0x278 < *piVar4)) ||
       ((piVar4[1] < 8 || (0x13 < piVar4[1])))))))) {
    local_138 = 0;
  }
  else {
    local_138 = 1;
    if ((iVar5 == 0) && (iVar5 = FUN_00456410(this,0), *(int *)(iVar5 + 0x10) != 0)) {
      if (param_1_00[0xd] != 0) {
        iVar5 = FUN_00456230(param_1_00[0xd]);
        FUN_00457e60(DAT_0048ce10,iVar5);
        param_1_00[0xd] = 0;
        PostMessageA(DAT_00482778,0x405,0,0);
        PostMessageA(DAT_00482778,0x403,0,0);
      }
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      param_1_00[3] = 2000;
    }
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,4,4,local_138,-1,4,0,0,1000,1000,1000,1000,0,sVar19,sVar19,
             sVar19,(tagRECT *)0x0,(RKC_DIB *)0x0);
  if (param_1_00[10] == 0) {
    lStack_140 = 0;
    lStack_134 = iVar13;
    if (1999 < param_1_00[4]) {
      iVar5 = FUN_00456450(param_1_00[0xf]);
      if (*(int *)(iVar5 + 0x18) == 1) {
        lStack_140 = ((2000 - param_1_00[4]) * 0x61) / 0x14 + 0x61;
      }
      else {
        lStack_134 = ((param_1_00[4] % 1000) * 1000) / 0x14;
      }
    }
    iVar5 = *piVar4;
    if ((((0xa7 < iVar5) && (iVar5 < 0x12f)) &&
        ((iVar6 = piVar4[1], 0x6a < iVar6 && (iVar6 < 0x17b)))) &&
       ((param_1_00[0x14] != iVar5 || (param_1_00[0x15] != iVar6)))) {
      param_1_00[0x13] = 0;
    }
    if (((((param_1_00[3] == 0) && (param_1_00[4] == 0)) && (0xa7 < *piVar4)) &&
        (((*piVar4 < 0x12f && (0x6a < piVar4[1])) &&
         ((piVar4[1] < 0x17b &&
          ((param_1_00[0x13] == 0 && (param_1_00[0x12] = 0, param_1_00[10] == 0)))))))) &&
       (iVar5 = FUN_00456410(this,0), *(int *)(iVar5 + 0x10) != 0)) {
      iVar5 = FUN_00456450(param_1_00[0xf]);
      *(undefined4 *)(iVar5 + 0x18) = 1;
      param_1_00[4] = 1000;
      param_1_00[10] = 1;
      param_1_00[0x18] = 1;
      param_1_00[0x12] = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)param_1,4,4,8 - (uint)(param_1_00[0x12] != 0),-1,4,lStack_140,0,
               1000,1000,lStack_134,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)param_1,4,4,0xb,-1,4,lStack_140,0,1000,1000,lStack_134 / 2,1000,0,
               1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    iVar5 = param_1_00[4];
    lStack_140 = 0;
    if (1999 < iVar5) {
      iVar6 = FUN_00456450(param_1_00[0xf]);
      iVar5 = param_1_00[4];
      if (*(int *)(iVar6 + 0x18) == 0) {
        lStack_140 = ((iVar5 + -2000) * 0x61) / 0x14 + -0x61;
      }
      else {
        iVar13 = ((iVar5 % 1000) * 1000) / 0x14;
      }
    }
    iVar6 = *piVar4;
    if (((((0x185 < iVar6) && (iVar6 < 0x1ea)) && (iVar2 = piVar4[1], 0x6a < iVar2)) &&
        (iVar2 < 0x177)) && ((param_1_00[0x14] != iVar6 || (param_1_00[0x15] != iVar2)))) {
      param_1_00[0x13] = 0;
    }
    if ((((param_1_00[3] == 0) && (iVar5 == 0)) &&
        ((0x185 < *piVar4 && (((*piVar4 < 0x1ea && (0x6a < piVar4[1])) && (piVar4[1] < 0x177))))))
       && (((param_1_00[0x13] == 0 && (param_1_00[0x12] = 1, param_1_00[10] == 0)) &&
           (iVar5 = FUN_00456410(this,0), *(int *)(iVar5 + 0x10) != 0)))) {
      iVar5 = FUN_00456450(param_1_00[0xf]);
      *(undefined4 *)(iVar5 + 0x18) = 0;
      param_1_00[4] = 1000;
      param_1_00[10] = 1;
      param_1_00[0x18] = 1;
      param_1_00[0x12] = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)param_1,4,4,10 - (uint)(param_1_00[0x12] != 1),-1,4,lStack_140,0,
               1000,1000,iVar13,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)param_1,4,4,0xc,-1,4,lStack_140,0,1000,1000,iVar13 / 2,1000,0,1000
               ,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    if ((param_1_00[10] == 0) && (iVar5 = FUN_00456410(this,10), *(int *)(iVar5 + 0x10) != 0)) {
      if (param_1_00[0x12] == 0) {
        iVar5 = FUN_00456450(param_1_00[0xf]);
        *(undefined4 *)(iVar5 + 0x18) = 1;
        param_1_00[4] = 1000;
        param_1_00[10] = 1;
        param_1_00[0x12] = 0;
        param_1_00[0x18] = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      }
      else {
        iVar5 = FUN_00456450(param_1_00[0xf]);
        *(undefined4 *)(iVar5 + 0x18) = 0;
        param_1_00[4] = 1000;
        param_1_00[10] = 1;
        param_1_00[0x12] = 0;
        param_1_00[0x18] = 1;
        RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      }
    }
    iVar5 = param_1_00[4];
    if (1999 < iVar5) {
      if (iVar5 < 0x7e4) {
        param_1_00[4] = iVar5 + 1;
      }
      else {
        param_1_00[4] = 0;
      }
    }
    sVar19 = *(short *)(param_1_00 + 1);
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)param_1,4,4,0x22,-1,4,0,0,1000,1000,1000,1000,0,sVar19,sVar19,
               sVar19,(tagRECT *)0x0,(RKC_DIB *)0x0);
    if (param_1_00[10] == 1) {
      piVar7 = FUN_00457db0(DAT_0048ce10);
      param_1_00[0xd] = (int)piVar7;
      uStack_126 = 0x80;
      uStack_127 = 0x80;
      uStack_128 = 0x80;
      uStack_12a = 0xff;
      uStack_12b = 0xff;
      uStack_12c = 0xff;
      uStack_124 = 0xff;
      uStack_122 = 0;
      uStack_123 = 0;
      RKC_UPDIB::GetFontParam(DAT_00482d10,0,&lStack_118,&iStack_11c);
      SetRect(&tStack_114,0xbe,0x197,0x82,iStack_11c + 8);
      FUN_00456550((void *)param_1_00[0xd],4,-0x7fffffbf,0,&tStack_114.left,(int *)&uStack_128,
                   (int *)&uStack_12c,&DAT_0048d9f0,(int *)&uStack_124,(int)(param_1_00 + 0xc),0,
                   (undefined4 *)0x0,(undefined4 *)0x0,0,500);
      PostMessageA(DAT_00482778,0x402,0,0);
    }
    goto LAB_00424d3f;
  }
  if (param_1_00[4] == 0) {
    lStack_140 = 0x61;
  }
  else {
    lStack_140 = ((param_1_00[4] + -1000) * 0x61) / 0x14;
    iVar5 = FUN_00456450(param_1_00[0xf]);
    if (*(int *)(iVar5 + 0x18) == 1) {
      local_138 = 9;
      lStack_134 = 0xc;
    }
    else {
      local_138 = 7;
      lStack_134 = 0xb;
    }
    if (param_1_00[4] < 0x3fc) {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)param_1,4,4,local_138,-1,4,0,0,1000,1000,
                 1000 - ((param_1_00[4] % 1000) * 1000) / 0x14,1000,0,1000,1000,1000,(tagRECT *)0x0,
                 (RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)param_1,4,4,lStack_134,-1,4,0,0,1000,1000,
                 (1000 - ((param_1_00[4] % 1000) * 1000) / 0x14) / 2,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      param_1_00[4] = param_1_00[4] + 1;
    }
    else {
      param_1_00[4] = 0;
    }
  }
  iVar5 = FUN_00456450(param_1_00[0xf]);
  if (*(int *)(iVar5 + 0x18) == 0) {
    lVar8 = 10;
    lStack_140 = -lStack_140;
    lStack_134 = 0xc;
  }
  else {
    lVar8 = 8;
    lStack_134 = 0xb;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,4,4,lVar8,-1,4,lStack_140,0,1000,1000,1000,1000,0,sVar19,
             sVar19,sVar19,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,4,4,lStack_134,-1,4,lStack_140,0,1000,1000,500,1000,0,sVar19
             ,sVar19,sVar19,(tagRECT *)0x0,(RKC_DIB *)0x0);
  sVar19 = *(short *)(param_1_00 + 1);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,5,4,0x23,-1,4,0,0,1000,1000,1000,1000,0,sVar19,sVar19,sVar19
             ,(tagRECT *)0x0,(RKC_DIB *)0x0);
  if (param_1_00[3] == 0) {
    if (param_1_00[6] == 0) {
      lVar23 = 1;
      lVar22 = 0;
      lVar21 = 0;
      lVar20 = 0;
      uVar18 = '\0';
      uVar17 = '\0';
      uVar16 = '\0';
      lVar8 = iVar13;
      pcVar10 = (char *)FUN_00456450(param_1_00[0xf]);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,(long)param_1,5,0,0xc3,0x19c,pcVar10,uVar16,uVar17,uVar18,lVar20,
                 lVar21,lVar22,lVar23,lVar8);
      lVar23 = 1;
      lVar22 = 0;
      lVar21 = 0;
      lVar20 = 0;
      uVar18 = 0xff;
      uVar17 = 0xff;
      uVar16 = 0xff;
      lVar8 = iVar13;
      pcVar10 = (char *)FUN_00456450(param_1_00[0xf]);
      RKC_UPDIB::SetStringsPacket
                (DAT_00482d10,(long)param_1,5,0,0xc2,0x19b,pcVar10,uVar16,uVar17,uVar18,lVar20,
                 lVar21,lVar22,lVar23,lVar8);
    }
    else {
      iVar5 = FUN_00434cd0((int)DAT_0048ce10);
      if (iVar5 == 0) {
        param_1_00[0xd] = 0;
        if ((char *)param_1_00[0xc] == (char *)0x0) {
          param_1_00[4] = 2000;
          param_1_00[10] = 0;
          param_1_00[0x12] = 0;
          param_1_00[0x18] = 1;
        }
        else {
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,(long)param_1,5,0,0xc3,0x19c,(char *)param_1_00[0xc],'\0','\0',
                     '\0',0,0,0,1,iVar13);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,(long)param_1,5,0,0xc2,0x19b,(char *)param_1_00[0xc],0xff,0xff,
                     0xff,0,0,0,1,iVar13);
          pcVar10 = (char *)param_1_00[0xc];
          pcVar9 = (char *)FUN_00456450(param_1_00[0xf]);
          uVar11 = 0xffffffff;
          do {
            pcVar14 = pcVar10;
            if (uVar11 == 0) break;
            uVar11 = uVar11 - 1;
            pcVar14 = pcVar10 + 1;
            cVar1 = *pcVar10;
            pcVar10 = pcVar14;
          } while (cVar1 != '\0');
          uVar11 = ~uVar11;
          pcVar10 = pcVar14 + -uVar11;
          for (uVar12 = uVar11 >> 2; uVar12 != 0; uVar12 = uVar12 - 1) {
            *(undefined4 *)pcVar9 = *(undefined4 *)pcVar10;
            pcVar10 = pcVar10 + 4;
            pcVar9 = pcVar9 + 4;
          }
          for (uVar11 = uVar11 & 3; uVar11 != 0; uVar11 = uVar11 - 1) {
            *pcVar9 = *pcVar10;
            pcVar10 = pcVar10 + 1;
            pcVar9 = pcVar9 + 1;
          }
          iVar5 = FUN_00456450(param_1_00[0xf]);
          *(undefined4 *)(iVar5 + 0x24) = 1;
          iVar5 = FUN_00456450(param_1_00[0xf]);
          *(undefined4 *)(iVar5 + 0x1c) = 0x10;
          param_1_00[10] = 10;
          param_1_00[0x18] = 1;
          param_1_00[0x12] = 0;
          param_1_00[0x13] = 1;
          param_1_00[6] = 0;
          GlobalFree((HGLOBAL)param_1_00[0xc]);
          param_1_00[0xc] = 0;
          RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
          pcVar15 = SetPacket_exref;
        }
      }
      else {
        FUN_00456bb0((void *)param_1_00[0xd],param_1);
      }
    }
  }
  if (param_1_00[6] == 0) {
LAB_00424cf1:
    local_138 = 4;
  }
  else {
    if (((void *)param_1_00[0xd] == (void *)0x0) ||
       (iVar5 = FUN_00457630((void *)param_1_00[0xd],&local_120), iVar5 < 1)) goto LAB_00424d3f;
    if (((param_1_00[6] == 0) || (((param_1_00[3] != 0 || (*piVar4 < 0x237)) || (0x25b < *piVar4))))
       || ((piVar4[1] < 0x1c3 || (0x1ce < piVar4[1])))) goto LAB_00424cf1;
    local_138 = 5;
    iVar5 = FUN_00456410(this,0);
    if (*(int *)(iVar5 + 0x10) != 0) {
      iVar5 = FUN_00456230(param_1_00[0xd]);
      FUN_00457e60(DAT_0048ce10,iVar5);
      param_1_00[0xd] = 0;
      PostMessageA(DAT_00482778,0x405,0,0);
      PostMessageA(DAT_00482778,0x403,0,0);
      pcVar10 = local_120;
      pcVar9 = (char *)FUN_00456450(param_1_00[0xf]);
      uVar11 = 0xffffffff;
      do {
        pcVar14 = pcVar10;
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        pcVar14 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar14;
      } while (cVar1 != '\0');
      uVar11 = ~uVar11;
      pcVar10 = pcVar14 + -uVar11;
      for (uVar12 = uVar11 >> 2; uVar12 != 0; uVar12 = uVar12 - 1) {
        *(undefined4 *)pcVar9 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar9 = pcVar9 + 4;
      }
      for (uVar11 = uVar11 & 3; uVar11 != 0; uVar11 = uVar11 - 1) {
        *pcVar9 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar9 = pcVar9 + 1;
      }
      iVar5 = FUN_00456450(param_1_00[0xf]);
      *(undefined4 *)(iVar5 + 0x24) = 1;
      iVar5 = FUN_00456450(param_1_00[0xf]);
      *(undefined4 *)(iVar5 + 0x1c) = 0x10;
      param_1_00[10] = 10;
      param_1_00[0x18] = 1;
      param_1_00[0x12] = 0;
      param_1_00[0x13] = 1;
      param_1_00[6] = 0;
      pcVar10 = (char *)FUN_00427b20((undefined4 *)param_1_00[0xf]);
      uVar11 = 0xffffffff;
      do {
        pcVar9 = pcVar10;
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      uVar11 = ~uVar11;
      pcVar10 = pcVar9 + -uVar11;
      pcVar9 = acStack_104;
      for (uVar12 = uVar11 >> 2; uVar12 != 0; uVar12 = uVar12 - 1) {
        *(undefined4 *)pcVar9 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar9 = pcVar9 + 4;
      }
      for (uVar11 = uVar11 & 3; uVar11 != 0; uVar11 = uVar11 - 1) {
        *pcVar9 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar9 = pcVar9 + 1;
      }
      uVar11 = 0xffffffff;
      pcVar10 = acStack_104;
      do {
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar10 + 1;
      } while (cVar1 != '\0');
      acStack_104[~uVar11 - 4] = '\0';
      uVar11 = 0xffffffff;
      pcVar10 = &DAT_0048020c;
      do {
        pcVar9 = pcVar10;
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        pcVar9 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar9;
      } while (cVar1 != '\0');
      uVar11 = ~uVar11;
      iVar5 = -1;
      pcVar10 = acStack_104;
      do {
        pcVar14 = pcVar10;
        if (iVar5 == 0) break;
        iVar5 = iVar5 + -1;
        pcVar14 = pcVar10 + 1;
        cVar1 = *pcVar10;
        pcVar10 = pcVar14;
      } while (cVar1 != '\0');
      pcVar10 = pcVar9 + -uVar11;
      pcVar9 = pcVar14 + -1;
      for (uVar12 = uVar11 >> 2; uVar12 != 0; uVar12 = uVar12 - 1) {
        *(undefined4 *)pcVar9 = *(undefined4 *)pcVar10;
        pcVar10 = pcVar10 + 4;
        pcVar9 = pcVar9 + 4;
      }
      for (uVar11 = uVar11 & 3; uVar11 != 0; uVar11 = uVar11 - 1) {
        *pcVar9 = *pcVar10;
        pcVar10 = pcVar10 + 1;
        pcVar9 = pcVar9 + 1;
      }
      DeleteFileA(acStack_104);
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
      pcVar15 = SetPacket_exref;
    }
  }
  (*pcVar15)(param_1,4,4,local_138,0xffffffff,4,0,0,1000,1000,1000,1000,0,iVar13,iVar13,iVar13,0,0);
  if (local_120 != (char *)0x0) {
    GlobalFree(local_120);
  }
LAB_00424d3f:
  if (param_1_00[10] != 10) {
    param_1_00[0x14] = *piVar4;
    param_1_00[0x15] = piVar4[1];
  }
  FUN_00401480(0x482770);
  return 1;
}



/*
 * Function: FUN_00424d80
 * Address: 00424d80
 */

undefined4 __thiscall FUN_00424d80(void *this,long param_1)

{
  void *this_00;
  int *piVar1;
  int iVar2;
  char *pcVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int iVar7;
  int iVar8;
  undefined uStack_28;
  undefined uStack_27;
  undefined uStack_26;
  undefined uStack_24;
  undefined uStack_23;
  undefined uStack_22;
  undefined uStack_20;
  undefined uStack_1f;
  undefined uStack_1e;
  undefined4 local_1c;
  int iStack_18;
  long lStack_14;
  tagRECT tStack_10;
  
  this_00 = DAT_0048d8b4;
  local_1c = 1;
  piVar1 = (int *)FUN_00456440((int)DAT_0048d8b4);
  iVar2 = FUN_00456410(this_00,4);
  if (((*(int *)(iVar2 + 0x10) == 1) && (*(int *)((int)this + 0x60) == 0)) &&
     (*(int *)((int)this + 0x48) != 0)) {
    *(int *)((int)this + 0x48) = *(int *)((int)this + 0x48) + -1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    *(undefined4 *)((int)this + 0x4c) = 1;
  }
  iVar2 = FUN_00456410(this_00,5);
  if (((*(int *)(iVar2 + 0x10) == 1) && (*(int *)((int)this + 0x60) == 0)) &&
     (*(int *)((int)this + 0x48) != 2)) {
    *(int *)((int)this + 0x48) = *(int *)((int)this + 0x48) + 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    *(undefined4 *)((int)this + 0x4c) = 1;
  }
  iVar2 = *piVar1;
  if ((((0xdb < iVar2) && (iVar2 < 0x1a5)) &&
      ((iVar7 = piVar1[1], 0xcf < iVar7 && ((iVar7 < 0xdc && (*(int *)((int)this + 0x4c) == 1))))))
     && ((*(int *)((int)this + 0x50) != iVar2 || (*(int *)((int)this + 0x54) != iVar7)))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if ((((0xdb < *piVar1) && (*piVar1 < 0x1a5)) && (0xcf < piVar1[1])) &&
     ((piVar1[1] < 0xdc && (*(int *)((int)this + 0x4c) == 0)))) {
    *(undefined4 *)((int)this + 0x48) = 0;
    iVar2 = FUN_00456410(this_00,0);
    if ((*(int *)(iVar2 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) {
      *(undefined4 *)((int)this + 0x28) = 0xb;
      *(undefined4 *)((int)this + 0x60) = 1;
      local_1c = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
  }
  iVar2 = *piVar1;
  if (((0xdd < iVar2) && (iVar2 < 0x1a2)) &&
     (((iVar7 = piVar1[1], 0xf1 < iVar7 && ((iVar7 < 0xfe && (*(int *)((int)this + 0x4c) == 1)))) &&
      ((*(int *)((int)this + 0x50) != iVar2 || (*(int *)((int)this + 0x54) != iVar7)))))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if ((((0xdd < *piVar1) && (*piVar1 < 0x1a2)) && (0xf1 < piVar1[1])) &&
     ((piVar1[1] < 0xfe && (*(int *)((int)this + 0x4c) == 0)))) {
    *(undefined4 *)((int)this + 0x48) = 1;
    iVar2 = FUN_00456410(this_00,0);
    if ((*(int *)(iVar2 + 0x10) != 0) && (*(int *)((int)this + 0x60) == 0)) {
      *(undefined4 *)((int)this + 0x28) = 0x14;
      *(undefined4 *)((int)this + 0x20) = 0;
      *(undefined4 *)((int)this + 0x60) = 1;
      local_1c = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
    }
  }
  iVar2 = *piVar1;
  if ((((0x11b < iVar2) && (iVar2 < 0x165)) &&
      ((iVar7 = piVar1[1], 0x116 < iVar7 && ((iVar7 < 0x123 && (*(int *)((int)this + 0x4c) == 1)))))
      ) && ((*(int *)((int)this + 0x50) != iVar2 || (*(int *)((int)this + 0x54) != iVar7)))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if (((((0x11b < *piVar1) && (*piVar1 < 0x165)) && (0x116 < piVar1[1])) &&
      ((piVar1[1] < 0x123 && (*(int *)((int)this + 0x4c) == 0)))) ||
     (iVar2 = FUN_00456410(this_00,9), *(int *)(iVar2 + 0x10) != 0)) {
    *(undefined4 *)((int)this + 0x48) = 2;
    iVar2 = FUN_00456410(this_00,0);
    if (((*(int *)(iVar2 + 0x10) != 0) ||
        (iVar2 = FUN_00456410(this_00,9), *(int *)(iVar2 + 0x10) != 0)) &&
       (*(int *)((int)this + 0x60) == 0)) {
      if (*(int *)((int)this + 0x24) == 0) {
        *(undefined4 *)((int)this + 0x28) = 1;
        *(undefined4 *)((int)this + 0x60) = 1;
        piVar1 = FUN_00457db0(DAT_0048ce10);
        *(int **)((int)this + 0x34) = piVar1;
        uStack_1e = 0x80;
        uStack_1f = 0x80;
        uStack_20 = 0x80;
        uStack_22 = 0xff;
        uStack_23 = 0xff;
        uStack_24 = 0xff;
        uStack_28 = 0xff;
        uStack_26 = 0;
        uStack_27 = 0;
        RKC_UPDIB::GetFontParam(DAT_00482d10,0,&lStack_14,&iStack_18);
        SetRect(&tStack_10,0xbe,0x197,0x82,iStack_18 + 8);
        iVar8 = 500;
        iVar7 = 0;
        puVar6 = (undefined4 *)0x0;
        puVar5 = (undefined4 *)0x0;
        iVar2 = (int)this + 0x30;
        uVar4 = 0;
        piVar1 = (int *)&uStack_28;
        pcVar3 = (char *)FUN_00456450(*(int *)((int)this + 0x3c));
        FUN_00456550(*(void **)((int)this + 0x34),4,-0x7fffffbf,0,&tStack_10.left,(int *)&uStack_20,
                     (int *)&uStack_24,pcVar3,piVar1,iVar2,uVar4,puVar5,puVar6,iVar7,iVar8);
      }
      else {
        *(undefined4 *)((int)this + 0x28) = 0;
        *(undefined4 *)((int)this + 0x60) = 1;
      }
      *(undefined4 *)((int)this + 0x18) = 1;
      RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
      return 0;
    }
  }
  iVar2 = FUN_00456410(this_00,10);
  if ((*(int *)(iVar2 + 0x10) == 1) && (*(int *)((int)this + 0x60) == 0)) {
    iVar2 = *(int *)((int)this + 0x48);
    if (iVar2 == 0) {
      *(undefined4 *)((int)this + 0x28) = 0xb;
      *(undefined4 *)((int)this + 0x60) = 1;
    }
    else {
      if (iVar2 != 1) {
        if (iVar2 == 2) {
          if (*(int *)((int)this + 0x24) == 0) {
            *(undefined4 *)((int)this + 0x28) = 1;
            *(undefined4 *)((int)this + 0x60) = 1;
            piVar1 = FUN_00457db0(DAT_0048ce10);
            *(int **)((int)this + 0x34) = piVar1;
            uStack_1e = 0x80;
            uStack_1f = 0x80;
            uStack_20 = 0x80;
            uStack_22 = 0xff;
            uStack_23 = 0xff;
            uStack_24 = 0xff;
            uStack_28 = 0xff;
            uStack_26 = 0;
            uStack_27 = 0;
            RKC_UPDIB::GetFontParam(DAT_00482d10,0,&lStack_14,&iStack_18);
            SetRect(&tStack_10,0xbe,0x197,0x82,iStack_18 + 8);
            iVar8 = 500;
            iVar7 = 0;
            puVar6 = (undefined4 *)0x0;
            puVar5 = (undefined4 *)0x0;
            iVar2 = (int)this + 0x30;
            uVar4 = 0;
            piVar1 = (int *)&uStack_28;
            pcVar3 = (char *)FUN_00456450(*(int *)((int)this + 0x3c));
            FUN_00456550(*(void **)((int)this + 0x34),4,-0x7fffffbf,0,&tStack_10.left,
                         (int *)&uStack_20,(int *)&uStack_24,pcVar3,piVar1,iVar2,uVar4,puVar5,puVar6
                         ,iVar7,iVar8);
          }
          else {
            *(undefined4 *)((int)this + 0x28) = 0;
            *(undefined4 *)((int)this + 0x60) = 1;
          }
          *(undefined4 *)((int)this + 0x18) = 1;
          RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
          return 0;
        }
        goto LAB_00425274;
      }
      *(undefined4 *)((int)this + 0x20) = 0;
      *(undefined4 *)((int)this + 0x28) = 0x14;
      *(undefined4 *)((int)this + 0x60) = 1;
    }
    local_1c = 0;
    RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
  }
LAB_00425274:
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,2,4,0x26,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,1,4,0x17 - (uint)(*(int *)((int)this + 0x48) != 0),-1,4,0,0,1000,
             1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,1,4,0x19 - (uint)(*(int *)((int)this + 0x48) != 1),-1,4,0,0,1000,
             1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,1,4,(*(int *)((int)this + 0x48) == 2) + 0x14,-1,4,0,0,1000,1000,
             1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  *(int *)((int)this + 0x50) = *piVar1;
  *(int *)((int)this + 0x54) = piVar1[1];
  return local_1c;
}



/*
 * Function: FUN_004253c0
 * Address: 004253c0
 */

undefined4 __thiscall FUN_004253c0(void *this,long param_1)

{
  int iVar1;
  void *this_00;
  int *piVar2;
  int iVar3;
  code *pcVar4;
  undefined4 uVar5;
  undefined4 local_8;
  
  this_00 = DAT_0048d8b4;
  local_8 = 1;
  piVar2 = (int *)FUN_00456440((int)DAT_0048d8b4);
  iVar3 = FUN_00456410(this_00,4);
  if (((*(int *)(iVar3 + 0x10) == 1) && (*(int *)((int)this + 0x60) == 0)) &&
     (*(int *)((int)this + 0x48) != 0)) {
    *(int *)((int)this + 0x48) = *(int *)((int)this + 0x48) + -1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    *(undefined4 *)((int)this + 0x4c) = 1;
  }
  iVar3 = FUN_00456410(this_00,5);
  if (((*(int *)(iVar3 + 0x10) == 1) && (*(int *)((int)this + 0x60) == 0)) &&
     (*(int *)((int)this + 0x48) != 2)) {
    *(int *)((int)this + 0x48) = *(int *)((int)this + 0x48) + 1;
    RKC_DSOUND::Play(DAT_00482d28,0,0x3a,0,0,DAT_0048d8e4);
    *(undefined4 *)((int)this + 0x4c) = 1;
  }
  iVar3 = *piVar2;
  if ((((0xf0 < iVar3) && (iVar3 < 399)) &&
      ((iVar1 = piVar2[1], 0xcf < iVar1 && ((iVar1 < 0xdc && (*(int *)((int)this + 0x4c) == 1))))))
     && ((*(int *)((int)this + 0x50) != iVar3 || (*(int *)((int)this + 0x54) != iVar1)))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if ((((0xf0 < *piVar2) && (*piVar2 < 399)) && (0xcf < piVar2[1])) && (piVar2[1] < 0xdc)) {
    *(undefined4 *)((int)this + 0x48) = 0;
    iVar3 = FUN_00456410(this_00,0);
    if (*(int *)(iVar3 + 0x10) != 0) {
      *(undefined4 *)((int)this + 0x20) = 1;
      *(undefined4 *)((int)this + 0x28) = 0x14;
      *(undefined4 *)((int)this + 0x60) = 1;
      local_8 = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
    }
  }
  iVar3 = *piVar2;
  if ((((0xee < iVar3) && (iVar3 < 0x191)) &&
      ((iVar1 = piVar2[1], 0xf1 < iVar1 && ((iVar1 < 0xfe && (*(int *)((int)this + 0x4c) == 1))))))
     && ((*(int *)((int)this + 0x50) != iVar3 || (*(int *)((int)this + 0x54) != iVar1)))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if ((((0xee < *piVar2) && (*piVar2 < 0x191)) && (0xf1 < piVar2[1])) && (piVar2[1] < 0xfe)) {
    *(undefined4 *)((int)this + 0x48) = 1;
    iVar3 = FUN_00456410(this_00,0);
    if (*(int *)(iVar3 + 0x10) != 0) {
      *(undefined4 *)((int)this + 0x20) = 2;
      *(undefined4 *)((int)this + 0x28) = 0xc;
      *(undefined4 *)((int)this + 0x60) = 1;
      local_8 = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
  }
  iVar3 = *piVar2;
  if ((((0x11b < iVar3) && (iVar3 < 0x165)) &&
      ((iVar1 = piVar2[1], 0x116 < iVar1 && ((iVar1 < 0x123 && (*(int *)((int)this + 0x4c) == 1)))))
      ) && ((*(int *)((int)this + 0x50) != iVar3 || (*(int *)((int)this + 0x54) != iVar1)))) {
    *(undefined4 *)((int)this + 0x4c) = 0;
  }
  if (((((0x11b < *piVar2) && (*piVar2 < 0x165)) && (0x116 < piVar2[1])) && (piVar2[1] < 0x123)) ||
     (iVar3 = FUN_00456410(this_00,9), pcVar4 = Play_exref, *(int *)(iVar3 + 0x10) != 0)) {
    *(undefined4 *)((int)this + 0x48) = 2;
    iVar3 = FUN_00456410(this_00,0);
    if ((*(int *)(iVar3 + 0x10) != 0) ||
       (iVar3 = FUN_00456410(this_00,9), pcVar4 = Play_exref, *(int *)(iVar3 + 0x10) != 0)) {
      pcVar4 = Play_exref;
      *(undefined4 *)((int)this + 0x28) = 10;
      *(undefined4 *)((int)this + 0x60) = 1;
      *(undefined4 *)((int)this + 0x48) = 0;
      *(undefined4 *)((int)this + 0x4c) = 1;
      local_8 = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
    }
  }
  iVar3 = FUN_00456410(this_00,10);
  if ((*(int *)(iVar3 + 0x10) != 1) || (*(int *)((int)this + 0x60) != 0)) goto LAB_004256f8;
  iVar3 = *(int *)((int)this + 0x48);
  if (iVar3 == 0) {
    *(undefined4 *)((int)this + 0x20) = 1;
    *(undefined4 *)((int)this + 0x28) = 0x14;
    *(undefined4 *)((int)this + 0x60) = 1;
LAB_004256e0:
    uVar5 = 0x38;
  }
  else {
    if (iVar3 != 1) {
      if (iVar3 != 2) goto LAB_004256f8;
      *(undefined4 *)((int)this + 0x28) = 10;
      *(undefined4 *)((int)this + 0x60) = 1;
      *(undefined4 *)((int)this + 0x48) = 0;
      *(undefined4 *)((int)this + 0x4c) = 1;
      goto LAB_004256e0;
    }
    *(undefined4 *)((int)this + 0x20) = 2;
    *(undefined4 *)((int)this + 0x28) = 0xc;
    *(undefined4 *)((int)this + 0x60) = 1;
    uVar5 = 0x37;
  }
  local_8 = 0;
  (*pcVar4)(0,uVar5,0,0,DAT_0048d8e4);
LAB_004256f8:
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,2,4,0x26,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,1,4,0x1b - (uint)(*(int *)((int)this + 0x48) != 0),-1,4,0,0,1000,
             1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,1,4,0x1d - (uint)(*(int *)((int)this + 0x48) != 1),-1,4,0,0,1000,
             1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,1,4,(*(int *)((int)this + 0x48) == 2) + 0x14,-1,4,0,0,1000,1000,
             1000,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  return local_8;
}



/*
 * Function: FUN_00425830
 * Address: 00425830
 */

int __thiscall FUN_00425830(void *this,short *param_1)

{
  char cVar1;
  bool bVar2;
  void *this_00;
  SHORT SVar3;
  int *piVar4;
  int iVar5;
  BOOL BVar6;
  uint uVar7;
  int iVar8;
  long lVar9;
  char *pcVar10;
  char *local_14;
  uint uStack_10;
  int *local_c;
  long local_8;
  long local_4;
  
  iVar8 = 1;
  local_4 = 0;
  local_8 = 0;
  local_14 = (char *)0x0;
  FUN_00401460(0x482770);
  this_00 = DAT_0048d8b4;
  piVar4 = (int *)FUN_00456440((int)DAT_0048d8b4);
  local_c = piVar4;
  iVar5 = FUN_00434cd0((int)DAT_0048ce10);
  if (((iVar5 != 0) && (*(void **)((int)this + 0x34) != (void *)0x0)) &&
     (iVar5 = FUN_00457630(*(void **)((int)this + 0x34),&local_14), 0 < iVar5)) {
    if (((*piVar4 < 0x171) || (0x196 < *piVar4)) || ((piVar4[1] < 0x114 || (0x120 < piVar4[1])))) {
      lVar9 = 0x12;
    }
    else {
      lVar9 = 0x13;
      iVar5 = FUN_00456410(this_00,0);
      if (*(int *)(iVar5 + 0x10) != 0) {
        FUN_00468536(local_14,(byte *)s__d__d__d__d_00480220);
        *(undefined4 *)((int)this + 0x28) = 0x14;
        *(undefined4 *)((int)this + 0x60) = 1;
        iVar8 = 0;
        RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
      }
    }
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)param_1,1,4,lVar9,-1,4,0,0,1000,1000,1000,1000,0,1000,1000,1000,
               (tagRECT *)0x0,(RKC_DIB *)0x0);
    piVar4 = local_c;
  }
  if (local_14 != (char *)0x0) {
    GlobalFree(local_14);
  }
  if ((((*piVar4 < 0xe9) || (0x132 < *piVar4)) || ((piVar4[1] < 0x114 || (0x120 < piVar4[1])))) &&
     (iVar5 = FUN_00456410(this_00,9), *(int *)(iVar5 + 0x10) == 0)) {
    lVar9 = 0x14;
  }
  else {
    lVar9 = 0x15;
    iVar5 = FUN_00456410(this_00,0);
    if ((*(int *)(iVar5 + 0x10) != 0) ||
       (iVar5 = FUN_00456410(this_00,9), *(int *)(iVar5 + 0x10) != 0)) {
      *(undefined4 *)((int)this + 0x28) = 0xb;
      *(undefined4 *)((int)this + 0x60) = 1;
      iVar8 = 0;
      RKC_DSOUND::Play(DAT_00482d28,0,0x37,0,0,DAT_0048d8e4);
    }
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,1,4,lVar9,-1,4,-0x33,-3,1000,1000,1000,1000,0,1000,1000,1000
             ,(tagRECT *)0x0,(RKC_DIB *)0x0);
  BVar6 = IsClipboardFormatAvailable(1);
  if (BVar6 == 0) goto LAB_00425bcd;
  SVar3 = GetAsyncKeyState(0x11);
  if (SVar3 == 0) {
LAB_00425a78:
    bVar2 = false;
  }
  else {
    iVar5 = FUN_00456410(this_00,0x21);
    bVar2 = true;
    if (*(int *)(iVar5 + 0x10) == 0) goto LAB_00425a78;
  }
  if (((((0x175 < *local_c) && (*local_c < 0x189)) && (0xe3 < local_c[1])) && (local_c[1] < 0xf5))
     || (bVar2)) {
    local_c = (int *)0x21;
    iVar5 = FUN_00456410(this_00,0);
    if (*(int *)(iVar5 + 8) != 0) {
      local_4 = 1;
      local_8 = 1;
    }
    iVar5 = FUN_00456410(this_00,0);
    if ((*(int *)(iVar5 + 0x10) != 0) || (bVar2)) {
      uStack_10 = 0;
      iVar5 = FUN_00401600((undefined4 *)0x0,&uStack_10);
      if (iVar5 == 0) {
        local_14 = (char *)GlobalAlloc(0x40,uStack_10);
      }
      if (local_14 != (char *)0x0) {
        iVar5 = FUN_00401600((undefined4 *)local_14,&uStack_10);
        if ((iVar5 == 1) && (*(int *)((int)this + 0x34) != 0)) {
          uVar7 = 0xffffffff;
          pcVar10 = local_14;
          do {
            if (uVar7 == 0) break;
            uVar7 = uVar7 - 1;
            cVar1 = *pcVar10;
            pcVar10 = pcVar10 + 1;
          } while (cVar1 != '\0');
          if (0xf < ~uVar7 - 1) {
            local_14[0xf] = '\0';
          }
          FUN_00457660(*(void **)((int)this + 0x34),local_14);
        }
        if (local_14 != (char *)0x0) {
          GlobalFree(local_14);
        }
      }
    }
  }
  else {
    local_c = (int *)0x20;
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,1,4,(long)local_c,-1,4,local_4,local_8,1000,1000,1000,1000,0
             ,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
LAB_00425bcd:
  if (iVar8 != 0) {
    iVar5 = FUN_00434cd0((int)DAT_0048ce10);
    if (iVar5 == 0) {
      *(undefined4 *)((int)this + 0x34) = 0;
      if (*(char **)((int)this + 0x30) == (char *)0x0) {
        *(undefined4 *)((int)this + 0x28) = 0xb;
        *(undefined4 *)((int)this + 0x60) = 1;
        iVar8 = 0;
      }
      else {
        FUN_00468536(*(char **)((int)this + 0x30),(byte *)s__d__d__d__d_00480220);
        *(undefined4 *)((int)this + 0x28) = 0x14;
        *(undefined4 *)((int)this + 0x60) = 1;
        iVar8 = 0;
        RKC_DSOUND::Play(DAT_00482d28,0,0x38,0,0,DAT_0048d8e4);
        if (*(HGLOBAL *)((int)this + 0x30) != (HGLOBAL)0x0) {
          GlobalFree(*(HGLOBAL *)((int)this + 0x30));
          *(undefined4 *)((int)this + 0x30) = 0;
        }
      }
    }
    else {
      FUN_00456bb0(*(void **)((int)this + 0x34),param_1);
    }
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,(long)param_1,2,4,0x26,-1,5,0,0,1000,1000,1000,1000,0,1000,1000,1000,
             (tagRECT *)0x0,(RKC_DIB *)0x0);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,(long)param_1,1,1,0xf4,0xce,s_Host_IP_Adress_00480210,'\0','\0','\0',0,0,0
             ,1,1000);
  RKC_UPDIB::SetStringsPacket
            (DAT_00482d10,(long)param_1,1,1,0xf3,0xcd,s_Host_IP_Adress_00480210,0xff,0xff,0xff,0,0,0
             ,1,1000);
  FUN_00401480(0x482770);
  if ((iVar8 == 0) && (*(int *)((int)this + 0x34) != 0)) {
    iVar5 = FUN_00456230(*(int *)((int)this + 0x34));
    FUN_00457e60(DAT_0048ce10,iVar5);
    *(undefined4 *)((int)this + 0x34) = 0;
  }
  return iVar8;
}



/*
 * Function: FUN_00425d40
 * Address: 00425d40
 */

void __fastcall FUN_00425d40(int param_1)

{
  int *piVar1;
  undefined local_24;
  undefined local_23;
  undefined local_22;
  undefined local_20;
  undefined local_1f;
  undefined local_1e;
  undefined local_1c;
  undefined local_1b;
  undefined local_1a;
  int local_18;
  long local_14;
  tagRECT tStack_10;
  
  piVar1 = FUN_00457db0(DAT_0048ce10);
  *(int **)(param_1 + 0x34) = piVar1;
  local_1a = 0x80;
  local_1b = 0x80;
  local_1c = 0x80;
  local_1e = 0xff;
  local_1f = 0xff;
  local_20 = 0xff;
  local_24 = 0xff;
  local_22 = 0;
  local_23 = 0;
  RKC_UPDIB::GetFontParam(DAT_00482d10,0,&local_14,&local_18);
  SetRect(&tStack_10,0xf3,0xe1,0x78,local_18 + 8);
  FUN_00456550(*(void **)(param_1 + 0x34),1,-0x7fffffbf,0,&tStack_10.left,(int *)&local_1c,
               (int *)&local_20,&DAT_0048d9f0,(int *)&local_24,param_1 + 0x30,0,(undefined4 *)0x0,
               (undefined4 *)0x0,0,500);
  return;
}



/*
 * Function: FUN_00425e00
 * Address: 00425e00
 */

void __fastcall FUN_00425e00(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0xffffffff;
  param_1[3] = 0;
  return;
}



/*
 * Function: thunk_FUN_004261a0
 * Address: 00425e20
 */

void __fastcall thunk_FUN_004261a0(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if (param_1[1] != 0) {
    iVar2 = 0;
    if (0 < *param_1) {
      do {
        puVar1 = *(undefined4 **)(param_1[1] + iVar2 * 4);
        if (puVar1 != (undefined4 *)0x0) {
          FUN_004277f0(puVar1);
          FUN_0046787e(puVar1);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < *param_1);
    }
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  param_1[2] = -1;
  param_1[3] = 0;
  return;
}



/*
 * Function: FUN_00425e30
 * Address: 00425e30
 */

undefined4 __fastcall FUN_00425e30(void *param_1)

{
  byte bVar1;
  byte *pbVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  byte *pbVar8;
  bool bVar9;
  int iStack_110;
  void *local_10c;
  void *local_108;
  undefined auStack_104 [260];
  
  local_108 = param_1;
  iStack_110 = RK_CheckFilesExist(s_Scenario_____00480240,&local_10c);
  if (iStack_110 != 0) {
    iVar5 = 0;
    if (0 < iStack_110) {
      pbVar8 = (byte *)((int)local_10c + 0x2c);
      iVar6 = iStack_110;
      do {
        if ((pbVar8[-0x2c] & 0x10) != 0) {
          pbVar7 = &DAT_0048023c;
          pbVar2 = pbVar8;
          do {
            bVar1 = *pbVar2;
            bVar9 = bVar1 < *pbVar7;
            if (bVar1 != *pbVar7) {
LAB_00425ea4:
              iVar3 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
              goto LAB_00425ea9;
            }
            if (bVar1 == 0) break;
            bVar1 = pbVar2[1];
            bVar9 = bVar1 < pbVar7[1];
            if (bVar1 != pbVar7[1]) goto LAB_00425ea4;
            pbVar2 = pbVar2 + 2;
            pbVar7 = pbVar7 + 2;
          } while (bVar1 != 0);
          iVar3 = 0;
LAB_00425ea9:
          if (iVar3 != 0) {
            pbVar7 = &DAT_00480238;
            pbVar2 = pbVar8;
            do {
              bVar1 = *pbVar2;
              bVar9 = bVar1 < *pbVar7;
              if (bVar1 != *pbVar7) {
LAB_00425ed8:
                iVar3 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
                goto LAB_00425edd;
              }
              if (bVar1 == 0) break;
              bVar1 = pbVar2[1];
              bVar9 = bVar1 < pbVar7[1];
              if (bVar1 != pbVar7[1]) goto LAB_00425ed8;
              pbVar2 = pbVar2 + 2;
              pbVar7 = pbVar7 + 2;
            } while (bVar1 != 0);
            iVar3 = 0;
LAB_00425edd:
            if (iVar3 != 0) {
              iVar5 = iVar5 + 1;
            }
          }
        }
        pbVar8 = pbVar8 + 0x140;
        iVar6 = iVar6 + -1;
        param_1 = local_108;
      } while (iVar6 != 0);
    }
    FUN_00426050(param_1,iVar5);
    if (0 < iStack_110) {
      iVar5 = 0;
      iVar6 = 0;
      do {
        if ((*(byte *)((int)local_10c + iVar6) & 0x10) != 0) {
          pbVar8 = (byte *)((int)local_10c + iVar6 + 0x2c);
          pbVar7 = &DAT_0048023c;
          pbVar2 = pbVar8;
          do {
            bVar1 = *pbVar2;
            bVar9 = bVar1 < *pbVar7;
            if (bVar1 != *pbVar7) {
LAB_00425f48:
              iVar3 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
              goto LAB_00425f4d;
            }
            if (bVar1 == 0) break;
            bVar1 = pbVar2[1];
            bVar9 = bVar1 < pbVar7[1];
            if (bVar1 != pbVar7[1]) goto LAB_00425f48;
            pbVar2 = pbVar2 + 2;
            pbVar7 = pbVar7 + 2;
          } while (bVar1 != 0);
          iVar3 = 0;
LAB_00425f4d:
          if (iVar3 != 0) {
            pbVar2 = &DAT_00480238;
            do {
              bVar1 = *pbVar8;
              bVar9 = bVar1 < *pbVar2;
              if (bVar1 != *pbVar2) {
LAB_00425f7c:
                iVar3 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
                goto LAB_00425f81;
              }
              if (bVar1 == 0) break;
              bVar1 = pbVar8[1];
              bVar9 = bVar1 < pbVar2[1];
              if (bVar1 != pbVar2[1]) goto LAB_00425f7c;
              pbVar8 = pbVar8 + 2;
              pbVar2 = pbVar2 + 2;
            } while (bVar1 != 0);
            iVar3 = 0;
LAB_00425f81:
            if (iVar3 != 0) {
              FUN_00467d51(auStack_104,(byte *)s_Scenario__s_0048022c);
              uVar4 = FUN_004685f5(local_10c,(byte *)((int)local_10c + iVar6 + 0x2c));
              FUN_00427a70(*(void **)(*(int *)((int)local_108 + 4) + iVar5),uVar4);
              iVar5 = iVar5 + 4;
            }
          }
        }
        iVar6 = iVar6 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_10c);
    param_1 = local_108;
  }
  *(undefined4 *)((int)param_1 + 0x10) = 0xffffffff;
  *(undefined4 *)((int)param_1 + 0x14) = 0;
  return 1;
}



/*
 * Function: FUN_00426000
 * Address: 00426000
 */

void __thiscall FUN_00426000(void *this,int param_1)

{
  int *piVar1;
  undefined local_104 [260];
  
  piVar1 = (int *)FUN_00426160(this,param_1);
  if ((piVar1 != (int *)0x0) && (*piVar1 == 0)) {
    FUN_00467d51(local_104,(byte *)s_Scenario__08d_00480250);
    FUN_00427890(local_104);
  }
  return;
}



/*
 * Function: FUN_00426050
 * Address: 00426050
 */

undefined4 __thiscall FUN_00426050(void *this,int param_1)

{
  HGLOBAL pvVar1;
  undefined4 *puVar2;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar3;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar4;
  int iVar5;
  int iVar6;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471dab;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  FUN_004261a0((int *)this);
  *(int *)this = param_1;
  pvVar1 = GlobalAlloc(0x40,param_1 * 4);
  iVar5 = 0;
  *(HGLOBAL *)((int)this + 4) = pvVar1;
  if (0 < param_1) {
    do {
      puVar2 = (undefined4 *)operator_new(0x74);
      uStack_4 = 0;
      if (puVar2 == (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
      }
      else {
        puVar2 = FUN_00427690(puVar2);
      }
      iVar5 = iVar5 + 1;
      uStack_4 = 0xffffffff;
      *(undefined4 **)(*(int *)((int)this + 4) + -4 + iVar5 * 4) = puVar2;
    } while (iVar5 < param_1);
  }
  iVar5 = 0;
  if (0 < param_1) {
    iVar6 = 3;
    do {
      pRVar3 = RKC_RPGSCRN::InsertGroundBlock(DAT_00482d14,iVar5);
      *(RKC_RPGSCRN_GROUNDBLOCK **)(*(int *)(*(int *)((int)this + 4) + iVar5 * 4) + 0x3c) = pRVar3;
      pRVar4 = RKC_RPGSCRN::InsertObjectBlock(DAT_00482d14,iVar6 + -1);
      *(RKC_RPGSCRN_OBJECTBLOCK **)(*(int *)(*(int *)((int)this + 4) + iVar5 * 4) + 0x40) = pRVar4;
      pRVar4 = RKC_RPGSCRN::InsertObjectBlock(DAT_00482d14,iVar6);
      *(RKC_RPGSCRN_OBJECTBLOCK **)(*(int *)(*(int *)((int)this + 4) + iVar5 * 4) + 0x44) = pRVar4;
      pRVar4 = RKC_RPGSCRN::InsertObjectBlock(DAT_00482d14,iVar6 + 1);
      iVar5 = iVar5 + 1;
      iVar6 = iVar6 + 3;
      *(RKC_RPGSCRN_OBJECTBLOCK **)(*(int *)(*(int *)((int)this + 4) + -4 + iVar5 * 4) + 0x48) =
           pRVar4;
    } while (iVar5 < param_1);
  }
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00426160
 * Address: 00426160
 */

undefined4 __thiscall FUN_00426160(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
                    /* WARNING: Load size is inaccurate */
  if (0 < *this) {
    do {
      iVar1 = FUN_00456230(*(int *)(*(int *)((int)this + 4) + iVar2 * 4));
      if (iVar1 == param_1) {
        return *(undefined4 *)(*(int *)((int)this + 4) + iVar2 * 4);
      }
                    /* WARNING: Load size is inaccurate */
      iVar2 = iVar2 + 1;
    } while (iVar2 < *this);
  }
  return 0;
}



/*
 * Function: FUN_004261a0
 * Address: 004261a0
 */

void __fastcall FUN_004261a0(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if (param_1[1] != 0) {
    iVar2 = 0;
    if (0 < *param_1) {
      do {
        puVar1 = *(undefined4 **)(param_1[1] + iVar2 * 4);
        if (puVar1 != (undefined4 *)0x0) {
          FUN_004277f0(puVar1);
          FUN_0046787e(puVar1);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < *param_1);
    }
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  param_1[2] = -1;
  param_1[3] = 0;
  return;
}



/*
 * Function: FUN_00426200
 * Address: 00426200
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall
FUN_00426200(void *this,int param_1,int param_2,int param_3,int param_4,undefined4 *param_5,
            int param_6)

{
  ushort uVar1;
  void *this_00;
  void *this_01;
  int *piVar2;
  int iVar3;
  void *pvVar4;
  int iVar5;
  undefined4 uVar6;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar7;
  int iVar8;
  long lVar9;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar10;
  long lVar11;
  char *pcVar12;
  RKC_RPGSCRN_OBJECT *pRVar13;
  RKC_RPGSCRN_OBJECT *pRVar14;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar15;
  undefined4 uVar16;
  float10 fVar17;
  long lVar18;
  undefined4 uVar19;
  undefined2 uVar20;
  undefined2 uVar22;
  tagRECT *ptVar21;
  int iStack_124;
  tagRECT tStack_114;
  char acStack_104 [260];
  
  this_00 = (void *)FUN_00434c90(DAT_0048ce0c,param_1);
  this_01 = (void *)FUN_004452a0((int)this_00);
  FUN_00434cb0((int)DAT_0048ce0c);
  piVar2 = (int *)FUN_00426160(this,param_2);
  if ((piVar2 != (int *)0x0) && (*piVar2 == 0)) {
    iVar3 = FUN_00456230((int)piVar2);
    FUN_00426000(this,iVar3);
  }
  if (this_01 != (void *)0x0) {
    iVar3 = param_1;
    pvVar4 = (void *)FUN_00466420((int)this_01);
    FUN_0042fef0(pvVar4,iVar3);
  }
  if (param_4 == 1) {
    FUN_00440c20(this_00);
    *(int *)((int)this_00 + 0x15d8) = *(int *)((int)this_00 + 0x15d8) + 1;
  }
  if (this_01 != (void *)0x0) {
    iVar3 = FUN_00456230(*(int *)((int)this_00 + 0x458));
    if (iVar3 == param_2) {
      if (param_6 == -1) {
        param_6 = *(int *)((int)this_00 + 4);
      }
      if (param_3 == -1) {
        *(undefined4 *)((int)this_00 + 0x2e0) = *param_5;
        *(undefined4 *)((int)this_00 + 0x2e4) = param_5[1];
      }
      else {
        piVar2 = FUN_00427930(this_01,param_6 + param_3 * 4);
        if (piVar2 != (int *)0x0) {
          *(int *)((int)this_00 + 0x2e0) = piVar2[2];
          *(int *)((int)this_00 + 0x2e4) = piVar2[3];
          *(int *)((int)this_00 + 0x31c) = piVar2[1];
        }
      }
      *(undefined4 *)((int)this_00 + 0x460) = 0;
      FUN_0044e960(this_00,1);
      *(undefined4 *)((int)this_00 + 0x1248) = 0xffffffff;
      iVar3 = *(int *)((int)this_00 + 4) + 16000000;
      *(undefined4 *)((int)this_00 + 0x1588) = 0;
      pvVar4 = (void *)FUN_00427aa0((int)this_01);
      iVar3 = FUN_004299e0(pvVar4,iVar3);
      if (iVar3 != 0) {
        iVar5 = FUN_00434cd0(iVar3);
        if (*(int *)(iVar5 + 0x164) != 6) {
          iVar5 = FUN_00434cd0(iVar3);
          FUN_0045f4f0(iVar5);
        }
        fVar17 = FUN_00413fd0(*(undefined4 *)((int)this_00 + 0x31c));
        fVar17 = (float10)FUN_00413e40((double)(fVar17 - (float10)_DAT_004751e0));
        iVar5 = FUN_00434cd0(iVar3);
        FUN_004140a0((int *)((int)this_00 + 0x2e0),(double)fVar17,200,(int *)(iVar5 + 0x18));
        iVar3 = FUN_00434cd0(iVar3);
        *(undefined4 *)(iVar3 + 0x10) = *(undefined4 *)((int)this_00 + 0x31c);
      }
      *(undefined4 *)((int)this_00 + 0x2dc) = 0;
      *(undefined4 *)((int)this_00 + 0x314) = 1;
      *(undefined4 *)((int)this_00 + 0x318) = 0;
      *(undefined4 *)((int)this_00 + 0x308) = 0;
      iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
      if (param_1 == iVar3) {
        *(undefined *)((int)this_00 + 0x12a4) = 0xff;
        DAT_0048d6f8 = param_3;
        FUN_00457d10(DAT_0048ce10);
        FUN_004170f0();
        _DAT_0048ce7c = *(undefined4 *)((int)this_01 + 0x2c);
        _DAT_0048d7ec = *(undefined4 *)((int)this_01 + 0x68);
        FUN_00412710(0x48d4f0);
        RKC_DBFCONTROL::Clear(DAT_00482d18,(tagRGBQUAD *)0x0);
        FUN_0041fdf0(0x48d7a0);
        _DAT_0048d78c = 0;
        _DAT_0048d790 = 0;
        piVar2 = (int *)FUN_00466410(*(int *)((int)this_00 + 0x458));
        FUN_004304b0(piVar2);
      }
      return 1;
    }
    FUN_004181d0(0x48d7b0);
  }
  iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
  if (param_1 == iVar3) {
    PostMessageA(DAT_00482778,0x405,0,0);
    PostMessageA(DAT_00482778,0x403,0,0);
    if (this_01 != (void *)0x0) {
      FUN_00434cb0((int)DAT_0048ce0c);
      FUN_0044b580();
    }
    iVar3 = RKC_DBFCONTROL::GetDrawingFlag(DAT_00482d18);
    while (iVar3 != 0) {
      Sleep(1);
      iVar3 = RKC_DBFCONTROL::GetDrawingFlag(DAT_00482d18);
    }
    if (DAT_0048d8d4 < 0) {
      DAT_0048d8d4 = 0;
      DAT_0048d8d8 = 0;
      InvalidateRect(DAT_00482778,(RECT *)0x0,0);
    }
    FUN_004275e0(this,param_2);
  }
  if (DAT_00482db0 == 0) {
    if (this_01 != (void *)0x0) {
      FUN_004505d0((int)this_00);
      RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x40));
      RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x44));
      RKC_RPGSCRN_GROUNDBLOCK::Release(*(RKC_RPGSCRN_GROUNDBLOCK **)((int)this_01 + 0x3c));
      uVar20 = 4;
      uVar22 = 0;
      pvVar4 = (void *)FUN_00427aa0((int)this_01);
      FUN_00429d30(pvVar4,CONCAT22(uVar22,uVar20));
      iVar3 = FUN_00466420((int)this_01);
      FUN_0042fb00(iVar3);
      uVar6 = FUN_00427ad0((int)this_01);
      uVar20 = (undefined2)uVar6;
      uVar22 = (undefined2)((uint)uVar6 >> 0x10);
      pvVar4 = (void *)FUN_00427aa0((int)this_01);
      FUN_00429ab0(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
      iVar3 = param_1;
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
      FUN_00434c10(DAT_0048ce0c,pRVar7,iVar3);
      RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x48));
      iVar5 = 0;
      iVar3 = FUN_00434cd0((int)this_01);
      if (0 < iVar3) {
        do {
          iStack_124 = 0;
          iVar3 = FUN_00434cd0((int)piVar2);
          if (0 < iVar3) {
            do {
              iVar3 = FUN_00427a90(piVar2,iStack_124);
              iVar8 = FUN_00427a90(this_01,iVar5);
              if (iVar8 == iVar3) {
                iVar3 = FUN_00427a80(piVar2,iStack_124);
                iVar8 = FUN_00427a80(this_01,iVar5);
                if (iVar8 == iVar3) break;
              }
              iStack_124 = iStack_124 + 1;
              iVar3 = FUN_00434cd0((int)piVar2);
            } while (iStack_124 < iVar3);
          }
          iVar3 = FUN_00434cd0((int)piVar2);
          if (((iStack_124 == iVar3) && (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 5)) &&
             ((iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 4 &&
              (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 3)))) {
            uVar20 = 0;
            uVar22 = 0;
            iVar3 = FUN_00427a80(this_01,iVar5);
            iVar8 = FUN_00427a90(this_01,iVar5);
            pvVar4 = (void *)FUN_00455ee0(DAT_0048ce08,iVar8,iVar3);
            FUN_00456180(pvVar4,CONCAT22(uVar22,uVar20));
          }
          iVar5 = iVar5 + 1;
          iVar3 = FUN_00434cd0((int)this_01);
        } while (iVar5 < iVar3);
      }
      iVar3 = 7000;
      do {
        RKC_UPDIB::DeleteUpd(DAT_00482d10,iVar3,0);
        iVar3 = iVar3 + 1;
      } while (iVar3 < 9000);
      iVar3 = FUN_00430890((int)this_01);
      FUN_00427ac0(this_01,iVar3 + -1);
    }
    *(int *)((int)this + 8) = param_2;
    this_01 = (void *)FUN_00426160(this,param_2);
    *(void **)((int)this + 0xc) = this_01;
    FUN_004452b0(this_00,this_01);
    uVar6 = FUN_00427ad0((int)this_01);
    uVar20 = (undefined2)uVar6;
    uVar22 = (undefined2)((uint)uVar6 >> 0x10);
    pvVar4 = (void *)FUN_00427aa0((int)this_01);
    FUN_00429a40(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
    iVar3 = param_1;
    pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
    FUN_00434bb0(DAT_0048ce0c,pRVar7,iVar3);
    uVar1 = 0xb;
    iVar3 = 0;
    lVar18 = 7000;
    pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
    lVar9 = RKC_RPGSCRN::GetObjectBlockNo(DAT_00482d14,pRVar7);
    pRVar10 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540((int)this_01);
    lVar11 = RKC_RPGSCRN::GetGroundBlockNo(DAT_00482d14,pRVar10);
    pcVar12 = (char *)FUN_004308a0((int)this_01);
    RKC_RPGSCRN::ReadMapFile(DAT_00482d14,pcVar12,lVar11,lVar9,lVar18,iVar3,uVar1);
    pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
    RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar7);
    pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
    lVar9 = RKC_RPGSCRN_OBJECTBLOCK::GetCount(pRVar7);
    iVar3 = 0;
    if (0 < lVar9) {
      do {
        uVar20 = (undefined2)iVar3;
        uVar22 = (undefined2)((uint)iVar3 >> 0x10);
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
        pRVar13 = RKC_RPGSCRN_OBJECTBLOCK::Get(pRVar7,CONCAT22(uVar22,uVar20));
        if ((pRVar13 != (RKC_RPGSCRN_OBJECT *)0x0) &&
           (uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRVar13), (uVar1 & 1) != 0)) {
          uVar20 = 0;
          uVar22 = 0;
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
          pRVar14 = RKC_RPGSCRN_OBJECTBLOCK::Insert(pRVar7,CONCAT22(uVar22,uVar20));
          if (pRVar14 != (RKC_RPGSCRN_OBJECT *)0x0) {
            RKC_RPGSCRN_OBJECT::Copy(pRVar14,pRVar13);
          }
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < lVar9);
    }
    iVar5 = 0;
    iVar3 = FUN_00434cd0((int)this_01);
    if (0 < iVar3) {
      do {
        uVar6 = FUN_00427a80(this_01,iVar5);
        uVar20 = (undefined2)uVar6;
        uVar22 = (undefined2)((uint)uVar6 >> 0x10);
        iVar3 = FUN_00427a90(this_01,iVar5);
        iVar3 = FUN_00455ee0(DAT_0048ce08,iVar3,CONCAT22(uVar22,uVar20));
        iVar3 = FUN_00456230(iVar3);
        if (iVar3 == 0) {
          uVar20 = 0;
          uVar22 = 0;
          iVar3 = FUN_00427a80(this_01,iVar5);
          iVar8 = FUN_00427a90(this_01,iVar5);
          pvVar4 = (void *)FUN_00455ee0(DAT_0048ce08,iVar8,iVar3);
          FUN_00456080(pvVar4,CONCAT22(uVar22,uVar20));
        }
        iVar5 = iVar5 + 1;
        iVar3 = FUN_00434cd0((int)this_01);
      } while (iVar5 < iVar3);
    }
    SetRect(&tStack_114,0,0,0x27f,0x1df);
    ptVar21 = &tStack_114;
    uVar19 = 0x14;
    pRVar7 = RKC_RPGSCRN::GetObjectBlock(DAT_00482d14,1);
    pRVar15 = RKC_RPGSCRN::GetObjectBlock(DAT_00482d14,0);
    uVar6 = FUN_00427ae0((int)this_01);
    uVar16 = FUN_00403540((int)this_01);
    FUN_00403050(DAT_00482d1c,DAT_00482d14,DAT_00482d18,uVar16,uVar6,pRVar15,pRVar7,uVar19,
                 &ptVar21->left);
    FUN_004030b0(DAT_00482d1c,&tStack_114.left);
    iVar3 = FUN_00430890((int)this_01);
    FUN_00427ac0(this_01,iVar3 + 1);
    if (param_6 == -1) {
      param_6 = *(int *)((int)this_00 + 4);
    }
joined_r0x00426e8d:
    if (param_3 != -1) {
      piVar2 = FUN_00427930(this_01,param_6 + param_3 * 4);
      goto joined_r0x00427363;
    }
LAB_0042733c:
    *(undefined4 *)((int)this_00 + 0x2e0) = *param_5;
    *(undefined4 *)((int)this_00 + 0x2e4) = param_5[1];
  }
  else {
    if (DAT_00482db0 == 1) {
      iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
      if (iVar3 == param_1) {
        if (this_01 != (void *)0x0) {
          FUN_004505d0((int)this_00);
          iVar3 = param_1;
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
          FUN_00434c10(DAT_0048ce0c,pRVar7,iVar3);
          iVar3 = FUN_00430890((int)this_01);
          if (iVar3 == 1) {
            RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x40));
            RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x44));
            RKC_RPGSCRN_GROUNDBLOCK::Release(*(RKC_RPGSCRN_GROUNDBLOCK **)((int)this_01 + 0x3c));
            uVar20 = 4;
            uVar22 = 0;
            pvVar4 = (void *)FUN_00427aa0((int)this_01);
            FUN_00429d30(pvVar4,CONCAT22(uVar22,uVar20));
            iVar3 = FUN_00466420((int)this_01);
            FUN_0042fb00(iVar3);
            uVar6 = FUN_00427ad0((int)this_01);
            uVar20 = (undefined2)uVar6;
            uVar22 = (undefined2)((uint)uVar6 >> 0x10);
            pvVar4 = (void *)FUN_00427aa0((int)this_01);
            FUN_00429ab0(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
            RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x48));
          }
          iVar5 = 0;
          iVar3 = FUN_00434cd0((int)this_01);
          if (0 < iVar3) {
            do {
              iStack_124 = 0;
              iVar3 = FUN_00434cd0((int)piVar2);
              if (0 < iVar3) {
                do {
                  iVar3 = FUN_00427a90(piVar2,iStack_124);
                  iVar8 = FUN_00427a90(this_01,iVar5);
                  if (iVar8 == iVar3) {
                    iVar3 = FUN_00427a80(piVar2,iStack_124);
                    iVar8 = FUN_00427a80(this_01,iVar5);
                    if (iVar8 == iVar3) break;
                  }
                  iStack_124 = iStack_124 + 1;
                  iVar3 = FUN_00434cd0((int)piVar2);
                } while (iStack_124 < iVar3);
              }
              iVar3 = FUN_00434cd0((int)piVar2);
              if ((((iStack_124 == iVar3) && (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 5)) &&
                  (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 4)) &&
                 (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 3)) {
                uVar20 = 0;
                uVar22 = 0;
                iVar3 = FUN_00427a80(this_01,iVar5);
                iVar8 = FUN_00427a90(this_01,iVar5);
                pvVar4 = (void *)FUN_00455ee0(DAT_0048ce08,iVar8,iVar3);
                FUN_00456180(pvVar4,CONCAT22(uVar22,uVar20));
              }
              iVar5 = iVar5 + 1;
              iVar3 = FUN_00434cd0((int)this_01);
            } while (iVar5 < iVar3);
          }
          iVar3 = 7000;
          do {
            RKC_UPDIB::DeleteUpd(DAT_00482d10,iVar3,0);
            iVar3 = iVar3 + 1;
          } while (iVar3 < 9000);
          iVar3 = FUN_00430890((int)this_01);
          FUN_00427ac0(this_01,iVar3 + -1);
        }
        *(int *)((int)this + 8) = param_2;
        this_01 = (void *)FUN_00426160(this,param_2);
        *(void **)((int)this + 0xc) = this_01;
        FUN_004452b0(this_00,this_01);
        iVar3 = FUN_00430890((int)this_01);
        if (iVar3 < 1) {
          uVar1 = 0xb;
          uVar6 = FUN_00427ad0((int)this_01);
          uVar20 = (undefined2)uVar6;
          uVar22 = (undefined2)((uint)uVar6 >> 0x10);
          pvVar4 = (void *)FUN_00427aa0((int)this_01);
          FUN_00429a40(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
        }
        else {
          uVar1 = 8;
        }
        iVar3 = param_1;
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
        FUN_00434bb0(DAT_0048ce0c,pRVar7,iVar3);
        iVar3 = 0;
        lVar18 = 7000;
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
        lVar9 = RKC_RPGSCRN::GetObjectBlockNo(DAT_00482d14,pRVar7);
        pRVar10 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540((int)this_01);
        lVar11 = RKC_RPGSCRN::GetGroundBlockNo(DAT_00482d14,pRVar10);
        pcVar12 = (char *)FUN_004308a0((int)this_01);
        RKC_RPGSCRN::ReadMapFile(DAT_00482d14,pcVar12,lVar11,lVar9,lVar18,iVar3,uVar1);
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
        RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar7);
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
        lVar9 = RKC_RPGSCRN_OBJECTBLOCK::GetCount(pRVar7);
        iVar3 = 0;
        if (0 < lVar9) {
          do {
            uVar20 = (undefined2)iVar3;
            uVar22 = (undefined2)((uint)iVar3 >> 0x10);
            pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
            pRVar13 = RKC_RPGSCRN_OBJECTBLOCK::Get(pRVar7,CONCAT22(uVar22,uVar20));
            if ((pRVar13 != (RKC_RPGSCRN_OBJECT *)0x0) &&
               (uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRVar13), (uVar1 & 1) != 0)) {
              uVar20 = 0;
              uVar22 = 0;
              pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
              pRVar14 = RKC_RPGSCRN_OBJECTBLOCK::Insert(pRVar7,CONCAT22(uVar22,uVar20));
              if (pRVar14 != (RKC_RPGSCRN_OBJECT *)0x0) {
                RKC_RPGSCRN_OBJECT::Copy(pRVar14,pRVar13);
              }
            }
            iVar3 = iVar3 + 1;
          } while (iVar3 < lVar9);
        }
        iVar5 = 0;
        iVar3 = FUN_00434cd0((int)this_01);
        if (0 < iVar3) {
          do {
            uVar6 = FUN_00427a80(this_01,iVar5);
            uVar20 = (undefined2)uVar6;
            uVar22 = (undefined2)((uint)uVar6 >> 0x10);
            iVar3 = FUN_00427a90(this_01,iVar5);
            iVar3 = FUN_00455ee0(DAT_0048ce08,iVar3,CONCAT22(uVar22,uVar20));
            iVar3 = FUN_00456230(iVar3);
            if (iVar3 == 0) {
              uVar20 = 0;
              uVar22 = 0;
              iVar3 = FUN_00427a80(this_01,iVar5);
              iVar8 = FUN_00427a90(this_01,iVar5);
              pvVar4 = (void *)FUN_00455ee0(DAT_0048ce08,iVar8,iVar3);
              FUN_00456080(pvVar4,CONCAT22(uVar22,uVar20));
            }
            iVar5 = iVar5 + 1;
            iVar3 = FUN_00434cd0((int)this_01);
          } while (iVar5 < iVar3);
        }
        SetRect(&tStack_114,0,0,0x27f,0x1df);
        ptVar21 = &tStack_114;
        uVar19 = 0x14;
        pRVar7 = RKC_RPGSCRN::GetObjectBlock(DAT_00482d14,1);
        pRVar15 = RKC_RPGSCRN::GetObjectBlock(DAT_00482d14,0);
        uVar6 = FUN_00427ae0((int)this_01);
        uVar16 = FUN_00403540((int)this_01);
        FUN_00403050(DAT_00482d1c,DAT_00482d14,DAT_00482d18,uVar16,uVar6,pRVar15,pRVar7,uVar19,
                     &ptVar21->left);
        FUN_004030b0(DAT_00482d1c,&tStack_114.left);
      }
      else {
        if (this_01 != (void *)0x0) {
          FUN_004505d0((int)this_00);
          iVar3 = param_1;
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
          FUN_00434c10(DAT_0048ce0c,pRVar7,iVar3);
          iVar3 = FUN_00430890((int)this_01);
          if (iVar3 == 1) {
            RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x40));
            RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x44));
            RKC_RPGSCRN_GROUNDBLOCK::Release(*(RKC_RPGSCRN_GROUNDBLOCK **)((int)this_01 + 0x3c));
            uVar20 = 4;
            uVar22 = 0;
            pvVar4 = (void *)FUN_00427aa0((int)this_01);
            FUN_00429d30(pvVar4,CONCAT22(uVar22,uVar20));
            iVar3 = FUN_00466420((int)this_01);
            FUN_0042fb00(iVar3);
            uVar6 = FUN_00427ad0((int)this_01);
            uVar20 = (undefined2)uVar6;
            uVar22 = (undefined2)((uint)uVar6 >> 0x10);
            pvVar4 = (void *)FUN_00427aa0((int)this_01);
            FUN_00429ab0(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
            RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x48));
          }
          iVar3 = FUN_00430890((int)this_01);
          FUN_00427ac0(this_01,iVar3 + -1);
        }
        this_01 = (void *)FUN_00426160(this,param_2);
        FUN_004452b0(this_00,this_01);
        iVar3 = FUN_00430890((int)this_01);
        if (iVar3 == 0) {
          uVar1 = 3;
          lVar18 = 7000;
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
          lVar9 = RKC_RPGSCRN::GetObjectBlockNo(DAT_00482d14,pRVar7);
          pRVar10 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540((int)this_01);
          lVar11 = RKC_RPGSCRN::GetGroundBlockNo(DAT_00482d14,pRVar10);
          pcVar12 = (char *)FUN_004308a0((int)this_01);
          RKC_RPGSCRN::ReadMapFile(DAT_00482d14,pcVar12,lVar11,lVar9,lVar18,iVar3,uVar1);
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
          RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar7);
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
          lVar9 = RKC_RPGSCRN_OBJECTBLOCK::GetCount(pRVar7);
          iVar3 = 0;
          if (0 < lVar9) {
            do {
              uVar20 = (undefined2)iVar3;
              uVar22 = (undefined2)((uint)iVar3 >> 0x10);
              pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
              pRVar13 = RKC_RPGSCRN_OBJECTBLOCK::Get(pRVar7,CONCAT22(uVar22,uVar20));
              if ((pRVar13 != (RKC_RPGSCRN_OBJECT *)0x0) &&
                 (uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRVar13), (uVar1 & 1) != 0)) {
                uVar20 = 0;
                uVar22 = 0;
                pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
                pRVar14 = RKC_RPGSCRN_OBJECTBLOCK::Insert(pRVar7,CONCAT22(uVar22,uVar20));
                if (pRVar14 != (RKC_RPGSCRN_OBJECT *)0x0) {
                  RKC_RPGSCRN_OBJECT::Copy(pRVar14,pRVar13);
                }
              }
              iVar3 = iVar3 + 1;
            } while (iVar3 < lVar9);
          }
          uVar6 = FUN_00427ad0((int)this_01);
          uVar20 = (undefined2)uVar6;
          uVar22 = (undefined2)((uint)uVar6 >> 0x10);
          pvVar4 = (void *)FUN_00427aa0((int)this_01);
          FUN_00429a40(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
        }
        iVar3 = param_1;
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
        FUN_00434bb0(DAT_0048ce0c,pRVar7,iVar3);
      }
      iVar3 = FUN_00430890((int)this_01);
      FUN_00427ac0(this_01,iVar3 + 1);
      if (param_6 == -1) {
        param_6 = *(int *)((int)this_00 + 4);
      }
      goto joined_r0x00426e8d;
    }
    if (DAT_00482db0 != 2) goto LAB_0042739d;
    iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
    if (iVar3 == param_1) {
      if (this_01 != (void *)0x0) {
        FUN_004505d0((int)this_00);
        RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x40));
        RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x44));
        RKC_RPGSCRN_GROUNDBLOCK::Release(*(RKC_RPGSCRN_GROUNDBLOCK **)((int)this_01 + 0x3c));
        uVar20 = 4;
        uVar22 = 0;
        pvVar4 = (void *)FUN_00427aa0((int)this_01);
        FUN_00429d30(pvVar4,CONCAT22(uVar22,uVar20));
        iVar3 = FUN_00466420((int)this_01);
        FUN_0042fb00(iVar3);
        FUN_00466ac0(*(int **)((int)this_01 + 0x4c));
        uVar20 = 3;
        uVar22 = 0;
        pvVar4 = (void *)FUN_00427aa0((int)this_01);
        FUN_00429d30(pvVar4,CONCAT22(uVar22,uVar20));
        uVar6 = FUN_00427ad0((int)this_01);
        uVar20 = (undefined2)uVar6;
        uVar22 = (undefined2)((uint)uVar6 >> 0x10);
        pvVar4 = (void *)FUN_00427aa0((int)this_01);
        FUN_00429ab0(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
        iVar3 = param_1;
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
        FUN_00434c10(DAT_0048ce0c,pRVar7,iVar3);
        RKC_RPGSCRN_OBJECTBLOCK::Release(*(RKC_RPGSCRN_OBJECTBLOCK **)((int)this_01 + 0x48));
        iVar5 = 0;
        iVar3 = FUN_00434cd0((int)this_01);
        if (0 < iVar3) {
          do {
            iStack_124 = 0;
            iVar3 = FUN_00434cd0((int)piVar2);
            if (0 < iVar3) {
              do {
                iVar3 = FUN_00427a90(piVar2,iStack_124);
                iVar8 = FUN_00427a90(this_01,iVar5);
                if (iVar8 == iVar3) {
                  iVar3 = FUN_00427a80(piVar2,iStack_124);
                  iVar8 = FUN_00427a80(this_01,iVar5);
                  if (iVar8 == iVar3) break;
                }
                iStack_124 = iStack_124 + 1;
                iVar3 = FUN_00434cd0((int)piVar2);
              } while (iStack_124 < iVar3);
            }
            iVar3 = FUN_00434cd0((int)piVar2);
            if (((iStack_124 == iVar3) && (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 5)) &&
               ((iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 4 &&
                (iVar3 = FUN_00427a90(this_01,iVar5), iVar3 != 3)))) {
              uVar20 = 0;
              uVar22 = 0;
              iVar3 = FUN_00427a80(this_01,iVar5);
              iVar8 = FUN_00427a90(this_01,iVar5);
              pvVar4 = (void *)FUN_00455ee0(DAT_0048ce08,iVar8,iVar3);
              FUN_00456180(pvVar4,CONCAT22(uVar22,uVar20));
            }
            iVar5 = iVar5 + 1;
            iVar3 = FUN_00434cd0((int)this_01);
          } while (iVar5 < iVar3);
        }
        iVar3 = 7000;
        do {
          RKC_UPDIB::DeleteUpd(DAT_00482d10,iVar3,0);
          iVar3 = iVar3 + 1;
        } while (iVar3 < 9000);
        iVar3 = FUN_00430890((int)this_01);
        FUN_00427ac0(this_01,iVar3 + -1);
      }
      *(int *)((int)this + 8) = param_2;
      this_01 = (void *)FUN_00426160(this,param_2);
      *(void **)((int)this + 0xc) = this_01;
      FUN_004452b0(this_00,this_01);
      uVar6 = FUN_00427ad0((int)this_01);
      uVar20 = (undefined2)uVar6;
      uVar22 = (undefined2)((uint)uVar6 >> 0x10);
      pvVar4 = (void *)FUN_00427aa0((int)this_01);
      FUN_00429a40(pvVar4,(RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(uVar22,uVar20));
      iVar3 = param_1;
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
      FUN_00434bb0(DAT_0048ce0c,pRVar7,iVar3);
      iVar3 = 0;
      do {
        iVar5 = FUN_00434c90(DAT_0048ce0c,iVar3);
        if (((iVar5 != 0) && (*(int *)(iVar5 + 0x2d8) == 1)) &&
           (*(void **)(iVar5 + 0x458) == this_01)) {
          uVar20 = (undefined2)iVar3;
          uVar22 = (undefined2)((uint)iVar3 >> 0x10);
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
          FUN_00434bb0(DAT_0048ce0c,pRVar7,CONCAT22(uVar22,uVar20));
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < 4);
      uVar1 = 0xb;
      iVar3 = 0;
      lVar18 = 7000;
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
      lVar9 = RKC_RPGSCRN::GetObjectBlockNo(DAT_00482d14,pRVar7);
      pRVar10 = (RKC_RPGSCRN_GROUNDBLOCK *)FUN_00403540((int)this_01);
      lVar11 = RKC_RPGSCRN::GetGroundBlockNo(DAT_00482d14,pRVar10);
      pcVar12 = (char *)FUN_004308a0((int)this_01);
      RKC_RPGSCRN::ReadMapFile(DAT_00482d14,pcVar12,lVar11,lVar9,lVar18,iVar3,uVar1);
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
      RKC_RPGSCRN_OBJECTBLOCK::Release(pRVar7);
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
      lVar9 = RKC_RPGSCRN_OBJECTBLOCK::GetCount(pRVar7);
      iVar3 = 0;
      if (0 < lVar9) {
        do {
          uVar20 = (undefined2)iVar3;
          uVar22 = (undefined2)((uint)iVar3 >> 0x10);
          pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ae0((int)this_01);
          pRVar13 = RKC_RPGSCRN_OBJECTBLOCK::Get(pRVar7,CONCAT22(uVar22,uVar20));
          if ((pRVar13 != (RKC_RPGSCRN_OBJECT *)0x0) &&
             (uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(pRVar13), (uVar1 & 1) != 0)) {
            uVar20 = 0;
            uVar22 = 0;
            pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427af0((int)this_01);
            pRVar14 = RKC_RPGSCRN_OBJECTBLOCK::Insert(pRVar7,CONCAT22(uVar22,uVar20));
            if (pRVar14 != (RKC_RPGSCRN_OBJECT *)0x0) {
              RKC_RPGSCRN_OBJECT::Copy(pRVar14,pRVar13);
            }
          }
          iVar3 = iVar3 + 1;
        } while (iVar3 < lVar9);
      }
      iVar5 = 0;
      iVar3 = FUN_00434cd0((int)this_01);
      if (0 < iVar3) {
        do {
          uVar6 = FUN_00427a80(this_01,iVar5);
          uVar20 = (undefined2)uVar6;
          uVar22 = (undefined2)((uint)uVar6 >> 0x10);
          iVar3 = FUN_00427a90(this_01,iVar5);
          iVar3 = FUN_00455ee0(DAT_0048ce08,iVar3,CONCAT22(uVar22,uVar20));
          iVar3 = FUN_00456230(iVar3);
          if (iVar3 == 0) {
            uVar20 = 0;
            uVar22 = 0;
            iVar3 = FUN_00427a80(this_01,iVar5);
            iVar8 = FUN_00427a90(this_01,iVar5);
            pvVar4 = (void *)FUN_00455ee0(DAT_0048ce08,iVar8,iVar3);
            FUN_00456080(pvVar4,CONCAT22(uVar22,uVar20));
          }
          iVar5 = iVar5 + 1;
          iVar3 = FUN_00434cd0((int)this_01);
        } while (iVar5 < iVar3);
      }
      SetRect(&tStack_114,0,0,0x27f,0x1df);
      ptVar21 = &tStack_114;
      uVar19 = 0x14;
      pRVar7 = RKC_RPGSCRN::GetObjectBlock(DAT_00482d14,1);
      pRVar15 = RKC_RPGSCRN::GetObjectBlock(DAT_00482d14,0);
      uVar6 = FUN_00427ae0((int)this_01);
      uVar16 = FUN_00403540((int)this_01);
      FUN_00403050(DAT_00482d1c,DAT_00482d14,DAT_00482d18,uVar16,uVar6,pRVar15,pRVar7,uVar19,
                   &ptVar21->left);
      FUN_004030b0(DAT_00482d1c,&tStack_114.left);
      iVar3 = FUN_00430890((int)this_01);
      FUN_00427ac0(this_01,iVar3 + 1);
    }
    else {
      iVar3 = FUN_00434cb0((int)DAT_0048ce0c);
      if (this_01 == *(void **)(iVar3 + 0x458)) {
        iVar3 = param_1;
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
        FUN_00434c10(DAT_0048ce0c,pRVar7,iVar3);
      }
      if (this_01 != (void *)0x0) {
        FUN_004505d0((int)this_00);
      }
      this_01 = (void *)FUN_00426160(this,param_2);
      FUN_004452b0(this_00,this_01);
      iVar3 = FUN_00434cb0((int)DAT_0048ce0c);
      if (*(void **)(iVar3 + 0x458) == this_01) {
        iVar3 = param_1;
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0((int)this_01);
        FUN_00434bb0(DAT_0048ce0c,pRVar7,iVar3);
      }
    }
    if (param_6 == -1) {
      param_6 = *(int *)((int)this_00 + 4);
    }
    if (param_3 == -1) goto LAB_0042733c;
    piVar2 = FUN_00427930(this_01,param_6 + param_3 * 4);
joined_r0x00427363:
    if (piVar2 != (int *)0x0) {
      *(int *)((int)this_00 + 0x2e0) = piVar2[2];
      *(int *)((int)this_00 + 0x2e4) = piVar2[3];
      *(int *)((int)this_00 + 0x31c) = piVar2[1];
    }
  }
  *(undefined4 *)((int)this_00 + 0x460) = 0;
  FUN_0044e960(this_00,1);
  *(undefined4 *)((int)this_00 + 0x1248) = 0xffffffff;
LAB_0042739d:
  FUN_004534b0(*(void **)((int)this_00 + 0x4e0));
  FUN_004501c0((int)this_00);
  *(undefined4 *)((int)this_00 + 0x2dc) = 0;
  *(undefined4 *)((int)this_00 + 0x314) = 1;
  *(undefined4 *)((int)this_00 + 0x318) = 0;
  *(undefined4 *)((int)this_00 + 0x308) = 0;
  *(undefined4 *)((int)this_00 + 0x484) = 0;
  *(undefined4 *)((int)this_00 + 0x1588) = 0;
  iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
  if (param_1 == iVar3) {
    *(undefined *)((int)this_00 + 0x12a4) = 0xff;
    FUN_00456230(*(int *)((int)this_00 + 0x458));
    FUN_00467d51(acStack_104,(byte *)s_Scenario__08d_Scenario_njp_00480260);
    iVar3 = RKC_UPDIB::ReadUpd(DAT_00482d10,0xc,acStack_104,0,0,0,0);
    uVar20 = 1;
    uVar22 = 0;
    *(int *)(*(int *)((int)this_00 + 0x458) + 0x6c) = iVar3;
    iVar3 = FUN_00456230(*(int *)((int)this_00 + 0x458));
    FUN_00417f30(&DAT_0048d7b0,iVar3,CONCAT22(uVar22,uVar20));
    _DAT_0048d794 = 0xffffd8f0;
    _DAT_0048d798 = 0xffffd8f0;
    FUN_00457d10(DAT_0048ce10);
    DAT_0048d6f8 = param_3;
    FUN_004170f0();
    _DAT_0048ce7c = *(undefined4 *)((int)this_01 + 0x2c);
    _DAT_0048d7ec = *(undefined4 *)((int)this_01 + 0x68);
    FUN_00412710(0x48d4f0);
    FUN_0041fdf0(0x48d7a0);
    RKC_DBFCONTROL::Clear(DAT_00482d18,(tagRGBQUAD *)0x0);
    _DAT_0048d78c = 0;
    _DAT_0048d790 = 0;
    if (DAT_00482db0 != 2) {
      piVar2 = (int *)FUN_00466410(*(int *)((int)this_00 + 0x458));
      FUN_004304b0(piVar2);
      DAT_0048d8d4 = 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_004274f0
 * Address: 004274f0
 */

void __fastcall FUN_004274f0(int *param_1)

{
  int iVar1;
  int iVar2;
  void *pvVar3;
  int *piVar4;
  
  iVar2 = FUN_00434cb0(DAT_0048ce0c);
  if (DAT_00482db0 != 0) {
    if (DAT_00482db0 == 1) {
      iVar2 = 0;
      if (*param_1 < 1) {
        return;
      }
      do {
        iVar1 = *(int *)(param_1[1] + iVar2 * 4);
        if (*(int *)(iVar1 + 0x18) != 0) {
          pvVar3 = (void *)FUN_00427aa0(iVar1);
          FUN_00429ce0(pvVar3);
          pvVar3 = (void *)FUN_00466420(*(int *)(param_1[1] + iVar2 * 4));
          FUN_0042fd60(pvVar3);
          piVar4 = (int *)FUN_00466410(*(int *)(param_1[1] + iVar2 * 4));
          FUN_004305d0(piVar4);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < *param_1);
      return;
    }
    if (DAT_00482db0 != 2) {
      return;
    }
  }
  iVar2 = FUN_004452a0(iVar2);
  pvVar3 = (void *)FUN_00427aa0(iVar2);
  FUN_00429ce0(pvVar3);
  pvVar3 = (void *)FUN_00466420(iVar2);
  FUN_0042fd60(pvVar3);
  piVar4 = (int *)FUN_00466410(iVar2);
  FUN_004305d0(piVar4);
  return;
}



/*
 * Function: FUN_004275a0
 * Address: 004275a0
 */

void __fastcall FUN_004275a0(int param_1)

{
  if (*(int *)(param_1 + 0x10) != -1) {
    if (*(int *)(param_1 + 0x14) == 0) {
      RKC_DSOUND::Play(DAT_00482d28,500,0,1,0,DAT_0048d8e8);
    }
    *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + 1;
  }
  return;
}



/*
 * Function: FUN_004275e0
 * Address: 004275e0
 */

void __thiscall FUN_004275e0(void *this,int param_1)

{
  int iVar1;
  char *local_2c [4];
  char *local_1c;
  char *local_18;
  char *local_14;
  char *local_10;
  char *local_c;
  char *local_8;
  char *local_4;
  
  local_2c[0] = s_System_Game_Music_BGM00_Voc_00480394;
  local_2c[1] = s_System_Game_Music_BGM01_Voc_00480378;
  local_2c[2] = s_System_Game_Music_BGM02_Voc_0048035c;
  local_2c[3] = s_System_Game_Music_BGM03_Voc_00480340;
  local_1c = s_System_Game_Music_BGM04_Voc_00480324;
  local_18 = s_System_Game_Music_BGM05_Voc_00480308;
  local_14 = s_System_Game_Music_BGM06_Voc_004802ec;
  local_10 = s_System_Game_Music_BGM07_Voc_004802d0;
  local_c = s_System_Game_Music_BGM08_Voc_004802b4;
  local_8 = s_System_Game_Music_BGM09_Voc_00480298;
  local_4 = s_System_Game_Music_BGM10_Voc_0048027c;
  iVar1 = FUN_00426160(this,param_1);
  if (iVar1 != 0) {
    iVar1 = FUN_00427b40(iVar1);
    if (*(int *)((int)this + 0x10) != iVar1) {
      RKC_DSOUND::ReadVocFile(DAT_00482d28,local_2c[iVar1],500);
      *(int *)((int)this + 0x10) = iVar1;
    }
    *(undefined4 *)((int)this + 0x14) = 0;
  }
  return;
}



/*
 * Function: FUN_00427690
 * Address: 00427690
 */

undefined4 * __fastcall FUN_00427690(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  RKC_RPG_SCRIPT *this;
  void *pvVar3;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471df7;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  *param_1 = 0;
  param_1[1] = 0xffffffff;
  param_1[8] = 0;
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  param_1[2] = 0;
  param_1[0xb] = 0;
  param_1[5] = 40000000;
  param_1[6] = 0;
  param_1[0x12] = 0;
  param_1[0x10] = 0;
  param_1[0xf] = 0;
  param_1[0xd] = 0;
  param_1[0xe] = 0;
  puVar1 = (undefined4 *)operator_new(0xc);
  local_4 = 0;
  if (puVar1 == (undefined4 *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = FUN_004298a0(puVar1);
  }
  local_4 = 0xffffffff;
  param_1[0xc] = uVar2;
  puVar1 = (undefined4 *)operator_new(4);
  local_4 = 1;
  if (puVar1 == (undefined4 *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = FUN_004576d0(puVar1);
  }
  local_4 = 0xffffffff;
  param_1[0x13] = uVar2;
  this = (RKC_RPG_SCRIPT *)operator_new(0x1c);
  local_4 = 2;
  if (this == (RKC_RPG_SCRIPT *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = RKC_RPG_SCRIPT::RKC_RPG_SCRIPT(this);
  }
  local_4 = 0xffffffff;
  param_1[0x15] = uVar2;
  puVar1 = (undefined4 *)operator_new(0xd8);
  local_4 = 3;
  if (puVar1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    puVar1 = FUN_0042ffd0(puVar1);
  }
  local_4 = 0xffffffff;
  param_1[0x16] = puVar1;
  pvVar3 = operator_new(0xc);
  local_4 = 4;
  if (pvVar3 == (void *)0x0) {
    pvVar3 = (void *)0x0;
  }
  else {
    pvVar3 = (void *)FUN_0042fae0((int)pvVar3);
  }
  local_4 = 0xffffffff;
  param_1[0x17] = pvVar3;
  FUN_0042fdb0(pvVar3,param_1);
  param_1[0x1b] = 0;
  param_1[7] = 0;
  param_1[0x1c] = 0;
  ExceptionList = pvStack_c;
  return param_1;
}



/*
 * Function: FUN_004277f0
 * Address: 004277f0
 */

void __fastcall FUN_004277f0(undefined4 *param_1)

{
  undefined4 *puVar1;
  int *piVar2;
  RKC_RPG_SCRIPT *this;
  LPVOID pvVar3;
  
  FUN_004278a0(param_1);
  puVar1 = (undefined4 *)param_1[0xc];
  if (puVar1 != (undefined4 *)0x0) {
    thunk_FUN_00429c90(puVar1);
    FUN_0046787e(puVar1);
    param_1[0xc] = 0;
  }
  piVar2 = (int *)param_1[0x13];
  if (piVar2 != (int *)0x0) {
    thunk_FUN_00466ac0(piVar2);
    FUN_0046787e(piVar2);
    param_1[0x13] = 0;
  }
  this = (RKC_RPG_SCRIPT *)param_1[0x15];
  if (this != (RKC_RPG_SCRIPT *)0x0) {
    RKC_RPG_SCRIPT::~RKC_RPG_SCRIPT(this);
    FUN_0046787e(this);
    param_1[0x15] = 0;
  }
  pvVar3 = (LPVOID)param_1[0x16];
  if (pvVar3 != (LPVOID)0x0) {
    FUN_00430050((int)pvVar3);
    FUN_0046787e(pvVar3);
    param_1[0x16] = 0;
  }
  pvVar3 = (LPVOID)param_1[0x17];
  if (pvVar3 != (LPVOID)0x0) {
    thunk_FUN_0042fb00((int)pvVar3);
    FUN_0046787e(pvVar3);
    param_1[0x17] = 0;
  }
  return;
}



/*
 * Function: FUN_00427890
 * Address: 00427890
 */

void FUN_00427890(undefined4 param_1)

{
  FUN_00427b50(param_1);
  return;
}



/*
 * Function: FUN_004278a0
 * Address: 004278a0
 */

void __fastcall FUN_004278a0(undefined4 *param_1)

{
  if ((HGLOBAL)param_1[3] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[3]);
    param_1[3] = 0;
  }
  if ((HGLOBAL)param_1[4] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[4]);
    param_1[4] = 0;
  }
  param_1[2] = 0;
  param_1[1] = 0xffffffff;
  if ((HGLOBAL)param_1[8] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[8]);
    param_1[8] = 0;
  }
  if ((HGLOBAL)param_1[9] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[9]);
    param_1[9] = 0;
  }
  if ((HGLOBAL)param_1[10] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[10]);
    param_1[10] = 0;
  }
  FUN_00429c90((undefined4 *)param_1[0xc]);
  param_1[6] = 0;
  param_1[0xd] = 0;
  if ((HGLOBAL)param_1[0xe] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[0xe]);
    param_1[0xe] = 0;
  }
  *param_1 = 0;
  FUN_0042fb00(param_1[0x17]);
  return;
}



/*
 * Function: FUN_00427930
 * Address: 00427930
 */

int * __thiscall FUN_00427930(void *this,int param_1)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = 0;
  if (0 < *(int *)((int)this + 0x34)) {
    piVar2 = *(int **)((int)this + 0x38);
    do {
      if (*piVar2 == param_1) {
        return *(int **)((int)this + 0x38) + iVar1 * 4;
      }
      iVar1 = iVar1 + 1;
      piVar2 = piVar2 + 4;
    } while (iVar1 < *(int *)((int)this + 0x34));
  }
  return (int *)0x0;
}



/*
 * Function: FUN_00427970
 * Address: 00427970
 */

int __thiscall FUN_00427970(void *this,int param_1,undefined4 param_2,int param_3)

{
  void *pvVar1;
  void *this_00;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  int iVar9;
  undefined4 local_8;
  int local_4;
  
  FUN_00466bc0(*(void **)((int)this + 0x4c),param_1);
  if (param_3 == -1) {
    param_3 = *(int *)((int)this + 0x14);
    *(int *)((int)this + 0x14) = param_3 + 1;
  }
  pvVar1 = FUN_004298c0(*(void **)((int)this + 0x30),30000000,param_3);
  iVar9 = 0;
  uVar8 = 0;
  uVar7 = 0;
  puVar6 = (undefined4 *)0x0;
  puVar5 = (undefined4 *)0x0;
  iVar4 = 30000000;
  iVar3 = param_3;
  this_00 = (void *)FUN_00434cd0((int)pvVar1);
  FUN_00453aa0(this_00,(int)this,iVar3,iVar4,puVar5,puVar6,uVar7,uVar8,iVar9);
  local_4 = param_1;
  local_8 = param_2;
  piVar2 = (int *)FUN_00434cd0((int)pvVar1);
  (**(code **)(*piVar2 + 4))(&local_8);
  return param_3;
}



/*
 * Function: FUN_00427a00
 * Address: 00427a00
 */

undefined4 __thiscall FUN_00427a00(void *this,int param_1,int param_2)

{
  LPVOID pvVar1;
  
  pvVar1 = (LPVOID)FUN_004299e0(*(void **)((int)this + 0x30),param_1);
  if (pvVar1 != (LPVOID)0x0) {
    FUN_00429be0(*(void **)((int)this + 0x30),pvVar1);
    FUN_00466be0(*(void **)((int)this + 0x4c),param_2);
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_00427a40
 * Address: 00427a40
 */

undefined4 __thiscall FUN_00427a40(void *this,int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = FUN_00427a00(this,param_1,param_2);
  if (iVar1 == 1) {
    FUN_00465640(&param_2);
  }
  return 1;
}



/*
 * Function: FUN_00427a70
 * Address: 00427a70
 */

void __thiscall FUN_00427a70(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 4) = param_1;
  return;
}



/*
 * Function: FUN_00427a80
 * Address: 00427a80
 */

undefined4 __thiscall FUN_00427a80(void *this,int param_1)

{
  return *(undefined4 *)(*(int *)((int)this + 0xc) + param_1 * 4);
}



/*
 * Function: FUN_00427a90
 * Address: 00427a90
 */

undefined4 __thiscall FUN_00427a90(void *this,int param_1)

{
  return *(undefined4 *)(*(int *)((int)this + 0x10) + param_1 * 4);
}



/*
 * Function: FUN_00427aa0
 * Address: 00427aa0
 */

undefined4 __fastcall FUN_00427aa0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x30);
}



/*
 * Function: FUN_00427ab0
 * Address: 00427ab0
 */

undefined4 __fastcall FUN_00427ab0(int param_1)

{
  return *(undefined4 *)(param_1 + 100);
}



/*
 * Function: FUN_00427ac0
 * Address: 00427ac0
 */

void __thiscall FUN_00427ac0(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x18) = param_1;
  return;
}



/*
 * Function: FUN_00427ad0
 * Address: 00427ad0
 */

undefined4 __fastcall FUN_00427ad0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x48);
}



/*
 * Function: FUN_00427ae0
 * Address: 00427ae0
 */

undefined4 __fastcall FUN_00427ae0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x40);
}



/*
 * Function: FUN_00427af0
 * Address: 00427af0
 */

undefined4 __fastcall FUN_00427af0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x44);
}



/*
 * Function: FUN_00427b00
 * Address: 00427b00
 */

undefined4 __fastcall FUN_00427b00(int param_1)

{
  return *(undefined4 *)(param_1 + 0x54);
}



/*
 * Function: FUN_00427b10
 * Address: 00427b10
 */

undefined4 __fastcall FUN_00427b10(int param_1)

{
  return *(undefined4 *)(param_1 + 0x28);
}



/*
 * Function: FUN_00427b20
 * Address: 00427b20
 */

undefined4 __fastcall FUN_00427b20(undefined4 *param_1)

{
  return *param_1;
}



/*
 * Function: FUN_00427b30
 * Address: 00427b30
 */

undefined4 __fastcall FUN_00427b30(int param_1)

{
  return *(undefined4 *)(param_1 + 0x6c);
}



/*
 * Function: FUN_00427b40
 * Address: 00427b40
 */

undefined4 __fastcall FUN_00427b40(int param_1)

{
  return *(undefined4 *)(param_1 + 0x1c);
}



/*
 * Function: FUN_00427b50
 * Address: 00427b50
 */

undefined4
FUN_00427b50(undefined4 param_1,undefined4 param_2,int param_3,int param_4,int param_5,
            undefined4 param_6,int param_7,int param_8,int param_9,int param_10,undefined4 param_11,
            undefined4 param_12,undefined4 param_13,undefined4 param_14,undefined4 param_15,
            int param_16,undefined4 *param_17,undefined4 *param_18,undefined4 *param_19,
            undefined4 *param_20,undefined4 *param_21,char param_22)

{
  char cVar1;
  HGLOBAL pvVar2;
  void *pvVar3;
  void *pvVar4;
  int *piVar5;
  RKC_RPG_AILIST *pRVar6;
  undefined4 uVar7;
  int *extraout_ECX;
  uint uVar8;
  uint uVar9;
  int iVar10;
  void *this;
  undefined4 *puVar11;
  char *pcVar12;
  int iVar13;
  char *pcVar14;
  char *pcVar15;
  undefined4 *puVar16;
  code *pcVar17;
  int unaff_retaddr;
  undefined4 in_stack_00000158;
  undefined4 in_stack_0000015c;
  undefined4 in_stack_00000160;
  undefined4 in_stack_00000164;
  undefined4 *in_stack_00000168;
  undefined4 in_stack_0000016c;
  undefined4 in_stack_00000170;
  undefined4 in_stack_00000174;
  int in_stack_00000178;
  undefined4 in_stack_0000017c;
  int in_stack_00000180;
  int in_stack_00000184;
  int in_stack_00000188;
  int in_stack_0000018c;
  undefined4 in_stack_00000190;
  int in_stack_00000194;
  int in_stack_00000198;
  int in_stack_0000019c;
  int in_stack_000001a0;
  char cStack000001a4;
  char cStack000001a5;
  char cStack000001a6;
  char cStack000001a7;
  char cStack000001a8;
  char cStack000001a9;
  char cStack000001aa;
  char cStack000001ab;
  char cStack000001ac;
  char cStack000001ad;
  char cStack000001ae;
  char cStack000001af;
  undefined uStack000001b0;
  undefined uStack000001b1;
  undefined uStack000001b2;
  undefined uStack000001b3;
  undefined4 in_stack_000001b4;
  undefined4 in_stack_000001b8;
  undefined4 in_stack_000001bc;
  undefined4 in_stack_000001c0;
  undefined4 in_stack_000001c4;
  undefined4 in_stack_000001c8;
  undefined4 in_stack_000001cc;
  int in_stack_000001d0;
  int in_stack_000001d4;
  int in_stack_000001d8;
  int in_stack_000001dc;
  int in_stack_000001e0;
  undefined4 in_stack_000001e4;
  int in_stack_000001e8;
  undefined4 in_stack_000001ec;
  undefined4 in_stack_000001f0;
  undefined4 in_stack_000001f4;
  void *in_stack_0000c5d8;
  char *in_stack_0000c5e8;
  int iVar18;
  undefined4 uVar19;
  RKC_FILE RVar20;
  undefined *puStack_8;
  SIZE_T SStack_4;
  
  SStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471e1c;
  RVar20 = SUB41(ExceptionList,0);
  ExceptionList = &stack0xfffffff4;
  FUN_00467f60(RVar20);
  RKC_FILE::RKC_FILE((RKC_FILE *)&stack0xfffffff4);
  cStack000001a4 = s_MCED_DATA_v0000_004803d0[0];
  cStack000001a5 = s_MCED_DATA_v0000_004803d0[1];
  cStack000001a6 = s_MCED_DATA_v0000_004803d0[2];
  cStack000001a7 = s_MCED_DATA_v0000_004803d0[3];
  uStack000001b0 = s_MCED_DATA_v0000_004803d0[0xc];
  uStack000001b1 = s_MCED_DATA_v0000_004803d0[0xd];
  uStack000001b2 = s_MCED_DATA_v0000_004803d0[0xe];
  uStack000001b3 = s_MCED_DATA_v0000_004803d0[0xf];
  cStack000001a8 = s_MCED_DATA_v0000_004803d0[4];
  cStack000001a9 = s_MCED_DATA_v0000_004803d0[5];
  cStack000001aa = s_MCED_DATA_v0000_004803d0[6];
  cStack000001ab = s_MCED_DATA_v0000_004803d0[7];
  cStack000001ac = s_MCED_DATA_v0000_004803d0[8];
  cStack000001ad = s_MCED_DATA_v0000_004803d0[9];
  cStack000001ae = s_MCED_DATA_v0000_004803d0[10];
  cStack000001af = s_MCED_DATA_v0000_004803d0[0xb];
  if (*extraout_ECX == 1) {
LAB_004295a2:
    RKC_FILE::~RKC_FILE((RKC_FILE *)&stack0xfffffff4);
    uVar7 = 1;
  }
  else {
    uVar8 = 0xffffffff;
    pcVar12 = in_stack_0000c5e8;
    do {
      pcVar15 = pcVar12;
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      pcVar15 = pcVar12 + 1;
      cVar1 = *pcVar12;
      pcVar12 = pcVar15;
    } while (cVar1 != '\0');
    uVar8 = ~uVar8;
    pcVar12 = pcVar15 + -uVar8;
    pcVar15 = &stack0x000004d4;
    for (uVar9 = uVar8 >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
      *(undefined4 *)pcVar15 = *(undefined4 *)pcVar12;
      pcVar12 = pcVar12 + 4;
      pcVar15 = pcVar15 + 4;
    }
    for (uVar8 = uVar8 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
      *pcVar15 = *pcVar12;
      pcVar12 = pcVar12 + 1;
      pcVar15 = pcVar15 + 1;
    }
    RK_SetLastRoot();
    uVar8 = 0xffffffff;
    pcVar12 = s_Scenario_Mct_004803c0;
    do {
      pcVar15 = pcVar12;
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      pcVar15 = pcVar12 + 1;
      cVar1 = *pcVar12;
      pcVar12 = pcVar15;
    } while (cVar1 != '\0');
    uVar8 = ~uVar8;
    iVar10 = -1;
    pcVar12 = &stack0x000004d4;
    do {
      pcVar14 = pcVar12;
      if (iVar10 == 0) break;
      iVar10 = iVar10 + -1;
      pcVar14 = pcVar12 + 1;
      cVar1 = *pcVar12;
      pcVar12 = pcVar14;
    } while (cVar1 != '\0');
    pcVar12 = pcVar15 + -uVar8;
    pcVar15 = pcVar14 + -1;
    for (uVar9 = uVar8 >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
      *(undefined4 *)pcVar15 = *(undefined4 *)pcVar12;
      pcVar12 = pcVar12 + 4;
      pcVar15 = pcVar15 + 4;
    }
    for (uVar8 = uVar8 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
      *pcVar15 = *pcVar12;
      pcVar12 = pcVar12 + 1;
      pcVar15 = pcVar15 + 1;
    }
    iVar10 = RKC_FILE::Create((RKC_FILE *)&stack0xfffffff4,&stack0x000004d4,0);
    if ((iVar10 != 0) &&
       (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000001a4,0x10), iVar10 != 0)) {
      _uStack000001b0 = _uStack000001b0 & 0xffffff;
      FUN_004685f5(this,(byte *)((int)&stack0x000001ac + 3));
      if (extraout_ECX[9] == 0) {
        pvVar2 = GlobalAlloc(0x40,0x104);
        extraout_ECX[9] = (int)pvVar2;
      }
      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,(void *)extraout_ECX[9],0x104);
      if (iVar10 != 0) {
        if (extraout_ECX[8] == 0) {
          pvVar2 = GlobalAlloc(0x40,0x104);
          extraout_ECX[8] = (int)pvVar2;
        }
        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,(void *)extraout_ECX[8],0x104);
        if ((((iVar10 != 0) &&
             (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,extraout_ECX + 0x18,4),
             iVar10 != 0)) &&
            (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,extraout_ECX + 0x19,4),
            iVar10 != 0)) &&
           (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,extraout_ECX + 7,4), iVar10 != 0))
        {
          if (extraout_ECX[10] == 0) {
            pvVar2 = GlobalAlloc(0x40,0x100);
            extraout_ECX[10] = (int)pvVar2;
          }
          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,(void *)extraout_ECX[10],0x100);
          if (iVar10 != 0) {
            uVar8 = 0xffffffff;
            do {
              pcVar12 = in_stack_0000c5e8;
              if (uVar8 == 0) break;
              uVar8 = uVar8 - 1;
              pcVar12 = in_stack_0000c5e8 + 1;
              cVar1 = *in_stack_0000c5e8;
              in_stack_0000c5e8 = pcVar12;
            } while (cVar1 != '\0');
            uVar8 = ~uVar8;
            pcVar12 = pcVar12 + -uVar8;
            pcVar15 = &stack0x000004d4;
            for (uVar9 = uVar8 >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
              *(undefined4 *)pcVar15 = *(undefined4 *)pcVar12;
              pcVar12 = pcVar12 + 4;
              pcVar15 = pcVar15 + 4;
            }
            for (uVar8 = uVar8 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
              *pcVar15 = *pcVar12;
              pcVar12 = pcVar12 + 1;
              pcVar15 = pcVar15 + 1;
            }
            RK_SetLastRoot();
            uVar8 = 0xffffffff;
            pcVar12 = s_Scenario_Scs_004803b0;
            do {
              pcVar15 = pcVar12;
              if (uVar8 == 0) break;
              uVar8 = uVar8 - 1;
              pcVar15 = pcVar12 + 1;
              cVar1 = *pcVar12;
              pcVar12 = pcVar15;
            } while (cVar1 != '\0');
            uVar8 = ~uVar8;
            iVar10 = -1;
            pcVar12 = &stack0x000004d4;
            do {
              pcVar14 = pcVar12;
              if (iVar10 == 0) break;
              iVar10 = iVar10 + -1;
              pcVar14 = pcVar12 + 1;
              cVar1 = *pcVar12;
              pcVar12 = pcVar14;
            } while (cVar1 != '\0');
            pcVar12 = pcVar15 + -uVar8;
            pcVar15 = pcVar14 + -1;
            for (uVar9 = uVar8 >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
              *(undefined4 *)pcVar15 = *(undefined4 *)pcVar12;
              pcVar12 = pcVar12 + 4;
              pcVar15 = pcVar15 + 4;
            }
            for (uVar8 = uVar8 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
              *pcVar15 = *pcVar12;
              pcVar12 = pcVar12 + 1;
              pcVar15 = pcVar15 + 1;
            }
            iVar10 = RKC_RPG_SCRIPT::ReadBinary
                               ((RKC_RPG_SCRIPT *)extraout_ECX[0x15],&stack0x000004d4);
            if ((((((iVar10 != 0) &&
                   (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_3,4), iVar10 != 0))
                  && ((param_3 == 0 ||
                      (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000005d8,
                                               param_3 * 4), iVar10 != 0)))) &&
                 (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_4,4), iVar10 != 0)) &&
                ((param_4 == 0 ||
                 (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000045d8,param_4 * 4)
                 , iVar10 != 0)))) &&
               ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_5,4), iVar10 != 0 &&
                ((param_5 == 0 ||
                 (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000085d8,param_5 * 4)
                 , iVar10 != 0)))))) {
              iVar10 = param_5 + param_4 + param_3;
              extraout_ECX[2] = iVar10;
              if (iVar10 != 0) {
                pvVar2 = GlobalAlloc(0x40,iVar10 * 4);
                extraout_ECX[3] = (int)pvVar2;
                pvVar2 = GlobalAlloc(0x40,extraout_ECX[2] << 2);
                extraout_ECX[4] = (int)pvVar2;
                iVar10 = 0;
                if (0 < param_3) {
                  do {
                    iVar10 = iVar10 + 1;
                    *(undefined4 *)(extraout_ECX[4] + -4 + iVar10 * 4) = 0;
                    *(undefined4 *)(extraout_ECX[3] + -4 + iVar10 * 4) =
                         *(undefined4 *)(&stack0x000005d4 + iVar10 * 4);
                  } while (iVar10 < param_3);
                }
                iVar10 = 0;
                if (0 < param_4) {
                  puVar11 = (undefined4 *)&stack0x000045d8;
                  do {
                    *(undefined4 *)(extraout_ECX[4] + (param_3 + iVar10) * 4) = 1;
                    iVar13 = param_3 + iVar10;
                    iVar10 = iVar10 + 1;
                    *(undefined4 *)(extraout_ECX[3] + iVar13 * 4) = *puVar11;
                    puVar11 = puVar11 + 1;
                  } while (iVar10 < param_4);
                }
                iVar10 = 0;
                if (0 < param_5) {
                  puVar11 = (undefined4 *)&stack0x000085d8;
                  do {
                    *(undefined4 *)(extraout_ECX[4] + (iVar10 + param_4 + param_3) * 4) = 2;
                    iVar13 = param_4 + iVar10;
                    iVar10 = iVar10 + 1;
                    *(undefined4 *)(extraout_ECX[3] + (iVar13 + param_3) * 4) = *puVar11;
                    puVar11 = puVar11 + 1;
                  } while (iVar10 < param_5);
                }
              }
              iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000000,4);
              if (iVar10 != 0) {
                param_2 = 0;
                if (0 < unaff_retaddr) {
                  do {
                    param_17 = (undefined4 *)0x0;
                    param_18 = (undefined4 *)0x0;
                    param_19 = (undefined4 *)0x0;
                    param_20 = (undefined4 *)0x0;
                    param_21 = (undefined4 *)0x0;
                    iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_7,4);
                    if ((iVar10 == 0) ||
                       (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_8,4),
                       iVar10 == 0)) goto LAB_0042944b;
                    param_22 = '\0';
                    iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                    if (iVar10 == 0) goto LAB_0042944b;
                    if (puStack_8 != (undefined *)0x0) {
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_22,(long)puStack_8
                                             );
                      if (iVar10 == 0) goto LAB_0042944b;
                      (&param_22)[(int)puStack_8] = 0;
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x0000015c,4);
                      if (iVar10 == 0) goto LAB_0042944b;
                    }
                    iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000158,4);
                    if ((((iVar10 == 0) ||
                         (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_9,8),
                         iVar10 == 0)) ||
                        (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_11,0x10),
                        iVar10 == 0)) ||
                       ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_15,4),
                        iVar10 == 0 ||
                        (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4),
                        iVar10 == 0)))) goto LAB_0042944b;
                    SStack_4 = (int)puStack_8 << 2;
                    param_21 = (undefined4 *)GlobalAlloc(0x40,SStack_4);
                    iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_21,(int)puStack_8 * 4
                                           );
                    if ((iVar10 == 0) ||
                       (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_16,4),
                       iVar10 == 0)) goto LAB_0042944b;
                    if (param_16 == 1) {
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                      if (iVar10 == 0) goto LAB_0042944b;
                      param_17 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 4);
                      param_18 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                      param_19 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                      param_20 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_17,
                                              (int)puStack_8 * 4);
                      if (((iVar10 == 0) ||
                          (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_18,
                                                   (int)puStack_8 * 2), iVar10 == 0)) ||
                         ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_19,
                                                   (int)puStack_8 * 2), iVar10 == 0 ||
                          (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_20,
                                                   (int)puStack_8 * 2), iVar10 == 0))))
                      goto LAB_0042944b;
                    }
                    iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000160,4);
                    if ((iVar10 == 0) ||
                       (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000001f0,0x34),
                       iVar10 == 0)) goto LAB_0042944b;
                    iVar10 = param_7 + 10000000;
                    pvVar3 = FUN_004298c0((void *)extraout_ECX[0xc],0,iVar10);
                    puVar11 = &param_11;
                    uVar19 = 0;
                    puVar16 = &param_9;
                    iVar18 = 0;
                    piVar5 = extraout_ECX;
                    uVar7 = param_15;
                    iVar13 = param_8;
                    pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                    FUN_00453aa0(pvVar4,(int)piVar5,iVar10,iVar18,puVar16,puVar11,uVar19,uVar7,
                                 iVar13);
                    puVar11 = param_21;
                    iVar10 = FUN_00434cd0((int)pvVar3);
                    puVar16 = (undefined4 *)(iVar10 + 0x4c);
                    for (uVar8 = SStack_4 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                      *puVar16 = *puVar11;
                      puVar11 = puVar11 + 1;
                      puVar16 = puVar16 + 1;
                    }
                    for (uVar8 = SStack_4 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                      *(undefined *)puVar16 = *(undefined *)puVar11;
                      puVar11 = (undefined4 *)((int)puVar11 + 1);
                      puVar16 = (undefined4 *)((int)puVar16 + 1);
                    }
                    if (param_22 != '\0') {
                      pcVar12 = &param_22;
                      pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                      FUN_00454130(pvVar4,pcVar12);
                    }
                    iVar10 = FUN_00434cd0((int)pvVar3);
                    *(undefined4 *)(iVar10 + 0x34) = in_stack_00000158;
                    iVar10 = FUN_00434cd0((int)pvVar3);
                    *(undefined4 *)(iVar10 + 0xbc) = in_stack_0000015c;
                    iVar10 = FUN_00434cd0((int)pvVar3);
                    *(undefined4 *)(iVar10 + 0xc0) = in_stack_00000160;
                    piVar5 = (int *)FUN_00434cd0((int)pvVar3);
                    (**(code **)(*piVar5 + 4))();
                    if (param_17 != (undefined4 *)0x0) {
                      GlobalFree(param_17);
                    }
                    if (param_18 != (undefined4 *)0x0) {
                      GlobalFree(param_18);
                    }
                    if (param_19 != (undefined4 *)0x0) {
                      GlobalFree(param_19);
                    }
                    if (param_20 != (undefined4 *)0x0) {
                      GlobalFree(param_20);
                    }
                    if (param_21 != (undefined4 *)0x0) {
                      GlobalFree(param_21);
                    }
                    param_2 = param_2 + 1;
                  } while (param_2 < unaff_retaddr);
                }
                pcVar17 = GlobalAlloc_exref;
                iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000000,4);
                if (iVar10 != 0) {
                  param_2 = 0;
                  if (0 < unaff_retaddr) {
                    do {
                      param_17 = (undefined4 *)0x0;
                      param_18 = (undefined4 *)0x0;
                      param_19 = (undefined4 *)0x0;
                      param_20 = (undefined4 *)0x0;
                      param_21 = (undefined4 *)0x0;
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_7,4);
                      if ((iVar10 == 0) ||
                         (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_8,4),
                         iVar10 == 0)) goto LAB_0042944b;
                      param_22 = '\0';
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                      if (iVar10 == 0) goto LAB_0042944b;
                      if (puStack_8 != (undefined *)0x0) {
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_22,
                                                (long)puStack_8);
                        if (iVar10 == 0) goto LAB_0042944b;
                        (&param_22)[(int)puStack_8] = 0;
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x0000015c,4);
                        if (iVar10 == 0) goto LAB_0042944b;
                      }
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000158,4);
                      if ((((iVar10 == 0) ||
                           (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_9,8),
                           iVar10 == 0)) ||
                          (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_11,0x10),
                          iVar10 == 0)) ||
                         ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_15,4),
                          iVar10 == 0 ||
                          (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4),
                          iVar10 == 0)))) goto LAB_0042944b;
                      SStack_4 = (int)puStack_8 * 4;
                      param_21 = (undefined4 *)GlobalAlloc(0x40,SStack_4);
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_21,
                                              (int)puStack_8 * 4);
                      if ((iVar10 == 0) ||
                         (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_16,4),
                         iVar10 == 0)) goto LAB_0042944b;
                      if (param_16 == 1) {
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                        if (iVar10 == 0) goto LAB_0042944b;
                        param_17 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 4);
                        param_18 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                        param_19 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                        param_20 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_17,
                                                (int)puStack_8 * 4);
                        if (((iVar10 == 0) ||
                            (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_18,
                                                     (int)puStack_8 * 2), iVar10 == 0)) ||
                           ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_19,
                                                     (int)puStack_8 * 2), iVar10 == 0 ||
                            (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_20,
                                                     (int)puStack_8 * 2), iVar10 == 0))))
                        goto LAB_0042944b;
                      }
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000160,4);
                      if ((iVar10 == 0) ||
                         (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000001c4,0x2c
                                                 ), iVar10 == 0)) goto LAB_0042944b;
                      iVar10 = param_7 + 12000000;
                      pvVar3 = FUN_004298c0((void *)extraout_ECX[0xc],10000000,iVar10);
                      puVar11 = &param_11;
                      uVar19 = 0;
                      puVar16 = &param_9;
                      iVar18 = 10000000;
                      piVar5 = extraout_ECX;
                      uVar7 = param_15;
                      iVar13 = param_8;
                      pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                      FUN_00453aa0(pvVar4,(int)piVar5,iVar10,iVar18,puVar16,puVar11,uVar19,uVar7,
                                   iVar13);
                      if (param_22 != '\0') {
                        pcVar12 = &param_22;
                        pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                        FUN_00454130(pvVar4,pcVar12);
                      }
                      iVar10 = FUN_00434cd0((int)pvVar3);
                      *(undefined4 *)(iVar10 + 0x34) = in_stack_00000158;
                      iVar10 = FUN_00434cd0((int)pvVar3);
                      *(undefined4 *)(iVar10 + 0xbc) = in_stack_0000015c;
                      iVar10 = FUN_00434cd0((int)pvVar3);
                      puVar11 = param_21;
                      *(undefined4 *)(iVar10 + 0xc0) = in_stack_00000160;
                      iVar10 = FUN_00434cd0((int)pvVar3);
                      puVar16 = (undefined4 *)(iVar10 + 0x4c);
                      for (uVar8 = SStack_4 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                        *puVar16 = *puVar11;
                        puVar11 = puVar11 + 1;
                        puVar16 = puVar16 + 1;
                      }
                      for (uVar8 = SStack_4 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                        *(undefined *)puVar16 = *(undefined *)puVar11;
                        puVar11 = (undefined4 *)((int)puVar11 + 1);
                        puVar16 = (undefined4 *)((int)puVar16 + 1);
                      }
                      in_stack_00000184 = in_stack_000001d8;
                      in_stack_00000180 = in_stack_000001d4;
                      in_stack_0000018c = in_stack_000001e0;
                      in_stack_00000188 = in_stack_000001dc;
                      if (in_stack_000001d0 == 0) {
                        in_stack_00000180 = in_stack_000001d4 + param_9;
                        in_stack_00000188 = in_stack_000001dc + param_9;
                        in_stack_00000184 = in_stack_000001d8 + param_10;
                        in_stack_0000018c = in_stack_000001e0 + param_10;
                      }
                      in_stack_00000178 = 1 - in_stack_000001e8;
                      in_stack_0000016c = in_stack_000001c4;
                      in_stack_00000170 = in_stack_000001c8;
                      in_stack_00000190 = in_stack_000001ec;
                      in_stack_00000174 = in_stack_000001cc;
                      in_stack_0000017c = in_stack_000001e4;
                      piVar5 = (int *)FUN_00434cd0((int)pvVar3);
                      (**(code **)(*piVar5 + 4))();
                      if (param_16 == 1) {
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar11 = param_17;
                        uVar8 = *(uint *)(iVar10 + 0x38);
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar16 = *(undefined4 **)(iVar10 + 0x3c);
                        for (uVar8 = uVar8 & 0x3fffffff; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *puVar16 = *puVar11;
                          puVar11 = puVar11 + 1;
                          puVar16 = puVar16 + 1;
                        }
                        for (iVar10 = 0; iVar10 != 0; iVar10 = iVar10 + -1) {
                          *(undefined *)puVar16 = *(undefined *)puVar11;
                          puVar11 = (undefined4 *)((int)puVar11 + 1);
                          puVar16 = (undefined4 *)((int)puVar16 + 1);
                        }
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar11 = param_18;
                        uVar9 = *(int *)(iVar10 + 0x38) << 1;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar16 = *(undefined4 **)(iVar10 + 0x40);
                        for (uVar8 = uVar9 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *puVar16 = *puVar11;
                          puVar11 = puVar11 + 1;
                          puVar16 = puVar16 + 1;
                        }
                        for (uVar9 = uVar9 & 3; uVar9 != 0; uVar9 = uVar9 - 1) {
                          *(undefined *)puVar16 = *(undefined *)puVar11;
                          puVar11 = (undefined4 *)((int)puVar11 + 1);
                          puVar16 = (undefined4 *)((int)puVar16 + 1);
                        }
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar11 = param_19;
                        uVar9 = *(int *)(iVar10 + 0x38) << 1;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar16 = *(undefined4 **)(iVar10 + 0x44);
                        for (uVar8 = uVar9 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *puVar16 = *puVar11;
                          puVar11 = puVar11 + 1;
                          puVar16 = puVar16 + 1;
                        }
                        for (uVar8 = uVar9 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *(undefined *)puVar16 = *(undefined *)puVar11;
                          puVar11 = (undefined4 *)((int)puVar11 + 1);
                          puVar16 = (undefined4 *)((int)puVar16 + 1);
                        }
                        SStack_4 = uVar9;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar11 = param_20;
                        uVar9 = *(int *)(iVar10 + 0x38) << 1;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar16 = *(undefined4 **)(iVar10 + 0x48);
                        for (uVar8 = uVar9 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *puVar16 = *puVar11;
                          puVar11 = puVar11 + 1;
                          puVar16 = puVar16 + 1;
                        }
                        for (uVar8 = uVar9 & 3; SStack_4 = uVar9, uVar8 != 0; uVar8 = uVar8 - 1) {
                          *(undefined *)puVar16 = *(undefined *)puVar11;
                          puVar11 = (undefined4 *)((int)puVar11 + 1);
                          puVar16 = (undefined4 *)((int)puVar16 + 1);
                        }
                      }
                      if (param_17 != (undefined4 *)0x0) {
                        GlobalFree(param_17);
                      }
                      if (param_18 != (undefined4 *)0x0) {
                        GlobalFree(param_18);
                      }
                      if (param_19 != (undefined4 *)0x0) {
                        GlobalFree(param_19);
                      }
                      if (param_20 != (undefined4 *)0x0) {
                        GlobalFree(param_20);
                      }
                      if (param_21 != (undefined4 *)0x0) {
                        GlobalFree(param_21);
                      }
                      param_2 = param_2 + 1;
                      pcVar17 = GlobalAlloc_exref;
                    } while (param_2 < unaff_retaddr);
                  }
                  iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000000,4);
                  if (iVar10 != 0) {
                    param_2 = 0;
                    if (0 < unaff_retaddr) {
                      do {
                        param_17 = (undefined4 *)0x0;
                        param_18 = (undefined4 *)0x0;
                        param_19 = (undefined4 *)0x0;
                        param_20 = (undefined4 *)0x0;
                        param_21 = (undefined4 *)0x0;
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_7,4);
                        if ((iVar10 == 0) ||
                           (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_8,4),
                           iVar10 == 0)) goto LAB_0042944b;
                        param_22 = '\0';
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                        if (iVar10 == 0) goto LAB_0042944b;
                        if (puStack_8 != (undefined *)0x0) {
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_22,
                                                  (long)puStack_8);
                          if (iVar10 == 0) goto LAB_0042944b;
                          (&param_22)[(int)puStack_8] = 0;
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x0000015c,4);
                          if (iVar10 == 0) goto LAB_0042944b;
                        }
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000158,4);
                        if ((((iVar10 == 0) ||
                             (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_9,8),
                             iVar10 == 0)) ||
                            (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_11,0x10),
                            iVar10 == 0)) ||
                           ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_15,4),
                            iVar10 == 0 ||
                            (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4),
                            iVar10 == 0)))) goto LAB_0042944b;
                        SStack_4 = (int)puStack_8 << 2;
                        param_21 = (undefined4 *)GlobalAlloc(0x40,SStack_4);
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_21,
                                                (int)puStack_8 * 4);
                        if ((iVar10 == 0) ||
                           (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_16,4),
                           iVar10 == 0)) goto LAB_0042944b;
                        if (param_16 == 1) {
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                          if (iVar10 == 0) goto LAB_0042944b;
                          param_17 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 4);
                          param_18 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                          param_19 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                          param_20 = (undefined4 *)GlobalAlloc(0,(int)puStack_8 * 2);
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_17,
                                                  (int)puStack_8 * 4);
                          if (((iVar10 == 0) ||
                              (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_18,
                                                       (int)puStack_8 * 2), iVar10 == 0)) ||
                             ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_19,
                                                       (int)puStack_8 * 2), iVar10 == 0 ||
                              (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_20,
                                                       (int)puStack_8 * 2), iVar10 == 0))))
                          goto LAB_0042944b;
                        }
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000160,4);
                        if ((iVar10 == 0) ||
                           (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000398,
                                                    0x13c), iVar10 == 0)) goto LAB_0042944b;
                        iVar10 = param_7 + 14000000;
                        pvVar3 = FUN_004298c0((void *)extraout_ECX[0xc],20000000,iVar10);
                        puVar11 = &param_11;
                        uVar19 = 0;
                        puVar16 = &param_9;
                        iVar18 = 20000000;
                        piVar5 = extraout_ECX;
                        uVar7 = param_15;
                        iVar13 = param_8;
                        pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                        FUN_00453aa0(pvVar4,(int)piVar5,iVar10,iVar18,puVar16,puVar11,uVar19,uVar7,
                                     iVar13);
                        puVar11 = param_21;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        puVar16 = (undefined4 *)(iVar10 + 0x4c);
                        for (uVar8 = SStack_4 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *puVar16 = *puVar11;
                          puVar11 = puVar11 + 1;
                          puVar16 = puVar16 + 1;
                        }
                        for (uVar8 = SStack_4 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                          *(undefined *)puVar16 = *(undefined *)puVar11;
                          puVar11 = (undefined4 *)((int)puVar11 + 1);
                          puVar16 = (undefined4 *)((int)puVar16 + 1);
                        }
                        if (param_22 != '\0') {
                          pcVar12 = &param_22;
                          pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                          FUN_00454130(pvVar4,pcVar12);
                        }
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        *(undefined4 *)(iVar10 + 0x34) = in_stack_00000158;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        *(undefined4 *)(iVar10 + 0xbc) = in_stack_0000015c;
                        iVar10 = FUN_00434cd0((int)pvVar3);
                        *(undefined4 *)(iVar10 + 0xc0) = in_stack_00000160;
                        iVar10 = 0;
                        do {
                          *(undefined4 *)(&stack0x000002ac + iVar10) =
                               *(undefined4 *)(&stack0x000003f4 + iVar10);
                          *(undefined4 *)(&stack0x000002b8 + iVar10) =
                               *(undefined4 *)(&stack0x0000040c + iVar10);
                          *(undefined4 *)(&stack0x000002c4 + iVar10) =
                               *(undefined4 *)(&stack0x00000400 + iVar10);
                          *(undefined4 *)(&stack0x000002e8 + iVar10) =
                               *(undefined4 *)(&stack0x00000418 + iVar10);
                          *(undefined4 *)(&stack0x000002f4 + iVar10) =
                               *(undefined4 *)(&stack0x00000430 + iVar10);
                          *(undefined4 *)(&stack0x00000300 + iVar10) =
                               *(undefined4 *)(&stack0x00000424 + iVar10);
                          *(undefined4 *)(&stack0x0000030c + iVar10) =
                               *(undefined4 *)(&stack0x0000043c + iVar10);
                          *(undefined4 *)(&stack0x0000035c + iVar10) =
                               *(undefined4 *)(&stack0x00000468 + iVar10);
                          *(undefined4 *)(&stack0x00000368 + iVar10) =
                               *(undefined4 *)(&stack0x00000474 + iVar10);
                          *(undefined4 *)(&stack0x00000374 + iVar10) =
                               *(undefined4 *)(&stack0x00000480 + iVar10);
                          *(undefined4 *)(&stack0x000002d0 + iVar10) =
                               *(undefined4 *)(&stack0x00000498 + iVar10);
                          *(undefined4 *)(&stack0x00000318 + iVar10) =
                               *(undefined4 *)(&stack0x000004a4 + iVar10);
                          *(undefined4 *)(&stack0x000002dc + iVar10) =
                               *(undefined4 *)(&stack0x000004b0 + iVar10);
                          *(undefined4 *)(&stack0x00000324 + iVar10) =
                               *(undefined4 *)(&stack0x000004bc + iVar10);
                          iVar10 = iVar10 + 4;
                        } while (iVar10 < 0xc);
                        pRVar6 = RKC_RPG_AICONTROL::GetFromName(DAT_0048ce18,&stack0x000003d4);
                        RKC_RPG_AICONTROL::GetNo(DAT_0048ce18,pRVar6);
                        piVar5 = (int *)FUN_00434cd0((int)pvVar3);
                        (**(code **)(*piVar5 + 4))();
                        if (param_16 == 1) {
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar11 = param_17;
                          uVar8 = *(uint *)(iVar10 + 0x38);
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar16 = *(undefined4 **)(iVar10 + 0x3c);
                          for (uVar8 = uVar8 & 0x3fffffff; uVar8 != 0; uVar8 = uVar8 - 1) {
                            *puVar16 = *puVar11;
                            puVar11 = puVar11 + 1;
                            puVar16 = puVar16 + 1;
                          }
                          for (iVar10 = 0; iVar10 != 0; iVar10 = iVar10 + -1) {
                            *(undefined *)puVar16 = *(undefined *)puVar11;
                            puVar11 = (undefined4 *)((int)puVar11 + 1);
                            puVar16 = (undefined4 *)((int)puVar16 + 1);
                          }
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar11 = param_18;
                          uVar9 = *(int *)(iVar10 + 0x38) << 1;
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar16 = *(undefined4 **)(iVar10 + 0x40);
                          for (uVar8 = uVar9 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                            *puVar16 = *puVar11;
                            puVar11 = puVar11 + 1;
                            puVar16 = puVar16 + 1;
                          }
                          for (uVar9 = uVar9 & 3; uVar9 != 0; uVar9 = uVar9 - 1) {
                            *(undefined *)puVar16 = *(undefined *)puVar11;
                            puVar11 = (undefined4 *)((int)puVar11 + 1);
                            puVar16 = (undefined4 *)((int)puVar16 + 1);
                          }
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar11 = param_19;
                          uVar9 = *(int *)(iVar10 + 0x38) << 1;
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar16 = *(undefined4 **)(iVar10 + 0x44);
                          for (uVar8 = uVar9 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                            *puVar16 = *puVar11;
                            puVar11 = puVar11 + 1;
                            puVar16 = puVar16 + 1;
                          }
                          for (uVar8 = uVar9 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                            *(undefined *)puVar16 = *(undefined *)puVar11;
                            puVar11 = (undefined4 *)((int)puVar11 + 1);
                            puVar16 = (undefined4 *)((int)puVar16 + 1);
                          }
                          SStack_4 = uVar9;
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar11 = param_20;
                          uVar9 = *(int *)(iVar10 + 0x38) << 1;
                          iVar10 = FUN_00434cd0((int)pvVar3);
                          puVar16 = *(undefined4 **)(iVar10 + 0x48);
                          for (uVar8 = uVar9 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                            *puVar16 = *puVar11;
                            puVar11 = puVar11 + 1;
                            puVar16 = puVar16 + 1;
                          }
                          for (uVar8 = uVar9 & 3; SStack_4 = uVar9, uVar8 != 0; uVar8 = uVar8 - 1) {
                            *(undefined *)puVar16 = *(undefined *)puVar11;
                            puVar11 = (undefined4 *)((int)puVar11 + 1);
                            puVar16 = (undefined4 *)((int)puVar16 + 1);
                          }
                        }
                        if (param_17 != (undefined4 *)0x0) {
                          GlobalFree(param_17);
                        }
                        if (param_18 != (undefined4 *)0x0) {
                          GlobalFree(param_18);
                        }
                        if (param_19 != (undefined4 *)0x0) {
                          GlobalFree(param_19);
                        }
                        if (param_20 != (undefined4 *)0x0) {
                          GlobalFree(param_20);
                        }
                        if (param_21 != (undefined4 *)0x0) {
                          GlobalFree(param_21);
                        }
                        param_2 = param_2 + 1;
                        pcVar17 = GlobalAlloc_exref;
                      } while (param_2 < unaff_retaddr);
                    }
                    iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000000,4);
                    if (iVar10 != 0) {
                      param_2 = 0;
                      if (0 < unaff_retaddr) {
                        do {
                          param_17 = (undefined4 *)0x0;
                          param_18 = (undefined4 *)0x0;
                          param_19 = (undefined4 *)0x0;
                          param_20 = (undefined4 *)0x0;
                          param_21 = (undefined4 *)0x0;
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_7,4);
                          if ((iVar10 == 0) ||
                             (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_8,4),
                             iVar10 == 0)) goto LAB_0042944b;
                          param_22 = '\0';
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                          if (iVar10 == 0) goto LAB_0042944b;
                          if (puStack_8 != (undefined *)0x0) {
                            iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_22,
                                                    (long)puStack_8);
                            if (iVar10 == 0) goto LAB_0042944b;
                            (&param_22)[(int)puStack_8] = 0;
                            iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x0000015c,4)
                            ;
                            if (iVar10 == 0) goto LAB_0042944b;
                          }
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000158,4);
                          if ((((iVar10 == 0) ||
                               (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_9,8),
                               iVar10 == 0)) ||
                              (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_11,0x10),
                              iVar10 == 0)) ||
                             ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_15,4),
                              iVar10 == 0 ||
                              (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4),
                              iVar10 == 0)))) goto LAB_0042944b;
                          SStack_4 = (int)puStack_8 << 2;
                          param_21 = (undefined4 *)(*pcVar17)();
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_21,
                                                  (int)puStack_8 * 4);
                          if ((iVar10 == 0) ||
                             (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&param_16,4),
                             iVar10 == 0)) goto LAB_0042944b;
                          if (param_16 == 1) {
                            iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&puStack_8,4);
                            if (iVar10 == 0) goto LAB_0042944b;
                            param_15 = (*pcVar17)();
                            param_14 = (*pcVar17)();
                            param_13 = (*pcVar17)();
                            param_20 = (undefined4 *)(*pcVar17)();
                            iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_17,
                                                    (int)puStack_8 * 4);
                            if (((iVar10 == 0) ||
                                (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_18,
                                                         (int)puStack_8 * 2), iVar10 == 0)) ||
                               ((iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_19,
                                                         (int)puStack_8 * 2), iVar10 == 0 ||
                                (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,param_20,
                                                         (int)puStack_8 * 2), iVar10 == 0))))
                            goto LAB_0042944b;
                          }
                          iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000160,4);
                          if ((iVar10 == 0) ||
                             (iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000194,
                                                      0x10), iVar10 == 0)) goto LAB_0042944b;
                          if (DAT_00482db0 != 2) {
                            iVar10 = param_7 + 18000000;
                            pvVar3 = FUN_004298c0((void *)extraout_ECX[0xc],30000000,iVar10);
                            puVar11 = &param_11;
                            uVar19 = 0;
                            puVar16 = &param_9;
                            iVar18 = 30000000;
                            piVar5 = extraout_ECX;
                            uVar7 = param_15;
                            iVar13 = param_8;
                            pvVar4 = (void *)FUN_00434cd0((int)pvVar3);
                            FUN_00453aa0(pvVar4,(int)piVar5,iVar10,iVar18,puVar16,puVar11,uVar19,
                                         uVar7,iVar13);
                            puVar11 = param_21;
                            iVar10 = FUN_00434cd0((int)pvVar3);
                            puVar16 = (undefined4 *)(iVar10 + 0x4c);
                            for (uVar8 = SStack_4 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
                              *puVar16 = *puVar11;
                              puVar11 = puVar11 + 1;
                              puVar16 = puVar16 + 1;
                            }
                            for (uVar8 = SStack_4 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                              *(undefined *)puVar16 = *(undefined *)puVar11;
                              puVar11 = (undefined4 *)((int)puVar11 + 1);
                              puVar16 = (undefined4 *)((int)puVar16 + 1);
                            }
                            in_stack_00000164 = 1;
                            in_stack_00000168 =
                                 FUN_00462d30(DAT_0048ce14,in_stack_00000194,in_stack_00000198,
                                              (undefined4 *)0x0);
                            FUN_004663e0(in_stack_00000168,param_9,param_10);
                            if ((in_stack_00000194 == 4) && (in_stack_00000198 == 0)) {
                              iVar10 = _rand();
                              FUN_00466440(in_stack_00000168,
                                           iVar10 % ((in_stack_000001a0 - in_stack_0000019c) + 1) +
                                           in_stack_0000019c);
                            }
                            piVar5 = (int *)FUN_00434cd0((int)pvVar3);
                            (**(code **)(*piVar5 + 4))();
                            pcVar17 = GlobalAlloc_exref;
                          }
                          if (param_17 != (undefined4 *)0x0) {
                            GlobalFree(param_17);
                          }
                          if (param_18 != (undefined4 *)0x0) {
                            GlobalFree(param_18);
                          }
                          if (param_19 != (undefined4 *)0x0) {
                            GlobalFree(param_19);
                          }
                          if (param_20 != (undefined4 *)0x0) {
                            GlobalFree(param_20);
                          }
                          if (param_21 != (undefined4 *)0x0) {
                            GlobalFree(param_21);
                          }
                          param_2 = param_2 + 1;
                        } while (param_2 < unaff_retaddr);
                      }
                      iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x00000000,4);
                      if (iVar10 != 0) {
                        extraout_ECX[0xd] = unaff_retaddr;
                        iVar10 = (*pcVar17)();
                        extraout_ECX[0xe] = iVar10;
                        iVar10 = 0;
                        if (0 < unaff_retaddr) {
                          iVar13 = 0;
                          do {
                            iVar18 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,&stack0x000001b4,
                                                    0x10);
                            if (iVar18 == 0) goto LAB_0042944b;
                            iVar10 = iVar10 + 1;
                            *(undefined4 *)(iVar13 + extraout_ECX[0xe]) = in_stack_000001b4;
                            *(undefined4 *)(iVar13 + 8 + extraout_ECX[0xe]) = in_stack_000001b8;
                            *(undefined4 *)(iVar13 + 0xc + extraout_ECX[0xe]) = in_stack_000001bc;
                            *(undefined4 *)(iVar13 + 4 + extraout_ECX[0xe]) = in_stack_000001c0;
                            iVar13 = iVar13 + 0x10;
                          } while (iVar10 < unaff_retaddr);
                        }
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,extraout_ECX + 0xb,4);
                        if (iVar10 == 0) {
                          RKC_FILE::~RKC_FILE((RKC_FILE *)&stack0xfffffff4);
                          ExceptionList = in_stack_0000c5d8;
                          return 0;
                        }
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,extraout_ECX + 0x1c,4);
                        if (iVar10 == 0) {
                          RKC_FILE::~RKC_FILE((RKC_FILE *)&stack0xfffffff4);
                          ExceptionList = in_stack_0000c5d8;
                          return 0;
                        }
                        iVar10 = RKC_FILE::Read((RKC_FILE *)&stack0xfffffff4,extraout_ECX + 0x1a,4);
                        if (iVar10 == 0) {
                          RKC_FILE::~RKC_FILE((RKC_FILE *)&stack0xfffffff4);
                          ExceptionList = in_stack_0000c5d8;
                          return 0;
                        }
                        RKC_FILE::Close((RKC_FILE *)&stack0xfffffff4);
                        if ((DAT_00482db0 != 2) &&
                           (iVar10 = FUN_004300e0((void *)extraout_ECX[0x16],(int)extraout_ECX,
                                                  (RKC_RPG_SCRIPT *)extraout_ECX[0x15],-1,
                                                  (undefined4 *)0x0,-1,(undefined4 *)0x0),
                           iVar10 == 0)) {
                          RKC_FILE::~RKC_FILE((RKC_FILE *)&stack0xfffffff4);
                          ExceptionList = in_stack_0000c5d8;
                          return 0;
                        }
                        *extraout_ECX = 1;
                        goto LAB_004295a2;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
LAB_0042944b:
    RKC_FILE::~RKC_FILE((RKC_FILE *)&stack0xfffffff4);
    uVar7 = 0;
  }
  ExceptionList = in_stack_0000c5d8;
  return uVar7;
}



/*
 * Function: FUN_004295d0
 * Address: 004295d0
 */

void __fastcall FUN_004295d0(int param_1)

{
  *(undefined4 *)(param_1 + 4) = 0xffffffff;
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  return;
}



/*
 * Function: thunk_FUN_004297e0
 * Address: 004295f0
 */

void __fastcall thunk_FUN_004297e0(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  long lVar4;
  bool bVar5;
  RKC_RPGSCRN_OBJECT *pRVar6;
  
  iVar1 = *(int *)(param_1 + 8);
  if (iVar1 == 0) goto LAB_00429892;
  if ((*(int *)(iVar1 + 0x5c) != 0) &&
     (pRVar6 = *(RKC_RPGSCRN_OBJECT **)(iVar1 + 0x58), pRVar6 != (RKC_RPGSCRN_OBJECT *)0x0)) {
    pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)(iVar1 + 0x5c));
    lVar4 = RKC_RPGSCRN_OBJECTBLOCK::GetNo(pRVar3,pRVar6);
    if (-1 < lVar4) {
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)(*(int *)(param_1 + 8) + 0x5c));
      RKC_RPGSCRN_OBJECTBLOCK::Delete(pRVar3,lVar4);
    }
    *(undefined4 *)(*(int *)(param_1 + 8) + 0x58) = 0;
  }
  iVar1 = *(int *)(param_1 + 4);
  if (iVar1 < 0x1c9c381) {
    if (iVar1 != 30000000) {
      if (iVar1 == 0) goto LAB_0042984a;
      if (iVar1 != 10000000) {
        bVar5 = iVar1 == 20000000;
        goto LAB_00429848;
      }
    }
    puVar2 = *(undefined4 **)(param_1 + 8);
joined_r0x00429883:
    if (puVar2 != (undefined4 *)0x0) {
      (**(code **)*puVar2)(1);
    }
  }
  else {
    if (iVar1 == 40000000) {
      puVar2 = *(undefined4 **)(param_1 + 8);
      goto joined_r0x00429883;
    }
    bVar5 = iVar1 == 50000000;
LAB_00429848:
    if (bVar5) {
LAB_0042984a:
      if (*(undefined4 **)(param_1 + 8) != (undefined4 *)0x0) {
        (**(code **)**(undefined4 **)(param_1 + 8))(1);
        *(undefined4 *)(param_1 + 8) = 0;
        *(undefined4 *)(param_1 + 4) = 0xffffffff;
        return;
      }
    }
  }
  *(undefined4 *)(param_1 + 8) = 0;
LAB_00429892:
  *(undefined4 *)(param_1 + 4) = 0xffffffff;
  return;
}



/*
 * Function: FUN_00429600
 * Address: 00429600
 */

undefined4 __thiscall FUN_00429600(void *this,int param_1)

{
  undefined4 *puVar1;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471e72;
  local_c = ExceptionList;
  if (param_1 < 0x1c9c381) {
    if (param_1 == 30000000) {
      ExceptionList = &local_c;
      puVar1 = (undefined4 *)operator_new(0xe4);
      local_4 = 3;
      if (puVar1 == (undefined4 *)0x0) {
        *(undefined4 *)this = 3;
        *(undefined4 *)((int)this + 8) = 0;
      }
      else {
        puVar1 = FUN_00458890(puVar1);
        *(undefined4 **)((int)this + 8) = puVar1;
        *(undefined4 *)this = 3;
      }
    }
    else if (param_1 == 0) {
      ExceptionList = &local_c;
      puVar1 = (undefined4 *)operator_new(0x120);
      local_4 = 0;
      if (puVar1 == (undefined4 *)0x0) {
        *(undefined4 *)((int)this + 8) = 0;
        *(undefined4 *)this = 0;
      }
      else {
        puVar1 = FUN_0045dca0(puVar1);
        *(undefined4 **)((int)this + 8) = puVar1;
        *(undefined4 *)this = 0;
      }
    }
    else if (param_1 == 10000000) {
      ExceptionList = &local_c;
      puVar1 = (undefined4 *)operator_new(400);
      local_4 = 1;
      if (puVar1 == (undefined4 *)0x0) {
        *(undefined4 *)this = 1;
        *(undefined4 *)((int)this + 8) = 0;
      }
      else {
        puVar1 = FUN_0045d020(puVar1);
        *(undefined4 **)((int)this + 8) = puVar1;
        *(undefined4 *)this = 1;
      }
    }
    else if (param_1 == 20000000) {
      ExceptionList = &local_c;
      puVar1 = (undefined4 *)operator_new(0x350);
      local_4 = 2;
      if (puVar1 == (undefined4 *)0x0) {
        *(undefined4 *)this = 2;
        *(undefined4 *)((int)this + 8) = 0;
      }
      else {
        puVar1 = FUN_00458de0(puVar1);
        *(undefined4 **)((int)this + 8) = puVar1;
        *(undefined4 *)this = 2;
      }
    }
  }
  else if (param_1 == 40000000) {
    ExceptionList = &local_c;
    puVar1 = (undefined4 *)operator_new(0x260);
    local_4 = 4;
    if (puVar1 == (undefined4 *)0x0) {
      puVar1 = (undefined4 *)0x0;
    }
    else {
      puVar1 = FUN_0045f410(puVar1);
    }
    *(undefined4 **)((int)this + 8) = puVar1;
    *(undefined4 *)this = 5;
  }
  else if (param_1 == 50000000) {
    ExceptionList = &local_c;
    puVar1 = (undefined4 *)operator_new(0xaa0);
    local_4 = 5;
    if (puVar1 == (undefined4 *)0x0) {
      *(undefined4 *)this = 4;
      *(undefined4 *)((int)this + 8) = 0;
    }
    else {
      puVar1 = FUN_0045e120(puVar1);
      *(undefined4 **)((int)this + 8) = puVar1;
      *(undefined4 *)this = 4;
    }
  }
  ExceptionList = local_c;
  return *(undefined4 *)((int)this + 8);
}



/*
 * Function: FUN_004297e0
 * Address: 004297e0
 */

void __fastcall FUN_004297e0(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  long lVar4;
  bool bVar5;
  RKC_RPGSCRN_OBJECT *pRVar6;
  
  iVar1 = *(int *)(param_1 + 8);
  if (iVar1 == 0) goto LAB_00429892;
  if ((*(int *)(iVar1 + 0x5c) != 0) &&
     (pRVar6 = *(RKC_RPGSCRN_OBJECT **)(iVar1 + 0x58), pRVar6 != (RKC_RPGSCRN_OBJECT *)0x0)) {
    pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)(iVar1 + 0x5c));
    lVar4 = RKC_RPGSCRN_OBJECTBLOCK::GetNo(pRVar3,pRVar6);
    if (-1 < lVar4) {
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)(*(int *)(param_1 + 8) + 0x5c));
      RKC_RPGSCRN_OBJECTBLOCK::Delete(pRVar3,lVar4);
    }
    *(undefined4 *)(*(int *)(param_1 + 8) + 0x58) = 0;
  }
  iVar1 = *(int *)(param_1 + 4);
  if (iVar1 < 0x1c9c381) {
    if (iVar1 != 30000000) {
      if (iVar1 == 0) goto LAB_0042984a;
      if (iVar1 != 10000000) {
        bVar5 = iVar1 == 20000000;
        goto LAB_00429848;
      }
    }
    puVar2 = *(undefined4 **)(param_1 + 8);
joined_r0x00429883:
    if (puVar2 != (undefined4 *)0x0) {
      (**(code **)*puVar2)(1);
    }
  }
  else {
    if (iVar1 == 40000000) {
      puVar2 = *(undefined4 **)(param_1 + 8);
      goto joined_r0x00429883;
    }
    bVar5 = iVar1 == 50000000;
LAB_00429848:
    if (bVar5) {
LAB_0042984a:
      if (*(undefined4 **)(param_1 + 8) != (undefined4 *)0x0) {
        (**(code **)**(undefined4 **)(param_1 + 8))(1);
        *(undefined4 *)(param_1 + 8) = 0;
        *(undefined4 *)(param_1 + 4) = 0xffffffff;
        return;
      }
    }
  }
  *(undefined4 *)(param_1 + 8) = 0;
LAB_00429892:
  *(undefined4 *)(param_1 + 4) = 0xffffffff;
  return;
}



/*
 * Function: FUN_004298a0
 * Address: 004298a0
 */

void __fastcall FUN_004298a0(undefined4 *param_1)

{
  param_1[2] = 0;
  param_1[1] = 0;
  *param_1 = 0;
  return;
}



/*
 * Function: thunk_FUN_00429c90
 * Address: 004298b0
 */

void __fastcall thunk_FUN_00429c90(undefined4 *param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  
  pvVar1 = (LPVOID)param_1[2];
  while (pvVar2 = pvVar1, pvVar2 != (LPVOID)0x0) {
    pvVar1 = *(LPVOID *)((int)pvVar2 + 0xc);
    if (pvVar2 != (LPVOID)0x0) {
      thunk_FUN_004297e0((int)pvVar2);
      FUN_0046787e(pvVar2);
    }
  }
  param_1[2] = 0;
  if ((HGLOBAL)param_1[1] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_004298c0
 * Address: 004298c0
 */

void * __thiscall FUN_004298c0(void *this,int param_1,int param_2)

{
  void *pvVar1;
  int iVar2;
  HGLOBAL pvVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471e8b;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  pvVar1 = operator_new(0x10);
  local_4 = 0;
  if (pvVar1 == (void *)0x0) {
    pvVar1 = (void *)0x0;
  }
  else {
    pvVar1 = (void *)FUN_004295d0((int)pvVar1);
  }
  iVar4 = *(int *)((int)this + 8);
  local_4 = 0xffffffff;
  if (iVar4 == 0) {
    *(undefined4 *)((int)pvVar1 + 0xc) = 0;
    *(void **)((int)this + 8) = pvVar1;
  }
  else {
    iVar6 = iVar4;
    iVar5 = 0;
    if (iVar4 != 0) {
      do {
        iVar2 = iVar6;
        if (param_2 < *(int *)(*(int *)(iVar2 + 8) + 4)) break;
        iVar6 = *(int *)(iVar2 + 0xc);
        iVar5 = iVar2;
      } while (*(int *)(iVar2 + 0xc) != 0);
      if (iVar5 != 0) {
        *(undefined4 *)((int)pvVar1 + 0xc) = *(undefined4 *)(iVar5 + 0xc);
        *(void **)(iVar5 + 0xc) = pvVar1;
        goto LAB_0042994a;
      }
    }
    *(int *)((int)pvVar1 + 0xc) = iVar4;
    *(void **)((int)this + 8) = pvVar1;
  }
LAB_0042994a:
  FUN_00429600(pvVar1,param_1);
  *(int *)(*(int *)((int)pvVar1 + 8) + 4) = param_2;
  *(undefined4 *)(*(int *)((int)pvVar1 + 8) + 0x58) = 0;
  *(int *)((int)pvVar1 + 4) = param_1;
  if (*(HGLOBAL *)((int)this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)((int)this + 4));
    *(undefined4 *)((int)this + 4) = 0;
  }
  iVar4 = *(int *)((int)this + 8);
  *(undefined4 *)this = 0;
  for (; iVar4 != 0; iVar4 = *(int *)(iVar4 + 0xc)) {
                    /* WARNING: Load size is inaccurate */
    *(int *)this = *this + 1;
  }
                    /* WARNING: Load size is inaccurate */
  if (*this != 0) {
    pvVar3 = GlobalAlloc(0,*this << 2);
    *(HGLOBAL *)((int)this + 4) = pvVar3;
    iVar4 = *(int *)((int)this + 8);
    if (iVar4 != 0) {
      iVar6 = 0;
      do {
        *(int *)(iVar6 + *(int *)((int)this + 4)) = iVar4;
        iVar4 = *(int *)(iVar4 + 0xc);
        iVar6 = iVar6 + 4;
      } while (iVar4 != 0);
    }
  }
  ExceptionList = pvStack_c;
  return pvVar1;
}



/*
 * Function: FUN_004299e0
 * Address: 004299e0
 */

undefined4 __thiscall FUN_004299e0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
                    /* WARNING: Load size is inaccurate */
  if (*this != 0) {
    iVar3 = *this + -1;
    iVar4 = 0;
    if (-1 < iVar3) {
      do {
        iVar2 = (iVar3 + iVar4) / 2;
        iVar1 = *(int *)(*(int *)(*(int *)(*(int *)((int)this + 4) + iVar2 * 4) + 8) + 4);
        if (iVar1 == param_1) {
          return *(undefined4 *)(*(int *)((int)this + 4) + iVar2 * 4);
        }
        if (param_1 < iVar1) {
          iVar3 = iVar2 + -1;
        }
        else {
          iVar4 = iVar2 + 1;
        }
      } while (iVar4 <= iVar3);
    }
  }
  return 0;
}



/*
 * Function: FUN_00429a40
 * Address: 00429a40
 */

undefined4 __thiscall FUN_00429a40(void *this,RKC_RPGSCRN_OBJECTBLOCK *param_1)

{
  int iVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  undefined4 *puVar3;
  
  puVar3 = *(undefined4 **)((int)this + 8);
  if (puVar3 == (undefined4 *)0x0) {
    return 1;
  }
  do {
    iVar1 = FUN_00427b20(puVar3);
    if ((iVar1 != 3) && (*(int *)(puVar3[2] + 0x58) == 0)) {
      pRVar2 = RKC_RPGSCRN_OBJECTBLOCK::Insert(param_1,0);
      *(RKC_RPGSCRN_OBJECT **)(puVar3[2] + 0x58) = pRVar2;
      RKC_RPGSCRN_OBJECT::SetCharacterNo
                (*(RKC_RPGSCRN_OBJECT **)(puVar3[2] + 0x58),*(long *)(puVar3[2] + 4));
      (**(code **)(*(int *)puVar3[2] + 0xc))();
    }
    puVar3 = (undefined4 *)puVar3[3];
  } while (puVar3 != (undefined4 *)0x0);
  return 1;
}



/*
 * Function: FUN_00429ab0
 * Address: 00429ab0
 */

undefined4 __thiscall FUN_00429ab0(void *this,RKC_RPGSCRN_OBJECTBLOCK *param_1)

{
  int iVar1;
  long lVar2;
  undefined4 *puVar3;
  
  puVar3 = *(undefined4 **)((int)this + 8);
  if (puVar3 == (undefined4 *)0x0) {
    return 1;
  }
  do {
    iVar1 = FUN_00427b20(puVar3);
    if ((iVar1 != 3) && (*(RKC_RPGSCRN_OBJECT **)(puVar3[2] + 0x58) != (RKC_RPGSCRN_OBJECT *)0x0)) {
      lVar2 = RKC_RPGSCRN_OBJECTBLOCK::GetNo(param_1,*(RKC_RPGSCRN_OBJECT **)(puVar3[2] + 0x58));
      RKC_RPGSCRN_OBJECTBLOCK::Delete(param_1,lVar2);
      *(undefined4 *)(puVar3[2] + 0x58) = 0;
    }
    puVar3 = (undefined4 *)puVar3[3];
  } while (puVar3 != (undefined4 *)0x0);
  return 1;
}



/*
 * Function: FUN_00429b20
 * Address: 00429b20
 */

void __thiscall FUN_00429b20(void *this,int param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  HGLOBAL pvVar3;
  int iVar4;
  int iVar5;
  
  pvVar1 = (LPVOID)0x0;
  pvVar2 = *(LPVOID *)((int)this + 8);
  do {
    if (pvVar2 == (LPVOID)0x0) {
LAB_00429b6e:
      if (*(HGLOBAL *)((int)this + 4) != (HGLOBAL)0x0) {
        GlobalFree(*(HGLOBAL *)((int)this + 4));
        *(undefined4 *)((int)this + 4) = 0;
      }
      iVar4 = *(int *)((int)this + 8);
      *(undefined4 *)this = 0;
      for (; iVar4 != 0; iVar4 = *(int *)(iVar4 + 0xc)) {
                    /* WARNING: Load size is inaccurate */
        *(int *)this = *this + 1;
      }
                    /* WARNING: Load size is inaccurate */
      if (*this != 0) {
        pvVar3 = GlobalAlloc(0,*this * 4);
        *(HGLOBAL *)((int)this + 4) = pvVar3;
        iVar4 = *(int *)((int)this + 8);
        if (iVar4 != 0) {
          iVar5 = 0;
          do {
            *(int *)(iVar5 + *(int *)((int)this + 4)) = iVar4;
            iVar4 = *(int *)(iVar4 + 0xc);
            iVar5 = iVar5 + 4;
          } while (iVar4 != 0);
        }
      }
      return;
    }
    if (*(int *)(*(int *)((int)pvVar2 + 8) + 4) == param_1) {
      if (pvVar1 == (LPVOID)0x0) {
        *(undefined4 *)((int)this + 8) = *(undefined4 *)((int)pvVar2 + 0xc);
      }
      else {
        *(undefined4 *)((int)pvVar1 + 0xc) = *(undefined4 *)((int)pvVar2 + 0xc);
      }
      if (pvVar2 != (LPVOID)0x0) {
        thunk_FUN_004297e0((int)pvVar2);
        FUN_0046787e(pvVar2);
      }
      goto LAB_00429b6e;
    }
    pvVar1 = pvVar2;
    pvVar2 = *(LPVOID *)((int)pvVar2 + 0xc);
  } while( true );
}



/*
 * Function: FUN_00429be0
 * Address: 00429be0
 */

void __thiscall FUN_00429be0(void *this,LPVOID param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  HGLOBAL pvVar3;
  int iVar4;
  int iVar5;
  
  pvVar1 = (LPVOID)0x0;
  pvVar2 = *(LPVOID *)((int)this + 8);
  do {
    if (pvVar2 == (LPVOID)0x0) {
LAB_00429c2a:
      if (*(HGLOBAL *)((int)this + 4) != (HGLOBAL)0x0) {
        GlobalFree(*(HGLOBAL *)((int)this + 4));
        *(undefined4 *)((int)this + 4) = 0;
      }
      iVar4 = *(int *)((int)this + 8);
      *(undefined4 *)this = 0;
      for (; iVar4 != 0; iVar4 = *(int *)(iVar4 + 0xc)) {
                    /* WARNING: Load size is inaccurate */
        *(int *)this = *this + 1;
      }
                    /* WARNING: Load size is inaccurate */
      if (*this != 0) {
        pvVar3 = GlobalAlloc(0,*this * 4);
        *(HGLOBAL *)((int)this + 4) = pvVar3;
        iVar4 = *(int *)((int)this + 8);
        if (iVar4 != 0) {
          iVar5 = 0;
          do {
            iVar5 = iVar5 + 4;
            *(int *)(*(int *)((int)this + 4) + -4 + iVar5) = iVar4;
            iVar4 = *(int *)(iVar4 + 0xc);
          } while (iVar4 != 0);
        }
      }
      return;
    }
    if (pvVar2 == param_1) {
      if (pvVar1 == (LPVOID)0x0) {
        *(undefined4 *)((int)this + 8) = *(undefined4 *)((int)pvVar2 + 0xc);
      }
      else {
        *(undefined4 *)((int)pvVar1 + 0xc) = *(undefined4 *)((int)pvVar2 + 0xc);
      }
      if (pvVar2 != (LPVOID)0x0) {
        thunk_FUN_004297e0((int)pvVar2);
        FUN_0046787e(pvVar2);
      }
      goto LAB_00429c2a;
    }
    pvVar1 = pvVar2;
    pvVar2 = *(LPVOID *)((int)pvVar2 + 0xc);
  } while( true );
}



/*
 * Function: FUN_00429c90
 * Address: 00429c90
 */

void __fastcall FUN_00429c90(undefined4 *param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  
  pvVar1 = (LPVOID)param_1[2];
  while (pvVar2 = pvVar1, pvVar2 != (LPVOID)0x0) {
    pvVar1 = *(LPVOID *)((int)pvVar2 + 0xc);
    if (pvVar2 != (LPVOID)0x0) {
      thunk_FUN_004297e0((int)pvVar2);
      FUN_0046787e(pvVar2);
    }
  }
  param_1[2] = 0;
  if ((HGLOBAL)param_1[1] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_00429ce0
 * Address: 00429ce0
 */

void __fastcall FUN_00429ce0(void *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  
  puVar1 = *(undefined4 **)((int)param_1 + 8);
  while (puVar2 = puVar1, puVar2 != (undefined4 *)0x0) {
    puVar1 = (undefined4 *)puVar2[3];
    (**(code **)(*(int *)puVar2[2] + 8))();
    iVar3 = FUN_00427b20(puVar2);
    if ((iVar3 == 4) && (iVar3 = FUN_00434cd0((int)puVar2), *(int *)(iVar3 + 0xc4) == 1)) {
      FUN_00429be0(param_1,puVar2);
    }
  }
  return;
}



/*
 * Function: FUN_00429d30
 * Address: 00429d30
 */

void __thiscall FUN_00429d30(void *this,int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  HGLOBAL pvVar4;
  int iVar5;
  
  puVar1 = *(undefined4 **)((int)this + 8);
  while (puVar2 = puVar1, puVar2 != (undefined4 *)0x0) {
    puVar1 = (undefined4 *)puVar2[3];
    iVar3 = FUN_00427b20(puVar2);
    if (iVar3 == param_1) {
      FUN_00429be0(this,puVar2);
    }
  }
  if (*(HGLOBAL *)((int)this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)((int)this + 4));
    *(undefined4 *)((int)this + 4) = 0;
  }
  iVar3 = *(int *)((int)this + 8);
  *(undefined4 *)this = 0;
  for (; iVar3 != 0; iVar3 = *(int *)(iVar3 + 0xc)) {
                    /* WARNING: Load size is inaccurate */
    *(int *)this = *this + 1;
  }
                    /* WARNING: Load size is inaccurate */
  if (*this != 0) {
    pvVar4 = GlobalAlloc(0,*this << 2);
    *(HGLOBAL *)((int)this + 4) = pvVar4;
    iVar3 = *(int *)((int)this + 8);
    if (iVar3 != 0) {
      iVar5 = 0;
      do {
        iVar5 = iVar5 + 4;
        *(int *)(*(int *)((int)this + 4) + -4 + iVar5) = iVar3;
        iVar3 = *(int *)(iVar3 + 0xc);
      } while (iVar3 != 0);
    }
  }
  return;
}



/*
 * Function: FUN_00429dd0
 * Address: 00429dd0
 */

undefined4 __thiscall FUN_00429dd0(void *this,int param_1,int param_2)

{
  void *pvVar1;
  int iVar2;
  void *this_00;
  int *piVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  int iVar8;
  undefined4 uVar9;
  undefined4 local_18 [2];
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  iVar4 = *(int *)((int)this + 0x14);
  *(int *)((int)this + 0x14) = iVar4 + 1;
  iVar2 = iVar4;
  pvVar1 = (void *)FUN_00427aa0((int)this);
  iVar2 = FUN_004299e0(pvVar1,iVar2);
  if (iVar2 == 0) {
    iVar8 = 50000000;
    iVar2 = iVar4;
    pvVar1 = (void *)FUN_00427aa0((int)this);
    pvVar1 = FUN_004298c0(pvVar1,iVar8,iVar2);
    uVar9 = *(undefined4 *)(param_2 + 0x34);
    local_10 = *(undefined4 *)(param_2 + 0x20);
    local_c = *(undefined4 *)(param_2 + 0x24);
    local_8 = *(undefined4 *)(param_2 + 0x28);
    local_4 = *(undefined4 *)(param_2 + 0x2c);
    puVar6 = &local_10;
    uVar7 = 0;
    puVar5 = local_18;
    iVar2 = 50000000;
    this_00 = (void *)FUN_00434cd0((int)pvVar1);
    FUN_00453aa0(this_00,(int)this,iVar4,iVar2,puVar5,puVar6,uVar7,uVar9,param_1);
    piVar3 = (int *)FUN_00434cd0((int)pvVar1);
    (**(code **)(*piVar3 + 4))(param_2);
    uVar9 = *(undefined4 *)(param_2 + 0x4c);
    uVar7 = *(undefined4 *)(param_2 + 0x50);
    iVar4 = FUN_00434cd0((int)pvVar1);
    *(undefined4 *)(iVar4 + 0x18) = uVar9;
    *(undefined4 *)(iVar4 + 0x1c) = uVar7;
    iVar4 = FUN_00434cd0((int)pvVar1);
    return *(undefined4 *)(iVar4 + 4);
  }
  return 0;
}



/*
 * Function: FUN_00429ea0
 * Address: 00429ea0
 */

void __fastcall FUN_00429ea0(int param_1)

{
  *(undefined4 *)(param_1 + 0x3a8) = 0;
  return;
}



/*
 * Function: FUN_00429eb0
 * Address: 00429eb0
 */

void __thiscall FUN_00429eb0(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x398) = param_1;
  return;
}



/*
 * Function: FUN_00429ec0
 * Address: 00429ec0
 */

uint __fastcall FUN_00429ec0(int *param_1)

{
  int iVar1;
  bool bVar2;
  uint uVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined3 extraout_var_05;
  
  iVar1 = param_1[3];
  if (iVar1 < 0x3e9) {
    if (iVar1 == 1000) {
      uVar3 = FUN_0042bd40(param_1);
      return uVar3;
    }
    switch(iVar1) {
    case 0:
    case 5:
    case 7:
      uVar3 = FUN_0042a300(param_1,0);
      return uVar3;
    case 1:
      uVar3 = FUN_0042a300(param_1,1);
      return uVar3;
    case 2:
      uVar3 = FUN_0042a300(param_1,2);
      return uVar3;
    case 3:
      uVar3 = FUN_0042a300(param_1,3);
      return uVar3;
    case 4:
      uVar3 = FUN_0042a300(param_1,0);
      return uVar3;
    case 6:
      uVar3 = FUN_0042a300(param_1,4);
      return uVar3;
    }
  }
  else if (iVar1 < 0x5209) {
    if (iVar1 == 21000) {
      uVar3 = FUN_0042b860(param_1,11000000);
      return uVar3;
    }
    if (iVar1 < 0x4e22) {
      if (iVar1 == 0x4e21) {
        uVar3 = FUN_0042b860(param_1,0x989681);
        return uVar3;
      }
      if (iVar1 < 0x271c) {
        if (iVar1 == 0x271b) {
          uVar3 = FUN_0042d6e0(param_1);
          return uVar3;
        }
        if (iVar1 < 0x2714) {
          if (iVar1 == 0x2713) {
            bVar2 = FUN_0042b540(param_1);
            return CONCAT31(extraout_var,bVar2);
          }
          if (iVar1 == 9000) {
            uVar3 = FUN_0042b9e0(param_1);
            return uVar3;
          }
          if (iVar1 == 0x2711) {
            uVar3 = FUN_0042ae40(param_1);
            return uVar3;
          }
          if (iVar1 == 0x2712) {
            uVar3 = FUN_0042b1c0(param_1);
            return uVar3;
          }
        }
        else {
          if (iVar1 == 0x2714) {
            uVar3 = FUN_0042a860(param_1);
            return uVar3;
          }
          if (iVar1 == 0x2715) {
            bVar2 = FUN_0042cd70(param_1);
            return CONCAT31(extraout_var_01,bVar2);
          }
          if (iVar1 == 0x271a) {
            bVar2 = FUN_0042e7e0(param_1);
            return CONCAT31(extraout_var_00,bVar2);
          }
        }
      }
      else if (iVar1 < 0x2726) {
        if (iVar1 == 0x2725) {
          uVar3 = FUN_0042eeb0(param_1);
          return uVar3;
        }
        switch(iVar1) {
        case 0x271c:
          uVar3 = FUN_0042db10(param_1);
          return uVar3;
        case 0x271d:
          bVar2 = FUN_0042e240(param_1);
          return CONCAT31(extraout_var_02,bVar2);
        case 0x271e:
          uVar3 = FUN_0042e5c0(param_1);
          return uVar3;
        case 0x271f:
          uVar3 = FUN_0042a300(param_1,0x9896da);
          return uVar3;
        case 0x2720:
          uVar3 = FUN_0042ea50(param_1);
          return uVar3;
        }
      }
      else if (iVar1 == 20000) {
        uVar3 = FUN_0042b860(param_1,0x98968b);
        return uVar3;
      }
    }
    else {
      switch(iVar1) {
      case 0x4e25:
        uVar3 = FUN_0042b860(param_1,0xa7d8c3);
        return uVar3;
      case 0x4e26:
        uVar3 = FUN_0042b860(param_1,0xa7d8c4);
        return uVar3;
      case 0x4e27:
        uVar3 = FUN_0042b860(param_1,0xa7d8c5);
        return uVar3;
      case 0x4e28:
        uVar3 = FUN_0042b860(param_1,0xa7d8c6);
        return uVar3;
      case 0x4e29:
        uVar3 = FUN_0042b860(param_1,0xa7d8c7);
        return uVar3;
      case 0x4e2a:
        uVar3 = FUN_0042b860(param_1,0xa7d8c8);
        return uVar3;
      case 0x4e2b:
        uVar3 = FUN_0042b860(param_1,0xa7d8ca);
        return uVar3;
      case 0x4e2c:
        uVar3 = FUN_0042c750(param_1);
        return uVar3;
      case 0x4e2d:
        uVar3 = FUN_0042c9f0(param_1);
        return uVar3;
      case 0x4e2e:
        uVar3 = FUN_0042b860(param_1,0xa7d8cd);
        return uVar3;
      case 0x4e2f:
        uVar3 = FUN_0042b860(param_1,0xa7d8ce);
        return uVar3;
      case 0x4e30:
        uVar3 = FUN_0042b860(param_1,0xa7d8cf);
        return uVar3;
      case 0x4e31:
        uVar3 = FUN_0042b860(param_1,0xa7d8d0);
        return uVar3;
      case 0x4e32:
        uVar3 = FUN_0042b860(param_1,0x989694);
        return uVar3;
      }
    }
  }
  else if (iVar1 < 0x55f1) {
    if (iVar1 == 22000) {
      uVar3 = FUN_0042b860(param_1,12000000);
      return uVar3;
    }
    switch(iVar1) {
    case 0x5209:
      uVar3 = FUN_0042b860(param_1,0xa7d8c1);
      return uVar3;
    case 0x520a:
      uVar3 = FUN_0042b860(param_1,0xa7d8c2);
      return uVar3;
    case 0x520b:
      uVar3 = FUN_0042b860(param_1,0xa7d8c9);
      return uVar3;
    case 0x520c:
      uVar3 = FUN_0042b860(param_1,0xa7d8d1);
      return uVar3;
    case 0x520d:
      uVar3 = FUN_0042b860(param_1,0xa7d8d2);
      return uVar3;
    case 0x520e:
      uVar3 = FUN_0042b860(param_1,0xa7d8d3);
      return uVar3;
    case 0x520f:
      uVar3 = FUN_0042b860(param_1,0xa7d8d4);
      return uVar3;
    case 0x5210:
      uVar3 = FUN_0042b860(param_1,0xa7d8d5);
      return uVar3;
    case 0x5211:
      uVar3 = FUN_0042b860(param_1,0xa7d8d6);
      return uVar3;
    case 0x5212:
      bVar2 = FUN_0042cba0(param_1,0xa7d8d7);
      return CONCAT31(extraout_var_03,bVar2);
    case 0x5213:
      bVar2 = FUN_0042cba0(param_1,0xa7d8d8);
      return CONCAT31(extraout_var_04,bVar2);
    case 0x5214:
      bVar2 = FUN_0042cba0(param_1,0xa7d8d9);
      return CONCAT31(extraout_var_05,bVar2);
    case 0x5215:
      uVar3 = FUN_0042b860(param_1,0xa7d8da);
      return uVar3;
    case 0x5216:
      uVar3 = FUN_0042b860(param_1,0xa7d8db);
      return uVar3;
    case 0x5217:
      uVar3 = FUN_0042d380(param_1,0);
      return uVar3;
    case 0x5218:
      uVar3 = FUN_0042d380(param_1,1);
      return uVar3;
    case 0x5219:
      uVar3 = FUN_0042d380(param_1,2);
      return uVar3;
    case 0x521a:
      uVar3 = FUN_0042d380(param_1,3);
      return uVar3;
    case 0x521b:
      uVar3 = FUN_0042b860(param_1,0xa7d8f2);
      return uVar3;
    case 0x521c:
      uVar3 = FUN_0042b860(param_1,0xa7d8fc);
      return uVar3;
    case 0x521d:
      uVar3 = FUN_0042b860(param_1,0xa7d910);
      return uVar3;
    case 0x521e:
      uVar3 = FUN_0042b860(param_1,0xa7d911);
      return uVar3;
    case 0x521f:
      uVar3 = FUN_0042b860(param_1,0xa7d91a);
      return uVar3;
    case 0x5220:
      uVar3 = FUN_0042b860(param_1,0xa7d988);
      return uVar3;
    case 0x5221:
      uVar3 = FUN_0042b860(param_1,0xa7d924);
      return uVar3;
    case 0x5224:
      uVar3 = FUN_0042b860(param_1,0xa7d9a6);
      return uVar3;
    case 0x5225:
      uVar3 = FUN_0042b860(param_1,0xa7d9b1);
      return uVar3;
    case 0x5226:
      uVar3 = FUN_0042b860(param_1,0xa7d9bb);
      return uVar3;
    case 0x5227:
      uVar3 = FUN_0042f890(param_1);
      return uVar3;
    }
  }
  return 1;
}



/*
 * Function: FUN_0042a300
 * Address: 0042a300
 */

undefined4 __thiscall FUN_0042a300(void *this,int param_1)

{
  short sVar1;
  long lVar2;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int iVar3;
  void *pvVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  longlong lVar8;
  int local_208;
  undefined4 local_204;
  int local_200;
  int local_1fc;
  undefined4 local_1f8;
  undefined4 local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e4;
  undefined4 local_1e0;
  undefined4 local_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1bc;
  undefined4 local_1b8;
  int local_1b4;
  undefined4 local_1b0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_18c;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_15c [34];
  undefined4 uStack_d4;
  int local_d0;
  undefined4 local_34;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_18;
  undefined4 local_10;
  
  FUN_00417180(&local_200);
  local_200 = *(int *)((int)this + 0x10);
  local_1fc = *(int *)((int)this + 0x14);
  local_1f0 = *(undefined4 *)((int)this + 0x18);
  local_1ec = *(undefined4 *)((int)this + 0x1c);
  local_1c8 = *(undefined4 *)((int)this + 0x28);
  local_1c4 = *(undefined4 *)((int)this + 0x2c);
  iVar3 = *(int *)((int)this + 0xc);
  puVar6 = (undefined4 *)((int)this + 100);
  puVar7 = local_15c;
  for (iVar5 = 0x4d; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar7 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar7 = puVar7 + 1;
  }
  if (0x271f < iVar3) goto switchD_0042a37b_caseD_8;
  if (iVar3 == 0x271f) {
    local_1cc = *(int *)((int)this + 0x40);
    local_1d0 = 0;
    if (local_1cc == 8) {
      local_1cc = FUN_004140f0(local_1c8,local_1c4);
    }
    local_1e0 = 0xffffffb0;
    local_1dc = 0xffffffb0;
    local_28 = 0;
    local_1d8 = 0x4f;
    local_1d4 = 0x4f;
    local_24 = 0x9b;
    local_168 = 1;
    local_1bc = 1;
    local_18 = 1;
    local_174 = 0;
    local_170 = 0xffffffff;
    local_1e4 = 7;
    local_d0 = local_1cc;
    goto switchD_0042a37b_caseD_8;
  }
  switch(iVar3) {
  case 0:
  case 4:
  case 5:
  case 7:
    if (*(int *)((int)this + 0x30) == 1) {
      local_1d0 = 1;
      local_1cc = FUN_004140f0(local_1c8,local_1c4);
    }
    else {
      local_1cc = *(int *)((int)this + 0x40);
      local_1d0 = 0;
      if (local_1cc == 8) {
        local_1cc = FUN_004140f0(local_1c8,local_1c4);
      }
    }
    goto LAB_0042a523;
  case 1:
    local_1cc = 8;
    goto LAB_0042a51f;
  case 2:
    local_1cc = *(int *)((int)this + 0x40);
    local_1f8 = 0;
    local_1f4 = 0;
    local_1d0 = 0;
    if (local_1cc == 1) {
      local_1e0 = 0;
      local_1dc = 0xffffffc4;
      local_1d8 = 0x168;
      local_1d4 = 0x3c;
    }
    else if (local_1cc == 3) {
      local_1e0 = 0xffffffc4;
      local_1dc = 0xfffffe98;
      local_1d8 = 0x3c;
      local_1d4 = 0;
    }
    else if (local_1cc == 5) {
      local_1e0 = 0xfffffe98;
      local_1dc = 0xffffffc4;
      local_1d8 = 0;
      local_1d4 = 0x3c;
    }
    else if (local_1cc == 7) {
      local_1e0 = 0xffffffc4;
      local_1dc = 0;
      local_1d8 = 0x3c;
      local_1d4 = 0x168;
    }
    local_28 = 0xffffffff;
    local_24 = 0xffffffff;
    local_168 = 1;
    local_1bc = 0;
    local_18 = 0;
    local_174 = 5;
    local_170 = 0x1e;
    iVar3 = FUN_00455ee0(DAT_0048ce08,5,2);
    lVar2 = FUN_004663a0(iVar3);
    this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar2);
    this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,*(long *)((int)this + 0x40));
    local_1e4 = (int)sVar1;
    uStack_d4 = 0xffffffff;
    break;
  case 3:
    local_1cc = FUN_004140f0(local_1c8,local_1c4);
LAB_0042a51f:
    local_1d0 = 0;
LAB_0042a523:
    local_28 = 0;
    local_1e0 = 0xffffffe2;
    local_1dc = 0xffffffe2;
    local_24 = 7;
    local_1d8 = 0x1e;
    local_1d4 = 0x1e;
    local_168 = 0;
    local_1bc = 1;
    local_18 = 1;
    local_174 = 0;
    local_170 = 0xffffffff;
    local_1e4 = -1;
    break;
  case 6:
    local_1cc = *(int *)((int)this + 0x40);
    local_1d0 = 0;
    if (local_1cc == 8) {
      local_1cc = FUN_004140f0(local_1c8,local_1c4);
    }
    local_1e0 = 0xffffff60;
    local_1dc = 0xffffff60;
    local_28 = 0;
    local_1d8 = 0x9f;
    local_1d4 = 0x9f;
    local_24 = 0x14;
    local_168 = 0;
    local_1bc = 1;
    local_18 = 1;
    local_174 = 0;
    local_170 = 0xffffffff;
    local_1e4 = -1;
    local_34 = 0x521f;
  }
switchD_0042a37b_caseD_8:
  if (local_200 == 0) {
    local_1b4 = *(int *)((int)this + 0x48);
    local_1b0 = *(undefined4 *)((int)this + 0x4c);
  }
  else {
    local_208 = 0;
    local_204 = 0;
    if (local_200 == 1) {
      iVar3 = FUN_00434c90(DAT_0048ce0c,local_1fc);
      if (iVar3 != 0) {
        local_208 = *(int *)(iVar3 + 0x2e0);
        local_204 = *(undefined4 *)(iVar3 + 0x2e4);
      }
    }
    else {
                    /* WARNING: Load size is inaccurate */
      iVar3 = local_1fc;
      pvVar4 = (void *)FUN_00427aa0(*this);
      iVar3 = FUN_004299e0(pvVar4,iVar3);
      if (iVar3 != 0) {
        iVar3 = FUN_00434cd0(iVar3);
        local_208 = *(int *)(iVar3 + 0x18);
        local_204 = *(undefined4 *)(iVar3 + 0x1c);
      }
    }
    FUN_004140a0(&local_208,(double)CONCAT44(local_1c4,local_1c8),*(undefined4 *)((int)this + 0x39c)
                 ,&local_1b4);
  }
  local_1f8 = *(undefined4 *)((int)this + 0x30);
  lVar8 = __ftol();
  local_1f4 = (undefined4)lVar8;
  local_1ac = *(undefined4 *)((int)this + 0x24);
  local_10 = *(undefined4 *)((int)this + 0x3a4);
  local_1b8 = *(undefined4 *)((int)this + 0x20);
                    /* WARNING: Load size is inaccurate */
  local_1a8 = 0;
  local_18c = 0xffffffff;
  local_16c = 1;
  local_164 = 0;
  iVar3 = FUN_00429dd0(*this,param_1,(int)&local_200);
                    /* WARNING: Load size is inaccurate */
  pvVar4 = (void *)FUN_00427aa0(*this);
  iVar3 = FUN_004299e0(pvVar4,iVar3);
  if (iVar3 != 0) {
    iVar5 = *(int *)((int)this + 0xc);
    if (iVar5 < 6) {
      if (iVar5 == 5) {
        iVar5 = FUN_00434cd0(iVar3);
        *(undefined4 *)(*(int *)(iVar5 + 0x3c) + 8) = 0;
        iVar5 = FUN_00434cd0(iVar3);
        *(undefined4 *)(*(int *)(iVar5 + 0x3c) + 0xc) = 1;
      }
      else {
        if (iVar5 == 0) {
LAB_0042a818:
          iVar5 = FUN_00434cd0(iVar3);
          *(undefined4 *)(*(int *)(iVar5 + 0x3c) + 8) = 0;
          iVar3 = FUN_00434cd0(iVar3);
          *(undefined4 *)(*(int *)(iVar3 + 0x3c) + 0xc) = 0;
          return 0;
        }
        if (iVar5 != 3) {
          if (iVar5 != 4) {
            return 0;
          }
          iVar5 = FUN_00434cd0(iVar3);
          *(undefined4 *)(*(int *)(iVar5 + 0x3c) + 8) = 1;
          iVar5 = FUN_00434cd0(iVar3);
          *(undefined4 *)(*(int *)(iVar5 + 0x3c) + 0xc) = 0;
        }
      }
    }
    else if (iVar5 != 6) {
      if (iVar5 == 7) goto LAB_0042a818;
      if (iVar5 != 0x271f) {
        return 0;
      }
    }
    iVar3 = FUN_00434cd0(iVar3);
    *(undefined4 *)(iVar3 + 0xc0) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0042a860
 * Address: 0042a860
 */

undefined4 __fastcall FUN_0042a860(int *param_1)

{
  short sVar1;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *pRVar4;
  RKC_RPGSCRN_CHARANIMCHART *pRVar5;
  void *pvVar6;
  int *piVar7;
  int *piVar8;
  longlong lVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  int iVar13;
  int local_200;
  int local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e8;
  int local_1e4;
  int iStack_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  int local_1ac;
  int local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_19c;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int aiStack_154 [77];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 local_10;
  int iStack_8;
  
  if (param_1[0x18] == 3) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    iVar2 = param_1[5];
    local_1e8 = 0;
    local_1e4 = 0;
    local_1f4 = iVar2;
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
        if ((iVar2 != 0) && (*(int *)(iVar2 + 0x458) == *param_1)) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        pvVar6 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar6,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(int *)(iVar2 + 0x1c);
        }
      }
      local_1ac = local_200;
      local_1a8 = local_1fc;
    }
    local_1d8 = param_1[0x14];
    local_1c0 = 0;
    local_1bc = 0;
    local_1d4 = param_1[0x15];
    local_1c8 = 0;
    local_1c4 = 8;
    local_1d0 = param_1[0x16];
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1cc = param_1[0x17];
    local_1b4 = 0;
    local_10 = 0;
    local_1a4 = 0;
    local_1a0 = 0;
    local_19c = 0x80;
    local_184 = 0xffffffff;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_160 = 0;
    local_15c = 0;
    iVar2 = FUN_00455ee0(DAT_0048ce08,5,0x989682);
    lVar3 = FUN_004663a0(iVar2);
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1dc = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0x989682,(int)&local_1f8);
  }
  if (param_1[0x18] == param_1[0x11]) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    iVar2 = param_1[5];
    local_1e8 = 0;
    local_1e4 = 0;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1c4 = 8;
    local_1f4 = iVar2;
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1fc = param_1[0x13];
    }
    else {
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        pvVar6 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar6,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(int *)(iVar2 + 0x1c);
        }
      }
      local_1ac = local_200;
    }
    local_1a8 = local_1fc;
    iVar2 = FUN_00434cb0((int)DAT_0048ce0c);
    lVar9 = FUN_00414310(*(int *)(iVar2 + 0x2e0),*(int *)(iVar2 + 0x2e4),local_1ac,local_1a8);
    if ((int)lVar9 < 0xbb9) {
      piVar7 = &local_1ac;
      uVar12 = 6;
      uVar11 = 8;
      uVar10 = 0;
      iVar2 = FUN_00456230(*param_1);
      FUN_00412690(&DAT_0048d4f0,iVar2,uVar10,uVar11,uVar12,piVar7);
    }
    local_1d8 = param_1[0x14] + -1;
    local_1d4 = param_1[0x15] + -1;
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_1a4 = 200;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_160 = 0;
    local_15c = 0;
    local_1a0 = 1;
    local_184 = 0xffffffff;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    iVar2 = FUN_00455ee0(DAT_0048ce08,5,10000000);
    lVar3 = FUN_004663a0(iVar2);
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,1);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1dc = (int)sVar1;
    FUN_00429dd0((void *)*param_1,10000000,(int)&local_1f8);
    local_1d8 = param_1[0x16] + 1;
    local_1d4 = param_1[0x17] + 1;
    local_1a0 = 0;
    local_184 = 0xffffffff;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    iVar2 = FUN_00455ee0(DAT_0048ce08,5,10000000);
    lVar3 = FUN_004663a0(iVar2);
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,1);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1dc = (int)sVar1;
    FUN_00429dd0((void *)*param_1,10000000,(int)&local_1f8);
    iVar13 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00417260(0,0x1d,&local_1ac,iVar2,iVar13);
    iVar13 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00417260(0,0x17,&local_1ac,iVar2,iVar13);
  }
  if (param_1[0x18] != param_1[0x11]) {
    param_1[0x18] = param_1[0x18] + 1;
    return 1;
  }
  FUN_00417180(&local_1f8);
  local_1e8 = param_1[6];
  local_1f8 = param_1[4];
  iVar2 = param_1[5];
  local_1e4 = param_1[7];
  local_1c0 = 0;
  local_1bc = 0;
  local_1c8 = 0;
  local_1c4 = 8;
  local_1f4 = iVar2;
  if (local_1f8 == 0) {
    local_1a8 = param_1[0x13];
    local_1ac = param_1[0x12];
  }
  else {
    iVar13 = 0;
    local_1fc = 0;
    if (local_1f8 == 1) {
      iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
      if ((iVar2 != 0) && (*(int *)(iVar2 + 0x458) == *param_1)) {
        iVar13 = *(int *)(iVar2 + 0x2e0);
        local_1fc = *(int *)(iVar2 + 0x2e4);
      }
    }
    else {
      pvVar6 = (void *)FUN_00427aa0(*param_1);
      iVar2 = FUN_004299e0(pvVar6,iVar2);
      if (iVar2 != 0) {
        iVar2 = FUN_00434cd0(iVar2);
        iVar13 = *(int *)(iVar2 + 0x18);
        local_1fc = *(int *)(iVar2 + 0x1c);
      }
    }
    local_1a8 = local_1fc;
    local_1ac = iVar13;
  }
  local_184 = 0xffffffff;
  local_1f0 = 0;
  local_1ec = 0;
  local_1b0 = 0;
  local_1d8 = param_1[0x14] + -0x96;
  local_1b4 = 0;
  local_10 = 0;
  local_1d4 = param_1[0x15] + -0x96;
  local_1a4 = 200;
  local_1d0 = param_1[0x16] + 0x96;
  local_16c = 0;
  local_1cc = param_1[0x17] + 0x96;
  local_168 = 0;
  local_164 = 0;
  local_160 = 1;
  local_1a0 = 0;
  iStack_1dc = 1;
  piVar7 = param_1 + 0x19;
  piVar8 = aiStack_154;
  for (iVar2 = 0x4d; iVar2 != 0; iVar2 = iVar2 + -1) {
    *piVar8 = *piVar7;
    piVar7 = piVar7 + 1;
    piVar8 = piVar8 + 1;
  }
  iStack_8 = param_1[0xe9];
  local_15c = 0;
  uStack_20 = 0;
  uStack_1c = 0x14;
  FUN_00429dd0((void *)*param_1,-1,(int)&local_1f8);
  return 0;
}



/*
 * Function: FUN_0042ae40
 * Address: 0042ae40
 */

undefined4 __fastcall FUN_0042ae40(int *param_1)

{
  short sVar1;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  void *pvVar4;
  int iVar5;
  int *piVar6;
  int *piVar7;
  int local_200;
  int local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e8;
  int local_1e4;
  int iStack_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  int local_1c0;
  int local_1bc;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int aiStack_154 [77];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 local_10;
  int iStack_8;
  
  if (param_1[0x18] == 0) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    iVar2 = param_1[5];
    local_1e8 = 0;
    local_1e4 = 0;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1c4 = 8;
    local_1f4 = iVar2;
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_200 = 0;
      local_1fc = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        pvVar4 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar4,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(int *)(iVar2 + 0x1c);
        }
      }
      local_1ac = local_200;
      local_1a8 = local_1fc;
    }
    local_1d8 = param_1[0x16] + 1;
    local_1d4 = param_1[0x17] + 1;
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_1a4 = 0;
    local_1a0 = 0;
    local_184 = 0xffffffff;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_160 = 0;
    local_15c = 0;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    iVar2 = FUN_00455ee0(DAT_0048ce08,5,0x98968c);
    lVar3 = FUN_004663a0(iVar2);
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,8);
    iStack_1dc = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0x98968c,(int)&local_1f8);
  }
  if (param_1[0x18] == param_1[0x11]) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    local_1e8 = param_1[6];
    local_1f4 = param_1[5];
    local_1e4 = param_1[7];
    local_1bc = param_1[0xb];
    local_1c0 = param_1[10];
    local_1c8 = 0;
    local_1c4 = FUN_004140f0(local_1c0,local_1bc);
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_200 = 0;
      local_1fc = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,local_1f4);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        iVar2 = local_1f4;
        pvVar4 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar4,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(int *)(iVar2 + 0x1c);
        }
      }
      FUN_004140a0(&local_200,(double)CONCAT44(local_1bc,local_1c0),0xb4,&local_1ac);
    }
    local_1b0 = param_1[8];
    local_1a4 = param_1[9];
    iStack_1dc = 0xffffffff;
    local_1d8 = 0xffffffce;
    local_1d4 = 0xffffffce;
    local_1b4 = 1;
    local_10 = 1;
    local_184 = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_1d0 = 0x32;
    local_1cc = 0x32;
    iVar2 = param_1[0xe9];
    local_1f0 = 0;
    local_1ec = 0;
    local_1a0 = 0;
    local_16c = 0;
    local_160 = 0;
    piVar6 = param_1 + 0x19;
    piVar7 = aiStack_154;
    for (iVar5 = 0x4d; iVar5 != 0; iVar5 = iVar5 + -1) {
      *piVar7 = *piVar6;
      piVar6 = piVar6 + 1;
      piVar7 = piVar7 + 1;
    }
    local_15c = 0;
    uStack_20 = 0;
    uStack_1c = 0x14;
    iStack_8 = iVar2;
    iVar2 = FUN_00429dd0((void *)*param_1,0x98968a,(int)&local_1f8);
    pvVar4 = (void *)FUN_00427aa0(*param_1);
    iVar2 = FUN_004299e0(pvVar4,iVar2);
    if (iVar2 != 0) {
      iVar2 = FUN_00434cd0(iVar2);
      *(undefined4 *)(iVar2 + 0xc0) = 0;
    }
    iVar5 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00417260(0,0x13,&local_1ac,iVar2,iVar5);
    return 0;
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042b1c0
 * Address: 0042b1c0
 */

undefined4 __fastcall FUN_0042b1c0(int *param_1)

{
  short sVar1;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  void *pvVar4;
  int iVar5;
  int *piVar6;
  int *piVar7;
  int local_200;
  int local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e8;
  int local_1e4;
  int iStack_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  int local_1c0;
  int local_1bc;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int aiStack_154 [77];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 local_10;
  int iStack_8;
  
  if (param_1[0x18] == 0) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    iVar2 = param_1[5];
    local_1e8 = 0;
    local_1e4 = 0;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1c4 = 8;
    local_1f4 = iVar2;
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_200 = 0;
      local_1fc = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        pvVar4 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar4,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(int *)(iVar2 + 0x1c);
        }
      }
      local_1ac = local_200;
      local_1a8 = local_1fc;
    }
    local_1d8 = param_1[0x16] + 1;
    local_1d4 = param_1[0x17] + 1;
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_1a4 = 0;
    local_1a0 = 0;
    local_184 = 0xffffffff;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_160 = 0;
    local_15c = 0;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    iVar2 = FUN_00455ee0(DAT_0048ce08,5,0xa7d8db);
    lVar3 = FUN_004663a0(iVar2);
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,8);
    iStack_1dc = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0xa7d8db,(int)&local_1f8);
  }
  if (param_1[0x18] == param_1[0x11]) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    local_1e8 = param_1[6];
    local_1f4 = param_1[5];
    local_1e4 = param_1[7];
    local_1bc = param_1[0xb];
    local_1c0 = param_1[10];
    local_1c8 = 0;
    local_1c4 = FUN_004140f0(local_1c0,local_1bc);
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_200 = 0;
      local_1fc = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,local_1f4);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        iVar2 = local_1f4;
        pvVar4 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar4,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(int *)(iVar2 + 0x1c);
        }
      }
      FUN_004140a0(&local_200,(double)CONCAT44(local_1bc,local_1c0),0xb4,&local_1ac);
    }
    local_1b0 = param_1[8];
    local_1a4 = param_1[9];
    iStack_1dc = 0xffffffff;
    local_1d8 = 0xffffffce;
    local_1d4 = 0xffffffce;
    local_1b4 = 1;
    local_10 = 1;
    local_184 = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_1d0 = 0x32;
    local_1cc = 0x32;
    iVar2 = param_1[0xe9];
    local_1f0 = 0;
    local_1ec = 0;
    local_1a0 = 0;
    local_16c = 0;
    local_160 = 0;
    piVar6 = param_1 + 0x19;
    piVar7 = aiStack_154;
    for (iVar5 = 0x4d; iVar5 != 0; iVar5 = iVar5 + -1) {
      *piVar7 = *piVar6;
      piVar6 = piVar6 + 1;
      piVar7 = piVar7 + 1;
    }
    local_15c = 0;
    uStack_20 = 0;
    uStack_1c = 0x14;
    iStack_8 = iVar2;
    iVar2 = FUN_00429dd0((void *)*param_1,0x9896a8,(int)&local_1f8);
    pvVar4 = (void *)FUN_00427aa0(*param_1);
    iVar2 = FUN_004299e0(pvVar4,iVar2);
    if (iVar2 != 0) {
      iVar2 = FUN_00434cd0(iVar2);
      *(undefined4 *)(iVar2 + 0xc0) = 0;
    }
    iVar5 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00417260(0,0x5e,&local_1ac,iVar2,iVar5);
    return 0;
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042b540
 * Address: 0042b540
 */

bool __fastcall FUN_0042b540(int *param_1)

{
  short sVar1;
  RKC_RPG_TABLEDATA *this;
  long lVar2;
  uint uVar3;
  int iVar4;
  long lVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  void *this_00;
  int iVar8;
  int *piVar9;
  int *piVar10;
  bool bVar11;
  int iStack_1f8;
  int iStack_1f4;
  undefined4 uStack_1f0;
  undefined4 uStack_1ec;
  int iStack_1e8;
  undefined4 uStack_1e4;
  int iStack_1dc;
  int aiStack_1d8 [9];
  undefined4 uStack_1b4;
  undefined4 uStack_1b0;
  int aiStack_1ac [2];
  undefined4 uStack_1a4;
  uint uStack_1a0;
  undefined4 uStack_184;
  undefined4 uStack_16c;
  undefined4 uStack_168;
  undefined4 uStack_164;
  undefined4 uStack_160;
  undefined4 uStack_15c;
  int aiStack_154 [81];
  undefined4 uStack_10;
  int iStack_8;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xcd);
  lVar2 = RKC_RPG_TABLEDATA::GetValue(this,0,param_1[0xe8] + -1);
  if (param_1[0x11] <= param_1[0x18]) {
    uVar3 = param_1[0x18] - param_1[0x11] & 0x80000003;
    bVar11 = uVar3 == 0;
    if ((int)uVar3 < 0) {
      bVar11 = (uVar3 - 1 | 0xfffffffc) == 0xffffffff;
    }
    if (bVar11) {
      FUN_00417180(&iStack_1f8);
      aiStack_1d8[0] = -100;
      aiStack_1d8[1] = 0xffffff9c;
      aiStack_1d8[2] = 100;
      aiStack_1d8[3] = 100;
      FUN_004140a0(param_1 + 0x12,*(double *)(param_1 + 10),param_1[0xae] * 200 + 0xfa,aiStack_1ac);
      iVar4 = FUN_004145b0(*param_1,-1,aiStack_1ac,aiStack_1d8,0,2,0);
      if (iVar4 == 0) {
        param_1[0xa6] = 1;
      }
      if (param_1[0xa6] == 0) {
        iStack_1f8 = param_1[4];
        iStack_1f4 = param_1[5];
        iStack_1e8 = param_1[6];
        uStack_1e4 = 0;
        aiStack_1d8[6] = 0;
        aiStack_1d8[7] = 0;
        aiStack_1d8[4] = 0;
        aiStack_1d8[5] = 8;
        uStack_1f0 = 0;
        uStack_1ec = 0;
        uStack_1b0 = 0;
        uStack_1b4 = 0;
        uStack_10 = 0;
        uStack_1a4 = 0;
        uStack_15c = 0;
        uStack_1a0 = _rand();
        uStack_1a0 = uStack_1a0 & 0x80000003;
        if ((int)uStack_1a0 < 0) {
          uStack_1a0 = (uStack_1a0 - 1 | 0xfffffffc) + 1;
        }
        uStack_164 = 1;
        uStack_160 = 1;
        iVar4 = param_1[0xe9];
        uStack_184 = 0xffffffff;
        piVar9 = param_1 + 0x19;
        piVar10 = aiStack_154;
        for (iVar8 = 0x4d; iVar8 != 0; iVar8 = iVar8 + -1) {
          *piVar10 = *piVar9;
          piVar9 = piVar9 + 1;
          piVar10 = piVar10 + 1;
        }
        uStack_16c = 0;
        uStack_168 = 0;
        iStack_8 = iVar4;
        iVar4 = FUN_00455ee0(DAT_0048ce08,5,0x98969e);
        lVar5 = FUN_004663a0(iVar4);
        pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar5);
        pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0);
        sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,8);
        iStack_1dc = (int)sVar1;
        FUN_00429dd0((void *)*param_1,0x98969e,(int)&iStack_1f8);
        uStack_16c = 0xffffffff;
        uStack_1a0 = 0;
        uStack_184 = 0xffffffff;
        uStack_164 = 1;
        uStack_160 = 0;
        iVar4 = FUN_00455ee0(DAT_0048ce08,5,0x98969f);
        lVar5 = FUN_004663a0(iVar4);
        pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar5);
        pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0);
        sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,8);
        iStack_1dc = (int)sVar1;
        FUN_00429dd0((void *)*param_1,0x98969f,(int)&iStack_1f8);
        iVar4 = FUN_00455ee0(DAT_0048ce08,5,0x9896a0);
        lVar5 = FUN_004663a0(iVar4);
        pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar5);
        pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0);
        sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,8);
        iStack_1dc = (int)sVar1;
        iVar4 = FUN_00429dd0((void *)*param_1,0x9896a0,(int)&iStack_1f8);
        this_00 = (void *)FUN_00427aa0(*param_1);
        iVar4 = FUN_004299e0(this_00,iVar4);
        if (iVar4 != 0) {
          iVar4 = FUN_00434cd0(iVar4);
          *(undefined4 *)(iVar4 + 0xc0) = 0;
        }
        iVar8 = 0;
        iVar4 = FUN_00456230(*param_1);
        FUN_00417260(0,0x15,aiStack_1ac,iVar4,iVar8);
      }
      param_1[0xae] = param_1[0xae] + 1;
    }
  }
  iVar4 = param_1[0x18];
  param_1[0x18] = iVar4 + 1;
  return iVar4 + 1 != param_1[0x11] + lVar2 * 4;
}



/*
 * Function: FUN_0042b860
 * Address: 0042b860
 */

undefined4 __thiscall FUN_0042b860(void *this,int param_1)

{
  short sVar1;
  void *this_00;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *this_01;
  RKC_RPGSCRN_CHARANIMCHART *this_02;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  int iStack_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_10;
  
  FUN_00417180(&local_1f8);
  local_1f8 = *(int *)((int)this + 0x10);
  iVar2 = *(int *)((int)this + 0x14);
  local_1c4 = *(undefined4 *)((int)this + 0x40);
  local_1e8 = 0;
  local_1e4 = 0;
  local_1c0 = 0;
  local_1bc = 0;
  local_1c8 = 0;
  local_1f4 = iVar2;
  if (local_1f8 == 0) {
    local_1ac = *(undefined4 *)((int)this + 0x48);
    local_1a8 = *(undefined4 *)((int)this + 0x4c);
  }
  else {
    local_1ac = 0;
    local_1a8 = 0;
    if (local_1f8 == 1) {
      iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
      if (iVar2 != 0) {
        local_1ac = *(undefined4 *)(iVar2 + 0x2e0);
        local_1a8 = *(undefined4 *)(iVar2 + 0x2e4);
      }
    }
    else {
                    /* WARNING: Load size is inaccurate */
      this_00 = (void *)FUN_00427aa0(*this);
      iVar2 = FUN_004299e0(this_00,iVar2);
      if (iVar2 != 0) {
        iVar2 = FUN_00434cd0(iVar2);
        local_1ac = *(undefined4 *)(iVar2 + 0x18);
        local_1a8 = *(undefined4 *)(iVar2 + 0x1c);
      }
    }
  }
  local_1a4 = *(undefined4 *)((int)this + 0x24);
  local_1d8 = *(int *)((int)this + 0x58) + 1;
  local_1d4 = *(int *)((int)this + 0x5c) + 1;
  local_1f0 = 0;
  local_1ec = 0;
  local_1b0 = 0;
  local_1b4 = 0;
  local_10 = 0;
  local_15c = 1;
  local_1a0 = 0;
  local_184 = 0xffffffff;
  local_164 = 1;
  local_160 = 0;
  local_16c = 0xffffffff;
  local_168 = 0xffffffff;
  local_1d0 = local_1d8;
  local_1cc = local_1d4;
  iVar2 = FUN_00455ee0(DAT_0048ce08,5,param_1);
  lVar3 = FUN_004663a0(iVar2);
  this_01 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
  this_02 = RKC_RPGSCRN_CHARANIM::Get(this_01,0);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_02,*(long *)((int)this + 0x40));
                    /* WARNING: Load size is inaccurate */
  iStack_1dc = (int)sVar1;
  FUN_00429dd0(*this,param_1,(int)&local_1f8);
  return 0;
}



/*
 * Function: FUN_0042b9e0
 * Address: 0042b9e0
 */

undefined4 __fastcall FUN_0042b9e0(int *param_1)

{
  int iVar1;
  void *pvVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int *piVar6;
  int local_200;
  int local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  int local_1ec;
  int local_1e8;
  int local_1e4;
  undefined4 local_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  int local_1c0;
  int local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int local_154 [77];
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_10;
  int local_8;
  
  if (param_1[0xa6] == 0) {
    iVar1 = _rand();
    param_1[0xa6] = 1;
    param_1[0xa7] = iVar1 % 0xf;
  }
  if ((param_1[0xa7] == param_1[0x18]) && (param_1[0xa7] != -1)) {
    param_1[0xa7] = -1;
    param_1[0xa8] = 1;
    param_1[0x18] = 0;
  }
  if (param_1[0xa8] == 0) goto LAB_0042bcbe;
  if (param_1[0x18] == 0) {
    FUN_00417180(&local_1f8);
    local_1f4 = param_1[5];
    local_1f8 = param_1[4];
    local_1c0 = param_1[10];
    local_1bc = param_1[0xb];
    local_1e8 = param_1[6];
    iVar1 = param_1[7];
    local_1c4 = 8;
    local_1f0 = 1;
    local_1c8 = 0;
    local_1ec = iVar1;
    local_1e4 = iVar1;
    if (local_1e8 == 1) {
      iVar1 = FUN_00434c90(DAT_0048ce0c,iVar1);
      if (iVar1 != 0) {
        local_1ac = *(int *)(iVar1 + 0x2e0);
        iVar1 = *(int *)(iVar1 + 0x2e4);
LAB_0042baed:
        local_1b0 = 0;
        local_1b4 = 0;
        local_10 = 0;
        local_1a0 = 0;
        local_1a4 = param_1[8] * 10;
        local_164 = 1;
        iVar3 = (int)(local_1a4 + (local_1a4 >> 0x1f & 3U)) >> 2;
        local_160 = 0;
        local_1ac = iVar3 + 1 + local_1ac;
        local_1dc = 0xffffffff;
        local_184 = 0xffffffff;
        local_1a8 = (iVar1 - iVar3) + 1;
        local_1d8 = 0xfffffffb;
        local_1d4 = 0xfffffffb;
        local_16c = 10;
        local_168 = 10;
        local_8 = param_1[0xe9];
        local_1d0 = 5;
        local_1cc = 5;
        local_15c = 0;
        piVar5 = param_1 + 0x19;
        piVar6 = local_154;
        for (iVar1 = 0x4d; iVar1 != 0; iVar1 = iVar1 + -1) {
          *piVar6 = *piVar5;
          piVar5 = piVar5 + 1;
          piVar6 = piVar6 + 1;
        }
        local_20 = 0;
        local_1c = 7;
        iVar1 = FUN_00429dd0((void *)*param_1,9000,(int)&local_1f8);
        param_1[0x66] = iVar1;
        param_1[0x18] = param_1[0x18] + 1;
        return 1;
      }
    }
    else {
      pvVar2 = (void *)FUN_00427aa0(*param_1);
      iVar1 = FUN_004299e0(pvVar2,iVar1);
      if (iVar1 != 0) {
        iVar1 = FUN_00434cd0(iVar1);
        local_1ac = *(int *)(iVar1 + 0x18);
        iVar1 = *(int *)(iVar1 + 0x1c);
        goto LAB_0042baed;
      }
    }
    return 0;
  }
  if (10 < param_1[0x18]) {
    iVar1 = param_1[0x66];
    pvVar2 = (void *)FUN_00427aa0(*param_1);
    iVar1 = FUN_004299e0(pvVar2,iVar1);
    if (iVar1 == 0) {
      return 0;
    }
    iVar1 = FUN_00434cd0(iVar1);
    if (iVar1 == 0) {
      return 0;
    }
    *(undefined4 *)(iVar1 + 0xc4) = 1;
    return 0;
  }
  iVar1 = param_1[0x66];
  pvVar2 = (void *)FUN_00427aa0(*param_1);
  iVar1 = FUN_004299e0(pvVar2,iVar1);
  if ((iVar1 == 0) || (iVar1 = FUN_00434cd0(iVar1), iVar1 == 0)) goto LAB_0042bcbe;
  iVar3 = *(int *)(iVar1 + 0x124) - param_1[8];
  *(int *)(iVar1 + 0x124) = iVar3;
  if (iVar3 < 0) {
    *(undefined4 *)(iVar1 + 0x124) = 0;
  }
  if (param_1[6] == 1) {
    iVar4 = FUN_00434c90(DAT_0048ce0c,param_1[7]);
    if (iVar4 != 0) {
      iVar3 = *(int *)(iVar4 + 0x2e0);
      local_1fc = *(int *)(iVar4 + 0x2e4);
      goto LAB_0042bc83;
    }
LAB_0042bc75:
    if (local_200 == 1) {
      iVar3 = 1;
      goto LAB_0042bc83;
    }
    *(int *)(iVar1 + 0x18) =
         *(int *)(iVar1 + 0x18) - ((int)(param_1[8] + (param_1[8] >> 0x1f & 3U)) >> 2);
    iVar3 = *(int *)(iVar1 + 0x1c) + ((int)(param_1[8] + (param_1[8] >> 0x1f & 3U)) >> 2);
  }
  else {
    iVar3 = param_1[7];
    pvVar2 = (void *)FUN_00427aa0(*param_1);
    iVar3 = FUN_004299e0(pvVar2,iVar3);
    if (iVar3 == 0) goto LAB_0042bc75;
    iVar4 = FUN_00434cd0(iVar3);
    iVar3 = *(int *)(iVar4 + 0x18);
    local_1fc = *(int *)(iVar4 + 0x1c);
LAB_0042bc83:
    iVar4 = (10 - param_1[0x18]) * param_1[8];
    *(int *)(iVar1 + 0x18) = ((int)(iVar4 + (iVar4 >> 0x1f & 3U)) >> 2) + 1 + iVar3;
    iVar3 = (10 - param_1[0x18]) * param_1[8];
    iVar3 = (local_1fc - ((int)(iVar3 + (iVar3 >> 0x1f & 3U)) >> 2)) + 1;
  }
  *(int *)(iVar1 + 0x1c) = iVar3;
LAB_0042bcbe:
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042bd40
 * Address: 0042bd40
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0042bd40(int *param_1)

{
  double dVar1;
  short sVar2;
  int iVar3;
  void *pvVar4;
  int iVar5;
  RKC_RPG_TABLEDATA *this;
  uint uVar6;
  long lVar7;
  RKC_RPGSCRN_CHARANIM *pRVar8;
  RKC_RPGSCRN_CHARANIMCHART *pRVar9;
  int *piVar10;
  bool bVar11;
  int iVar12;
  int local_248;
  int local_240;
  undefined4 local_23c;
  int local_238;
  int local_234;
  undefined4 local_230;
  undefined4 local_22c;
  int local_228;
  undefined4 local_224;
  int local_21c;
  undefined4 local_218;
  undefined4 local_214;
  undefined4 local_210;
  undefined4 local_20c;
  undefined4 local_208;
  undefined4 local_204;
  undefined8 local_200;
  undefined4 local_1f4;
  undefined4 local_1f0;
  int local_1ec;
  int local_1e8;
  int local_1e4;
  undefined4 local_1e0;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_19c;
  undefined4 local_198;
  undefined4 local_194;
  undefined4 uStack_190;
  int local_18c;
  undefined4 uStack_188;
  int iStack_184;
  undefined4 uStack_180;
  undefined4 uStack_17c;
  undefined4 uStack_178;
  undefined4 uStack_174;
  undefined4 uStack_170;
  undefined4 uStack_16c;
  undefined4 uStack_168;
  undefined4 uStack_164;
  undefined4 uStack_160;
  undefined4 uStack_118;
  undefined4 uStack_114;
  int iStack_10c;
  undefined4 local_104;
  undefined4 uStack_100;
  undefined4 uStack_fc;
  undefined4 uStack_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 uStack_e8;
  undefined4 uStack_e4;
  undefined4 uStack_74;
  undefined4 uStack_6c;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  undefined4 local_50;
  int local_4c;
  int local_48;
  int local_40;
  undefined4 local_3c;
  int local_38;
  undefined4 local_34;
  int local_20;
  
  iVar3 = param_1[0x18];
  if (iVar3 == 0) {
    FUN_00417180(&local_238);
    local_234 = param_1[5];
    local_228 = param_1[6];
    local_238 = param_1[4];
    local_1ec = param_1[0x12];
    local_1e8 = param_1[0x13];
    local_218 = 0xffffff6a;
    local_214 = 0xffffff6a;
    local_224 = 0;
    local_200._0_4_ = 0;
    local_200._4_4_ = 0;
    local_208 = 0;
    local_204 = 8;
    local_230 = 0;
    local_22c = 0;
    local_1f0 = 0;
    local_1f4 = 0;
    local_50 = 1;
    local_1e4 = 0;
    local_210 = 0x96;
    local_20c = 0x96;
    local_1e0 = 0xffffffff;
    local_1c4 = 0;
    local_1c0 = 0x100;
    local_1ac = 0x2d;
    local_1a8 = 0xffffffff;
    if (local_238 == 1) {
      iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
      if (local_234 != iVar3) {
        local_1ac = 0xffffffff;
        local_1a8 = 0xffffffff;
      }
    }
    local_4c = param_1[2];
    local_48 = param_1[0xe9];
    local_198 = 0;
    local_1a4 = 1;
    local_1a0 = 0;
    local_19c = 0;
    local_21c = 300;
    iVar3 = FUN_00429dd0((void *)*param_1,1000,(int)&local_238);
    param_1[0x66] = iVar3;
    param_1[0xe6] = 0;
    goto LAB_0042be87;
  }
  iVar5 = param_1[0x66];
  if (iVar5 != -1) {
    pvVar4 = (void *)FUN_00427aa0(*param_1);
    iVar3 = FUN_004299e0(pvVar4,iVar5);
    if (iVar3 == 0) {
      if (param_1[4] == 1) {
        iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
        if ((param_1[5] != iVar3) && (param_1[0xe6] == 0)) {
          FUN_00417180(&local_238);
          local_234 = param_1[5];
          local_228 = param_1[6];
          local_1ec = param_1[0x12];
          local_238 = param_1[4];
          local_1e8 = param_1[0x13];
          local_218 = 0xffffff6a;
          local_214 = 0xffffff6a;
          local_210 = 0x96;
          local_20c = 0x96;
          local_48 = param_1[0xe9];
          local_224 = 0;
          local_200._0_4_ = 0;
          local_200._4_4_ = 0;
          local_208 = 0;
          local_204 = 8;
          local_230 = 0;
          local_22c = 0;
          local_1f0 = 0;
          local_1f4 = 0;
          local_50 = 1;
          local_1e4 = 0;
          local_1e0 = 0xffffffff;
          local_1c4 = 1;
          local_1c0 = 0x100;
          local_1ac = 0;
          local_1a8 = 0xffffffff;
          if (local_238 == 1) {
            iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
            if (local_234 != iVar3) {
              local_1ac = 0xffffffff;
              local_1a8 = 0xffffffff;
            }
          }
          local_4c = param_1[2];
          local_198 = 0;
          local_1a4 = 1;
          local_1a0 = 0;
          local_19c = 0;
          iVar3 = FUN_00429dd0((void *)*param_1,1000,(int)&local_238);
          param_1[0x66] = iVar3;
          param_1[0x18] = 0x29;
          return 1;
        }
        if (param_1[4] == 1) {
          iVar3 = FUN_00434cd0((int)DAT_0048ce0c);
          if (param_1[5] == iVar3) {
            local_40 = FUN_00456230(*param_1);
            local_38 = param_1[5];
            local_20 = param_1[2];
            local_34 = 0x2d;
            iVar3 = FUN_00434cb0((int)DAT_0048ce0c);
            local_3c = *(undefined4 *)(iVar3 + 0x15d8);
            piVar10 = &local_40;
            iVar3 = 1;
            pvVar4 = (void *)FUN_00434cb0((int)DAT_0048ce0c);
            FUN_00452bc0(pvVar4,piVar10,iVar3);
          }
        }
      }
      FUN_00417180(&local_238);
      local_228 = param_1[6];
      local_238 = param_1[4];
      local_1ec = param_1[0x12];
      local_1e8 = param_1[0x13];
      local_234 = param_1[5];
      local_218 = 0xfffffda8;
      local_214 = 0xfffffda8;
      local_210 = 600;
      local_20c = 600;
      local_48 = param_1[0xe9];
      local_224 = 0;
      local_200._0_4_ = 0;
      local_200._4_4_ = 0;
      local_208 = 0;
      local_204 = 8;
      local_1f0 = 0;
      local_1f4 = 0;
      local_50 = 0;
      local_1e4 = 0;
      local_230 = 0;
      local_22c = 0;
      local_1e0 = 0;
      local_1c4 = 0xffffffff;
      local_1ac = 0;
      local_1a8 = 0;
      local_1a4 = 1;
      local_1a0 = 1;
      if (local_238 == 1) {
        local_194 = 0;
        local_18c = local_234;
      }
      else {
        local_194 = 2;
        local_18c = -1;
      }
      local_104 = 99999;
      this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x17);
      uStack_190 = 0;
      iStack_184 = RKC_RPG_TABLEDATA::GetValue(this,param_1[0xe8] + -1,0);
      iVar3 = FUN_00434c90(DAT_0048ce0c,param_1[5]);
      if (iVar3 != 0) {
        iStack_184 = iStack_184 + *(int *)(iVar3 + 0x2c4);
      }
      if (iStack_184 < 1) {
        iStack_184 = 1;
      }
      FUN_00417e70((int)&local_194);
      uStack_180 = 0;
      uStack_118 = 0;
      uStack_17c = 0;
      uStack_178 = 0;
      uStack_174 = 0;
      uStack_170 = 0;
      uStack_16c = 0;
      uStack_168 = 0;
      uStack_164 = 0;
      uStack_160 = 0;
      uVar6 = _rand();
      uVar6 = uVar6 & 0x80000003;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffc) + 1;
      }
      iStack_10c = uVar6 + 21000;
      uStack_114 = 0xffffffff;
      uStack_100 = 0;
      local_104 = 9999;
      uStack_fc = 0;
      uStack_f8 = 0;
      uStack_f4 = 0;
      uStack_f0 = 100;
      uStack_ec = 0;
      uStack_e8 = 8;
      uStack_e4 = 0;
      uStack_74 = 1;
      uStack_188 = 0;
      local_19c = 0;
      uStack_6c = 0xffffffff;
      uStack_60 = 0;
      uStack_5c = 6;
      iVar3 = FUN_00455ee0(DAT_0048ce08,5,0x3e9);
      lVar7 = FUN_004663a0(iVar3);
      pRVar8 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar7);
      pRVar9 = RKC_RPGSCRN_CHARANIM::Get(pRVar8,0);
      sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar9,8);
      local_21c = (int)sVar2;
      FUN_00429dd0((void *)*param_1,0x3e9,(int)&local_238);
      iVar5 = 0;
      iVar3 = FUN_00456230(*param_1);
      FUN_00417260(0,0x1d,&local_1ec,iVar3,iVar5);
      param_1[0x18] = 0;
      param_1[0x66] = -1;
      param_1[0x18] = 1;
      return 1;
    }
    iVar3 = FUN_00434cd0(iVar3);
    if (param_1[0x18] == 0x28) {
      *(undefined4 *)(iVar3 + 0x144) = 1;
    }
    if ((0x27 < param_1[0x18]) && (param_1[0x18] % 0x14 == 0)) {
      iVar12 = 0;
      iVar5 = FUN_00456230(*param_1);
      FUN_00417260(0,0x36,param_1 + 0x12,iVar5,iVar12);
    }
    if (param_1[0xe6] != 0) {
      *(undefined4 *)(iVar3 + 0xc4) = 1;
      param_1[0x18] = param_1[0x18] + 1;
      return 1;
    }
    goto LAB_0042be87;
  }
  local_200 = (double)CONCAT44(local_200._4_4_,(undefined4)local_200);
  if ((iVar3 < 0xc) ||
     (local_200 = (double)CONCAT44(local_200._4_4_,(undefined4)local_200), 0x28 < iVar3)) {
LAB_0042c657:
    iVar3 = param_1[0x18];
    bVar11 = iVar3 == 0xc;
  }
  else {
    uVar6 = iVar3 - 0xcU & 0x80000001;
    if ((int)uVar6 < 0) {
      uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
    }
    local_200 = (double)CONCAT44(local_200._4_4_,(undefined4)local_200);
    if (uVar6 != 0) goto LAB_0042c657;
    FUN_00417180(&local_238);
    local_210 = 1;
    local_20c = 1;
    local_1a4 = 1;
    local_218 = 0xffffffff;
    local_214 = 0xffffffff;
    local_1c4 = 0xffffffff;
    local_1ac = 0xffffffff;
    local_1a8 = 0xffffffff;
    local_238 = 0;
    local_234 = 0;
    local_228 = 0;
    local_224 = 0;
    local_200._0_4_ = 0;
    local_200._4_4_ = 0;
    local_208 = 0;
    local_204 = 8;
    local_230 = 0;
    local_22c = 0;
    local_1f0 = 0;
    local_1f4 = 0;
    local_50 = 0;
    local_1e4 = 0;
    local_19c = 0;
    local_1e0 = 0;
    local_1a0 = 0;
    param_1[0xa6] = param_1[0xa6] + 0x32;
    iVar3 = 0x3ea;
    do {
      iVar5 = _rand();
      FUN_004140a0(param_1 + 0x12,(double)(iVar5 % 0x168) * _DAT_004751b0,param_1[0xa6],&local_240);
      local_1e8 = local_23c;
      local_1ec = local_240;
      iVar5 = FUN_00455ee0(DAT_0048ce08,5,iVar3);
      lVar7 = FUN_004663a0(iVar5);
      pRVar8 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar7);
      pRVar9 = RKC_RPGSCRN_CHARANIM::Get(pRVar8,0);
      sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar9,8);
      local_21c = (int)sVar2;
      FUN_00429dd0((void *)*param_1,iVar3,(int)&local_238);
      iVar5 = iVar3 + -0x3e9;
      iVar3 = iVar3 + 1;
    } while (iVar5 < 2);
    iVar3 = param_1[0x18];
    bVar11 = iVar3 == 0xc;
    if (bVar11) {
      param_1[0xb1] = 0x5dc;
      param_1[0xb2] = -100;
      iVar3 = 0;
      piVar10 = param_1 + 0x67;
      do {
        iVar5 = _rand();
        piVar10[0x40] = iVar5 % 0x168;
        dVar1 = (double)(iVar5 % 0x168) * _DAT_004751b0;
        FUN_004140a0(param_1 + 0x12,dVar1,0x32,&local_240);
        local_1e8 = local_23c;
        local_1e4 = param_1[0xb0];
        local_1ec = local_240;
        local_218 = 0xffffffff;
        local_214 = 0xffffffff;
        local_21c = 0x3c;
        local_1f0 = 0x14;
        local_210 = 1;
        local_20c = 1;
        local_200 = dVar1;
        iVar5 = FUN_00429dd0((void *)*param_1,iVar3 + 0x3ed,(int)&local_238);
        *piVar10 = iVar5;
        local_218 = 0xfffffffd;
        local_214 = 0xfffffffd;
        local_210 = 0xfffffffe;
        local_20c = 0xfffffffe;
        iVar5 = FUN_00429dd0((void *)*param_1,0x3ec,(int)&local_238);
        piVar10[9] = iVar5;
        iVar3 = iVar3 + 1;
        piVar10 = piVar10 + 1;
      } while (iVar3 < 4);
      goto LAB_0042c657;
    }
  }
  if (!bVar11 && 0xb < iVar3) {
    piVar10 = param_1 + 0x67;
    local_248 = 4;
    do {
      iVar3 = piVar10[9];
      iVar5 = 0;
      pvVar4 = (void *)FUN_00427aa0(*param_1);
      iVar3 = FUN_004299e0(pvVar4,iVar3);
      if (iVar3 != 0) {
        iVar5 = FUN_00434cd0(iVar3);
      }
      iVar3 = *piVar10;
      pvVar4 = (void *)FUN_00427aa0(*param_1);
      iVar3 = FUN_004299e0(pvVar4,iVar3);
      if (iVar3 != 0) {
        iVar3 = FUN_00434cd0(iVar3);
        if (iVar3 != 0) {
          if (iVar5 != 0) {
            *(undefined4 *)(iVar5 + 0x124) = *(undefined4 *)(iVar3 + 0x124);
          }
          iVar5 = *(int *)(iVar3 + 0x124) + param_1[0xb1] / 10;
          *(int *)(iVar3 + 0x124) = iVar5;
          if (iVar5 < 0) {
            param_1[0xb3] = 1;
          }
        }
      }
      piVar10 = piVar10 + 1;
      local_248 = local_248 + -1;
    } while (local_248 != 0);
    if (param_1[0xb3] == 1) {
      param_1[0xb1] = 400;
      param_1[0xb3] = 0;
    }
    else {
      param_1[0xb1] = param_1[0xb1] + param_1[0xb2];
    }
  }
  if (param_1[0x18] == 0x50) {
    return 0;
  }
LAB_0042be87:
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042c750
 * Address: 0042c750
 */

undefined4 __fastcall FUN_0042c750(int *param_1)

{
  void *pvVar1;
  int iVar2;
  int iVar3;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  undefined4 local_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_10;
  
  if (param_1[0x18] == 0) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    iVar2 = param_1[5];
    local_1e8 = 0;
    local_1e4 = 0;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1c4 = 8;
    local_1f4 = iVar2;
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_1ac = 0;
      local_1a8 = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
        if (iVar2 != 0) {
          local_1ac = *(int *)(iVar2 + 0x2e0);
          local_1a8 = *(int *)(iVar2 + 0x2e4);
        }
      }
      else {
        pvVar1 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar1,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_1ac = *(int *)(iVar2 + 0x18);
          local_1a8 = *(int *)(iVar2 + 0x1c);
        }
      }
    }
    local_1a4 = param_1[9];
    local_1d8 = param_1[0x16] + 1;
    local_1d4 = param_1[0x17] + 1;
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_15c = 1;
    local_1a0 = 0xffffffff;
    local_184 = 0;
    local_180 = 0;
    local_17c = 1000;
    local_178 = 1000;
    local_174 = 1000;
    local_170 = 1000;
    local_164 = 1;
    local_160 = 0;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    FUN_00455ee0(DAT_0048ce08,5,0xa7d8cb);
    local_1dc = 0x23;
    iVar2 = FUN_00429dd0((void *)*param_1,0xa7d8cb,(int)&local_1f8);
    param_1[0x66] = iVar2;
    param_1[0xa6] = 500;
    param_1[0xa7] = -100;
    param_1[0xa8] = 0;
    param_1[0xa9] = 1000;
  }
  else {
    iVar2 = param_1[0x66];
    pvVar1 = (void *)FUN_00427aa0(*param_1);
    iVar2 = FUN_004299e0(pvVar1,iVar2);
    if ((iVar2 != 0) && (iVar2 = FUN_00434cd0(iVar2), iVar2 != 0)) {
      iVar3 = *(int *)(iVar2 + 0x124) + param_1[0xa6] / 10;
      *(int *)(iVar2 + 0x124) = iVar3;
      if (iVar3 < param_1[9]) {
        *(int *)(iVar2 + 0x124) = param_1[9];
        iVar3 = param_1[0xa8];
        if (iVar3 == 0) {
          param_1[0xa6] = 300;
        }
        if (iVar3 == 1) {
          param_1[0xa6] = 200;
        }
        if (iVar3 != 3) {
          param_1[0xa8] = iVar3 + 1;
        }
      }
      param_1[0xa6] = param_1[0xa6] + param_1[0xa7];
      if (param_1[0xa8] == 3) {
        iVar3 = param_1[0xa9];
        *(int *)(iVar2 + 0x14c) = iVar3;
        if (iVar3 < 0) {
          *(undefined4 *)(iVar2 + 0x14c) = 0;
        }
        iVar3 = param_1[0xa9];
        param_1[0xa9] = iVar3 + -100;
        if (iVar3 + -100 == 0) {
          *(undefined4 *)(iVar2 + 0xc4) = 1;
          return 0;
        }
      }
    }
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042c9f0
 * Address: 0042c9f0
 */

undefined4 __fastcall FUN_0042c9f0(int *param_1)

{
  int iVar1;
  void *this;
  longlong lVar2;
  int iVar3;
  int local_200;
  undefined4 local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e8;
  int local_1e4;
  undefined4 local_1e0;
  undefined4 local_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  int local_1c0;
  int local_1bc;
  undefined4 local_1b8;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_10;
  int local_8;
  
  FUN_00417180(&local_1f8);
  local_1e8 = param_1[6];
  iVar1 = param_1[4];
  iVar3 = param_1[5];
  local_1e4 = param_1[7];
  local_1c0 = param_1[10];
  local_1bc = param_1[0xb];
  local_158 = 0;
  local_1c4 = 8;
  local_1f0 = 1;
  local_1f8 = iVar1;
  local_1f4 = iVar3;
  lVar2 = __ftol();
  local_1ec = (undefined4)lVar2;
  local_8 = param_1[0xe9];
  local_1d8 = 0xffffffe2;
  local_1d4 = 0xffffffe2;
  local_1b8 = 0;
  local_1d0 = 0x1e;
  local_1cc = 0x1e;
  local_1c8 = 0;
  local_160 = 0;
  local_1b4 = 0;
  local_10 = 1;
  local_16c = 0;
  local_168 = 0xffffffff;
  local_1dc = 0x3c;
  if (iVar1 == 0) {
    local_1ac = param_1[0x12];
    local_1a8 = param_1[0x13];
  }
  else {
    local_200 = 0;
    local_1fc = 0;
    if (iVar1 == 1) {
      iVar1 = FUN_00434c90(DAT_0048ce0c,iVar3);
      if (iVar1 != 0) {
        local_200 = *(int *)(iVar1 + 0x2e0);
        local_1fc = *(undefined4 *)(iVar1 + 0x2e4);
      }
    }
    else {
      this = (void *)FUN_00427aa0(*param_1);
      iVar1 = FUN_004299e0(this,iVar3);
      if (iVar1 != 0) {
        iVar1 = FUN_00434cd0(iVar1);
        local_200 = *(int *)(iVar1 + 0x18);
        local_1fc = *(undefined4 *)(iVar1 + 0x1c);
      }
    }
    FUN_004140a0(&local_200,(double)CONCAT44(local_1bc,local_1c0),0xfa,&local_1ac);
  }
  local_1b0 = param_1[8];
  local_1a4 = param_1[9];
  local_1e0 = 1;
  local_164 = 1;
  local_1a0 = 0;
  local_184 = 0xffffffff;
  local_15c = 0;
  FUN_00429dd0((void *)*param_1,0xa7d8cc,(int)&local_1f8);
  return 0;
}



/*
 * Function: FUN_0042cba0
 * Address: 0042cba0
 */

bool __thiscall FUN_0042cba0(void *this,int param_1)

{
  int iVar1;
  void *pvVar2;
  undefined4 uVar3;
  int iVar4;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  undefined4 local_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_198;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_10;
  
  if (*(int *)((int)this + 0x60) == 0) {
    FUN_00417180(&local_1f8);
    local_1f8 = *(int *)((int)this + 0x10);
    iVar4 = *(int *)((int)this + 0x14);
    local_1c4 = *(undefined4 *)((int)this + 0x40);
    local_1e8 = 0;
    local_1e4 = 0;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1f4 = iVar4;
    if (local_1f8 == 0) {
      local_1ac = *(undefined4 *)((int)this + 0x48);
      local_1a8 = *(undefined4 *)((int)this + 0x4c);
    }
    else {
      local_1ac = 0;
      local_1a8 = 0;
      if (local_1f8 == 1) {
        iVar4 = FUN_00434c90(DAT_0048ce0c,iVar4);
        if (iVar4 != 0) {
          local_1ac = *(undefined4 *)(iVar4 + 0x2e0);
          local_1a8 = *(undefined4 *)(iVar4 + 0x2e4);
        }
      }
      else {
                    /* WARNING: Load size is inaccurate */
        pvVar2 = (void *)FUN_00427aa0(*this);
        iVar4 = FUN_004299e0(pvVar2,iVar4);
        if (iVar4 != 0) {
          iVar4 = FUN_00434cd0(iVar4);
          local_1ac = *(undefined4 *)(iVar4 + 0x18);
          local_1a8 = *(undefined4 *)(iVar4 + 0x1c);
        }
      }
    }
    local_1a4 = *(undefined4 *)((int)this + 0x24);
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_15c = 0;
    local_1d8 = *(int *)((int)this + 0x58) + 1;
    local_1a0 = 0;
    local_160 = 0;
    local_1d4 = *(int *)((int)this + 0x5c) + 1;
    local_198 = 500;
    local_164 = 1;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    FUN_00455ee0(DAT_0048ce08,5,param_1);
                    /* WARNING: Load size is inaccurate */
    local_1dc = 0x78;
    uVar3 = FUN_00429dd0(*this,param_1,(int)&local_1f8);
    *(undefined4 *)((int)this + 0x198) = uVar3;
  }
  else {
    iVar4 = *(int *)((int)this + 0x198);
                    /* WARNING: Load size is inaccurate */
    pvVar2 = (void *)FUN_00427aa0(*this);
    iVar4 = FUN_004299e0(pvVar2,iVar4);
    if ((((iVar4 != 0) && (iVar4 = FUN_00434cd0(iVar4), iVar4 != 0)) &&
        (0x59 < *(int *)((int)this + 0x60))) &&
       (iVar1 = ((0x78 - *(int *)((int)this + 0x60)) * 500) / 0x1e, *(int *)(iVar4 + 0x130) = iVar1,
       iVar1 < 0)) {
      *(undefined4 *)(iVar4 + 0x130) = 0;
    }
  }
  iVar4 = *(int *)((int)this + 0x60) + 1;
  *(int *)((int)this + 0x60) = iVar4;
  return iVar4 != 0x78;
}



/*
 * Function: FUN_0042cd70
 * Address: 0042cd70
 */

bool __fastcall FUN_0042cd70(int *param_1)

{
  short sVar1;
  void *this;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *pRVar4;
  RKC_RPGSCRN_CHARANIMCHART *pRVar5;
  undefined4 uVar6;
  int iVar7;
  int *piVar8;
  int *piVar9;
  code *pcVar10;
  longlong lVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  int iVar14;
  int local_200;
  int local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  int local_1ec;
  int local_1e8;
  undefined4 local_1e4;
  int iStack_1e0;
  int iStack_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 uStack_1b8;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_19c;
  undefined4 uStack_188;
  undefined4 local_184;
  undefined4 uStack_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int aiStack_158 [77];
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_14;
  undefined4 local_10;
  int iStack_c;
  
  pcVar10 = Get_exref;
  if (param_1[0x18] == 3) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    iVar2 = param_1[5];
    local_1e8 = 0;
    local_1e4 = 0;
    local_1f4 = iVar2;
    if (local_1f8 == 0) {
      local_200 = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else if (local_1f8 == 1) {
      iVar2 = FUN_00434c90(DAT_0048ce0c,iVar2);
      local_1a8 = local_1fc;
      if (iVar2 != 0) {
        local_200 = *(int *)(iVar2 + 0x2e0);
        local_1a8 = *(int *)(iVar2 + 0x2e4);
      }
    }
    else {
      this = (void *)FUN_00427aa0(*param_1);
      iVar2 = FUN_004299e0(this,iVar2);
      local_1a8 = local_1fc;
      if (iVar2 != 0) {
        iVar2 = FUN_00434cd0(iVar2);
        local_200 = *(int *)(iVar2 + 0x18);
        local_1a8 = *(int *)(iVar2 + 0x1c);
      }
    }
    param_1[0x12] = local_200;
    param_1[0x13] = local_1a8;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1c4 = 8;
    local_1f0 = 0;
    local_1d8 = param_1[0x16] + 1;
    local_1d4 = param_1[0x17] + 1;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_1a4 = 0;
    local_1a0 = 0;
    local_19c = 0;
    local_184 = 0xffffffff;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_164 = 1;
    local_160 = 0;
    local_15c = 0;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    local_1ac = local_200;
    iVar2 = FUN_00455ee0(DAT_0048ce08,5,0x9896b3);
    lVar3 = FUN_004663a0(iVar2);
    pcVar10 = Get_exref;
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1dc = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0x9896b3,(int)&local_1f8);
  }
  iVar2 = FUN_00455ee0(DAT_0048ce08,5,0x9896b3);
  uVar6 = FUN_004663a0(iVar2);
  pRVar4 = (RKC_RPGSCRN_CHARANIM *)(*pcVar10)(uVar6);
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
  iVar2 = (int)sVar1;
  if (param_1[0x18] == iVar2) {
    FUN_00417180(&local_1fc);
    local_1fc = param_1[4];
    local_1b0 = param_1[0x12];
    local_1ac = param_1[0x13];
    local_1f8 = param_1[5];
    iStack_1dc = param_1[0x16] + 1;
    local_1d8 = param_1[0x17] + 1;
    local_1ec = 0;
    local_1e8 = 0;
    local_1c4 = 0;
    local_1c0 = 0;
    local_1cc = 0;
    local_1c8 = 8;
    local_1f4 = 0;
    local_1f0 = 0;
    local_1b4 = 0;
    uStack_1b8 = 0;
    uStack_14 = 0;
    local_1a8 = 200;
    uStack_170 = 0xffffffff;
    local_16c = 0xffffffff;
    local_168 = 1;
    local_164 = 0;
    local_160 = 0;
    local_1a4 = 0;
    uStack_188 = 0xffffffff;
    local_1d4 = iStack_1dc;
    local_1d0 = local_1d8;
    iVar7 = FUN_00455ee0(DAT_0048ce08,5,0x9896b2);
    uVar6 = FUN_004663a0(iVar7);
    pRVar4 = (RKC_RPGSCRN_CHARANIM *)(*pcVar10)(uVar6);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1e0 = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0x9896b2,(int)&local_1fc);
  }
  if (param_1[0x18] == iVar2 + 4) {
    FUN_00417180(&local_1fc);
    local_1f8 = param_1[5];
    local_1fc = param_1[4];
    local_1ec = param_1[6];
    local_1b0 = param_1[0x12];
    local_1e8 = param_1[7];
    local_1ac = param_1[0x13];
    iStack_c = param_1[0xe9];
    iStack_1dc = param_1[0x14] + -0x96;
    uStack_188 = 0xffffffff;
    local_1d8 = param_1[0x15] + -0x96;
    local_1d4 = param_1[0x16] + 0x96;
    local_1c4 = 0;
    local_1d0 = param_1[0x17] + 0x96;
    local_1c0 = 0;
    local_1cc = 0;
    local_1c8 = 8;
    local_1f4 = 0;
    local_1f0 = 0;
    local_1b4 = 0;
    uStack_1b8 = 0;
    uStack_14 = 0;
    local_1a8 = 200;
    uStack_170 = 0;
    local_16c = 0;
    local_168 = 0;
    local_164 = 1;
    local_1a4 = 0;
    iStack_1e0 = 1;
    piVar8 = param_1 + 0x19;
    piVar9 = aiStack_158;
    for (iVar7 = 0x4d; iVar7 != 0; iVar7 = iVar7 + -1) {
      *piVar9 = *piVar8;
      piVar8 = piVar8 + 1;
      piVar9 = piVar9 + 1;
    }
    local_160 = 0;
    uStack_24 = 0;
    uStack_20 = 0x14;
    iVar7 = FUN_00434cb0((int)DAT_0048ce0c);
    lVar11 = FUN_00414310(*(int *)(iVar7 + 0x2e0),*(int *)(iVar7 + 0x2e4),local_1b0,local_1ac);
    if ((int)lVar11 < 0xbb9) {
      piVar8 = &local_1b0;
      uVar13 = 6;
      uVar12 = 8;
      uVar6 = 0;
      iVar7 = FUN_00456230(*param_1);
      FUN_00412690(&DAT_0048d4f0,iVar7,uVar6,uVar12,uVar13,piVar8);
    }
    FUN_00429dd0((void *)*param_1,-1,(int)&local_1fc);
    pcVar10 = Get_exref;
  }
  if (param_1[0x18] == iVar2 + 0xf) {
    FUN_00417180(&local_1fc);
    local_1fc = param_1[4];
    local_1b0 = param_1[0x12];
    local_1ac = param_1[0x13];
    local_1f8 = param_1[5];
    iStack_1dc = param_1[0x16] + 1;
    local_1d8 = param_1[0x17] + 1;
    local_1ec = 0;
    local_1e8 = 0;
    local_1c4 = 0;
    local_1c0 = 0;
    local_1cc = 0;
    local_1c8 = 8;
    local_1f4 = 0;
    local_1f0 = 0;
    local_1b4 = 0;
    uStack_1b8 = 0;
    uStack_14 = 0;
    local_1a8 = 200;
    uStack_170 = 0xffffffff;
    local_16c = 0xffffffff;
    local_168 = 1;
    local_164 = 0;
    local_160 = 0;
    local_1a4 = 0;
    uStack_188 = 0xffffffff;
    local_1a0 = 0x80;
    local_1d4 = iStack_1dc;
    local_1d0 = local_1d8;
    iVar7 = FUN_00455ee0(DAT_0048ce08,5,0x9896b4);
    uVar6 = FUN_004663a0(iVar7);
    pRVar4 = (RKC_RPGSCRN_CHARANIM *)(*pcVar10)(uVar6);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1e0 = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0x9896b4,(int)&local_1fc);
  }
  iVar7 = param_1[0x18];
  if (((iVar2 + 4 <= iVar7) && (iVar7 <= iVar2 + 0x16)) && (((iVar7 - iVar2) + -4) % 3 == 2)) {
    iVar14 = 0;
    iVar7 = FUN_00456230(*param_1);
    FUN_00417260(0,0x16,param_1 + 0x12,iVar7,iVar14);
  }
  iVar7 = param_1[0x18];
  param_1[0x18] = iVar7 + 1;
  return iVar7 + 1 != iVar2 + 0x16;
}



/*
 * Function: FUN_0042d380
 * Address: 0042d380
 */

undefined4 __thiscall FUN_0042d380(void *this,int param_1)

{
  undefined4 uVar1;
  short sVar2;
  int iVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *pRVar5;
  RKC_RPGSCRN_CHARANIMCHART *pRVar6;
  void *pvVar7;
  undefined4 local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  int iStack_1dc;
  int local_1d8;
  int local_1d4;
  int local_1d0;
  int local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_10;
  
  if (*(int *)((int)this + 0x60) == 0) {
    FUN_00417180(&local_1f8);
    local_1f8 = *(int *)((int)this + 0x10);
    iVar3 = *(int *)((int)this + 0x14);
    local_1e8 = 0;
    local_1e4 = 0;
    local_1c0 = 0;
    local_1bc = 0;
    local_1c8 = 0;
    local_1c4 = 8;
    local_1f4 = iVar3;
    if (local_1f8 == 0) {
      local_1fc = *(undefined4 *)((int)this + 0x4c);
      local_1ac = *(undefined4 *)((int)this + 0x48);
    }
    else {
      local_1fc = 0;
      local_1ac = 0;
      if (local_1f8 == 1) {
        iVar3 = FUN_00434c90(DAT_0048ce0c,iVar3);
        if (iVar3 != 0) {
          local_1fc = *(undefined4 *)(iVar3 + 0x2e4);
          local_1ac = *(undefined4 *)(iVar3 + 0x2e0);
        }
      }
      else {
                    /* WARNING: Load size is inaccurate */
        pvVar7 = (void *)FUN_00427aa0(*this);
        iVar3 = FUN_004299e0(pvVar7,iVar3);
        if (iVar3 != 0) {
          iVar3 = FUN_00434cd0(iVar3);
          local_1ac = *(undefined4 *)(iVar3 + 0x18);
          local_1fc = *(undefined4 *)(iVar3 + 0x1c);
        }
      }
    }
    local_1a4 = *(undefined4 *)((int)this + 0x24);
    local_1d8 = *(int *)((int)this + 0x58) + 1;
    local_1d4 = *(int *)((int)this + 0x5c) + 1;
    local_1f0 = 0;
    local_1ec = 0;
    local_1b0 = 0;
    local_1b4 = 0;
    local_10 = 0;
    local_15c = 1;
    local_1a0 = 0;
    local_184 = 0xffffffff;
    local_164 = 1;
    local_160 = 0;
    local_16c = 0xffffffff;
    local_168 = 0xffffffff;
    local_1d0 = local_1d8;
    local_1cc = local_1d4;
    local_1a8 = local_1fc;
    iVar3 = FUN_00455ee0(DAT_0048ce08,5,0xa7d8dc);
    lVar4 = FUN_004663a0(iVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
    pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,0);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,8);
    iStack_1dc = (int)sVar2;
                    /* WARNING: Load size is inaccurate */
    FUN_00429dd0(*this,0xa7d8dc,(int)&local_1f8);
    iVar3 = FUN_00455ee0(DAT_0048ce08,5,param_1 + 0xa7d8dd);
    lVar4 = FUN_004663a0(iVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
    RKC_RPGSCRN_CHARANIM::Get(pRVar5,0);
    iStack_1dc = *(undefined4 *)((int)this + 0x44);
                    /* WARNING: Load size is inaccurate */
    FUN_00429dd0(*this,param_1 + 0xa7d8dd,(int)&local_1f8);
  }
  iVar3 = *(int *)((int)this + 0x44) + -1;
  if (iVar3 < 0) {
    iVar3 = *(int *)((int)this + 0x60);
  }
  if (*(int *)((int)this + 0x60) != iVar3) {
    *(int *)((int)this + 0x60) = *(int *)((int)this + 0x60) + 1;
    return 1;
  }
  FUN_00417180(&local_1f8);
  local_1f8 = *(int *)((int)this + 0x10);
  iVar3 = *(int *)((int)this + 0x14);
  local_1e8 = 0;
  local_1e4 = 0;
  local_1c0 = 0;
  local_1bc = 0;
  local_1c8 = 0;
  local_1c4 = 8;
  local_1f4 = iVar3;
  if (local_1f8 == 0) {
    local_1fc = *(undefined4 *)((int)this + 0x4c);
    uVar1 = *(undefined4 *)((int)this + 0x48);
  }
  else {
    local_1fc = 0;
    uVar1 = 0;
    if (local_1f8 == 1) {
      iVar3 = FUN_00434c90(DAT_0048ce0c,iVar3);
      if (iVar3 != 0) {
        local_1fc = *(undefined4 *)(iVar3 + 0x2e4);
        uVar1 = *(undefined4 *)(iVar3 + 0x2e0);
      }
    }
    else {
                    /* WARNING: Load size is inaccurate */
      pvVar7 = (void *)FUN_00427aa0(*this);
      iVar3 = FUN_004299e0(pvVar7,iVar3);
      if (iVar3 != 0) {
        iVar3 = FUN_00434cd0(iVar3);
        local_1fc = *(undefined4 *)(iVar3 + 0x1c);
        uVar1 = *(undefined4 *)(iVar3 + 0x18);
      }
    }
  }
  local_1ac = uVar1;
  local_1a4 = *(undefined4 *)((int)this + 0x24);
  local_1d8 = *(int *)((int)this + 0x58) + 1;
  local_1d4 = *(int *)((int)this + 0x5c) + 1;
  local_1f0 = 0;
  local_1ec = 0;
  local_1b0 = 0;
  local_1b4 = 0;
  local_10 = 0;
  local_15c = 1;
  local_1a0 = 0;
  local_184 = 0xffffffff;
  local_164 = 1;
  local_160 = 0;
  local_16c = 0xffffffff;
  local_168 = 0xffffffff;
  local_1d0 = local_1d8;
  local_1cc = local_1d4;
  local_1a8 = local_1fc;
  iVar3 = FUN_00455ee0(DAT_0048ce08,5,0xa7d8e1);
  lVar4 = FUN_004663a0(iVar3);
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,0);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,8);
  iStack_1dc = (int)sVar2;
                    /* WARNING: Load size is inaccurate */
  FUN_00429dd0(*this,0xa7d8e1,(int)&local_1f8);
  return 0;
}



/*
 * Function: FUN_0042d6e0
 * Address: 0042d6e0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0042d6e0(int *param_1)

{
  double dVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  short sVar4;
  int iVar5;
  long lVar6;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPG_TABLEDATA *this_01;
  void *pvVar7;
  int *piVar8;
  int *piVar9;
  int iVar10;
  int local_220;
  int local_21c;
  int iStack_218;
  int iStack_214;
  int iStack_210;
  int iStack_20c;
  double dStack_208;
  int local_200;
  int local_1fc;
  undefined4 local_1f8;
  undefined4 local_1f4;
  int local_1f0;
  int local_1ec;
  int iStack_1e4;
  int local_1e0;
  int local_1dc;
  int local_1d8;
  int local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined8 local_1c8;
  undefined4 local_1bc;
  int local_1b8;
  int local_1b4;
  int local_1b0;
  int local_1ac;
  undefined4 local_1a8;
  undefined4 local_18c;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  int aiStack_15c [77];
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 local_18;
  int iStack_10;
  
  if (param_1[0x18] == 0) {
    FUN_00417180(&local_200);
    local_200 = param_1[4];
    iVar5 = param_1[5];
    local_1f0 = 0;
    local_1ec = 0;
    local_1c8 = 0.0;
    local_1d0 = 0;
    local_1cc = 8;
    local_1fc = iVar5;
    if (local_200 == 0) {
      local_1b4 = param_1[0x12];
      local_1b0 = param_1[0x13];
    }
    else {
      local_220 = 0;
      local_21c = 0;
      if (local_200 == 1) {
        iVar5 = FUN_00434c90(DAT_0048ce0c,iVar5);
        if (iVar5 != 0) {
          local_220 = *(int *)(iVar5 + 0x2e0);
          local_21c = *(int *)(iVar5 + 0x2e4);
        }
      }
      else {
        pvVar7 = (void *)FUN_00427aa0(*param_1);
        iVar5 = FUN_004299e0(pvVar7,iVar5);
        if (iVar5 != 0) {
          iVar5 = FUN_00434cd0(iVar5);
          local_220 = *(int *)(iVar5 + 0x18);
          local_21c = *(int *)(iVar5 + 0x1c);
        }
      }
      local_1b4 = local_220;
      local_1b0 = local_21c;
    }
    local_1e0 = param_1[0x16] + 1;
    local_1dc = param_1[0x17] + 1;
    local_1f8 = 0;
    local_1f4 = 0;
    local_1b8 = 0;
    local_1bc = 0;
    local_18 = 0;
    local_1ac = 0;
    local_1a8 = 0;
    local_18c = 0xffffffff;
    local_174 = 0xffffffff;
    local_170 = 0xffffffff;
    local_16c = 1;
    local_168 = 0;
    local_164 = 0;
    local_1d8 = local_1e0;
    local_1d4 = local_1dc;
    iVar5 = FUN_00455ee0(DAT_0048ce08,5,0x98968c);
    lVar6 = FUN_004663a0(iVar5);
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,0);
    sVar4 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,8);
    iStack_1e4 = (int)sVar4;
    FUN_00429dd0((void *)*param_1,0x98968c,(int)&local_200);
  }
  if (param_1[0x18] == param_1[0x11]) {
    this_01 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xcc);
    iStack_218 = RKC_RPG_TABLEDATA::GetValue(this_01,0,param_1[0xe8] + -1);
    RKC_RPG_TABLEDATA::GetValue(this_01,0,0x1d);
    iStack_20c = param_1[0xb];
    iStack_210 = param_1[10];
    iStack_214 = 0;
    if (0 < iStack_218) {
      dStack_208 = _DAT_00475160 / (double)iStack_218;
      do {
        FUN_00417180(&local_200);
        local_1fc = param_1[5];
        local_1f0 = param_1[6];
        local_200 = param_1[4];
        local_1ec = param_1[7];
        dVar1 = (double)CONCAT44(iStack_20c,iStack_210) - (double)iStack_214 * dStack_208;
        local_1d0 = 0;
        local_1c8._4_4_ = (undefined4)((ulonglong)dVar1 >> 0x20);
        uVar2 = local_1c8._4_4_;
        local_1c8._0_4_ = SUB84(dVar1,0);
        uVar3 = (undefined4)local_1c8;
        local_1c8 = dVar1;
        local_1cc = FUN_004140f0(uVar3,uVar2);
        if (local_200 == 0) {
          local_1b4 = param_1[0x12];
          local_1b0 = param_1[0x13];
        }
        else {
          local_220 = 0;
          local_21c = 0;
          if (local_200 == 1) {
            iVar5 = FUN_00434c90(DAT_0048ce0c,local_1fc);
            if (iVar5 != 0) {
              local_220 = *(int *)(iVar5 + 0x2e0);
              local_21c = *(int *)(iVar5 + 0x2e4);
            }
          }
          else {
            iVar5 = local_1fc;
            pvVar7 = (void *)FUN_00427aa0(*param_1);
            iVar5 = FUN_004299e0(pvVar7,iVar5);
            if (iVar5 != 0) {
              iVar5 = FUN_00434cd0(iVar5);
              local_220 = *(int *)(iVar5 + 0x18);
              local_21c = *(int *)(iVar5 + 0x1c);
            }
          }
          FUN_004140a0(&local_220,local_1c8,0xb4,&local_1b4);
        }
        local_1b8 = param_1[8];
        iStack_10 = param_1[0xe9];
        local_1e0 = -0x50;
        local_1dc = -0x50;
        local_1bc = 1;
        local_1d8 = 0x4f;
        local_1d4 = 0x4f;
        local_1ac = param_1[9];
        local_18 = 1;
        local_1f8 = 1;
        local_1d0 = 1;
        local_16c = 1;
        iStack_1e4 = 0x5a;
        local_1f4 = 0x14;
        local_1a8 = 0;
        local_18c = 0xffffffff;
        local_174 = 0;
        local_170 = 0xffffffff;
        local_168 = 0;
        piVar8 = param_1 + 0x19;
        piVar9 = aiStack_15c;
        for (iVar5 = 0x4d; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar9 = *piVar8;
          piVar8 = piVar8 + 1;
          piVar9 = piVar9 + 1;
        }
        uStack_24 = 0x14;
        local_164 = 0;
        uStack_28 = 0;
        iVar5 = FUN_00429dd0((void *)*param_1,0x98968a,(int)&local_200);
        pvVar7 = (void *)FUN_00427aa0(*param_1);
        iVar5 = FUN_004299e0(pvVar7,iVar5);
        if (iVar5 != 0) {
          iVar5 = FUN_00434cd0(iVar5);
          *(undefined4 *)(iVar5 + 0xc0) = 0;
        }
        iStack_214 = iStack_214 + 1;
      } while (iStack_214 < iStack_218);
    }
    iVar10 = 0;
    iVar5 = FUN_00456230(*param_1);
    FUN_00417260(0,0x13,&local_1b4,iVar5,iVar10);
    return 0;
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042db10
 * Address: 0042db10
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0042db10(int *param_1)

{
  double dVar1;
  short sVar2;
  int iVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPG_TABLEDATA *this_01;
  uint uVar5;
  void *pvVar6;
  uint uVar7;
  int *piVar8;
  code *pcVar9;
  int *piVar10;
  int iVar11;
  uint uStack_228;
  int local_224;
  uint local_220;
  RKC_RPG_TABLEDATA *pRStack_21c;
  uint uStack_218;
  int iStack_214;
  int iStack_210;
  int iStack_20c;
  undefined4 uStack_208;
  long lStack_204;
  int local_200;
  int local_1fc;
  undefined4 local_1f8;
  undefined4 local_1f4;
  int local_1f0;
  int local_1ec;
  undefined4 uStack_1e8;
  int iStack_1e4;
  int local_1e0;
  int local_1dc;
  undefined8 local_1d8;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined8 local_1c8;
  int iStack_1c0;
  int local_1bc;
  undefined4 local_1b8;
  int local_1b4;
  int local_1b0;
  int local_1ac;
  undefined4 local_1a8;
  undefined4 uStack_19c;
  undefined4 local_18c;
  undefined4 uStack_184;
  undefined4 uStack_180;
  undefined4 uStack_17c;
  undefined4 uStack_178;
  undefined4 local_174;
  undefined4 local_170;
  int local_16c [4];
  int aiStack_15c [30];
  undefined4 uStack_e4;
  int iStack_e0;
  undefined4 uStack_44;
  int iStack_40;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_28;
  int iStack_20;
  undefined4 local_18;
  
  pcVar9 = GetValue_exref;
  if (param_1[0x18] == 0) {
    FUN_00417180(&local_200);
    local_200 = param_1[4];
    iVar3 = param_1[5];
    local_1f0 = 0;
    local_1ec = 0;
    local_1c8 = 0.0;
    local_1d0 = 0;
    local_1cc = 8;
    local_1fc = iVar3;
    if (local_200 == 0) {
      local_1b4 = param_1[0x12];
      local_1b0 = param_1[0x13];
    }
    else {
      local_224 = 0;
      local_220 = 0;
      if (local_200 == 1) {
        iVar3 = FUN_00434c90(DAT_0048ce0c,iVar3);
        if (iVar3 != 0) {
          local_224 = *(int *)(iVar3 + 0x2e0);
          local_220 = *(int *)(iVar3 + 0x2e4);
        }
      }
      else {
        pvVar6 = (void *)FUN_00427aa0(*param_1);
        iVar3 = FUN_004299e0(pvVar6,iVar3);
        if (iVar3 != 0) {
          iVar3 = FUN_00434cd0(iVar3);
          local_224 = *(int *)(iVar3 + 0x18);
          local_220 = *(int *)(iVar3 + 0x1c);
        }
      }
      local_1b4 = local_224;
      local_1b0 = local_220;
    }
    local_1e0 = param_1[0x16] + 1;
    local_1dc = param_1[0x17] + 1;
    local_1d8 = (double)CONCAT44(local_1dc,local_1e0);
    local_1f8 = 0;
    local_1f4 = 0;
    local_1b8 = 0;
    local_1bc = 0;
    local_18 = 0;
    local_1ac = 0;
    local_1a8 = 0;
    local_18c = 0xffffffff;
    local_174 = 0xffffffff;
    local_170 = 0xffffffff;
    local_16c[0] = 1;
    local_16c[1] = 0;
    local_16c[2] = 0;
    iVar3 = FUN_00455ee0(DAT_0048ce08,5,0xa7d8db);
    lVar4 = FUN_004663a0(iVar3);
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,0);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,8);
    iStack_1e4 = (int)sVar2;
    FUN_00429dd0((void *)*param_1,0xa7d8db,(int)&local_200);
    this_01 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xcc);
    pcVar9 = GetValue_exref;
    uStack_218 = RKC_RPG_TABLEDATA::GetValue(this_01,0,param_1[0xe8] + -1);
    lStack_204 = RKC_RPG_TABLEDATA::GetValue(this_01,0,0x1d);
    iStack_210 = param_1[10];
    iStack_20c = param_1[0xb];
    iStack_214 = 0;
    if (0 < (int)uStack_218) {
      do {
        uVar5 = uStack_218;
        FUN_00417180(&local_200);
        local_200 = param_1[4];
        local_1fc = param_1[5];
        local_1f0 = param_1[6];
        local_1ec = param_1[7];
        if (uVar5 == 1) {
          local_1c8 = (double)CONCAT44(iStack_20c,iStack_210);
        }
        else {
          uVar7 = uVar5 & 0x80000001;
          dVar1 = ((double)(int)uStack_218 * _DAT_004751f0) / (double)lStack_204;
          if ((int)uVar7 < 0) {
            uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
          }
          pRStack_21c = (RKC_RPG_TABLEDATA *)(1 - uVar7);
          local_1c8 = ((double)CONCAT44(iStack_20c,iStack_210) - dVar1 * _DAT_004751e8) +
                      (dVar1 / (double)(int)uStack_218) * (double)(int)pRStack_21c * _DAT_004751e8 +
                      ((double)iStack_214 * dVar1) / (double)(int)(uVar5 - 1);
        }
        local_1d0 = 0;
        local_1cc = FUN_004140f0((undefined4)local_1c8,local_1c8._4_4_);
        if (local_200 == 0) {
          local_1b4 = param_1[0x12];
          local_1b0 = param_1[0x13];
        }
        else {
          local_224 = 0;
          local_220 = 0;
          if (local_200 == 1) {
            iVar3 = FUN_00434c90(DAT_0048ce0c,local_1fc);
            if (iVar3 != 0) {
              local_224 = *(int *)(iVar3 + 0x2e0);
              local_220 = *(int *)(iVar3 + 0x2e4);
            }
          }
          else {
            iVar3 = local_1fc;
            pvVar6 = (void *)FUN_00427aa0(*param_1);
            iVar3 = FUN_004299e0(pvVar6,iVar3);
            if (iVar3 != 0) {
              iVar3 = FUN_00434cd0(iVar3);
              local_224 = *(int *)(iVar3 + 0x18);
              local_220 = *(int *)(iVar3 + 0x1c);
            }
          }
          FUN_004140a0(&local_224,local_1c8,0x96,&local_1b4);
        }
        iStack_1e4 = param_1[0x11];
        local_1ac = param_1[9];
        local_1e0 = -0x32;
        local_1dc = -0x32;
        local_1d8 = 1.06099789572967e-312;
        local_18c = 0xffffffff;
        local_174 = 0xffffffff;
        local_170 = 0xffffffff;
        local_1b8 = 0;
        local_1bc = 0;
        local_18 = 0;
        local_1f8 = 0;
        local_1a8 = 0;
        local_16c[0] = 1;
        local_16c[1] = 0;
        piVar8 = param_1 + 0x19;
        piVar10 = aiStack_15c;
        for (iVar3 = 0x4d; iVar3 != 0; iVar3 = iVar3 + -1) {
          *piVar10 = *piVar8;
          piVar8 = piVar8 + 1;
          piVar10 = piVar10 + 1;
        }
        local_16c[2] = 0;
        FUN_00429dd0((void *)*param_1,0x9896d0,(int)&local_200);
        iStack_214 = iStack_214 + 1;
        pcVar9 = GetValue_exref;
      } while (iStack_214 < (int)uStack_218);
    }
  }
  if (param_1[0x18] == param_1[0x11]) {
    pRStack_21c = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xcc);
    uVar5 = (*pcVar9)(0,param_1[0xe8] + -1);
    local_220 = uVar5;
    iStack_214 = (*pcVar9)(0,0x1d);
    local_220 = param_1[10];
    pRStack_21c = (RKC_RPG_TABLEDATA *)param_1[0xb];
    local_224 = 0;
    if (0 < (int)uVar5) {
      do {
        FUN_00417180(&iStack_210);
        iStack_210 = param_1[4];
        iStack_20c = param_1[5];
        local_200 = param_1[6];
        local_1fc = param_1[7];
        if (uVar5 == 1) {
          local_1d8 = (double)CONCAT44(pRStack_21c,local_220);
        }
        else {
          uVar7 = uVar5 & 0x80000001;
          dVar1 = ((double)(int)uStack_228 * _DAT_004751f0) / (double)iStack_214;
          if ((int)uVar7 < 0) {
            uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
          }
          local_1d8 = ((double)CONCAT44(pRStack_21c,local_220) - dVar1 * _DAT_004751e8) +
                      (dVar1 / (double)(int)uStack_228) * (double)(int)(1 - uVar7) * _DAT_004751e8 +
                      ((double)local_224 * dVar1) / (double)(int)(uVar5 - 1);
        }
        local_1e0 = 0;
        local_1dc = FUN_004140f0((undefined4)local_1d8,local_1d8._4_4_);
        if (iStack_210 == 0) {
          iStack_1c0 = param_1[0x13];
          local_1c8 = (double)((ulonglong)(uint)param_1[0x12] << 0x20);
        }
        else {
          if (iStack_210 == 1) {
            FUN_00434c90(DAT_0048ce0c,iStack_20c);
          }
          else {
            iVar3 = iStack_20c;
            pvVar6 = (void *)FUN_00427aa0(*param_1);
            iVar3 = FUN_004299e0(pvVar6,iVar3);
            if (iVar3 != 0) {
              FUN_00434cd0(iVar3);
            }
          }
          FUN_004140a0((int *)&stack0xfffffdcc,local_1d8,0xb4,(int *)((int)&local_1c8 + 4));
        }
        local_1bc = param_1[9];
        local_1f0 = -0x32;
        local_1ec = -0x32;
        uStack_1e8 = 0x32;
        iStack_1e4 = 0x32;
        local_1c8 = (double)CONCAT44(local_1c8._4_4_,param_1[8]);
        uStack_19c = 0xffffffff;
        uStack_180 = 0xffffffff;
        iStack_20 = param_1[0xe9];
        local_1cc = 1;
        uStack_28 = 1;
        uStack_17c = 1;
        local_1f4 = 0x5a;
        uStack_208 = 0;
        local_1b8 = 0;
        uStack_184 = 0;
        uStack_178 = 0;
        piVar8 = param_1 + 0x19;
        piVar10 = local_16c;
        for (iVar3 = 0x4d; iVar3 != 0; iVar3 = iVar3 + -1) {
          *piVar10 = *piVar8;
          piVar8 = piVar8 + 1;
          piVar10 = piVar10 + 1;
        }
        uStack_e4 = 0x521d;
        iStack_e0 = local_1dc;
        uStack_44 = 0x521e;
        iStack_40 = local_1dc;
        local_174 = 0;
        uStack_38 = 0;
        uStack_34 = 0x14;
        iVar3 = FUN_00429dd0((void *)*param_1,0x9896d1,(int)&iStack_210);
        pvVar6 = (void *)FUN_00427aa0(*param_1);
        iVar3 = FUN_004299e0(pvVar6,iVar3);
        if (iVar3 != 0) {
          iVar3 = FUN_00434cd0(iVar3);
          *(undefined4 *)(iVar3 + 0xc0) = 0;
        }
        local_224 = local_224 + 1;
        uVar5 = uStack_228;
      } while (local_224 < (int)uStack_228);
    }
    iVar11 = 0;
    iVar3 = FUN_00456230(*param_1);
    FUN_00417260(0,0x5e,(int *)((int)&local_1c8 + 4),iVar3,iVar11);
    return 0;
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042e240
 * Address: 0042e240
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

bool __fastcall FUN_0042e240(int *param_1)

{
  double dVar1;
  short sVar2;
  RKC_RPG_TABLEDATA *this;
  long lVar3;
  uint uVar4;
  int iVar5;
  long lVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  void *this_00;
  int iVar9;
  int *piVar10;
  int *piVar11;
  int *piVar12;
  bool bVar13;
  int iStack_21c;
  int iStack_200;
  int iStack_1fc;
  undefined4 uStack_1f8;
  undefined4 uStack_1f4;
  int iStack_1f0;
  undefined4 uStack_1ec;
  int iStack_1e4;
  int aiStack_1e0 [9];
  undefined4 uStack_1bc;
  undefined4 uStack_1b8;
  int aiStack_1b4 [2];
  undefined4 uStack_1ac;
  uint uStack_1a8;
  undefined4 uStack_18c;
  undefined4 uStack_174;
  undefined4 uStack_170;
  undefined4 uStack_16c;
  undefined4 uStack_168;
  undefined4 uStack_164;
  int aiStack_15c [81];
  undefined4 uStack_18;
  int iStack_10;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xcc);
  lVar3 = RKC_RPG_TABLEDATA::GetValue(this,0,param_1[0xe8] + -1);
  if (param_1[0x11] <= param_1[0x18]) {
    uVar4 = param_1[0x18] - param_1[0x11] & 0x80000003;
    bVar13 = uVar4 == 0;
    if ((int)uVar4 < 0) {
      bVar13 = (uVar4 - 1 | 0xfffffffc) == 0xffffffff;
    }
    if (bVar13) {
      dVar1 = *(double *)(param_1 + 10);
      iStack_21c = 0;
      if (0 < lVar3) {
        piVar10 = param_1 + 0xa6;
        do {
          FUN_00417180(&iStack_200);
          aiStack_1e0[0] = -100;
          aiStack_1e0[1] = 0xffffff9c;
          aiStack_1e0[2] = 100;
          aiStack_1e0[3] = 100;
          FUN_004140a0(param_1 + 0x12,((double)iStack_21c * _DAT_00475160) / (double)lVar3 + dVar1,
                       param_1[0xae] * 200 + 0x15e,aiStack_1b4);
          iVar5 = FUN_004145b0(*param_1,-1,aiStack_1b4,aiStack_1e0,0,2,0);
          if (iVar5 == 0) {
            *piVar10 = 1;
          }
          if (*piVar10 == 0) {
            iStack_200 = param_1[4];
            iStack_1fc = param_1[5];
            iStack_1f0 = param_1[6];
            uStack_1ec = 0;
            aiStack_1e0[6] = 0;
            aiStack_1e0[7] = 0;
            aiStack_1e0[4] = 0;
            aiStack_1e0[5] = 8;
            uStack_1f8 = 0;
            uStack_1f4 = 0;
            uStack_1b8 = 0;
            uStack_1bc = 0;
            uStack_18 = 0;
            uStack_1ac = 0;
            uStack_164 = 0;
            uStack_1a8 = _rand();
            uStack_1a8 = uStack_1a8 & 0x80000003;
            if ((int)uStack_1a8 < 0) {
              uStack_1a8 = (uStack_1a8 - 1 | 0xfffffffc) + 1;
            }
            uStack_18c = 0xffffffff;
            uStack_16c = 1;
            uStack_168 = 1;
            iVar5 = param_1[0xe9];
            piVar11 = param_1 + 0x19;
            piVar12 = aiStack_15c;
            for (iVar9 = 0x4d; iVar9 != 0; iVar9 = iVar9 + -1) {
              *piVar12 = *piVar11;
              piVar11 = piVar11 + 1;
              piVar12 = piVar12 + 1;
            }
            uStack_174 = 0;
            uStack_170 = 0;
            iStack_10 = iVar5;
            iVar5 = FUN_00455ee0(DAT_0048ce08,5,0x98969e);
            lVar6 = FUN_004663a0(iVar5);
            pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
            pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0);
            sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
            iStack_1e4 = (int)sVar2;
            FUN_00429dd0((void *)*param_1,0x98969e,(int)&iStack_200);
            uStack_174 = 0xffffffff;
            uStack_1a8 = 0;
            uStack_18c = 0xffffffff;
            uStack_16c = 1;
            uStack_168 = 0;
            iVar5 = FUN_00455ee0(DAT_0048ce08,5,0x98969f);
            lVar6 = FUN_004663a0(iVar5);
            pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
            pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0);
            sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
            iStack_1e4 = (int)sVar2;
            FUN_00429dd0((void *)*param_1,0x98969f,(int)&iStack_200);
            iVar5 = FUN_00455ee0(DAT_0048ce08,5,0x9896a0);
            lVar6 = FUN_004663a0(iVar5);
            pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
            pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0);
            sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
            iStack_1e4 = (int)sVar2;
            iVar5 = FUN_00429dd0((void *)*param_1,0x9896a0,(int)&iStack_200);
            this_00 = (void *)FUN_00427aa0(*param_1);
            iVar5 = FUN_004299e0(this_00,iVar5);
            if (iVar5 != 0) {
              iVar5 = FUN_00434cd0(iVar5);
              *(undefined4 *)(iVar5 + 0xc0) = 0;
            }
          }
          iStack_21c = iStack_21c + 1;
          piVar10 = piVar10 + 1;
        } while (iStack_21c < lVar3);
      }
      iVar9 = 0;
      iVar5 = FUN_00456230(*param_1);
      FUN_00417260(0,0x15,aiStack_1b4,iVar5,iVar9);
      param_1[0xae] = param_1[0xae] + 1;
    }
  }
  iVar5 = param_1[0x18];
  param_1[0x18] = iVar5 + 1;
  return iVar5 + 1 != param_1[0x11] + 0x10;
}



/*
 * Function: FUN_0042e5c0
 * Address: 0042e5c0
 */

undefined4 __fastcall FUN_0042e5c0(int *param_1)

{
  void *pvVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  int local_200;
  undefined4 local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e8;
  int local_1e4;
  undefined4 local_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  int local_1c0;
  int local_1bc;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int local_154 [77];
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_10;
  int local_8;
  
  if (param_1[0x18] == param_1[0x11]) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    local_1e8 = param_1[6];
    local_1f4 = param_1[5];
    local_1e4 = param_1[7];
    local_1bc = param_1[0xb];
    local_1c0 = param_1[10];
    local_1c8 = 0;
    local_1c4 = FUN_004140f0(local_1c0,local_1bc);
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_200 = 0;
      local_1fc = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,local_1f4);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(undefined4 *)(iVar2 + 0x2e4);
        }
      }
      else {
        iVar2 = local_1f4;
        pvVar1 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar1,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(undefined4 *)(iVar2 + 0x1c);
        }
      }
      FUN_004140a0(&local_200,(double)CONCAT44(local_1bc,local_1c0),0xb4,&local_1ac);
    }
    local_1b0 = param_1[8];
    local_1a4 = param_1[9];
    local_1d8 = 0xffffffce;
    local_1d4 = 0xffffffce;
    local_1dc = 0xffffffff;
    local_184 = 0xffffffff;
    local_168 = 0xffffffff;
    local_8 = param_1[0xe9];
    local_1b4 = 1;
    local_10 = 1;
    local_1d0 = 0x32;
    local_1cc = 0x32;
    local_164 = 1;
    local_1f0 = 0;
    local_1ec = 0;
    local_1a0 = 0;
    local_16c = 0;
    local_160 = 0;
    piVar3 = param_1 + 0x19;
    piVar4 = local_154;
    for (iVar2 = 0x4d; iVar2 != 0; iVar2 = iVar2 + -1) {
      *piVar4 = *piVar3;
      piVar3 = piVar3 + 1;
      piVar4 = piVar4 + 1;
    }
    local_15c = 0;
    local_20 = 0;
    local_1c = 0x14;
    iVar2 = FUN_00429dd0((void *)*param_1,0x9896c6,(int)&local_1f8);
    pvVar1 = (void *)FUN_00427aa0(*param_1);
    iVar2 = FUN_004299e0(pvVar1,iVar2);
    if (iVar2 != 0) {
      iVar2 = FUN_00434cd0(iVar2);
      *(undefined4 *)(iVar2 + 0xc0) = 0;
    }
    iVar5 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00417260(0,0x16,&local_1ac,iVar2,iVar5);
    return 0;
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042e7e0
 * Address: 0042e7e0
 */

bool __fastcall FUN_0042e7e0(int *param_1)

{
  short sVar1;
  RKC_RPG_TABLEDATA *this;
  long lVar2;
  uint uVar3;
  int iVar4;
  long lVar5;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int *piVar6;
  int *piVar7;
  bool bVar8;
  longlong lVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  int iVar12;
  undefined4 uVar13;
  int iStack_1f8;
  int iStack_1f4;
  undefined4 uStack_1f0;
  undefined4 uStack_1ec;
  int iStack_1e8;
  undefined4 uStack_1e4;
  int iStack_1dc;
  int aiStack_1d8 [9];
  undefined4 uStack_1b4;
  undefined4 uStack_1b0;
  int iStack_1ac;
  int iStack_1a8;
  undefined4 uStack_1a4;
  undefined4 uStack_1a0;
  undefined4 uStack_184;
  undefined4 uStack_16c;
  undefined4 uStack_168;
  undefined4 uStack_164;
  undefined4 uStack_160;
  undefined4 uStack_15c;
  int aiStack_154 [81];
  undefined4 uStack_10;
  int iStack_8;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xce);
  lVar2 = RKC_RPG_TABLEDATA::GetValue(this,0,param_1[0xe8] + -1);
  if (param_1[0x11] <= param_1[0x18]) {
    uVar3 = param_1[0x18] - param_1[0x11] & 0x80000007;
    bVar8 = uVar3 == 0;
    if ((int)uVar3 < 0) {
      bVar8 = (uVar3 - 1 | 0xfffffff8) == 0xffffffff;
    }
    if (bVar8) {
      FUN_00417180(&iStack_1f8);
      aiStack_1d8[0] = -0x96;
      aiStack_1d8[1] = 0xffffff6a;
      aiStack_1d8[2] = 0x96;
      aiStack_1d8[3] = 0x96;
      FUN_004140a0(param_1 + 0x12,*(double *)(param_1 + 10),param_1[0xae] * 300 + 0xfa,&iStack_1ac);
      iVar4 = FUN_004145b0(*param_1,-1,&iStack_1ac,aiStack_1d8,0,2,0);
      if (iVar4 == 0) {
        param_1[0xa6] = 1;
      }
      if (param_1[0xa6] == 0) {
        iStack_1f8 = param_1[4];
        iStack_1f4 = param_1[5];
        iStack_1e8 = param_1[6];
        uStack_164 = 1;
        uStack_160 = 1;
        uStack_1e4 = 0;
        aiStack_1d8[6] = 0;
        aiStack_1d8[7] = 0;
        aiStack_1d8[4] = 0;
        aiStack_1d8[5] = 8;
        uStack_1f0 = 0;
        uStack_1ec = 0;
        uStack_1b0 = 0;
        uStack_1b4 = 0;
        uStack_10 = 0;
        uStack_1a4 = 0;
        uStack_15c = 0;
        uStack_1a0 = 0;
        uStack_184 = 0xffffffff;
        piVar6 = param_1 + 0x19;
        piVar7 = aiStack_154;
        for (iVar4 = 0x4d; iVar4 != 0; iVar4 = iVar4 + -1) {
          *piVar7 = *piVar6;
          piVar6 = piVar6 + 1;
          piVar7 = piVar7 + 1;
        }
        iStack_8 = param_1[0xe9];
        uStack_16c = 0;
        uStack_168 = 0;
        iVar4 = FUN_00455ee0(DAT_0048ce08,5,0x9896bc);
        lVar5 = FUN_004663a0(iVar4);
        this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar5);
        this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,0);
        sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,8);
        iStack_1dc = (int)sVar1;
        FUN_00429dd0((void *)*param_1,0x9896bc,(int)&iStack_1f8);
        iVar12 = 0;
        iVar4 = FUN_00456230(*param_1);
        FUN_00417260(0,0x16,&iStack_1ac,iVar4,iVar12);
        iVar4 = FUN_00434cb0(DAT_0048ce0c);
        lVar9 = FUN_00414310(*(int *)(iVar4 + 0x2e0),*(int *)(iVar4 + 0x2e4),iStack_1ac,iStack_1a8);
        if ((int)lVar9 < 0xbb9) {
          piVar6 = &iStack_1ac;
          uVar13 = 6;
          uVar11 = 8;
          uVar10 = 0;
          iVar4 = FUN_00456230(*param_1);
          FUN_00412690(&DAT_0048d4f0,iVar4,uVar10,uVar11,uVar13,piVar6);
        }
      }
      param_1[0xae] = param_1[0xae] + 1;
    }
  }
  iVar4 = param_1[0x18];
  param_1[0x18] = iVar4 + 1;
  return iVar4 + 1 != param_1[0x11] + lVar2 * 8;
}



/*
 * Function: FUN_0042ea50
 * Address: 0042ea50
 */

undefined4 __fastcall FUN_0042ea50(int *param_1)

{
  short sVar1;
  int iVar2;
  void *pvVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  int iVar5;
  int *piVar6;
  int *piVar7;
  longlong lVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  int local_200;
  undefined4 local_1fc;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  int local_1e8;
  int local_1e4;
  int local_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  int local_1c0;
  int local_1bc;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  int local_1a4;
  undefined4 local_1a0;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int local_154 [77];
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_10;
  int local_8;
  
  if (param_1[0x18] == param_1[0x11]) {
    FUN_00417180(&local_1f8);
    local_1f8 = param_1[4];
    local_1e8 = param_1[6];
    local_1f4 = param_1[5];
    local_1e4 = param_1[7];
    local_1bc = param_1[0xb];
    local_1c0 = param_1[10];
    local_1c8 = 0;
    local_1c4 = FUN_004140f0(local_1c0,local_1bc);
    if (local_1f8 == 0) {
      local_1ac = param_1[0x12];
      local_1a8 = param_1[0x13];
    }
    else {
      local_200 = 0;
      local_1fc = 0;
      if (local_1f8 == 1) {
        iVar2 = FUN_00434c90(DAT_0048ce0c,local_1f4);
        if (iVar2 != 0) {
          local_200 = *(int *)(iVar2 + 0x2e0);
          local_1fc = *(undefined4 *)(iVar2 + 0x2e4);
        }
      }
      else {
        iVar2 = local_1f4;
        pvVar3 = (void *)FUN_00427aa0(*param_1);
        iVar2 = FUN_004299e0(pvVar3,iVar2);
        if (iVar2 != 0) {
          iVar2 = FUN_00434cd0(iVar2);
          local_200 = *(int *)(iVar2 + 0x18);
          local_1fc = *(undefined4 *)(iVar2 + 0x1c);
        }
      }
      FUN_004140a0(&local_200,(double)CONCAT44(local_1bc,local_1c0),0xb4,&local_1ac);
    }
    local_1b0 = param_1[8];
    local_1a4 = param_1[9];
    local_1d8 = 0xffffffb0;
    local_1d4 = 0xffffffb0;
    local_1b4 = 1;
    local_10 = 1;
    local_1d0 = 0x4f;
    local_1cc = 0x4f;
    local_164 = 1;
    local_1dc = 0xffffffff;
    local_1f0 = 0;
    local_1ec = 0;
    local_1a0 = 0;
    local_184 = 0xffffffff;
    local_16c = 0;
    local_168 = 0xffffffff;
    iVar2 = param_1[0xe9];
    local_160 = 0;
    piVar6 = param_1 + 0x19;
    piVar7 = local_154;
    for (iVar5 = 0x4d; iVar5 != 0; iVar5 = iVar5 + -1) {
      *piVar7 = *piVar6;
      piVar6 = piVar6 + 1;
      piVar7 = piVar7 + 1;
    }
    local_15c = 0;
    local_20 = 0;
    local_1c = 0x14;
    local_8 = iVar2;
    iVar2 = FUN_00429dd0((void *)*param_1,0x9896ee,(int)&local_1f8);
    param_1[0xa6] = iVar2;
    pvVar3 = (void *)FUN_00427aa0(*param_1);
    iVar2 = FUN_004299e0(pvVar3,iVar2);
    if (iVar2 != 0) {
      iVar5 = FUN_00434cd0(iVar2);
      *(undefined4 *)(iVar5 + 0xc0) = 0;
      iVar5 = FUN_00434cd0(iVar2);
      param_1[0xa7] = *(int *)(iVar5 + 0x18);
      iVar2 = FUN_00434cd0(iVar2);
      param_1[0xa8] = *(int *)(iVar2 + 0x1c);
    }
    iVar5 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00417260(0,0x13,&local_1ac,iVar2,iVar5);
  }
  else if (param_1[0x11] < param_1[0x18]) {
    iVar2 = param_1[0xa6];
    pvVar3 = (void *)FUN_00427aa0(*param_1);
    iVar2 = FUN_004299e0(pvVar3,iVar2);
    if (iVar2 == 0) {
      FUN_00417180(&local_1f8);
      local_1f8 = param_1[4];
      local_1f4 = param_1[5];
      local_1e8 = param_1[6];
      local_1e4 = param_1[7];
      local_1c0 = param_1[10];
      local_1ac = param_1[0xa7];
      local_1bc = param_1[0xb];
      local_1a8 = param_1[0xa8];
      local_1c8 = 0;
      local_1c4 = 8;
      iVar2 = FUN_00455ee0(DAT_0048ce08,5,0x9896ef);
      lVar4 = FUN_004663a0(iVar2);
      this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
      this_00 = RKC_RPGSCRN_CHARANIM::Get(this,0);
      sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,8);
      local_1dc = (int)sVar1;
      local_1d8 = 0xffffff10;
      local_1d4 = 0xffffff10;
      local_16c = 5;
      local_1d0 = 0xef;
      local_1cc = 0xef;
      local_168 = 5;
      local_1b0 = 0;
      local_1b4 = 0;
      local_10 = 0;
      local_1a4 = 0;
      local_1f0 = 0;
      local_1ec = 0;
      local_1a0 = 0;
      local_184 = 0xffffffff;
      local_164 = 1;
      local_160 = 1;
      piVar6 = param_1 + 0x19;
      piVar7 = local_154;
      for (iVar2 = 0x4d; iVar2 != 0; iVar2 = iVar2 + -1) {
        *piVar7 = *piVar6;
        piVar6 = piVar6 + 1;
        piVar7 = piVar7 + 1;
      }
      local_15c = 0;
      local_20 = 0;
      local_1c = 0x14;
      local_8 = 0;
      iVar2 = FUN_00429dd0((void *)*param_1,0x9896ef,(int)&local_1f8);
      pvVar3 = (void *)FUN_00427aa0(*param_1);
      iVar2 = FUN_004299e0(pvVar3,iVar2);
      if (iVar2 != 0) {
        iVar2 = FUN_00434cd0(iVar2);
        *(undefined4 *)(iVar2 + 0xc0) = 0;
      }
      iVar5 = 0;
      iVar2 = FUN_00456230(*param_1);
      FUN_00417260(0,0x16,&local_1ac,iVar2,iVar5);
      iVar2 = FUN_00434cb0((int)DAT_0048ce0c);
      lVar8 = FUN_00414310(*(int *)(iVar2 + 0x2e0),*(int *)(iVar2 + 0x2e4),local_1ac,local_1a8);
      if ((int)lVar8 < 0xbb9) {
        piVar6 = &local_1ac;
        uVar11 = 6;
        uVar10 = 8;
        uVar9 = 0;
        iVar2 = FUN_00456230(*param_1);
        FUN_00412690(&DAT_0048d4f0,iVar2,uVar9,uVar10,uVar11,piVar6);
      }
      return 0;
    }
    iVar5 = FUN_00434cd0(iVar2);
    param_1[0xa7] = *(int *)(iVar5 + 0x18);
    iVar2 = FUN_00434cd0(iVar2);
    param_1[0xa8] = *(int *)(iVar2 + 0x1c);
  }
  param_1[0x18] = param_1[0x18] + 1;
  return 1;
}



/*
 * Function: FUN_0042eeb0
 * Address: 0042eeb0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0042eeb0(int *param_1)

{
  short sVar1;
  RKC_RPG_TABLEDATA *this;
  long lVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *pRVar4;
  RKC_RPGSCRN_CHARANIMCHART *pRVar5;
  void *pvVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int *piVar10;
  uint uVar11;
  int iVar12;
  int *piVar13;
  uint *puVar14;
  int *piVar15;
  bool bVar16;
  longlong lVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  int *piStack_248;
  int *piStack_244;
  int iStack_240;
  int iStack_238;
  int aiStack_234 [6];
  int aiStack_21c [5];
  double dStack_208;
  int iStack_200;
  int iStack_1fc;
  undefined4 uStack_1f8;
  undefined4 uStack_1f4;
  int iStack_1f0;
  int iStack_1ec;
  int iStack_1e4;
  int iStack_1e0;
  int iStack_1dc;
  int iStack_1d8;
  int iStack_1d4;
  undefined4 uStack_1d0;
  undefined4 uStack_1cc;
  double dStack_1c8;
  undefined4 uStack_1bc;
  int iStack_1b8;
  int iStack_1b4;
  int iStack_1b0;
  int iStack_1ac;
  undefined4 uStack_1a8;
  int iStack_190;
  undefined4 uStack_18c;
  undefined4 uStack_174;
  undefined4 uStack_170;
  undefined4 uStack_16c;
  undefined4 uStack_168;
  undefined4 uStack_164;
  int aiStack_15c [32];
  int iStack_dc;
  int iStack_d4;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_18;
  int iStack_10;
  
  aiStack_234[1] = 12000000;
  aiStack_234[2] = 0xa7d8e1;
  aiStack_234[3] = 0x98969e;
  aiStack_234[4] = 0x9896bc;
  aiStack_21c[1] = 20000;
  aiStack_21c[2] = 0x5215;
  aiStack_21c[3] = 0x4e25;
  aiStack_21c[4] = 21000;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xcf);
  iVar12 = 0;
  lVar2 = RKC_RPG_TABLEDATA::GetValue(this,0,param_1[0xe8] + -1);
  if (param_1[0x18] == 0) {
    piVar10 = param_1 + 0xa6;
    for (iVar8 = 0x40; iVar8 != 0; iVar8 = iVar8 + -1) {
      *piVar10 = 0;
      piVar10 = piVar10 + 1;
    }
    FUN_00417180(&iStack_200);
    iStack_200 = param_1[4];
    iVar8 = param_1[5];
    iStack_1f0 = 0;
    iStack_1ec = 0;
    dStack_1c8 = 0.0;
    uStack_1d0 = 0;
    uStack_1cc = 8;
    iStack_1fc = iVar8;
    if (iStack_200 == 0) {
      iStack_1b4 = param_1[0x12];
      iStack_1b0 = param_1[0x13];
    }
    else {
      iStack_238 = 0;
      aiStack_234[0] = 0;
      if (iStack_200 == 1) {
        iVar8 = FUN_00434c90(DAT_0048ce0c,iVar8);
        if (iVar8 != 0) {
          iStack_238 = *(int *)(iVar8 + 0x2e0);
          aiStack_234[0] = *(int *)(iVar8 + 0x2e4);
        }
      }
      else {
        pvVar6 = (void *)FUN_00427aa0(*param_1);
        iVar8 = FUN_004299e0(pvVar6,iVar8);
        if (iVar8 != 0) {
          iVar8 = FUN_00434cd0(iVar8);
          iStack_238 = *(int *)(iVar8 + 0x18);
          aiStack_234[0] = *(int *)(iVar8 + 0x1c);
        }
      }
      iStack_1b4 = iStack_238;
      iStack_1b0 = aiStack_234[0];
    }
    iStack_1e0 = param_1[0x16] + 1;
    iStack_1dc = param_1[0x17] + 1;
    uStack_1f8 = 0;
    uStack_1f4 = 0;
    iStack_1b8 = 0;
    uStack_1bc = 0;
    uStack_18 = 0;
    iStack_1ac = 0;
    uStack_1a8 = 0;
    uStack_18c = 0xffffffff;
    uStack_174 = 0xffffffff;
    uStack_170 = 0xffffffff;
    uStack_16c = 1;
    uStack_168 = 0;
    uStack_164 = 0;
    iStack_1d8 = iStack_1e0;
    iStack_1d4 = iStack_1dc;
    iVar8 = FUN_00455ee0(DAT_0048ce08,5,0xa7d992);
    lVar3 = FUN_004663a0(iVar8);
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
    iStack_1e4 = (int)sVar1;
    FUN_00429dd0((void *)*param_1,0xa7d992,(int)&iStack_200);
  }
  if (param_1[0x18] == param_1[0x11]) {
    RKC_RPG_TABLEDATA::GetValue(this,0,0x1d);
    aiStack_21c[0] = param_1[0xb];
    aiStack_234[5] = param_1[10];
    iStack_240 = 0;
    if (0 < lVar2) {
      piStack_248 = param_1 + 0xb1;
      piStack_244 = param_1 + 0xce;
      dStack_208 = _DAT_00475160 / (double)lVar2;
      do {
        FUN_00417180(&iStack_200);
        iStack_1f0 = param_1[6];
        iStack_200 = param_1[4];
        iVar8 = param_1[5];
        iStack_1ec = param_1[7];
        dStack_1c8 = (double)CONCAT44(aiStack_21c[0],aiStack_234[5]) -
                     (double)iStack_240 * dStack_208;
        iStack_1fc = iVar8;
        if (iStack_200 == 0) {
          iStack_1b4 = param_1[0x12];
          iStack_1b0 = param_1[0x13];
        }
        else {
          iStack_238 = 0;
          aiStack_234[0] = 0;
          if (iStack_200 == 1) {
            iVar8 = FUN_00434c90(DAT_0048ce0c,iVar8);
            if (iVar8 != 0) {
              iStack_238 = *(int *)(iVar8 + 0x2e0);
              aiStack_234[0] = *(int *)(iVar8 + 0x2e4);
            }
          }
          else {
            pvVar6 = (void *)FUN_00427aa0(*param_1);
            iVar8 = FUN_004299e0(pvVar6,iVar8);
            if (iVar8 != 0) {
              iVar8 = FUN_00434cd0(iVar8);
              iStack_238 = *(int *)(iVar8 + 0x18);
              aiStack_234[0] = *(int *)(iVar8 + 0x1c);
            }
          }
          FUN_004140a0(&iStack_238,dStack_1c8,0xb4,&iStack_1b4);
        }
        iStack_1b8 = param_1[8];
        iStack_1e0 = -0x50;
        iStack_1dc = -0x50;
        iStack_1d8 = 0x4f;
        iStack_1d4 = 0x4f;
        iStack_1ac = param_1[9];
        uStack_1bc = 1;
        uStack_18 = 1;
        iStack_10 = param_1[0xe9];
        iStack_190 = (iStack_1b8 * 1000) / 0x1e;
        uStack_1f8 = 1;
        uStack_18c = 0xffffffff;
        uStack_170 = 0xffffffff;
        uStack_16c = 1;
        iStack_1e4 = 0xf0;
        uStack_1f4 = 0x14;
        uStack_1d0 = 0;
        uStack_1cc = 8;
        uStack_1a8 = 0;
        uStack_174 = 0;
        uStack_168 = 0;
        piVar10 = param_1 + 0x19;
        piVar13 = aiStack_15c;
        for (iVar8 = 0x4d; iVar8 != 0; iVar8 = iVar8 + -1) {
          *piVar13 = *piVar10;
          piVar10 = piVar10 + 1;
          piVar13 = piVar13 + 1;
        }
        uStack_164 = 0;
        uStack_28 = 0;
        uStack_24 = 0x14;
        iVar8 = FUN_00455ee0(DAT_0048ce08,5,0x9896e4);
        lVar3 = FUN_004663a0(iVar8);
        pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
        pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
        sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
        iStack_1e4 = (int)sVar1;
        iVar8 = FUN_00429dd0((void *)*param_1,0x9896e4,(int)&iStack_200);
        *piStack_244 = iVar8;
        pvVar6 = (void *)FUN_00427aa0(*param_1);
        iVar8 = FUN_004299e0(pvVar6,iVar8);
        if (iVar8 == 0) {
          piStack_248[-1] = iStack_1b4;
          *piStack_248 = iStack_1b0;
        }
        else {
          iVar7 = FUN_00434cd0(iVar8);
          *(undefined4 *)(iVar7 + 0xc0) = 0;
          iVar7 = FUN_00434cd0(iVar8);
          piStack_248[-1] = *(int *)(iVar7 + 0x18);
          iVar8 = FUN_00434cd0(iVar8);
          *piStack_248 = *(int *)(iVar8 + 0x1c);
        }
        iStack_240 = iStack_240 + 1;
        piStack_244 = piStack_244 + 1;
        piStack_248 = piStack_248 + 2;
      } while (iStack_240 < lVar2);
    }
    iVar7 = 0;
    iVar8 = FUN_00456230(*param_1);
    FUN_00417260(0,0x13,&iStack_1b4,iVar8,iVar7);
  }
  if (param_1[0x11] < param_1[0x18]) {
    bVar16 = lVar2 == 0;
    if (lVar2 < 1) goto LAB_0042f86d;
    piStack_248 = param_1 + 0xb1;
    piVar10 = param_1 + 0xa6;
    piStack_244 = (int *)lVar2;
    do {
      iVar8 = piVar10[0x28];
      pvVar6 = (void *)FUN_00427aa0(*param_1);
      iVar8 = FUN_004299e0(pvVar6,iVar8);
      if (iVar8 == 0) {
        if (*piVar10 == 0) {
          *piVar10 = 1;
        }
      }
      else {
        iVar7 = FUN_00434cd0(iVar8);
        piStack_248[-1] = *(int *)(iVar7 + 0x18);
        iVar8 = FUN_00434cd0(iVar8);
        *piStack_248 = *(int *)(iVar8 + 0x1c);
      }
      piVar10 = piVar10 + 1;
      piStack_248 = piStack_248 + 2;
      piStack_244 = (int *)((int)piStack_244 + -1);
    } while (piStack_244 != (int *)0x0);
  }
  bVar16 = lVar2 == 0;
  if (0 < lVar2) {
    puVar14 = (uint *)(param_1 + 0xa6);
    piVar10 = param_1 + 0xb1;
    iStack_240 = lVar2;
    do {
      if (*puVar14 != 0) {
        uVar9 = puVar14[0x1e] & 0x80000003;
        bVar16 = uVar9 == 0;
        if ((int)uVar9 < 0) {
          bVar16 = (uVar9 - 1 | 0xfffffffc) == 0xffffffff;
        }
        if ((bVar16) && (*puVar14 != 5)) {
          FUN_00417180(&iStack_200);
          iStack_200 = param_1[4];
          iStack_1f0 = param_1[6];
          iStack_1fc = param_1[5];
          iStack_1ec = param_1[7];
          dStack_1c8 = *(double *)(param_1 + 10);
          iStack_1b0 = *piVar10;
          iStack_1b4 = piVar10[-1];
          uStack_1d0 = 0;
          uStack_1cc = 8;
          iVar8 = FUN_00455ee0(DAT_0048ce08,5,aiStack_234[*puVar14]);
          lVar3 = FUN_004663a0(iVar8);
          pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
          pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
          sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
          iStack_1e4 = (int)sVar1;
          iStack_1e0 = -0xf0;
          iStack_1dc = -0xf0;
          iStack_1b8 = 0;
          iStack_1d8 = 0xef;
          iStack_1d4 = 0xef;
          uVar9 = *puVar14;
          uStack_1bc = 0;
          uStack_18 = 0;
          uVar11 = uVar9 & 0x80000001;
          bVar16 = uVar11 == 0;
          iStack_1ac = 0;
          uStack_1f8 = 0;
          uStack_1f4 = 0;
          uStack_1a8 = 0;
          uStack_18c = 0xffffffff;
          if ((int)uVar11 < 0) {
            bVar16 = (uVar11 - 1 | 0xfffffffe) == 0xffffffff;
          }
          if (bVar16) {
            uStack_174 = 0;
            uStack_170 = 0;
          }
          iVar8 = aiStack_21c[uVar9];
          uStack_16c = 1;
          uStack_168 = 1;
          piVar13 = param_1 + 0x19;
          piVar15 = aiStack_15c;
          for (iVar7 = 0x4d; iVar7 != 0; iVar7 = iVar7 + -1) {
            *piVar15 = *piVar13;
            piVar13 = piVar13 + 1;
            piVar15 = piVar15 + 1;
          }
          iStack_dc = uVar9 - 1;
          iStack_d4 = iVar8;
          uStack_164 = 0;
          uStack_28 = 0;
          uStack_24 = 0x14;
          iStack_10 = 0;
          iVar8 = FUN_00429dd0((void *)*param_1,aiStack_234[uVar9],(int)&iStack_200);
          pvVar6 = (void *)FUN_00427aa0(*param_1);
          iVar8 = FUN_004299e0(pvVar6,iVar8);
          if (iVar8 != 0) {
            iVar8 = FUN_00434cd0(iVar8);
            *(undefined4 *)(iVar8 + 0xc0) = 1;
          }
          if (*puVar14 == 3) {
            uStack_174 = 0xffffffff;
            uStack_1a8 = 0;
            uStack_18c = 0xffffffff;
            uStack_16c = 1;
            uStack_168 = 0;
            iVar8 = FUN_00455ee0(DAT_0048ce08,5,0x98969f);
            lVar3 = FUN_004663a0(iVar8);
            pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
            pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
            sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
            iStack_1e4 = (int)sVar1;
            FUN_00429dd0((void *)*param_1,0x98969f,(int)&iStack_200);
            iVar8 = FUN_00455ee0(DAT_0048ce08,5,0x9896a0);
            lVar3 = FUN_004663a0(iVar8);
            pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
            pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,0);
            sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
            iStack_1e4 = (int)sVar1;
            FUN_00429dd0((void *)*param_1,0x9896a0,(int)&iStack_200);
          }
          if (*puVar14 == 4) {
            iVar8 = FUN_00434cb0((int)DAT_0048ce0c);
            lVar17 = FUN_00414310(*(int *)(iVar8 + 0x2e0),*(int *)(iVar8 + 0x2e4),iStack_1b4,
                                  iStack_1b0);
            if ((int)lVar17 < 0xbb9) {
              piVar13 = &iStack_1b4;
              uVar20 = 6;
              uVar19 = 8;
              uVar18 = 0;
              iVar8 = FUN_00456230(*param_1);
              FUN_00412690(&DAT_0048d4f0,iVar8,uVar18,uVar19,uVar20,piVar13);
            }
            iVar7 = 0;
            iVar8 = FUN_00456230(*param_1);
            FUN_00417260(0,0x16,&iStack_1b4,iVar8,iVar7);
          }
          iVar7 = 0;
          iVar8 = FUN_00456230(*param_1);
          FUN_00417260(0,0x13,&iStack_1b4,iVar8,iVar7);
          *puVar14 = *puVar14 + 1;
        }
        puVar14[0x1e] = puVar14[0x1e] + 1;
      }
      puVar14 = puVar14 + 1;
      piVar10 = piVar10 + 2;
      iStack_240 = iStack_240 + -1;
    } while (iStack_240 != 0);
    bVar16 = lVar2 == 0;
    if (0 < lVar2) {
      piVar10 = param_1 + 0xa6;
      do {
        if (*piVar10 != 5) break;
        iVar12 = iVar12 + 1;
        piVar10 = piVar10 + 1;
      } while (iVar12 < lVar2);
      bVar16 = iVar12 == lVar2;
    }
  }
LAB_0042f86d:
  if (!bVar16) {
    param_1[0x18] = param_1[0x18] + 1;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0042f890
 * Address: 0042f890
 */

undefined4 __fastcall FUN_0042f890(int *param_1)

{
  short sVar1;
  int iVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *pRVar4;
  RKC_RPGSCRN_CHARANIMCHART *pRVar5;
  longlong lVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  int *piVar10;
  int iVar11;
  int local_1f8;
  int local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  int iStack_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b4;
  undefined4 local_1b0;
  int local_1ac;
  int local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_194;
  undefined4 local_190;
  undefined4 local_18c;
  undefined4 local_184;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_10;
  
  FUN_00417180(&local_1f8);
  local_1f8 = param_1[4];
  local_1f4 = param_1[5];
  local_1ac = param_1[0x12];
  local_1a8 = param_1[0x13];
  local_1e8 = 0;
  local_1e4 = 0;
  local_1c0 = 0;
  local_1bc = 0;
  local_1c8 = 0;
  local_1c4 = 8;
  iVar2 = FUN_00434cb0(DAT_0048ce0c);
  lVar6 = FUN_00414310(*(int *)(iVar2 + 0x2e0),*(int *)(iVar2 + 0x2e4),local_1ac,local_1a8);
  if ((int)lVar6 < 0xbb9) {
    piVar10 = &local_1ac;
    uVar9 = 6;
    uVar8 = 8;
    uVar7 = 0;
    iVar2 = FUN_00456230(*param_1);
    FUN_00412690(&DAT_0048d4f0,iVar2,uVar7,uVar8,uVar9,piVar10);
  }
  local_1d0 = 0xfffffffe;
  local_1cc = 0xfffffffe;
  local_164 = 1;
  local_1a0 = 1;
  local_1f0 = 0;
  local_1ec = 0;
  local_1b0 = 0;
  local_1b4 = 0;
  local_10 = 0;
  local_1a4 = 200;
  local_16c = 0xffffffff;
  local_168 = 0xffffffff;
  local_160 = 0;
  local_15c = 0;
  local_1d8 = 0xffffffff;
  local_1d4 = 0xffffffff;
  local_194 = 500;
  local_190 = 500;
  local_18c = 0x4b0;
  local_184 = 0xffffffff;
  iVar2 = FUN_00455ee0(DAT_0048ce08,5,10000000);
  lVar3 = FUN_004663a0(iVar2);
  pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,1);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
  iStack_1dc = (int)sVar1;
  FUN_00429dd0((void *)*param_1,10000000,(int)&local_1f8);
  local_1d8 = 1;
  local_1d4 = 1;
  local_1d0 = 2;
  local_1cc = 2;
  local_1a0 = 0;
  local_194 = 500;
  local_190 = 500;
  local_18c = 0x4b0;
  local_184 = 0xffffffff;
  iVar2 = FUN_00455ee0(DAT_0048ce08,5,10000000);
  lVar3 = FUN_004663a0(iVar2);
  pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,1);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,8);
  iStack_1dc = (int)sVar1;
  FUN_00429dd0((void *)*param_1,10000000,(int)&local_1f8);
  iVar11 = 0;
  iVar2 = FUN_00456230(*param_1);
  FUN_00417260(0,0x1d,&local_1ac,iVar2,iVar11);
  iVar11 = 0;
  iVar2 = FUN_00456230(*param_1);
  FUN_00417260(0,0x17,&local_1ac,iVar2,iVar11);
  return 0;
}



/*
 * Function: FUN_0042fae0
 * Address: 0042fae0
 */

void __fastcall FUN_0042fae0(int param_1)

{
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  return;
}



/*
 * Function: thunk_FUN_0042fb00
 * Address: 0042faf0
 */

void __fastcall thunk_FUN_0042fb00(int param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  
  pvVar2 = *(LPVOID *)(param_1 + 4);
  if (pvVar2 == (LPVOID)0x0) {
    *(undefined4 *)(param_1 + 4) = 0;
    *(undefined4 *)(param_1 + 8) = 0;
    return;
  }
  do {
    pvVar1 = *(LPVOID *)((int)pvVar2 + 0x3a8);
    if (pvVar2 != (LPVOID)0x0) {
      FUN_00403040();
      FUN_0046787e(pvVar2);
    }
    pvVar2 = pvVar1;
  } while (pvVar1 != (LPVOID)0x0);
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  return;
}



/*
 * Function: FUN_0042fb00
 * Address: 0042fb00
 */

void __fastcall FUN_0042fb00(int param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  
  pvVar2 = *(LPVOID *)(param_1 + 4);
  if (pvVar2 == (LPVOID)0x0) {
    *(undefined4 *)(param_1 + 4) = 0;
    *(undefined4 *)(param_1 + 8) = 0;
    return;
  }
  do {
    pvVar1 = *(LPVOID *)((int)pvVar2 + 0x3a8);
    if (pvVar2 != (LPVOID)0x0) {
      FUN_00403040();
      FUN_0046787e(pvVar2);
    }
    pvVar2 = pvVar1;
  } while (pvVar1 != (LPVOID)0x0);
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  return;
}



/*
 * Function: FUN_0042fb50
 * Address: 0042fb50
 */

int __thiscall FUN_0042fb50(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  if (-1 < param_1) {
    iVar1 = *(int *)((int)this + 4);
    for (iVar2 = 0; (iVar1 != 0 && (iVar2 < param_1)); iVar2 = iVar2 + 1) {
      iVar1 = *(int *)(iVar1 + 0x3a8);
    }
    return iVar1;
  }
  return 0;
}



/*
 * Function: FUN_0042fb80
 * Address: 0042fb80
 */

int __thiscall FUN_0042fb80(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)((int)this + 4);
  iVar1 = 0;
  if (iVar2 != 0) {
    while (iVar2 != param_1) {
      iVar2 = *(int *)(iVar2 + 0x3a8);
      iVar1 = iVar1 + 1;
      if (iVar2 == 0) {
        return -1;
      }
    }
    if (iVar2 != 0) {
      return iVar1;
    }
  }
  return -1;
}



/*
 * Function: FUN_0042fbb0
 * Address: 0042fbb0
 */

int __thiscall FUN_0042fbb0(void *this,int param_1,int param_2)

{
  void *pvVar1;
  int iVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471eb6;
  local_c = ExceptionList;
  if (param_1 != 0) {
    ExceptionList = &local_c;
    iVar2 = FUN_0042fb50(this,param_1 + -1);
    if (iVar2 != 0) {
      if (param_2 == 0) {
        pvVar1 = operator_new(0x3b0);
        local_4 = 1;
        if (pvVar1 == (void *)0x0) {
          param_2 = 0;
        }
        else {
          param_2 = FUN_00429ea0((int)pvVar1);
        }
      }
      *(undefined4 *)(param_2 + 0x3a8) = *(undefined4 *)(iVar2 + 0x3a8);
      *(int *)(iVar2 + 0x3a8) = param_2;
      *(undefined4 *)(param_2 + 4) = *(undefined4 *)((int)this + 8);
      *(int *)((int)this + 8) = *(int *)((int)this + 8) + 1;
      ExceptionList = local_c;
      return param_2;
    }
    ExceptionList = local_c;
    return 0;
  }
  if (param_2 == 0) {
    ExceptionList = &local_c;
    pvVar1 = operator_new(0x3b0);
    local_4 = 0;
    if (pvVar1 != (void *)0x0) {
      iVar2 = FUN_00429ea0((int)pvVar1);
      *(undefined4 *)(iVar2 + 0x3a8) = *(undefined4 *)((int)this + 4);
      *(int *)((int)this + 4) = iVar2;
      *(undefined4 *)(iVar2 + 4) = *(undefined4 *)((int)this + 8);
      *(int *)((int)this + 8) = *(int *)((int)this + 8) + 1;
      ExceptionList = local_c;
      return iVar2;
    }
    param_2 = 0;
  }
  *(undefined4 *)(param_2 + 0x3a8) = *(undefined4 *)((int)this + 4);
  *(int *)((int)this + 4) = param_2;
  *(undefined4 *)(param_2 + 4) = *(undefined4 *)((int)this + 8);
  *(int *)((int)this + 8) = *(int *)((int)this + 8) + 1;
  ExceptionList = local_c;
  return param_2;
}



/*
 * Function: FUN_0042fce0
 * Address: 0042fce0
 */

undefined4 __thiscall FUN_0042fce0(void *this,int param_1,undefined4 *param_2)

{
  int iVar1;
  LPVOID pvVar2;
  
  pvVar2 = *(LPVOID *)((int)this + 4);
  if (pvVar2 == (LPVOID)0x0) {
    return 0;
  }
  if (param_1 == 0) {
    *(undefined4 *)((int)this + 4) = *(undefined4 *)((int)pvVar2 + 0x3a8);
  }
  else {
    iVar1 = FUN_0042fb50(this,param_1 + -1);
    if (iVar1 == 0) {
      return 0;
    }
    pvVar2 = *(LPVOID *)(iVar1 + 0x3a8);
    if (pvVar2 == (LPVOID)0x0) {
      return 0;
    }
    *(undefined4 *)(iVar1 + 0x3a8) = *(undefined4 *)((int)pvVar2 + 0x3a8);
  }
  if (param_2 == (undefined4 *)0x0) {
    if (pvVar2 != (LPVOID)0x0) {
      FUN_00403040();
      FUN_0046787e(pvVar2);
    }
    return 1;
  }
  *param_2 = pvVar2;
  return 1;
}



/*
 * Function: FUN_0042fd60
 * Address: 0042fd60
 */

undefined4 __fastcall FUN_0042fd60(void *param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  int iVar3;
  int *piVar4;
  
  piVar4 = *(int **)((int)param_1 + 4);
  if (piVar4 == (int *)0x0) {
    return 1;
  }
  do {
    piVar1 = (int *)piVar4[0xea];
    puVar2 = (undefined4 *)FUN_00429ec0(piVar4);
    if (puVar2 == (undefined4 *)0x0) {
      iVar3 = FUN_0042fb80(param_1,(int)piVar4);
      FUN_0042fce0(param_1,iVar3,puVar2);
    }
    piVar4 = piVar1;
  } while (piVar1 != (int *)0x0);
  return 1;
}



/*
 * Function: FUN_0042fdb0
 * Address: 0042fdb0
 */

void __thiscall FUN_0042fdb0(void *this,undefined4 param_1)

{
  *(undefined4 *)this = param_1;
  return;
}



/*
 * Function: FUN_0042fdc0
 * Address: 0042fdc0
 */

undefined4 __thiscall
FUN_0042fdc0(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
            undefined4 param_9,undefined4 *param_10,undefined4 *param_11,undefined4 param_12,
            undefined4 *param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
            undefined4 param_17,undefined4 param_18,undefined4 param_19,undefined4 param_20,
            undefined4 param_21,undefined4 param_22)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  puVar1 = (undefined4 *)FUN_0042fbb0(this,0,0);
  if (puVar1 != (undefined4 *)0x0) {
                    /* WARNING: Load size is inaccurate */
    *puVar1 = *this;
    puVar1[3] = param_1;
    puVar1[4] = param_2;
    puVar1[5] = param_3;
    puVar1[6] = param_4;
    puVar1[7] = param_5;
    puVar1[0x11] = param_12;
    puVar1[8] = param_6;
    puVar1[9] = param_7;
    puVar1[10] = param_8;
    puVar1[0xb] = param_9;
    if (param_10 != (undefined4 *)0x0) {
      puVar1[0x12] = *param_10;
      puVar1[0x13] = param_10[1];
    }
    if (param_11 != (undefined4 *)0x0) {
      puVar1[0x14] = *param_11;
      puVar1[0x15] = param_11[1];
      puVar1[0x16] = param_11[2];
      puVar1[0x17] = param_11[3];
    }
    if (param_13 != (undefined4 *)0x0) {
      puVar3 = puVar1 + 0x19;
      for (iVar2 = 0x4d; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar3 = *param_13;
        param_13 = param_13 + 1;
        puVar3 = puVar3 + 1;
      }
    }
    puVar1[0x10] = param_14;
    puVar1[2] = param_15;
    puVar1[0xe6] = param_16;
    puVar1[0xe8] = param_17;
    puVar1[0xe] = param_18;
    puVar1[0xf] = param_19;
    puVar1[0xc] = param_20;
    puVar1[0xe7] = param_21;
    puVar1[0x18] = 0;
    puVar3 = puVar1 + 0x66;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar3 = 0xffffffff;
      puVar3 = puVar3 + 1;
    }
    puVar3 = puVar1 + 0xa6;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar3 = 0;
      puVar3 = puVar3 + 1;
    }
    puVar1[0xe9] = param_22;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0042fef0
 * Address: 0042fef0
 */

void __thiscall FUN_0042fef0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)((int)this + 4);
  while (iVar2 != 0) {
    iVar1 = *(int *)(iVar2 + 0x3a8);
    FUN_0042ff20(this,iVar2,param_1);
    iVar2 = iVar1;
  }
  return;
}



/*
 * Function: FUN_0042ff20
 * Address: 0042ff20
 */

void __thiscall FUN_0042ff20(void *this,int param_1,int param_2)

{
  void *this_00;
  int iVar1;
  undefined4 *puVar2;
  
  if (((*(int *)(param_1 + 0xc) == 1000) && (*(int *)(param_1 + 0x10) == 1)) &&
     (*(int *)(param_1 + 0x14) == param_2)) {
    iVar1 = *(int *)(param_1 + 0x198);
    if (iVar1 != -1) {
                    /* WARNING: Load size is inaccurate */
      this_00 = (void *)FUN_00427aa0(*this);
      iVar1 = FUN_004299e0(this_00,iVar1);
      if (iVar1 != 0) {
        iVar1 = FUN_00434cd0(iVar1);
        if (iVar1 != 0) {
          *(undefined4 *)(iVar1 + 0xec) = 0;
        }
      }
    }
    puVar2 = (undefined4 *)0x0;
    iVar1 = FUN_0042fb80(this,param_1);
    FUN_0042fce0(this,iVar1,puVar2);
  }
  return;
}



/*
 * Function: FUN_0042ff90
 * Address: 0042ff90
 */

void __thiscall FUN_0042ff90(void *this,undefined4 param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  
  for (iVar1 = *(int *)((int)this + 4);
      (iVar1 != 0 &&
      ((((*(int *)(iVar1 + 0xc) != param_3 || (*(int *)(iVar1 + 0x10) != 1)) ||
        (*(int *)(iVar1 + 0x14) != param_2)) || (*(int *)(iVar1 + 8) != param_4))));
      iVar1 = *(int *)(iVar1 + 0x3a8)) {
  }
  return;
}



/*
 * Function: FUN_0042ffd0
 * Address: 0042ffd0
 */

undefined4 * __fastcall FUN_0042ffd0(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471ecb;
  local_c = ExceptionList;
  puVar2 = (undefined4 *)0x0;
  ExceptionList = &local_c;
  *param_1 = 0;
  param_1[3] = 0;
  param_1[2] = 0;
  param_1[5] = 0;
  param_1[4] = 0;
  param_1[7] = 0;
  param_1[6] = 0;
  puVar1 = (undefined4 *)operator_new(0x44);
  local_4 = 0;
  if (puVar1 != (undefined4 *)0x0) {
    puVar2 = puVar1 + 1;
    *puVar1 = 0x10;
    FUN_0046839d(puVar2,4,0x10,FUN_004576d0);
  }
  param_1[0xd] = puVar2;
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: FUN_00430050
 * Address: 00430050
 */

void __fastcall FUN_00430050(int param_1)

{
  int iVar1;
  
  FUN_00430090(param_1);
  iVar1 = *(int *)(param_1 + 0x34);
  if (iVar1 != 0) {
    FUN_004682a9(iVar1,4,*(int *)(iVar1 + -4),thunk_FUN_00466ac0);
    FUN_0046787e((LPVOID)(iVar1 + -4));
    *(undefined4 *)(param_1 + 0x34) = 0;
  }
  return;
}



/*
 * Function: FUN_00430090
 * Address: 00430090
 */

void __fastcall FUN_00430090(int param_1)

{
  if (*(HGLOBAL *)(param_1 + 0xc) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0xc));
  }
  if (*(HGLOBAL *)(param_1 + 0x14) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x14));
  }
  if (*(HGLOBAL *)(param_1 + 0x1c) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x1c));
  }
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined4 *)(param_1 + 0x14) = 0;
  *(undefined4 *)(param_1 + 0x1c) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  *(undefined4 *)(param_1 + 0x18) = 0;
  return;
}



/*
 * Function: FUN_004300e0
 * Address: 004300e0
 */

undefined4 __thiscall
FUN_004300e0(void *this,int param_1,RKC_RPG_SCRIPT *param_2,int param_3,undefined4 *param_4,
            int param_5,undefined4 *param_6)

{
  long lVar1;
  HGLOBAL pvVar2;
  RKC_RPG_SCRIPT_FLAG *pRVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  RKC_RPG_SCRIPT_FLAG *pRVar11;
  
  FUN_00430090((int)this);
  *(int *)this = param_1;
  *(RKC_RPG_SCRIPT **)((int)this + 4) = param_2;
  lVar1 = RKC_RPG_SCRIPT::GetTempFlagCount(param_2);
  *(long *)((int)this + 0x10) = lVar1;
  if (lVar1 != 0) {
    pvVar2 = GlobalAlloc(0x40,lVar1 * 0xc);
    *(HGLOBAL *)((int)this + 0x14) = pvVar2;
    iVar9 = *(int *)((int)this + 0x10);
    pRVar3 = RKC_RPG_SCRIPT::GetTempFlag(*(RKC_RPG_SCRIPT **)((int)this + 4));
    pRVar11 = *(RKC_RPG_SCRIPT_FLAG **)((int)this + 0x14);
    for (uVar8 = iVar9 * 3 & 0x3fffffff; uVar8 != 0; uVar8 = uVar8 - 1) {
      *(undefined4 *)pRVar11 = *(undefined4 *)pRVar3;
      pRVar3 = pRVar3 + 4;
      pRVar11 = pRVar11 + 4;
    }
    for (iVar9 = 0; iVar9 != 0; iVar9 = iVar9 + -1) {
      *pRVar11 = *pRVar3;
      pRVar3 = pRVar3 + 1;
      pRVar11 = pRVar11 + 1;
    }
  }
  if (param_4 == (undefined4 *)0x0) {
                    /* WARNING: Load size is inaccurate */
    iVar10 = 0;
    param_3 = 0;
    puVar4 = (undefined4 *)FUN_00427aa0(*this);
    iVar5 = FUN_00427b20(puVar4);
    iVar9 = 0;
    if (0 < iVar5) {
      do {
        puVar6 = (undefined4 *)FUN_00434c90(puVar4,iVar9);
        if (((puVar6 != (undefined4 *)0x0) && (iVar7 = FUN_00427b20(puVar6), -1 < iVar7)) &&
           (iVar7 < 4)) {
          iVar10 = iVar10 + 3;
        }
        iVar9 = iVar9 + 1;
        param_3 = iVar10;
      } while (iVar9 < iVar5);
    }
    lVar1 = RKC_RPG_SCRIPT::GetNetFlagCount(*(RKC_RPG_SCRIPT **)((int)this + 4));
    *(long *)((int)this + 0x18) = lVar1;
    if (lVar1 + param_3 != 0) {
      pvVar2 = GlobalAlloc(0x40,(lVar1 + param_3) * 0xc);
      *(HGLOBAL *)((int)this + 0x1c) = pvVar2;
      iVar9 = *(int *)((int)this + 0x18);
      if (iVar9 != 0) {
        pRVar3 = RKC_RPG_SCRIPT::GetNetFlag(*(RKC_RPG_SCRIPT **)((int)this + 4));
        pRVar11 = *(RKC_RPG_SCRIPT_FLAG **)((int)this + 0x1c);
        for (uVar8 = iVar9 * 3 & 0x3fffffff; uVar8 != 0; uVar8 = uVar8 - 1) {
          *(undefined4 *)pRVar11 = *(undefined4 *)pRVar3;
          pRVar3 = pRVar3 + 4;
          pRVar11 = pRVar11 + 4;
        }
        for (iVar9 = 0; iVar9 != 0; iVar9 = iVar9 + -1) {
          *pRVar11 = *pRVar3;
          pRVar3 = pRVar3 + 1;
          pRVar11 = pRVar11 + 1;
        }
      }
                    /* WARNING: Load size is inaccurate */
      iVar9 = *(int *)((int)this + 0x18);
      puVar4 = (undefined4 *)FUN_00427aa0(*this);
      iVar5 = FUN_00427b20(puVar4);
      param_1 = 0;
      if (0 < iVar5) {
        iVar10 = iVar9 * 0xc;
        do {
          puVar6 = (undefined4 *)FUN_00434c90(puVar4,param_1);
          if (((puVar6 != (undefined4 *)0x0) && (iVar7 = FUN_00427b20(puVar6), -1 < iVar7)) &&
             (iVar7 < 4)) {
            iVar7 = FUN_00434cd0((int)puVar6);
            *(int *)(*(int *)((int)this + 0x1c) + iVar10) = *(int *)(iVar7 + 4) + 100000000;
            iVar7 = FUN_00434cd0((int)puVar6);
            iVar9 = iVar9 + 1;
            *(undefined4 *)(*(int *)((int)this + 0x1c) + 4 + iVar10) = *(undefined4 *)(iVar7 + 0x4c)
            ;
            iVar10 = iVar10 + 0xc;
          }
          param_1 = param_1 + 1;
        } while (param_1 < iVar5);
      }
      param_1 = 0;
      if (0 < iVar5) {
        iVar10 = iVar9 * 0xc;
        do {
          puVar6 = (undefined4 *)FUN_00434c90(puVar4,param_1);
          if (((puVar6 != (undefined4 *)0x0) && (iVar7 = FUN_00427b20(puVar6), -1 < iVar7)) &&
             (iVar7 < 4)) {
            iVar7 = FUN_00434cd0((int)puVar6);
            *(int *)(*(int *)((int)this + 0x1c) + iVar10) = *(int *)(iVar7 + 4) + 200000000;
            iVar7 = FUN_00434cd0((int)puVar6);
            iVar9 = iVar9 + 1;
            *(undefined4 *)(*(int *)((int)this + 0x1c) + 4 + iVar10) = *(undefined4 *)(iVar7 + 0x54)
            ;
            iVar10 = iVar10 + 0xc;
          }
          param_1 = param_1 + 1;
        } while (param_1 < iVar5);
      }
      param_1 = 0;
      if (0 < iVar5) {
        iVar9 = iVar9 * 0xc;
        do {
          puVar6 = (undefined4 *)FUN_00434c90(puVar4,param_1);
          if (((puVar6 != (undefined4 *)0x0) && (iVar10 = FUN_00427b20(puVar6), -1 < iVar10)) &&
             (iVar10 < 4)) {
            iVar10 = FUN_00434cd0((int)puVar6);
            *(int *)(*(int *)((int)this + 0x1c) + iVar9) = *(int *)(iVar10 + 4) + 300000000;
            iVar10 = FUN_00434cd0((int)puVar6);
            *(undefined4 *)(*(int *)((int)this + 0x1c) + 4 + iVar9) = *(undefined4 *)(iVar10 + 0x50)
            ;
            iVar9 = iVar9 + 0xc;
          }
          param_1 = param_1 + 1;
        } while (param_1 < iVar5);
      }
    }
    *(int *)((int)this + 0x18) = *(int *)((int)this + 0x18) + param_3;
  }
  else if (param_3 != 0) {
    *(int *)((int)this + 0x18) = param_3;
    puVar4 = (undefined4 *)GlobalAlloc(0x40,param_3 * 0xc);
    *(undefined4 **)((int)this + 0x1c) = puVar4;
    for (uVar8 = *(int *)((int)this + 0x18) * 3 & 0x3fffffff; uVar8 != 0; uVar8 = uVar8 - 1) {
      *puVar4 = *param_4;
      param_4 = param_4 + 1;
      puVar4 = puVar4 + 1;
    }
    for (iVar9 = 0; iVar9 != 0; iVar9 = iVar9 + -1) {
      *(undefined *)puVar4 = *(undefined *)param_4;
      param_4 = (undefined4 *)((int)param_4 + 1);
      puVar4 = (undefined4 *)((int)puVar4 + 1);
    }
  }
  if (param_5 == -1) {
                    /* WARNING: Load size is inaccurate */
    puVar4 = (undefined4 *)FUN_00427aa0(*this);
    iVar5 = 0;
    *(undefined4 *)((int)this + 8) = 0;
    iVar9 = FUN_00427b20(puVar4);
    if (0 < iVar9) {
      do {
        puVar6 = (undefined4 *)FUN_00434c90(puVar4,iVar5);
        if ((puVar6 != (undefined4 *)0x0) && (iVar10 = FUN_00427b20(puVar6), iVar10 == 2)) {
          *(int *)((int)this + 8) = *(int *)((int)this + 8) + 1;
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < iVar9);
    }
    if (*(HGLOBAL *)((int)this + 0xc) != (HGLOBAL)0x0) {
      GlobalFree(*(HGLOBAL *)((int)this + 0xc));
    }
    pvVar2 = GlobalAlloc(0x40,*(int *)((int)this + 8) * 0xc);
    iVar5 = 0;
    *(HGLOBAL *)((int)this + 0xc) = pvVar2;
    if (0 < iVar9) {
      iVar10 = 0;
      do {
        puVar6 = (undefined4 *)FUN_00434c90(puVar4,iVar5);
        if ((puVar6 != (undefined4 *)0x0) && (iVar7 = FUN_00427b20(puVar6), iVar7 == 2)) {
          iVar7 = FUN_00434cd0((int)puVar6);
          *(undefined4 *)(iVar10 + *(int *)((int)this + 0xc)) = *(undefined4 *)(iVar7 + 4);
          *(undefined4 *)(iVar10 + 4 + *(int *)((int)this + 0xc)) = 1;
          iVar10 = iVar10 + 0xc;
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < iVar9);
      return 1;
    }
  }
  else {
    if (*(HGLOBAL *)((int)this + 0xc) != (HGLOBAL)0x0) {
      GlobalFree(*(HGLOBAL *)((int)this + 0xc));
    }
    *(int *)((int)this + 8) = param_5;
    puVar4 = (undefined4 *)GlobalAlloc(0x40,param_5 * 0xc);
    *(undefined4 **)((int)this + 0xc) = puVar4;
    for (uVar8 = param_5 * 3 & 0x3fffffff; uVar8 != 0; uVar8 = uVar8 - 1) {
      *puVar4 = *param_6;
      param_6 = param_6 + 1;
      puVar4 = puVar4 + 1;
    }
    for (iVar9 = 0; iVar9 != 0; iVar9 = iVar9 + -1) {
      *(undefined *)puVar4 = *(undefined *)param_6;
      param_6 = (undefined4 *)((int)param_6 + 1);
      puVar4 = (undefined4 *)((int)puVar4 + 1);
    }
  }
  return 1;
}



/*
 * Function: FUN_004304b0
 * Address: 004304b0
 */

undefined4 __fastcall FUN_004304b0(int *param_1)

{
  RKC_RPG_SCRIPT *pRVar1;
  RKC_RPG_SCRIPT_STATUSBLOCK *pRVar2;
  long lVar3;
  RKC_RPG_SCRIPT_STATUS *this;
  long lVar4;
  int iVar5;
  int iVar6;
  
  pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
  pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
  lVar3 = RKC_RPG_SCRIPT_STATUSBLOCK::GetCount(pRVar2);
  iVar5 = 0;
  if (lVar3 < 1) {
    return 1;
  }
  do {
    iVar6 = iVar5;
    pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
    pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
    this = RKC_RPG_SCRIPT_STATUSBLOCK::Get(pRVar2,iVar6);
    if ((this != (RKC_RPG_SCRIPT_STATUS *)0x0) &&
       (lVar4 = RKC_RPG_SCRIPT_STATUS::GetStatus(this), lVar4 == 7)) {
      lVar4 = RKC_RPG_SCRIPT_STATUS::GetSentence(this);
      FUN_00430ab0(param_1,0xffffffff,0xffffffff,lVar4);
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < lVar3);
  return 1;
}



/*
 * Function: FUN_00430540
 * Address: 00430540
 */

undefined4 __fastcall FUN_00430540(int *param_1)

{
  RKC_RPG_SCRIPT *pRVar1;
  RKC_RPG_SCRIPT_STATUSBLOCK *pRVar2;
  long lVar3;
  RKC_RPG_SCRIPT_STATUS *this;
  long lVar4;
  int iVar5;
  int iVar6;
  
  pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
  pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
  lVar3 = RKC_RPG_SCRIPT_STATUSBLOCK::GetCount(pRVar2);
  iVar5 = 0;
  if (lVar3 < 1) {
    return 1;
  }
  do {
    iVar6 = iVar5;
    pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
    pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
    this = RKC_RPG_SCRIPT_STATUSBLOCK::Get(pRVar2,iVar6);
    if ((this != (RKC_RPG_SCRIPT_STATUS *)0x0) &&
       (lVar4 = RKC_RPG_SCRIPT_STATUS::GetStatus(this), lVar4 == 8)) {
      lVar4 = RKC_RPG_SCRIPT_STATUS::GetSentence(this);
      FUN_00430ab0(param_1,0xffffffff,0xffffffff,lVar4);
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < lVar3);
  return 1;
}



/*
 * Function: FUN_004305d0
 * Address: 004305d0
 */

undefined4 __fastcall FUN_004305d0(int *param_1)

{
  RKC_RPG_SCRIPT *pRVar1;
  RKC_RPG_SCRIPT_STATUSBLOCK *pRVar2;
  long lVar3;
  RKC_RPG_SCRIPT_STATUS *pRVar4;
  long lVar5;
  void *this;
  int iVar6;
  int iVar7;
  int *piVar8;
  long lVar9;
  int iVar10;
  int *piVar11;
  int *piVar12;
  undefined4 uStack_8;
  
  pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
  pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
  lVar3 = RKC_RPG_SCRIPT_STATUSBLOCK::GetCount(pRVar2);
  iVar10 = 0;
  if (0 < lVar3) {
    do {
      iVar6 = iVar10;
      pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
      pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
      pRVar4 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(pRVar2,iVar6);
      if (pRVar4 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
        lVar5 = RKC_RPG_SCRIPT_STATUS::GetStatus(pRVar4);
        if (lVar5 == 5) {
          lVar5 = RKC_RPG_SCRIPT_STATUS::GetSentence(pRVar4);
          FUN_00430ab0(param_1,0xffffffff,0xffffffff,lVar5);
        }
      }
      iVar10 = iVar10 + 1;
    } while (iVar10 < lVar3);
  }
  iVar10 = FUN_00434cb0(DAT_0048ce0c);
  if (*(int *)(iVar10 + 0x458) == *param_1) {
    pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
    pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
    lVar3 = RKC_RPG_SCRIPT_STATUSBLOCK::GetCount(pRVar2);
    uStack_8 = 0;
    if (0 < lVar3) {
      do {
        iVar6 = uStack_8;
        pRVar1 = (RKC_RPG_SCRIPT *)FUN_00427b00(*param_1);
        pRVar2 = RKC_RPG_SCRIPT::GetStatusBlock(pRVar1);
        pRVar4 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(pRVar2,iVar6);
        if (pRVar4 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
          lVar5 = RKC_RPG_SCRIPT_STATUS::GetStatus(pRVar4);
          if (lVar5 == 3) {
            this = (void *)FUN_00427aa0(*param_1);
            if (this != (void *)0x0) {
              lVar5 = RKC_RPG_SCRIPT_STATUS::GetCharacterNo(pRVar4);
              iVar6 = FUN_004299e0(this,lVar5);
              if (iVar6 != 0) {
                piVar12 = (int *)(iVar10 + 0x2e8);
                piVar11 = (int *)(iVar10 + 0x2e0);
                iVar7 = FUN_00434cd0(iVar6);
                piVar8 = (int *)(iVar7 + 0x20);
                iVar6 = FUN_00434cd0(iVar6);
                iVar6 = FUN_00414350((int *)(iVar6 + 0x18),piVar8,piVar11,piVar12);
                if (iVar6 == 1) {
                  lVar5 = RKC_RPG_SCRIPT_STATUS::GetSentence(pRVar4);
                  lVar9 = RKC_RPG_SCRIPT_STATUS::GetCharacterNo(pRVar4);
                  FUN_00430ab0(param_1,*(undefined4 *)(iVar10 + 4),lVar9,lVar5);
                }
              }
            }
          }
        }
        uStack_8 = uStack_8 + 1;
      } while (uStack_8 < lVar3);
    }
  }
  return 1;
}



/*
 * Function: FUN_00430750
 * Address: 00430750
 */

void __thiscall FUN_00430750(void *this,int param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = FUN_00430770(this,param_1);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 4) = param_2;
  }
  return;
}



/*
 * Function: FUN_00430770
 * Address: 00430770
 */

int __thiscall FUN_00430770(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (*(int *)((int)this + 8) != 0) {
    iVar3 = *(int *)((int)this + 8) + -1;
    iVar4 = 0;
    if (-1 < iVar3) {
      do {
        iVar2 = (iVar3 + iVar4) / 2;
        iVar1 = *(int *)(*(int *)((int)this + 0xc) + iVar2 * 0xc);
        if (iVar1 == param_1) {
          return *(int *)((int)this + 0xc) + iVar2 * 0xc;
        }
        if (param_1 < iVar1) {
          iVar3 = iVar2 + -1;
        }
        else {
          iVar4 = iVar2 + 1;
        }
      } while (iVar4 <= iVar3);
    }
  }
  return 0;
}



/*
 * Function: FUN_004307d0
 * Address: 004307d0
 */

int __thiscall FUN_004307d0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (*(int *)((int)this + 0x10) != 0) {
    iVar3 = *(int *)((int)this + 0x10) + -1;
    iVar4 = 0;
    if (-1 < iVar3) {
      do {
        iVar2 = (iVar3 + iVar4) / 2;
        iVar1 = *(int *)(*(int *)((int)this + 0x14) + iVar2 * 0xc);
        if (iVar1 == param_1) {
          return *(int *)((int)this + 0x14) + iVar2 * 0xc;
        }
        if (param_1 < iVar1) {
          iVar3 = iVar2 + -1;
        }
        else {
          iVar4 = iVar2 + 1;
        }
      } while (iVar4 <= iVar3);
    }
  }
  return 0;
}



/*
 * Function: FUN_00430830
 * Address: 00430830
 */

int __thiscall FUN_00430830(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (*(int *)((int)this + 0x18) != 0) {
    iVar3 = *(int *)((int)this + 0x18) + -1;
    iVar4 = 0;
    if (-1 < iVar3) {
      do {
        iVar2 = (iVar3 + iVar4) / 2;
        iVar1 = *(int *)(*(int *)((int)this + 0x1c) + iVar2 * 0xc);
        if (iVar1 == param_1) {
          return *(int *)((int)this + 0x1c) + iVar2 * 0xc;
        }
        if (param_1 < iVar1) {
          iVar3 = iVar2 + -1;
        }
        else {
          iVar4 = iVar2 + 1;
        }
      } while (iVar4 <= iVar3);
    }
  }
  return 0;
}



/*
 * Function: FUN_00430890
 * Address: 00430890
 */

undefined4 __fastcall FUN_00430890(int param_1)

{
  return *(undefined4 *)(param_1 + 0x18);
}



/*
 * Function: FUN_004308a0
 * Address: 004308a0
 */

undefined4 __fastcall FUN_004308a0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x20);
}



/*
 * Function: FUN_004308b0
 * Address: 004308b0
 */

undefined4 __fastcall FUN_004308b0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x24);
}



/*
 * Function: FUN_004308c0
 * Address: 004308c0
 */

undefined4 __thiscall FUN_004308c0(void *this,undefined4 param_1,long param_2)

{
  RKC_RPG_SCRIPT_STATUSBLOCK *this_00;
  RKC_RPG_SCRIPT_STATUS *this_01;
  int iVar1;
  undefined4 uVar2;
  long lVar3;
  long lVar4;
  
  lVar4 = 0;
  lVar3 = param_2;
  this_00 = RKC_RPG_SCRIPT::GetStatusBlock(*(RKC_RPG_SCRIPT **)((int)this + 4));
  this_01 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(this_00,lVar4,lVar3);
  if (this_01 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
    if ((DAT_00482db0 == 2) && (iVar1 = RKC_RPG_SCRIPT_STATUS::GetNetworkFlag(this_01), iVar1 == 1))
    {
                    /* WARNING: Load size is inaccurate */
      uVar2 = FUN_00456230(*this);
      FUN_00419050(param_1,0,param_2,uVar2);
      return 1;
    }
    lVar3 = RKC_RPG_SCRIPT_STATUS::GetSentence(this_01);
    iVar1 = FUN_00430ab0(this,param_1,param_2,lVar3);
    if (iVar1 == 0) {
      return 0;
    }
  }
  return 1;
}



/*
 * Function: FUN_00430940
 * Address: 00430940
 */

undefined4 __thiscall
FUN_00430940(void *param_1_00,undefined4 param_1,long param_2,undefined4 param_4)

{
  RKC_RPG_SCRIPT_STATUSBLOCK *this;
  RKC_RPG_SCRIPT_STATUS *this_00;
  long lVar1;
  int iVar2;
  long lVar3;
  
  lVar3 = 1;
  lVar1 = param_2;
  this = RKC_RPG_SCRIPT::GetStatusBlock(*(RKC_RPG_SCRIPT **)((int)param_1_00 + 4));
  this_00 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(this,lVar3,lVar1);
  if (this_00 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
    FUN_00434920(param_1_00,(undefined4 *)((int)param_1_00 + 0x2c),param_4);
    lVar1 = RKC_RPG_SCRIPT_STATUS::GetSentence(this_00);
    iVar2 = FUN_00430ab0(param_1_00,param_1,param_2,lVar1);
    if (iVar2 == 0) {
      return 0;
    }
  }
  return 1;
}



/*
 * Function: FUN_004309a0
 * Address: 004309a0
 */

undefined4 __thiscall FUN_004309a0(void *param_1_00,undefined4 param_1,long param_2)

{
  RKC_RPG_SCRIPT_STATUSBLOCK *this;
  RKC_RPG_SCRIPT_STATUS *this_00;
  long lVar1;
  int iVar2;
  long lVar3;
  
  lVar3 = 4;
  lVar1 = param_2;
  this = RKC_RPG_SCRIPT::GetStatusBlock(*(RKC_RPG_SCRIPT **)((int)param_1_00 + 4));
  this_00 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(this,lVar3,lVar1);
  if (this_00 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
    lVar1 = RKC_RPG_SCRIPT_STATUS::GetSentence(this_00);
    iVar2 = FUN_00430ab0(param_1_00,param_1,param_2,lVar1);
    if (iVar2 == 0) {
      return 0;
    }
  }
  return 1;
}



/*
 * Function: FUN_004309f0
 * Address: 004309f0
 */

undefined4 __thiscall FUN_004309f0(void *param_1_00,undefined4 param_1,long param_2)

{
  RKC_RPG_SCRIPT_STATUSBLOCK *this;
  RKC_RPG_SCRIPT_STATUS *this_00;
  long lVar1;
  int iVar2;
  long lVar3;
  
  lVar3 = 6;
  lVar1 = param_2;
  this = RKC_RPG_SCRIPT::GetStatusBlock(*(RKC_RPG_SCRIPT **)((int)param_1_00 + 4));
  this_00 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(this,lVar3,lVar1);
  if (this_00 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
    lVar1 = RKC_RPG_SCRIPT_STATUS::GetSentence(this_00);
    iVar2 = FUN_00430ab0(param_1_00,param_1,param_2,lVar1);
    if (iVar2 == 0) {
      return 0;
    }
  }
  return 1;
}



/*
 * Function: FUN_00430a40
 * Address: 00430a40
 */

undefined4 __thiscall FUN_00430a40(void *param_1_00,int param_1,undefined4 param_2)

{
  int iVar1;
  RKC_RPG_SCRIPT_STATUSBLOCK *this;
  RKC_RPG_SCRIPT_STATUS *this_00;
  long lVar2;
  
  if (DAT_00482db0 == 2) {
    iVar1 = FUN_00430830(param_1_00,param_1);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 4) = param_2;
    }
    lVar2 = 2;
    this = RKC_RPG_SCRIPT::GetStatusBlock(*(RKC_RPG_SCRIPT **)((int)param_1_00 + 4));
    this_00 = RKC_RPG_SCRIPT_STATUSBLOCK::Get(this,lVar2,param_1);
    if (this_00 != (RKC_RPG_SCRIPT_STATUS *)0x0) {
      lVar2 = RKC_RPG_SCRIPT_STATUS::GetSentence(this_00);
      iVar1 = FUN_00430ab0(param_1_00,0xffffffff,0xffffffff,lVar2);
      if (iVar1 == 0) {
        return 0;
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00430ab0
 * Address: 00430ab0
 */

undefined4 __thiscall FUN_00430ab0(void *this,undefined4 param_1,undefined4 param_2,long param_3)

{
  RKC_RPG_SCRIPT_SENTENCEBLOCK *this_00;
  RKC_RPG_SCRIPT_SENTENCE *this_01;
  long lVar1;
  RKC_RPG_SCRIPT_COMMAND *pRVar2;
  int iVar3;
  int iVar4;
  
  this_00 = RKC_RPG_SCRIPT::GetSentenceBlock(*(RKC_RPG_SCRIPT **)((int)this + 4));
  this_01 = RKC_RPG_SCRIPT_SENTENCEBLOCK::Get(this_00,param_3);
  if (this_01 != (RKC_RPG_SCRIPT_SENTENCE *)0x0) {
    lVar1 = RKC_RPG_SCRIPT_SENTENCE::GetCount(this_01);
    iVar4 = 0;
    if (0 < lVar1) {
      do {
        pRVar2 = RKC_RPG_SCRIPT_SENTENCE::Get(this_01,iVar4);
        iVar3 = FUN_00430f80(param_1,param_2,pRVar2);
        if (iVar3 == 0) {
          return 0;
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < lVar1);
    }
  }
  return 1;
}



/*
 * Function: FUN_00430b30
 * Address: 00430b30
 */

int __thiscall
FUN_00430b30(void *this,int *param_1,int *param_2,int param_3,int param_4,int param_5,int *param_6)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  undefined8 uVar6;
  int local_10 [4];
  
  iVar4 = 0;
  iVar3 = 0;
  local_10[0] = 0;
  local_10[1] = 0;
  local_10[2] = 0;
  local_10[3] = 0;
  piVar5 = param_2;
  if (param_2 == (int *)0x0) {
    piVar5 = local_10;
    param_2 = piVar5;
  }
  do {
    iVar1 = FUN_00434c90(DAT_0048ce0c,iVar4);
                    /* WARNING: Load size is inaccurate */
    if ((((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) && (*(int *)(iVar1 + 0x458) == *this)) &&
       ((param_5 == 0 || ((param_5 == 1 && (0 < *(int *)(iVar1 + 0x1a4))))))) {
      uVar6 = FUN_004143c0((int *)(iVar1 + 0x2e0),(int *)(iVar1 + 0x2e8),param_1,param_2);
      piVar2 = (int *)uVar6;
      if (((param_3 <= (int)piVar2) || (param_3 == -1)) &&
         ((((int)piVar2 <= param_4 || (param_4 == -1)) &&
          ((iVar3 == 0 || ((int)piVar2 < (int)piVar5)))))) {
        iVar3 = 1;
        *param_6 = iVar4;
        piVar5 = piVar2;
      }
    }
    iVar4 = iVar4 + 1;
  } while (iVar4 < 4);
  return iVar3;
}



/*
 * Function: FUN_00430c10
 * Address: 00430c10
 */

undefined4 FUN_00430c10(int *param_1,long param_2)

{
  RKC_RPG_TABLEDATA *this;
  RKC_RPG_TABLEDATA *this_00;
  long lVar1;
  long lVar2;
  int iVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  uint uVar10;
  long *plVar11;
  undefined4 *local_50;
  int *local_4c;
  long local_48;
  long local_44;
  int local_40;
  long local_3c;
  int local_38;
  int local_34;
  int local_30;
  long local_2c;
  RKC_RPG_TABLEDATA *local_28;
  long local_24;
  long local_20;
  long local_1c;
  long local_18;
  int local_14;
  undefined4 local_10;
  int local_c [3];
  
  FUN_00466ac0(param_1);
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x20);
  if ((this != (RKC_RPG_TABLEDATA *)0x0) &&
     (local_28 = this, this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x21),
     this_00 != (RKC_RPG_TABLEDATA *)0x0)) {
    lVar1 = RKC_RPG_TABLEDATA::GetColCount(this);
    local_20 = lVar1;
    RKC_RPG_TABLEDATA::GetColCount(this_00);
    local_2c = 0;
    if (0 < lVar1) {
      do {
        lVar1 = local_2c;
        lVar2 = RKC_RPG_TABLEDATA::GetValue(this,param_2,local_2c);
        if (lVar2 != -1) {
          local_3c = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,0);
          local_44 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,1);
          local_48 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,2);
          local_24 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,3);
          iVar3 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,4);
          local_1c = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,5);
          local_18 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,6);
          if (iVar3 == -1) {
            iVar3 = _rand();
            iVar3 = iVar3 % 0x1e;
          }
          lVar1 = local_2c;
          if (0 < iVar3) {
            do {
              local_30 = iVar3;
              lVar1 = local_3c;
              if (local_24 == -1) {
                if (local_3c == -1) {
                  iVar3 = 0;
                  local_4c = local_c;
                  local_40 = 0;
                  do {
                    uVar10 = 0xffffffff;
                    iVar9 = 1;
                    *local_4c = 0;
                    lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,9);
                    lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,8);
                    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,7);
                    iVar9 = FUN_00465500(DAT_0048ce14,iVar3,local_44,local_48,lVar5,lVar4,lVar1,
                                         iVar9,uVar10);
                    iVar7 = local_40 + iVar9;
                    iVar3 = iVar3 + 1;
                    *local_4c = iVar9;
                    local_4c = local_4c + 1;
                    local_40 = iVar7;
                  } while (iVar3 < 3);
                  iVar3 = local_34;
                  if (iVar7 != 0) {
                    local_40 = FUN_00401520(9);
                    local_40 = local_40 % iVar7;
                    local_4c = local_c;
                    iVar9 = 0;
                    do {
                      if (*local_4c != 0) {
                        uVar10 = 0xffffffff;
                        iVar7 = 1;
                        iVar3 = local_40;
                        lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,9);
                        lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,8);
                        lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,7);
                        local_38 = FUN_004653a0(DAT_0048ce14,iVar9,local_44,local_48,lVar5,lVar4,
                                                lVar1,iVar7,iVar3,uVar10);
                        iVar3 = iVar9;
                        if (local_38 != -1) break;
                        local_40 = local_40 - *local_4c;
                      }
                      iVar9 = iVar9 + 1;
                      local_4c = local_4c + 1;
                      iVar3 = local_34;
                    } while (iVar9 < 3);
                  }
                }
                else {
                  uVar10 = 0xffffffff;
                  iVar3 = 1;
                  local_34 = local_3c;
                  lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,9);
                  lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,8);
                  lVar6 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,7);
                  iVar9 = FUN_00465500(DAT_0048ce14,lVar1,local_44,local_48,lVar6,lVar5,lVar4,iVar3,
                                       uVar10);
                  iVar3 = local_34;
                  if (iVar9 != 0) {
                    iVar3 = FUN_00401520(9);
                    iVar3 = iVar3 % iVar9;
                    uVar10 = 0xffffffff;
                    iVar9 = 1;
                    lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,9);
                    lVar4 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,8);
                    lVar5 = RKC_RPG_TABLEDATA::GetValue(this_00,lVar2,7);
                    local_38 = FUN_004653a0(DAT_0048ce14,local_3c,local_44,local_48,lVar5,lVar4,
                                            lVar1,iVar9,iVar3,uVar10);
                    iVar3 = local_34;
                  }
                }
              }
              else {
                local_34 = local_3c;
                local_38 = local_24;
                iVar3 = local_34;
              }
              local_34 = iVar3;
              if ((local_38 != -1) &&
                 (local_50 = FUN_00462d30(DAT_0048ce14,local_34,local_38,(undefined4 *)0x0),
                 local_50 != (undefined4 *)0x0)) {
                plVar11 = &local_1c;
                piVar8 = &local_14;
                iVar7 = 0;
                iVar3 = FUN_004308b0((int)local_50);
                iVar9 = FUN_004308a0((int)local_50);
                iVar3 = FUN_00466f80(param_1,9,10,iVar9,iVar3,piVar8,iVar7,plVar11);
                if (iVar3 == 1) {
                  FUN_004663e0(local_50,local_14,local_10);
                  FUN_00466bc0(param_1,(int)local_50);
                  local_50 = (undefined4 *)0x0;
                }
                else if (local_50 != (undefined4 *)0x0) {
                  FUN_00465640((int *)&local_50);
                }
              }
              local_30 = local_30 + -1;
              lVar1 = local_2c;
              iVar3 = local_30;
            } while (local_30 != 0);
          }
        }
        local_2c = lVar1 + 1;
        this = local_28;
      } while (local_2c < local_20);
    }
  }
  return 1;
}



/*
 * Function: FUN_004346b0
 * Address: 004346b0
 */

undefined4 __thiscall FUN_004346b0(void *this,undefined4 *param_1)

{
  int iVar1;
  void *pvVar2;
  int iVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  long lVar4;
  uint uVar5;
  RKC_RPGSCRN_RECT *pRVar6;
  RKC_RPGSCRN_POSITION *pRVar7;
  undefined8 uVar8;
  int *piVar9;
  int *piVar10;
  
  switch(*param_1) {
  case 0:
  case 1:
  case 2:
    return param_1[1];
  case 3:
    iVar1 = FUN_00430770(this,param_1[1] + 14000000);
    if (iVar1 != 0) {
      return *(undefined4 *)(iVar1 + 4);
    }
    break;
  case 4:
    iVar1 = FUN_004307d0(this,param_1[1]);
    if (iVar1 != 0) {
      return *(undefined4 *)(iVar1 + 4);
    }
    break;
  case 5:
    iVar1 = FUN_00430830(this,param_1[1]);
    if (iVar1 != 0) {
      return *(undefined4 *)(iVar1 + 4);
    }
    break;
  case 6:
    iVar1 = param_1[1];
                    /* WARNING: Load size is inaccurate */
    pvVar2 = (void *)FUN_00427aa0(*this);
    iVar1 = FUN_004299e0(pvVar2,iVar1);
    if (iVar1 != 0) {
      iVar1 = FUN_00434cd0(iVar1);
      return *(undefined4 *)(iVar1 + 0x18);
    }
    break;
  case 7:
    iVar1 = param_1[1];
                    /* WARNING: Load size is inaccurate */
    pvVar2 = (void *)FUN_00427aa0(*this);
    iVar1 = FUN_004299e0(pvVar2,iVar1);
    if (iVar1 != 0) {
      iVar1 = FUN_00434cd0(iVar1);
      return *(undefined4 *)(iVar1 + 0x1c);
    }
    break;
  case 8:
    return DAT_00482db0;
  case 9:
    iVar1 = FUN_00434cb0(DAT_0048ce0c);
                    /* WARNING: Load size is inaccurate */
    if (*(int *)(iVar1 + 0x458) == *this) {
      iVar3 = param_1[1];
      pvVar2 = (void *)FUN_00427aa0(*this);
      iVar3 = FUN_004299e0(pvVar2,iVar3);
      if (((iVar3 != 0) && (*(int *)(*(int *)(iVar1 + 0x3f8) + 8) == 1)) &&
         (iVar3 = RKC_RPGSCRN_OBJECTDISP::GetCount((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c),
         iVar3 != 0)) {
        do {
          do {
            iVar3 = iVar3 + -1;
            if (iVar3 < 0) {
              return 0;
            }
            this_00 = RKC_RPGSCRN_OBJECTDISP::Get((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c,iVar3);
          } while (this_00 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0);
          this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
          pvVar2 = (void *)0x80000000;
          lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          uVar5 = FUN_00417070(&DAT_00482df4,lVar4,pvVar2);
        } while (uVar5 == 0);
        lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
        if (lVar4 == param_1[1]) {
          piVar10 = (int *)(iVar1 + 0x2e8);
          piVar9 = (int *)(iVar1 + 0x2e0);
          pRVar6 = RKC_RPGSCRN_OBJECT::GetJudgementAddr(this_01);
          pRVar7 = RKC_RPGSCRN_OBJECT::GetPositionAddr(this_01);
          uVar8 = FUN_004143c0((int *)pRVar7,(int *)pRVar6,piVar9,piVar10);
          if ((int)uVar8 <= *(int *)(iVar1 + 0x3f4)) {
            return 1;
          }
        }
      }
    }
    return 0;
  case 10:
    return *(undefined4 *)(DAT_0048ceb0 + param_1[1] * 4);
  case 0xb:
    return *(undefined4 *)(DAT_0048cec4 + param_1[1] * 4);
  case 0xc:
    return *(undefined4 *)(DAT_0048ceb8 + param_1[1] * 4);
  case 0xd:
    iVar1 = FUN_00434cb0(DAT_0048ce0c);
    if (iVar1 != 0) {
      return *(undefined4 *)(iVar1 + 0x55c + param_1[1] * 4);
    }
  }
  return 0xffffffff;
}



/*
 * Function: FUN_00434920
 * Address: 00434920
 */

undefined4 __thiscall FUN_00434920(void *this,undefined4 *param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  
  switch(*param_1) {
  case 3:
    iVar2 = FUN_00430770(this,param_1[1] + 14000000);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 4) = param_2;
      return 1;
    }
    break;
  case 4:
    iVar2 = FUN_004307d0(this,param_1[1]);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 4) = param_2;
      return 1;
    }
    break;
  case 5:
    iVar2 = FUN_00430830(this,param_1[1]);
    if (iVar2 != 0) {
      if (DAT_00482db0 == 1) {
        iVar3 = param_1[1];
                    /* WARNING: Load size is inaccurate */
        uVar4 = param_2;
        iVar1 = FUN_00456230(*this);
        FUN_0041be40(&DAT_00482df4,iVar1,iVar3,uVar4);
      }
      *(undefined4 *)(iVar2 + 4) = param_2;
      return 1;
    }
    break;
  case 10:
    *(undefined4 *)(DAT_0048ceb0 + param_1[1] * 4) = param_2;
    return 1;
  case 0xb:
    *(undefined4 *)(DAT_0048cec4 + param_1[1] * 4) = param_2;
    return 1;
  case 0xd:
    iVar2 = FUN_00434cb0(DAT_0048ce0c);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x55c + param_1[1] * 4) = param_2;
    }
  }
  return 1;
}



/*
 * Function: FUN_00434a60
 * Address: 00434a60
 */

void __fastcall FUN_00434a60(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0xffffffff;
  return;
}



/*
 * Function: thunk_FUN_00434a90
 * Address: 00434a80
 */

void __fastcall thunk_FUN_00434a90(int *param_1)

{
  LPVOID pvVar1;
  int iVar2;
  
  if (param_1[1] == 0) {
    *param_1 = 0;
    param_1[2] = -1;
    return;
  }
  iVar2 = 0;
  if (0 < *param_1) {
    do {
      pvVar1 = *(LPVOID *)(param_1[1] + iVar2 * 4);
      if (pvVar1 != (LPVOID)0x0) {
        FUN_00440b20((int)pvVar1);
        FUN_0046787e(pvVar1);
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < *param_1);
  }
  GlobalFree((HGLOBAL)param_1[1]);
  param_1[1] = 0;
  *param_1 = 0;
  param_1[2] = -1;
  return;
}



/*
 * Function: FUN_00434a90
 * Address: 00434a90
 */

void __fastcall FUN_00434a90(int *param_1)

{
  LPVOID pvVar1;
  int iVar2;
  
  if (param_1[1] == 0) {
    *param_1 = 0;
    param_1[2] = -1;
    return;
  }
  iVar2 = 0;
  if (0 < *param_1) {
    do {
      pvVar1 = *(LPVOID *)(param_1[1] + iVar2 * 4);
      if (pvVar1 != (LPVOID)0x0) {
        FUN_00440b20((int)pvVar1);
        FUN_0046787e(pvVar1);
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < *param_1);
  }
  GlobalFree((HGLOBAL)param_1[1]);
  param_1[1] = 0;
  *param_1 = 0;
  param_1[2] = -1;
  return;
}



/*
 * Function: FUN_00434b00
 * Address: 00434b00
 */

undefined4 __thiscall FUN_00434b00(void *this,int param_1)

{
  HGLOBAL pvVar1;
  void *pvVar2;
  int iVar3;
  int iVar4;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00471eeb;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  FUN_00434a90((int *)this);
  *(int *)this = param_1;
  pvVar1 = GlobalAlloc(0x40,param_1 * 4);
  iVar4 = 0;
  *(HGLOBAL *)((int)this + 4) = pvVar1;
  if (0 < param_1) {
    do {
      pvVar2 = operator_new(0x1648);
      uStack_4 = 0;
      if (pvVar2 == (void *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = FUN_004408e0((int)pvVar2);
      }
      uStack_4 = 0xffffffff;
      *(int *)(*(int *)((int)this + 4) + iVar4 * 4) = iVar3;
      *(int *)(*(int *)(*(int *)((int)this + 4) + iVar4 * 4) + 0xc) = iVar4;
      *(undefined4 *)(*(int *)(*(int *)((int)this + 4) + iVar4 * 4) + 0x374) = 0;
      *(int *)(*(int *)(*(int *)((int)this + 4) + iVar4 * 4) + 4) = iVar4;
      iVar4 = iVar4 + 1;
    } while (iVar4 < param_1);
  }
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00434bb0
 * Address: 00434bb0
 */

undefined4 __thiscall FUN_00434bb0(void *this,RKC_RPGSCRN_OBJECTBLOCK *param_1,int param_2)

{
  int iVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  
  if (*(int *)(*(int *)(*(int *)((int)this + 4) + param_2 * 4) + 0x2d8) == 1) {
    pRVar2 = RKC_RPGSCRN_OBJECTBLOCK::Insert(param_1,0);
    *(RKC_RPGSCRN_OBJECT **)(*(int *)(*(int *)((int)this + 4) + param_2 * 4) + 0x374) = pRVar2;
    iVar1 = *(int *)(*(int *)((int)this + 4) + param_2 * 4);
    RKC_RPGSCRN_OBJECT::SetCharacterNo
              (*(RKC_RPGSCRN_OBJECT **)(iVar1 + 0x374),*(long *)(iVar1 + 0xc));
    FUN_00440ca0(*(int *)(*(int *)((int)this + 4) + param_2 * 4));
  }
  return 1;
}



/*
 * Function: FUN_00434c10
 * Address: 00434c10
 */

undefined4 __thiscall FUN_00434c10(void *this,RKC_RPGSCRN_OBJECTBLOCK *param_1,int param_2)

{
  int iVar1;
  long lVar2;
  
  iVar1 = *(int *)(*(int *)((int)this + 4) + param_2 * 4);
  if (*(int *)(iVar1 + 0x2d8) == 1) {
    lVar2 = RKC_RPGSCRN_OBJECTBLOCK::GetNo(param_1,*(RKC_RPGSCRN_OBJECT **)(iVar1 + 0x374));
    RKC_RPGSCRN_OBJECTBLOCK::Delete(param_1,lVar2);
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_00434c60
 * Address: 00434c60
 */

int __thiscall FUN_00434c60(void *this,int param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  iVar1 = 0;
  if (param_1 != 0) {
                    /* WARNING: Load size is inaccurate */
    iVar3 = *this;
    if (0 < iVar3) {
      piVar2 = *(int **)((int)this + 4);
      do {
        if (*(int *)(*piVar2 + 0x2d8) == 1) {
          iVar1 = iVar1 + 1;
        }
        piVar2 = piVar2 + 1;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
    }
    return iVar1;
  }
                    /* WARNING: Load size is inaccurate */
  return *this;
}



/*
 * Function: FUN_00434c90
 * Address: 00434c90
 */

undefined4 __thiscall FUN_00434c90(void *this,int param_1)

{
                    /* WARNING: Load size is inaccurate */
  if ((-1 < param_1) && (param_1 < *this)) {
    return *(undefined4 *)(*(int *)((int)this + 4) + param_1 * 4);
  }
  return 0;
}



/*
 * Function: FUN_00434cb0
 * Address: 00434cb0
 */

undefined4 __fastcall FUN_00434cb0(int param_1)

{
  if (*(int *)(param_1 + 8) < 0) {
    return 0;
  }
  return *(undefined4 *)(*(int *)(param_1 + 4) + *(int *)(param_1 + 8) * 4);
}



/*
 * Function: FUN_00434cd0
 * Address: 00434cd0
 */

undefined4 __fastcall FUN_00434cd0(int param_1)

{
  return *(undefined4 *)(param_1 + 8);
}



/*
 * Function: FUN_00434ce0
 * Address: 00434ce0
 */

undefined4 __thiscall FUN_00434ce0(void *this,int param_1)

{
  int iVar1;
  
                    /* WARNING: Load size is inaccurate */
  if (((-1 < param_1) && (param_1 < *this)) && (*(int *)((int)this + 8) < 0)) {
    *(int *)((int)this + 8) = param_1;
    iVar1 = *(int *)(*(int *)((int)this + 4) + param_1 * 4);
    *(uint *)(iVar1 + 0x2d0) = *(uint *)(iVar1 + 0x2d0) | 1;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_00434d20
 * Address: 00434d20
 */

undefined4 __fastcall FUN_00434d20(void *param_1)

{
  FUN_00434b00(param_1,4);
  return 1;
}



/*
 * Function: FUN_00434d30
 * Address: 00434d30
 */

void __thiscall
FUN_00434d30(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
            undefined4 param_9,undefined4 param_10,undefined4 param_11,int param_12,
            undefined4 param_13,int param_14,int param_15)

{
  void *this_00;
  int iVar1;
  int iVar2;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  int iVar3;
  undefined4 unaff_retaddr;
  void *pvVar4;
  undefined4 in_stack_fffffffc;
  
  this_00 = (void *)FUN_00434cb0(DAT_0048ce0c);
  if (DAT_00482db0 == 0) {
    FUN_00443490(this_00,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,this_00,in_stack_fffffffc,
                 unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,
                 param_9,param_10,param_11,param_12,param_13,param_14,param_15);
  }
  else if (DAT_00482db0 == 1) {
                    /* WARNING: Load size is inaccurate */
    iVar3 = 0;
    if (0 < *this) {
      do {
        pvVar4 = *(void **)(*(int *)((int)this + 4) + iVar3 * 4);
        if (*(int *)((int)pvVar4 + 0x2d8) == 1) {
          FUN_00443490(pvVar4,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,this_00,in_stack_fffffffc,
                       unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8
                       ,param_9,param_10,param_11,param_12,param_13,param_14,param_15);
        }
                    /* WARNING: Load size is inaccurate */
        iVar3 = iVar3 + 1;
      } while (iVar3 < *this);
      return;
    }
  }
  else {
                    /* WARNING: Load size is inaccurate */
    if ((DAT_00482db0 == 2) && (iVar3 = 0, 0 < *this)) {
      do {
        iVar1 = *(int *)(*(int *)((int)this + 4) + iVar3 * 4);
        pvVar4 = this_00;
        if (*(int *)(iVar1 + 0x2d8) == 1) {
          iVar1 = FUN_004452a0(iVar1);
          iVar2 = FUN_004452a0((int)this_00);
          if (iVar1 == iVar2) {
            FUN_00443490(*(void **)(*(int *)((int)this + 4) + iVar3 * 4),unaff_EDI,unaff_ESI,
                         unaff_EBP,unaff_EBX,pvVar4,iVar1,unaff_retaddr,param_1,param_2,param_3,
                         param_4,param_5,param_6,param_7,param_8,param_9,param_10,param_11,param_12,
                         param_13,param_14,param_15);
          }
          else {
            *(undefined4 *)(*(int *)(*(int *)((int)this + 4) + iVar3 * 4) + 0x460) = 0;
            *(undefined4 *)(*(int *)(*(int *)((int)this + 4) + iVar3 * 4) + 0x4a4) = 0;
            iVar1 = *(int *)(*(int *)((int)this + 4) + iVar3 * 4);
            iVar2 = *(int *)(iVar1 + 0x1554);
            if (iVar2 != 0) {
              *(int *)(iVar1 + 0x1554) = iVar2 + -1;
            }
          }
        }
                    /* WARNING: Load size is inaccurate */
        iVar3 = iVar3 + 1;
        this_00 = pvVar4;
      } while (iVar3 < *this);
      return;
    }
  }
  return;
}



/*
 * Function: FUN_00434e30
 * Address: 00434e30
 */

void __fastcall FUN_00434e30(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar1 = FUN_00434cb0(DAT_0048ce0c);
  if (DAT_00482db0 == 0) {
    FUN_00445710(iVar1);
  }
  else if (DAT_00482db0 == 1) {
    iVar1 = 0;
    if (0 < *param_1) {
      do {
        iVar4 = *(int *)(param_1[1] + iVar1 * 4);
        if (*(int *)(iVar4 + 0x2d8) == 1) {
          FUN_00445710(iVar4);
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *param_1);
      return;
    }
  }
  else if ((DAT_00482db0 == 2) && (iVar4 = 0, 0 < *param_1)) {
    do {
      iVar2 = *(int *)(param_1[1] + iVar4 * 4);
      if (*(int *)(iVar2 + 0x2d8) == 1) {
        iVar2 = FUN_004452a0(iVar2);
        iVar3 = FUN_004452a0(iVar1);
        if (iVar2 == iVar3) {
          FUN_00445710(*(int *)(param_1[1] + iVar4 * 4));
        }
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < *param_1);
    return;
  }
  return;
}



/*
 * Function: FUN_00434ef0
 * Address: 00434ef0
 */

undefined4 __fastcall FUN_00434ef0(int param_1)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar5;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  long lVar6;
  RKC_RPGSCRN_RECT *pRVar7;
  int *piVar8;
  short *psVar9;
  short *psVar10;
  short *psVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  RKC_RPGSCRN_RECT *pRVar16;
  long lVar17;
  long lVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  
  if (*(int *)(param_1 + 0x314) != 1) {
    *(undefined4 *)(param_1 + 0x314) = 1;
    *(undefined4 *)(param_1 + 0x308) = 0;
  }
  iVar2 = FUN_00456210(DAT_0048ce04);
  if (iVar2 == *(int *)(param_1 + 0x458)) {
    if ((*(int *)(param_1 + 0x15fc) == 0) || (*(int *)(param_1 + 0x159c) != 0)) {
      if (*(int *)(param_1 + 0x410) == 1) {
        lVar6 = 9;
      }
      else {
        lVar6 = 0;
        if (*(int *)(param_1 + 0x4f4) != 0) {
          iVar2 = FUN_004663a0(*(int *)(param_1 + 0x4f4));
          if (iVar2 == 1) {
            lVar6 = 0x18;
          }
          iVar2 = FUN_004663a0(*(int *)(param_1 + 0x4f4));
          if (iVar2 == 3) {
            lVar6 = 0x19;
          }
        }
      }
      this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)(param_1 + 0x340));
      this_00 = RKC_RPGSCRN_CHARANIM::Get(this,lVar6);
      RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)(param_1 + 0x31c));
      if (*(int *)(param_1 + 0x410) == 1) {
        *(undefined4 *)(param_1 + 0x308) = 0;
      }
      uVar3 = *(uint *)(param_1 + 0x1588) & 0x80000001;
      if ((int)uVar3 < 0) {
        uVar3 = (uVar3 - 1 | 0xfffffffe) + 1;
      }
      lVar13 = *(long *)(param_1 + 0xc);
      psVar10 = *(short **)(param_1 + 0x334);
      lVar21 = 1000;
      lVar19 = 1000;
      iVar4 = (-(uint)(uVar3 != 0) & 2) - 1;
      lVar17 = 1000;
      pRVar16 = (RKC_RPGSCRN_RECT *)0x0;
      lVar14 = 1000;
      psVar11 = *(short **)(param_1 + 0x338);
      lVar12 = 0;
      psVar9 = *(short **)(param_1 + 0x330);
      piVar8 = *(int **)(param_1 + 0x32c);
      pRVar7 = (RKC_RPGSCRN_RECT *)(param_1 + 0x2e8);
      pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      lVar15 = *(long *)(param_1 + 0x308);
      iVar2 = *(int *)(param_1 + 0x2e4) + iVar4 * -10;
      iVar4 = *(int *)(param_1 + 0x2e0) + iVar4 * 10;
      lVar18 = *(long *)(param_1 + 0x31c);
      lVar20 = *(long *)(param_1 + 0x340);
    }
    else {
      lVar6 = 0;
      if (*(int *)(param_1 + 0x4f4) != 0) {
        iVar2 = FUN_004663a0(*(int *)(param_1 + 0x4f4));
        if (iVar2 == 1) {
          lVar6 = 0x18;
        }
        iVar2 = FUN_004663a0(*(int *)(param_1 + 0x4f4));
        if (iVar2 == 3) {
          lVar6 = 0x19;
        }
      }
      uVar3 = *(uint *)(param_1 + 0x1588) & 0x80000001;
      if ((int)uVar3 < 0) {
        uVar3 = (uVar3 - 1 | 0xfffffffe) + 1;
      }
      psVar11 = *(short **)(param_1 + 0x338);
      psVar10 = *(short **)(param_1 + 0x334);
      iVar4 = (-(uint)(uVar3 != 0) & 2) - 1;
      lVar21 = 1000;
      lVar19 = 1000;
      lVar17 = 1000;
      lVar13 = *(long *)(param_1 + 0xc);
      pRVar16 = (RKC_RPGSCRN_RECT *)0x0;
      lVar14 = 1000;
      lVar12 = 0;
      psVar9 = *(short **)(param_1 + 0x330);
      piVar8 = *(int **)(param_1 + 0x32c);
      pRVar7 = (RKC_RPGSCRN_RECT *)(param_1 + 0x2e8);
      pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      lVar15 = *(long *)(param_1 + 0x308);
      iVar2 = *(int *)(param_1 + 0x2e4) + iVar4 * -10;
      iVar4 = *(int *)(param_1 + 0x2e0) + iVar4 * 10;
      lVar18 = *(long *)(param_1 + 0x31c);
      lVar20 = *(long *)(param_1 + 0x340);
    }
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar20,lVar6,lVar18,lVar15,iVar4,iVar2,sVar1,pRVar5,pRVar7,piVar8,psVar9
               ,psVar10,psVar11,lVar13,lVar12,lVar14,pRVar16,lVar17,lVar19,lVar21);
  }
  if (*(int *)(param_1 + 0x159c) != 0) {
    iVar2 = FUN_00456210(DAT_0048ce04);
    if (iVar2 == *(int *)(param_1 + 0x458)) {
      lVar6 = *(long *)(param_1 + 0xc);
      psVar11 = *(short **)(param_1 + 0x338);
      psVar10 = *(short **)(param_1 + 0x334);
      lVar12 = 1000;
      lVar20 = 1000;
      lVar18 = 1000;
      pRVar16 = (RKC_RPGSCRN_RECT *)0x0;
      lVar15 = 1000;
      lVar13 = 0;
      psVar9 = *(short **)(param_1 + 0x330);
      piVar8 = *(int **)(param_1 + 0x32c);
      pRVar7 = (RKC_RPGSCRN_RECT *)(param_1 + 0x2e8);
      pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,0x1f6,0,8,*(long *)(param_1 + 0x308),*(long *)(param_1 + 0x2e0),
                 *(long *)(param_1 + 0x2e4),0,pRVar5,pRVar7,piVar8,psVar9,psVar10,psVar11,lVar6,
                 lVar13,lVar15,pRVar16,lVar18,lVar20,lVar12);
    }
  }
  *(int *)(param_1 + 0x308) = *(int *)(param_1 + 0x308) + 1;
  return 0;
}



/*
 * Function: FUN_004351f0
 * Address: 004351f0
 */

undefined4 __fastcall FUN_004351f0(void *param_1)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  uint uVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  long lVar7;
  bool bVar8;
  longlong lVar9;
  RKC_RPGSCRN_RECT *pRVar10;
  int *piVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  int local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  local_58 = 0x55555555;
  local_54 = 0x3fe55555;
  local_50 = 0;
  local_4c = 0x3fe80000;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0xaaaaaaab;
  local_3c = 0x3feaaaaa;
  local_38 = 0xdb6db6db;
  local_34 = 0x3feb6db6;
  local_30 = 0;
  local_2c = 0x3ff00000;
  local_28 = 0xaaaaaaab;
  local_24 = 0x3ff2aaaa;
  local_20 = 0x33333333;
  local_1c = 0x3ff33333;
  local_18 = 0;
  local_14 = 0x3ff40000;
  local_10 = 0x55555555;
  local_c = 0x3ff55555;
  FUN_00450d40((int)param_1);
  if (*(int *)((int)param_1 + 0x314) == 2) {
    *(int *)((int)param_1 + 0x30c) = *(int *)((int)param_1 + 0x30c) + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 2;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
  }
  *(double *)((int)param_1 + 0x3b0) = (double)*(int *)((int)param_1 + 0x300);
  if (*(int *)((int)param_1 + 0x1554) != 0) {
    lVar9 = __ftol();
    *(double *)((int)param_1 + 0x3b0) = (double)(int)lVar9;
  }
  iVar4 = *(int *)((int)param_1 + 0x30c);
  lVar9 = __ftol();
  *(int *)((int)param_1 + 0x308) = (int)lVar9;
  if (iVar4 % 0xc == 0) {
    FUN_004456d0(param_1,0,0,0);
  }
  bVar8 = *(int *)((int)param_1 + 0x378) == 1;
  if (bVar8) {
    iVar4 = *(int *)((int)param_1 + 0x3cc);
  }
  iVar2 = FUN_00454930((void *)((int)param_1 + 0x378),&local_60,0,0xffffffff,0);
  if (iVar2 == 1) {
    iVar4 = *(int *)((int)param_1 + 0x3c0);
    if (iVar4 == 1) {
      *(undefined4 *)((int)param_1 + 0x31c) = 3;
    }
    else if (iVar4 == 2) {
      *(undefined4 *)((int)param_1 + 0x31c) = 7;
    }
    else if (iVar4 == 3) {
      *(undefined4 *)((int)param_1 + 0x31c) = 5;
    }
    else if (iVar4 == 4) {
      *(undefined4 *)((int)param_1 + 0x31c) = 1;
    }
    else {
      uVar3 = FUN_00413ec0(*(int *)((int)param_1 + 0x390) - *(int *)((int)param_1 + 0x2e0),
                           *(int *)((int)param_1 + 0x394) - *(int *)((int)param_1 + 0x2e4));
      *(undefined4 *)((int)param_1 + 0x31c) = uVar3;
    }
    *(int *)((int)param_1 + 0x2e0) = local_60;
    *(undefined4 *)((int)param_1 + 0x2e4) = local_5c;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
    if (bVar8) {
      FUN_00449240(param_1,iVar4,1);
    }
  }
  iVar4 = FUN_00456210(DAT_0048ce04);
  if (iVar4 == *(int *)((int)param_1 + 0x458)) {
    lVar7 = 1;
    if (*(int *)((int)param_1 + 0x4f4) != 0) {
      iVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x4f4));
      if (iVar4 == 1) {
        lVar7 = 0x1a;
      }
      iVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x4f4));
      if (iVar4 == 3) {
        lVar7 = 0x1a;
      }
    }
    uVar5 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
    }
    lVar15 = *(long *)((int)param_1 + 0xc);
    psVar14 = *(short **)((int)param_1 + 0x338);
    lVar21 = 1000;
    lVar20 = 1000;
    iVar4 = (-(uint)(uVar5 != 0) & 2) - 1;
    lVar19 = 1000;
    pRVar18 = (RKC_RPGSCRN_RECT *)0x0;
    lVar17 = 1000;
    psVar13 = *(short **)((int)param_1 + 0x334);
    lVar16 = 0;
    psVar12 = *(short **)((int)param_1 + 0x330);
    piVar11 = *(int **)((int)param_1 + 0x32c);
    pRVar10 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar7,*(long *)((int)param_1 + 0x31c),
               *(long *)((int)param_1 + 0x308),*(int *)((int)param_1 + 0x2e0) + iVar4 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar4 * -10,sVar1,pRVar6,pRVar10,piVar11,psVar12,
               psVar13,psVar14,lVar15,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
  }
  return 0;
}



/*
 * Function: FUN_00435530
 * Address: 00435530
 */

undefined4 __fastcall FUN_00435530(void *param_1)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar5;
  long lVar6;
  uint uVar7;
  bool bVar8;
  longlong lVar9;
  RKC_RPGSCRN_RECT *pRVar10;
  int *piVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  int local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  local_58 = 0x55555555;
  local_54 = 0x3fe55555;
  local_50 = 0;
  local_4c = 0x3fe80000;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0xaaaaaaab;
  local_3c = 0x3feaaaaa;
  local_38 = 0xdb6db6db;
  local_34 = 0x3feb6db6;
  local_30 = 0;
  local_2c = 0x3ff00000;
  local_28 = 0xaaaaaaab;
  local_24 = 0x3ff2aaaa;
  local_20 = 0x33333333;
  local_1c = 0x3ff33333;
  local_18 = 0;
  local_14 = 0x3ff40000;
  local_10 = 0x55555555;
  local_c = 0x3ff55555;
  FUN_00450d40((int)param_1);
  if (*(int *)((int)param_1 + 0x314) == 3) {
    *(int *)((int)param_1 + 0x30c) = *(int *)((int)param_1 + 0x30c) + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 3;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
  }
  *(double *)((int)param_1 + 0x3b0) = (double)*(int *)((int)param_1 + 0x304);
  if (*(int *)((int)param_1 + 0x1554) != 0) {
    lVar9 = __ftol();
    *(double *)((int)param_1 + 0x3b0) = (double)(int)lVar9;
  }
  uVar4 = *(uint *)((int)param_1 + 0x30c);
  lVar9 = __ftol();
  uVar7 = uVar4 & 0x80000007;
  *(int *)((int)param_1 + 0x308) = (int)lVar9;
  if ((int)uVar7 < 0) {
    uVar7 = (uVar7 - 1 | 0xfffffff8) + 1;
  }
  if (uVar7 == 0) {
    FUN_004456d0(param_1,0,0,0);
  }
  bVar8 = *(int *)((int)param_1 + 0x378) == 1;
  if (bVar8) {
    uVar4 = *(uint *)((int)param_1 + 0x3cc);
  }
  iVar2 = FUN_00454930((void *)((int)param_1 + 0x378),&local_60,0,0xffffffff,0);
  if (iVar2 == 1) {
    iVar2 = *(int *)((int)param_1 + 0x3c0);
    if (iVar2 == 1) {
      *(undefined4 *)((int)param_1 + 0x31c) = 3;
    }
    else if (iVar2 == 2) {
      *(undefined4 *)((int)param_1 + 0x31c) = 7;
    }
    else if (iVar2 == 3) {
      *(undefined4 *)((int)param_1 + 0x31c) = 5;
    }
    else if (iVar2 == 4) {
      *(undefined4 *)((int)param_1 + 0x31c) = 1;
    }
    else {
      uVar3 = FUN_00413ec0(*(int *)((int)param_1 + 0x390) - *(int *)((int)param_1 + 0x2e0),
                           *(int *)((int)param_1 + 0x394) - *(int *)((int)param_1 + 0x2e4));
      *(undefined4 *)((int)param_1 + 0x31c) = uVar3;
    }
  }
  else {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
    if (bVar8) {
      FUN_00449240(param_1,uVar4,1);
    }
  }
  *(int *)((int)param_1 + 0x2e0) = local_60;
  *(undefined4 *)((int)param_1 + 0x2e4) = local_5c;
  iVar2 = FUN_00456210(DAT_0048ce04);
  if (iVar2 == *(int *)((int)param_1 + 0x458)) {
    lVar6 = 2;
    if (*(int *)((int)param_1 + 0x4f4) != 0) {
      iVar2 = FUN_004663a0(*(int *)((int)param_1 + 0x4f4));
      if (iVar2 == 1) {
        lVar6 = 0x1b;
      }
      iVar2 = FUN_004663a0(*(int *)((int)param_1 + 0x4f4));
      if (iVar2 == 3) {
        lVar6 = 0x1c;
      }
    }
    uVar4 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffffe) + 1;
    }
    lVar15 = *(long *)((int)param_1 + 0xc);
    psVar13 = *(short **)((int)param_1 + 0x334);
    lVar21 = 1000;
    lVar20 = 1000;
    iVar2 = (-(uint)(uVar4 != 0) & 2) - 1;
    lVar19 = 1000;
    pRVar18 = (RKC_RPGSCRN_RECT *)0x0;
    lVar17 = 1000;
    psVar14 = *(short **)((int)param_1 + 0x338);
    lVar16 = 0;
    psVar12 = *(short **)((int)param_1 + 0x330);
    piVar11 = *(int **)((int)param_1 + 0x32c);
    pRVar10 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar6,*(long *)((int)param_1 + 0x31c),
               *(long *)((int)param_1 + 0x308),iVar2 * 10 + *(int *)((int)param_1 + 0x2e0),
               *(int *)((int)param_1 + 0x2e4) + iVar2 * -10,sVar1,pRVar5,pRVar10,piVar11,psVar12,
               psVar13,psVar14,lVar15,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
  }
  return 0;
}



/*
 * Function: FUN_00435870
 * Address: 00435870
 */

undefined4 __fastcall FUN_00435870(int param_1)

{
  short sVar1;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  long lVar7;
  long lVar8;
  RKC_RPGSCRN_RECT *pRVar9;
  int *piVar10;
  short *psVar11;
  short *psVar12;
  short *psVar13;
  long lVar14;
  long lVar15;
  long lVar16;
  RKC_RPGSCRN_RECT *pRVar17;
  long lVar18;
  long lVar19;
  long lVar20;
  int iStack_10;
  undefined4 uStack_c;
  int iStack_8;
  undefined4 uStack_4;
  
  if (*(int *)(param_1 + 0x308) == 0) {
    *(undefined4 *)(param_1 + 0x314) = 4;
    *(undefined4 *)(param_1 + 0x308) = 0;
    *(undefined4 *)(param_1 + 0x2dc) = 1;
  }
  if (*(int *)(param_1 + 0x324) == 0) {
    *(undefined4 *)(param_1 + 0x308) = 0;
    *(undefined4 *)(param_1 + 0x324) = 1;
  }
  this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)(param_1 + 0x340));
  this_00 = RKC_RPGSCRN_CHARANIM::Get(this,3);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)(param_1 + 0x31c));
  iVar4 = *(int *)(param_1 + 0x308);
  iVar3 = *(int *)(param_1 + 0x324);
  iVar2 = (iVar4 * sVar1) / iVar3;
  if (iVar4 == iVar3 + -1) {
    iVar2 = sVar1 + -1;
  }
  if ((((*(int *)(param_1 + 0x1578) == 0) && (iVar3 != 0)) &&
      (iVar3 = ((iVar3 - iVar4) * 0x78) / iVar3, iVar3 != 0)) && (*(int *)(param_1 + 0x161c) == 0))
  {
    piVar10 = (int *)(param_1 + 0x2e0);
    FUN_004140a0(piVar10,*(double *)(param_1 + 0x1580),iVar3,&iStack_8);
    iStack_10 = iStack_8;
    uStack_c = uStack_4;
    FUN_00414990(*(int *)(param_1 + 0x458),*(int *)(param_1 + 4),piVar10,(int *)(param_1 + 0x2e8),
                 &iStack_8,&iStack_10,0,0,0xff,0);
    *piVar10 = iStack_10;
    *(undefined4 *)(param_1 + 0x2e4) = uStack_c;
  }
  iVar4 = FUN_00456210(DAT_0048ce04);
  if (iVar4 == *(int *)(param_1 + 0x458)) {
    if (*(int *)(param_1 + 0x15f0) == 2) {
      uVar5 = *(uint *)(param_1 + 0x1588) & 0x80000001;
      if ((int)uVar5 < 0) {
        uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
      }
      lVar14 = *(long *)(param_1 + 0xc);
      psVar13 = *(short **)(param_1 + 0x338);
      lVar20 = 1000;
      lVar19 = 1000;
      iVar2 = (-(uint)(uVar5 != 0) & 2) - 1;
      lVar18 = 1000;
      pRVar17 = (RKC_RPGSCRN_RECT *)0x0;
      lVar16 = 1000;
      psVar12 = *(short **)(param_1 + 0x334);
      lVar15 = 0x4000;
      psVar11 = *(short **)(param_1 + 0x330);
      piVar10 = *(int **)(param_1 + 0x32c);
      pRVar9 = (RKC_RPGSCRN_RECT *)(param_1 + 0x2e8);
      pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      iVar3 = *(int *)(param_1 + 0x2e4) + iVar2 * -10;
      lVar8 = *(long *)(param_1 + 0x31c);
      iVar4 = *(int *)(param_1 + 0x2e0) + iVar2 * 10;
      lVar7 = *(long *)(param_1 + 0x340);
      iVar2 = 0;
    }
    else {
      uVar5 = *(uint *)(param_1 + 0x1588) & 0x80000001;
      if ((int)uVar5 < 0) {
        uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
      }
      lVar14 = *(long *)(param_1 + 0xc);
      psVar12 = *(short **)(param_1 + 0x334);
      lVar20 = 1000;
      lVar19 = 1000;
      iVar4 = (-(uint)(uVar5 != 0) & 2) - 1;
      lVar18 = 1000;
      pRVar17 = (RKC_RPGSCRN_RECT *)0x0;
      lVar16 = 1000;
      psVar13 = *(short **)(param_1 + 0x338);
      lVar15 = 0;
      psVar11 = *(short **)(param_1 + 0x330);
      piVar10 = *(int **)(param_1 + 0x32c);
      pRVar9 = (RKC_RPGSCRN_RECT *)(param_1 + 0x2e8);
      pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      lVar8 = *(long *)(param_1 + 0x31c);
      iVar3 = *(int *)(param_1 + 0x2e4) + iVar4 * -10;
      iVar4 = *(int *)(param_1 + 0x2e0) + iVar4 * 10;
      lVar7 = *(long *)(param_1 + 0x340);
    }
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar7,3,lVar8,iVar2,iVar4,iVar3,sVar1,pRVar6,pRVar9,piVar10,psVar11,
               psVar12,psVar13,lVar14,lVar15,lVar16,pRVar17,lVar18,lVar19,lVar20);
  }
  if (*(int *)(param_1 + 0x308) == *(int *)(param_1 + 0x324) + -1) {
    *(undefined4 *)(param_1 + 0x2dc) = 0;
    *(undefined4 *)(param_1 + 0x318) = 1;
    *(undefined4 *)(param_1 + 0x314) = 0;
  }
  *(int *)(param_1 + 0x308) = *(int *)(param_1 + 0x308) + 1;
  if (*(int *)(param_1 + 0x161c) != 0) {
    *(int *)(param_1 + 0x161c) = *(int *)(param_1 + 0x161c) + -1;
  }
  return 0;
}



/*
 * Function: FUN_00435b60
 * Address: 00435b60
 */

undefined4 __fastcall FUN_00435b60(int *param_1)

{
  short sVar1;
  short sVar2;
  int iVar3;
  uint uVar4;
  void *this;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int iVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  long lVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 *puVar16;
  int *piVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  undefined4 uVar19;
  undefined4 *puVar20;
  short *psVar21;
  short *psVar22;
  undefined4 uVar23;
  short *psVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 uVar27;
  long lVar28;
  undefined4 uVar29;
  RKC_RPGSCRN_RECT *pRVar30;
  undefined4 uVar31;
  long lVar32;
  undefined4 uVar33;
  long lVar34;
  undefined4 uVar35;
  long lVar36;
  int local_30 [12];
  
  if (param_1[0xc2] == 0) {
    param_1[200] = 0;
    param_1[0xb7] = 1;
    iVar3 = FUN_00434cd0(DAT_0048ce0c);
    if (iVar3 == param_1[1]) {
      FUN_00451d60(param_1);
      FUN_00452910(param_1);
      FUN_00450080(param_1);
      local_30[1] = 0;
      local_30[0] = FUN_00456230(param_1[0x116]);
      local_30[2] = param_1[1];
      if (DAT_00482db0 == 1) {
        FUN_0041c4e0(local_30);
      }
      else {
        FUN_00419d60(local_30);
      }
      if ((DAT_0048ce34 != (undefined4 *)0x0) && (param_1[0x163] == 1)) {
        if (DAT_0048ce34 != (undefined4 *)0x0) {
          (**(code **)*DAT_0048ce34)(1);
        }
        DAT_0048ce34 = (undefined4 *)0x0;
      }
      FUN_004170f0();
    }
    FUN_004456d0(param_1,0,0xe - param_1[10],0);
    iVar3 = FUN_00466d70(param_1 + 0x145);
    FUN_00466da0(param_1 + 0x145,iVar3 / 2);
    uVar35 = 0;
    uVar33 = 200;
    uVar31 = 0;
    uVar29 = 0;
    uVar27 = 0;
    uVar26 = 0;
    uVar25 = 0;
    uVar23 = 0xffffffff;
    uVar4 = _rand();
    uVar4 = uVar4 & 0x80000007;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffff8) + 1;
    }
    puVar20 = (undefined4 *)0x0;
    piVar17 = param_1 + 0xba;
    iVar3 = param_1[3];
    uVar19 = 0;
    puVar16 = (undefined4 *)0x0;
    uVar15 = 0;
    uVar14 = 0;
    uVar13 = 0;
    uVar12 = 0;
    uVar11 = 0;
    uVar10 = 0;
    uVar9 = 1;
    uVar8 = 0x5212;
    this = (void *)FUN_00466420(param_1[0x116]);
    FUN_0042fdc0(this,uVar8,uVar9,iVar3,uVar10,uVar11,uVar12,uVar13,uVar14,uVar15,puVar16,piVar17,
                 uVar19,puVar20,uVar4,uVar23,uVar25,uVar26,uVar27,uVar29,uVar31,uVar33,uVar35);
  }
  param_1[199] = 8;
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,4);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,param_1[199]);
  iVar3 = FUN_00456210(DAT_0048ce04);
  if (iVar3 == param_1[0x116]) {
    lVar7 = 0;
    if (param_1[0x57c] == 2) {
      lVar7 = 0x4000;
    }
    uVar4 = param_1[0x562] & 0x80000001;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffffe) + 1;
    }
    psVar22 = (short *)param_1[0xcd];
    lVar36 = 1000;
    iVar5 = (-(uint)(uVar4 != 0) & 2) - 1;
    lVar34 = 1000;
    lVar32 = 1000;
    pRVar30 = (RKC_RPGSCRN_RECT *)0x0;
    iVar3 = param_1[3];
    lVar28 = 1000;
    psVar24 = (short *)param_1[0xce];
    psVar21 = (short *)param_1[0xcc];
    piVar17 = (int *)param_1[0xcb];
    pRVar18 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],4,param_1[199],param_1[0xc2],param_1[0xb8] + iVar5 * 10,
               param_1[0xb9] + iVar5 * -10,sVar2,pRVar6,pRVar18,piVar17,psVar21,psVar22,psVar24,
               iVar3,lVar7,lVar28,pRVar30,lVar32,lVar34,lVar36);
  }
  if (param_1[0xc2] == sVar1 + -1) {
    if ((0x77 < param_1[200]) && ((*(byte *)(param_1 + 0xb4) & 1) != 0)) {
      param_1[0x566] = 1;
      iVar3 = FUN_00466430(param_1[0x116]);
      param_1[0x110] = iVar3;
      iVar3 = FUN_00427ab0(param_1[0x116]);
      param_1[0x111] = iVar3;
      param_1[0x10f] = 1;
      param_1[0x115] = -1;
      param_1[0x555] = 0;
      param_1[0x577] = 0;
      param_1[0x579] = 0;
      param_1[0x57b] = 0;
      param_1[0x58a] = 0;
      param_1[0x58c] = 0;
      FUN_00450080(param_1);
      FUN_00452910(param_1);
    }
    param_1[200] = param_1[200] + 1;
    return 0;
  }
  param_1[0xc2] = param_1[0xc2] + 1;
  return 0;
}



/*
 * Function: FUN_00435e60
 * Address: 00435e60
 */

undefined4 __thiscall FUN_00435e60(void *this,int param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPGSCRN_CHARANIM *pRVar4;
  RKC_RPGSCRN_CHARANIMCHART *pRVar5;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  void *pvVar6;
  int iVar7;
  undefined3 extraout_var;
  uint uVar8;
  int *piVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int iVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  longlong lVar14;
  RKC_RPGSCRN_RECT *pRVar15;
  short *psVar16;
  short *psVar17;
  short *psVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  RKC_RPGSCRN_RECT *pRVar22;
  long lVar23;
  long lVar24;
  long lVar25;
  int local_198;
  long local_194;
  int iStack_190;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  undefined4 uStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  int iStack_b4;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  uint uStack_a0;
  int iStack_9c;
  undefined4 uStack_98;
  int iStack_94;
  undefined4 uStack_90;
  int iStack_8c;
  undefined4 uStack_1c;
  undefined4 uStack_14;
  
  bVar1 = false;
  FUN_00450c60((int)this);
  if (*(int *)((int)this + 0x314) == param_1 + 8) {
    *(int *)((int)this + 0x30c) = *(int *)((int)this + 0x30c) + 1;
    lVar14 = __ftol();
    *(int *)((int)this + 0x308) = (int)lVar14;
  }
  else {
    *(int *)((int)this + 0x314) = param_1 + 8;
    *(undefined4 *)((int)this + 0x2dc) = 1;
    *(undefined4 *)((int)this + 0x308) = 0;
    *(undefined4 *)((int)this + 0x310) = 0xffffffff;
    *(undefined4 *)((int)this + 0x30c) = 0;
    *(int *)((int)this + 0x1618) = *(int *)((int)this + 0x1618) + 1;
    FUN_00452bc0(this,(int *)0x0,1);
  }
  if (param_1 == 0) {
    local_198 = 5;
    local_194 = 6;
  }
  else if (param_1 == 1) {
    local_198 = 0xf;
    local_194 = 0x10;
  }
  else {
    local_198 = 0x13;
    local_194 = 0x14;
  }
  pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x340));
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,local_198);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,*(long *)((int)this + 0x31c));
  pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x340));
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,local_194);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,*(long *)((int)this + 0x31c));
  pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x340));
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,local_198);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,*(long *)((int)this + 0x31c));
  iStack_190 = (int)sVar2;
  if ((((*(int *)((int)this + 0x308) < iStack_190) &&
       (*(int *)((int)this + 0x308) != *(int *)((int)this + 0x310))) &&
      (this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar5,*(long *)((int)this + 0x31c),0),
      this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar11 = *(int *)((int)this + 0x310) + 1, iVar11 <= *(int *)((int)this + 0x308))) {
    do {
      this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar11);
      if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar11 = iVar11 + 1;
    } while (iVar11 <= *(int *)((int)this + 0x308));
    if (bVar1) {
      if (*(int *)((int)this + 0x28) == 1) {
        FUN_004456d0(this,0,0x60,0);
      }
      else {
        FUN_004456d0(this,0,99,0);
      }
      if ((((*(int *)((int)this + 0x1264) != -1) &&
           (iVar11 = FUN_00441720(this,*(int *)((int)this + 0x1264),*(int *)((int)this + 0x3f4),1),
           iVar11 == 1)) && (iVar11 = *(int *)((int)this + 0x1264), iVar11 != -1)) ||
         (iVar11 = FUN_004415b0(this,2,*(int *)((int)this + 0x3f4),1), iVar11 != -1)) {
        iVar7 = iVar11;
        pvVar6 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
        iVar7 = FUN_004299e0(pvVar6,iVar7);
        iVar7 = FUN_00434cd0(iVar7);
        bVar1 = FUN_00413e00(*(int *)((int)this + 0x1bc),*(int *)(iVar7 + 0xec));
        if (CONCAT31(extraout_var,bVar1) == 0) {
          pvVar6 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
          iVar11 = FUN_004299e0(pvVar6,iVar11);
          iVar11 = FUN_00434cd0(iVar11);
          FUN_00417a60(0,iVar11);
        }
        else {
          FUN_00417e70((int)&uStack_13c);
          uStack_134 = *(undefined4 *)((int)this + 4);
          uStack_12c = *(undefined4 *)((int)this + 0x1b4);
          uStack_128 = *(undefined4 *)((int)this + 0x1b8);
          uStack_c0 = *(undefined4 *)((int)this + 0x34);
          uStack_13c = 0;
          uStack_138 = 0;
          uVar8 = _rand();
          uVar8 = uVar8 & 0x80000003;
          if ((int)uVar8 < 0) {
            uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
          }
          iStack_b4 = uVar8 + 21000;
          uStack_a8 = 0;
          uStack_a4 = 1;
          uStack_a0 = FUN_0044f990((int)this);
          iStack_9c = FUN_00450d90(this,1,2);
          uStack_98 = 0xffffffff;
          iStack_94 = FUN_00450d90(this,1,0);
          uStack_90 = 0xffffffff;
          iStack_8c = FUN_00450d90(this,1,1);
          uStack_1c = 1;
          uStack_130 = 0;
          uStack_14 = 0xffffffff;
          if (*(int *)((int)this + 0x4f4) != 0) {
            uStack_14 = FUN_00467790(*(int *)((int)this + 0x4f4));
          }
          puVar12 = (undefined4 *)((int)this + 0x1dc);
          puVar13 = auStack_104;
          for (iVar7 = 0x11; iVar7 != 0; iVar7 = iVar7 + -1) {
            *puVar13 = *puVar12;
            puVar12 = puVar12 + 1;
            puVar13 = puVar13 + 1;
          }
          FUN_0044fca0(this,aiStack_124);
          pvVar6 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
          iVar11 = FUN_004299e0(pvVar6,iVar11);
          piVar9 = (int *)FUN_00434cd0(iVar11);
          (**(code **)(*piVar9 + 0x14))(&uStack_13c,(int)this + 0x2e0);
          if ((((*(int *)((int)this + 0x4f4) != 0) && (iVar11 = _rand(), iVar11 % 100 < 0x1e)) &&
              (iVar11 = FUN_00467720(*(int *)((int)this + 0x4f4)), iVar11 != 0)) &&
             (iVar11 = FUN_00467550(*(void **)((int)this + 0x4f4),1), iVar11 == 0)) {
            FUN_00452910((int *)this);
            FUN_00450080(this);
          }
          FUN_004456d0(this,0,6,0);
        }
      }
    }
  }
  if (*(int *)((int)this + 0x30c) == 6) {
    if (*(void **)((int)this + 0x4f4) == (void *)0x0) {
      iVar11 = 1;
    }
    else {
      iVar11 = FUN_00466110(*(void **)((int)this + 0x4f4),4);
      if (iVar11 == -1) goto LAB_0043637b;
    }
    FUN_004456d0(this,0,iVar11,0);
  }
LAB_0043637b:
  iVar11 = *(int *)((int)this + 0x308);
  if (iStack_190 <= iVar11) {
    iVar11 = iVar11 - iStack_190;
    local_198 = local_194;
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x340));
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,local_194);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,*(long *)((int)this + 0x31c));
    iStack_190 = (int)sVar2;
  }
  if (iStack_190 <= iVar11) {
    iVar11 = iStack_190 + -1;
  }
  iVar7 = FUN_00456210(DAT_0048ce04);
  if (iVar7 == *(int *)((int)this + 0x458)) {
    uVar8 = *(uint *)((int)this + 0x1588) & 0x80000001;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
    }
    psVar18 = *(short **)((int)this + 0x338);
    psVar17 = *(short **)((int)this + 0x334);
    iVar7 = (-(uint)(uVar8 != 0) & 2) - 1;
    lVar25 = 1000;
    lVar24 = 1000;
    lVar23 = 1000;
    lVar19 = *(long *)((int)this + 0xc);
    pRVar22 = (RKC_RPGSCRN_RECT *)0x0;
    lVar21 = 1000;
    lVar20 = 0;
    psVar16 = *(short **)((int)this + 0x330);
    piVar9 = *(int **)((int)this + 0x32c);
    pRVar15 = (RKC_RPGSCRN_RECT *)((int)this + 0x2e8);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)this + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)this + 0x340),local_198,*(long *)((int)this + 0x31c),
               iVar11,*(int *)((int)this + 0x2e0) + iVar7 * 10,
               *(int *)((int)this + 0x2e4) + iVar7 * -10,sVar2,pRVar10,pRVar15,piVar9,psVar16,
               psVar17,psVar18,lVar19,lVar20,lVar21,pRVar22,lVar23,lVar24,lVar25);
  }
  if ((local_198 == local_194) && (iVar11 == iStack_190 + -1)) {
    *(undefined4 *)((int)this + 0x318) = 1;
    *(undefined4 *)((int)this + 0x2dc) = 0;
    *(undefined4 *)((int)this + 0x314) = 0;
  }
  *(undefined4 *)((int)this + 0x310) = *(undefined4 *)((int)this + 0x308);
  return 0;
}



/*
 * Function: FUN_004364e0
 * Address: 004364e0
 */

undefined4
FUN_004364e0(int param_1,long param_2,int param_3,int param_4,undefined4 param_5,undefined4 param_6,
            undefined4 param_7,undefined4 param_8,undefined4 param_9,undefined4 param_10,
            undefined4 param_11,undefined4 param_12,undefined4 param_13,undefined4 param_14,
            undefined4 param_15,undefined4 param_16,undefined4 param_17,undefined4 param_18,
            undefined4 param_19,int param_20,undefined4 param_21,int param_22,int param_23,
            undefined4 param_24,undefined4 param_25,undefined4 param_26,undefined4 param_27,
            undefined4 param_28,int param_29,undefined4 param_30,int param_31,int param_32)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  int iVar4;
  RKC_RPGSCRN_CHARANIM *pRVar5;
  RKC_RPGSCRN_CHARANIMCHART *pRVar6;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  void *pvVar7;
  int iVar8;
  undefined3 extraout_var;
  uint uVar9;
  int *piVar10;
  int iVar11;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar12;
  int *this_01;
  int *piVar13;
  int iVar14;
  int *piVar15;
  longlong lVar16;
  undefined1 unaff_retaddr;
  long lVar17;
  int in_stack_000000e8;
  int in_stack_000000f4;
  undefined4 in_stack_00000100;
  undefined4 in_stack_00000104;
  uint in_stack_00000108;
  undefined4 in_stack_0000010c;
  undefined4 in_stack_00000110;
  int in_stack_00000114;
  undefined4 in_stack_00000118;
  int in_stack_0000011c;
  undefined4 in_stack_0000018c;
  undefined4 in_stack_00000194;
  int in_stack_00004fc4;
  int iVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  short *psVar20;
  short *psVar21;
  short *psVar22;
  long lVar23;
  RKC_RPGSCRN_RECT *pRVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  
  FUN_00467f60(unaff_retaddr);
  bVar1 = false;
  param_5 = 0x9999999a;
  param_6 = 0x3fe99999;
  param_7 = 0xcccccccd;
  param_8 = 0x3feccccc;
  param_9 = 0;
  param_10 = 0x3ff00000;
  param_11 = 0x9999999a;
  param_12 = 0x3ff19999;
  param_13 = 0x33333333;
  param_14 = 0x3ff33333;
  param_15 = 0xcccccccd;
  param_16 = 0x3ff4cccc;
  param_17 = 0x66666666;
  param_18 = 0x3ff66666;
  param_19 = 0;
  param_20 = 0x3ff80000;
  param_21 = 0x9999999a;
  param_22 = 0x3ff99999;
  param_23 = 0x33333333;
  param_24 = 0x3ffb3333;
  FUN_00450c60((int)this_01);
  iVar18 = in_stack_00004fc4;
  if (this_01[0xc5] == in_stack_00004fc4 + 0xb) {
    this_01[0xc3] = this_01[0xc3] + 1;
    lVar16 = __ftol();
    this_01[0xc2] = (int)lVar16;
  }
  else {
    this_01[0xc5] = in_stack_00004fc4 + 0xb;
    this_01[0xc6] = in_stack_00004fc4 + 0xe;
    this_01[0x49c] = this_01[199];
    this_01[0xb7] = 1;
    this_01[0xc2] = 0;
    this_01[0xc4] = -1;
    this_01[0xc3] = 0;
    this_01[0x584] = 0;
    this_01[0x585] = 0;
    iVar4 = FUN_004140f0(this_01[0x49a],this_01[0x49b]);
    this_01[199] = iVar4;
    FUN_00452bc0(this_01,(int *)0x0,1);
  }
  if (in_stack_00004fc4 == 0) {
    param_2 = 5;
    lVar17 = 6;
  }
  else if (in_stack_00004fc4 == 1) {
    param_2 = 0xf;
    lVar17 = 0x10;
  }
  else {
    param_2 = 0x13;
    lVar17 = 0x14;
  }
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,this_01[0xd0]);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,param_2);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,this_01[199]);
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,this_01[0xd0]);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,lVar17);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,this_01[199]);
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,this_01[0xd0]);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,param_2);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,this_01[199]);
  iVar4 = (int)sVar2;
  iVar8 = iVar4;
  if ((((this_01[0xc2] < iVar4) && (this_01[0xc2] != this_01[0xc4])) &&
      (this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar6,this_01[199],0),
      this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar14 = this_01[0xc4] + 1, iVar14 <= this_01[0xc2])) {
    do {
      iVar4 = iVar8;
      this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,iVar14);
      if ((this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar14 = iVar14 + 1;
      iVar8 = iVar4;
    } while (iVar14 <= this_01[0xc2]);
    if (bVar1) {
      this_01[0x584] = 1;
    }
  }
  if ((this_01[0x584] == 0) && (this_01[0x585] < 0x3d)) {
    param_3 = this_01[0xb8];
    param_4 = this_01[0xb9];
    piVar13 = this_01 + 0xb8;
    FUN_004140a0(piVar13,*(double *)(this_01 + 0x49a),this_01[0x585],&param_25);
    FUN_00414990(this_01[0x116],this_01[1],piVar13,this_01 + 0xba,&param_25,&param_3,0,0,0xff,0);
    *piVar13 = param_3;
    this_01[0xb9] = param_4;
    this_01[0x585] = this_01[0x585] + 10;
  }
  if (bVar1) {
    if (this_01[10] == 1) {
      lVar17 = 0x60;
    }
    else {
      lVar17 = 99;
    }
    FUN_004456d0(this_01,0,lVar17,0);
    iVar14 = FUN_004415b0(this_01,2,this_01[0xfd],1);
    if ((iVar14 != -1) &&
       (param_1 = FUN_004417f0(this_01,2,this_01[0xfd],1,(undefined4 *)&stack0x000001a0,0),
       0 < param_1)) {
      piVar13 = (int *)&stack0x000001a0;
      iVar4 = iVar8;
      do {
        iVar8 = *piVar13;
        pvVar7 = (void *)FUN_00427aa0(this_01[0x116]);
        iVar8 = FUN_004299e0(pvVar7,iVar8);
        iVar8 = FUN_00434cd0(iVar8);
        bVar1 = FUN_00413e00(this_01[0x6f],*(int *)(iVar8 + 0xec));
        if (CONCAT31(extraout_var,bVar1) == 0) {
          iVar8 = *piVar13;
          pvVar7 = (void *)FUN_00427aa0(this_01[0x116]);
          iVar8 = FUN_004299e0(pvVar7,iVar8);
          iVar8 = FUN_00434cd0(iVar8);
          FUN_00417a60(0,iVar8);
        }
        else {
          FUN_00417e70((int)&param_27);
          param_29 = this_01[1];
          param_31 = this_01[0x6d];
          param_32 = this_01[0x6e];
          in_stack_000000e8 = this_01[0xd];
          param_27 = 0;
          param_28 = 0;
          uVar9 = _rand();
          uVar9 = uVar9 & 0x80000003;
          if ((int)uVar9 < 0) {
            uVar9 = (uVar9 - 1 | 0xfffffffc) + 1;
          }
          in_stack_000000f4 = uVar9 + 21000;
          in_stack_00000100 = 0;
          in_stack_00000104 = 1;
          in_stack_00000108 = FUN_0044f990((int)this_01);
          in_stack_0000010c = 1;
          in_stack_00000110 = 0xffffffff;
          in_stack_00000114 = FUN_00450d90(this_01,1,0);
          in_stack_00000118 = 0xffffffff;
          in_stack_0000011c = FUN_00450d90(this_01,1,1);
          in_stack_0000018c = 1;
          param_30 = 0;
          in_stack_00000194 = 0xffffffff;
          if (this_01[0x13d] != 0) {
            in_stack_00000194 = FUN_00467790(this_01[0x13d]);
          }
          piVar10 = this_01 + 0x77;
          piVar15 = (int *)&stack0x000000a4;
          for (iVar8 = 0x11; iVar8 != 0; iVar8 = iVar8 + -1) {
            *piVar15 = *piVar10;
            piVar10 = piVar10 + 1;
            piVar15 = piVar15 + 1;
          }
          FUN_0044fca0(this_01,(int *)&stack0x00000084);
          iVar8 = *piVar13;
          pvVar7 = (void *)FUN_00427aa0(this_01[0x116]);
          iVar8 = FUN_004299e0(pvVar7,iVar8);
          piVar10 = (int *)FUN_00434cd0(iVar8);
          (**(code **)(*piVar10 + 0x14))(&param_27,this_01 + 0xb8);
          if ((((this_01[0x13d] != 0) && (iVar8 = _rand(), iVar8 % 100 < 0x1e)) &&
              (iVar8 = FUN_00467720(this_01[0x13d]), iVar8 != 0)) &&
             (iVar8 = FUN_00467550((void *)this_01[0x13d],1), iVar8 == 0)) {
            FUN_00452910(this_01);
            FUN_00450080(this_01);
          }
          FUN_004456d0(this_01,0,6,0);
        }
        piVar13 = piVar13 + 1;
        param_1 = param_1 + -1;
      } while (param_1 != 0);
    }
  }
  if (this_01[0xc3] == 6) {
    if ((void *)this_01[0x13d] == (void *)0x0) {
      iVar8 = 1;
    }
    else {
      iVar8 = FUN_00466110((void *)this_01[0x13d],4);
      if (iVar8 == -1) goto LAB_00436b01;
    }
    FUN_004456d0(this_01,0,iVar8,0);
  }
LAB_00436b01:
  iVar8 = this_01[0xc2];
  if ((iVar4 <= iVar8) && (iVar8 = iVar4 + -1, iVar4 <= iVar8)) {
    iVar8 = iVar4 + -1;
  }
  iVar14 = FUN_00456210(DAT_0048ce04);
  if (iVar14 == this_01[0x116]) {
    uVar9 = this_01[0x562] & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    psVar22 = (short *)this_01[0xce];
    psVar21 = (short *)this_01[0xcd];
    iVar11 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar27 = 1000;
    lVar26 = 1000;
    lVar25 = 1000;
    iVar14 = this_01[3];
    pRVar24 = (RKC_RPGSCRN_RECT *)0x0;
    lVar23 = 1000;
    lVar17 = 0;
    psVar20 = (short *)this_01[0xcc];
    piVar13 = (int *)this_01[0xcb];
    pRVar19 = (RKC_RPGSCRN_RECT *)(this_01 + 0xba);
    pRVar12 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)this_01[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,this_01[0xd0],param_2,this_01[199],iVar8,this_01[0xb8] + iVar11 * 10,
               this_01[0xb9] + iVar11 * -10,sVar2,pRVar12,pRVar19,piVar13,psVar20,psVar21,psVar22,
               iVar14,lVar17,lVar23,pRVar24,lVar25,lVar26,lVar27);
  }
  if (iVar8 == iVar4 + -1) {
    this_01[0xc3] = 0;
    this_01[0xc5] = iVar18 + 0xe;
    this_01[0xc6] = 0;
  }
  this_01[0xc4] = this_01[0xc2];
  return 0;
}



/*
 * Function: FUN_00436c20
 * Address: 00436c20
 */

undefined4
FUN_00436c20(int param_1,undefined4 param_2,int param_3,int param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined4 param_9,
            undefined4 param_10,undefined4 param_11,undefined4 param_12,undefined4 param_13,
            undefined4 param_14,undefined4 param_15,undefined4 param_16,undefined4 param_17,
            undefined4 param_18,undefined4 param_19,undefined4 param_20,undefined4 param_21,
            undefined4 param_22,undefined4 param_23,undefined4 param_24,int param_25,
            undefined4 param_26,int param_27,int param_28,int param_29,undefined4 param_30,
            int param_31,int param_32)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  void *pvVar4;
  undefined3 extraout_var;
  uint uVar5;
  int *piVar6;
  int iVar7;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar8;
  int *this_03;
  int iVar9;
  int *piVar10;
  int iVar11;
  int *piVar12;
  longlong lVar13;
  undefined1 unaff_retaddr;
  int iVar14;
  int in_stack_000000e8;
  int in_stack_000000f4;
  undefined4 in_stack_00000100;
  undefined4 in_stack_00000104;
  uint in_stack_00000108;
  undefined4 in_stack_0000010c;
  undefined4 in_stack_00000110;
  int in_stack_00000114;
  undefined4 in_stack_00000118;
  int in_stack_0000011c;
  undefined4 in_stack_0000018c;
  undefined4 in_stack_00000194;
  int in_stack_00004fc4;
  int iVar15;
  RKC_RPGSCRN_RECT *pRVar16;
  short *psVar17;
  short *psVar18;
  short *psVar19;
  long lVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  long lVar25;
  
  FUN_00467f60(unaff_retaddr);
  iVar14 = 0;
  param_5 = 0x9999999a;
  param_6 = 0x3fe99999;
  param_7 = 0xcccccccd;
  param_8 = 0x3feccccc;
  param_9 = 0;
  param_10 = 0x3ff00000;
  param_11 = 0x9999999a;
  param_12 = 0x3ff19999;
  param_13 = 0x33333333;
  param_14 = 0x3ff33333;
  param_15 = 0xcccccccd;
  param_16 = 0x3ff4cccc;
  param_17 = 0x66666666;
  param_18 = 0x3ff66666;
  param_19 = 0;
  param_20 = 0x3ff80000;
  param_21 = 0x9999999a;
  param_22 = 0x3ff99999;
  param_23 = 0x33333333;
  param_24 = 0x3ffb3333;
  FUN_00450c60((int)this_03);
  if ((this_03[0xc3] == 0) || (this_03[0xc5] != in_stack_00004fc4 + 0xe)) {
    this_03[0xc5] = in_stack_00004fc4 + 0xe;
    this_03[0xb7] = 1;
    if (in_stack_00004fc4 != 2) {
      this_03[0xc6] = in_stack_00004fc4 + 0x11;
    }
    this_03[0xc3] = 0;
    this_03[0x49c] = this_03[199];
    this_03[0xc2] = 0;
    this_03[0xc4] = -1;
    this_03[0x584] = 0;
    this_03[0x585] = 0;
  }
  param_1 = this_03[0xc3];
  iVar15 = in_stack_00004fc4;
  lVar13 = __ftol();
  this_03[0xc2] = (int)lVar13;
  this_03[0xc3] = param_1 + 1;
  if (in_stack_00004fc4 == 0) {
    param_1 = 7;
  }
  else if (in_stack_00004fc4 == 1) {
    param_1 = 0x11;
  }
  this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,this_03[0xd0]);
  this_00 = RKC_RPGSCRN_CHARANIM::Get(this,param_1);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,this_03[199]);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,this_03[199]);
  iVar9 = (int)sVar2;
  if ((((this_03[0xc2] < iVar9) && (this_03[0xc2] != this_03[0xc4])) &&
      (this_01 = RKC_RPGSCRN_CHARANIMCHART::Get(this_00,this_03[199],0),
      this_01 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar11 = this_03[0xc4] + 1, iVar11 <= this_03[0xc2])) {
    do {
      this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_01,iVar11);
      if ((this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02), (uVar3 & 0x40) != 0)) {
        iVar14 = 1;
      }
      iVar11 = iVar11 + 1;
    } while (iVar11 <= this_03[0xc2]);
    if (iVar14 == 1) {
      this_03[0x584] = 1;
    }
  }
  if ((this_03[0x584] == 0) && (this_03[0x585] < 0x3d)) {
    param_3 = this_03[0xb8];
    piVar10 = this_03 + 0xb8;
    param_4 = this_03[0xb9];
    FUN_004140a0(piVar10,*(double *)(this_03 + 0x49a),this_03[0x585],&param_25);
    FUN_00414990(this_03[0x116],this_03[1],piVar10,this_03 + 0xba,&param_25,&param_3,0,0,0xff,0);
    *piVar10 = param_3;
    this_03[0xb9] = param_4;
    this_03[0x585] = this_03[0x585] + 10;
  }
  if (iVar14 == 1) {
    if (this_03[10] == 1) {
      lVar23 = 0x61;
    }
    else {
      lVar23 = 100;
    }
    FUN_004456d0(this_03,0,lVar23,0);
    iVar14 = FUN_004417f0(this_03,2,this_03[0xfd],1,(undefined4 *)&stack0x000001a0,0);
    if (0 < iVar14) {
      piVar10 = (int *)&stack0x000001a0;
      do {
        iVar11 = *piVar10;
        pvVar4 = (void *)FUN_00427aa0(this_03[0x116]);
        iVar11 = FUN_004299e0(pvVar4,iVar11);
        iVar11 = FUN_00434cd0(iVar11);
        bVar1 = FUN_00413e00(this_03[0x6f],*(int *)(iVar11 + 0xec));
        if (CONCAT31(extraout_var,bVar1) == 0) {
          iVar11 = *piVar10;
          pvVar4 = (void *)FUN_00427aa0(this_03[0x116]);
          iVar11 = FUN_004299e0(pvVar4,iVar11);
          iVar11 = FUN_00434cd0(iVar11);
          FUN_00417a60(0,iVar11);
        }
        else {
          FUN_00417e70((int)&param_27);
          param_29 = this_03[1];
          param_31 = this_03[0x6d];
          param_32 = this_03[0x6e];
          in_stack_000000e8 = this_03[0xd];
          param_27 = 0;
          param_28 = 0;
          uVar5 = _rand();
          uVar5 = uVar5 & 0x80000003;
          if ((int)uVar5 < 0) {
            uVar5 = (uVar5 - 1 | 0xfffffffc) + 1;
          }
          in_stack_000000f4 = uVar5 + 21000;
          in_stack_00000100 = 0;
          in_stack_00000104 = 1;
          in_stack_00000108 = FUN_0044f990((int)this_03);
          in_stack_0000010c = 1;
          in_stack_00000110 = 0xffffffff;
          in_stack_00000114 = FUN_00450d90(this_03,1,0);
          in_stack_00000118 = 0xffffffff;
          in_stack_0000011c = FUN_00450d90(this_03,1,1);
          in_stack_0000018c = 1;
          param_30 = 0;
          in_stack_00000194 = 0xffffffff;
          if (this_03[0x13d] != 0) {
            in_stack_00000194 = FUN_00467790(this_03[0x13d]);
          }
          piVar6 = this_03 + 0x77;
          piVar12 = (int *)&stack0x000000a4;
          for (iVar11 = 0x11; iVar11 != 0; iVar11 = iVar11 + -1) {
            *piVar12 = *piVar6;
            piVar6 = piVar6 + 1;
            piVar12 = piVar12 + 1;
          }
          FUN_0044fca0(this_03,(int *)&stack0x00000084);
          iVar11 = *piVar10;
          pvVar4 = (void *)FUN_00427aa0(this_03[0x116]);
          iVar11 = FUN_004299e0(pvVar4,iVar11);
          piVar6 = (int *)FUN_00434cd0(iVar11);
          (**(code **)(*piVar6 + 0x14))(&param_27,this_03 + 0xb8);
          if ((((this_03[0x13d] != 0) && (iVar11 = _rand(), iVar11 % 100 < 0x1e)) &&
              (iVar11 = FUN_00467720(this_03[0x13d]), iVar11 != 0)) &&
             (iVar11 = FUN_00467550((void *)this_03[0x13d],1), iVar11 == 0)) {
            FUN_00452910(this_03);
            FUN_00450080(this_03);
          }
          FUN_004456d0(this_03,0,6,0);
        }
        piVar10 = piVar10 + 1;
        iVar14 = iVar14 + -1;
      } while (iVar14 != 0);
    }
  }
  if (this_03[0xc3] == 6) {
    if ((void *)this_03[0x13d] == (void *)0x0) {
      iVar14 = 1;
    }
    else {
      iVar14 = FUN_00466110((void *)this_03[0x13d],4);
      if (iVar14 == -1) goto LAB_00437197;
    }
    FUN_004456d0(this_03,0,iVar14,0);
  }
LAB_00437197:
  iVar14 = this_03[0xc2];
  if ((iVar9 <= iVar14) && (iVar14 = iVar9 + -1, iVar9 <= iVar14)) {
    iVar14 = iVar9 + -1;
  }
  iVar11 = FUN_00456210(DAT_0048ce04);
  if (iVar11 == this_03[0x116]) {
    uVar5 = this_03[0x562] & 0x80000001;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
    }
    psVar19 = (short *)this_03[0xce];
    psVar18 = (short *)this_03[0xcd];
    iVar7 = (-(uint)(uVar5 != 0) & 2) - 1;
    lVar25 = 1000;
    lVar24 = 1000;
    lVar22 = 1000;
    iVar11 = this_03[3];
    pRVar21 = (RKC_RPGSCRN_RECT *)0x0;
    lVar20 = 1000;
    lVar23 = 0;
    psVar17 = (short *)this_03[0xcc];
    piVar10 = (int *)this_03[0xcb];
    pRVar16 = (RKC_RPGSCRN_RECT *)(this_03 + 0xba);
    pRVar8 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)this_03[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,this_03[0xd0],param_1,this_03[199],iVar14,this_03[0xb8] + iVar7 * 10,
               this_03[0xb9] + iVar7 * -10,sVar2,pRVar8,pRVar16,piVar10,psVar17,psVar18,psVar19,
               iVar11,lVar23,lVar20,pRVar21,lVar22,lVar24,lVar25);
  }
  this_03[0xc4] = this_03[0xc2];
  if (iVar14 == iVar9 + -1) {
    this_03[0xc3] = 0;
    this_03[0xc5] = iVar15 + 0x11;
    this_03[0xc6] = 0;
  }
  return 0;
}



/*
 * Function: FUN_004372b0
 * Address: 004372b0
 */

undefined4
FUN_004372b0(undefined4 param_1,int param_2,int param_3,int param_4,undefined4 param_5,
            undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined4 param_9,
            undefined4 param_10,undefined4 param_11,undefined4 param_12,undefined4 param_13,
            undefined4 param_14,undefined4 param_15,undefined4 param_16,undefined4 param_17,
            undefined4 param_18,undefined4 param_19,undefined4 param_20,undefined4 param_21,
            undefined4 param_22,undefined4 param_23,undefined4 param_24,undefined4 param_25,
            int param_26,undefined4 param_27,int param_28,int param_29,undefined4 param_30,
            int param_31,int param_32)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  void *pvVar4;
  undefined3 extraout_var;
  uint uVar5;
  int *piVar6;
  int iVar7;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar8;
  int *this_03;
  int *piVar9;
  int iVar10;
  int *piVar11;
  longlong lVar12;
  undefined1 unaff_retaddr;
  int iVar13;
  int in_stack_000000e8;
  int in_stack_000000f4;
  undefined4 in_stack_00000100;
  undefined4 in_stack_00000104;
  uint in_stack_00000108;
  int in_stack_0000010c;
  undefined4 in_stack_00000110;
  int in_stack_00000114;
  undefined4 in_stack_00000118;
  int in_stack_0000011c;
  undefined4 in_stack_0000018c;
  undefined4 in_stack_00000194;
  int in_stack_00004fc4;
  RKC_RPGSCRN_RECT *pRVar14;
  short *psVar15;
  short *psVar16;
  short *psVar17;
  long lVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  long lVar23;
  
  FUN_00467f60(unaff_retaddr);
  iVar13 = 0;
  param_5 = 0x9999999a;
  param_6 = 0x3fe99999;
  param_7 = 0xcccccccd;
  param_8 = 0x3feccccc;
  param_9 = 0;
  param_10 = 0x3ff00000;
  param_11 = 0x9999999a;
  param_12 = 0x3ff19999;
  param_13 = 0x33333333;
  param_14 = 0x3ff33333;
  param_15 = 0xcccccccd;
  param_16 = 0x3ff4cccc;
  param_17 = 0x66666666;
  param_18 = 0x3ff66666;
  param_19 = 0;
  param_20 = 0x3ff80000;
  param_21 = 0x9999999a;
  param_22 = 0x3ff99999;
  param_23 = 0x33333333;
  param_24 = 0x3ffb3333;
  FUN_00450c60((int)this_03);
  if ((this_03[0xc3] == 0) || (this_03[0xc5] != in_stack_00004fc4 + 0x11)) {
    this_03[0xc5] = in_stack_00004fc4 + 0x11;
    this_03[0xb7] = 1;
    this_03[0xc3] = 0;
    this_03[0xc2] = 0;
    this_03[0xc4] = -1;
    this_03[199] = this_03[0x49c];
    this_03[0x584] = 0;
    this_03[0x585] = 0;
  }
  iVar10 = this_03[0xc3];
  lVar12 = __ftol();
  this_03[0xc2] = (int)lVar12;
  this_03[0xc3] = iVar10 + 1;
  iVar10 = (-(uint)(in_stack_00004fc4 != 0) & 10) + 8;
  param_4 = iVar10;
  this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,this_03[0xd0]);
  this_00 = RKC_RPGSCRN_CHARANIM::Get(this,iVar10);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,this_03[199]);
  if (((this_03[0xc2] != this_03[0xc4]) &&
      (this_01 = RKC_RPGSCRN_CHARANIMCHART::Get(this_00,this_03[199],0),
      this_01 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar10 = this_03[0xc4] + 1, iVar10 <= this_03[0xc2])) {
    do {
      this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_01,iVar10);
      if ((this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02), (uVar3 & 0x40) != 0)) {
        iVar13 = 1;
      }
      iVar10 = iVar10 + 1;
    } while (iVar10 <= this_03[0xc2]);
    if (iVar13 == 1) {
      this_03[0x584] = 1;
    }
  }
  if ((this_03[0x584] == 0) && (this_03[0x585] < 0x3d)) {
    param_2 = this_03[0xb8];
    param_3 = this_03[0xb9];
    piVar9 = this_03 + 0xb8;
    FUN_004140a0(piVar9,*(double *)(this_03 + 0x49a),this_03[0x585],&param_25);
    FUN_00414990(this_03[0x116],this_03[1],piVar9,this_03 + 0xba,&param_25,&param_2,0,0,0xff,0);
    *piVar9 = param_2;
    this_03[0xb9] = param_3;
    this_03[0x585] = this_03[0x585] + 10;
  }
  if (iVar13 == 1) {
    if (this_03[10] == 1) {
      lVar21 = 0x62;
    }
    else {
      lVar21 = 0x65;
    }
    FUN_004456d0(this_03,0,lVar21,0);
    iVar13 = FUN_004417f0(this_03,2,this_03[0xfd],1,(undefined4 *)&stack0x000001a0,0);
    if (0 < iVar13) {
      piVar9 = (int *)&stack0x000001a0;
      do {
        iVar10 = *piVar9;
        pvVar4 = (void *)FUN_00427aa0(this_03[0x116]);
        iVar10 = FUN_004299e0(pvVar4,iVar10);
        iVar10 = FUN_00434cd0(iVar10);
        bVar1 = FUN_00413e00(this_03[0x6f],*(int *)(iVar10 + 0xec));
        if (CONCAT31(extraout_var,bVar1) == 0) {
          iVar10 = *piVar9;
          pvVar4 = (void *)FUN_00427aa0(this_03[0x116]);
          iVar10 = FUN_004299e0(pvVar4,iVar10);
          iVar10 = FUN_00434cd0(iVar10);
          FUN_00417a60(0,iVar10);
        }
        else {
          FUN_00417e70((int)&param_27);
          param_29 = this_03[1];
          param_31 = this_03[0x6d];
          param_32 = this_03[0x6e];
          in_stack_000000e8 = this_03[0xd];
          param_27 = 0;
          param_28 = 1;
          uVar5 = _rand();
          uVar5 = uVar5 & 0x80000003;
          if ((int)uVar5 < 0) {
            uVar5 = (uVar5 - 1 | 0xfffffffc) + 1;
          }
          in_stack_000000f4 = uVar5 + 21000;
          in_stack_00000100 = 0;
          in_stack_00000104 = 1;
          in_stack_00000108 = FUN_0044f990((int)this_03);
          in_stack_0000010c = FUN_00450d90(this_03,1,2);
          in_stack_00000110 = 0xffffffff;
          in_stack_00000114 = FUN_00450d90(this_03,1,0);
          in_stack_00000118 = 0xffffffff;
          in_stack_0000011c = FUN_00450d90(this_03,1,1);
          in_stack_0000018c = 1;
          param_30 = 0;
          in_stack_00000194 = 0xffffffff;
          if (this_03[0x13d] != 0) {
            in_stack_00000194 = FUN_00467790(this_03[0x13d]);
          }
          piVar6 = this_03 + 0x77;
          piVar11 = (int *)&stack0x000000a4;
          for (iVar10 = 0x11; iVar10 != 0; iVar10 = iVar10 + -1) {
            *piVar11 = *piVar6;
            piVar6 = piVar6 + 1;
            piVar11 = piVar11 + 1;
          }
          FUN_0044fca0(this_03,(int *)&stack0x00000084);
          iVar10 = *piVar9;
          pvVar4 = (void *)FUN_00427aa0(this_03[0x116]);
          iVar10 = FUN_004299e0(pvVar4,iVar10);
          piVar6 = (int *)FUN_00434cd0(iVar10);
          (**(code **)(*piVar6 + 0x14))(&param_27,this_03 + 0xb8);
          if ((((this_03[0x13d] != 0) && (iVar10 = _rand(), iVar10 % 100 < 0x1e)) &&
              (iVar10 = FUN_00467720(this_03[0x13d]), iVar10 != 0)) &&
             (iVar10 = FUN_00467550((void *)this_03[0x13d],1), iVar10 == 0)) {
            FUN_00452910(this_03);
            FUN_00450080(this_03);
          }
          FUN_004456d0(this_03,0,6,0);
        }
        piVar9 = piVar9 + 1;
        iVar13 = iVar13 + -1;
      } while (iVar13 != 0);
    }
  }
  if (this_03[0xc3] == 6) {
    if ((void *)this_03[0x13d] == (void *)0x0) {
      iVar13 = 1;
    }
    else {
      iVar13 = FUN_00466110((void *)this_03[0x13d],4);
      if (iVar13 == -1) goto LAB_004377f6;
    }
    FUN_004456d0(this_03,0,iVar13,0);
  }
LAB_004377f6:
  iVar13 = sVar2 + -1;
  if (iVar13 < this_03[0xc2]) {
    this_03[0xc2] = iVar13;
  }
  iVar10 = FUN_00456210(DAT_0048ce04);
  if (iVar10 == this_03[0x116]) {
    uVar5 = this_03[0x562] & 0x80000001;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
    }
    iVar10 = this_03[3];
    psVar17 = (short *)this_03[0xce];
    lVar23 = 1000;
    lVar22 = 1000;
    iVar7 = (-(uint)(uVar5 != 0) & 2) - 1;
    lVar20 = 1000;
    pRVar19 = (RKC_RPGSCRN_RECT *)0x0;
    lVar18 = 1000;
    psVar16 = (short *)this_03[0xcd];
    lVar21 = 0;
    psVar15 = (short *)this_03[0xcc];
    piVar9 = (int *)this_03[0xcb];
    pRVar14 = (RKC_RPGSCRN_RECT *)(this_03 + 0xba);
    pRVar8 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)this_03[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,this_03[0xd0],param_4,this_03[199],this_03[0xc2],
               this_03[0xb8] + iVar7 * 10,this_03[0xb9] + iVar7 * -10,sVar2,pRVar8,pRVar14,piVar9,
               psVar15,psVar16,psVar17,iVar10,lVar21,lVar18,pRVar19,lVar20,lVar22,lVar23);
  }
  this_03[0xc4] = this_03[0xc2];
  if (this_03[0xc2] == iVar13) {
    this_03[0xb7] = 0;
    this_03[0xc6] = 1;
    this_03[0xc5] = 0;
  }
  return 0;
}



/*
 * Function: FUN_00437910
 * Address: 00437910
 */

undefined4
FUN_00437910(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
            undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
            undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
            undefined4 param_17,undefined4 param_18,undefined4 param_19,undefined4 param_20,
            undefined4 param_21,undefined4 param_22,undefined4 param_23,undefined4 param_24,
            undefined4 param_25,undefined4 param_26,undefined4 param_27,undefined4 param_28,
            undefined4 param_29,undefined4 param_30,undefined4 param_31,int param_32,
            undefined4 param_33,int param_34)

{
  short sVar1;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *pRVar2;
  int iVar3;
  int iVar4;
  void *pvVar5;
  int iVar6;
  undefined3 extraout_var;
  uint uVar7;
  int *piVar8;
  int iVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int *this_00;
  uint uVar11;
  int iVar12;
  int *piVar13;
  int *piVar14;
  bool bVar15;
  longlong lVar16;
  undefined3 in_stack_00000011;
  undefined3 in_stack_00000015;
  undefined3 in_stack_00000019;
  undefined4 in_stack_00000094;
  undefined4 in_stack_00000098;
  int in_stack_0000009c;
  undefined4 in_stack_000000a0;
  int in_stack_000000a4;
  int in_stack_000000a8;
  int in_stack_00000110;
  int in_stack_0000011c;
  undefined4 in_stack_00000128;
  undefined4 in_stack_0000012c;
  uint in_stack_00000130;
  undefined4 in_stack_00000134;
  undefined4 in_stack_00000138;
  undefined4 in_stack_0000013c;
  undefined4 in_stack_00000140;
  int in_stack_00000144;
  undefined4 in_stack_000001b4;
  undefined4 in_stack_000001bc;
  RKC_RPGSCRN_RECT *pRVar17;
  int *piVar18;
  short *psVar19;
  short *psVar20;
  short *psVar21;
  long lVar22;
  long lVar23;
  RKC_RPGSCRN_RECT *pRVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  undefined1 in_stack_fffffff8;
  
  FUN_00467f60(in_stack_fffffff8);
  param_15 = 0x33333333;
  param_16 = 0x3fe33333;
  param_17 = 0x66666666;
  param_18 = 0x3fe66666;
  param_19 = 0x9999999a;
  param_20 = 0x3fe99999;
  param_21 = 0xcccccccd;
  param_22 = 0x3feccccc;
  param_23 = 0;
  param_24 = 0x3ff00000;
  param_25 = 0x9999999a;
  param_26 = 0x3ff19999;
  param_27 = 0x33333333;
  param_28 = 0x3ff33333;
  param_29 = 0xcccccccd;
  param_30 = 0x3ff4cccc;
  param_31 = 0x66666666;
  param_32 = 0x3ff66666;
  param_33 = 0;
  param_34 = 0x3ff80000;
  param_7 = 8;
  param_8 = 0;
  param_9 = 1;
  param_10 = 2;
  param_11 = 3;
  param_12 = 4;
  param_13 = 5;
  param_14 = 6;
  FUN_00450c60((int)this_00);
  if (this_00[0xc5] == 0xd) {
    this_00[0xc3] = this_00[0xc3] + 1;
    lVar16 = __ftol();
    this_00[0xc2] = (int)lVar16;
  }
  else {
    this_00[0xc5] = 0xd;
    this_00[0xb7] = 1;
    this_00[0xc2] = 0;
    this_00[0xc4] = -1;
    this_00[0xc3] = 0;
    FUN_00452bc0(this_00,(int *)0x0,1);
  }
  this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,this_00[0xd0]);
  pRVar2 = RKC_RPGSCRN_CHARANIM::Get(this,0x15);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar2,this_00[199]);
  iVar12 = (int)sVar1;
  pRVar2 = RKC_RPGSCRN_CHARANIM::Get(this,0x16);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar2,8);
  iVar3 = (int)sVar1;
  pRVar2 = RKC_RPGSCRN_CHARANIM::Get(this,0x17);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar2,this_00[199]);
  iVar4 = this_00[0xc2];
  _param_6 = (int)sVar1;
  if (iVar4 < iVar12) {
    _param_1 = 0x15;
    _param_3 = iVar4;
  }
  else if (iVar4 < iVar3 * 3 + iVar12) {
    _param_1 = 0x16;
    _param_3 = (((&param_7)[this_00[199]] - iVar12) + iVar4) % iVar3;
  }
  else {
    iVar6 = _param_6 + iVar3 * 3 + iVar12;
    if (iVar6 <= iVar4) {
      this_00[0xc2] = iVar6 + -1;
    }
    iVar4 = this_00[0xc2];
    _param_1 = 0x17;
    _param_3 = (iVar4 + iVar3 * -3) - iVar12;
  }
  if ((iVar12 <= iVar4) && (iVar4 <= iVar12 + iVar3 * 3)) {
    uVar7 = this_00[0xc3];
    uVar11 = uVar7 & 0x80000007;
    bVar15 = uVar11 == 0;
    if ((int)uVar11 < 0) {
      bVar15 = (uVar11 - 1 | 0xfffffff8) == 0xffffffff;
    }
    if (bVar15) {
      if ((void *)this_00[0x13d] == (void *)0x0) {
        FUN_004456d0(this_00,0,1,0);
      }
      else {
        iVar4 = FUN_00466110((void *)this_00[0x13d],4);
        if (iVar4 != -1) {
          FUN_004456d0(this_00,0,iVar4,0);
        }
      }
    }
    _param_4 = this_00[0xb8];
    _param_5 = this_00[0xb9];
    piVar18 = this_00 + 0xb8;
    FUN_004140a0(piVar18,*(double *)(this_00 + 0x49a),0x1e,(int *)&stack0x0000008c);
    FUN_00414990(this_00[0x116],this_00[1],piVar18,this_00 + 0xba,(int *)&stack0x0000008c,
                 (int *)&param_4,0,0,0xff,0);
    *piVar18 = _param_4;
    this_00[0xb9] = _param_5;
    if (((int)uVar7 % 6 == 0) &&
       (iVar4 = FUN_004417f0(this_00,2,this_00[0xfd],1,(undefined4 *)&stack0x000001c8,1), 0 < iVar4)
       ) {
      piVar13 = (int *)&stack0x000001c8;
      do {
        iVar6 = *piVar13;
        pvVar5 = (void *)FUN_00427aa0(this_00[0x116]);
        iVar6 = FUN_004299e0(pvVar5,iVar6);
        iVar6 = FUN_00434cd0(iVar6);
        bVar15 = FUN_00413e00(this_00[0x6f],*(int *)(iVar6 + 0xec));
        if (CONCAT31(extraout_var,bVar15) == 0) {
          iVar6 = *piVar13;
          pvVar5 = (void *)FUN_00427aa0(this_00[0x116]);
          iVar6 = FUN_004299e0(pvVar5,iVar6);
          iVar6 = FUN_00434cd0(iVar6);
          FUN_00417a60(0,iVar6);
        }
        else {
          FUN_00417e70((int)&stack0x00000094);
          in_stack_0000009c = this_00[1];
          in_stack_000000a4 = this_00[0x6d];
          in_stack_000000a8 = this_00[0x6e];
          in_stack_00000110 = this_00[0xd];
          in_stack_00000094 = 0;
          in_stack_00000098 = 0;
          uVar7 = _rand();
          uVar7 = uVar7 & 0x80000003;
          if ((int)uVar7 < 0) {
            uVar7 = (uVar7 - 1 | 0xfffffffc) + 1;
          }
          in_stack_0000011c = uVar7 + 21000;
          in_stack_00000128 = 0;
          in_stack_0000012c = 1;
          in_stack_00000130 = FUN_0044f990((int)this_00);
          in_stack_00000134 = 0;
          in_stack_00000138 = 0xffffffff;
          in_stack_0000013c = 100;
          in_stack_00000140 = 0xffffffff;
          in_stack_00000144 = FUN_00450d90(this_00,1,1);
          in_stack_00000144 = in_stack_00000144 + 10;
          in_stack_000001b4 = 1;
          in_stack_000000a0 = 0;
          in_stack_000001bc = 0xffffffff;
          if (this_00[0x13d] != 0) {
            in_stack_000001bc = FUN_00467790(this_00[0x13d]);
          }
          piVar8 = this_00 + 0x77;
          piVar14 = (int *)&stack0x000000cc;
          for (iVar6 = 0x11; iVar6 != 0; iVar6 = iVar6 + -1) {
            *piVar14 = *piVar8;
            piVar8 = piVar8 + 1;
            piVar14 = piVar14 + 1;
          }
          FUN_0044fca0(this_00,(int *)&stack0x000000ac);
          iVar6 = *piVar13;
          pvVar5 = (void *)FUN_00427aa0(this_00[0x116]);
          iVar6 = FUN_004299e0(pvVar5,iVar6);
          piVar8 = (int *)FUN_00434cd0(iVar6);
          (**(code **)(*piVar8 + 0x14))(&stack0x00000094,piVar18);
          if ((((this_00[0x13d] != 0) && (iVar6 = _rand(), iVar6 % 100 < 0x1e)) &&
              (iVar6 = FUN_00467720(this_00[0x13d]), iVar6 != 0)) &&
             (iVar6 = FUN_00467550((void *)this_00[0x13d],1), iVar6 == 0)) {
            FUN_00452910(this_00);
            FUN_00450080(this_00);
          }
          FUN_004456d0(this_00,0,6,0);
        }
        piVar13 = piVar13 + 1;
        iVar4 = iVar4 + -1;
      } while (iVar4 != 0);
    }
  }
  iVar4 = FUN_00456210(DAT_0048ce04);
  if (iVar4 == this_00[0x116]) {
    if (_param_1 == 0x16) {
      iVar4 = 8;
    }
    else {
      iVar4 = this_00[199];
    }
    uVar7 = this_00[0x562] & 0x80000001;
    if ((int)uVar7 < 0) {
      uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
    }
    iVar6 = this_00[3];
    psVar21 = (short *)this_00[0xce];
    lVar27 = 1000;
    lVar26 = 1000;
    iVar9 = (-(uint)(uVar7 != 0) & 2) - 1;
    lVar25 = 1000;
    pRVar24 = (RKC_RPGSCRN_RECT *)0x0;
    lVar23 = 1000;
    psVar20 = (short *)this_00[0xcd];
    lVar22 = 0;
    psVar19 = (short *)this_00[0xcc];
    piVar18 = (int *)this_00[0xcb];
    pRVar17 = (RKC_RPGSCRN_RECT *)(this_00 + 0xba);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)this_00[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,this_00[0xd0],_param_1,iVar4,_param_3,this_00[0xb8] + iVar9 * 10,
               this_00[0xb9] + iVar9 * -10,sVar1,pRVar10,pRVar17,piVar18,psVar19,psVar20,psVar21,
               iVar6,lVar22,lVar23,pRVar24,lVar25,lVar26,lVar27);
  }
  if (_param_6 + iVar3 * 3 + -1 + iVar12 <= this_00[0xc2]) {
    this_00[0xb7] = 0;
    this_00[0xc6] = 1;
    this_00[0xc5] = 0;
  }
  this_00[0xc4] = this_00[0xc2];
  return 0;
}



/*
 * Function: FUN_00437fe0
 * Address: 00437fe0
 */

undefined4 __thiscall FUN_00437fe0(void *this,int param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  int iVar4;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_02;
  RKC_RPGSCRN_CHARANIMCELL *this_03;
  void *pvVar5;
  int iVar6;
  undefined4 uVar7;
  double *pdVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  void *pvVar11;
  long lVar12;
  uint uVar13;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar14;
  int iVar15;
  undefined4 *puVar16;
  undefined1 auVar17 [10];
  longlong lVar18;
  void *pvVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  double dVar24;
  double dVar25;
  int *piVar26;
  undefined4 *puVar27;
  undefined4 *puVar28;
  RKC_RPGSCRN_RECT *pRVar29;
  undefined4 uVar30;
  short *psVar31;
  short *psVar32;
  undefined4 uVar33;
  short *psVar34;
  undefined4 uVar35;
  undefined4 uVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  long lVar40;
  undefined4 uVar41;
  RKC_RPGSCRN_RECT *pRVar42;
  undefined4 uVar43;
  long lVar44;
  undefined4 uVar45;
  undefined4 uVar46;
  long lVar47;
  long lVar48;
  double *pdStack_26c;
  void *local_268;
  int iStack_264;
  undefined8 uStack_260;
  int local_258;
  undefined8 local_24c;
  undefined4 local_244;
  undefined4 local_240;
  undefined4 local_23c;
  undefined4 local_238;
  undefined4 local_234;
  undefined4 local_230;
  undefined4 local_22c;
  undefined4 local_228;
  undefined4 local_224;
  undefined4 local_220;
  undefined4 local_21c;
  undefined4 local_218;
  undefined4 local_214;
  undefined4 local_210;
  undefined4 local_20c;
  undefined4 local_208;
  undefined4 local_204;
  undefined4 local_200;
  undefined4 local_1fc;
  undefined4 local_1f8;
  undefined4 local_1f4;
  undefined4 local_1f0;
  undefined4 local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  undefined4 local_1e0;
  undefined4 local_1dc;
  undefined4 local_1d8;
  undefined4 local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  undefined4 local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b8;
  undefined4 local_1b4;
  undefined4 local_1b0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_19c;
  undefined4 local_198;
  undefined4 local_194;
  undefined4 local_190;
  undefined4 local_18c;
  undefined4 local_188;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  int aiStack_144 [2];
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  int iStack_b4;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  uint uStack_a0;
  int iStack_9c;
  undefined4 uStack_98;
  int iStack_94;
  undefined4 uStack_90;
  int iStack_8c;
  undefined4 uStack_1c;
  undefined4 uStack_14;
  
  bVar1 = false;
  local_23c = 0x33333333;
  local_238 = 0x3fd33333;
  local_234 = 0x9999999a;
  local_230 = 0x3fd99999;
  local_22c = 0;
  local_228 = 0x3fe00000;
  local_224 = 0x33333333;
  local_220 = 0x3fe33333;
  local_21c = 0x9999999a;
  local_218 = 0x3fe99999;
  local_214 = 0;
  local_210 = 0x3ff00000;
  local_20c = 0x33333333;
  local_208 = 0x3ff33333;
  local_204 = 0x66666666;
  local_200 = 0x3ff66666;
  local_1fc = 0x33333333;
  local_1f8 = 0x3ffb3333;
  local_1f4 = 0;
  local_1f0 = 0x40000000;
  local_1ec = 0;
  local_1e8 = 0;
  local_1e4 = 0xfdb20051;
  local_1e0 = 0xbfd0c151;
  local_1dc = 0xfdb20051;
  local_1d8 = 0x3fd0c151;
  local_1d4 = 0xfdb20051;
  local_1d0 = 0xbfe0c151;
  local_1cc = 0xfdb20051;
  local_1c8 = 0x3fe0c151;
  local_1c4 = 0xfc8b007a;
  local_1c0 = 0xbfe921fa;
  local_1bc = 0xfc8b007a;
  local_1b8 = 0x3fe921fa;
  local_1b4 = 0;
  local_1b0 = 0;
  local_1ac = 0xfced55c1;
  local_1a8 = 0xbfc65717;
  local_1a4 = 0xfced55c1;
  local_1a0 = 0x3fc65717;
  local_19c = 0xfced55c1;
  local_198 = 0xbfd65717;
  local_194 = 0xfced55c1;
  local_190 = 0x3fd65717;
  local_18c = 0xfdb20051;
  local_188 = 0xbfe0c151;
  local_184 = 0xfdb20051;
  local_180 = 0x3fe0c151;
  local_17c = 0;
  local_178 = 0;
  local_174 = 0x63f11168;
  local_170 = 0xbfc1df46;
  local_16c = 0x63f11168;
  local_168 = 0x3fc1df46;
  local_164 = 0x63f11168;
  local_160 = 0xbfd1df46;
  local_15c = 0x63f11168;
  local_158 = 0x3fd1df46;
  local_154 = 0x95e99a1c;
  local_150 = 0xbfdacee9;
  local_14c = 0x95e99a1c;
  local_148 = 0x3fdacee9;
  local_24c._0_4_ = 0x63f11168;
  local_24c._4_4_ = 0xbfc1df46;
  local_244 = 0x63f11168;
  local_240 = 0x3fc1df46;
  FUN_00450c60((int)this);
  if (*(int *)((int)this + 0x314) == param_1) {
    iVar4 = *(int *)((int)this + 0x30c);
    lVar18 = __ftol();
    *(int *)((int)this + 0x308) = (int)lVar18;
    *(int *)((int)this + 0x30c) = iVar4 + 1;
  }
  else {
    if ((((*(int *)((int)this + 0x314) != 0x15) && (*(int *)((int)this + 0x1554) != 0)) &&
        (*(int *)((int)this + 0x2c) == 5)) &&
       ((iVar4 = _rand(), iVar4 % 100 < 0x21 && (param_1 == 0x14)))) {
      FUN_00438a90((int *)this);
      return 0;
    }
    *(undefined4 *)((int)this + 0x1620) = 1;
    *(int *)((int)this + 0x314) = param_1;
    *(undefined4 *)((int)this + 0x2dc) = 1;
    *(undefined4 *)((int)this + 0x308) = 0;
    *(undefined4 *)((int)this + 0x310) = 0xffffffff;
    *(undefined4 *)((int)this + 0x30c) = 0;
    FUN_00452bc0(this,(int *)0x0,1);
  }
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x340));
  this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,10);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,*(long *)((int)this + 0x31c));
  iVar4 = (int)sVar2;
  if (((*(int *)((int)this + 0x308) == *(int *)((int)this + 0x310)) ||
      (this_02 = RKC_RPGSCRN_CHARANIMCHART::Get(this_01,*(long *)((int)this + 0x31c),0),
      this_02 == (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) ||
     (iVar15 = *(int *)((int)this + 0x310) + 1, *(int *)((int)this + 0x308) < iVar15))
  goto LAB_00438915;
  do {
    this_03 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_02,iVar15);
    if ((this_03 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
       (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_03), (uVar3 & 0x40) != 0)) {
      bVar1 = true;
    }
    iVar15 = iVar15 + 1;
  } while (iVar15 <= *(int *)((int)this + 0x308));
  if (!bVar1) goto LAB_00438915;
  iVar15 = *(int *)((int)this + 0x1264);
  uStack_260 = *(double *)((int)this + 0x1268);
  if (iVar15 != -1) {
    pvVar5 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
    iVar15 = FUN_004299e0(pvVar5,iVar15);
    if (iVar15 != 0) {
      iVar6 = FUN_00434cd0(iVar15);
      iVar6 = *(int *)(iVar6 + 0x1c) - *(int *)((int)this + 0x2e4);
      iVar15 = FUN_00434cd0(iVar15);
      auVar17 = FUN_00414080(*(int *)(iVar15 + 0x18) - *(int *)((int)this + 0x2e0),iVar6);
      uStack_260 = (double)(float10)auVar17;
    }
  }
  pvVar5 = *(void **)((int)this + 0x4f4);
  FUN_00417e70((int)&uStack_13c);
  uStack_134 = *(undefined4 *)((int)this + 4);
  uStack_13c = 0;
  uStack_138 = 0;
  iVar15 = 100;
  if (*(int *)((int)this + 0x2c) != 5) {
    iVar15 = FUN_00450f80(this,5);
    iVar15 = (iVar15 * 0x32) / 0x1e + 0x28;
    if (0x5a < iVar15) {
      iVar15 = 0x5a;
    }
  }
  iStack_12c = (*(int *)((int)this + 0x1b4) * iVar15) / 100;
  if (iStack_12c == 0) {
    iStack_12c = 1;
  }
  uStack_128 = *(undefined4 *)((int)this + 0x1b8);
  uStack_c0 = *(undefined4 *)((int)this + 0x34);
  puVar16 = (undefined4 *)((int)this + 0x1dc);
  puVar27 = auStack_104;
  for (iVar15 = 0x11; iVar15 != 0; iVar15 = iVar15 + -1) {
    *puVar27 = *puVar16;
    puVar16 = puVar16 + 1;
    puVar27 = puVar27 + 1;
  }
  FUN_0044fca0(this,aiStack_124);
  uStack_a8 = 0;
  uStack_a4 = 0;
  uStack_a0 = FUN_0044f990((int)this);
  uStack_ac = *(undefined4 *)((int)this + 0x1bc);
  iStack_9c = FUN_00450d90(this,1,2);
  uStack_98 = 0xffffffff;
  iStack_94 = FUN_00450d90(this,1,0);
  uStack_90 = 0xffffffff;
  iStack_8c = FUN_00450d90(this,1,1);
  uStack_1c = 1;
  uStack_130 = 0;
  uStack_14 = 0xffffffff;
  if (*(int *)((int)this + 0x4f4) != 0) {
    uStack_14 = FUN_00467790(*(int *)((int)this + 0x4f4));
  }
  local_268 = pvVar5;
  if (param_1 != 0x14) goto switchD_004385cf_caseD_4;
  uVar7 = FUN_004677c0((int)pvVar5);
  switch(uVar7) {
  case 0:
    local_268 = (void *)0x1;
    uVar13 = _rand();
    uVar13 = uVar13 & 0x80000003;
    if ((int)uVar13 < 0) {
      uVar13 = (uVar13 - 1 | 0xfffffffc) + 1;
    }
    iStack_b4 = uVar13 + 21000;
    goto switchD_004385cf_caseD_4;
  case 1:
    local_268 = (void *)0x0;
    break;
  case 2:
    local_268 = (void *)0x4;
    break;
  case 3:
    local_268 = (void *)0x5;
    break;
  default:
    goto switchD_004385cf_caseD_4;
  }
  iVar15 = _rand();
  iStack_b4 = iVar15 % 3 + 0x520f;
switchD_004385cf_caseD_4:
  if ((pvVar5 == (void *)0x0) || (iVar15 = FUN_00467720((int)pvVar5), iVar15 == 0))
  goto LAB_00438915;
  uVar7 = FUN_004677d0((int)pvVar5);
  iVar15 = iVar4;
  pdVar8 = pdStack_26c;
  switch(uVar7) {
  case 0:
    pdStack_26c = (double *)0x1;
    iVar15 = 0;
    pdVar8 = (double *)8;
    break;
  case 1:
    uVar7 = FUN_004140f0((undefined4)uStack_260,uStack_260._4_4_);
    pdVar8 = (double *)&local_24c;
    iStack_264 = 2;
    do {
      FUN_004140a0((int *)((int)this + 0x2e0),uStack_260 + *pdVar8,200,aiStack_144);
      uVar20 = FUN_00467820((int)pvVar5);
      uVar45 = 200;
      uVar43 = 0;
      uVar41 = 0;
      uVar39 = 0;
      uVar36 = 0;
      uVar46 = 0;
      uVar37 = 0xffffffff;
      puVar16 = &uStack_13c;
      uVar35 = 0;
      piVar26 = aiStack_144;
      puVar27 = (undefined4 *)0x0;
      uVar33 = 0x15e;
      dVar24 = uStack_260;
      uVar10 = uVar7;
      uVar22 = FUN_004677e0((int)pvVar5);
      uVar21 = *(undefined4 *)((int)this + 0x1264);
      uVar9 = *(undefined4 *)((int)this + 4);
      uVar30 = 0x14;
      uVar23 = 0;
      pvVar19 = local_268;
      pvVar11 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
      FUN_0042fdc0(pvVar11,pvVar19,uVar23,uVar9,uVar30,uVar21,uVar22,uVar33,SUB84(dVar24,0),
                   (int)((ulonglong)dVar24 >> 0x20),piVar26,puVar27,uVar35,puVar16,uVar10,uVar37,
                   uVar46,uVar36,uVar39,uVar41,uVar43,uVar45,uVar20);
      pdVar8 = pdVar8 + 1;
      iStack_264 = iStack_264 + -1;
    } while (iStack_264 != 0);
    goto LAB_004388fa;
  case 2:
    pdStack_26c = (double *)0x1;
    iStack_264 = 1;
    iVar15 = 0;
    pdVar8 = (double *)8;
    break;
  case 3:
    pdStack_26c = (double *)0x3;
    iStack_264 = 0;
    pdVar8 = (double *)FUN_004140f0((undefined4)uStack_260,uStack_260._4_4_);
    iVar15 = 0;
    break;
  case 4:
    pdStack_26c = (double *)0x3;
    iStack_264 = 1;
    iVar15 = 0;
    pdVar8 = (double *)8;
    break;
  case 5:
    pdStack_26c = (double *)0x5;
    iStack_264 = 0;
    pdVar8 = (double *)FUN_004140f0((undefined4)uStack_260,uStack_260._4_4_);
    iVar15 = 1;
    break;
  case 6:
    pdStack_26c = (double *)0x5;
    iStack_264 = 1;
    iVar15 = 1;
    pdVar8 = (double *)8;
    break;
  case 7:
    pdStack_26c = (double *)0x7;
    iStack_264 = 0;
    pdVar8 = (double *)FUN_004140f0((undefined4)uStack_260,uStack_260._4_4_);
    iVar15 = 2;
    break;
  case 8:
    pdStack_26c = (double *)0x7;
    iStack_264 = 1;
    iVar15 = 2;
    pdVar8 = (double *)8;
  }
  if (0 < (int)pdStack_26c) {
    local_258 = (int)pdStack_26c;
    pdStack_26c = (double *)(&local_1ec + iVar15 * 0xe);
    do {
      uVar9 = FUN_00467820((int)pvVar5);
      uVar46 = 200;
      iVar6 = iStack_264;
      iVar15 = FUN_004677f0((int)pvVar5);
      dVar24 = (double)iVar15;
      puVar16 = &uStack_13c;
      dVar25 = uStack_260 + *pdStack_26c;
      uVar37 = 0;
      uVar35 = 0;
      uVar33 = 0xffffffff;
      uVar30 = 0;
      puVar28 = (undefined4 *)0x0;
      puVar27 = (undefined4 *)0x0;
      uVar23 = 0x15e;
      iVar15 = (int)pdVar8;
      uVar10 = FUN_004677e0((int)pvVar5);
      uVar7 = *(undefined4 *)((int)this + 0x1264);
      uVar21 = *(undefined4 *)((int)this + 4);
      uVar22 = 0x14;
      uVar20 = 1;
      pvVar19 = local_268;
      pvVar11 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
      FUN_0042fdc0(pvVar11,pvVar19,uVar20,uVar21,uVar22,uVar7,uVar10,uVar23,SUB84(dVar25,0),
                   (int)((ulonglong)dVar25 >> 0x20),puVar27,puVar28,uVar30,puVar16,iVar15,uVar33,
                   uVar35,uVar37,SUB84(dVar24,0),(int)((ulonglong)dVar24 >> 0x20),iVar6,uVar46,uVar9
                  );
      pdStack_26c = pdStack_26c + 1;
      local_258 = local_258 + -1;
    } while (local_258 != 0);
  }
LAB_004388fa:
  iVar15 = FUN_00467550(pvVar5,1);
  if (iVar15 == 0) {
    FUN_00452910((int *)this);
    FUN_00450080(this);
  }
LAB_00438915:
  if (*(int *)((int)this + 0x30c) == 6) {
    if ((param_1 == 0x13) || (lVar12 = iVar4, param_1 == 0x14)) {
      lVar12 = 3;
    }
    FUN_004456d0(this,0,lVar12,0);
  }
  iVar4 = iVar4 + -1;
  if (iVar4 < *(int *)((int)this + 0x308)) {
    *(int *)((int)this + 0x308) = iVar4;
  }
  iVar15 = FUN_00456210(DAT_0048ce04);
  if (iVar15 == *(int *)((int)this + 0x458)) {
    uVar13 = *(uint *)((int)this + 0x1588) & 0x80000001;
    if ((int)uVar13 < 0) {
      uVar13 = (uVar13 - 1 | 0xfffffffe) + 1;
    }
    lVar12 = *(long *)((int)this + 0xc);
    psVar32 = *(short **)((int)this + 0x334);
    lVar48 = 1000;
    lVar47 = 1000;
    iVar15 = (-(uint)(uVar13 != 0) & 2) - 1;
    lVar44 = 1000;
    pRVar42 = (RKC_RPGSCRN_RECT *)0x0;
    lVar40 = 1000;
    psVar34 = *(short **)((int)this + 0x338);
    lVar38 = 0;
    psVar31 = *(short **)((int)this + 0x330);
    piVar26 = *(int **)((int)this + 0x32c);
    pRVar29 = (RKC_RPGSCRN_RECT *)((int)this + 0x2e8);
    pRVar14 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)this + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)this + 0x340),10,*(long *)((int)this + 0x31c),
               *(long *)((int)this + 0x308),*(int *)((int)this + 0x2e0) + iVar15 * 10,
               *(int *)((int)this + 0x2e4) + iVar15 * -10,sVar2,pRVar14,pRVar29,piVar26,psVar31,
               psVar32,psVar34,lVar12,lVar38,lVar40,pRVar42,lVar44,lVar47,lVar48);
  }
  *(int *)((int)this + 0x310) = *(int *)((int)this + 0x308);
  if (*(int *)((int)this + 0x308) == iVar4) {
    *(undefined4 *)((int)this + 0x318) = 1;
    *(undefined4 *)((int)this + 0x2dc) = 0;
    *(undefined4 *)((int)this + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_00438a90
 * Address: 00438a90
 */

undefined4 __fastcall FUN_00438a90(int *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar4;
  long lVar5;
  RKC_RPGSCRN_OBJECTDISPCELL *this;
  RKC_RPGSCRN_OBJECT *this_00;
  long lVar6;
  void *pvVar7;
  undefined4 *puVar8;
  undefined4 uVar9;
  RKC_RPGSCRN_CHARANIM *this_01;
  RKC_RPGSCRN_CHARANIMCHART *this_02;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_03;
  RKC_RPGSCRN_CHARANIMCELL *this_04;
  void *this_05;
  uint uVar10;
  int *piVar11;
  int iVar12;
  int *piVar13;
  longlong lVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 *puVar21;
  undefined4 *puVar22;
  RKC_RPGSCRN_RECT *pRVar23;
  undefined4 uVar24;
  short *psVar25;
  undefined4 uVar26;
  short *psVar27;
  undefined4 uVar28;
  short *psVar29;
  undefined4 uVar30;
  RKC_RPGSCRN_OBJECTDISP *pRVar31;
  undefined4 uVar32;
  tagRECT *ptVar33;
  undefined4 uVar34;
  int iVar35;
  undefined4 uVar36;
  RKC_RPGSCRN_RECT *pRVar37;
  int iVar38;
  undefined4 uVar39;
  long lVar40;
  int iVar41;
  undefined4 uVar42;
  long lVar43;
  int iVar44;
  undefined4 uVar45;
  long lVar46;
  RKC_RPGSCRN_OBJECTDISP local_1b0 [8];
  undefined4 uStack_1a8;
  undefined4 uStack_1a4;
  undefined4 uStack_1a0;
  undefined4 uStack_19c;
  undefined4 uStack_198;
  undefined4 uStack_194;
  undefined4 uStack_190;
  undefined4 uStack_18c;
  undefined4 uStack_188;
  undefined4 uStack_184;
  undefined4 uStack_180;
  undefined4 uStack_17c;
  undefined4 uStack_178;
  undefined4 uStack_174;
  undefined4 uStack_170;
  undefined4 uStack_16c;
  undefined4 uStack_168;
  undefined4 uStack_164;
  undefined4 uStack_160;
  undefined4 uStack_15c;
  tagRECT tStack_158;
  undefined4 uStack_148;
  undefined4 uStack_144;
  int iStack_140;
  undefined4 uStack_13c;
  int iStack_138;
  int iStack_134;
  int aiStack_130 [8];
  int aiStack_110 [17];
  int iStack_cc;
  undefined4 uStack_c0;
  int iStack_b8;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  uint uStack_ac;
  int iStack_a8;
  undefined4 uStack_a4;
  int iStack_a0;
  undefined4 uStack_9c;
  int iStack_98;
  undefined4 uStack_28;
  undefined4 uStack_20;
  void *pvStack_14;
  undefined *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00471f0c;
  pvStack_14 = ExceptionList;
  iVar12 = 0;
  bVar1 = false;
  ExceptionList = &pvStack_14;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_1b0);
  uStack_c = 0;
  uStack_1a8 = 0x33333333;
  uStack_1a4 = 0x3fe33333;
  uStack_1a0 = 0xcccccccd;
  uStack_19c = 0x3feccccc;
  uStack_198 = 0x33333333;
  uStack_194 = 0x3ff33333;
  uStack_190 = 0xcccccccd;
  uStack_18c = 0x3ff4cccc;
  uStack_188 = 0;
  uStack_184 = 0x3ff80000;
  uStack_180 = 0x33333333;
  uStack_17c = 0x3ffb3333;
  uStack_178 = 0x66666666;
  uStack_174 = 0x3ffe6666;
  uStack_170 = 0x9999999a;
  uStack_16c = 0x40019999;
  uStack_168 = 0x9999999a;
  uStack_164 = 0x40059999;
  uStack_160 = 0;
  uStack_15c = 0x40080000;
  FUN_00450c60((int)param_1);
  if (param_1[0xc5] == 0x15) {
    iVar12 = param_1[0xc3];
    lVar14 = __ftol();
    param_1[0xc2] = (int)lVar14;
    param_1[0xc3] = iVar12 + 1;
  }
  else {
    param_1[0xc5] = 0x15;
    RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_1b0,DAT_00482d14);
    SetRect(&tStack_158,param_1[0xb8] + -2000,param_1[0xb9] + -2000,param_1[0xb8] + 2000,
            param_1[0xb9] + 2000);
    iVar44 = 0;
    iVar41 = 0;
    iVar38 = 0;
    ptVar33 = &tStack_158;
    iVar35 = 0;
    pRVar31 = local_1b0;
    pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(param_1[0x116]);
    RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(pRVar4,pRVar31,ptVar33,iVar35,iVar38,iVar41,iVar44);
    param_1[0x4aa] = 0;
    lVar5 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_1b0);
    if ((lVar5 != 0) && (0 < lVar5)) {
      do {
        this = RKC_RPGSCRN_OBJECTDISP::Get(local_1b0,iVar12);
        if (this != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
          this_00 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this);
          lVar6 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_00);
          pvVar7 = (void *)FUN_00427aa0(param_1[0x116]);
          puVar8 = (undefined4 *)FUN_004299e0(pvVar7,lVar6);
          if ((((puVar8 != (undefined4 *)0x0) &&
               (iVar35 = FUN_00434cd0((int)puVar8), *(int *)(iVar35 + 4) != param_1[3])) &&
              (iVar35 = FUN_00434cd0((int)puVar8), 0 < *(int *)(iVar35 + 0xd4))) &&
             (iVar35 = FUN_00427b20(puVar8), iVar35 == 2)) {
            iVar35 = FUN_00434cd0((int)puVar8);
            param_1[param_1[0x4aa] + 0x4ac] = *(int *)(iVar35 + 4);
            iVar35 = param_1[0x4aa];
            param_1[0x4aa] = iVar35 + 1;
            if (iVar35 + 1 == 100) break;
          }
        }
        iVar12 = iVar12 + 1;
      } while (iVar12 < lVar5);
    }
    if (param_1[0x4aa] == 0) {
      uVar9 = FUN_00437fe0(param_1,0x14);
      uStack_c = 0xffffffff;
      RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_1b0);
      ExceptionList = pvStack_14;
      return uVar9;
    }
    param_1[0xb7] = 1;
    param_1[0xc2] = 0;
    param_1[0xc4] = -1;
    param_1[0xc3] = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  this_01 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  this_02 = RKC_RPGSCRN_CHARANIM::Get(this_01,10);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_02,param_1[199]);
  if (((param_1[0xc2] != param_1[0xc4]) &&
      (this_03 = RKC_RPGSCRN_CHARANIMCHART::Get(this_02,param_1[199],0),
      this_03 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar12 = param_1[0xc4] + 1, iVar12 <= param_1[0xc2])) {
    do {
      this_04 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_03,iVar12);
      if ((this_04 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_04), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar12 = iVar12 + 1;
    } while (iVar12 <= param_1[0xc2]);
    if (bVar1) {
      pvVar7 = (void *)param_1[0x13d];
      FUN_00417e70((int)&uStack_148);
      iStack_140 = param_1[1];
      iStack_138 = param_1[0x6d];
      iStack_134 = param_1[0x6e];
      iStack_cc = param_1[0xd];
      uStack_148 = 0;
      uStack_144 = 0;
      piVar11 = param_1 + 0x77;
      piVar13 = aiStack_110;
      for (iVar12 = 0x11; iVar12 != 0; iVar12 = iVar12 + -1) {
        *piVar13 = *piVar11;
        piVar11 = piVar11 + 1;
        piVar13 = piVar13 + 1;
      }
      FUN_0044fca0(param_1,aiStack_130);
      uStack_c0 = 0x4e26;
      uStack_b0 = 0;
      uStack_ac = FUN_0044f990((int)param_1);
      iStack_b8 = param_1[0x6f];
      uStack_b4 = 0;
      iStack_a8 = FUN_00450d90(param_1,1,2);
      uStack_a4 = 0xffffffff;
      iStack_a0 = FUN_00450d90(param_1,1,0);
      uStack_9c = 0xffffffff;
      iStack_98 = FUN_00450d90(param_1,1,1);
      uStack_28 = 1;
      uStack_13c = 0;
      uStack_20 = 0xffffffff;
      if (param_1[0x13d] != 0) {
        uStack_20 = FUN_00467790(param_1[0x13d]);
      }
      if ((pvVar7 != (void *)0x0) && (iVar12 = FUN_00467720((int)pvVar7), iVar12 != 0)) {
        iVar12 = 0;
        if (0 < param_1[0x4aa]) {
          piVar11 = param_1 + 0x4ac;
          do {
            uVar45 = 0;
            uVar42 = 200;
            uVar39 = 0;
            uVar36 = 0;
            uVar34 = 0;
            uVar32 = 0;
            uVar30 = 0;
            uVar28 = 0xffffffff;
            puVar8 = &uStack_148;
            iVar35 = *piVar11;
            uVar26 = 8;
            iVar38 = param_1[1];
            uVar24 = 0;
            puVar22 = (undefined4 *)0x0;
            puVar21 = (undefined4 *)0x0;
            uVar20 = 0;
            uVar19 = 0;
            uVar18 = 0x15e;
            uVar17 = 400;
            uVar16 = 0x14;
            uVar15 = 1;
            uVar9 = 9000;
            this_05 = (void *)FUN_00466420(param_1[0x116]);
            FUN_0042fdc0(this_05,uVar9,uVar15,iVar38,uVar16,iVar35,uVar17,uVar18,uVar19,uVar20,
                         puVar21,puVar22,uVar24,puVar8,uVar26,uVar28,uVar30,uVar32,uVar34,uVar36,
                         uVar39,uVar42,uVar45);
            iVar12 = iVar12 + 1;
            piVar11 = piVar11 + 1;
          } while (iVar12 < param_1[0x4aa]);
        }
        iVar12 = FUN_00467550(pvVar7,1);
        if (iVar12 == 0) {
          FUN_00452910(param_1);
          FUN_00450080(param_1);
        }
      }
    }
  }
  if (param_1[0xc3] == 6) {
    FUN_004456d0(param_1,0,3,0);
  }
  iVar12 = sVar2 + -1;
  if (iVar12 < param_1[0xc2]) {
    param_1[0xc2] = iVar12;
  }
  iVar35 = FUN_00456210(DAT_0048ce04);
  if (iVar35 == param_1[0x116]) {
    uVar10 = param_1[0x562] & 0x80000001;
    if ((int)uVar10 < 0) {
      uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
    }
    iVar35 = param_1[3];
    psVar27 = (short *)param_1[0xcd];
    lVar46 = 1000;
    lVar43 = 1000;
    iVar38 = (-(uint)(uVar10 != 0) & 2) - 1;
    lVar40 = 1000;
    pRVar37 = (RKC_RPGSCRN_RECT *)0x0;
    lVar6 = 1000;
    psVar29 = (short *)param_1[0xce];
    lVar5 = 0;
    psVar25 = (short *)param_1[0xcc];
    piVar11 = (int *)param_1[0xcb];
    pRVar23 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],10,param_1[199],param_1[0xc2],param_1[0xb8] + iVar38 * 10,
               param_1[0xb9] + iVar38 * -10,sVar2,pRVar4,pRVar23,piVar11,psVar25,psVar27,psVar29,
               iVar35,lVar5,lVar6,pRVar37,lVar40,lVar43,lVar46);
  }
  param_1[0xc4] = param_1[0xc2];
  if (param_1[0xc2] == iVar12) {
    param_1[0xc6] = 1;
    param_1[0xb7] = 0;
    param_1[0xc5] = 0;
  }
  uStack_c = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_1b0);
  ExceptionList = pvStack_14;
  return 0;
}



/*
 * Function: FUN_00439120
 * Address: 00439120
 */

void __fastcall FUN_00439120(void *param_1)

{
  FUN_00437fe0(param_1,0x14);
  return;
}



/*
 * Function: FUN_00439130
 * Address: 00439130
 */

void __fastcall FUN_00439130(void *param_1)

{
  FUN_00437fe0(param_1,0x13);
  return;
}



/*
 * Function: FUN_00439140
 * Address: 00439140
 */

undefined4 __fastcall FUN_00439140(int *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPGSCRN_CHARANIM *pRVar4;
  RKC_RPGSCRN_CHARANIMCHART *pRVar5;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  void *pvVar6;
  int iVar7;
  undefined3 extraout_var;
  uint uVar8;
  int *piVar9;
  int iVar10;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  int iVar12;
  int iVar13;
  int *piVar14;
  longlong lVar15;
  RKC_RPGSCRN_RECT *pRVar16;
  short *psVar17;
  short *psVar18;
  short *psVar19;
  long lVar20;
  long lVar21;
  RKC_RPGSCRN_RECT *pRVar22;
  long lVar23;
  long lVar24;
  long lVar25;
  int local_194;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  int iStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  int iStack_128;
  int aiStack_124 [8];
  int aiStack_104 [17];
  int iStack_c0;
  int iStack_b4;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  uint uStack_a0;
  int iStack_9c;
  undefined4 uStack_98;
  int iStack_94;
  undefined4 uStack_90;
  int iStack_8c;
  undefined4 uStack_1c;
  undefined4 uStack_14;
  
  bVar1 = false;
  FUN_00450c60((int)param_1);
  if (param_1[0xc5] == 7) {
    iVar12 = param_1[0xc3];
    lVar15 = __ftol();
    param_1[0xc2] = (int)lVar15;
    param_1[0xc3] = iVar12 + 1;
  }
  else {
    param_1[0xc5] = 7;
    param_1[0xb7] = 1;
    param_1[0xc2] = 0;
    param_1[0xc4] = -1;
    param_1[0xc3] = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  local_194 = 5;
  pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,5);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,param_1[199]);
  iVar12 = (int)sVar2;
  if ((((param_1[0xc2] < iVar12) && (param_1[0xc2] != param_1[0xc4])) &&
      (this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar5,param_1[199],0),
      this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar13 = param_1[0xc4] + 1, iVar13 <= param_1[0xc2])) {
    do {
      this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,iVar13);
      if ((this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar13 = iVar13 + 1;
    } while (iVar13 <= param_1[0xc2]);
    if ((bVar1) &&
       ((((param_1[0x499] != -1 &&
          (iVar13 = FUN_00441720(param_1,param_1[0x499],param_1[0xfd],1), iVar13 == 1)) &&
         (iVar13 = param_1[0x499], iVar13 != -1)) ||
        (iVar13 = FUN_004415b0(param_1,2,param_1[0xfd],1), iVar13 != -1)))) {
      iVar7 = iVar13;
      pvVar6 = (void *)FUN_00427aa0(param_1[0x116]);
      iVar7 = FUN_004299e0(pvVar6,iVar7);
      iVar7 = FUN_00434cd0(iVar7);
      bVar1 = FUN_00413e00(param_1[0x6f],*(int *)(iVar7 + 0xec));
      if (CONCAT31(extraout_var,bVar1) == 0) {
        pvVar6 = (void *)FUN_00427aa0(param_1[0x116]);
        iVar13 = FUN_004299e0(pvVar6,iVar13);
        iVar13 = FUN_00434cd0(iVar13);
        FUN_00417a60(0,iVar13);
      }
      else {
        FUN_00417e70((int)&uStack_13c);
        iStack_134 = param_1[1];
        iStack_12c = param_1[0x6d];
        iStack_128 = param_1[0x6e];
        iStack_c0 = param_1[0xd];
        uStack_13c = 0;
        uStack_138 = 0;
        uVar8 = _rand();
        uVar8 = uVar8 & 0x80000003;
        if ((int)uVar8 < 0) {
          uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
        }
        iStack_b4 = uVar8 + 21000;
        uStack_a8 = 0;
        uStack_a4 = 1;
        uStack_a0 = FUN_0044f990((int)param_1);
        iStack_9c = FUN_00450d90(param_1,1,2);
        uStack_98 = 0xffffffff;
        iStack_94 = FUN_00450d90(param_1,1,0);
        uStack_90 = 0xffffffff;
        iStack_8c = FUN_00450d90(param_1,1,1);
        uStack_1c = 1;
        uStack_130 = 0;
        uStack_14 = 0xffffffff;
        if (param_1[0x13d] != 0) {
          iVar7 = FUN_004663a0(param_1[0x13d]);
          if ((iVar7 == 8) || (iVar7 = FUN_004663a0(param_1[0x13d]), iVar7 == 9)) {
            iVar7 = _rand();
            iStack_b4 = iVar7 % 3 + 0x520c;
          }
          uStack_14 = FUN_00467790(param_1[0x13d]);
        }
        piVar9 = param_1 + 0x77;
        piVar14 = aiStack_104;
        for (iVar7 = 0x11; iVar7 != 0; iVar7 = iVar7 + -1) {
          *piVar14 = *piVar9;
          piVar9 = piVar9 + 1;
          piVar14 = piVar14 + 1;
        }
        FUN_0044fca0(param_1,aiStack_124);
        pvVar6 = (void *)FUN_00427aa0(param_1[0x116]);
        iVar13 = FUN_004299e0(pvVar6,iVar13);
        piVar9 = (int *)FUN_00434cd0(iVar13);
        (**(code **)(*piVar9 + 0x14))(&uStack_13c,param_1 + 0xb8);
        FUN_004456d0(param_1,0,6,0);
        if ((((param_1[0x13d] != 0) && (iVar13 = _rand(), iVar13 % 100 < 0x1e)) &&
            (iVar13 = FUN_00467720(param_1[0x13d]), iVar13 != 0)) &&
           (iVar13 = FUN_00467550((void *)param_1[0x13d],1), iVar13 == 0)) {
          FUN_00452910(param_1);
          FUN_00450080(param_1);
        }
      }
    }
  }
  if (param_1[0xc3] == 5) {
    if ((void *)param_1[0x13d] == (void *)0x0) {
      iVar13 = 1;
    }
    else {
      iVar13 = FUN_00466110((void *)param_1[0x13d],4);
      if (iVar13 == -1) goto LAB_004395d8;
    }
    FUN_004456d0(param_1,0,iVar13,0);
  }
LAB_004395d8:
  iVar13 = param_1[0xc2];
  if (iVar12 <= iVar13) {
    iVar13 = iVar13 - iVar12;
    local_194 = 6;
    pRVar4 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
    pRVar5 = RKC_RPGSCRN_CHARANIM::Get(pRVar4,6);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar5,param_1[199]);
    iVar12 = (int)sVar2;
  }
  if (iVar12 <= iVar13) {
    iVar13 = iVar12 + -1;
  }
  iVar7 = FUN_00456210(DAT_0048ce04);
  if (iVar7 == param_1[0x116]) {
    uVar8 = param_1[0x562] & 0x80000001;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
    }
    psVar19 = (short *)param_1[0xce];
    psVar18 = (short *)param_1[0xcd];
    iVar10 = (-(uint)(uVar8 != 0) & 2) - 1;
    lVar25 = 1000;
    lVar24 = 1000;
    lVar23 = 1000;
    iVar7 = param_1[3];
    pRVar22 = (RKC_RPGSCRN_RECT *)0x0;
    lVar21 = 1000;
    lVar20 = 0;
    psVar17 = (short *)param_1[0xcc];
    piVar9 = (int *)param_1[0xcb];
    pRVar16 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],local_194,param_1[199],iVar13,param_1[0xb8] + iVar10 * 10,
               param_1[0xb9] + iVar10 * -10,sVar2,pRVar11,pRVar16,piVar9,psVar17,psVar18,psVar19,
               iVar7,lVar20,lVar21,pRVar22,lVar23,lVar24,lVar25);
  }
  param_1[0xc4] = param_1[0xc2];
  if ((local_194 == 6) && (iVar13 == iVar12 + -1)) {
    param_1[0xc6] = 1;
    param_1[0xb7] = 0;
    param_1[0xc5] = 0;
  }
  return 0;
}



/*
 * Function: FUN_00439730
 * Address: 00439730
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00439730(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *pvVar9;
  int iVar10;
  long lVar11;
  uint uVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined1 auVar18 [10];
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_1a4;
  undefined8 uStack_198;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,1,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar19 = __ftol();
  iStack_1a4 = (int)lVar19;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar14 = FUN_00451e60(param_1,1);
  if (*(int *)((int)param_1 + 0x314) == 0x17) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar19 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar19;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x17;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    lVar19 = __ftol();
    uVar8 = (undefined4)lVar19;
    uStack_198 = *(double *)((int)param_1 + 0x1268);
    iVar16 = *(int *)((int)param_1 + 0x1264);
    if (iVar16 != -1) {
      pvVar9 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar9,iVar16);
      if (iVar16 != 0) {
        iVar10 = FUN_00434cd0(iVar16);
        iVar10 = *(int *)(iVar10 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        auVar18 = FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar10);
        uStack_198 = (double)(float10)auVar18;
      }
    }
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(1,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(1,iVar14,5);
    uStack_b4 = 20000;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(1,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(1,iVar14,0x1e);
    lStack_98 = FUN_00417410(1,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(1,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 1;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(1,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(1,iVar14,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar30 = 8;
    puVar15 = (undefined4 *)((int)param_1 + 0x2e8);
    puVar26 = (undefined4 *)0x0;
    uVar25 = 200;
    lVar11 = FUN_00417410(1,iVar14,3);
    uVar24 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar22 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 0x14;
    uVar21 = 1;
    uVar20 = 0x2711;
    pvVar9 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar9,uVar20,uVar21,uVar22,uVar23,uVar24,lVar11,uVar25,(undefined4)uStack_198,
                 uStack_198._4_4_,puVar26,puVar15,uVar8,puVar17,uVar30,uVar32,uVar34,uVar35,uVar37,
                 uVar39,uVar41,uVar43,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar12 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    lVar11 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar16 = (-(uint)(uVar12 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar11,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_00439d10
 * Address: 00439d10
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00439d10(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *this_02;
  uint uVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int iVar11;
  undefined4 *puVar12;
  int iVar13;
  undefined4 *puVar14;
  longlong lVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 *puVar25;
  RKC_RPGSCRN_RECT *pRVar26;
  int *piVar27;
  short *psVar28;
  undefined4 uVar29;
  short *psVar30;
  undefined4 uVar31;
  short *psVar32;
  undefined4 uVar33;
  long lVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_19c;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,4,0);
  iVar11 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar11 = iVar11 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar11 != 0);
  FUN_00450cd0((int)param_1);
  lVar15 = __ftol();
  iStack_19c = (int)lVar15;
  if (iStack_19c == 0) {
    iStack_19c = 1;
  }
  iVar11 = FUN_00451e60(param_1,4);
  if (*(int *)((int)param_1 + 0x314) == 0x1a) {
    iVar11 = *(int *)((int)param_1 + 0x30c);
    lVar15 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar15;
    *(int *)((int)param_1 + 0x30c) = iVar11 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x1a;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar13 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar13);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar13 = iVar13 + 1;
      } while (iVar13 < sVar1);
    }
    lVar15 = __ftol();
    uVar8 = (undefined4)lVar15;
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(4,iVar11,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar12 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar14 = auStack_104;
    for (iVar13 = 0x11; iVar13 != 0; iVar13 = iVar13 + -1) {
      *puVar14 = *puVar12;
      puVar12 = puVar12 + 1;
      puVar14 = puVar14 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(4,iVar11,5);
    uStack_b4 = 0x4e21;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(4,iVar11,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(4,iVar11,0x1e);
    lStack_98 = FUN_00417410(4,iVar11,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(4,iVar11,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 4;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(4,iVar11,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(4,iVar11,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar33 = 0;
    uVar31 = 0xffffffff;
    puVar14 = &uStack_13c;
    uVar29 = 8;
    puVar12 = (undefined4 *)((int)param_1 + 0x2e8);
    uVar18 = *(undefined4 *)((int)param_1 + 4);
    puVar25 = (undefined4 *)0x0;
    uVar24 = 0;
    uVar23 = 0;
    uVar22 = 0;
    uVar21 = 0;
    uVar20 = 0xffffffff;
    uVar19 = 4;
    uVar17 = 1;
    uVar16 = 0x2714;
    this_02 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(this_02,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,uVar24,puVar25,
                 puVar12,uVar8,puVar14,uVar29,uVar31,uVar33,uVar35,uVar37,uVar39,uVar41,uVar43,lVar4
                );
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar11 = *(int *)((int)param_1 + 0x308);
  if (iVar11 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar11 = 0;
  }
  iVar13 = FUN_00456210(DAT_0048ce04);
  if (iVar13 == *(int *)((int)param_1 + 0x458)) {
    uVar9 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    lVar34 = *(long *)((int)param_1 + 0xc);
    psVar30 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar13 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar32 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar28 = *(short **)((int)param_1 + 0x330);
    piVar27 = *(int **)((int)param_1 + 0x32c);
    pRVar26 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar11,*(int *)((int)param_1 + 0x2e0) + iVar13 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar13 * -10,sVar3,pRVar10,pRVar26,piVar27,psVar28,
               psVar30,psVar32,lVar34,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_19c <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043a260
 * Address: 0043a260
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043a260(void *param_1)

{
  int iVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  double *pdVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  int *piVar13;
  longlong lVar14;
  RKC_RPGSCRN_RECT *pRVar15;
  int *piVar16;
  short *psVar17;
  short *psVar18;
  short *psVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  RKC_RPGSCRN_RECT *pRVar23;
  long lVar24;
  long lVar25;
  int *piVar26;
  long lVar27;
  long lStack_f8;
  int iStack_f4;
  int local_f0 [24];
  undefined8 local_90;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  int iStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  int iStack_1c;
  int iStack_18;
  int iStack_14;
  undefined4 uStack_10;
  
  local_f0[8] = 0xffffffb0;
  local_f0[0xc] = 0xffffffb0;
  local_f0[0xd] = 0xffffffb0;
  local_f0[0x11] = 0xffffffb0;
  local_f0[0x14] = 0xffffffb0;
  local_f0[0x15] = 0xffffffb0;
  local_f0[10] = 0x4f;
  local_f0[0xb] = 0x4f;
  local_f0[0xe] = 0x4f;
  local_f0[0x12] = 0x4f;
  local_f0[0x13] = 0x4f;
  local_f0[0x17] = 0x4f;
  local_f0[1] = 0xfffffe0c;
  local_f0[4] = 0xfffffe0c;
  local_90._0_4_ = 0x33333333;
  local_90._4_4_ = 0x3fe33333;
  local_88 = 0x66666666;
  local_84 = 0x3fe66666;
  local_80 = 0x9999999a;
  local_7c = 0x3fe99999;
  local_78 = 0;
  local_74 = 0x3ff00000;
  local_70 = 0x66666666;
  local_6c = 0x3ff26666;
  local_68 = 0xcccccccd;
  local_64 = 0x3ff4cccc;
  local_60 = 0x33333333;
  local_5c = 0x3ff73333;
  local_58 = 0x9999999a;
  local_54 = 0x3ff99999;
  local_50 = 0;
  local_4c = 0x3ffc0000;
  local_48 = 0x66666666;
  local_44 = 0x3ffe6666;
  local_f0[9] = 0xfffffdbc;
  local_f0[0xf] = 0x243;
  local_f0[0x10] = 0xfffffdbc;
  local_f0[0x16] = 0x243;
  local_f0[0] = 0;
  local_f0[2] = 0;
  local_f0[3] = 500;
  local_f0[5] = 0;
  local_f0[6] = 500;
  local_f0[7] = 0;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar5 = RKC_RPG_TABLEDATA::GetValue(this,0,0);
  iVar10 = 10;
  pdVar6 = (double *)&local_90;
  do {
    iVar10 = iVar10 + -1;
    *pdVar6 = (double)lVar5 * *pdVar6 * _DAT_00475218;
    pdVar6 = pdVar6 + 1;
  } while (iVar10 != 0);
  FUN_00450cd0((int)param_1);
  lVar14 = __ftol();
  iStack_f4 = (int)lVar14;
  if (iStack_f4 == 0) {
    iStack_f4 = 1;
  }
  if (*(int *)((int)param_1 + 0x314) == 0x16) {
    iVar10 = *(int *)((int)param_1 + 0x30c);
    lVar14 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar14;
    *(int *)((int)param_1 + 0x30c) = iVar10 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x16;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar10 = 0, 0 < sVar2)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar10);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar3 & 0x40) != 0)) break;
        iVar10 = iVar10 + 1;
      } while (iVar10 < sVar2);
    }
    if ((*(byte *)((int)param_1 + 0x2d0) & 1) != 0) {
      piVar16 = (int *)((int)param_1 + 0x2e0);
      uVar11 = *(int *)((int)param_1 + 0x1274) - *(int *)((int)param_1 + 0x2e0);
      uVar12 = *(int *)((int)param_1 + 0x1278) - *(int *)((int)param_1 + 0x2e4);
      if ((int)((uVar12 ^ (int)uVar12 >> 0x1f) - ((int)uVar12 >> 0x1f)) <
          (int)((uVar11 ^ (int)uVar11 >> 0x1f) - ((int)uVar11 >> 0x1f))) {
        uVar11 = (-1 < (int)uVar11) + 2;
      }
      else {
        uVar11 = (uint)(-1 < (int)uVar12);
      }
      iVar10 = FUN_004145b0(*(int *)((int)param_1 + 0x458),-1,piVar16,local_f0 + uVar11 * 4 + 8,0,2,
                            0);
      if ((iVar10 == 1) && (uVar12 = uVar11, uVar11 != 0xffffffff)) {
LAB_0043a61f:
        piVar13 = local_f0 + uVar12 * 2;
        *piVar13 = local_f0[uVar12 * 2] + *piVar16;
        iVar10 = *(int *)((int)param_1 + 0x458);
        local_f0[uVar12 * 2 + 1] = local_f0[uVar12 * 2 + 1] + *(int *)((int)param_1 + 0x2e4);
        iVar1 = *(int *)((int)param_1 + 4);
        piVar26 = piVar13;
        iVar10 = FUN_00456230(iVar10);
        iVar10 = FUN_00420020((void *)(DAT_0048d768 + iVar1 * 0x6c),iVar1,iVar10,piVar26);
        if (iVar10 == 1) {
          iStack_40 = FUN_00456230(*(int *)((int)param_1 + 0x458));
          uStack_38 = *(undefined4 *)((int)param_1 + 4);
          uStack_2c = *(undefined4 *)((int)param_1 + 0x31c);
          uStack_34 = *(undefined4 *)((int)param_1 + 0x314);
          uStack_28 = *(undefined4 *)((int)param_1 + 0x1268);
          iStack_1c = *piVar13;
          uStack_20 = *(undefined4 *)((int)param_1 + 0x1264);
          iStack_14 = *piVar16;
          uStack_24 = *(undefined4 *)((int)param_1 + 0x126c);
          iStack_18 = local_f0[uVar12 * 2 + 1];
          uStack_10 = *(undefined4 *)((int)param_1 + 0x2e4);
          uStack_3c = *(undefined4 *)((int)param_1 + 0x15d8);
          FUN_00452bc0(param_1,&iStack_40,0);
          FUN_0044f6f0(param_1,0,0);
        }
      }
      else {
        uVar12 = 0;
        piVar13 = local_f0 + 8;
        do {
          if ((uVar12 != uVar11) &&
             (iVar10 = FUN_004145b0(*(int *)((int)param_1 + 0x458),-1,piVar16,piVar13,0,2,0),
             iVar10 == 1)) {
            if (uVar12 != 0xffffffff) goto LAB_0043a61f;
            break;
          }
          uVar12 = uVar12 + 1;
          piVar13 = piVar13 + 4;
        } while ((int)uVar12 < 4);
      }
    }
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  lStack_f8 = *(int *)((int)param_1 + 0x308);
  if (lStack_f8 < sVar2) {
    lVar5 = 0xb;
  }
  else {
    lVar5 = 0xc;
    lStack_f8 = 0;
  }
  iVar10 = FUN_00456210(DAT_0048ce04);
  if (iVar10 == *(int *)((int)param_1 + 0x458)) {
    uVar11 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffe) + 1;
    }
    psVar19 = *(short **)((int)param_1 + 0x338);
    psVar18 = *(short **)((int)param_1 + 0x334);
    iVar10 = (-(uint)(uVar11 != 0) & 2) - 1;
    lVar27 = 1000;
    lVar25 = 1000;
    lVar24 = 1000;
    lVar20 = *(long *)((int)param_1 + 0xc);
    pRVar23 = (RKC_RPGSCRN_RECT *)0x0;
    lVar22 = 1000;
    lVar21 = 0;
    psVar17 = *(short **)((int)param_1 + 0x330);
    piVar16 = *(int **)((int)param_1 + 0x32c);
    pRVar15 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar9 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar5,*(long *)((int)param_1 + 0x31c),
               lStack_f8,*(int *)((int)param_1 + 0x2e0) + iVar10 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar10 * -10,sVar4,pRVar9,pRVar15,piVar16,psVar17,
               psVar18,psVar19,lVar20,lVar21,lVar22,pRVar23,lVar24,lVar25,lVar27);
  }
  if (sVar2 + -1 + iStack_f4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043a840
 * Address: 0043a840
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043a840(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  void *pvVar8;
  int iVar9;
  undefined4 uVar10;
  uint uVar11;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar12;
  int iVar13;
  undefined4 *puVar14;
  int iVar15;
  undefined4 *puVar16;
  undefined1 auVar17 [10];
  longlong lVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  long lVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_1a4;
  undefined8 uStack_1a0;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,3,0);
  iVar13 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar13 = iVar13 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar13 != 0);
  FUN_00450cd0((int)param_1);
  lVar18 = __ftol();
  iStack_1a4 = (int)lVar18;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar13 = FUN_00451e60(param_1,3);
  if (*(int *)((int)param_1 + 0x314) == 0x19) {
    iVar13 = *(int *)((int)param_1 + 0x30c);
    lVar18 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar18;
    *(int *)((int)param_1 + 0x30c) = iVar13 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x19;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar15 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar15);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar15 = iVar15 + 1;
      } while (iVar15 < sVar1);
    }
    iVar15 = *(int *)((int)param_1 + 0x1264);
    uStack_1a0 = *(double *)((int)param_1 + 0x1268);
    if (iVar15 != -1) {
      pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar15 = FUN_004299e0(pvVar8,iVar15);
      if (iVar15 != 0) {
        iVar9 = FUN_00434cd0(iVar15);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar15 = FUN_00434cd0(iVar15);
        auVar17 = FUN_00414080(*(int *)(iVar15 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar9);
        uStack_1a0 = (double)(float10)auVar17;
      }
    }
    lVar18 = __ftol();
    uVar10 = (undefined4)lVar18;
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(3,iVar13,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1b8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar14 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar16 = auStack_104;
    for (iVar15 = 0x11; iVar15 != 0; iVar15 = iVar15 + -1) {
      *puVar16 = *puVar14;
      puVar14 = puVar14 + 1;
      puVar16 = puVar16 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(3,iVar13,5);
    uStack_b4 = 0x4e25;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(3,iVar13,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(3,iVar13,0x1e);
    lStack_98 = FUN_00417410(3,iVar13,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(3,iVar13,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 3;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(3,iVar13,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(3,iVar13,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar16 = &uStack_13c;
    uVar30 = 8;
    puVar14 = (undefined4 *)((int)param_1 + 0x2e0);
    puVar26 = (undefined4 *)0x0;
    uVar23 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar21 = *(undefined4 *)((int)param_1 + 4);
    uVar25 = 0;
    uVar24 = 0;
    uVar22 = 4;
    uVar20 = 1;
    uVar19 = 0x2713;
    pvVar8 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar8,uVar19,uVar20,uVar21,uVar22,uVar23,uVar24,uVar25,(undefined4)uStack_1a0,
                 uStack_1a0._4_4_,puVar14,puVar26,uVar10,puVar16,uVar30,uVar32,uVar34,iVar13,uVar37,
                 uVar39,uVar41,uVar43,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar13 = *(int *)((int)param_1 + 0x308);
  if (iVar13 < sVar1) {
    lVar4 = 0xb;
  }
  else {
    lVar4 = 0xc;
    iVar13 = 0;
  }
  iVar15 = FUN_00456210(DAT_0048ce04);
  if (iVar15 == *(int *)((int)param_1 + 0x458)) {
    uVar11 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffe) + 1;
    }
    lVar35 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar15 = (-(uint)(uVar11 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar12 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar13,*(int *)((int)param_1 + 0x2e0) + iVar15 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar15 * -10,sVar3,pRVar12,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar35,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043ae10
 * Address: 0043ae10
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043ae10(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *pvVar9;
  int iVar10;
  long lVar11;
  uint uVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined1 auVar18 [10];
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_1a4;
  undefined8 uStack_198;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,2,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar19 = __ftol();
  iStack_1a4 = (int)lVar19;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar14 = FUN_00451e60(param_1,2);
  if (*(int *)((int)param_1 + 0x314) == 0x18) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar19 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar19;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x18;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    lVar19 = __ftol();
    uVar8 = (undefined4)lVar19;
    uStack_198 = *(double *)((int)param_1 + 0x1268);
    iVar16 = *(int *)((int)param_1 + 0x1264);
    if (iVar16 != -1) {
      pvVar9 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar9,iVar16);
      if (iVar16 != 0) {
        iVar10 = FUN_00434cd0(iVar16);
        iVar10 = *(int *)(iVar10 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        auVar18 = FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar10);
        uStack_198 = (double)(float10)auVar18;
      }
    }
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(2,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(2,iVar14,5);
    uStack_b4 = 0x5215;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(2,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(2,iVar14,0x1e);
    lStack_98 = FUN_00417410(2,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(2,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 2;
    uStack_130 = 1;
    uStack_14 = 0xffffffff;
    FUN_004174b0(2,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(2,iVar14,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar30 = 8;
    puVar15 = (undefined4 *)((int)param_1 + 0x2e8);
    puVar26 = (undefined4 *)0x0;
    uVar25 = 200;
    lVar11 = FUN_00417410(2,iVar14,3);
    uVar24 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar22 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 0x14;
    uVar21 = 1;
    uVar20 = 0x2712;
    pvVar9 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar9,uVar20,uVar21,uVar22,uVar23,uVar24,lVar11,uVar25,(undefined4)uStack_198,
                 uStack_198._4_4_,puVar26,puVar15,uVar8,puVar17,uVar30,uVar32,uVar34,uVar35,uVar37,
                 uVar39,uVar41,uVar43,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar12 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    lVar11 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar16 = (-(uint)(uVar12 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar11,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043b3f0
 * Address: 0043b3f0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043b3f0(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *this_02;
  uint uVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int iVar11;
  undefined4 *puVar12;
  int iVar13;
  undefined4 *puVar14;
  longlong lVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 *puVar25;
  RKC_RPGSCRN_RECT *pRVar26;
  int *piVar27;
  short *psVar28;
  undefined4 uVar29;
  short *psVar30;
  undefined4 uVar31;
  short *psVar32;
  undefined4 uVar33;
  long lVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_19c;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,5,0);
  iVar11 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar11 = iVar11 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar11 != 0);
  FUN_00450cd0((int)param_1);
  lVar15 = __ftol();
  iStack_19c = (int)lVar15;
  if (iStack_19c == 0) {
    iStack_19c = 1;
  }
  iVar11 = FUN_00451e60(param_1,5);
  if (*(int *)((int)param_1 + 0x314) == 0x1b) {
    iVar11 = *(int *)((int)param_1 + 0x30c);
    lVar15 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar15;
    *(int *)((int)param_1 + 0x30c) = iVar11 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x1b;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar13 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar13);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar13 = iVar13 + 1;
      } while (iVar13 < sVar1);
    }
    lVar15 = __ftol();
    uVar8 = (undefined4)lVar15;
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(5,iVar11,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar12 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar14 = auStack_104;
    for (iVar13 = 0x11; iVar13 != 0; iVar13 = iVar13 + -1) {
      *puVar14 = *puVar12;
      puVar12 = puVar12 + 1;
      puVar14 = puVar14 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(5,iVar11,5);
    uStack_b4 = 0x5215;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(4,iVar11,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(5,iVar11,0x1e);
    lStack_98 = FUN_00417410(5,iVar11,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(5,iVar11,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 5;
    uStack_130 = 1;
    uStack_14 = 0xffffffff;
    FUN_004174b0(5,iVar11,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(5,iVar11,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar33 = 0;
    uVar31 = 0xffffffff;
    puVar14 = &uStack_13c;
    uVar29 = 8;
    puVar12 = (undefined4 *)((int)param_1 + 0x2e8);
    uVar18 = *(undefined4 *)((int)param_1 + 4);
    puVar25 = (undefined4 *)0x0;
    uVar24 = 0;
    uVar23 = 0;
    uVar22 = 0;
    uVar21 = 0;
    uVar20 = 0xffffffff;
    uVar19 = 4;
    uVar17 = 1;
    uVar16 = 0x2715;
    this_02 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(this_02,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,uVar24,puVar25,
                 puVar12,uVar8,puVar14,uVar29,uVar31,uVar33,uVar35,uVar37,uVar39,uVar41,uVar43,lVar4
                );
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar11 = *(int *)((int)param_1 + 0x308);
  if (iVar11 < sVar1) {
    lVar4 = 0xb;
  }
  else {
    lVar4 = 0xc;
    iVar11 = 0;
  }
  iVar13 = FUN_00456210(DAT_0048ce04);
  if (iVar13 == *(int *)((int)param_1 + 0x458)) {
    uVar9 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    lVar34 = *(long *)((int)param_1 + 0xc);
    psVar30 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar13 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar32 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar28 = *(short **)((int)param_1 + 0x330);
    piVar27 = *(int **)((int)param_1 + 0x32c);
    pRVar26 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar11,*(int *)((int)param_1 + 0x2e0) + iVar13 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar13 * -10,sVar3,pRVar10,pRVar26,piVar27,psVar28,
               psVar30,psVar32,lVar34,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_19c <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043b950
 * Address: 0043b950
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043b950(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *this_02;
  uint uVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int iVar11;
  undefined4 *puVar12;
  int iVar13;
  undefined4 *puVar14;
  longlong lVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 *puVar25;
  RKC_RPGSCRN_RECT *pRVar26;
  int *piVar27;
  short *psVar28;
  undefined4 uVar29;
  short *psVar30;
  undefined4 uVar31;
  short *psVar32;
  undefined4 uVar33;
  long lVar34;
  long lVar35;
  undefined4 uVar36;
  long lVar37;
  undefined4 uVar38;
  RKC_RPGSCRN_RECT *pRVar39;
  undefined4 uVar40;
  long lVar41;
  undefined4 uVar42;
  long lVar43;
  long lVar44;
  int iStack_19c;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0xd,0);
  iVar11 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar11 = iVar11 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar11 != 0);
  FUN_00450cd0((int)param_1);
  lVar15 = __ftol();
  iStack_19c = (int)lVar15;
  if (iStack_19c == 0) {
    iStack_19c = 1;
  }
  iVar11 = FUN_00451e60(param_1,0xd);
  if (*(int *)((int)param_1 + 0x314) == 0x23) {
    iVar11 = *(int *)((int)param_1 + 0x30c);
    lVar15 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar15;
    *(int *)((int)param_1 + 0x30c) = iVar11 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x23;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar13 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar13);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar13 = iVar13 + 1;
      } while (iVar13 < sVar1);
    }
    lVar15 = __ftol();
    uVar8 = (undefined4)lVar15;
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(0xd,iVar11,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1b8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar12 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar14 = auStack_104;
    for (iVar13 = 0x11; iVar13 != 0; iVar13 = iVar13 + -1) {
      *puVar14 = *puVar12;
      puVar12 = puVar12 + 1;
      puVar14 = puVar14 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(0xd,iVar11,5);
    uStack_b4 = 0x4e25;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(0xd,iVar11,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(0xd,iVar11,0x1e);
    lStack_98 = FUN_00417410(0xd,iVar11,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(0xd,iVar11,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 0xd;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(0xd,iVar11,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(0xd,iVar11,4);
    uVar42 = 200;
    uVar40 = 0;
    uVar38 = 0;
    uVar36 = 0;
    uVar33 = 0;
    uVar31 = 0xffffffff;
    puVar14 = &uStack_13c;
    uVar29 = 8;
    uVar24 = *(undefined4 *)((int)param_1 + 0x126c);
    uVar23 = *(undefined4 *)((int)param_1 + 0x1268);
    puVar12 = (undefined4 *)((int)param_1 + 0x2e0);
    puVar25 = (undefined4 *)0x0;
    uVar22 = 0;
    uVar21 = 0;
    uVar20 = 0xffffffff;
    uVar19 = 4;
    uVar18 = 0xffffffff;
    uVar17 = 1;
    uVar16 = 0x271d;
    this_02 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(this_02,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,uVar24,puVar12,
                 puVar25,uVar8,puVar14,uVar29,uVar31,uVar33,iVar11,uVar36,uVar38,uVar40,uVar42,lVar4
                );
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar11 = *(int *)((int)param_1 + 0x308);
  if (iVar11 < sVar1) {
    lVar4 = 0xb;
  }
  else {
    lVar4 = 0xc;
    iVar11 = 0;
  }
  iVar13 = FUN_00456210(DAT_0048ce04);
  if (iVar13 == *(int *)((int)param_1 + 0x458)) {
    uVar9 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    lVar34 = *(long *)((int)param_1 + 0xc);
    psVar30 = *(short **)((int)param_1 + 0x334);
    lVar44 = 1000;
    lVar43 = 1000;
    iVar13 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar41 = 1000;
    pRVar39 = (RKC_RPGSCRN_RECT *)0x0;
    lVar37 = 1000;
    psVar32 = *(short **)((int)param_1 + 0x338);
    lVar35 = 0;
    psVar28 = *(short **)((int)param_1 + 0x330);
    piVar27 = *(int **)((int)param_1 + 0x32c);
    pRVar26 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar11,*(int *)((int)param_1 + 0x2e0) + iVar13 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar13 * -10,sVar3,pRVar10,pRVar26,piVar27,psVar28,
               psVar30,psVar32,lVar34,lVar35,lVar37,pRVar39,lVar41,lVar43,lVar44);
  }
  if (sVar1 + -1 + iStack_19c <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043beb0
 * Address: 0043beb0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043beb0(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *pvVar9;
  int iVar10;
  long lVar11;
  uint uVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined1 auVar18 [10];
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  long lVar35;
  undefined4 uVar36;
  long lVar37;
  undefined4 uVar38;
  RKC_RPGSCRN_RECT *pRVar39;
  undefined4 uVar40;
  long lVar41;
  undefined4 uVar42;
  long lVar43;
  long lVar44;
  int iStack_1a4;
  undefined8 uStack_198;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0xb,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar19 = __ftol();
  iStack_1a4 = (int)lVar19;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar14 = FUN_00451e60(param_1,0xb);
  if (*(int *)((int)param_1 + 0x314) == 0x21) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar19 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar19;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x21;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    lVar19 = __ftol();
    uVar8 = (undefined4)lVar19;
    uStack_198 = *(double *)((int)param_1 + 0x1268);
    iVar16 = *(int *)((int)param_1 + 0x1264);
    if (iVar16 != -1) {
      pvVar9 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar9,iVar16);
      if (iVar16 != 0) {
        iVar10 = FUN_00434cd0(iVar16);
        iVar10 = *(int *)(iVar10 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        auVar18 = FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar10);
        uStack_198 = (double)(float10)auVar18;
      }
    }
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(0xb,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(0xb,iVar14,5);
    uStack_b4 = 20000;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(0xb,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(0xb,iVar14,0x1e);
    lStack_98 = FUN_00417410(0xb,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(0xb,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 0xb;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(0xb,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(0xb,iVar14,4);
    uVar42 = 200;
    uVar40 = 0;
    uVar38 = 0;
    uVar36 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar30 = 8;
    puVar15 = (undefined4 *)((int)param_1 + 0x2e8);
    puVar26 = (undefined4 *)0x0;
    uVar25 = 200;
    lVar11 = FUN_00417410(0xb,iVar14,3);
    uVar24 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar22 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 0x14;
    uVar21 = 1;
    uVar20 = 0x271b;
    pvVar9 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar9,uVar20,uVar21,uVar22,uVar23,uVar24,lVar11,uVar25,(undefined4)uStack_198,
                 uStack_198._4_4_,puVar26,puVar15,uVar8,puVar17,uVar30,uVar32,uVar34,iVar14,uVar36,
                 uVar38,uVar40,uVar42,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar12 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    lVar11 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar44 = 1000;
    lVar43 = 1000;
    iVar16 = (-(uint)(uVar12 != 0) & 2) - 1;
    lVar41 = 1000;
    pRVar39 = (RKC_RPGSCRN_RECT *)0x0;
    lVar37 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar35 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar11,lVar35,lVar37,pRVar39,lVar41,lVar43,lVar44);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043c490
 * Address: 0043c490
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043c490(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *pvVar9;
  int iVar10;
  long lVar11;
  uint uVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  longlong lVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 *puVar27;
  RKC_RPGSCRN_RECT *pRVar28;
  int *piVar29;
  short *psVar30;
  undefined4 uVar31;
  short *psVar32;
  undefined4 uVar33;
  short *psVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_19c;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0xc,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar18 = __ftol();
  iStack_19c = (int)lVar18;
  if (iStack_19c == 0) {
    iStack_19c = 1;
  }
  iVar14 = FUN_00451e60(param_1,0xc);
  if (*(int *)((int)param_1 + 0x314) == 0x22) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar18 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar18;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x22;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    lVar18 = __ftol();
    uVar8 = (undefined4)lVar18;
    iVar16 = *(int *)((int)param_1 + 0x1264);
    if (iVar16 != -1) {
      pvVar9 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar9,iVar16);
      if (iVar16 != 0) {
        iVar10 = FUN_00434cd0(iVar16);
        iVar10 = *(int *)(iVar10 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar10);
      }
    }
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(0xc,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(0xc,iVar14,5);
    uStack_b4 = 0x5215;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(0xc,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(0xc,iVar14,0x1e);
    lStack_98 = FUN_00417410(0xc,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(0xc,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 0xc;
    uStack_130 = 1;
    uStack_14 = 0xffffffff;
    FUN_004174b0(0xc,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(0xc,iVar14,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar33 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar31 = 8;
    uVar26 = *(undefined4 *)((int)param_1 + 0x126c);
    puVar15 = (undefined4 *)((int)param_1 + 0x2e8);
    uVar25 = *(undefined4 *)((int)param_1 + 0x1268);
    puVar27 = (undefined4 *)0x0;
    uVar24 = 200;
    lVar11 = FUN_00417410(0xc,iVar14,3);
    uVar23 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar21 = *(undefined4 *)((int)param_1 + 4);
    uVar22 = 0x14;
    uVar20 = 1;
    uVar19 = 0x271c;
    pvVar9 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar9,uVar19,uVar20,uVar21,uVar22,uVar23,lVar11,uVar24,uVar25,uVar26,puVar27,
                 puVar15,uVar8,puVar17,uVar31,uVar33,uVar35,iVar14,uVar37,uVar39,uVar41,uVar43,lVar4
                );
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar12 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    psVar34 = *(short **)((int)param_1 + 0x338);
    psVar32 = *(short **)((int)param_1 + 0x334);
    iVar16 = (-(uint)(uVar12 != 0) & 2) - 1;
    lVar45 = 1000;
    lVar44 = 1000;
    lVar42 = 1000;
    lVar11 = *(long *)((int)param_1 + 0xc);
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    lVar36 = 0;
    psVar30 = *(short **)((int)param_1 + 0x330);
    piVar29 = *(int **)((int)param_1 + 0x32c);
    pRVar28 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar28,piVar29,psVar30,
               psVar32,psVar34,lVar11,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_19c <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043ca60
 * Address: 0043ca60
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043ca60(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  double *pdVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  void *this_02;
  uint uVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int iVar11;
  int iVar12;
  longlong lVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 *puVar23;
  undefined4 *puVar24;
  RKC_RPGSCRN_RECT *pRVar25;
  undefined4 uVar26;
  int *piVar27;
  undefined4 *puVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  long lVar35;
  undefined4 uVar36;
  long lVar37;
  undefined4 uVar38;
  long lVar39;
  undefined4 uVar40;
  RKC_RPGSCRN_RECT *pRVar41;
  undefined4 uVar42;
  long lVar43;
  undefined4 uVar44;
  long lVar45;
  undefined4 uVar46;
  long lVar47;
  long local_68;
  int iStack_64;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar5 = RKC_RPG_TABLEDATA::GetValue(this,6,0);
  iVar11 = 10;
  pdVar6 = (double *)&local_58;
  do {
    iVar11 = iVar11 + -1;
    *pdVar6 = (double)lVar5 * *pdVar6 * _DAT_00475218;
    pdVar6 = pdVar6 + 1;
  } while (iVar11 != 0);
  FUN_00450cd0((int)param_1);
  lVar13 = __ftol();
  iStack_64 = (int)lVar13;
  if (iStack_64 == 0) {
    iStack_64 = 1;
  }
  iVar11 = FUN_00451e60(param_1,6);
  if (*(int *)((int)param_1 + 0x314) == 0x1c) {
    iVar12 = *(int *)((int)param_1 + 0x30c);
    lVar13 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar13;
    *(int *)((int)param_1 + 0x30c) = iVar12 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x1c;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  if ((((*(int *)((int)param_1 + 0x308) < (int)sVar2) &&
       (*(int *)((int)param_1 + 0x308) != *(int *)((int)param_1 + 0x310))) &&
      (this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,*(long *)((int)param_1 + 0x31c),0),
      this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar12 = *(int *)((int)param_1 + 0x310) + 1, iVar12 <= *(int *)((int)param_1 + 0x308))) {
    do {
      this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar12);
      if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar12 = iVar12 + 1;
    } while (iVar12 <= *(int *)((int)param_1 + 0x308));
    if (bVar1) {
      uVar46 = 0;
      uVar44 = 200;
      uVar42 = 0;
      uVar40 = 0;
      uVar38 = 0;
      uVar36 = 0;
      uVar34 = 0;
      uVar32 = 0xffffffff;
      uVar30 = 8;
      puVar28 = (undefined4 *)0x0;
      puVar24 = (undefined4 *)((int)param_1 + 0x2e8);
      uVar16 = *(undefined4 *)((int)param_1 + 4);
      uVar26 = 0;
      puVar23 = (undefined4 *)0x0;
      uVar22 = 0;
      uVar21 = 0;
      uVar20 = 0;
      uVar19 = 0;
      uVar18 = 0;
      uVar17 = 0;
      uVar15 = 1;
      uVar14 = 0x521c;
      this_02 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
      FUN_0042fdc0(this_02,uVar14,uVar15,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,puVar23,
                   puVar24,uVar26,puVar28,uVar30,uVar32,uVar34,uVar36,uVar38,uVar40,uVar42,uVar44,
                   uVar46);
      iVar12 = *(int *)((int)param_1 + 0x1a0);
      if (*(int *)((int)param_1 + 0x1a4) != iVar12) {
        lVar5 = FUN_00417410(6,iVar11,0);
        iVar11 = (lVar5 * iVar12) / 100;
        iVar12 = iVar12 - *(int *)((int)param_1 + 0x1a4);
        if (iVar12 < iVar11) {
          iVar11 = iVar12;
        }
        *(int *)((int)param_1 + 0x1a4) = *(int *)((int)param_1 + 0x1a4) + iVar11;
        FUN_0044f6f0(param_1,6,0);
        FUN_004456d0(param_1,0,0x11,1);
      }
    }
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  local_68 = *(int *)((int)param_1 + 0x308);
  if (local_68 < sVar2) {
    lVar5 = 0xb;
  }
  else {
    lVar5 = 0xc;
    local_68 = 0;
  }
  iVar11 = FUN_00456210(DAT_0048ce04);
  if (iVar11 == *(int *)((int)param_1 + 0x458)) {
    uVar9 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    lVar35 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar47 = 1000;
    lVar45 = 1000;
    iVar11 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar43 = 1000;
    pRVar41 = (RKC_RPGSCRN_RECT *)0x0;
    lVar39 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar37 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar27 = *(int **)((int)param_1 + 0x32c);
    pRVar25 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar5,*(long *)((int)param_1 + 0x31c),
               local_68,*(int *)((int)param_1 + 0x2e0) + iVar11 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar11 * -10,sVar4,pRVar10,pRVar25,piVar27,psVar29,
               psVar31,psVar33,lVar35,lVar37,lVar39,pRVar41,lVar43,lVar45,lVar47);
  }
  *(int *)((int)param_1 + 0x310) = *(int *)((int)param_1 + 0x308);
  if (sVar2 + -1 + iStack_64 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043ceb0
 * Address: 0043ceb0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043ceb0(int *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *pRVar5;
  long lVar6;
  double *pdVar7;
  RKC_RPGSCRN_CHARANIM *pRVar8;
  RKC_RPGSCRN_CHARANIMCHART *pRVar9;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  uint uVar10;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  int iVar12;
  int iVar13;
  longlong lVar14;
  RKC_RPGSCRN_RECT *pRVar15;
  int *piVar16;
  short *psVar17;
  short *psVar18;
  short *psVar19;
  long lVar20;
  long lVar21;
  RKC_RPGSCRN_RECT *pRVar22;
  long lVar23;
  long lVar24;
  long lVar25;
  long local_68;
  int iStack_64;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  pRVar5 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar6 = RKC_RPG_TABLEDATA::GetValue(pRVar5,8,0);
  iVar12 = 10;
  pdVar7 = (double *)&local_58;
  do {
    iVar12 = iVar12 + -1;
    *pdVar7 = (double)lVar6 * *pdVar7 * _DAT_00475218;
    pdVar7 = pdVar7 + 1;
  } while (iVar12 != 0);
  FUN_00450cd0((int)param_1);
  lVar14 = __ftol();
  iStack_64 = (int)lVar14;
  if (iStack_64 == 0) {
    iStack_64 = 1;
  }
  iVar12 = FUN_00451e60(param_1,8);
  if (param_1[0xc5] == 0x1e) {
    iVar13 = param_1[0xc3];
    lVar14 = __ftol();
    param_1[0xc2] = (int)lVar14;
    param_1[0xc3] = iVar13 + 1;
  }
  else {
    param_1[0xc5] = 0x1e;
    param_1[0xb7] = 1;
    param_1[0xc2] = 0;
    param_1[0xc4] = -1;
    param_1[0xc3] = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar8 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar9 = RKC_RPGSCRN_CHARANIM::Get(pRVar8,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar9,param_1[199]);
  if ((((param_1[0xc2] < (int)sVar2) && (param_1[0xc2] != param_1[0xc4])) &&
      (this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar9,param_1[199],0),
      this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar13 = param_1[0xc4] + 1, iVar13 <= param_1[0xc2])) {
    do {
      this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,iVar13);
      if ((this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar13 = iVar13 + 1;
    } while (iVar13 <= param_1[0xc2]);
    if (bVar1) {
      if (param_1[0x577] == 0) {
        pRVar5 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xc9);
        param_1[0x578] = iVar12;
        lVar6 = RKC_RPG_TABLEDATA::GetValue(pRVar5,0,iVar12 + -1);
        param_1[0x577] = lVar6;
      }
      else {
        param_1[0x577] = 0;
      }
      FUN_00450080(param_1);
      FUN_00452910(param_1);
    }
  }
  pRVar8 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar9 = RKC_RPGSCRN_CHARANIM::Get(pRVar8,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar9,param_1[199]);
  local_68 = param_1[0xc2];
  if (local_68 < sVar2) {
    lVar6 = 0xb;
  }
  else {
    lVar6 = 0xc;
    local_68 = 0;
  }
  iVar12 = FUN_00456210(DAT_0048ce04);
  if (iVar12 == param_1[0x116]) {
    uVar10 = param_1[0x562] & 0x80000001;
    if ((int)uVar10 < 0) {
      uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
    }
    iVar12 = param_1[3];
    psVar18 = (short *)param_1[0xcd];
    lVar25 = 1000;
    lVar24 = 1000;
    iVar13 = (-(uint)(uVar10 != 0) & 2) - 1;
    lVar23 = 1000;
    pRVar22 = (RKC_RPGSCRN_RECT *)0x0;
    lVar21 = 1000;
    psVar19 = (short *)param_1[0xce];
    lVar20 = 0;
    psVar17 = (short *)param_1[0xcc];
    piVar16 = (int *)param_1[0xcb];
    pRVar15 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],lVar6,param_1[199],local_68,param_1[0xb8] + iVar13 * 10,
               param_1[0xb9] + iVar13 * -10,sVar4,pRVar11,pRVar15,piVar16,psVar17,psVar18,psVar19,
               iVar12,lVar20,lVar21,pRVar22,lVar23,lVar24,lVar25);
  }
  param_1[0xc4] = param_1[0xc2];
  if (sVar2 + -1 + iStack_64 <= param_1[0xc2]) {
    param_1[0xc6] = 1;
    param_1[0xb7] = 0;
    param_1[0xc5] = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043d290
 * Address: 0043d290
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043d290(int *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *pRVar5;
  long lVar6;
  double *pdVar7;
  RKC_RPGSCRN_CHARANIM *pRVar8;
  RKC_RPGSCRN_CHARANIMCHART *pRVar9;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  uint uVar10;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  int iVar12;
  int iVar13;
  longlong lVar14;
  RKC_RPGSCRN_RECT *pRVar15;
  int *piVar16;
  short *psVar17;
  short *psVar18;
  short *psVar19;
  long lVar20;
  long lVar21;
  RKC_RPGSCRN_RECT *pRVar22;
  long lVar23;
  long lVar24;
  long lVar25;
  long local_68;
  int iStack_64;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  pRVar5 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar6 = RKC_RPG_TABLEDATA::GetValue(pRVar5,7,0);
  iVar12 = 10;
  pdVar7 = (double *)&local_58;
  do {
    iVar12 = iVar12 + -1;
    *pdVar7 = (double)lVar6 * *pdVar7 * _DAT_00475218;
    pdVar7 = pdVar7 + 1;
  } while (iVar12 != 0);
  FUN_00450cd0((int)param_1);
  lVar14 = __ftol();
  iStack_64 = (int)lVar14;
  if (iStack_64 == 0) {
    iStack_64 = 1;
  }
  iVar12 = FUN_00451e60(param_1,7);
  if (param_1[0xc5] == 0x1d) {
    iVar13 = param_1[0xc3];
    lVar14 = __ftol();
    param_1[0xc2] = (int)lVar14;
    param_1[0xc3] = iVar13 + 1;
  }
  else {
    param_1[0xc5] = 0x1d;
    param_1[0xb7] = 1;
    param_1[0xc2] = 0;
    param_1[0xc4] = -1;
    param_1[0xc3] = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar8 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar9 = RKC_RPGSCRN_CHARANIM::Get(pRVar8,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar9,param_1[199]);
  if ((((param_1[0xc2] < (int)sVar2) && (param_1[0xc2] != param_1[0xc4])) &&
      (this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar9,param_1[199],0),
      this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar13 = param_1[0xc4] + 1, iVar13 <= param_1[0xc2])) {
    do {
      this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,iVar13);
      if ((this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar13 = iVar13 + 1;
    } while (iVar13 <= param_1[0xc2]);
    if (bVar1) {
      if (param_1[0x579] == 0) {
        pRVar5 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,200);
        param_1[0x57a] = iVar12;
        lVar6 = RKC_RPG_TABLEDATA::GetValue(pRVar5,0,iVar12 + -1);
        param_1[0x579] = lVar6;
      }
      else {
        param_1[0x579] = 0;
      }
      FUN_00450080(param_1);
      FUN_00452910(param_1);
    }
  }
  pRVar8 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar9 = RKC_RPGSCRN_CHARANIM::Get(pRVar8,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar9,param_1[199]);
  local_68 = param_1[0xc2];
  if (local_68 < sVar2) {
    lVar6 = 0xb;
  }
  else {
    lVar6 = 0xc;
    local_68 = 0;
  }
  iVar12 = FUN_00456210(DAT_0048ce04);
  if (iVar12 == param_1[0x116]) {
    uVar10 = param_1[0x562] & 0x80000001;
    if ((int)uVar10 < 0) {
      uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
    }
    iVar12 = param_1[3];
    psVar18 = (short *)param_1[0xcd];
    lVar25 = 1000;
    lVar24 = 1000;
    iVar13 = (-(uint)(uVar10 != 0) & 2) - 1;
    lVar23 = 1000;
    pRVar22 = (RKC_RPGSCRN_RECT *)0x0;
    lVar21 = 1000;
    psVar19 = (short *)param_1[0xce];
    lVar20 = 0;
    psVar17 = (short *)param_1[0xcc];
    piVar16 = (int *)param_1[0xcb];
    pRVar15 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],lVar6,param_1[199],local_68,param_1[0xb8] + iVar13 * 10,
               param_1[0xb9] + iVar13 * -10,sVar4,pRVar11,pRVar15,piVar16,psVar17,psVar18,psVar19,
               iVar12,lVar20,lVar21,pRVar22,lVar23,lVar24,lVar25);
  }
  param_1[0xc4] = param_1[0xc2];
  if (sVar2 + -1 + iStack_64 <= param_1[0xc2]) {
    param_1[0xc6] = 1;
    param_1[0xb7] = 0;
    param_1[0xc5] = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043d670
 * Address: 0043d670
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043d670(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  double *pdVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  uint uVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  int iVar11;
  longlong lVar12;
  RKC_RPGSCRN_RECT *pRVar13;
  int *piVar14;
  short *psVar15;
  short *psVar16;
  short *psVar17;
  long lVar18;
  long lVar19;
  long lVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  long local_64;
  int iStack_60;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar5 = RKC_RPG_TABLEDATA::GetValue(this,9,0);
  iVar11 = 10;
  pdVar6 = (double *)&local_58;
  do {
    iVar11 = iVar11 + -1;
    *pdVar6 = (double)lVar5 * *pdVar6 * _DAT_00475218;
    pdVar6 = pdVar6 + 1;
  } while (iVar11 != 0);
  FUN_00450cd0((int)param_1);
  lVar12 = __ftol();
  iStack_60 = (int)lVar12;
  if (iStack_60 == 0) {
    iStack_60 = 1;
  }
  FUN_00451e60(param_1,9);
  if (*(int *)((int)param_1 + 0x314) == 0x1f) {
    iVar11 = *(int *)((int)param_1 + 0x30c);
    lVar12 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar12;
    *(int *)((int)param_1 + 0x30c) = iVar11 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x1f;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  if ((((*(int *)((int)param_1 + 0x308) < (int)sVar2) &&
       (*(int *)((int)param_1 + 0x308) != *(int *)((int)param_1 + 0x310))) &&
      (this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,*(long *)((int)param_1 + 0x31c),0),
      this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar11 = *(int *)((int)param_1 + 0x310) + 1, iVar11 <= *(int *)((int)param_1 + 0x308))) {
    do {
      this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar11);
      if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar11 = iVar11 + 1;
    } while (iVar11 <= *(int *)((int)param_1 + 0x308));
    if (bVar1) {
      if (*(int *)((int)param_1 + 0x15ec) == 0) {
        if (*(int *)((int)param_1 + 0x1ac) != 0) {
          *(undefined4 *)((int)param_1 + 0x15ec) = 1;
        }
      }
      else {
        *(undefined4 *)((int)param_1 + 0x15ec) = 0;
      }
    }
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  local_64 = *(int *)((int)param_1 + 0x308);
  if (local_64 < sVar2) {
    lVar5 = 0xb;
  }
  else {
    lVar5 = 0xc;
    local_64 = 0;
  }
  iVar11 = FUN_00456210(DAT_0048ce04);
  if (iVar11 == *(int *)((int)param_1 + 0x458)) {
    uVar9 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    lVar18 = *(long *)((int)param_1 + 0xc);
    psVar16 = *(short **)((int)param_1 + 0x334);
    lVar24 = 1000;
    lVar23 = 1000;
    iVar11 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar22 = 1000;
    pRVar21 = (RKC_RPGSCRN_RECT *)0x0;
    lVar20 = 1000;
    psVar17 = *(short **)((int)param_1 + 0x338);
    lVar19 = 0;
    psVar15 = *(short **)((int)param_1 + 0x330);
    piVar14 = *(int **)((int)param_1 + 0x32c);
    pRVar13 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar5,*(long *)((int)param_1 + 0x31c),
               local_64,*(int *)((int)param_1 + 0x2e0) + iVar11 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar11 * -10,sVar4,pRVar10,pRVar13,piVar14,psVar15,
               psVar16,psVar17,lVar18,lVar19,lVar20,pRVar21,lVar22,lVar23,lVar24);
  }
  *(int *)((int)param_1 + 0x310) = *(int *)((int)param_1 + 0x308);
  if (sVar2 + -1 + iStack_60 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043da20
 * Address: 0043da20
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043da20(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *pvVar9;
  int iVar10;
  long lVar11;
  uint uVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined1 auVar18 [10];
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_1a4;
  undefined8 uStack_198;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0xe,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar19 = __ftol();
  iStack_1a4 = (int)lVar19;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar14 = FUN_00451e60(param_1,0xe);
  if (*(int *)((int)param_1 + 0x314) == 0x24) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar19 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar19;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x24;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    lVar19 = __ftol();
    uVar8 = (undefined4)lVar19;
    uStack_198 = *(double *)((int)param_1 + 0x1268);
    iVar16 = *(int *)((int)param_1 + 0x1264);
    if (iVar16 != -1) {
      pvVar9 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar9,iVar16);
      if (iVar16 != 0) {
        iVar10 = FUN_00434cd0(iVar16);
        iVar10 = *(int *)(iVar10 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        auVar18 = FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar10);
        uStack_198 = (double)(float10)auVar18;
      }
    }
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(0xe,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(0xe,iVar14,5);
    uStack_b4 = 0x521b;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(0xe,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(0xe,iVar14,0x1e);
    lStack_98 = FUN_00417410(0xe,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(0xe,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 0xe;
    uStack_130 = 2;
    uStack_14 = 0xffffffff;
    FUN_004174b0(0xe,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(0xe,iVar14,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar30 = 8;
    puVar15 = (undefined4 *)((int)param_1 + 0x2e8);
    puVar26 = (undefined4 *)0x0;
    uVar25 = 200;
    lVar11 = FUN_00417410(0xe,iVar14,3);
    uVar24 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar22 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 0x14;
    uVar21 = 1;
    uVar20 = 0x271e;
    pvVar9 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar9,uVar20,uVar21,uVar22,uVar23,uVar24,lVar11,uVar25,(undefined4)uStack_198,
                 uStack_198._4_4_,puVar26,puVar15,uVar8,puVar17,uVar30,uVar32,uVar34,uVar35,uVar37,
                 uVar39,uVar41,uVar43,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar12 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    lVar11 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar16 = (-(uint)(uVar12 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar11,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043e000
 * Address: 0043e000
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043e000(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  void *pvVar8;
  int iVar9;
  undefined4 uVar10;
  uint uVar11;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar12;
  int iVar13;
  undefined4 *puVar14;
  int iVar15;
  undefined4 *puVar16;
  undefined1 auVar17 [10];
  longlong lVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  long lVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_1a4;
  undefined8 uStack_1a0;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  int iStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,10,0);
  iVar13 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar13 = iVar13 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar13 != 0);
  FUN_00450cd0((int)param_1);
  lVar18 = __ftol();
  iStack_1a4 = (int)lVar18;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar13 = FUN_00451e60(param_1,10);
  if (*(int *)((int)param_1 + 0x314) == 0x20) {
    iVar13 = *(int *)((int)param_1 + 0x30c);
    lVar18 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar18;
    *(int *)((int)param_1 + 0x30c) = iVar13 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x20;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar15 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar15);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar15 = iVar15 + 1;
      } while (iVar15 < sVar1);
    }
    iVar15 = *(int *)((int)param_1 + 0x1264);
    uStack_1a0 = *(double *)((int)param_1 + 0x1268);
    if (iVar15 != -1) {
      pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar15 = FUN_004299e0(pvVar8,iVar15);
      if (iVar15 != 0) {
        iVar9 = FUN_00434cd0(iVar15);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar15 = FUN_00434cd0(iVar15);
        auVar17 = FUN_00414080(*(int *)(iVar15 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar9);
        uStack_1a0 = (double)(float10)auVar17;
      }
    }
    lVar18 = __ftol();
    uVar10 = (undefined4)lVar18;
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(10,iVar13,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1b8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar14 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar16 = auStack_104;
    for (iVar15 = 0x11; iVar15 != 0; iVar15 = iVar15 + -1) {
      *puVar16 = *puVar14;
      puVar14 = puVar14 + 1;
      puVar16 = puVar16 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(10,iVar13,5);
    uVar11 = _rand();
    uVar11 = uVar11 & 0x80000003;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffc) + 1;
    }
    iStack_b4 = uVar11 + 21000;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(10,iVar13,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(10,iVar13,0x1e);
    lStack_98 = FUN_00417410(10,iVar13,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(10,iVar13,0x1d);
    uStack_8c = 0;
    uStack_1c = 1;
    uStack_18 = 10;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(10,iVar13,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(10,iVar13,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar16 = &uStack_13c;
    uVar30 = 8;
    puVar14 = (undefined4 *)((int)param_1 + 0x2e0);
    puVar26 = (undefined4 *)0x0;
    uVar23 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar21 = *(undefined4 *)((int)param_1 + 4);
    uVar25 = 0;
    uVar24 = 0;
    uVar22 = 4;
    uVar20 = 1;
    uVar19 = 0x271a;
    pvVar8 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar8,uVar19,uVar20,uVar21,uVar22,uVar23,uVar24,uVar25,(undefined4)uStack_1a0,
                 uStack_1a0._4_4_,puVar14,puVar26,uVar10,puVar16,uVar30,uVar32,uVar34,iVar13,uVar37,
                 uVar39,uVar41,uVar43,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xb);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar13 = *(int *)((int)param_1 + 0x308);
  if (iVar13 < sVar1) {
    lVar4 = 0xb;
  }
  else {
    lVar4 = 0xc;
    iVar13 = 0;
  }
  iVar15 = FUN_00456210(DAT_0048ce04);
  if (iVar15 == *(int *)((int)param_1 + 0x458)) {
    uVar11 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffe) + 1;
    }
    lVar35 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar15 = (-(uint)(uVar11 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar12 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar13,*(int *)((int)param_1 + 0x2e0) + iVar15 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar15 * -10,sVar3,pRVar12,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar35,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043e5e0
 * Address: 0043e5e0
 */

undefined4 __fastcall FUN_0043e5e0(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  int iVar4;
  void *pvVar5;
  int iVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  int iVar9;
  long lVar10;
  long lVar11;
  uint uVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  undefined4 *puVar14;
  code *pcVar15;
  undefined1 auVar16 [10];
  longlong lVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 *puVar27;
  RKC_RPGSCRN_RECT *pRVar28;
  undefined4 uVar29;
  int *piVar30;
  undefined4 *puVar31;
  short *psVar32;
  undefined4 uVar33;
  short *psVar34;
  undefined4 uVar35;
  short *psVar36;
  undefined4 uVar37;
  undefined4 uVar38;
  undefined4 uVar39;
  long lVar40;
  undefined4 uVar41;
  RKC_RPGSCRN_RECT *pRVar42;
  undefined4 uVar43;
  long lVar44;
  undefined4 uVar45;
  long lVar46;
  undefined4 uVar47;
  long lVar48;
  long local_1a4;
  long local_1a0;
  int iStack_19c;
  undefined8 uStack_198;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  bVar1 = false;
  iVar4 = FUN_00451e60(param_1,0xf);
  FUN_00450c60((int)param_1);
  if (*(int *)((int)param_1 + 0x314) == 0x25) {
    *(int *)((int)param_1 + 0x30c) = *(int *)((int)param_1 + 0x30c) + 1;
    lVar17 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar17;
  }
  else {
    uVar47 = 0;
    uVar45 = 200;
    uVar43 = 0;
    uVar41 = 0;
    uVar39 = 0;
    uVar38 = 0;
    uVar37 = 0;
    uVar35 = 0xffffffff;
    uVar33 = 8;
    puVar31 = (undefined4 *)0x0;
    puVar14 = (undefined4 *)((int)param_1 + 0x2e8);
    uVar29 = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0x25;
    puVar27 = (undefined4 *)0x0;
    uVar26 = 0;
    uVar25 = 0;
    uVar24 = 0;
    *(int *)((int)param_1 + 0x1618) = *(int *)((int)param_1 + 0x1618) + 1;
    uVar20 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 0;
    uVar22 = 0;
    uVar21 = 0;
    uVar19 = 1;
    uVar18 = 0x5221;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pvVar5 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar5,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,uVar24,uVar25,uVar26,puVar27,
                 puVar14,uVar29,puVar31,uVar33,uVar35,uVar37,uVar38,uVar39,uVar41,uVar43,uVar45,
                 uVar47);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  local_1a0 = 5;
  local_1a4 = 6;
  if (*(int *)((int)param_1 + 0x4f4) != 0) {
    iVar6 = FUN_004663a0(*(int *)((int)param_1 + 0x4f4));
    if (iVar6 == 3) {
      local_1a0 = 0xf;
      local_1a4 = 0x10;
    }
    else {
      iVar6 = FUN_004663a0(*(int *)((int)param_1 + 0x4f4));
      if (iVar6 == 1) {
        local_1a0 = 0x13;
        local_1a4 = 0x14;
      }
    }
  }
  pcVar15 = Get_exref;
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,local_1a0);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,local_1a4);
  RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,local_1a0);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
  iStack_19c = (int)sVar2;
  if ((((*(int *)((int)param_1 + 0x308) < iStack_19c) &&
       (*(int *)((int)param_1 + 0x308) != *(int *)((int)param_1 + 0x310))) &&
      (this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,*(long *)((int)param_1 + 0x31c),0),
      this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar6 = *(int *)((int)param_1 + 0x310) + 1, iVar6 <= *(int *)((int)param_1 + 0x308))) {
    do {
      this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,iVar6);
      if ((this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 <= *(int *)((int)param_1 + 0x308));
    if ((bVar1) && (*(int *)((int)param_1 + 0x4f4) != 0)) {
      uStack_198 = *(double *)((int)param_1 + 0x1268);
      iVar6 = *(int *)((int)param_1 + 0x1264);
      if (iVar6 != -1) {
        pvVar5 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
        iVar6 = FUN_004299e0(pvVar5,iVar6);
        if (iVar6 != 0) {
          iVar9 = FUN_00434cd0(iVar6);
          iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
          iVar6 = FUN_00434cd0(iVar6);
          auVar16 = FUN_00414080(*(int *)(iVar6 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar9);
          uStack_198 = (double)(float10)auVar16;
        }
      }
      FUN_00417e70((int)&uStack_13c);
      uStack_134 = *(undefined4 *)((int)param_1 + 4);
      uStack_13c = 0;
      uStack_138 = 0;
      lVar10 = FUN_00417410(0xf,iVar4,0);
      iStack_12c = (lVar10 * *(int *)((int)param_1 + 0x1b4)) / 100;
      if (iStack_12c < 1) {
        iStack_12c = 1;
      }
      uStack_128 = *(undefined4 *)((int)param_1 + 0x1b8);
      uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
      puVar14 = (undefined4 *)((int)param_1 + 0x1dc);
      puVar27 = auStack_104;
      for (iVar6 = 0x11; iVar6 != 0; iVar6 = iVar6 + -1) {
        *puVar27 = *puVar14;
        puVar14 = puVar14 + 1;
        puVar27 = puVar27 + 1;
      }
      FUN_0044fca0(param_1,aiStack_124);
      lStack_bc = FUN_00417410(0xf,iVar4,5);
      uStack_b4 = 0x5220;
      uStack_a8 = 0;
      uStack_a4 = 0;
      uStack_a0 = 0;
      lVar10 = FUN_00417410(0xf,iVar4,1);
      iStack_ac = lVar10 + *(int *)((int)param_1 + 0x1cc);
      lStack_9c = FUN_00417410(0xf,iVar4,0x1e);
      lStack_98 = FUN_00417410(0xf,iVar4,0x1c);
      uStack_94 = 0;
      lStack_90 = FUN_00417410(0xf,iVar4,0x1d);
      uStack_8c = 0;
      uStack_1c = 1;
      uStack_18 = 0xf;
      uStack_130 = 0;
      uStack_14 = 0xffffffff;
      FUN_004174b0(0xf,iVar4,(int)auStack_64,alStack_40,(int)auStack_88);
      lVar10 = FUN_00417410(0xf,iVar4,4);
      uVar39 = 200;
      uVar38 = 0;
      uVar37 = 0;
      uVar35 = 0;
      uVar33 = 0;
      uVar29 = 0;
      uVar26 = 0xffffffff;
      puVar27 = &uStack_13c;
      uVar25 = 8;
      puVar14 = (undefined4 *)((int)param_1 + 0x2e8);
      uVar24 = 1;
      puVar31 = (undefined4 *)0x0;
      uVar23 = 200;
      lVar11 = FUN_00417410(0xf,iVar4,3);
      uVar20 = *(undefined4 *)((int)param_1 + 0x1264);
      uVar18 = *(undefined4 *)((int)param_1 + 4);
      uVar22 = 0x14;
      uVar21 = 1;
      uVar19 = 0x271f;
      pvVar5 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
      FUN_0042fdc0(pvVar5,uVar19,uVar21,uVar18,uVar22,uVar20,lVar11,uVar23,(undefined4)uStack_198,
                   uStack_198._4_4_,puVar31,puVar14,uVar24,puVar27,uVar25,uVar26,uVar29,uVar33,
                   uVar35,uVar37,uVar38,uVar39,lVar10);
      FUN_004456d0(param_1,0,0x9a,0);
      pcVar15 = Get_exref;
    }
  }
  if (*(int *)((int)param_1 + 0x30c) == 6) {
    if (*(void **)((int)param_1 + 0x4f4) == (void *)0x0) {
      iVar4 = 1;
    }
    else {
      iVar4 = FUN_00466110(*(void **)((int)param_1 + 0x4f4),4);
      if (iVar4 == -1) goto LAB_0043eb87;
    }
    FUN_004456d0(param_1,0,iVar4,0);
  }
LAB_0043eb87:
  iVar4 = *(int *)((int)param_1 + 0x308);
  if (iStack_19c <= iVar4) {
    iVar4 = iVar4 - iStack_19c;
    local_1a0 = local_1a4;
    pRVar7 = (RKC_RPGSCRN_CHARANIM *)(*pcVar15)(*(undefined4 *)((int)param_1 + 0x340));
    pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,local_1a4);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,*(long *)((int)param_1 + 0x31c));
    iStack_19c = (int)sVar2;
  }
  if (iStack_19c <= iVar4) {
    iVar4 = iStack_19c + -1;
  }
  iVar6 = FUN_00456210(DAT_0048ce04);
  if (iVar6 == *(int *)((int)param_1 + 0x458)) {
    uVar12 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    lVar10 = *(long *)((int)param_1 + 0xc);
    psVar36 = *(short **)((int)param_1 + 0x338);
    lVar48 = 1000;
    lVar46 = 1000;
    iVar6 = (-(uint)(uVar12 != 0) & 2) - 1;
    lVar44 = 1000;
    pRVar42 = (RKC_RPGSCRN_RECT *)0x0;
    lVar40 = 1000;
    psVar34 = *(short **)((int)param_1 + 0x334);
    lVar11 = 0;
    psVar32 = *(short **)((int)param_1 + 0x330);
    piVar30 = *(int **)((int)param_1 + 0x32c);
    pRVar28 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),local_1a0,
               *(long *)((int)param_1 + 0x31c),iVar4,*(int *)((int)param_1 + 0x2e0) + iVar6 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar6 * -10,sVar2,pRVar13,pRVar28,piVar30,psVar32,
               psVar34,psVar36,lVar10,lVar11,lVar40,pRVar42,lVar44,lVar46,lVar48);
  }
  if ((local_1a0 == local_1a4) && (iVar4 == iStack_19c + -1)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  *(undefined4 *)((int)param_1 + 0x310) = *(undefined4 *)((int)param_1 + 0x308);
  return 0;
}



/*
 * Function: FUN_0043ecf0
 * Address: 0043ecf0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043ecf0(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  undefined4 uVar8;
  void *pvVar9;
  int iVar10;
  uint uVar11;
  long lVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined1 auVar18 [10];
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  undefined4 uVar35;
  long lVar36;
  undefined4 uVar37;
  long lVar38;
  undefined4 uVar39;
  RKC_RPGSCRN_RECT *pRVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  long lVar45;
  int iStack_1a4;
  undefined8 uStack_198;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  int iStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0x10,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar19 = __ftol();
  iStack_1a4 = (int)lVar19;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar14 = FUN_00451e60(param_1,0x10);
  if (*(int *)((int)param_1 + 0x314) == 0x26) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar19 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar19;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x26;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    lVar19 = __ftol();
    uVar8 = (undefined4)lVar19;
    uStack_198 = *(double *)((int)param_1 + 0x1268);
    iVar16 = *(int *)((int)param_1 + 0x1264);
    if (iVar16 != -1) {
      pvVar9 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar9,iVar16);
      if (iVar16 != 0) {
        iVar10 = FUN_00434cd0(iVar16);
        iVar10 = *(int *)(iVar10 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        auVar18 = FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar10);
        uStack_198 = (double)(float10)auVar18;
      }
    }
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(0x10,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1c8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(0x10,iVar14,5);
    uVar11 = _rand();
    uVar11 = uVar11 & 0x80000003;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffc) + 1;
    }
    iStack_b4 = uVar11 + 21000;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(0x10,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(0x10,iVar14,0x1e);
    lStack_98 = FUN_00417410(0x10,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(0x10,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 0x10;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(0x10,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(0x10,iVar14,4);
    uVar43 = 200;
    uVar41 = 0;
    uVar39 = 0;
    uVar37 = 0;
    uVar35 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar30 = 8;
    puVar15 = (undefined4 *)((int)param_1 + 0x2e8);
    puVar26 = (undefined4 *)0x0;
    uVar25 = 200;
    lVar12 = FUN_00417410(0x10,iVar14,3);
    uVar24 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar22 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 0x14;
    uVar21 = 1;
    uVar20 = 0x2720;
    pvVar9 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar9,uVar20,uVar21,uVar22,uVar23,uVar24,lVar12,uVar25,(undefined4)uStack_198,
                 uStack_198._4_4_,puVar26,puVar15,uVar8,puVar17,uVar30,uVar32,uVar34,uVar35,uVar37,
                 uVar39,uVar41,uVar43,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar11 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffe) + 1;
    }
    lVar12 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar44 = 1000;
    iVar16 = (-(uint)(uVar11 != 0) & 2) - 1;
    lVar42 = 1000;
    pRVar40 = (RKC_RPGSCRN_RECT *)0x0;
    lVar38 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar36 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar12,lVar36,lVar38,pRVar40,lVar42,lVar44,lVar45);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043f2e0
 * Address: 0043f2e0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043f2e0(void *param_1)

{
  short sVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *pRVar6;
  RKC_RPGSCRN_CHARANIMCHART *pRVar7;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  void *pvVar8;
  int iVar9;
  undefined4 uVar10;
  uint uVar11;
  long lVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined1 auVar18 [10];
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  int *piVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  long lVar35;
  undefined4 uVar36;
  long lVar37;
  undefined4 uVar38;
  RKC_RPGSCRN_RECT *pRVar39;
  undefined4 uVar40;
  long lVar41;
  undefined4 uVar42;
  long lVar43;
  long lVar44;
  int iStack_1a4;
  undefined8 uStack_1a0;
  undefined8 local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  int iStack_12c;
  undefined4 uStack_128;
  int aiStack_124 [8];
  undefined4 auStack_104 [17];
  undefined4 uStack_c0;
  long lStack_bc;
  int iStack_b4;
  int iStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  long lStack_9c;
  long lStack_98;
  undefined4 uStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  undefined auStack_88 [36];
  undefined auStack_64 [36];
  long alStack_40 [9];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  local_18c._0_4_ = 0x33333333;
  local_18c._4_4_ = 0x3fe33333;
  local_184 = 0x66666666;
  local_180 = 0x3fe66666;
  local_17c = 0x9999999a;
  local_178 = 0x3fe99999;
  local_174 = 0;
  local_170 = 0x3ff00000;
  local_16c = 0x66666666;
  local_168 = 0x3ff26666;
  local_164 = 0xcccccccd;
  local_160 = 0x3ff4cccc;
  local_15c = 0x33333333;
  local_158 = 0x3ff73333;
  local_154 = 0x9999999a;
  local_150 = 0x3ff99999;
  local_14c = 0;
  local_148 = 0x3ffc0000;
  local_144 = 0x66666666;
  local_140 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0x15,0);
  iVar14 = 10;
  pdVar5 = (double *)&local_18c;
  do {
    iVar14 = iVar14 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar14 != 0);
  FUN_00450cd0((int)param_1);
  lVar19 = __ftol();
  iStack_1a4 = (int)lVar19;
  if (iStack_1a4 == 0) {
    iStack_1a4 = 1;
  }
  iVar14 = FUN_00451e60(param_1,0x15);
  if (*(int *)((int)param_1 + 0x314) == 0x2b) {
    iVar14 = *(int *)((int)param_1 + 0x30c);
    lVar19 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar19;
    *(int *)((int)param_1 + 0x30c) = iVar14 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x2b;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
    pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar7,*(long *)((int)param_1 + 0x31c),0);
    if ((this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) && (iVar16 = 0, 0 < sVar1)) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar16);
        if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
           (uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar2 & 0x40) != 0)) break;
        iVar16 = iVar16 + 1;
      } while (iVar16 < sVar1);
    }
    iVar16 = *(int *)((int)param_1 + 0x1264);
    uStack_1a0 = *(double *)((int)param_1 + 0x1268);
    if (iVar16 != -1) {
      pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar16 = FUN_004299e0(pvVar8,iVar16);
      if (iVar16 != 0) {
        iVar9 = FUN_00434cd0(iVar16);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)param_1 + 0x2e4);
        iVar16 = FUN_00434cd0(iVar16);
        auVar18 = FUN_00414080(*(int *)(iVar16 + 0x18) - *(int *)((int)param_1 + 0x2e0),iVar9);
        uStack_1a0 = (double)(float10)auVar18;
      }
    }
    lVar19 = __ftol();
    uVar10 = (undefined4)lVar19;
    FUN_00417e70((int)&uStack_13c);
    uStack_134 = *(undefined4 *)((int)param_1 + 4);
    uStack_13c = 0;
    uStack_138 = 3;
    lVar4 = FUN_00417410(0x15,iVar14,0);
    iStack_12c = lVar4 + *(int *)((int)param_1 + 0x1c4);
    if (iStack_12c < 1) {
      iStack_12c = 1;
    }
    uStack_128 = *(undefined4 *)((int)param_1 + 0x1b8);
    uStack_c0 = *(undefined4 *)((int)param_1 + 0x34);
    puVar15 = (undefined4 *)((int)param_1 + 0x1dc);
    puVar17 = auStack_104;
    for (iVar16 = 0x11; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar17 = *puVar15;
      puVar15 = puVar15 + 1;
      puVar17 = puVar17 + 1;
    }
    FUN_0044fca0(param_1,aiStack_124);
    lStack_bc = FUN_00417410(0x15,iVar14,5);
    uVar11 = _rand();
    uVar11 = uVar11 & 0x80000003;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffc) + 1;
    }
    iStack_b4 = uVar11 + 21000;
    uStack_a8 = 0;
    uStack_a4 = 0;
    uStack_a0 = 0;
    lVar4 = FUN_00417410(0x15,iVar14,1);
    iStack_ac = lVar4 + *(int *)((int)param_1 + 0x1cc);
    lStack_9c = FUN_00417410(0x15,iVar14,0x1e);
    lStack_98 = FUN_00417410(0x15,iVar14,0x1c);
    uStack_94 = 0;
    lStack_90 = FUN_00417410(0x15,iVar14,0x1d);
    uStack_8c = 0;
    uStack_1c = 0;
    uStack_18 = 0x15;
    uStack_130 = 0;
    uStack_14 = 0xffffffff;
    FUN_004174b0(0x15,iVar14,(int)auStack_64,alStack_40,(int)auStack_88);
    lVar4 = FUN_00417410(0x15,iVar14,4);
    uVar42 = 200;
    uVar40 = 0;
    uVar38 = 0;
    uVar36 = 0;
    uVar34 = 0;
    uVar32 = 0xffffffff;
    puVar17 = &uStack_13c;
    uVar30 = 8;
    puVar15 = (undefined4 *)((int)param_1 + 0x2e0);
    puVar26 = (undefined4 *)0x0;
    uVar25 = 0;
    lVar12 = FUN_00417410(0x15,iVar14,3);
    uVar24 = *(undefined4 *)((int)param_1 + 0x1264);
    uVar22 = *(undefined4 *)((int)param_1 + 4);
    uVar23 = 4;
    uVar21 = 1;
    uVar20 = 0x2725;
    pvVar8 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(pvVar8,uVar20,uVar21,uVar22,uVar23,uVar24,lVar12,uVar25,(undefined4)uStack_1a0,
                 uStack_1a0._4_4_,puVar15,puVar26,uVar10,puVar17,uVar30,uVar32,uVar34,iVar14,uVar36,
                 uVar38,uVar40,uVar42,lVar4);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar6 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  pRVar7 = RKC_RPGSCRN_CHARANIM::Get(pRVar6,0xd);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar7,*(long *)((int)param_1 + 0x31c));
  iVar14 = *(int *)((int)param_1 + 0x308);
  if (iVar14 < sVar1) {
    lVar4 = 0xd;
  }
  else {
    lVar4 = 0xe;
    iVar14 = 0;
  }
  iVar16 = FUN_00456210(DAT_0048ce04);
  if (iVar16 == *(int *)((int)param_1 + 0x458)) {
    uVar11 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar11 < 0) {
      uVar11 = (uVar11 - 1 | 0xfffffffe) + 1;
    }
    lVar12 = *(long *)((int)param_1 + 0xc);
    psVar31 = *(short **)((int)param_1 + 0x334);
    lVar44 = 1000;
    lVar43 = 1000;
    iVar16 = (-(uint)(uVar11 != 0) & 2) - 1;
    lVar41 = 1000;
    pRVar39 = (RKC_RPGSCRN_RECT *)0x0;
    lVar37 = 1000;
    psVar33 = *(short **)((int)param_1 + 0x338);
    lVar35 = 0;
    psVar29 = *(short **)((int)param_1 + 0x330);
    piVar28 = *(int **)((int)param_1 + 0x32c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar14,*(int *)((int)param_1 + 0x2e0) + iVar16 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar16 * -10,sVar3,pRVar13,pRVar27,piVar28,psVar29,
               psVar31,psVar33,lVar12,lVar35,lVar37,pRVar39,lVar41,lVar43,lVar44);
  }
  if (sVar1 + -1 + iStack_1a4 <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043f8d0
 * Address: 0043f8d0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043f8d0(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  void *this_00;
  RKC_RPGSCRN_CHARANIM *this_01;
  RKC_RPGSCRN_CHARANIMCHART *this_02;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_03;
  RKC_RPGSCRN_CHARANIMCELL *this_04;
  int iVar6;
  uint uVar7;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar8;
  int iVar9;
  int iVar10;
  longlong lVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 *puVar21;
  undefined4 *puVar22;
  RKC_RPGSCRN_RECT *pRVar23;
  undefined4 uVar24;
  int *piVar25;
  undefined4 *puVar26;
  short *psVar27;
  undefined4 uVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  long lVar33;
  undefined4 uVar34;
  long lVar35;
  undefined4 uVar36;
  long lVar37;
  undefined4 uVar38;
  RKC_RPGSCRN_RECT *pRVar39;
  undefined4 uVar40;
  long lVar41;
  undefined4 uVar42;
  long lVar43;
  undefined4 uVar44;
  long lVar45;
  int iStack_5c;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0x11,0);
  iVar9 = 10;
  pdVar5 = (double *)&local_58;
  do {
    iVar9 = iVar9 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar9 != 0);
  FUN_00450cd0((int)param_1);
  lVar11 = __ftol();
  iStack_5c = (int)lVar11;
  if (iStack_5c == 0) {
    iStack_5c = 1;
  }
  FUN_00451e60(param_1,0x11);
  if (*(int *)((int)param_1 + 0x314) == 0x27) {
    iVar9 = *(int *)((int)param_1 + 0x30c);
    lVar11 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar11;
    *(int *)((int)param_1 + 0x30c) = iVar9 + 1;
  }
  else {
    uVar44 = 0;
    uVar42 = 200;
    uVar40 = 0;
    uVar38 = 0;
    uVar36 = 0;
    uVar34 = 0;
    uVar32 = 0;
    uVar30 = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x314) = 0x27;
    uVar28 = 8;
    puVar26 = (undefined4 *)0x0;
    puVar22 = (undefined4 *)((int)param_1 + 0x2e8);
    uVar14 = *(undefined4 *)((int)param_1 + 4);
    uVar24 = 0;
    puVar21 = (undefined4 *)0x0;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 0;
    uVar15 = 0;
    uVar13 = 1;
    uVar12 = 0x5224;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    this_00 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
    FUN_0042fdc0(this_00,uVar12,uVar13,uVar14,uVar15,uVar16,uVar17,uVar18,uVar19,uVar20,puVar21,
                 puVar22,uVar24,puVar26,uVar28,uVar30,uVar32,uVar34,uVar36,uVar38,uVar40,uVar42,
                 uVar44);
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  this_01 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  this_02 = RKC_RPGSCRN_CHARANIM::Get(this_01,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_02,*(long *)((int)param_1 + 0x31c));
  iVar9 = (int)sVar2;
  if ((((*(int *)((int)param_1 + 0x308) < iVar9) &&
       (*(int *)((int)param_1 + 0x308) != *(int *)((int)param_1 + 0x310))) &&
      (this_03 = RKC_RPGSCRN_CHARANIMCHART::Get(this_02,*(long *)((int)param_1 + 0x31c),0),
      this_03 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar10 = *(int *)((int)param_1 + 0x310) + 1, iVar10 <= *(int *)((int)param_1 + 0x308))) {
    do {
      this_04 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_03,iVar10);
      if ((this_04 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_04), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar10 = iVar10 + 1;
    } while (iVar10 <= *(int *)((int)param_1 + 0x308));
    if (((bVar1) && (iVar10 = FUN_00434cd0(DAT_0048ce0c), iVar10 == *(int *)((int)param_1 + 4))) &&
       (*(undefined4 *)((int)param_1 + 0x1624) = 1, DAT_0048ce3c == 0)) {
      DAT_0048ce3c = 1;
      _DAT_0048ce30 = 0;
      DAT_0048ce50 = 0;
      DAT_0048ce54 = 0;
      DAT_0048ce64 = 0;
      DAT_0048ce58 = 0;
      DAT_0048ce68 = 0;
    }
  }
  iVar10 = *(int *)((int)param_1 + 0x308);
  if (iVar10 < iVar9) {
    lVar4 = 0xb;
  }
  else {
    lVar4 = 0xc;
    iVar10 = 0;
  }
  iVar6 = FUN_00456210(DAT_0048ce04);
  if (iVar6 == *(int *)((int)param_1 + 0x458)) {
    uVar7 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar7 < 0) {
      uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
    }
    lVar33 = *(long *)((int)param_1 + 0xc);
    psVar29 = *(short **)((int)param_1 + 0x334);
    lVar45 = 1000;
    lVar43 = 1000;
    iVar6 = (-(uint)(uVar7 != 0) & 2) - 1;
    lVar41 = 1000;
    pRVar39 = (RKC_RPGSCRN_RECT *)0x0;
    lVar37 = 1000;
    psVar31 = *(short **)((int)param_1 + 0x338);
    lVar35 = 0;
    psVar27 = *(short **)((int)param_1 + 0x330);
    piVar25 = *(int **)((int)param_1 + 0x32c);
    pRVar23 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar8 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar10,*(int *)((int)param_1 + 0x2e0) + iVar6 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar6 * -10,sVar2,pRVar8,pRVar23,piVar25,psVar27,
               psVar29,psVar31,lVar33,lVar35,lVar37,pRVar39,lVar41,lVar43,lVar45);
  }
  *(int *)((int)param_1 + 0x310) = *(int *)((int)param_1 + 0x308);
  if (iVar9 + -1 + iStack_5c <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  return 0;
}



/*
 * Function: FUN_0043fcc0
 * Address: 0043fcc0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_0043fcc0(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  RKC_RPG_TABLEDATA *this;
  long lVar4;
  double *pdVar5;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_02;
  RKC_RPGSCRN_CHARANIMCELL *this_03;
  void *this_04;
  int iVar6;
  uint uVar7;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar8;
  int iVar9;
  int iVar10;
  longlong lVar11;
  RKC_RPGSCRN_RECT *pRVar12;
  int *piVar13;
  short *psVar14;
  short *psVar15;
  short *psVar16;
  long lVar17;
  long lVar18;
  long lVar19;
  RKC_RPGSCRN_RECT *pRVar20;
  long lVar21;
  long lVar22;
  long lVar23;
  int iStack_9c;
  undefined8 local_90;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  int iStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  
  bVar1 = false;
  local_90._0_4_ = 0x33333333;
  local_90._4_4_ = 0x3fe33333;
  local_88 = 0x66666666;
  local_84 = 0x3fe66666;
  local_80 = 0x9999999a;
  local_7c = 0x3fe99999;
  local_78 = 0;
  local_74 = 0x3ff00000;
  local_70 = 0x66666666;
  local_6c = 0x3ff26666;
  local_68 = 0xcccccccd;
  local_64 = 0x3ff4cccc;
  local_60 = 0x33333333;
  local_5c = 0x3ff73333;
  local_58 = 0x9999999a;
  local_54 = 0x3ff99999;
  local_50 = 0;
  local_4c = 0x3ffc0000;
  local_48 = 0x66666666;
  local_44 = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar4 = RKC_RPG_TABLEDATA::GetValue(this,0x14,0);
  iVar9 = 10;
  pdVar5 = (double *)&local_90;
  do {
    iVar9 = iVar9 + -1;
    *pdVar5 = (double)lVar4 * *pdVar5 * _DAT_00475218;
    pdVar5 = pdVar5 + 1;
  } while (iVar9 != 0);
  FUN_00450cd0((int)param_1);
  lVar11 = __ftol();
  iStack_9c = (int)lVar11;
  if (iStack_9c == 0) {
    iStack_9c = 1;
  }
  FUN_00451e60(param_1,0x14);
  if (*(int *)((int)param_1 + 0x314) == 0x2a) {
    iVar9 = *(int *)((int)param_1 + 0x30c);
    lVar11 = __ftol();
    *(int *)((int)param_1 + 0x308) = (int)lVar11;
    *(int *)((int)param_1 + 0x30c) = iVar9 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x314) = 0x2a;
    *(undefined4 *)((int)param_1 + 0x2dc) = 1;
    *(undefined4 *)((int)param_1 + 0x308) = 0;
    *(undefined4 *)((int)param_1 + 0x310) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x30c) = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)param_1 + 0x340));
  this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,*(long *)((int)param_1 + 0x31c));
  iVar9 = (int)sVar2;
  if ((((*(int *)((int)param_1 + 0x308) < iVar9) &&
       (*(int *)((int)param_1 + 0x308) != *(int *)((int)param_1 + 0x310))) &&
      (this_02 = RKC_RPGSCRN_CHARANIMCHART::Get(this_01,*(long *)((int)param_1 + 0x31c),0),
      this_02 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar10 = *(int *)((int)param_1 + 0x310) + 1, iVar10 <= *(int *)((int)param_1 + 0x308))) {
    do {
      this_03 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_02,iVar10);
      if ((this_03 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_03), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar10 = iVar10 + 1;
    } while (iVar10 <= *(int *)((int)param_1 + 0x308));
    if (bVar1) {
      iVar10 = *(int *)((int)param_1 + 4) + 16000000;
      this_04 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
      iVar6 = FUN_004299e0(this_04,iVar10);
      iVar10 = iStack_9c;
      if (iVar6 != 0) {
        iVar10 = FUN_00434cd0(iVar6);
        if ((*(int *)(iVar10 + 0xfc) < 0) || (*(int *)(iVar10 + 0x210) != 0 || iVar10 == 0))
        goto LAB_0044005a;
      }
      iVar6 = *(int *)(iVar10 + 0x164);
      if ((iVar6 != 7) && ((iVar6 != 10 && (iVar6 != 9)))) {
        iVar6 = FUN_004145b0(*(int *)((int)param_1 + 0x458),-1,(int *)((int)param_1 + 0x1274),
                             (int *)(iVar10 + 0x20),0,2,0);
        if (iVar6 == 1) {
          *(undefined4 *)(iVar10 + 0x184) = 6;
          *(undefined4 *)(iVar10 + 0x18c) = 0xffffffff;
          *(int *)(iVar10 + 400) = *(int *)((int)param_1 + 0x1274);
          *(undefined4 *)(iVar10 + 0x194) = *(undefined4 *)((int)param_1 + 0x1278);
          iStack_40 = FUN_00456230(*(int *)((int)param_1 + 0x458));
          uStack_38 = *(undefined4 *)((int)param_1 + 4);
          uStack_34 = 0x2e;
          uStack_30 = *(undefined4 *)(iVar10 + 0x184);
          uStack_2c = 0xffffffff;
          uStack_3c = *(undefined4 *)((int)param_1 + 0x15d8);
          uStack_28 = 0;
          uStack_24 = 0xbff00000;
          uStack_1c = *(undefined4 *)(iVar10 + 400);
          uStack_18 = *(undefined4 *)(iVar10 + 0x194);
          uStack_20 = 0xffffffff;
          FUN_00452bc0(param_1,&iStack_40,1);
        }
      }
    }
  }
LAB_0044005a:
  iVar10 = *(int *)((int)param_1 + 0x308);
  if (iVar10 < iVar9) {
    lVar4 = 0xb;
  }
  else {
    lVar4 = 0xc;
    iVar10 = 0;
  }
  iVar6 = FUN_00456210(DAT_0048ce04);
  if (iVar6 == *(int *)((int)param_1 + 0x458)) {
    uVar7 = *(uint *)((int)param_1 + 0x1588) & 0x80000001;
    if ((int)uVar7 < 0) {
      uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
    }
    lVar17 = *(long *)((int)param_1 + 0xc);
    psVar15 = *(short **)((int)param_1 + 0x334);
    lVar23 = 1000;
    lVar22 = 1000;
    iVar6 = (-(uint)(uVar7 != 0) & 2) - 1;
    lVar21 = 1000;
    pRVar20 = (RKC_RPGSCRN_RECT *)0x0;
    lVar19 = 1000;
    psVar16 = *(short **)((int)param_1 + 0x338);
    lVar18 = 0;
    psVar14 = *(short **)((int)param_1 + 0x330);
    piVar13 = *(int **)((int)param_1 + 0x32c);
    pRVar12 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x2e8);
    pRVar8 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)((int)param_1 + 0x340),lVar4,*(long *)((int)param_1 + 0x31c),
               iVar10,*(int *)((int)param_1 + 0x2e0) + iVar6 * 10,
               *(int *)((int)param_1 + 0x2e4) + iVar6 * -10,sVar2,pRVar8,pRVar12,piVar13,psVar14,
               psVar15,psVar16,lVar17,lVar18,lVar19,pRVar20,lVar21,lVar22,lVar23);
  }
  if (iVar9 + -1 + iStack_9c <= *(int *)((int)param_1 + 0x308)) {
    *(undefined4 *)((int)param_1 + 0x318) = 1;
    *(undefined4 *)((int)param_1 + 0x2dc) = 0;
    *(undefined4 *)((int)param_1 + 0x314) = 0;
  }
  *(int *)((int)param_1 + 0x310) = *(int *)((int)param_1 + 0x308);
  return 0;
}



/*
 * Function: FUN_00440180
 * Address: 00440180
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00440180(int *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  double *pdVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  uint uVar9;
  int iVar10;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  int iVar12;
  longlong lVar13;
  RKC_RPGSCRN_RECT *pRVar14;
  int *piVar15;
  short *psVar16;
  short *psVar17;
  short *psVar18;
  long lVar19;
  long lVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  long local_64;
  int iStack_60;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar5 = RKC_RPG_TABLEDATA::GetValue(this,0x12,0);
  iVar12 = 10;
  pdVar6 = (double *)&local_58;
  do {
    iVar12 = iVar12 + -1;
    *pdVar6 = (double)lVar5 * *pdVar6 * _DAT_00475218;
    pdVar6 = pdVar6 + 1;
  } while (iVar12 != 0);
  FUN_00450cd0((int)param_1);
  lVar13 = __ftol();
  iStack_60 = (int)lVar13;
  if (iStack_60 == 0) {
    iStack_60 = 1;
  }
  FUN_00451e60(param_1,0x12);
  if (param_1[0xc5] == 0x28) {
    iVar12 = param_1[0xc3];
    lVar13 = __ftol();
    param_1[0xc2] = (int)lVar13;
    param_1[0xc3] = iVar12 + 1;
  }
  else {
    param_1[0xc5] = 0x28;
    param_1[0xb7] = 1;
    param_1[0xc2] = 0;
    param_1[0xc4] = -1;
    param_1[0xc3] = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,param_1[199]);
  if ((((param_1[0xc2] < (int)sVar2) && (param_1[0xc2] != param_1[0xc4])) &&
      (this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,param_1[199],0),
      this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar12 = param_1[0xc4] + 1, iVar12 <= param_1[0xc2])) {
    do {
      this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar12);
      if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar12 = iVar12 + 1;
    } while (iVar12 <= param_1[0xc2]);
    if (bVar1) {
      param_1[0x58a] = (uint)(param_1[0x58a] == 0);
      param_1[0x58c] = 0;
      param_1[0x58b] = 0;
      FUN_00450080(param_1);
      FUN_00452910(param_1);
    }
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,param_1[199]);
  local_64 = param_1[0xc2];
  if (local_64 < sVar2) {
    lVar5 = 0xb;
  }
  else {
    lVar5 = 0xc;
    local_64 = 0;
  }
  iVar12 = FUN_00456210(DAT_0048ce04);
  if (iVar12 == param_1[0x116]) {
    uVar9 = param_1[0x562] & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    iVar12 = param_1[3];
    psVar17 = (short *)param_1[0xcd];
    lVar24 = 1000;
    lVar23 = 1000;
    iVar10 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar22 = 1000;
    pRVar21 = (RKC_RPGSCRN_RECT *)0x0;
    lVar20 = 1000;
    psVar18 = (short *)param_1[0xce];
    lVar19 = 0;
    psVar16 = (short *)param_1[0xcc];
    piVar15 = (int *)param_1[0xcb];
    pRVar14 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],lVar5,param_1[199],local_64,param_1[0xb8] + iVar10 * 10,
               param_1[0xb9] + iVar10 * -10,sVar4,pRVar11,pRVar14,piVar15,psVar16,psVar17,psVar18,
               iVar12,lVar19,lVar20,pRVar21,lVar22,lVar23,lVar24);
  }
  param_1[0xc4] = param_1[0xc2];
  if (sVar2 + -1 + iStack_60 <= param_1[0xc2]) {
    param_1[0xc6] = 1;
    param_1[0xb7] = 0;
    param_1[0xc5] = 0;
  }
  return 0;
}



/*
 * Function: FUN_00440530
 * Address: 00440530
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00440530(int *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  short sVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  double *pdVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  uint uVar9;
  int iVar10;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  int iVar12;
  longlong lVar13;
  RKC_RPGSCRN_RECT *pRVar14;
  int *piVar15;
  short *psVar16;
  short *psVar17;
  short *psVar18;
  long lVar19;
  long lVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  long local_64;
  int iStack_60;
  undefined8 local_58;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = false;
  local_58._0_4_ = 0x33333333;
  local_58._4_4_ = 0x3fe33333;
  local_50 = 0x66666666;
  local_4c = 0x3fe66666;
  local_48 = 0x9999999a;
  local_44 = 0x3fe99999;
  local_40 = 0;
  local_3c = 0x3ff00000;
  local_38 = 0x66666666;
  local_34 = 0x3ff26666;
  local_30 = 0xcccccccd;
  local_2c = 0x3ff4cccc;
  local_28 = 0x33333333;
  local_24 = 0x3ff73333;
  local_20 = 0x9999999a;
  local_1c = 0x3ff99999;
  local_18 = 0;
  local_14 = 0x3ffc0000;
  local_10 = 0x66666666;
  local_c = 0x3ffe6666;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x14);
  lVar5 = RKC_RPG_TABLEDATA::GetValue(this,0x13,0);
  iVar12 = 10;
  pdVar6 = (double *)&local_58;
  do {
    iVar12 = iVar12 + -1;
    *pdVar6 = (double)lVar5 * *pdVar6 * _DAT_00475218;
    pdVar6 = pdVar6 + 1;
  } while (iVar12 != 0);
  FUN_00450cd0((int)param_1);
  lVar13 = __ftol();
  iStack_60 = (int)lVar13;
  if (iStack_60 == 0) {
    iStack_60 = 1;
  }
  FUN_00451e60(param_1,0x13);
  if (param_1[0xc5] == 0x29) {
    iVar12 = param_1[0xc3];
    lVar13 = __ftol();
    param_1[0xc2] = (int)lVar13;
    param_1[0xc3] = iVar12 + 1;
  }
  else {
    param_1[0xc5] = 0x29;
    param_1[0xb7] = 1;
    param_1[0xc2] = 0;
    param_1[0xc4] = -1;
    param_1[0xc3] = 0;
    FUN_00452bc0(param_1,(int *)0x0,1);
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,param_1[199]);
  if ((((param_1[0xc2] < (int)sVar2) && (param_1[0xc2] != param_1[0xc4])) &&
      (this_00 = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,param_1[199],0),
      this_00 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
     (iVar12 = param_1[0xc4] + 1, iVar12 <= param_1[0xc2])) {
    do {
      this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar12);
      if ((this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) &&
         (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01), (uVar3 & 0x40) != 0)) {
        bVar1 = true;
      }
      iVar12 = iVar12 + 1;
    } while (iVar12 <= param_1[0xc2]);
    if (bVar1) {
      param_1[0x58c] = (uint)(param_1[0x58c] == 0);
      param_1[0x58a] = 0;
      param_1[0x58d] = 0;
      FUN_00450080(param_1);
      FUN_00452910(param_1);
    }
  }
  pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,param_1[0xd0]);
  pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,0xb);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,param_1[199]);
  local_64 = param_1[0xc2];
  if (local_64 < sVar2) {
    lVar5 = 0xb;
  }
  else {
    lVar5 = 0xc;
    local_64 = 0;
  }
  iVar12 = FUN_00456210(DAT_0048ce04);
  if (iVar12 == param_1[0x116]) {
    uVar9 = param_1[0x562] & 0x80000001;
    if ((int)uVar9 < 0) {
      uVar9 = (uVar9 - 1 | 0xfffffffe) + 1;
    }
    iVar12 = param_1[3];
    psVar17 = (short *)param_1[0xcd];
    lVar24 = 1000;
    lVar23 = 1000;
    iVar10 = (-(uint)(uVar9 != 0) & 2) - 1;
    lVar22 = 1000;
    pRVar21 = (RKC_RPGSCRN_RECT *)0x0;
    lVar20 = 1000;
    psVar18 = (short *)param_1[0xce];
    lVar19 = 0;
    psVar16 = (short *)param_1[0xcc];
    piVar15 = (int *)param_1[0xcb];
    pRVar14 = (RKC_RPGSCRN_RECT *)(param_1 + 0xba);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar4 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0xdd]);
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,param_1[0xd0],lVar5,param_1[199],local_64,param_1[0xb8] + iVar10 * 10,
               param_1[0xb9] + iVar10 * -10,sVar4,pRVar11,pRVar14,piVar15,psVar16,psVar17,psVar18,
               iVar12,lVar19,lVar20,pRVar21,lVar22,lVar23,lVar24);
  }
  param_1[0xc4] = param_1[0xc2];
  if (sVar2 + -1 + iStack_60 <= param_1[0xc2]) {
    param_1[0xc6] = 1;
    param_1[0xb7] = 0;
    param_1[0xc5] = 0;
  }
  return 0;
}



/*
 * Function: FUN_004408e0
 * Address: 004408e0
 */

int __fastcall FUN_004408e0(int param_1)

{
  void *pvVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  int iVar4;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00471fad;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  FUN_00403550(param_1 + 0x378);
  local_4 = 0;
  RKC_MEMORY::RKC_MEMORY((RKC_MEMORY *)(param_1 + 0x430));
  local_4._0_1_ = 1;
  FUN_004576d0((undefined4 *)(param_1 + 0x514));
  local_4._0_1_ = 2;
  FUN_004576d0((undefined4 *)(param_1 + 0x518));
  local_4._0_1_ = 3;
  FUN_004576d0((undefined4 *)(param_1 + 0x51c));
  local_4._0_1_ = 4;
  FUN_0046839d(param_1 + 0x520,4,10,FUN_004576d0);
  local_4._0_1_ = 5;
  FUN_0046839d(param_1 + 0x548,4,4,FUN_004576d0);
  *(undefined4 *)(param_1 + 0x3f8) = 0;
  *(undefined4 *)(param_1 + 0x3fc) = 0;
  *(undefined4 *)(param_1 + 0x400) = 0;
  *(undefined4 *)(param_1 + 0x458) = 0;
  *(undefined4 *)(param_1 + 0x408) = 0;
  *(undefined4 *)(param_1 + 0x404) = 0;
  *(undefined4 *)(param_1 + 0x410) = 0;
  *(undefined4 *)(param_1 + 0x418) = 0xffffffff;
  *(undefined4 *)(param_1 + 8) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x43c) = 0;
  *(undefined4 *)(param_1 + 0x41c) = 0;
  *(undefined4 *)(param_1 + 0x4e8) = 0;
  *(undefined4 *)(param_1 + 0x4ec) = 0;
  *(undefined4 *)(param_1 + 0x4f0) = 0;
  *(undefined4 *)(param_1 + 0x4f4) = 0;
  *(undefined4 *)(param_1 + 0x4f8) = 0;
  *(undefined4 *)(param_1 + 0x4fc) = 0;
  *(undefined4 *)(param_1 + 0x500) = 0;
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0x504) = 0;
  *(undefined4 *)(param_1 + 0x508) = 0;
  *(undefined4 *)(param_1 + 0x50c) = 0;
  *(undefined4 *)(param_1 + 0x510) = 0;
  *(undefined4 *)(param_1 + 0x330) = 0;
  *(undefined4 *)(param_1 + 0x334) = 0;
  *(undefined4 *)(param_1 + 0x338) = 0;
  *(undefined4 *)(param_1 + 0x32c) = 0;
  pvVar1 = operator_new(0x14);
  local_4._0_1_ = 7;
  if (pvVar1 == (void *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = FUN_00453350(pvVar1,0x32,4,param_1);
  }
  local_4._0_1_ = 6;
  *(undefined4 *)(param_1 + 0x4e0) = uVar2;
  pvVar1 = operator_new(0x14);
  local_4 = CONCAT31(local_4._1_3_,8);
  if (pvVar1 == (void *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = FUN_00453350(pvVar1,100,0x1d,param_1);
  }
  *(undefined4 *)(param_1 + 0x4e4) = uVar2;
  *(undefined4 *)(param_1 + 0x2d4) = 0;
  *(undefined4 *)(param_1 + 0x2d8) = 0;
  *(undefined4 *)(param_1 + 0x374) = 0;
  *(undefined4 *)(param_1 + 0x1288) = 0;
  *(undefined4 *)(param_1 + 0x2d0) = 0;
  *(undefined4 *)(param_1 + 0x1590) = 0;
  *(undefined4 *)(param_1 + 0x1594) = 0;
  puVar3 = (undefined4 *)(param_1 + 0x15b8);
  iVar4 = 3;
  do {
    puVar3[-3] = 0;
    *puVar3 = 0;
    puVar3[3] = 0;
    puVar3 = puVar3 + 1;
    iVar4 = iVar4 + -1;
  } while (iVar4 != 0);
  *(undefined4 *)(param_1 + 0x15d0) = 0;
  *(undefined4 *)(param_1 + 0x15d4) = 0;
  *(undefined4 *)(param_1 + 0x1624) = 0;
  *(undefined4 *)(param_1 + 0x1628) = 0;
  *(undefined4 *)(param_1 + 0x1630) = 0;
  *(undefined4 *)(param_1 + 0x162c) = 0;
  *(undefined4 *)(param_1 + 0x1634) = 0;
  *(undefined4 *)(param_1 + 0x1638) = 0;
  *(undefined4 *)(param_1 + 0x163c) = 0;
  ExceptionList = pvStack_c;
  return param_1;
}



/*
 * Function: FUN_00440b20
 * Address: 00440b20
 */

void __fastcall FUN_00440b20(int param_1)

{
  void *pvVar1;
  void *pvStack_c;
  undefined *puStack_8;
  int local_4;
  
  puStack_8 = &LAB_00472037;
  pvStack_c = ExceptionList;
  local_4 = 6;
  ExceptionList = &pvStack_c;
  FUN_00440d00(param_1);
  pvVar1 = *(void **)(param_1 + 0x4e0);
  if (pvVar1 != (void *)0x0) {
    thunk_FUN_004534b0(pvVar1);
    FUN_0046787e(pvVar1);
  }
  pvVar1 = *(void **)(param_1 + 0x4e4);
  if (pvVar1 != (void *)0x0) {
    thunk_FUN_004534b0(pvVar1);
    FUN_0046787e(pvVar1);
  }
  local_4._0_1_ = 5;
  FUN_004682a9(param_1 + 0x548,4,4,thunk_FUN_00466ac0);
  local_4._0_1_ = 4;
  FUN_004682a9(param_1 + 0x520,4,10,thunk_FUN_00466ac0);
  local_4._0_1_ = 3;
  thunk_FUN_00466ac0((int *)(param_1 + 0x51c));
  local_4._0_1_ = 2;
  thunk_FUN_00466ac0((int *)(param_1 + 0x518));
  local_4._0_1_ = 1;
  thunk_FUN_00466ac0((int *)(param_1 + 0x514));
  local_4 = (uint)local_4._1_3_ << 8;
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(param_1 + 0x430));
  local_4 = 0xffffffff;
  FUN_00403040();
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00440c20
 * Address: 00440c20
 */

void __fastcall FUN_00440c20(void *param_1)

{
  *(undefined4 *)((int)param_1 + 0x324) = 0;
  *(undefined4 *)((int)param_1 + 0x2dc) = 0;
  *(undefined4 *)((int)param_1 + 0x314) = 1;
  *(undefined4 *)((int)param_1 + 0x318) = 0;
  *(undefined4 *)((int)param_1 + 0x308) = 0;
  FUN_00450080(param_1);
  *(undefined4 *)((int)param_1 + 0x1a4) = *(undefined4 *)((int)param_1 + 0x1a0);
  *(undefined4 *)((int)param_1 + 0x1ac) = *(undefined4 *)((int)param_1 + 0x1a8);
  *(undefined4 *)((int)param_1 + 0x15c) = 0;
  *(undefined4 *)((int)param_1 + 0x1548) = 0xffffffff;
  *(undefined4 *)((int)param_1 + 0x1588) = 0;
  if (*(int *)((int)param_1 + 0x458) != 0) {
    FUN_00450500(param_1,*(int *)((int)param_1 + 0x150));
  }
  return;
}



/*
 * Function: FUN_00440ca0
 * Address: 00440ca0
 */

void __fastcall FUN_00440ca0(int param_1)

{
  ushort uVar1;
  
  uVar1 = RKC_RPGSCRN_OBJECT::GetStatus(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
  RKC_RPGSCRN_OBJECT::SetStatus(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374),uVar1 | 1);
  RKC_RPGSCRN_OBJECT::SetPosition
            (*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374),(RKC_RPGSCRN_POSITION *)(param_1 + 0x2e0));
  RKC_RPGSCRN_OBJECT::SetJudgement
            (*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374),(RKC_RPGSCRN_RECT *)(param_1 + 0x2e8));
  *(uint *)(param_1 + 0x2d0) = *(uint *)(param_1 + 0x2d0) & 0x7fffffff;
  return;
}



/*
 * Function: FUN_00440d00
 * Address: 00440d00
 */

void __fastcall FUN_00440d00(int param_1)

{
  int *piVar1;
  int iVar2;
  
  if (*(HGLOBAL *)(param_1 + 0x330) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x330));
  }
  if (*(HGLOBAL *)(param_1 + 0x334) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x334));
  }
  if (*(HGLOBAL *)(param_1 + 0x338) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x338));
  }
  *(undefined4 *)(param_1 + 0x330) = 0;
  *(undefined4 *)(param_1 + 0x32c) = 0;
  *(undefined4 *)(param_1 + 0x334) = 0;
  *(undefined4 *)(param_1 + 0x338) = 0;
  *(undefined4 *)(param_1 + 0x458) = 0;
  *(undefined4 *)(param_1 + 0x2d8) = 0;
  if (*(HGLOBAL *)(param_1 + 0x408) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x408));
    *(undefined4 *)(param_1 + 0x408) = 0;
  }
  *(undefined4 *)(param_1 + 0x408) = 0;
  *(undefined4 *)(param_1 + 0x404) = 0;
  if (*(int *)(param_1 + 0x4e8) != 0) {
    FUN_00465640((int *)(param_1 + 0x4e8));
  }
  if (*(int *)(param_1 + 0x4ec) != 0) {
    FUN_00465640((int *)(param_1 + 0x4ec));
  }
  if (*(int *)(param_1 + 0x4f0) != 0) {
    FUN_00465640((int *)(param_1 + 0x4f0));
  }
  if (*(int *)(param_1 + 0x4f4) != 0) {
    FUN_00465640((int *)(param_1 + 0x4f4));
  }
  if (*(int *)(param_1 + 0x4f8) != 0) {
    FUN_00465640((int *)(param_1 + 0x4f8));
  }
  piVar1 = (int *)(param_1 + 0x4fc);
  iVar2 = 4;
  do {
    if (*piVar1 != 0) {
      FUN_00465640(piVar1);
    }
    piVar1 = piVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  if (*(int *)(param_1 + 0x50c) != 0) {
    FUN_00465640((int *)(param_1 + 0x50c));
  }
  if (*(int *)(param_1 + 0x510) != 0) {
    FUN_00465640((int *)(param_1 + 0x510));
  }
  FUN_00466ac0((int *)(param_1 + 0x514));
  FUN_00466ac0((int *)(param_1 + 0x518));
  FUN_00466ac0((int *)(param_1 + 0x51c));
  piVar1 = (int *)(param_1 + 0x520);
  iVar2 = 10;
  do {
    FUN_00466ac0(piVar1);
    piVar1 = piVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  piVar1 = (int *)(param_1 + 0x548);
  iVar2 = 4;
  do {
    FUN_00466ac0(piVar1);
    piVar1 = piVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  FUN_004534b0(*(void **)(param_1 + 0x4e0));
  FUN_004534b0(*(void **)(param_1 + 0x4e4));
  *(undefined4 *)(param_1 + 0x3f8) = 0;
  *(undefined4 *)(param_1 + 0x418) = 0xffffffff;
  *(undefined4 *)(param_1 + 8) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x1548) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x155c) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x3fc) = 0;
  *(undefined4 *)(param_1 + 0x400) = 0;
  *(undefined4 *)(param_1 + 0x458) = 0;
  *(undefined4 *)(param_1 + 0x408) = 0;
  *(undefined4 *)(param_1 + 0x404) = 0;
  *(undefined4 *)(param_1 + 0x410) = 0;
  *(undefined4 *)(param_1 + 0x43c) = 0;
  *(undefined4 *)(param_1 + 0x41c) = 0;
  *(undefined4 *)(param_1 + 0x2d8) = 0;
  *(undefined4 *)(param_1 + 0x374) = 0;
  *(undefined4 *)(param_1 + 0x2d0) = 0;
  *(undefined4 *)(param_1 + 0x588) = 0;
  *(undefined4 *)(param_1 + 0x1560) = 0;
  if (*(HGLOBAL *)(param_1 + 0x1590) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x1590));
    *(undefined4 *)(param_1 + 0x1590) = 0;
  }
  if (*(HGLOBAL *)(param_1 + 0x1594) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x1594));
    *(undefined4 *)(param_1 + 0x1594) = 0;
  }
  return;
}



/*
 * Function: FUN_00440f70
 * Address: 00440f70
 */

undefined4 __thiscall FUN_00440f70(void *this,undefined4 *param_1)

{
  SIZE_T dwBytes;
  RKC_RPG_TABLEDATA *pRVar1;
  long lVar2;
  HGLOBAL pvVar3;
  int iVar4;
  undefined4 *puVar5;
  RKC_RPGSCRN_CHARANIMBLOCK *this_00;
  RKC_RPGSCRN_CHARANIM *this_01;
  
  *(undefined4 *)((int)this + 0x1598) = 0;
  if (*(HGLOBAL *)((int)this + 0x1590) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)((int)this + 0x1590));
    *(undefined4 *)((int)this + 0x1590) = 0;
  }
  if (*(HGLOBAL *)((int)this + 0x1594) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)((int)this + 0x1594));
    *(undefined4 *)((int)this + 0x1594) = 0;
  }
  pRVar1 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
  if (pRVar1 != (RKC_RPG_TABLEDATA *)0x0) {
    lVar2 = RKC_RPG_TABLEDATA::GetRowCount(pRVar1);
    *(long *)((int)this + 0x158c) = lVar2;
    pvVar3 = GlobalAlloc(0x40,lVar2 * 4);
    *(HGLOBAL *)((int)this + 0x1590) = pvVar3;
    pvVar3 = GlobalAlloc(0x40,lVar2 * 4);
    *(HGLOBAL *)((int)this + 0x1594) = pvVar3;
    iVar4 = 0;
    if (0 < lVar2) {
      do {
        iVar4 = iVar4 + 1;
        *(undefined4 *)(*(int *)((int)this + 0x1590) + -4 + iVar4 * 4) = 1;
      } while (iVar4 < lVar2);
    }
  }
  *(undefined4 *)((int)this + 0x4e8) = 0;
  *(undefined4 *)((int)this + 0x4ec) = 0;
  *(undefined4 *)((int)this + 0x4f0) = 0;
  *(undefined4 *)((int)this + 0x4f4) = 0;
  *(undefined4 *)((int)this + 0x4f8) = 0;
  *(undefined4 *)((int)this + 0x50c) = 0;
  *(undefined4 *)((int)this + 0x510) = 0;
  *(undefined4 *)((int)this + 0x4fc) = 0;
  *(undefined4 *)((int)this + 0x500) = 0;
  *(undefined4 *)((int)this + 0x504) = 0;
  *(undefined4 *)((int)this + 0x508) = 0;
  if (DAT_00482dd0 == 0) {
    puVar5 = FUN_00462d30(DAT_0048ce14,1,0,(undefined4 *)0x0);
    *(undefined4 **)((int)this + 0x4ec) = puVar5;
    *(undefined4 *)((int)this + 0x4f4) = 0;
    *(undefined4 *)((int)this + 0x4f8) = 0;
    iVar4 = 0;
    do {
      puVar5 = FUN_00462d30(DAT_0048ce14,3,0,(undefined4 *)0x0);
      FUN_00466bc0((void *)((int)this + 0x514),(int)puVar5);
      FUN_004663e0(puVar5,0,iVar4);
      puVar5 = FUN_00462d30(DAT_0048ce14,3,10000000,(undefined4 *)0x0);
      FUN_00466bc0((void *)((int)this + 0x514),(int)puVar5);
      FUN_004663e0(puVar5,1,iVar4);
      iVar4 = iVar4 + 1;
    } while (iVar4 < 4);
    iVar4 = 0;
    do {
      puVar5 = FUN_00462d30(DAT_0048ce14,3,0,(undefined4 *)0x0);
      FUN_00466bc0((void *)((int)this + 0x518),(int)puVar5);
      FUN_004663e0(puVar5,iVar4,0);
      puVar5 = FUN_00462d30(DAT_0048ce14,3,10000000,(undefined4 *)0x0);
      FUN_00466bc0((void *)((int)this + 0x518),(int)puVar5);
      FUN_004663e0(puVar5,iVar4,1);
      iVar4 = iVar4 + 1;
    } while (iVar4 < 4);
  }
  *(undefined4 *)((int)this + 0x36c) = 0;
  *(undefined4 *)((int)this + 0x3f0) = 0x96;
  *(undefined4 *)((int)this + 0x3f4) = 0x9f;
  puVar5 = (undefined4 *)((int)this + 0x10);
  for (iVar4 = 0x58; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *param_1;
    param_1 = param_1 + 1;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)((int)this + 0x2c) = 0x10;
  *(undefined4 *)((int)this + 0x30) = 0x10;
  *(undefined4 *)((int)this + 0x34) = 1;
  *(undefined4 *)((int)this + 0x74) = 0;
  *(undefined4 *)((int)this + 0x78) = 0;
  puVar5 = (undefined4 *)((int)this + 0x1440);
  for (iVar4 = 0x16; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
  }
  puVar5 = (undefined4 *)((int)this + 0x1498);
  for (iVar4 = 0x16; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 1;
    puVar5 = puVar5 + 1;
  }
  puVar5 = (undefined4 *)((int)this + 0x14f0);
  for (iVar4 = 0x16; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)((int)this + 0xc0) = 0;
  puVar5 = (undefined4 *)((int)this + 0xc4);
  for (iVar4 = 9; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)((int)this + 0xe8) = 0;
  puVar5 = (undefined4 *)((int)this + 0xec);
  for (iVar4 = 0x19; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 0x10101010;
    puVar5 = puVar5 + 1;
  }
  *(undefined *)((int)this + 0xec) = 0x10;
  *(undefined4 *)((int)this + 0x150) = 0;
  *(undefined4 *)((int)this + 0x154) = **(undefined4 **)((int)this + 0x1590);
  *(undefined4 *)((int)this + 0x158) =
       *(undefined4 *)(*(int *)((int)this + 0x1594) + *(int *)((int)this + 0x150) * 4);
  *(undefined4 *)((int)this + 0x15c) = 0;
  *(undefined4 *)((int)this + 0x16c) = 0x50;
  pRVar1 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x385 - *(int *)((int)this + 0x28));
  if (pRVar1 != (RKC_RPG_TABLEDATA *)0x0) {
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,0,0);
    *(long *)((int)this + 0x38) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,1,0);
    *(long *)((int)this + 0x3c) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,2,0);
    *(long *)((int)this + 0x40) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,3,0);
    *(long *)((int)this + 0x48) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,4,0);
    *(long *)((int)this + 0x50) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,5,0);
    *(long *)((int)this + 0x54) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,6,0);
    *(long *)((int)this + 0x58) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,7,0);
    *(long *)((int)this + 100) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,8,0);
    *(long *)((int)this + 0x68) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,9,0);
    *(long *)((int)this + 0x5c) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,10,0);
    *(long *)((int)this + 0x60) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,0xb,0);
    *(long *)((int)this + 0x6c) = lVar2;
    lVar2 = RKC_RPG_TABLEDATA::GetValue(pRVar1,0xc,0);
    *(long *)((int)this + 0x70) = lVar2;
  }
  *(undefined4 *)((int)this + 0x44) = *(undefined4 *)((int)this + 0x40);
  *(undefined4 *)((int)this + 0x4c) = *(undefined4 *)((int)this + 0x48);
  *(undefined4 *)((int)this + 0x160) = 10;
  *(undefined4 *)((int)this + 0x164) = 0;
  *(undefined4 *)((int)this + 0x168) = 0;
  *DAT_0048ceb0 = 1;
  *(undefined4 *)((int)this + 0x1280) = 0xffffffff;
  *(undefined4 *)((int)this + 0x354) = 500;
  *(undefined4 *)((int)this + 0x358) = 500;
  *(undefined4 *)((int)this + 0x35c) = 0x1f7;
  *(undefined4 *)((int)this + 0x360) = 0x1f8;
  *(undefined4 *)((int)this + 0x364) = 0x1f5;
  *(undefined4 *)((int)this + 0x368) = 0x1f6;
  if (*(int *)((int)this + 0x28) == 1) {
    *(undefined4 *)((int)this + 0x33c) = 600;
    *(undefined4 *)((int)this + 0x340) = 600;
    *(undefined4 *)((int)this + 0x344) = 0x25b;
    *(undefined4 *)((int)this + 0x348) = 0x25c;
    *(undefined4 *)((int)this + 0x34c) = 0x259;
    *(undefined4 *)((int)this + 0x350) = 0x25a;
  }
  else {
    *(undefined4 *)((int)this + 0x33c) = 700;
    *(undefined4 *)((int)this + 0x340) = 700;
    *(undefined4 *)((int)this + 0x344) = 0x2bf;
    *(undefined4 *)((int)this + 0x348) = 0x2c0;
    *(undefined4 *)((int)this + 0x34c) = 0x2bd;
    *(undefined4 *)((int)this + 0x350) = 0x2be;
  }
  lVar2 = *(long *)((int)this + 0x340);
  this_00 = RKC_RPGSCRN::GetCharAnimBlock(DAT_00482d14);
  this_01 = RKC_RPGSCRN_CHARANIMBLOCK::Get(this_00,lVar2);
  if ((this_01 != (RKC_RPGSCRN_CHARANIM *)0x0) &&
     (lVar2 = RKC_RPGSCRN_CHARANIM::GetMaxPartsCount(this_01), lVar2 != 0)) {
    pvVar3 = GlobalAlloc(0,lVar2 * 4);
    dwBytes = lVar2 * 2;
    *(HGLOBAL *)((int)this + 0x32c) = pvVar3;
    pvVar3 = GlobalAlloc(0,dwBytes);
    *(HGLOBAL *)((int)this + 0x330) = pvVar3;
    pvVar3 = GlobalAlloc(0,dwBytes);
    *(HGLOBAL *)((int)this + 0x334) = pvVar3;
    pvVar3 = GlobalAlloc(0,dwBytes);
    *(HGLOBAL *)((int)this + 0x338) = pvVar3;
    iVar4 = 0;
    if (0 < lVar2) {
      do {
        iVar4 = iVar4 + 1;
        *(undefined4 *)(*(int *)((int)this + 0x32c) + -4 + iVar4 * 4) = 1;
        *(undefined2 *)(*(int *)((int)this + 0x330) + -2 + iVar4 * 2) = 1000;
        *(undefined2 *)(*(int *)((int)this + 0x334) + -2 + iVar4 * 2) = 1000;
        *(undefined2 *)(*(int *)((int)this + 0x338) + -2 + iVar4 * 2) = 1000;
      } while (iVar4 < lVar2);
    }
  }
  *(undefined4 *)((int)this + 0x2e8) = 0xffffffb0;
  *(undefined4 *)((int)this + 0x2ec) = 0xffffffb0;
  *(undefined4 *)((int)this + 0x2f0) = 0x4f;
  *(undefined4 *)((int)this + 0x2f4) = 0x4f;
  *(undefined4 *)((int)this + 0x2d8) = 1;
  puVar5 = (undefined4 *)((int)this + 0x460);
  for (iVar4 = 0x20; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)((int)this + 0x127c) = 0xffffffff;
  *(undefined4 *)((int)this + 0x155c) = 0xffffffff;
  *(undefined4 *)((int)this + 0x154c) = 0;
  *(undefined4 *)((int)this + 0x1550) = 0;
  *(undefined4 *)((int)this + 0x1554) = 0;
  *(undefined4 *)((int)this + 0x1558) = 0;
  *(undefined4 *)((int)this + 0x15f4) = 0;
  *(undefined4 *)((int)this + 0x15f8) = 0;
  *(undefined4 *)((int)this + 0x156c) = 0;
  *(undefined4 *)((int)this + 0x328) = 5;
  *(undefined4 *)((int)this + 0x1560) = 0;
  *(undefined4 *)((int)this + 0x159c) = 0;
  *(undefined4 *)((int)this + 0x15a0) = 1;
  *(undefined4 *)((int)this + 0x15a4) = 0;
  *(undefined4 *)((int)this + 0x15a8) = 0;
  *(undefined4 *)((int)this + 0x15d8) = 0;
  *(undefined4 *)((int)this + 0x15dc) = 0;
  *(undefined4 *)((int)this + 0x15e4) = 0;
  *(undefined4 *)((int)this + 0x15ec) = 0;
  *(undefined4 *)((int)this + 0x15fc) = 0;
  *(undefined4 *)((int)this + 0x1604) = 0;
  *(undefined4 *)((int)this + 0x1618) = 0;
  *(undefined4 *)((int)this + 0x558) = 0;
  puVar5 = (undefined4 *)((int)this + 0x55c);
  for (iVar4 = 10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)((int)this + 0x55c) = 1;
  *(undefined4 *)((int)this + 0x560) = 1;
  return 1;
}



/*
 * Function: FUN_00441550
 * Address: 00441550
 */

undefined8 __thiscall FUN_00441550(void *this,int param_1)

{
  undefined8 uVar1;
  
  uVar1 = FUN_004143c0((int *)((int)this + 0x2e0),(int *)((int)this + 0x2e8),
                       (int *)(param_1 + 0x2e0),(int *)(param_1 + 0x2e8));
  return uVar1;
}



/*
 * Function: FUN_00441580
 * Address: 00441580
 */

undefined8 __thiscall FUN_00441580(void *this,int param_1)

{
  undefined8 uVar1;
  
  uVar1 = FUN_004143c0((int *)((int)this + 0x2e0),(int *)((int)this + 0x2e8),(int *)(param_1 + 0x18)
                       ,(int *)(param_1 + 0x20));
  return uVar1;
}



/*
 * Function: FUN_004415b0
 * Address: 004415b0
 */

undefined4 __thiscall FUN_004415b0(void *this,int param_1,int param_2,int param_3)

{
  uint uVar1;
  undefined4 *this_00;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  int local_10;
  
  iVar8 = 0;
  local_10 = 0;
  this_00 = (undefined4 *)FUN_00427aa0(*(int *)((int)this + 0x458));
  iVar2 = FUN_00427b20(this_00);
  if (0 < iVar2) {
    do {
      puVar3 = (undefined4 *)FUN_00434c90(this_00,iVar8);
      iVar4 = FUN_00434cd0((int)puVar3);
      if ((((iVar4 != 0) && (*(int *)(iVar4 + 0x5c) == *(int *)((int)this + 0x458))) &&
          (iVar5 = FUN_00427b20(puVar3), iVar5 == param_1)) &&
         (uVar9 = FUN_00441580(this,iVar4), (int)uVar9 <= param_2)) {
        uVar6 = FUN_00413ec0(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),
                             *(int *)(iVar4 + 0x1c) - *(int *)((int)this + 0x2e4));
        uVar1 = *(uint *)((int)this + 0x31c);
        if (uVar1 != uVar6) {
          uVar7 = uVar6 + 7 & 0x80000007;
          if ((int)uVar7 < 0) {
            uVar7 = (uVar7 - 1 | 0xfffffff8) + 1;
          }
          if (uVar1 != uVar7) {
            uVar6 = uVar6 + 9 & 0x80000007;
            if ((int)uVar6 < 0) {
              uVar6 = (uVar6 - 1 | 0xfffffff8) + 1;
            }
            if (uVar1 != uVar6) goto LAB_004416e8;
          }
        }
        if ((*(uint *)(iVar4 + 8) & 0x80000000) != 0) {
          if (param_3 != 0) {
            if (param_1 == 2) {
              iVar5 = *(int *)(iVar4 + 0xd4);
            }
            else {
              if (param_1 != 3) goto LAB_004416be;
              iVar5 = *(int *)(iVar4 + 0xfc);
            }
            if (iVar5 < 1) goto LAB_004416e8;
          }
LAB_004416be:
          if (local_10 != 0) {
            uVar9 = FUN_00441580(this,iVar4);
            uVar10 = FUN_00441580(this,local_10);
            if ((int)uVar10 <= (int)uVar9) goto LAB_004416e8;
          }
          local_10 = iVar4;
        }
      }
LAB_004416e8:
      iVar8 = iVar8 + 1;
    } while (iVar8 < iVar2);
    if (local_10 != 0) {
      return *(undefined4 *)(local_10 + 4);
    }
  }
  return 0xffffffff;
}



/*
 * Function: FUN_00441720
 * Address: 00441720
 */

undefined4 __thiscall FUN_00441720(void *this,int param_1,int param_2,int param_3)

{
  uint uVar1;
  void *this_00;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined8 uVar5;
  
  this_00 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  iVar2 = FUN_004299e0(this_00,param_1);
  if ((((iVar2 != 0) && (iVar2 = FUN_00434cd0(iVar2), iVar2 != 0)) &&
      (*(int *)(iVar2 + 0x5c) == *(int *)((int)this + 0x458))) &&
     (uVar5 = FUN_00441580(this,iVar2), (int)uVar5 <= param_2)) {
    uVar3 = FUN_00413ec0(*(int *)(iVar2 + 0x18) - *(int *)((int)this + 0x2e0),
                         *(int *)(iVar2 + 0x1c) - *(int *)((int)this + 0x2e4));
    uVar1 = *(uint *)((int)this + 0x31c);
    if (uVar1 != uVar3) {
      uVar4 = uVar3 + 7 & 0x80000007;
      if ((int)uVar4 < 0) {
        uVar4 = (uVar4 - 1 | 0xfffffff8) + 1;
      }
      if (uVar1 != uVar4) {
        uVar3 = uVar3 + 9 & 0x80000007;
        if ((int)uVar3 < 0) {
          uVar3 = (uVar3 - 1 | 0xfffffff8) + 1;
        }
        if (uVar1 != uVar3) {
          return 0;
        }
      }
    }
    if ((param_3 == 0) || (0 < *(int *)(iVar2 + 0xd4))) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_004417f0
 * Address: 004417f0
 */

int __thiscall
FUN_004417f0(void *this,int param_1,int param_2,int param_3,undefined4 *param_4,int param_5)

{
  uint uVar1;
  undefined4 *this_00;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  undefined8 uVar9;
  int local_c;
  
  this_00 = (undefined4 *)FUN_00427aa0(*(int *)((int)this + 0x458));
  local_c = 0;
  iVar2 = FUN_00427b20(this_00);
  iVar8 = 0;
  if (iVar2 < 1) {
    return 0;
  }
  do {
    puVar3 = (undefined4 *)FUN_00434c90(this_00,iVar8);
    iVar4 = FUN_00434cd0((int)puVar3);
    if ((((iVar4 != 0) && (*(int *)(iVar4 + 0x5c) == *(int *)((int)this + 0x458))) &&
        (iVar5 = FUN_00427b20(puVar3), iVar5 == param_1)) &&
       (uVar9 = FUN_00441580(this,iVar4), (int)uVar9 <= param_2)) {
      uVar6 = FUN_00413ec0(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),
                           *(int *)(iVar4 + 0x1c) - *(int *)((int)this + 0x2e4));
      uVar1 = *(uint *)((int)this + 0x31c);
      if (uVar1 != uVar6) {
        uVar7 = uVar6 + 7 & 0x80000007;
        if ((int)uVar7 < 0) {
          uVar7 = (uVar7 - 1 | 0xfffffff8) + 1;
        }
        if (uVar1 != uVar7) {
          uVar7 = uVar6 + 9 & 0x80000007;
          if ((int)uVar7 < 0) {
            uVar7 = (uVar7 - 1 | 0xfffffff8) + 1;
          }
          if (uVar1 != uVar7) {
            uVar7 = uVar6 + 6 & 0x80000007;
            if ((int)uVar7 < 0) {
              uVar7 = (uVar7 - 1 | 0xfffffff8) + 1;
            }
            if (uVar1 != uVar7) {
              uVar6 = uVar6 + 10 & 0x80000007;
              if ((int)uVar6 < 0) {
                uVar6 = (uVar6 - 1 | 0xfffffff8) + 1;
              }
              if ((uVar1 != uVar6) && (param_5 != 1)) goto LAB_00441946;
            }
          }
        }
      }
      if ((*(uint *)(iVar4 + 8) & 0x80000000) != 0) {
        if (param_3 == 0) {
LAB_0044192d:
          *param_4 = *(undefined4 *)(iVar4 + 4);
          local_c = local_c + 1;
          param_4 = param_4 + 1;
        }
        else if (param_1 == 2) {
          if (0 < *(int *)(iVar4 + 0xd4)) goto LAB_0044192d;
        }
        else if (param_1 != 3) goto LAB_0044192d;
      }
    }
LAB_00441946:
    iVar8 = iVar8 + 1;
    if (iVar2 <= iVar8) {
      return local_c;
    }
  } while( true );
}



/*
 * Function: FUN_00441970
 * Address: 00441970
 */

void __thiscall FUN_00441970(void *this,int param_1)

{
  int iVar1;
  int *this_00;
  undefined4 uVar2;
  undefined uStack_24;
  undefined uStack_23;
  undefined uStack_22;
  undefined uStack_20;
  undefined uStack_1f;
  undefined uStack_1e;
  undefined uStack_1c;
  undefined uStack_1b;
  undefined uStack_1a;
  int local_18;
  long local_14;
  tagRECT tStack_10;
  
  iVar1 = FUN_00434cd0((int)DAT_0048ce10);
  if (iVar1 == 0) {
    iVar1 = FUN_004663a0((int)DAT_0048ce10);
    if (iVar1 == 0) {
      DAT_0048d708 = 0;
      this_00 = FUN_00457db0(DAT_0048ce10);
      RKC_UPDIB::GetFontParam(DAT_00482d10,1,&local_14,&local_18);
      SetRect(&tStack_10,0x78,0x174,400,local_18 + 8);
      *(int *)((int)this + 0x438) = param_1;
      if (param_1 == 0) {
        uStack_1a = 0;
        uStack_24 = 0x80;
        uStack_1b = 0;
        uStack_1c = 0;
        uStack_22 = 0x80;
      }
      else {
        uStack_1c = 0x60;
        uStack_1a = 0x20;
        uStack_1b = 0x20;
        uStack_22 = 0x90;
        uStack_24 = 0x40;
      }
      uStack_1e = 0xe0;
      uStack_1f = 0xe0;
      uStack_20 = 0xe0;
      uStack_23 = uStack_24;
      FUN_00456550(this_00,6,-0x7fffffbf,1,&tStack_10.left,(int *)&uStack_1c,(int *)&uStack_20,
                   &DAT_0048d9f0,(int *)&uStack_24,(int)this + 0x408,0,(undefined4 *)0x0,
                   (undefined4 *)0x0,0,800);
      *(undefined4 *)((int)this + 0x404) = 1;
      uVar2 = FUN_00456230((int)this_00);
      *(undefined4 *)((int)this + 0x40c) = uVar2;
      FUN_004456d0(this,0,0x3a,1);
    }
  }
  return;
}



/*
 * Function: FUN_00441ab0
 * Address: 00441ab0
 */

void __thiscall FUN_00441ab0(void *this,int param_1,int param_2)

{
  char cVar1;
  int iVar2;
  int *this_00;
  undefined4 uVar3;
  uint uVar4;
  char *pcVar5;
  undefined uStack_124;
  undefined uStack_123;
  undefined uStack_122;
  undefined uStack_120;
  undefined uStack_11f;
  undefined uStack_11e;
  undefined uStack_11c;
  undefined uStack_11b;
  undefined uStack_11a;
  int local_118;
  long local_114;
  tagRECT tStack_110;
  char acStack_100 [256];
  
  iVar2 = FUN_00434cd0((int)DAT_0048ce10);
  if (iVar2 == 0) {
    iVar2 = FUN_004663a0((int)DAT_0048ce10);
    if (iVar2 == 0) {
      DAT_0048d708 = 1;
      this_00 = FUN_00457db0(DAT_0048ce10);
      RKC_UPDIB::GetFontParam(DAT_00482d10,1,&local_114,&local_118);
      SetRect(&tStack_110,param_1,param_2,0x30,local_118 + 8);
      uStack_122 = 0xe0;
      uStack_123 = 0xe0;
      uStack_11a = 0;
      uStack_124 = 0x80;
      uStack_11e = 0x80;
      uStack_11f = 0x80;
      uStack_120 = 0x80;
      uStack_11b = 0;
      uStack_11c = 0;
      FUN_00467d51(acStack_100,&DAT_004803e0);
      uVar4 = 0xffffffff;
      pcVar5 = acStack_100;
      do {
        if (uVar4 == 0) break;
        uVar4 = uVar4 - 1;
        cVar1 = *pcVar5;
        pcVar5 = pcVar5 + 1;
      } while (cVar1 != '\0');
      FUN_00456550(this_00,1,-0x7fffffff,1,&tStack_110.left,(int *)&uStack_11c,(int *)&uStack_124,
                   acStack_100,(int *)&uStack_120,(int)this + 0x408,0,(undefined4 *)0x0,
                   (undefined4 *)0x0,~uVar4 - 1,800);
      *(undefined4 *)((int)this + 0x404) = 1;
      uVar3 = FUN_00456230((int)this_00);
      *(undefined4 *)((int)this + 0x40c) = uVar3;
      FUN_004456d0(this,0,0x3a,1);
    }
  }
  return;
}



/*
 * Function: FUN_00441c00
 * Address: 00441c00
 */

/* WARNING (jumptable): Unable to track spacebase fully for stack */

undefined4 __fastcall FUN_00441c00(int *param_1)

{
  double dVar1;
  bool bVar2;
  undefined4 uVar3;
  bool bVar4;
  int iVar5;
  undefined3 extraout_var;
  undefined4 uVar6;
  int iVar7;
  void *pvVar8;
  long lVar9;
  int iVar10;
  undefined1 auVar11 [10];
  undefined8 uVar12;
  undefined uVar13;
  undefined uVar14;
  int iStack_78;
  int iStack_74;
  int iStack_70;
  int iStack_6c;
  RKC_RPGSCRN_OBJECTDISP local_68 [8];
  int iStack_60;
  int iStack_5c;
  undefined8 uStack_58;
  int iStack_4c;
  int iStack_48;
  int iStack_44;
  undefined4 uStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  void *pvStack_14;
  undefined *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00472059;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_68);
  iVar5 = param_1[0xfe];
  uStack_c = 0;
  if ((((*(int *)(iVar5 + 8) != 1) || (*(int *)(iVar5 + 0x10) != 0)) &&
      ((*(int *)(iVar5 + 0x24) != 1 || ((*(int *)(iVar5 + 0x2c) != 0 || (param_1[0x4a2] == 0))))))
     || (*(int *)(iVar5 + 0x158) != 0)) {
    param_1[0x588] = 0;
  }
  iVar5 = FUN_004663a0((int)DAT_0048ce10);
  if (iVar5 == 1) {
    FUN_00457fa0(DAT_0048ce10,*(int *)param_1[0xff],((int *)param_1[0xff])[1],
                 *(int *)(param_1[0xfe] + 0x10),*(int *)(param_1[0xfe] + 0x2c));
LAB_00441cad:
    uStack_c = 0xffffffff;
    RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_68);
    ExceptionList = pvStack_14;
    return 1;
  }
  if (param_1[0x10f] != 0) goto LAB_00441cad;
  iVar5 = FUN_00434cd0((int)DAT_0048ce10);
  if ((iVar5 != 0) && (DAT_0048d708 == 1)) goto LAB_00442959;
  bVar2 = false;
  if ((*(int *)(param_1[0xfe] + 0x10) == 1) && (iVar5 = FUN_004458c0(), iVar5 == 1)) {
    bVar2 = true;
  }
  if ((*(int *)(param_1[0xfe] + 0x2c) == 1) &&
     (bVar4 = FUN_00445a40(param_1), CONCAT31(extraout_var,bVar4) == 1)) {
    bVar2 = true;
  }
  if (((param_1[0xb7] != 0) ||
      (iVar5 = FUN_00445750(*(int *)param_1[0xff],((int *)param_1[0xff])[1]), bVar2)) ||
     (iVar5 != 1)) goto LAB_00442959;
  iVar10 = (DAT_0048cdf4 - DAT_0048cdfc) + *(int *)param_1[0xff];
  iVar5 = (((int *)param_1[0xff])[1] - DAT_0048ce00) + DAT_0048cdf8;
  RKC_RPGSCRN::CalcWorldPos(DAT_00482d14,iVar10,iVar5,&iStack_78,&iStack_74);
  iStack_70 = iStack_78;
  iStack_6c = iStack_74;
  if (DAT_0048ce34 != (void *)0x0) {
    if (*(int *)(param_1[0xfe] + 0x10) == 1) {
      uVar6 = FUN_00413ec0(iStack_78 - param_1[0xb8],iStack_74 - param_1[0xb9]);
      iVar5 = iStack_74;
      switch(uVar6) {
      case 0:
        iStack_74 = param_1[0xb8] + 200;
        iVar5 = param_1[0xb9] + 200;
        break;
      case 1:
        iStack_74 = param_1[0xb8] + 200;
        iVar5 = param_1[0xb9];
        break;
      case 2:
        iStack_74 = param_1[0xb8] + 200;
        iVar5 = param_1[0xb9] + -200;
        break;
      case 3:
        iStack_74 = param_1[0xb8];
        iVar5 = param_1[0xb9] + -200;
        break;
      case 4:
        iStack_74 = param_1[0xb8] + -200;
        iVar5 = param_1[0xb9] + -200;
        break;
      case 5:
        iStack_74 = param_1[0xb8] + -200;
        iVar5 = param_1[0xb9];
        break;
      case 6:
        iStack_74 = param_1[0xb8] + -200;
        iVar5 = param_1[0xb9] + 200;
        break;
      case 7:
        iStack_74 = param_1[0xb8];
        iVar5 = param_1[0xb9] + 200;
      }
      FUN_004663e0(DAT_0048ce34,iStack_74,iVar5);
      FUN_00452420(param_1,DAT_0048ce34,(void *)0x0,0);
      DAT_0048ce34 = (void *)0x0;
    }
    goto LAB_00442959;
  }
  if ((param_1[0xb7] != 0) ||
     (iVar7 = FUN_004488c0(param_1,iVar10,iVar5,iStack_78,iStack_74), iVar7 != 0))
  goto LAB_00442959;
  param_1[0x588] = 0;
  iVar7 = FUN_00448740(param_1,iVar10,iVar5,iStack_78,iStack_74);
  if (iVar7 != 0) goto LAB_00442959;
  iVar7 = param_1[0xfe];
  uVar13 = (undefined)iVar10;
  uVar14 = (undefined)iVar5;
  if (*(int *)(iVar7 + 0x158) == 1) {
    FUN_00427aa0(param_1[0x116]);
    iVar5 = param_1[1] + 16000000;
    pvVar8 = (void *)FUN_00427aa0(param_1[0x116]);
    iVar5 = FUN_004299e0(pvVar8,iVar5);
    if (iVar5 != 0) {
      iVar5 = FUN_00434cd0(iVar5);
      if ((*(int *)(iVar5 + 0x210) == 0) && (iVar5 != 0)) {
        if (*(int *)(param_1[0xfe] + 0x10) == 1) {
          iVar5 = FUN_00448aa0(param_1,uVar13,uVar14,(char)iStack_78,(char)iStack_74,0);
          if (iVar5 == 0) {
            iVar5 = param_1[1] + 16000000;
            pvVar8 = (void *)FUN_00427aa0(param_1[0x116]);
            iVar5 = FUN_004299e0(pvVar8,iVar5);
            if ((((iVar5 != 0) && (iVar5 = FUN_00434cd0(iVar5), -1 < *(int *)(iVar5 + 0xfc))) &&
                (iVar10 = *(int *)(iVar5 + 0x164), iVar10 != 7)) &&
               ((iVar10 != 10 && (iVar10 != 9)))) {
              iStack_60 = iStack_78;
              iStack_5c = iStack_74;
              iVar10 = FUN_004145b0(param_1[0x116],-1,&iStack_60,(int *)(iVar5 + 0x20),0,2,0);
              if (iVar10 == 1) {
                *(undefined4 *)(iVar5 + 0x184) = 3;
                *(undefined4 *)(iVar5 + 0x18c) = 0xffffffff;
                *(int *)(iVar5 + 400) = iStack_78;
                *(int *)(iVar5 + 0x194) = iStack_74;
                iStack_4c = FUN_00456230(param_1[0x116]);
                iStack_44 = param_1[1];
                uStack_40 = 0x2e;
                uStack_3c = *(undefined4 *)(iVar5 + 0x184);
                uStack_38 = 0xffffffff;
                iStack_48 = param_1[0x576];
                uStack_34 = 0;
                uStack_30 = 0xbff00000;
                uStack_28 = *(undefined4 *)(iVar5 + 400);
                uStack_24 = *(undefined4 *)(iVar5 + 0x194);
                uStack_2c = 0xffffffff;
                FUN_00452bc0(param_1,&iStack_4c,1);
              }
            }
          }
        }
        else if ((*(int *)(param_1[0xfe] + 0x2c) == 1) &&
                (iVar5 = FUN_00448aa0(param_1,uVar13,uVar14,(char)iStack_78,(char)iStack_74,1),
                iVar5 == 0)) {
          iVar5 = param_1[1] + 16000000;
          pvVar8 = (void *)FUN_00427aa0(param_1[0x116]);
          iVar5 = FUN_004299e0(pvVar8,iVar5);
          if (iVar5 != 0) {
            pvVar8 = (void *)FUN_00434cd0(iVar5);
            uVar12 = FUN_00453a40(pvVar8,(int)param_1);
            if (((int)uVar12 < 0xa0) && (*(int *)((int)pvVar8 + 0x164) != 9)) {
              *(undefined4 *)((int)pvVar8 + 0x184) = 5;
              *(undefined4 *)((int)pvVar8 + 0x18c) = 0xffffffff;
              *(int *)((int)pvVar8 + 400) = iStack_78;
              *(int *)((int)pvVar8 + 0x194) = iStack_74;
              iStack_4c = FUN_00456230(param_1[0x116]);
              iStack_44 = param_1[1];
              uStack_40 = 0x2e;
              uStack_3c = *(undefined4 *)((int)pvVar8 + 0x184);
              uStack_38 = 0xffffffff;
              iStack_48 = param_1[0x576];
              uStack_34 = 0;
              uStack_30 = 0xbff00000;
              uStack_28 = *(undefined4 *)((int)pvVar8 + 400);
              uStack_24 = *(undefined4 *)((int)pvVar8 + 0x194);
              uStack_2c = 0xffffffff;
              FUN_00452bc0(param_1,&iStack_4c,1);
            }
          }
        }
      }
    }
    goto LAB_00442959;
  }
  if (*(int *)(iVar7 + 0x40) == 0) {
    if (*(int *)(iVar7 + 0x10) == 1) {
      iVar5 = FUN_00448690(param_1,uVar13,uVar14,(char)iStack_78,(char)iStack_74,0,0);
      if (iVar5 == 0) {
        FUN_00454210(param_1 + 0xde,param_1[0x116],param_1[3],param_1 + 0xb8,&iStack_70,
                     param_1 + 0xba,SUB84((double)param_1[0xc0],0),
                     (int)((ulonglong)(double)param_1[0xc0] >> 0x20),0,0,0,(undefined4 *)0x0,0x3c,0,
                     0,0);
        if ((*(int *)(param_1[0xfe] + 0x5c) == 1) || (DAT_0048ce80 == 1)) {
          if (param_1[0xc5] != 3) {
            param_1[0xc6] = 3;
          }
          iVar5 = param_1[0xc1];
        }
        else {
          if (param_1[0xc5] != 2) {
            param_1[0xc6] = 2;
          }
          iVar5 = param_1[0xc0];
        }
        *(double *)(param_1 + 0xec) = (double)iVar5;
        param_1[0xdc] = 0;
      }
      goto LAB_00442959;
    }
    if (*(int *)(iVar7 + 0x2c) != 1) {
      if (*(int *)(iVar7 + 8) != 1) {
        if ((param_1[0xdc] == 1) && ((param_1[0xc5] == 2 || (param_1[0xc5] == 3)))) {
          param_1[0xc6] = 1;
        }
        goto LAB_00442959;
      }
      iVar5 = param_1[0xc5];
      if (((iVar5 == 2) || (iVar5 == 3)) && (param_1[0xde] == 0)) {
        if (((param_1[0xe2] - param_1[0xe0]) * (iStack_70 - param_1[0xb8]) < 0) ||
           ((param_1[0xe3] - param_1[0xe1]) * (iStack_6c - param_1[0xb9]) < 0)) {
          param_1[0xf0] = 0;
          param_1[0xf1] = 0;
        }
        param_1[0xe2] = iStack_70;
        param_1[0xe0] = param_1[0xb8];
        param_1[0xe1] = param_1[0xb9];
        param_1[0xe3] = iStack_6c;
      }
      if ((iVar5 != 2) && (iVar5 != 3)) goto LAB_00442959;
      if ((*(int *)(iVar7 + 0x5c) == 1) || (DAT_0048ce80 == 1)) {
        if (iVar5 != 3) {
          iVar5 = param_1[0xc1];
          param_1[0xc6] = 3;
          goto LAB_0044260c;
        }
      }
      else if (iVar5 != 2) {
        iVar5 = param_1[0xc0];
        param_1[0xc6] = 2;
LAB_0044260c:
        *(double *)(param_1 + 0xec) = (double)iVar5;
      }
      if (9 < *(int *)(iVar7 + 0x18)) {
        param_1[0xdc] = 1;
      }
      goto LAB_00442959;
    }
    iVar5 = FUN_00448690(param_1,uVar13,uVar14,(char)iStack_78,(char)iStack_74,0,1);
    if (iVar5 != 0) goto LAB_00442959;
    if (param_1[0x4a2] != 0) {
      param_1[0x499] = -1;
      auVar11 = FUN_00414080(iStack_70 - param_1[0xb8],iStack_6c - param_1[0xb9]);
      dVar1 = (double)(float10)auVar11;
      uStack_58._4_4_ = (undefined4)((ulonglong)dVar1 >> 0x20);
      uVar6 = uStack_58._4_4_;
      param_1[0x49d] = iStack_78;
      uStack_58._0_4_ = SUB84(dVar1,0);
      *(double *)(param_1 + 0x49a) = (double)(float10)auVar11;
      param_1[0x49e] = iStack_74;
      uVar3 = (undefined4)uStack_58;
      uStack_58 = dVar1;
      iVar5 = FUN_004140f0(uVar3,uVar6);
      param_1[199] = iVar5;
      iVar5 = FUN_00450630((int)param_1);
      param_1[0xc6] = iVar5;
      if (param_1[0xb] == 6) {
        if (iVar5 == 8) {
          param_1[0xc6] = 0xb;
        }
        if (param_1[0xc6] == 9) {
          param_1[0xc6] = 0xc;
        }
        if (param_1[0xc6] == 10) {
          param_1[0xc6] = 0xd;
        }
      }
      goto LAB_00442959;
    }
    iVar5 = param_1[0x49f];
    if ((iVar5 == -1) || (param_1[iVar5 + 0x510] != 3)) goto LAB_00442959;
    bVar2 = true;
    if ((iVar5 == 0x11) && (param_1[0x589] == 1)) {
      bVar2 = false;
    }
    if ((iVar5 == 6) && (param_1[0x69] == param_1[0x68])) {
      bVar2 = false;
    }
    if ((iVar5 == 8) && (param_1[0x555] != 0)) {
      bVar2 = false;
    }
    if (((iVar5 == 0xf) &&
        ((param_1[0x13d] == 0 ||
         (((iVar5 = FUN_004663a0(param_1[0x13d]), iVar5 != 0 &&
           (iVar5 = FUN_004663a0(param_1[0x13d]), iVar5 != 3)) &&
          (iVar5 = FUN_004663a0(param_1[0x13d]), iVar5 != 1)))))) ||
       ((!bVar2 ||
        (((param_1[0x49f] == 0 && (iVar5 = FUN_00466460(param_1[0x116]), iVar5 == 0)) &&
         (param_1[0x49f] == 0)))))) goto LAB_00442959;
    iVar5 = FUN_00451e60(param_1,param_1[0x49f]);
    lVar9 = FUN_00417410(param_1[0x49f],iVar5,2);
    iVar5 = FUN_0044f610(param_1,lVar9);
    if (param_1[0x6b] < iVar5) goto LAB_00442959;
    param_1[0xc6] = param_1[0x49f] + 0x16;
    param_1[0x499] = -1;
    auVar11 = FUN_00414080(iStack_70 - param_1[0xb8],iStack_6c - param_1[0xb9]);
    param_1[0x49d] = iStack_78;
    *(double *)(param_1 + 0x49a) = (double)(float10)auVar11;
    param_1[0x49e] = iStack_74;
  }
  else {
    iVar5 = FUN_00413ec0(iStack_70 - param_1[0xb8],iStack_6c - param_1[0xb9]);
    param_1[199] = iVar5;
    if (*(int *)(param_1[0xfe] + 0x10) == 1) {
      iVar5 = FUN_00448690(param_1,uVar13,uVar14,(char)iStack_78,(char)iStack_74,1,0);
      if ((iVar5 == 0) && (DAT_0048d540 == 1)) {
        iVar5 = FUN_00450630((int)param_1);
        param_1[0xc6] = iVar5;
        param_1[0x499] = -1;
        auVar11 = FUN_00414080(iStack_70 - param_1[0xb8],iStack_6c - param_1[0xb9]);
        *(double *)(param_1 + 0x49a) = (double)(float10)auVar11;
      }
      goto LAB_00442959;
    }
    if (*(int *)(param_1[0xfe] + 0x2c) != 1) {
      if (param_1[0xc5] != 1) {
        param_1[0xc6] = 1;
      }
      goto LAB_00442959;
    }
    iVar5 = FUN_00448690(param_1,uVar13,uVar14,(char)iStack_78,(char)iStack_74,1,1);
    if (iVar5 != 0) goto LAB_00442959;
    if (DAT_0048d540 != 1) {
      param_1[0x499] = -1;
      auVar11 = FUN_00414080(iStack_70 - param_1[0xb8],iStack_6c - param_1[0xb9]);
      dVar1 = (double)(float10)auVar11;
      uStack_58._4_4_ = (undefined4)((ulonglong)dVar1 >> 0x20);
      uVar6 = uStack_58._4_4_;
      param_1[0x49d] = iStack_78;
      uStack_58._0_4_ = SUB84(dVar1,0);
      *(double *)(param_1 + 0x49a) = (double)(float10)auVar11;
      param_1[0x49e] = iStack_74;
      uVar3 = (undefined4)uStack_58;
      uStack_58 = dVar1;
      iVar5 = FUN_004140f0(uVar3,uVar6);
      param_1[199] = iVar5;
      iVar5 = FUN_00450630((int)param_1);
      param_1[0xc6] = iVar5;
      goto LAB_00442959;
    }
    iVar5 = param_1[0x49f];
    if (iVar5 == -1) goto LAB_00442959;
    bVar2 = true;
    if ((iVar5 == 0x11) && (param_1[0x589] == 1)) {
      bVar2 = false;
    }
    if ((iVar5 == 6) && (param_1[0x69] == param_1[0x68])) {
      bVar2 = false;
    }
    if ((iVar5 == 8) && (param_1[0x555] != 0)) {
      bVar2 = false;
    }
    if ((iVar5 == 7) && (param_1[0x555] != 0)) {
      bVar2 = false;
    }
    if ((iVar5 == 9) && (param_1[0x555] != 0)) {
      bVar2 = false;
    }
    if ((((iVar5 == 0xf) &&
         ((param_1[0x13d] == 0 ||
          (((iVar5 = FUN_004663a0(param_1[0x13d]), iVar5 != 0 &&
            (iVar5 = FUN_004663a0(param_1[0x13d]), iVar5 != 3)) &&
           (iVar5 = FUN_004663a0(param_1[0x13d]), iVar5 != 1)))))) ||
        ((!bVar2 || (param_1[param_1[0x49f] + 0x510] != 3)))) ||
       (((param_1[0x49f] != 0 || (iVar5 = FUN_00466460(param_1[0x116]), iVar5 == 0)) &&
        (param_1[0x49f] == 0)))) goto LAB_00442959;
    iVar5 = FUN_00451e60(param_1,param_1[0x49f]);
    lVar9 = FUN_00417410(param_1[0x49f],iVar5,2);
    iVar5 = FUN_0044f610(param_1,lVar9);
    if (param_1[0x6b] < iVar5) goto LAB_00442959;
    param_1[0xc6] = param_1[0x49f] + 0x16;
    param_1[0x499] = -1;
    auVar11 = FUN_00414080(iStack_70 - param_1[0xb8],iStack_6c - param_1[0xb9]);
    param_1[0x49d] = iStack_78;
    *(double *)(param_1 + 0x49a) = (double)(float10)auVar11;
    param_1[0x49e] = iStack_74;
  }
  uStack_58 = (double)(float10)auVar11;
  iVar10 = FUN_004140f0(SUB84(uStack_58,0),(int)((ulonglong)uStack_58 >> 0x20));
  param_1[199] = iVar10;
  param_1[0x6b] = param_1[0x6b] - iVar5;
LAB_00442959:
  uStack_c = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_68);
  ExceptionList = pvStack_14;
  return 1;
}



/*
 * Function: FUN_004429b0
 * Address: 004429b0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_004429b0(int *param_1)

{
  byte bVar1;
  char *pcVar2;
  byte *pbVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  void *pvVar7;
  uint uVar8;
  void *this;
  int *piVar9;
  byte *pbVar10;
  bool bVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  int iVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 *puVar20;
  undefined4 uVar21;
  undefined4 *puVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined uVar27;
  undefined4 uVar28;
  undefined uVar29;
  undefined4 uVar30;
  undefined uVar31;
  undefined4 uVar32;
  int local_84c;
  uint local_848;
  int local_844;
  int local_840;
  int local_83c;
  undefined4 local_838;
  undefined4 local_834;
  undefined4 local_830;
  undefined4 local_82c;
  undefined4 local_828;
  int local_824;
  int local_820;
  int local_81c;
  uint local_80c [3];
  int local_800 [512];
  
  FUN_00401460(0x482770);
  iVar4 = FUN_004663a0((int)DAT_0048ce10);
  if (iVar4 == 1) {
    iVar4 = param_1[0xfe];
    FUN_00458080(DAT_0048ce10,*(int *)(iVar4 + 0xb8),*(int *)(iVar4 + 0xd4),*(int *)(iVar4 + 0xf0),
                 *(int *)(iVar4 + 0x10c),*(int *)(iVar4 + 0x198),*(int *)(iVar4 + 0x17c));
    goto LAB_00442a11;
  }
  iVar4 = FUN_00434cd0((int)DAT_0048ce10);
  if (iVar4 != 0) goto LAB_00442a11;
  if (param_1[0x101] == 0) {
    if (*(int *)(param_1[0xfe] + 0x3ac) == 1) {
      DAT_0048ce80 = (uint)(DAT_0048ce80 == 0);
      FUN_00401480(0x482770);
      return 1;
    }
    if (((param_1[0xb7] == 0) && (param_1[0xc6] == 0)) && (DAT_0048d7d0 == 1)) {
      FUN_00451930((int)param_1);
      FUN_00452910(param_1);
      FUN_00450080(param_1);
      DAT_0048d7d0 = 0;
    }
    if (DAT_0048d52c != -1) {
      if (DAT_0048d52c == 8) {
        param_1[0x49f] = -1;
        param_1[0x4a2] = 1;
      }
      else if ((&DAT_0048d508)[DAT_0048d52c] != -1) {
        param_1[0x49f] = (&DAT_0048d508)[DAT_0048d52c];
        param_1[0x4a2] = 0;
      }
      DAT_0048d52c = -1;
    }
    if (((*(int *)(param_1[0xfe] + 0x17c) == 1) && (DAT_0048ce44 == 0)) && (DAT_0048ce6c == 0)) {
      if (DAT_0048ce5c == 0) {
        if (DAT_0048ce60 == 0) {
          FUN_00416fb0(local_80c);
          if (local_80c[0] == 0) {
            FUN_004170f0();
            DAT_0048ce5c = 1;
            _DAT_0048d548 = 0;
            FUN_00401480(0x482770);
            return 1;
          }
          goto LAB_00442b79;
        }
        goto LAB_00442b85;
      }
    }
    else {
LAB_00442b79:
      if (DAT_0048ce5c == 0) {
LAB_00442b85:
        iVar4 = param_1[0xfe];
        if (*(int *)(iVar4 + 0x3c8) == 1) {
          if ((DAT_0048ce44 != 0) || (DAT_0048ce6c != 0)) goto LAB_00442ebf;
          if (DAT_0048ce38 != 0) {
            DAT_0048ce38 = 0;
            FUN_00401480(0x482770);
            return 1;
          }
          DAT_0048ce38 = 1;
          DAT_0048ce40 = 0;
        }
        else {
          if (*(int *)(iVar4 + 800) != 1) {
            if (*(int *)(iVar4 + 0x2b0) == 1) {
              if ((DAT_0048ce44 == 0) && (DAT_0048ce6c == 0)) {
                if (DAT_0048ce3c == 0) {
                  DAT_0048ce3c = 1;
                  _DAT_0048ce30 = 0;
                  DAT_0048ce50 = 0;
                  DAT_0048ce54 = 0;
                  DAT_0048ce64 = 0;
                  DAT_0048ce58 = 0;
                  DAT_0048ce68 = 0;
                  FUN_00401480(0x482770);
                  return 1;
                }
                DAT_0048ce3c = 0;
                FUN_00401480(0x482770);
                return 1;
              }
              goto LAB_00442ebf;
            }
            if (*(int *)(iVar4 + 0x454) == 1) {
              if ((DAT_0048ce44 == 0) && (DAT_0048ce6c == 0)) {
                if (DAT_0048ce68 == 0) {
                  DAT_0048ce68 = 1;
                  DAT_0048ce3c = 0;
                  _DAT_0048ce30 = 0;
                  DAT_0048ce50 = 0;
                  DAT_0048ce54 = 0;
                  DAT_0048ce64 = 0;
                  DAT_0048ce58 = 0;
                }
                else {
                  DAT_0048ce68 = 0;
                }
              }
              FUN_00401480(0x482770);
            }
            if (*(int *)(param_1[0xfe] + 0x294) == 1) {
              if ((DAT_0048ce44 != 0) || (DAT_0048ce6c != 0)) goto LAB_00442ebf;
              if (DAT_0048ce58 == 0) {
                FUN_004170f0();
                _DAT_0048d764 = 0;
                DAT_0048ce58 = 1;
                FUN_00401480(0x482770);
                return 1;
              }
              goto LAB_00442c2c;
            }
            goto LAB_00442d9b;
          }
          if ((DAT_0048ce44 != 0) || (DAT_0048ce6c != 0)) goto LAB_00442ebf;
          if (DAT_0048ce40 != 0) {
            DAT_0048ce40 = 0;
            FUN_00401480(0x482770);
            return 1;
          }
          DAT_0048ce40 = 1;
          DAT_0048ce38 = 0;
        }
        DAT_0048ce4c = 0;
        DAT_0048ce48 = 0;
        DAT_0048ce50 = 0;
        DAT_0048ce54 = 0;
        DAT_0048ce64 = 0;
LAB_00442c2c:
        DAT_0048ce58 = 0;
        FUN_00401480(0x482770);
        return 1;
      }
    }
LAB_00442d9b:
    if (((*(int *)(param_1[0xfe] + 0x390) == 1) && (DAT_0048ce44 == 0)) && (DAT_0048ce6c == 0)) {
      if (DAT_0048ce54 == 0) {
        FUN_004170f0();
        DAT_0048ce54 = 1;
        _DAT_0048d770 = 0xffffffff;
      }
      else {
        DAT_0048ce54 = 0;
      }
    }
    if (((*(int *)(param_1[0xfe] + 0x33c) == 1) && (DAT_0048ce44 == 0)) && (DAT_0048ce6c == 0)) {
      if (DAT_0048ce64 == 0) {
        DAT_0048ce4c = 0;
        DAT_0048ce48 = 0;
        DAT_0048ce40 = 0;
        DAT_0048ce38 = 0;
        DAT_0048ce50 = 0;
        DAT_0048ce54 = 0;
        DAT_0048ce64 = 1;
      }
      else {
        DAT_0048ce64 = 0;
      }
    }
    if (*(int *)(param_1[0xfe] + 0x17c) == 1) {
      if (DAT_0048ce44 == 1) {
        bVar11 = param_1[0x162] == 1;
      }
      else {
        if (((DAT_0048ce3c != 1) && (DAT_0048ce40 != 1)) &&
           ((((DAT_0048ce38 != 1 &&
              (((((DAT_0048ce48 != 1 && (DAT_0048ce50 != 1)) && (DAT_0048ce54 != 1)) &&
                ((DAT_0048ce5c != 1 && (DAT_0048ce58 != 1)))) && (DAT_0048ce64 != 1)))) &&
             ((DAT_0048ce4c != 1 && (DAT_0048ce68 != 1)))) && (DAT_0048ce60 != 1))))
        goto LAB_00442ed6;
        bVar11 = DAT_0048ce6c == 0;
      }
      if (bVar11) {
        FUN_004170f0();
LAB_00442ebf:
        FUN_00401480(0x482770);
        return 1;
      }
    }
  }
LAB_00442ed6:
  local_848 = 0;
  local_84c = 0;
  do {
    if (*(int *)(param_1[0xfe] + 0x4c4 + local_84c) == 1) {
      piVar9 = param_1 + 0x146;
      uVar8 = local_848 & 0x80000003;
      if ((int)uVar8 < 0) {
        uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
      }
      iVar4 = FUN_00466b00(piVar9,uVar8,(int)(local_848 + ((int)local_848 >> 0x1f & 3U)) >> 2,-1,-1)
      ;
      if ((iVar4 != 0) && (iVar5 = FUN_0044a240(param_1,iVar4), iVar5 == 1)) {
        iVar5 = FUN_00466390(iVar4);
        iVar6 = FUN_00456210(iVar4);
        iVar5 = FUN_004671c0(param_1 + 0x145,iVar6,iVar5);
        if (iVar5 != 0) {
          piVar9 = param_1 + 0x145;
          iVar4 = iVar5;
        }
        FUN_00466c40(piVar9,iVar4);
      }
    }
    local_84c = local_84c + 0x1c;
    local_848 = local_848 + 1;
  } while (local_84c < 0xe0);
  if (*(int *)(param_1[0xfe] + 0x1b4) == 1) {
    iVar4 = param_1[1] + 16000000;
    pvVar7 = (void *)FUN_00427aa0(param_1[0x116]);
    iVar4 = FUN_004299e0(pvVar7,iVar4);
    if (iVar4 != 0) {
      iVar5 = FUN_00434cd0(iVar4);
      iVar4 = param_1[0x568];
      param_1[0x568] = 1 - iVar4;
      if ((1 - iVar4 == 1) && (*(undefined4 *)(iVar5 + 0x184) = 0, *(int *)(iVar5 + 0x168) == 0)) {
        *(undefined4 *)(iVar5 + 0x188) = 2;
      }
      local_844 = FUN_00456230(param_1[0x116]);
      local_83c = param_1[1];
      local_838 = 0x2e;
      local_834 = *(undefined4 *)(iVar5 + 0x184);
      local_82c = 0;
      local_830 = 0xffffffff;
      local_828 = 0xbff00000;
      local_820 = *(int *)(iVar5 + 0x18);
      local_81c = *(int *)(iVar5 + 0x1c);
      local_824 = -1;
      local_840 = param_1[0x576];
      FUN_00452bc0(param_1,&local_844,1);
    }
  }
  if (((*(int *)(param_1[0xfe] + 0x1ec) == 1) && (param_1[0xca] != 0)) && (DAT_0048d5d8 == 0)) {
    DAT_0048d5d8 = 10;
    iVar4 = param_1[0xd];
    uVar32 = 0;
    uVar30 = 200;
    uVar28 = 0;
    uVar26 = 0;
    param_1[0xca] = param_1[0xca] + -1;
    iVar5 = param_1[0x553];
    uVar25 = 0;
    uVar24 = 0;
    iVar6 = param_1[0x499];
    uVar23 = 0;
    puVar22 = (undefined4 *)0x0;
    iVar14 = param_1[1];
    uVar21 = 0;
    puVar20 = (undefined4 *)0x0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 0;
    uVar15 = 0x14;
    uVar13 = 1;
    uVar12 = 1000;
    piVar9 = param_1 + 0xb8;
    pvVar7 = (void *)FUN_00466420(param_1[0x116]);
    FUN_0042fdc0(pvVar7,uVar12,uVar13,iVar14,uVar15,iVar6,uVar16,uVar17,uVar18,uVar19,piVar9,puVar20
                 ,uVar21,puVar22,uVar23,iVar5,uVar24,iVar4,uVar25,uVar26,uVar28,uVar30,uVar32);
    local_844 = FUN_00456230(param_1[0x116]);
    local_83c = param_1[1];
    local_820 = param_1[0xb8];
    local_824 = param_1[0x553];
    local_81c = param_1[0xb9];
    local_838 = 0x2c;
    local_830 = 0xffffffff;
    local_82c = 0;
    local_828 = 0xbff00000;
    FUN_00452bc0(param_1,&local_844,1);
    param_1[0x553] = param_1[0x553] + 1;
  }
  if ((*(int *)(param_1[0xfe] + 0x374) == 1) && (iVar4 = FUN_00451a00((int)param_1), iVar4 == 1)) {
    if (param_1[0x577] != 0) {
      param_1[0x577] = 0;
    }
    param_1[0x554] = 0;
    param_1[0x555] = 900;
    _DAT_0048d724 = 5;
    local_844 = FUN_00456230(param_1[0x116]);
    local_83c = param_1[1];
    local_838 = 0x30;
    FUN_00452bc0(param_1,&local_844,1);
  }
  if (param_1[0x101] == 1) {
    param_1[0x101] = 0;
    if (DAT_0048d708 == 0) {
      pcVar2 = (char *)param_1[0x102];
      bVar11 = false;
      if (pcVar2 != (char *)0x0) {
        if (*pcVar2 != '\0') {
          if (param_1[0x10e] == 0) {
            FUN_00453700((void *)param_1[0x138],pcVar2,0xe0,0xe0,0xe0,1);
            iVar4 = param_1[0x10e];
            piVar9 = (int *)param_1[0x102];
            uVar31 = 0xe0;
            uVar29 = 0xe0;
            uVar27 = 0xe0;
          }
          else {
            FUN_00467d51((undefined *)local_800,(byte *)s___s___s_00480590);
            FUN_00453700((void *)param_1[0x139],(char *)local_800,0xc0,0xc0,0xc0,2);
            iVar4 = param_1[0x10e];
            uVar31 = 0xc0;
            uVar29 = 0xc0;
            uVar27 = 0xc0;
            piVar9 = local_800;
          }
          FUN_004522b0(param_1,piVar9,iVar4,uVar27,uVar29,uVar31);
          bVar11 = true;
        }
        GlobalFree((HGLOBAL)param_1[0x102]);
        param_1[0x102] = 0;
        if (bVar11) {
          PostMessageA(DAT_00482778,0x405,0,0);
          PostMessageA(DAT_00482778,0x403,0,0);
          FUN_00401480(0x482770);
          return 1;
        }
      }
    }
    else if ((DAT_0048d708 == 1) && (pbVar3 = (byte *)param_1[0x102], pbVar3 != (byte *)0x0)) {
      uVar8 = 0xffffffff;
      pvVar7 = (void *)0x0;
      pbVar10 = pbVar3;
      do {
        if (uVar8 == 0) break;
        uVar8 = uVar8 - 1;
        bVar1 = *pbVar10;
        pbVar10 = pbVar10 + 1;
      } while (bVar1 != 0);
      this = (void *)(~uVar8 - 1);
      if (0 < (int)this) {
        do {
          if (((char)pbVar3[(int)pvVar7] < '0') || ('9' < (char)pbVar3[(int)pvVar7])) break;
          pvVar7 = (void *)((int)pvVar7 + 1);
        } while ((int)pvVar7 < (int)this);
      }
      if (((pvVar7 == this) && (*pbVar3 != 0)) && (iVar4 = FUN_004685f5(this,pbVar3), 0 < iVar4)) {
        iVar5 = FUN_004661c0((void *)param_1[0x55c],0);
        if (iVar4 < iVar5) {
          DAT_0048ce34 = FUN_00462d30(DAT_0048ce14,4,0,(undefined4 *)0x0);
          FUN_00466440(DAT_0048ce34,iVar4);
          iVar5 = FUN_004661c0((void *)param_1[0x55c],0);
          FUN_00466440((void *)param_1[0x55c],iVar5 - iVar4);
        }
        else {
          iVar5 = FUN_004661c0((void *)param_1[0x55c],0);
          if (iVar5 == iVar4) {
            if (param_1[0x55d] == 0) {
              FUN_00466be0(param_1 + 0x145,param_1[0x55c]);
              DAT_0048ce34 = (undefined4 *)param_1[0x55c];
            }
            else {
              if (param_1[0x55d] == 1) {
                iVar4 = param_1[0x55c];
                piVar9 = param_1 + 0x147;
              }
              else {
                iVar4 = param_1[0x55c];
                piVar9 = param_1 + param_1[0x156] + 0x148;
              }
              FUN_00466be0(piVar9,iVar4);
              DAT_0048ce34 = (undefined4 *)param_1[0x55c];
            }
          }
        }
        if (DAT_0048ce34 != (undefined4 *)0x0) {
          FUN_004456d0(param_1,0,0x55,1);
        }
      }
    }
  }
  else {
    FUN_00416fb0(local_80c);
    if ((local_80c[0] == 0) && (*(int *)(param_1[0xfe] + 0x198) == 1)) {
      FUN_00441970(param_1,(uint)(*(int *)(param_1[0xfe] + 0x40) == 1));
      PostMessageA(DAT_00482778,0x402,0,0);
      PostMessageA(DAT_00482778,0x404,0,0);
      FUN_00401480(0x482770);
      return 1;
    }
  }
LAB_00442a11:
  FUN_00401480(0x482770);
  return 1;
}



/*
 * Function: FUN_00443490
 * Address: 00443490
 */

void __thiscall
FUN_00443490(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
            undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
            undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
            undefined4 param_17,undefined4 param_18,int param_19,undefined4 param_20,int param_21,
            int param_22)

{
  double dVar1;
  bool bVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  undefined4 unaff_ESI;
  int unaff_EDI;
  longlong lVar6;
  undefined4 unaff_retaddr;
  int in_stack_fffffff8;
  int in_stack_fffffffc;
  
  if (*(int *)((int)this + 0x1a4) < 1) {
    if (*(int *)((int)this + 0x314) != 5) {
      *(undefined4 *)((int)this + 0x314) = 5;
      *(undefined4 *)((int)this + 0x318) = 0;
      *(undefined4 *)((int)this + 0x308) = 0;
      *(undefined4 *)((int)this + 0x2dc) = 1;
      *(undefined4 *)((int)this + 0x324) = 0;
    }
    goto LAB_0044387c;
  }
  if (((*(byte *)((int)this + 0x2d0) & 1) != 0) && (DAT_0048d778 == -1)) {
    if (*(int *)((int)this + 0x1ac) < 1) {
      *(undefined4 *)((int)this + 0x1628) = 0;
      *(undefined4 *)((int)this + 0x1630) = 0;
    }
    if (((*(int *)((int)this + 0x1280) != -1) && (*(int *)((int)this + 0x1284) < 0)) &&
       (*(int *)(*(int *)((int)this + 0x3f8) + 0x10) == 1)) {
      FUN_00457e60(DAT_0048ce10,*(int *)((int)this + 0x1280));
      *(undefined4 *)((int)this + 0x1280) = 0xffffffff;
    }
    iVar5 = FUN_004663a0((int)DAT_0048ce10);
    if (iVar5 == 0) {
      if (*(int *)((int)this + 0x410) == 1) {
        *(undefined4 *)((int)this + 0x410) = 0;
        FUN_00453220((int)this);
      }
      else {
        FUN_00441c00((int *)this);
        FUN_004429b0((int *)this);
      }
    }
    else {
      FUN_00457fa0(DAT_0048ce10,**(int **)((int)this + 0x3fc),(*(int **)((int)this + 0x3fc))[1],
                   *(int *)(*(int *)((int)this + 0x3f8) + 0x10),
                   *(int *)(*(int *)((int)this + 0x3f8) + 0x2c));
      iVar5 = FUN_004663a0((int)DAT_0048ce10);
      if (iVar5 == 1) {
        FUN_00401460(0x482770);
        iVar5 = *(int *)((int)this + 0x3f8);
        FUN_00458080(DAT_0048ce10,*(int *)(iVar5 + 0xb8),*(int *)(iVar5 + 0xd4),
                     *(int *)(iVar5 + 0xf0),*(int *)(iVar5 + 0x10c),*(int *)(iVar5 + 0x198),
                     *(int *)(iVar5 + 0x17c));
        FUN_00401480(0x482770);
      }
    }
    goto LAB_0044387c;
  }
  if (*(int *)((int)this + 0x460) == 1) {
    iVar5 = FUN_00456230(*(int *)((int)this + 0x458));
    if ((*(int *)((int)this + 0x468) == iVar5) &&
       (iVar5 = FUN_0044e9e0(this,*(int *)((int)this + 0x470),*(int *)((int)this + 0x474),0x5dc,
                             0x5dc), iVar5 == 0)) {
      *(int *)((int)this + 0x31c) = (int)*(char *)((int)this + 0x480);
      *(undefined4 *)((int)this + 0x2e0) = *(undefined4 *)((int)this + 0x470);
      *(undefined4 *)((int)this + 0x2e4) = *(undefined4 *)((int)this + 0x474);
      FUN_0044e960(this,1);
      FUN_004542f0((void *)((int)this + 0x378),(undefined4 *)((int)this + 0x2e0));
    }
    *(undefined4 *)((int)this + 0x460) = 0;
  }
  if (*(int *)((int)this + 0x4a4) == 1) {
    if (*(int *)((int)this + 0x2dc) == 0) {
      *(undefined4 *)((int)this + 0x31c) = *(undefined4 *)((int)this + 0x4bc);
      *(undefined4 *)((int)this + 0x1270) = *(undefined4 *)((int)this + 0x4bc);
      *(undefined4 *)((int)this + 0x318) = *(undefined4 *)((int)this + 0x4b4);
      *(undefined4 *)((int)this + 0x4a4) = 0;
    }
    goto LAB_0044387c;
  }
  if ((*(int *)((int)this + 0x2dc) != 0) || (*(int *)((int)this + 0x484) != 1)) goto LAB_0044387c;
  in_stack_fffffff8 = *(int *)((int)this + 0x498);
  in_stack_fffffffc = *(int *)((int)this + 0x49c);
  if ((in_stack_fffffff8 == *(int *)((int)this + 0x2e0)) &&
     (in_stack_fffffffc == *(int *)((int)this + 0x2e4))) {
    FUN_004542f0((void *)((int)this + 0x378),(undefined4 *)&stack0xfffffff8);
    if (*(int *)((int)this + 0x494) == 2) {
      *(int *)((int)this + 0x31c) = (int)*(char *)((int)this + 0x4a0);
    }
  }
  else if ((*(int *)((int)this + 0x314) == 2) || (*(int *)((int)this + 0x314) == 3)) {
    if (*(int *)((int)this + 0x494) == 0) {
LAB_0044384c:
      dVar1 = (double)*(int *)((int)this + 0x300);
      *(undefined4 *)((int)this + 0x314) = 2;
    }
    else if (*(int *)((int)this + 0x494) == 1) {
      dVar1 = (double)*(int *)((int)this + 0x304);
      *(undefined4 *)((int)this + 0x314) = 3;
    }
    else {
      lVar6 = FUN_00414310(in_stack_fffffff8,in_stack_fffffffc,*(int *)((int)this + 0x2e0),
                           *(int *)((int)this + 0x2e4));
      if ((int)lVar6 < 1000) goto LAB_0044384c;
      dVar1 = (double)*(int *)((int)this + 0x304);
      *(undefined4 *)((int)this + 0x314) = 3;
    }
    *(double *)((int)this + 0x3b0) = dVar1;
    *(int *)((int)this + 0x388) = in_stack_fffffff8;
    *(int *)((int)this + 0x38c) = in_stack_fffffffc;
  }
  else {
    FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                 *(undefined4 *)((int)this + 0xc),(int *)((int)this + 0x2e0),
                 (undefined4 *)&stack0xfffffff8,(undefined4 *)((int)this + 0x2e8),
                 SUB84((double)*(int *)((int)this + 0x300),0),
                 (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),0,0,0,
                 (undefined4 *)0x0,0x3c,0,0,0);
    iVar5 = *(int *)((int)this + 0x494);
    if (iVar5 == 0) {
LAB_0044379c:
      *(undefined4 *)((int)this + 0x318) = 2;
      *(double *)((int)this + 0x3b0) = (double)*(int *)((int)this + 0x300);
    }
    else {
      if (iVar5 != 1) {
        if (iVar5 != 2) goto LAB_00443876;
        lVar6 = FUN_00414310(in_stack_fffffff8,in_stack_fffffffc,*(int *)((int)this + 0x2e0),
                             *(int *)((int)this + 0x2e4));
        if ((int)lVar6 < 1000) goto LAB_0044379c;
      }
      *(undefined4 *)((int)this + 0x318) = 3;
      *(double *)((int)this + 0x3b0) = (double)*(int *)((int)this + 0x304);
    }
  }
LAB_00443876:
  *(undefined4 *)((int)this + 0x484) = 0;
LAB_0044387c:
  iVar5 = *(int *)((int)this + 0x1548);
  if (iVar5 != -1) {
    if (((DAT_0048ce44 == 0) && (DAT_0048ce6c == 0)) && (DAT_0048ce34 == 0)) {
      pvVar3 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
      puVar4 = (undefined4 *)FUN_004299e0(pvVar3,iVar5);
      if (((puVar4 != (undefined4 *)0x0) && (iVar5 = FUN_00427b20(puVar4), iVar5 == 3)) &&
         (*(int *)((int)this + 0x1624) == 0)) {
        pvVar3 = (void *)0x0;
        iVar5 = FUN_00434cd0((int)puVar4);
        FUN_004526a0(this,*(int *)((int)this + 0x1548),*(void **)(iVar5 + 0xcc),pvVar3);
      }
    }
    *(undefined4 *)((int)this + 0x1548) = 0xffffffff;
  }
  FUN_00444ca0((int)this);
  if (*(int *)((int)this + 0x2dc) == 1) {
    iVar5 = *(int *)((int)this + 0x314);
  }
  else {
    iVar5 = *(int *)((int)this + 0x318);
    if (iVar5 == 0) {
      iVar5 = *(int *)((int)this + 0x314);
    }
    else {
      *(undefined4 *)((int)this + 0x314) = 0;
      *(undefined4 *)((int)this + 0x318) = 0;
    }
  }
  FUN_00443a80(this,iVar5,unaff_EDI,unaff_ESI,unaff_EBP,unaff_EBX,in_stack_fffffff8,
               in_stack_fffffffc,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,
               param_7,param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
               param_16,param_17,param_18,param_19,param_20,param_21,param_22);
  if ((*(byte *)((int)this + 0x2d0) & 1) != 0) {
    FUN_0044f2f0((int)this);
  }
  FUN_00444a20((int)this);
  FUN_00444b00((int)this);
  FUN_004448b0((int)this);
  FUN_00444960((int)this);
  FUN_00444be0((int)this);
  FUN_00403040();
  FUN_00440ca0((int)this);
  FUN_0044e960(this,0);
  if ((*(byte *)((int)this + 0x2d0) & 1) != 0) {
    FUN_004506b0((int)this);
    FUN_00451a40((int)this);
  }
  if (0 < *(int *)((int)this + 0x1a4)) {
    FUN_00451eb0((int *)this);
  }
  if (*(int *)((int)this + 0x1554) != 0) {
    if (*(int *)((int)this + 0x1554) % 0xf == 0) {
      FUN_004456d0(this,0,0x4c,0);
    }
    *(int *)((int)this + 0x1554) = *(int *)((int)this + 0x1554) + -1;
  }
  if (*(int *)((int)this + 0x1588) != 0) {
    *(int *)((int)this + 0x1588) = *(int *)((int)this + 0x1588) + -1;
  }
  if ((*(byte *)((int)this + 0x2d0) & 1) != 0) {
    *(undefined4 *)((int)this + 0x159c) = 0;
  }
  bVar2 = false;
  if ((*(int *)((int)this + 0x15dc) != 0) && (*(int *)((int)this + 0x1ac) == 0)) {
    *(undefined4 *)((int)this + 0x15dc) = 0;
    bVar2 = true;
  }
  if ((*(int *)((int)this + 0x15e4) != 0) && (*(int *)((int)this + 0x1ac) == 0)) {
    *(undefined4 *)((int)this + 0x15e4) = 0;
    bVar2 = true;
  }
  if ((*(int *)((int)this + 0x15ec) != 0) && (*(int *)((int)this + 0x1ac) == 0)) {
    *(undefined4 *)((int)this + 0x15ec) = 0;
  }
  if (bVar2) {
    FUN_00450080(this);
    FUN_00452910((int *)this);
  }
  iVar5 = FUN_004663a0((int)DAT_0048ce10);
  if ((iVar5 == 0) && (*(int *)((int)this + 0x410) == 1)) {
    DAT_0048d7e8 = 2;
  }
  return;
}



/*
 * Function: FUN_00443a80
 * Address: 00443a80
 */

undefined4 __thiscall
FUN_00443a80(void *this,int param_1,int param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
            undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
            undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
            undefined4 param_17,undefined4 param_18,undefined4 param_19,undefined4 param_20,
            undefined4 param_21,undefined4 param_22,undefined4 param_23,undefined4 param_24,
            undefined4 param_25,undefined4 param_26,int param_27,undefined4 param_28,int param_29,
            int param_30)

{
  undefined4 uVar1;
  int unaff_retaddr;
  undefined4 in_stack_0000007c;
  undefined4 in_stack_00000080;
  undefined4 in_stack_00000084;
  
  switch(param_1) {
  case 1:
    uVar1 = FUN_00434ef0((int)this);
    return uVar1;
  case 2:
    uVar1 = FUN_004351f0(this);
    return uVar1;
  case 3:
    uVar1 = FUN_00435530(this);
    return uVar1;
  case 4:
    uVar1 = FUN_00435870((int)this);
    return uVar1;
  case 5:
    uVar1 = FUN_00435b60((int *)this);
    return uVar1;
  default:
    return 0xffffffff;
  case 7:
    uVar1 = FUN_00439140((int *)this);
    return uVar1;
  case 8:
    uVar1 = FUN_00435e60(this,0);
    return uVar1;
  case 9:
    uVar1 = FUN_00435e60(this,1);
    return uVar1;
  case 10:
    uVar1 = FUN_00435e60(this,2);
    return uVar1;
  case 0xb:
    uVar1 = FUN_004364e0(0,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30);
    return uVar1;
  case 0xc:
    uVar1 = FUN_004364e0(1,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30);
    return uVar1;
  case 0xd:
    uVar1 = FUN_00437910((char)unaff_retaddr,(undefined)param_1,(undefined)param_2,
                         (undefined)param_3,(undefined)param_4,(undefined)param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30,
                         in_stack_0000007c,in_stack_00000080,in_stack_00000084);
    return uVar1;
  case 0xe:
    uVar1 = FUN_00436c20(0,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30);
    return uVar1;
  case 0xf:
    uVar1 = FUN_00436c20(1,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30);
    return uVar1;
  case 0x11:
    uVar1 = FUN_004372b0(0,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30);
    return uVar1;
  case 0x12:
    uVar1 = FUN_004372b0(1,unaff_retaddr,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
                         param_8,param_9,param_10,param_11,param_12,param_13,param_14,param_15,
                         param_16,param_17,param_18,param_19,param_20,param_21,param_22,param_23,
                         param_24,param_25,param_26,param_27,param_28,param_29,param_30);
    return uVar1;
  case 0x13:
    uVar1 = FUN_00439130(this);
    return uVar1;
  case 0x14:
    uVar1 = FUN_00439120(this);
    return uVar1;
  case 0x15:
    uVar1 = FUN_00438a90((int *)this);
    return uVar1;
  case 0x16:
    uVar1 = FUN_0043a260(this);
    return uVar1;
  case 0x17:
    uVar1 = FUN_00439730(this);
    return uVar1;
  case 0x18:
    uVar1 = FUN_0043ae10(this);
    return uVar1;
  case 0x19:
    uVar1 = FUN_0043a840(this);
    return uVar1;
  case 0x1a:
    uVar1 = FUN_00439d10(this);
    return uVar1;
  case 0x1b:
    uVar1 = FUN_0043b3f0(this);
    return uVar1;
  case 0x1c:
    uVar1 = FUN_0043ca60(this);
    return uVar1;
  case 0x1d:
    uVar1 = FUN_0043d290((int *)this);
    return uVar1;
  case 0x1e:
    uVar1 = FUN_0043ceb0((int *)this);
    return uVar1;
  case 0x1f:
    uVar1 = FUN_0043d670(this);
    return uVar1;
  case 0x20:
    uVar1 = FUN_0043e000(this);
    return uVar1;
  case 0x21:
    uVar1 = FUN_0043beb0(this);
    return uVar1;
  case 0x22:
    uVar1 = FUN_0043c490(this);
    return uVar1;
  case 0x23:
    uVar1 = FUN_0043b950(this);
    return uVar1;
  case 0x24:
    uVar1 = FUN_0043da20(this);
    return uVar1;
  case 0x25:
    uVar1 = FUN_0043e5e0(this);
    return uVar1;
  case 0x26:
    uVar1 = FUN_0043ecf0(this);
    return uVar1;
  case 0x27:
    uVar1 = FUN_0043f8d0(this);
    return uVar1;
  case 0x28:
    uVar1 = FUN_00440180((int *)this);
    return uVar1;
  case 0x29:
    uVar1 = FUN_00440530((int *)this);
    return uVar1;
  case 0x2a:
    uVar1 = FUN_0043fcc0(this);
    return uVar1;
  case 0x2b:
    uVar1 = FUN_0043f2e0(this);
    return uVar1;
  }
}



/*
 * Function: FUN_00443cb0
 * Address: 00443cb0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_00443cb0(void *this,int *param_1,int *param_2)

{
  bool bVar1;
  int iVar2;
  void *pvVar3;
  uint uVar4;
  undefined4 *puVar5;
  int *piVar6;
  RKC_RPG_TABLEDATA *pRVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 uVar11;
  uint uVar12;
  uint uVar13;
  long lVar14;
  undefined1 auVar15 [10];
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 *puVar24;
  undefined4 uVar25;
  undefined4 *puVar26;
  undefined4 uVar27;
  undefined4 uVar28;
  undefined4 uVar29;
  undefined4 uVar30;
  undefined4 uVar31;
  undefined4 uVar32;
  undefined4 uVar33;
  undefined4 uVar34;
  undefined4 uVar36;
  undefined8 uVar35;
  int local_178;
  int iStack_174;
  int local_16c;
  undefined4 local_168;
  undefined4 local_164;
  int local_160;
  undefined4 local_15c;
  uint local_158 [9];
  undefined4 uStack_134;
  undefined4 uStack_130;
  undefined4 uStack_12c;
  undefined4 uStack_128;
  int iStack_124;
  undefined4 uStack_120;
  undefined4 auStack_11c [8];
  undefined4 auStack_fc [17];
  undefined4 uStack_b8;
  int iStack_ac;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined4 uStack_14;
  undefined4 uStack_c;
  
  local_164 = *(undefined4 *)((int)this + 0x1b4);
  local_168 = *(undefined4 *)((int)this + 4);
  local_160 = *(int *)((int)this + 0x1b8);
  local_15c = *(undefined4 *)((int)this + 0x1c8);
  local_16c = 0;
  FUN_0044fca0(this,(int *)local_158);
  if (*(int *)((int)this + 0x1554) != 0) {
    local_160 = (local_160 * 0xc) / 10;
  }
  lVar14 = 100;
  iVar2 = FUN_00434cd0(DAT_0048ce0c);
  if (((iVar2 == *(int *)((int)this + 4)) && (*(int *)((int)this + 0x15ec) != 0)) &&
     (param_1[1] != 3)) {
    iVar2 = FUN_00451e60(this,9);
    lVar14 = FUN_00417410(9,iVar2,0);
  }
  local_160 = (lVar14 * local_160) / 100;
  if (param_1[4] < 1) {
    local_178 = 0;
  }
  else {
    local_178 = FUN_00412a40((undefined2 *)param_1,&local_16c);
  }
  iVar2 = FUN_00434cd0(DAT_0048ce0c);
  if (iVar2 == *(int *)((int)this + 4)) {
    if ((*(int *)((int)this + 0x1628) != 0) && (param_1[1] == 3)) {
      RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x1a);
      iVar8 = 0;
      iVar2 = FUN_00451e60(this,0x12);
      lVar14 = FUN_00417410(0x12,iVar2,iVar8);
      local_178 = ((100 - lVar14) * local_178) / 100;
      if (local_178 == 0) {
        local_178 = 1;
      }
      else if (0x13 < local_178) {
        FUN_0044f6f0(this,0x12,0);
      }
      uVar36 = 0;
      uVar34 = 200;
      uVar33 = 0;
      uVar32 = 0;
      uVar31 = 0;
      uVar30 = 0;
      uVar29 = 0;
      uVar28 = 0xffffffff;
      uVar27 = 8;
      puVar26 = (undefined4 *)0x0;
      puVar5 = (undefined4 *)((int)this + 0x2e8);
      uVar11 = *(undefined4 *)((int)this + 4);
      uVar25 = 0;
      puVar24 = (undefined4 *)0x0;
      uVar23 = 0;
      uVar22 = 0;
      uVar21 = 0;
      uVar20 = 0;
      uVar19 = 0;
      uVar18 = 0;
      uVar17 = 1;
      uVar16 = 0x5225;
      pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
      FUN_0042fdc0(pvVar3,uVar16,uVar17,uVar11,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,puVar24,
                   puVar5,uVar25,puVar26,uVar27,uVar28,uVar29,uVar30,uVar31,uVar32,uVar33,uVar34,
                   uVar36);
      FUN_004456d0(this,0,0x3c,0);
      iVar8 = 2;
      iVar2 = FUN_00451e60(this,0x12);
      lVar14 = FUN_00417410(*(long *)((int)this + 0x127c),iVar2,iVar8);
      iVar2 = FUN_0044f610(this,lVar14);
      iVar2 = *(int *)((int)this + 0x1ac) - iVar2;
      *(int *)((int)this + 0x1ac) = iVar2;
      if (iVar2 < 1) {
        *(undefined4 *)((int)this + 0x1ac) = 0;
        *(undefined4 *)((int)this + 0x1628) = 0;
      }
    }
    if (((*(int *)((int)this + 0x15ec) == 0) || (param_1[1] == 3)) ||
       (*(int *)((int)this + 0x1ac) == 0)) {
      *(int *)((int)this + 0x1a4) = *(int *)((int)this + 0x1a4) - local_178;
    }
    else {
      iVar2 = *(int *)((int)this + 0x1ac) - local_178;
      *(int *)((int)this + 0x1ac) = iVar2;
      if (iVar2 < 0) {
        *(undefined4 *)((int)this + 0x1ac) = 0;
      }
    }
    if (*(int *)((int)this + 0x1a4) < 1) {
      iVar2 = FUN_004671c0((void *)((int)this + 0x550),4,98000000);
      if (iVar2 != 0) {
        *(undefined4 *)((int)this + 0x1a4) = *(undefined4 *)((int)this + 0x1a0);
        *(undefined4 *)((int)this + 0x1ac) = *(undefined4 *)((int)this + 0x1a8);
        FUN_00466c40((void *)((int)this + 0x550),iVar2);
        FUN_004456d0(this,0,0x11,1);
        uVar35 = 200;
        uVar33 = 0;
        uVar32 = 0;
        uVar31 = 0;
        uVar30 = 0;
        uVar29 = 0;
        uVar28 = 0xffffffff;
        uVar27 = 8;
        puVar26 = (undefined4 *)0x0;
        puVar5 = (undefined4 *)((int)this + 0x2e8);
        uVar11 = *(undefined4 *)((int)this + 4);
        uVar25 = 0;
        puVar24 = (undefined4 *)0x0;
        uVar23 = 0;
        uVar22 = 0;
        uVar21 = 0;
        uVar20 = 0;
        uVar19 = 0;
        uVar18 = 0;
        uVar17 = 1;
        uVar16 = 0x521c;
        pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
        FUN_0042fdc0(pvVar3,uVar16,uVar17,uVar11,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,puVar24,
                     puVar5,uVar25,puVar26,uVar27,uVar28,uVar29,uVar30,uVar31,uVar32,uVar33,
                     (int)uVar35,(int)((ulonglong)uVar35 >> 0x20));
      }
      if (*(int *)((int)this + 0x1a4) < 1) {
        if ((*(int *)((int)this + 0x314) != 4) || (*(int *)((int)this + 0x15f0) != 2)) {
          *(undefined4 *)((int)this + 0x15f0) = 0;
        }
        *(undefined4 *)((int)this + 0x314) = 5;
        *(undefined4 *)((int)this + 0x308) = 0;
        *(undefined4 *)((int)this + 0x2dc) = 1;
      }
    }
    bVar1 = false;
    if (((*(int *)((int)this + 0x4e8) != 0) && (iVar2 = _rand(), iVar2 % 100 < 0x14)) &&
       (iVar2 = FUN_00467550(*(void **)((int)this + 0x4e8),1), iVar2 == 0)) {
      bVar1 = true;
    }
    if (((*(int *)((int)this + 0x4ec) != 0) && (iVar2 = _rand(), iVar2 % 100 < 0x1e)) &&
       (iVar2 = FUN_00467550(*(void **)((int)this + 0x4ec),1), iVar2 == 0)) {
      bVar1 = true;
    }
    if ((((*(int *)((int)this + 0x4f8) != 0) && (iVar2 = _rand(), iVar2 % 100 < 0x1e)) &&
        ((*(int *)((int)this + 0x4f4) == 0 ||
         (iVar2 = FUN_004672f0(*(int *)((int)this + 0x4f4)), iVar2 == 0)))) &&
       (iVar2 = FUN_00467550(*(void **)((int)this + 0x4f8),1), iVar2 == 0)) {
      bVar1 = true;
    }
    if ((((*(int *)((int)this + 0x4f0) != 0) && (iVar2 = _rand(), iVar2 % 100 < 0x14)) &&
        (iVar2 = FUN_00467550(*(void **)((int)this + 0x4f0),1), iVar2 == 0)) || (bVar1)) {
      FUN_00452910((int *)this);
      FUN_00450080(this);
    }
  }
  if ((*(int *)((int)this + 0x314) != 4) || (*(int *)((int)this + 0x15f0) != 2)) {
    *(undefined4 *)((int)this + 0x324) = 0;
  }
  if (*(int *)((int)this + 0x1a4) < 1) goto LAB_0044469f;
  if ((param_1[0x26] == 1) &&
     ((uVar4 = FUN_0044f7a0((int)this), uVar4 != 0 || (*(int *)((int)this + 0x1630) != 0)))) {
    if (*(int *)((int)this + 0x1630) != 0) {
      iVar8 = 0;
      iVar2 = FUN_00451e60(this,0x13);
      lVar14 = FUN_00417410(0x13,iVar2,iVar8);
      uVar4 = uVar4 + lVar14;
    }
    if (*param_1 == 2) {
      iVar2 = param_1[2];
      pvVar3 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
      puVar5 = (undefined4 *)FUN_004299e0(pvVar3,iVar2);
      if ((puVar5 != (undefined4 *)0x0) && (iVar2 = FUN_00427b20(puVar5), iVar2 == 2)) {
        piVar6 = (int *)FUN_00434cd0((int)puVar5);
        if (0 < piVar6[0x35]) {
          FUN_00417e70((int)&uStack_134);
          uStack_12c = *(undefined4 *)((int)this + 4);
          uStack_120 = *(undefined4 *)((int)this + 0x1b8);
          uStack_b8 = *(undefined4 *)((int)this + 0x34);
          uStack_134 = 0;
          uStack_130 = 0;
          iVar2 = _rand();
          uStack_9c = 0;
          uStack_a0 = 1;
          uStack_14 = 1;
          uStack_98 = 0;
          uStack_94 = 0;
          uStack_90 = 0;
          uStack_8c = 0;
          uStack_88 = 0;
          uStack_84 = 0;
          uStack_128 = 0;
          uStack_c = 0xffffffff;
          iStack_ac = iVar2 % 3 + 0x4e2f;
          iStack_124 = (int)(local_178 * uVar4) / 100;
          if (piVar6[0x37] == 100) {
            iStack_124 = iStack_124 / 2;
          }
          if (iStack_124 == 0) {
            iStack_124 = 1;
          }
          puVar5 = auStack_fc;
          for (iVar2 = 0x11; iVar2 != 0; iVar2 = iVar2 + -1) {
            *puVar5 = 0;
            puVar5 = puVar5 + 1;
          }
          puVar5 = auStack_11c;
          for (iVar2 = 8; iVar2 != 0; iVar2 = iVar2 + -1) {
            *puVar5 = 0;
            puVar5 = puVar5 + 1;
          }
          (**(code **)(*piVar6 + 0x14))(&uStack_134);
        }
        FUN_004456d0(this,0,0x3c,0);
        if (*(int *)((int)this + 0x1630) == 0) {
          uVar36 = 0;
          uVar34 = 200;
          uVar33 = 0;
          uVar32 = 0;
          uVar31 = 0;
          uVar30 = 0;
          uVar29 = 0;
          uVar28 = 0xffffffff;
          uVar16 = FUN_00413ec0(piVar6[6] - *(int *)((int)this + 0x2e0),
                                piVar6[7] - *(int *)((int)this + 0x2e4));
          puVar26 = (undefined4 *)0x0;
          puVar5 = (undefined4 *)((int)this + 0x2e8);
          uVar11 = *(undefined4 *)((int)this + 4);
          uVar27 = 0;
          puVar24 = (undefined4 *)0x0;
          uVar25 = 0;
          uVar23 = 0;
          uVar22 = 0;
          uVar21 = 0;
          uVar20 = 0;
          uVar19 = 0;
          uVar18 = 1;
          uVar17 = 0x4e2e;
          pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
          FUN_0042fdc0(pvVar3,uVar17,uVar18,uVar11,uVar19,uVar20,uVar21,uVar22,uVar23,uVar25,puVar24
                       ,puVar5,uVar27,puVar26,uVar16,uVar28,uVar29,uVar30,uVar31,uVar32,uVar33,
                       uVar34,uVar36);
        }
        else {
          if (0x13 < local_178) {
            FUN_0044f6f0(this,0x13,0);
          }
          uVar36 = 0;
          uVar34 = 200;
          uVar33 = 0;
          uVar32 = 0;
          uVar31 = 0;
          uVar30 = 0;
          uVar29 = 0;
          uVar28 = 0xffffffff;
          uVar27 = 8;
          puVar26 = (undefined4 *)0x0;
          puVar5 = (undefined4 *)((int)this + 0x2e8);
          uVar11 = *(undefined4 *)((int)this + 4);
          uVar25 = 0;
          puVar24 = (undefined4 *)0x0;
          uVar23 = 0;
          uVar22 = 0;
          uVar21 = 0;
          uVar20 = 0;
          uVar19 = 0;
          uVar18 = 0;
          uVar17 = 1;
          uVar16 = 0x5226;
          pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
          FUN_0042fdc0(pvVar3,uVar16,uVar17,uVar11,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,puVar24
                       ,puVar5,uVar25,puVar26,uVar27,uVar28,uVar29,uVar30,uVar31,uVar32,uVar33,
                       uVar34,uVar36);
          iVar8 = 2;
          iVar2 = FUN_00451e60(this,0x13);
          lVar14 = FUN_00417410(*(long *)((int)this + 0x127c),iVar2,iVar8);
          iVar2 = FUN_0044f610(this,lVar14);
          iVar2 = *(int *)((int)this + 0x1ac) - iVar2;
          *(int *)((int)this + 0x1ac) = iVar2;
          if (iVar2 < 1) {
            *(undefined4 *)((int)this + 0x1ac) = 0;
            *(undefined4 *)((int)this + 0x1630) = 0;
          }
        }
      }
    }
  }
  pRVar7 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x1a);
  uVar4 = local_158[param_1[0x20]];
  if ((uVar4 < 0x80000000) || ((int)uVar4 < -10)) {
    lVar14 = 0;
    iStack_174 = 0;
  }
  else {
    lVar14 = RKC_RPG_TABLEDATA::GetValue(pRVar7,uVar4 + 10,0);
    iStack_174 = RKC_RPG_TABLEDATA::GetValue(pRVar7,uVar4 + 10,1);
  }
  pRVar7 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x19);
  iVar2 = (local_178 * 0x32) / *(int *)((int)this + 0x1a0);
  if (0x31 < iVar2) {
    iVar2 = 0x31;
  }
  iVar8 = param_1[0x29];
  if (iVar8 == -1) {
    iVar8 = RKC_RPG_TABLEDATA::GetValue(pRVar7,iVar2,0);
  }
  if (param_1[1] == 3) {
    uVar4 = param_1[0x20];
    if ((int)local_158[uVar4] < 0) {
      uVar12 = uVar4 & 0x80000001;
      if ((int)uVar12 < 0) {
        uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
      }
      iVar8 = param_1[(((int)uVar4 / 2) * 2 - uVar12) + 0x37];
    }
    else if ((int)local_158[uVar4] < 1) {
      iVar8 = param_1[0x3e];
    }
    else {
      iVar8 = param_1[uVar4 + 0x36];
    }
  }
  iVar10 = param_1[0x2a];
  iVar9 = FUN_00450d90(this,0,0);
  iVar9 = (iVar8 + iVar10 + lVar14) - iVar9;
  if (iVar9 < 0) {
    iVar9 = 0;
  }
  iVar8 = *(int *)((int)this + 0x314);
  if ((0x15 < iVar8) && (iVar8 < 0x25)) {
    iVar9 = 9999;
  }
  if (((param_1[1] != 3) && (10 < iVar8)) && (iVar8 < 0xf)) {
    iVar9 = 0;
  }
  iVar8 = _rand();
  if (iVar9 <= iVar8 % 100) goto LAB_0044469f;
  iVar8 = param_1[0x2b];
  if (iVar8 == -1) {
    iVar8 = RKC_RPG_TABLEDATA::GetValue(pRVar7,iVar2,1);
  }
  if (param_1[1] == 3) {
    uVar4 = param_1[0x20];
    if ((int)local_158[uVar4] < 0) {
      uVar12 = uVar4 & 0x80000001;
      if ((int)uVar12 < 0) {
        uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
      }
      iVar8 = param_1[(((int)uVar4 / 2) * 2 + 0x40) - uVar12];
    }
    else if ((int)local_158[uVar4] < 1) {
      iVar8 = param_1[0x47];
    }
    else {
      iVar8 = param_1[uVar4 + 0x3f];
    }
  }
  iVar2 = param_1[0x2c];
  iVar10 = FUN_00450d90(this,0,1);
  iVar10 = (iVar8 + iVar2 + iStack_174) - iVar10;
  if (iVar10 < 1) {
    iVar10 = 1;
  }
  uVar4 = (uint)(param_1[0x28] != 0);
  if (param_1[1] == 3) {
    uVar12 = param_1[0x20];
    if ((int)local_158[uVar12] < 0) {
      uVar13 = uVar12 & 0x80000001;
      if ((int)uVar13 < 0) {
        uVar13 = (uVar13 - 1 | 0xfffffffe) + 1;
      }
      if (param_1[(((int)uVar12 / 2) * 2 + 0x2e) - uVar13] == 0) {
        uVar4 = 0;
        goto LAB_004445b6;
      }
      goto LAB_004445b2;
    }
    if ((int)local_158[uVar12] < 1) {
      if (param_1[0x35] != 0) goto LAB_004445b2;
      uVar4 = 0;
    }
    else {
      if (param_1[uVar12 + 0x2d] != 0) goto LAB_004445b2;
      uVar4 = 0;
    }
LAB_004445b6:
    if (0xf < iVar10) {
      iVar10 = 0xf;
    }
  }
  else {
LAB_004445b2:
    if (uVar4 == 0) goto LAB_004445b6;
  }
  if ((*(int *)((int)this + 0x314) != 4) || (*(int *)((int)this + 0x15f0) != 2)) {
    *(undefined4 *)((int)this + 0x314) = 4;
    *(undefined4 *)((int)this + 0x15f0) = 0;
    *(undefined4 *)((int)this + 0x308) = 0;
    *(undefined4 *)((int)this + 0x2dc) = 1;
    *(int *)((int)this + 0x324) = iVar10;
    if (iVar10 < 1) {
      *(undefined4 *)((int)this + 0x324) = 1;
    }
    *(int *)((int)this + 0x324) = *(int *)((int)this + 0x324) + param_1[0x4c];
    *(int *)((int)this + 0x161c) = param_1[0x4c];
    *(uint *)((int)this + 0x1578) = uVar4;
    iVar2 = FUN_00450d90(this,0,2);
    if (iVar2 == 1) {
      *(undefined4 *)((int)this + 0x1578) = 1;
    }
    auVar15 = FUN_00414080(*(int *)((int)this + 0x2e0) - *param_2,
                           *(int *)((int)this + 0x2e4) - param_2[1]);
    *(double *)((int)this + 0x1580) = (double)(float10)auVar15;
    if (*(int *)((int)this + 0x1578) == 0) {
      uVar11 = FUN_004140f0(SUB84((double)((float10)auVar15 - (float10)_DAT_004751d8),0),
                            (int)((ulonglong)(double)((float10)auVar15 - (float10)_DAT_004751d8) >>
                                 0x20));
      *(undefined4 *)((int)this + 0x31c) = uVar11;
    }
  }
LAB_0044469f:
  if (((param_1[3] == 1) && (*(int *)((int)this + 0x2dc) == 1)) &&
     (iVar2 = *(int *)((int)this + 0x324), iVar2 != 0)) {
    uVar33 = 0;
    uVar32 = 200;
    uVar31 = 0;
    uVar30 = 0;
    uVar29 = 0;
    uVar28 = 0;
    uVar27 = 0;
    uVar25 = 0xffffffff;
    uVar23 = 8;
    puVar26 = (undefined4 *)0x0;
    puVar5 = (undefined4 *)((int)this + 0x2e8);
    uVar11 = *(undefined4 *)((int)this + 4);
    puVar24 = (undefined4 *)0x0;
    uVar22 = 0;
    uVar21 = 0;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 1;
    *(undefined4 *)((int)this + 0x15f0) = 1;
    uVar4 = _rand();
    uVar4 = uVar4 & 0x80000003;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffffc) + 1;
    }
    iVar8 = uVar4 + 0x5217;
    pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
    FUN_0042fdc0(pvVar3,iVar8,uVar16,uVar11,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,puVar24,puVar5
                 ,iVar2,puVar26,uVar23,uVar25,uVar27,uVar28,uVar29,uVar30,uVar31,uVar32,uVar33);
    FUN_004456d0(this,0,0x77,0);
  }
  if (((param_1[3] == 2) && (*(int *)((int)this + 0x2dc) == 1)) &&
     (*(int *)((int)this + 0x324) != 0)) {
    *(undefined4 *)((int)this + 0x15f0) = 2;
  }
  iVar2 = param_1[0x22];
  if (iVar2 != -1) {
    iVar8 = param_1[0x23];
    uVar35 = 200;
    uVar31 = 0;
    uVar30 = 0;
    uVar29 = 0;
    uVar28 = 0;
    uVar27 = 0;
    uVar25 = 0xffffffff;
    puVar26 = (undefined4 *)0x0;
    puVar5 = (undefined4 *)((int)this + 0x2e8);
    uVar11 = *(undefined4 *)((int)this + 4);
    uVar23 = 0;
    puVar24 = (undefined4 *)0x0;
    uVar22 = 0;
    uVar21 = 0;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 1;
    pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
    FUN_0042fdc0(pvVar3,iVar2,uVar16,uVar11,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,puVar24,puVar5
                 ,uVar23,puVar26,iVar8,uVar25,uVar27,uVar28,uVar29,uVar30,uVar31,(int)uVar35,
                 (int)((ulonglong)uVar35 >> 0x20));
  }
  iVar2 = param_1[0x4a];
  if (iVar2 != -1) {
    iVar8 = param_1[0x4b];
    uVar35 = 200;
    uVar31 = 0;
    uVar30 = 0;
    uVar29 = 0;
    uVar28 = 0;
    uVar27 = 0;
    uVar25 = 0xffffffff;
    puVar26 = (undefined4 *)0x0;
    puVar5 = (undefined4 *)((int)this + 0x2e8);
    uVar11 = *(undefined4 *)((int)this + 4);
    uVar23 = 0;
    puVar24 = (undefined4 *)0x0;
    uVar22 = 0;
    uVar21 = 0;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 1;
    pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
    FUN_0042fdc0(pvVar3,iVar2,uVar16,uVar11,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22,puVar24,puVar5
                 ,uVar23,puVar26,iVar8,uVar25,uVar27,uVar28,uVar29,uVar30,uVar31,(int)uVar35,
                 (int)((ulonglong)uVar35 >> 0x20));
  }
  if ((param_1[0x48] != 0) && (iVar2 = _rand(), iVar2 % 100 < 0x14)) {
    uVar22 = 0;
    uVar21 = 200;
    uVar20 = 0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 0;
    uVar11 = 0xffffffff;
    uVar4 = _rand();
    uVar4 = uVar4 & 0x80000007;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffff8) + 1;
    }
    puVar26 = (undefined4 *)0x0;
    puVar5 = (undefined4 *)((int)this + 0x2e8);
    uVar23 = *(undefined4 *)((int)this + 0xc);
    uVar33 = 0;
    puVar24 = (undefined4 *)0x0;
    uVar32 = 0;
    uVar31 = 0;
    uVar30 = 0;
    uVar29 = 0;
    uVar28 = 0;
    uVar27 = 0;
    uVar25 = 1;
    uVar12 = _rand();
    uVar12 = uVar12 & 0x80000001;
    if ((int)uVar12 < 0) {
      uVar12 = (uVar12 - 1 | 0xfffffffe) + 1;
    }
    iVar2 = uVar12 + 0x5213;
    pvVar3 = (void *)FUN_00466420(*(int *)((int)this + 0x458));
    FUN_0042fdc0(pvVar3,iVar2,uVar25,uVar23,uVar27,uVar28,uVar29,uVar30,uVar31,uVar32,puVar24,puVar5
                 ,uVar33,puVar26,uVar4,uVar11,uVar16,uVar17,uVar18,uVar19,uVar20,uVar21,uVar22);
  }
  if (*(int *)((int)this + 0x1588) == 0) {
    *(undefined4 *)((int)this + 0x1588) = 4;
  }
  return;
}



/*
 * Function: FUN_004448b0
 * Address: 004448b0
 */

void __fastcall FUN_004448b0(int param_1)

{
  short sVar1;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar2;
  RKC_RPGSCRN_RECT *pRVar3;
  int *piVar4;
  short *psVar5;
  short *psVar6;
  short *psVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  RKC_RPGSCRN_RECT *pRVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  if (*(int *)(param_1 + 0x1554) != 0) {
    lVar14 = 1000;
    local_10 = *(int *)(param_1 + 0x2f0) + 1;
    lVar13 = 1000;
    lVar12 = 1000;
    lVar8 = *(long *)(param_1 + 0xc);
    pRVar11 = (RKC_RPGSCRN_RECT *)0x0;
    lVar10 = 1000;
    lVar9 = 0;
    local_c = *(int *)(param_1 + 0x2f4) + 1;
    psVar7 = (short *)0x0;
    psVar6 = (short *)0x0;
    psVar5 = (short *)0x0;
    pRVar3 = (RKC_RPGSCRN_RECT *)&local_10;
    piVar4 = (int *)0x0;
    local_8 = local_10;
    local_4 = local_c;
    pRVar2 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,*(long *)(param_1 + 0x358),0,8,*(long *)(param_1 + 0x1558),
               *(long *)(param_1 + 0x2e0),*(long *)(param_1 + 0x2e4),sVar1,pRVar2,pRVar3,piVar4,
               psVar5,psVar6,psVar7,lVar8,lVar9,lVar10,pRVar11,lVar12,lVar13,lVar14);
    *(int *)(param_1 + 0x1558) = *(int *)(param_1 + 0x1558) + 1;
  }
  return;
}



/*
 * Function: FUN_00444960
 * Address: 00444960
 */

void __fastcall FUN_00444960(int param_1)

{
  short sVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  RKC_RPGSCRN_RECT *pRVar4;
  int *piVar5;
  short *psVar6;
  short *psVar7;
  short *psVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  RKC_RPGSCRN_RECT *pRVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  if (*(int *)(param_1 + 0x15dc) != 0) {
    local_10 = *(int *)(param_1 + 0x2f0) + 1;
    local_c = *(int *)(param_1 + 0x2f4) + 1;
    local_8 = local_10;
    local_4 = local_c;
    iVar2 = FUN_00456210(DAT_0048ce04);
    if (iVar2 == *(int *)(param_1 + 0x458)) {
      lVar9 = *(long *)(param_1 + 0xc);
      lVar15 = 200;
      lVar14 = 200;
      lVar13 = 1000;
      pRVar12 = (RKC_RPGSCRN_RECT *)0x0;
      lVar11 = 1000;
      lVar10 = 0;
      psVar8 = (short *)0x0;
      psVar7 = (short *)0x0;
      psVar6 = (short *)0x0;
      pRVar4 = (RKC_RPGSCRN_RECT *)&local_10;
      piVar5 = (int *)0x0;
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,*(long *)(param_1 + 0x358),0,8,*(long *)(param_1 + 0x15f4),
                 *(long *)(param_1 + 0x2e0),*(long *)(param_1 + 0x2e4),sVar1,pRVar3,pRVar4,piVar5,
                 psVar6,psVar7,psVar8,lVar9,lVar10,lVar11,pRVar12,lVar13,lVar14,lVar15);
    }
    *(int *)(param_1 + 0x15f4) = *(int *)(param_1 + 0x15f4) + 1;
  }
  return;
}



/*
 * Function: FUN_00444a20
 * Address: 00444a20
 */

void __fastcall FUN_00444a20(int param_1)

{
  short sVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  RKC_RPGSCRN_RECT *pRVar10;
  int *piVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  if (*(int *)(param_1 + 0x1628) != 0) {
    local_10 = *(int *)(param_1 + 0x2e8) + -1;
    local_c = *(int *)(param_1 + 0x2ec) + -1;
    local_8 = local_10;
    local_4 = local_c;
    iVar2 = FUN_00456210(DAT_0048ce04);
    if (iVar2 == *(int *)(param_1 + 0x458)) {
      iVar2 = FUN_00455ee0(DAT_0048ce08,5,0xa7d9b0);
      lVar21 = 1000;
      lVar20 = 1000;
      lVar19 = 1000;
      lVar15 = *(long *)(param_1 + 0xc);
      pRVar18 = (RKC_RPGSCRN_RECT *)0x0;
      lVar17 = 1000;
      lVar16 = 0;
      psVar14 = (short *)0x0;
      psVar13 = (short *)0x0;
      psVar12 = (short *)0x0;
      pRVar10 = (RKC_RPGSCRN_RECT *)&local_10;
      piVar11 = (int *)0x0;
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      lVar9 = *(long *)(param_1 + 0x2e4);
      lVar7 = *(long *)(param_1 + 0x162c);
      lVar8 = *(long *)(param_1 + 0x2e0);
      lVar6 = 8;
      lVar5 = 0;
      lVar4 = FUN_004663a0(iVar2);
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,lVar4,lVar5,lVar6,lVar7,lVar8,lVar9,sVar1,pRVar3,pRVar10,piVar11,
                 psVar12,psVar13,psVar14,lVar15,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
    }
    *(int *)(param_1 + 0x162c) = *(int *)(param_1 + 0x162c) + 1;
  }
  return;
}



/*
 * Function: FUN_00444b00
 * Address: 00444b00
 */

void __fastcall FUN_00444b00(int param_1)

{
  short sVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  RKC_RPGSCRN_RECT *pRVar10;
  int *piVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  if (*(int *)(param_1 + 0x1630) != 0) {
    local_10 = *(int *)(param_1 + 0x2e8) + -1;
    local_c = *(int *)(param_1 + 0x2ec) + -1;
    local_8 = local_10;
    local_4 = local_c;
    iVar2 = FUN_00456210(DAT_0048ce04);
    if (iVar2 == *(int *)(param_1 + 0x458)) {
      iVar2 = FUN_00455ee0(DAT_0048ce08,5,0xa7d9ba);
      lVar21 = 1000;
      lVar20 = 1000;
      lVar19 = 1000;
      lVar15 = *(long *)(param_1 + 0xc);
      pRVar18 = (RKC_RPGSCRN_RECT *)0x0;
      lVar17 = 1000;
      lVar16 = 0;
      psVar14 = (short *)0x0;
      psVar13 = (short *)0x0;
      psVar12 = (short *)0x0;
      pRVar10 = (RKC_RPGSCRN_RECT *)&local_10;
      piVar11 = (int *)0x0;
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      lVar9 = *(long *)(param_1 + 0x2e4);
      lVar7 = *(long *)(param_1 + 0x1634);
      lVar8 = *(long *)(param_1 + 0x2e0);
      lVar6 = 8;
      lVar5 = 0;
      lVar4 = FUN_004663a0(iVar2);
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,lVar4,lVar5,lVar6,lVar7,lVar8,lVar9,sVar1,pRVar3,pRVar10,piVar11,
                 psVar12,psVar13,psVar14,lVar15,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
    }
    *(int *)(param_1 + 0x1634) = *(int *)(param_1 + 0x1634) + 1;
  }
  return;
}



/*
 * Function: FUN_00444be0
 * Address: 00444be0
 */

void __fastcall FUN_00444be0(int param_1)

{
  short sVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  RKC_RPGSCRN_RECT *pRVar4;
  int *piVar5;
  short *psVar6;
  short *psVar7;
  short *psVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  RKC_RPGSCRN_RECT *pRVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  if (*(int *)(param_1 + 0x15ec) != 0) {
    local_10 = *(int *)(param_1 + 0x2f0) + 1;
    local_c = *(int *)(param_1 + 0x2f4) + 1;
    local_8 = local_10;
    local_4 = local_c;
    iVar2 = FUN_00456210(DAT_0048ce04);
    if (iVar2 == *(int *)(param_1 + 0x458)) {
      lVar9 = *(long *)(param_1 + 0xc);
      lVar15 = 300;
      lVar14 = 1000;
      lVar13 = 1000;
      pRVar12 = (RKC_RPGSCRN_RECT *)0x0;
      lVar11 = 1000;
      lVar10 = 0;
      psVar8 = (short *)0x0;
      psVar7 = (short *)0x0;
      psVar6 = (short *)0x0;
      pRVar4 = (RKC_RPGSCRN_RECT *)&local_10;
      piVar5 = (int *)0x0;
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x374));
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,*(long *)(param_1 + 0x358),0,8,*(long *)(param_1 + 0x15f8),
                 *(long *)(param_1 + 0x2e0),*(long *)(param_1 + 0x2e4),sVar1,pRVar3,pRVar4,piVar5,
                 psVar6,psVar7,psVar8,lVar9,lVar10,lVar11,pRVar12,lVar13,lVar14,lVar15);
    }
    *(int *)(param_1 + 0x15f8) = *(int *)(param_1 + 0x15f8) + 1;
  }
  return;
}



/*
 * Function: FUN_00444ca0
 * Address: 00444ca0
 */

void __fastcall FUN_00444ca0(int param_1)

{
  RKC_RPGSCRN_CHARANIMBLOCK *this;
  RKC_RPGSCRN_CHARANIM *this_00;
  long lVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  undefined2 *puVar5;
  int iVar6;
  
  lVar1 = *(long *)(param_1 + 0x340);
  this = RKC_RPGSCRN::GetCharAnimBlock(DAT_00482d14);
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(this,lVar1);
  if ((this_00 != (RKC_RPGSCRN_CHARANIM *)0x0) &&
     (lVar1 = RKC_RPGSCRN_CHARANIM::GetMaxPartsCount(this_00), lVar1 != 0)) {
    iVar6 = 0;
    if (0 < lVar1) {
      do {
        iVar6 = iVar6 + 1;
        *(undefined4 *)(*(int *)(param_1 + 0x32c) + -4 + iVar6 * 4) = 0;
        *(undefined2 *)(*(int *)(param_1 + 0x330) + -2 + iVar6 * 2) = 1000;
        *(undefined2 *)(*(int *)(param_1 + 0x334) + -2 + iVar6 * 2) = 1000;
        *(undefined2 *)(*(int *)(param_1 + 0x338) + -2 + iVar6 * 2) = 1000;
      } while (iVar6 < lVar1);
    }
    **(undefined4 **)(param_1 + 0x32c) = 1;
    *(undefined4 *)(*(int *)(param_1 + 0x32c) + 4) = 1;
    iVar6 = *(int *)(param_1 + 0x4f4);
    if (iVar6 != 0) {
      iVar2 = FUN_00467730(iVar6);
      if (-1 < iVar2) {
        *(undefined4 *)(*(int *)(param_1 + 0x32c) + iVar2 * 4) = 1;
        iVar3 = FUN_00467800(iVar6);
        if (iVar3 < 0) {
          uVar4 = FUN_00466420(iVar6);
          *(short *)(*(int *)(param_1 + 0x330) + iVar2 * 2) = (short)uVar4;
          uVar4 = FUN_00466430(iVar6);
          *(short *)(*(int *)(param_1 + 0x334) + iVar2 * 2) = (short)uVar4;
          uVar4 = FUN_00427ab0(iVar6);
          *(short *)(*(int *)(param_1 + 0x338) + iVar2 * 2) = (short)uVar4;
        }
        else {
          iVar3 = FUN_00467800(iVar6);
          *(undefined2 *)(*(int *)(param_1 + 0x330) + iVar2 * 2) =
               *(undefined2 *)
                (&DAT_00475bf0 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
          iVar3 = FUN_00467800(iVar6);
          *(undefined2 *)(*(int *)(param_1 + 0x334) + iVar2 * 2) =
               *(undefined2 *)
                (&DAT_00475bf4 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
          iVar3 = FUN_00467800(iVar6);
          *(undefined2 *)(*(int *)(param_1 + 0x338) + iVar2 * 2) =
               *(undefined2 *)
                (&DAT_00475bf8 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
        }
      }
      iVar2 = FUN_00466450(iVar6);
      if (-1 < iVar2) {
        *(undefined4 *)(*(int *)(param_1 + 0x32c) + iVar2 * 4) = 1;
        uVar4 = FUN_00427b30(iVar6);
        *(short *)(*(int *)(param_1 + 0x330) + iVar2 * 2) = (short)uVar4;
        uVar4 = FUN_00466460(iVar6);
        *(short *)(*(int *)(param_1 + 0x334) + iVar2 * 2) = (short)uVar4;
        uVar4 = FUN_00466470(iVar6);
        *(short *)(*(int *)(param_1 + 0x338) + iVar2 * 2) = (short)uVar4;
      }
    }
    if ((*(int *)(param_1 + 0x314) == 8) || (*(int *)(param_1 + 0x314) == 0xb)) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if (*(int *)(param_1 + 0x314) == 0xe) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if (*(int *)(param_1 + 0x314) == 0x11) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if ((*(int *)(param_1 + 0x314) == 9) || (*(int *)(param_1 + 0x314) == 0xc)) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if (*(int *)(param_1 + 0x314) == 0xf) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if (*(int *)(param_1 + 0x314) == 0x12) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if ((*(int *)(param_1 + 0x314) == 10) || (*(int *)(param_1 + 0x314) == 0xd)) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if (*(int *)(param_1 + 0x314) == 0x10) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + 8) = 1;
    }
    if (*(int *)(param_1 + 0x4f4) == 0) {
      *(undefined2 *)(*(int *)(param_1 + 0x330) + 4) = 1000;
      *(undefined2 *)(*(int *)(param_1 + 0x334) + 4) = 1000;
      *(undefined2 *)(*(int *)(param_1 + 0x338) + 4) = 1000;
    }
    else {
      puVar5 = (undefined2 *)FUN_004677b0(*(int *)(param_1 + 0x4f4));
      *(undefined2 *)(*(int *)(param_1 + 0x330) + 4) = *puVar5;
      iVar6 = FUN_004677b0(*(int *)(param_1 + 0x4f4));
      *(undefined2 *)(*(int *)(param_1 + 0x334) + 4) = *(undefined2 *)(iVar6 + 4);
      iVar6 = FUN_004677b0(*(int *)(param_1 + 0x4f4));
      *(undefined2 *)(*(int *)(param_1 + 0x338) + 4) = *(undefined2 *)(iVar6 + 8);
    }
    iVar6 = *(int *)(param_1 + 0x4ec);
    if ((iVar6 != 0) && (iVar2 = FUN_00467730(iVar6), -1 < iVar2)) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + iVar2 * 4) = 1;
      iVar3 = FUN_00466940(iVar6);
      if (iVar3 < 0) {
        uVar4 = FUN_00466420(iVar6);
        *(short *)(*(int *)(param_1 + 0x330) + iVar2 * 2) = (short)uVar4;
        uVar4 = FUN_00466430(iVar6);
        *(short *)(*(int *)(param_1 + 0x334) + iVar2 * 2) = (short)uVar4;
        uVar4 = FUN_00427ab0(iVar6);
        *(short *)(*(int *)(param_1 + 0x338) + iVar2 * 2) = (short)uVar4;
      }
      else {
        iVar3 = FUN_00466940(iVar6);
        *(undefined2 *)(*(int *)(param_1 + 0x330) + iVar2 * 2) =
             *(undefined2 *)
              (&DAT_00475bf0 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
        iVar3 = FUN_00466940(iVar6);
        *(undefined2 *)(*(int *)(param_1 + 0x334) + iVar2 * 2) =
             *(undefined2 *)
              (&DAT_00475bf4 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
        iVar6 = FUN_00466940(iVar6);
        *(undefined2 *)(*(int *)(param_1 + 0x338) + iVar2 * 2) =
             *(undefined2 *)
              (&DAT_00475bf8 + (iVar6 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
      }
    }
    if ((*(int *)(param_1 + 0x4f4) != 0) &&
       (iVar6 = FUN_004672f0(*(int *)(param_1 + 0x4f4)), iVar6 != 0)) {
      return;
    }
    iVar6 = *(int *)(param_1 + 0x4f8);
    if ((iVar6 != 0) && (iVar2 = FUN_00467730(iVar6), -1 < iVar2)) {
      *(undefined4 *)(*(int *)(param_1 + 0x32c) + iVar2 * 4) = 1;
      iVar3 = FUN_00466940(iVar6);
      if (iVar3 < 0) {
        uVar4 = FUN_00466420(iVar6);
        *(short *)(*(int *)(param_1 + 0x330) + iVar2 * 2) = (short)uVar4;
        uVar4 = FUN_00466430(iVar6);
        *(short *)(*(int *)(param_1 + 0x334) + iVar2 * 2) = (short)uVar4;
        uVar4 = FUN_00427ab0(iVar6);
        *(short *)(*(int *)(param_1 + 0x338) + iVar2 * 2) = (short)uVar4;
        return;
      }
      iVar3 = FUN_00466940(iVar6);
      *(undefined2 *)(*(int *)(param_1 + 0x330) + iVar2 * 2) =
           *(undefined2 *)
            (&DAT_00475bf0 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
      iVar3 = FUN_00466940(iVar6);
      *(undefined2 *)(*(int *)(param_1 + 0x334) + iVar2 * 2) =
           *(undefined2 *)
            (&DAT_00475bf4 + (iVar3 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
      iVar6 = FUN_00466940(iVar6);
      *(undefined2 *)(*(int *)(param_1 + 0x338) + iVar2 * 2) =
           *(undefined2 *)
            (&DAT_00475bf8 + (iVar6 + (iVar2 + *(int *)(param_1 + 0x28) * -0x12) * 0x10) * 0xc);
    }
  }
  return;
}



/*
 * Function: FUN_00445180
 * Address: 00445180
 */

void __thiscall FUN_00445180(void *this,int param_1)

{
  short *psVar1;
  int iVar2;
  int *piVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  FUN_00445430(this,(undefined4 *)(param_1 + 0x17c));
  puVar4 = (undefined4 *)(param_1 + 0x1c);
  puVar5 = (undefined4 *)((int)this + 0x10);
  for (iVar2 = 0x58; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)((int)this + 0x2e0) = *(undefined4 *)(param_1 + 0x10);
  *(undefined4 *)((int)this + 0x2e4) = *(undefined4 *)(param_1 + 0x14);
  *(undefined4 *)((int)this + 0x31c) = *(undefined4 *)(param_1 + 0x18);
  *(undefined4 *)((int)this + 0x460) = 0;
  *(undefined4 *)((int)this + 0x484) = 0;
  FUN_00450080(this);
  piVar3 = (int *)((int)this + 0x1498);
  psVar1 = (short *)(param_1 + 0x88c);
  iVar2 = 0x16;
  do {
    *piVar3 = (int)*psVar1;
    psVar1 = psVar1 + 1;
    piVar3 = piVar3 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  *(undefined4 *)((int)this + 0x15d8) = *(undefined4 *)(param_1 + 0xc);
  return;
}



/*
 * Function: FUN_00445210
 * Address: 00445210
 */

void __thiscall FUN_00445210(void *this,undefined4 *param_1)

{
  undefined2 uVar1;
  undefined4 uVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  *param_1 = *(undefined4 *)((int)this + 4);
  param_1[4] = *(undefined4 *)((int)this + 0x2e0);
  param_1[5] = *(undefined4 *)((int)this + 0x2e4);
  param_1[6] = *(undefined4 *)((int)this + 0x31c);
  if (*(int *)((int)this + 0x458) != 0) {
    uVar2 = FUN_00456230(*(int *)((int)this + 0x458));
    param_1[1] = uVar2;
  }
  FUN_004452c0(this,param_1 + 0x5f);
  puVar3 = (undefined2 *)((int)this + 0x1498);
  puVar5 = (undefined4 *)((int)this + 0x10);
  puVar6 = param_1 + 7;
  for (iVar4 = 0x58; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  puVar5 = param_1 + 0x223;
  iVar4 = 0x16;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 2;
    *(undefined2 *)puVar5 = uVar1;
    puVar5 = (undefined4 *)((int)puVar5 + 2);
    iVar4 = iVar4 + -1;
  } while (iVar4 != 0);
  param_1[3] = *(undefined4 *)((int)this + 0x15d8);
  return;
}



/*
 * Function: FUN_004452a0
 * Address: 004452a0
 */

undefined4 __fastcall FUN_004452a0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x458);
}



/*
 * Function: FUN_004452b0
 * Address: 004452b0
 */

void __thiscall FUN_004452b0(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x458) = param_1;
  return;
}



/*
 * Function: FUN_004452c0
 * Address: 004452c0
 */

void __thiscall FUN_004452c0(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int iVar3;
  int *piVar4;
  undefined4 *puVar5;
  
  *param_1 = *(undefined4 *)((int)this + 4);
  if ((*(byte *)((int)this + 0x2d0) & 1) != 0) {
    if (*(int *)((int)this + 0x4f4) == 0) {
      param_1[1] = 0xffffffff;
    }
    else {
      uVar1 = FUN_00466390(*(int *)((int)this + 0x4f4));
      param_1[1] = uVar1;
      FUN_004674d0(*(void **)((int)this + 0x4f4),param_1 + 2);
    }
    if (*(int *)((int)this + 0x4e8) == 0) {
      param_1[0x34] = 0xffffffff;
    }
    else {
      uVar1 = FUN_00466390(*(int *)((int)this + 0x4e8));
      param_1[0x34] = uVar1;
      FUN_00466720(*(void **)((int)this + 0x4e8),param_1 + 0x35);
    }
    if (*(int *)((int)this + 0x4ec) == 0) {
      param_1[0x67] = 0xffffffff;
    }
    else {
      uVar1 = FUN_00466390(*(int *)((int)this + 0x4ec));
      param_1[0x67] = uVar1;
      FUN_00466720(*(void **)((int)this + 0x4ec),param_1 + 0x68);
    }
    if (*(int *)((int)this + 0x4f8) == 0) {
      param_1[0x9a] = 0xffffffff;
    }
    else {
      uVar1 = FUN_00466390(*(int *)((int)this + 0x4f8));
      param_1[0x9a] = uVar1;
      FUN_00466720(*(void **)((int)this + 0x4f8),param_1 + 0x9b);
    }
    if (*(int *)((int)this + 0x4f0) == 0) {
      param_1[0xcd] = 0xffffffff;
    }
    else {
      uVar1 = FUN_00466390(*(int *)((int)this + 0x4f0));
      param_1[0xcd] = uVar1;
      FUN_00466720(*(void **)((int)this + 0x4f0),param_1 + 0xce);
    }
    puVar2 = param_1 + 0x100;
    piVar4 = (int *)((int)this + 0x4fc);
    puVar5 = param_1 + 0x104;
    iVar3 = 4;
    do {
      if (*piVar4 == 0) {
        *puVar2 = 0xffffffff;
      }
      else {
        uVar1 = FUN_00466390(*piVar4);
        *puVar2 = uVar1;
        FUN_004658a0((void *)*piVar4,puVar5);
      }
      piVar4 = piVar4 + 1;
      puVar2 = puVar2 + 1;
      puVar5 = puVar5 + 0x30;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    return;
  }
  puVar2 = (undefined4 *)((int)this + 0x590);
  for (iVar3 = 0x1c4; iVar3 != 0; iVar3 = iVar3 + -1) {
    *param_1 = *puVar2;
    puVar2 = puVar2 + 1;
    param_1 = param_1 + 1;
  }
  return;
}



/*
 * Function: FUN_00445430
 * Address: 00445430
 */

void __thiscall FUN_00445430(void *this,undefined4 *param_1)

{
  byte bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  int *piVar5;
  int *piVar6;
  
  bVar1 = *(byte *)((int)this + 0x2d0);
  puVar2 = param_1;
  puVar3 = (undefined4 *)((int)this + 0x590);
  for (iVar4 = 0x1c4; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  if ((bVar1 & 1) == 0) {
    if (*(int *)((int)this + 0x4f4) != 0) {
      FUN_00465640((int *)((int)this + 0x4f4));
    }
    if (*(int *)((int)this + 0x4e8) != 0) {
      FUN_00465640((int *)((int)this + 0x4e8));
    }
    if (*(int *)((int)this + 0x4ec) != 0) {
      FUN_00465640((int *)((int)this + 0x4ec));
    }
    if (*(int *)((int)this + 0x4f0) != 0) {
      FUN_00465640((int *)((int)this + 0x4f0));
    }
    if (*(int *)((int)this + 0x4f8) != 0) {
      FUN_00465640((int *)((int)this + 0x4f8));
    }
    piVar6 = (int *)((int)this + 0x4fc);
    iVar4 = 4;
    piVar5 = piVar6;
    do {
      if (*piVar5 != 0) {
        FUN_00465640(piVar5);
      }
      piVar5 = piVar5 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    if (param_1[1] != -1) {
      puVar2 = FUN_00462d30(DAT_0048ce14,0,param_1[1],param_1 + 2);
      *(int *)((int)this + 0x4f4) = (int)puVar2;
    }
    if (param_1[0x34] != -1) {
      puVar2 = FUN_00462d30(DAT_0048ce14,1,param_1[0x34],param_1 + 0x35);
      *(int *)((int)this + 0x4e8) = (int)puVar2;
    }
    if (param_1[0x67] != -1) {
      puVar2 = FUN_00462d30(DAT_0048ce14,1,param_1[0x67],param_1 + 0x68);
      *(int *)((int)this + 0x4ec) = (int)puVar2;
    }
    if (param_1[0x9a] != -1) {
      puVar2 = FUN_00462d30(DAT_0048ce14,1,param_1[0x9a],param_1 + 0x9b);
      *(int *)((int)this + 0x4f8) = (int)puVar2;
    }
    if (param_1[0xcd] != -1) {
      puVar2 = FUN_00462d30(DAT_0048ce14,1,param_1[0xcd],param_1 + 0xce);
      *(int *)((int)this + 0x4f0) = (int)puVar2;
    }
    piVar5 = param_1 + 0x100;
    puVar2 = param_1 + 0x104;
    iVar4 = 4;
    do {
      if (*piVar5 != -1) {
        puVar3 = FUN_00462d30(DAT_0048ce14,2,*piVar5,puVar2);
        *piVar6 = (int)puVar3;
      }
      piVar5 = piVar5 + 1;
      piVar6 = piVar6 + 1;
      puVar2 = puVar2 + 0x30;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    FUN_00450080(this);
  }
  return;
}



/*
 * Function: FUN_00445630
 * Address: 00445630
 */

int __fastcall FUN_00445630(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  
  iVar3 = 0;
  if (*(int *)(param_1 + 0x4e8) != 0) {
    iVar3 = FUN_00427b10(*(int *)(param_1 + 0x4e8));
  }
  if (*(int *)(param_1 + 0x4ec) != 0) {
    iVar1 = FUN_00427b10(*(int *)(param_1 + 0x4ec));
    iVar3 = iVar3 + iVar1;
  }
  if (*(int *)(param_1 + 0x4f0) != 0) {
    iVar1 = FUN_00427b10(*(int *)(param_1 + 0x4f0));
    iVar3 = iVar3 + iVar1;
  }
  if (*(int *)(param_1 + 0x4f4) != 0) {
    iVar1 = FUN_00427b10(*(int *)(param_1 + 0x4f4));
    iVar3 = iVar3 + iVar1;
  }
  if (*(int *)(param_1 + 0x4f8) != 0) {
    if (*(int *)(param_1 + 0x4f4) != 0) {
      iVar1 = FUN_004672f0(*(int *)(param_1 + 0x4f4));
      if (iVar1 != 0) goto LAB_004456a5;
    }
    iVar1 = FUN_00427b10(*(int *)(param_1 + 0x4f8));
    iVar3 = iVar3 + iVar1;
  }
LAB_004456a5:
  piVar4 = (int *)(param_1 + 0x4fc);
  iVar1 = 4;
  do {
    if (*piVar4 != 0) {
      iVar2 = FUN_00427b10(*piVar4);
      iVar3 = iVar3 + iVar2;
    }
    piVar4 = piVar4 + 1;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  return iVar3;
}



/*
 * Function: FUN_004456d0
 * Address: 004456d0
 */

undefined4 __thiscall FUN_004456d0(void *this,long param_1,long param_2,int param_3)

{
  int iVar1;
  
  iVar1 = FUN_00456230(*(int *)((int)this + 0x458));
  FUN_00417260(param_1,param_2,(int *)((int)this + 0x2e0),iVar1,param_3);
  return 1;
}



/*
 * Function: FUN_00445710
 * Address: 00445710
 */

void __fastcall FUN_00445710(int param_1)

{
  FUN_00453530(*(void **)(param_1 + 0x4e0),param_1);
  FUN_004534d0(*(int *)(param_1 + 0x4e0));
  FUN_00453810(*(void **)(param_1 + 0x4e4),param_1);
  FUN_004534d0(*(int *)(param_1 + 0x4e4));
  return;
}



/*
 * Function: FUN_00445750
 * Address: 00445750
 */

undefined4 FUN_00445750(int param_1,int param_2)

{
  undefined4 uVar1;
  
  if ((((0x19b < param_2) ||
       ((((0x24c < param_1 && (param_1 < 0x280)) && (0x191 < param_2)) && (param_2 < 0x19e)))) ||
      (((((uVar1 = 1, DAT_0048ce3c == 1 && (0x13f < param_1)) ||
         ((DAT_0048ce68 == 1 && (0x13f < param_1)))) || ((DAT_0048ce38 == 1 && (param_1 < 0x140))))
       || (((DAT_0048ce40 == 1 && (param_1 < 0x140)) ||
           ((((DAT_0048ce44 == 1 && (param_1 < 0x140)) || ((DAT_0048ce48 == 1 && (param_1 < 0x140)))
             ) || ((DAT_0048ce4c == 1 && (param_1 < 0x140)))))))))) ||
     ((((DAT_0048ce50 == 1 && (param_1 < 0x140)) ||
       (((DAT_0048ce54 == 1 || (((DAT_0048ce64 == 1 && (param_1 < 0x140)) || (DAT_0048ce6c == 1))))
        || (((DAT_0048ce58 == 1 || (DAT_0048ce5c == 1)) || (DAT_0048ce60 == 1)))))) ||
      ((DAT_0048ce9c == 2 &&
       ((((300 < param_1 && (param_1 < 0x154)) && ((0x18e < param_2 && (param_2 < 0x199)))) ||
        ((((0x139 < param_1 && (param_1 < 0x147)) && (0x188 < param_2)) && (param_2 < 399))))))))))
  {
    uVar1 = 0;
  }
  return uVar1;
}



/*
 * Function: FUN_004458c0
 * Address: 004458c0
 */

bool __fastcall FUN_004458c0(int *param_1)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_00451cb0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  if (DAT_0048ce5c == 1) {
    iVar2 = *(int *)param_1[0xff];
    if ((((0x24c < iVar2) && (iVar2 < 0x280)) && (iVar2 = ((int *)param_1[0xff])[1], 0x191 < iVar2))
       && (iVar2 < 0x19e)) {
      DAT_0048ce5c = 0;
      FUN_004456d0(param_1,0,0x39,1);
      return true;
    }
  }
  iVar2 = FUN_00445b50(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00447570(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00445bd0(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_004474b0(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00447790(param_1);
  if (iVar2 == 1) {
    return true;
  }
  bVar1 = FUN_00446320(param_1);
  if (CONCAT31(extraout_var,bVar1) == 1) {
    return true;
  }
  iVar2 = FUN_00448620(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00447970((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00447ca0(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00448490((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0045bb10();
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00448520((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_004480c0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_004050f0(&DAT_00482df4,-1,1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_00448550((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_004485d0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_004484f0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_004484c0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  return param_1[0x589] == 1;
}



/*
 * Function: FUN_00445a40
 * Address: 00445a40
 */

bool __fastcall FUN_00445a40(int *param_1)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  if (param_1[0x589] == 1) {
    param_1[0x589] = 0;
    return true;
  }
  iVar2 = FUN_00451cb0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044a5f0(param_1);
  if (iVar2 == 1) {
    return true;
  }
  bVar1 = FUN_0044a6f0(param_1);
  if (CONCAT31(extraout_var,bVar1) == 1) {
    return bVar1;
  }
  iVar2 = FUN_0044ae20(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044b400((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044a9b0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044a8c0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044a8f0(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044a9f0(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044ab60(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044acd0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044ad10((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044ad80((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044b020(param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044adb0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044ade0((int)param_1);
  if (iVar2 == 1) {
    return true;
  }
  iVar2 = FUN_0044ad40((int)param_1);
  return (bool)('\x01' - (iVar2 != 1));
}



/*
 * Function: FUN_00445b50
 * Address: 00445b50
 */

undefined4 __fastcall FUN_00445b50(void *param_1)

{
  int *piVar1;
  int iVar2;
  
  if (DAT_0048ce9c == 2) {
    piVar1 = *(int **)((int)param_1 + 0x3fc);
    iVar2 = *piVar1;
    if (((((300 < iVar2) && (iVar2 < 0x154)) && (0x18e < piVar1[1])) && (piVar1[1] < 0x199)) ||
       (((0x139 < iVar2 && (iVar2 < 0x147)) && ((0x188 < piVar1[1] && (piVar1[1] < 399)))))) {
      DAT_0048ce9c = 3;
      FUN_004456d0(param_1,0,0x39,1);
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_00445bd0
 * Address: 00445bd0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00445bd0(void *param_1)

{
  int iVar1;
  void *pvVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  undefined4 *puVar15;
  undefined4 uVar16;
  undefined4 *puVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  int *piVar24;
  undefined4 uVar25;
  int iVar26;
  undefined4 uVar27;
  int iVar28;
  undefined4 uVar29;
  undefined4 local_3c;
  int local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  
  piVar24 = *(int **)((int)param_1 + 0x3fc);
  local_3c = 0;
  iVar1 = *piVar24;
  if ((((-1 < iVar1) && (0x188 < piVar24[1])) && (iVar1 < 0x70)) && (piVar24[1] < 0x199)) {
    iVar1 = *(int *)((int)param_1 + 4) + 16000000;
    pvVar2 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x458));
    iVar1 = FUN_004299e0(pvVar2,iVar1);
    if (iVar1 != 0) {
      iVar1 = FUN_00434cd0(iVar1);
      iVar3 = 1 - *(int *)((int)param_1 + 0x15a0);
      *(int *)((int)param_1 + 0x15a0) = iVar3;
      if ((iVar3 == 1) && (*(undefined4 *)(iVar1 + 0x184) = 0, *(int *)(iVar1 + 0x168) == 0)) {
        *(undefined4 *)(iVar1 + 0x188) = 2;
      }
      local_38 = FUN_00456230(*(int *)((int)param_1 + 0x458));
      local_30 = *(undefined4 *)((int)param_1 + 4);
      local_2c = 0x2e;
      local_28 = *(undefined4 *)(iVar1 + 0x184);
      local_24 = 0xffffffff;
      local_20 = 0;
      local_1c = 0xbff00000;
      local_14 = *(undefined4 *)(iVar1 + 0x18);
      local_10 = *(undefined4 *)(iVar1 + 0x1c);
      local_18 = 0xffffffff;
      local_34 = *(undefined4 *)((int)param_1 + 0x15d8);
      FUN_00452bc0(param_1,&local_38,1);
    }
    return 1;
  }
  if (((iVar1 < 0x24d) || (0x27f < iVar1)) || ((piVar24[1] < 0x192 || (0x19d < piVar24[1])))) {
    iVar3 = piVar24[1];
    if (0x19b < iVar3) {
      iVar4 = 1;
      local_3c = 1;
      if ((((iVar1 < 0x165) || (0x1e4 < iVar1)) || (iVar3 < 0x19d)) || (0x1bc < iVar3)) {
        if (((iVar1 < 0x195) || (0x214 < iVar1)) || ((iVar3 < 0x1bd || (0x1dc < iVar3)))) {
          if ((((0x167 < iVar1) && (iVar1 < 0x187)) && (0x1bf < iVar3)) && (iVar3 < 0x1ca)) {
            DAT_0048ce80 = 1;
            FUN_004456d0(param_1,0,0x3a,1);
            return 1;
          }
          if ((((0x16f < iVar1) && (iVar1 < 399)) && (0x1cf < iVar3)) && (iVar3 < 0x1da)) {
            DAT_0048ce80 = 0;
            FUN_004456d0(param_1,0,0x3a,1);
            return 1;
          }
          if (((0x18 < iVar1) && (iVar1 < 0x3b)) &&
             ((0x197 < iVar3 &&
              ((iVar3 < 0x1af && (iVar1 = FUN_00451a00((int)param_1), iVar1 == 1)))))) {
            FUN_004456d0(param_1,0,0x3a,1);
            if (*(int *)((int)param_1 + 0x15dc) != 0) {
              *(undefined4 *)((int)param_1 + 0x15dc) = 0;
            }
            *(undefined4 *)((int)param_1 + 0x1550) = 0;
            *(undefined4 *)((int)param_1 + 0x1554) = 900;
            _DAT_0048d724 = 5;
            local_38 = FUN_00456230(*(int *)((int)param_1 + 0x458));
            local_30 = *(undefined4 *)((int)param_1 + 4);
            local_34 = *(undefined4 *)((int)param_1 + 0x15d8);
            local_2c = 0x30;
            FUN_00452bc0(param_1,&local_38,1);
            return 1;
          }
          piVar24 = *(int **)((int)param_1 + 0x3fc);
          iVar1 = *piVar24;
          if ((((0x1ef < iVar1) && (iVar1 < 0x200)) && (0x1a7 < piVar24[1])) && (piVar24[1] < 0x1b8)
             ) {
            if (*(int *)((int)param_1 + 0x328) == 0) {
              return 1;
            }
            if (DAT_0048d5d8 != 0) {
              return 1;
            }
            uVar29 = 0;
            uVar27 = 200;
            DAT_0048d5d8 = 10;
            uVar21 = *(undefined4 *)((int)param_1 + 0x34);
            uVar19 = *(undefined4 *)((int)param_1 + 0x154c);
            uVar25 = 0;
            uVar23 = 0;
            uVar22 = 0;
            uVar20 = 0;
            uVar18 = 0;
            puVar17 = (undefined4 *)0x0;
            uVar16 = 0;
            puVar15 = (undefined4 *)0x0;
            uVar13 = 0;
            uVar12 = 0;
            uVar11 = 0;
            *(int *)((int)param_1 + 0x328) = *(int *)((int)param_1 + 0x328) + -1;
            uVar7 = *(undefined4 *)((int)param_1 + 4);
            uVar10 = 0;
            uVar9 = 0xffffffff;
            uVar8 = 0x14;
            uVar6 = 1;
            uVar5 = 1000;
            puVar14 = (undefined4 *)((int)param_1 + 0x2e0);
            pvVar2 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x458));
            FUN_0042fdc0(pvVar2,uVar5,uVar6,uVar7,uVar8,uVar9,uVar10,uVar11,uVar12,uVar13,puVar14,
                         puVar15,uVar16,puVar17,uVar18,uVar19,uVar20,uVar21,uVar22,uVar23,uVar25,
                         uVar27,uVar29);
            local_38 = FUN_00456230(*(int *)((int)param_1 + 0x458));
            local_30 = *(undefined4 *)((int)param_1 + 4);
            local_10 = *(undefined4 *)((int)param_1 + 0x2e4);
            local_14 = *(undefined4 *)((int)param_1 + 0x2e0);
            local_18 = *(undefined4 *)((int)param_1 + 0x154c);
            local_2c = 0x2c;
            local_24 = 0xffffffff;
            local_20 = 0;
            local_1c = 0xbff00000;
            FUN_00452bc0(param_1,&local_38,1);
            *(int *)((int)param_1 + 0x154c) = *(int *)((int)param_1 + 0x154c) + 1;
            FUN_004456d0(param_1,0,0x3a,1);
            return 1;
          }
          if (((0x218 < iVar1) && (iVar1 < 0x242)) && ((0x1a3 < piVar24[1] && (piVar24[1] < 0x1b6)))
             ) {
            if (DAT_0048ce5c != 0) {
              return 1;
            }
            if (DAT_0048ce44 != 0) {
              return 1;
            }
            if (DAT_0048ce6c != 0) {
              return 1;
            }
            if (DAT_0048ce38 != 0) {
              DAT_0048ce38 = 0;
              FUN_004456d0(param_1,0,0x39,1);
              return 1;
            }
            DAT_0048ce38 = 1;
            _DAT_0048ce74 = 1;
            DAT_0048ce40 = 0;
            DAT_0048ce48 = 0;
            DAT_0048ce4c = 0;
            DAT_0048ce50 = 0;
            DAT_0048ce54 = 0;
            DAT_0048ce64 = 0;
            FUN_004456d0(param_1,0,0x3a,1);
            return 1;
          }
          if (iVar1 < 0x247) {
            return 1;
          }
          if (0x27c < iVar1) {
            return 1;
          }
          if (piVar24[1] < 0x1ad) {
            return 1;
          }
          if (0x1c0 < piVar24[1]) {
            return 1;
          }
          if (DAT_0048ce5c != 0) {
            return 1;
          }
          if (DAT_0048ce44 != 0) {
            return 1;
          }
          if (DAT_0048ce6c != 0) {
            return 1;
          }
          if (*(int *)(*(int *)((int)param_1 + 0x3f8) + 0x10) != 1) {
            return 1;
          }
          if (DAT_0048ce3c != 0) {
            DAT_0048ce3c = 0;
            FUN_004456d0(param_1,0,0x39,1);
            return 1;
          }
          DAT_0048ce3c = 1;
          _DAT_0048ce78 = 1;
          _DAT_0048ce30 = 0;
          DAT_0048ce50 = 0;
          DAT_0048ce54 = 0;
          DAT_0048ce64 = 0;
          DAT_0048ce68 = 0;
          FUN_004456d0(param_1,0,0x3a,1);
          return 1;
        }
        iVar1 = iVar1 + -0x195 + (iVar1 + -0x195 >> 0x1f & 0x1fU);
      }
      else {
        iVar1 = iVar1 + -0x165 + (iVar1 + -0x165 >> 0x1f & 0x1fU);
        iVar4 = 0;
      }
      iVar1 = iVar1 >> 5;
      if (iVar1 != -1) {
        if (DAT_0048ce34 == (void *)0x0) {
          pvVar2 = (void *)FUN_00466b00((void *)((int)param_1 + 0x518),iVar1,iVar4,-1,-1);
          if (pvVar2 != (void *)0x0) {
            FUN_00466be0((void *)((int)param_1 + 0x518),(int)pvVar2);
            iVar4 = 1;
            iVar3 = -1;
            piVar24 = (int *)0x0;
            DAT_0048ce34 = pvVar2;
            iVar1 = FUN_00466110(pvVar2,0);
            FUN_00417260(0,iVar1,piVar24,iVar3,iVar4);
          }
        }
        else {
          iVar3 = FUN_00465e60(DAT_0048ce34,3,-1,-1);
          if (iVar3 == 1) {
            if (*(int *)((int)param_1 + 0x588) == 2) {
              iVar3 = FUN_004661c0(DAT_0048ce34,0);
              iVar3 = FUN_00466da0((void *)((int)param_1 + 0x514),iVar3);
              if (iVar3 != 1) {
                return 1;
              }
              *(undefined4 *)((int)param_1 + 0x58c) = 0;
              *(undefined4 *)((int)param_1 + 0x588) = 1;
            }
            iVar28 = 1;
            iVar26 = -1;
            piVar24 = (int *)0x0;
            iVar3 = FUN_00466110(DAT_0048ce34,0);
            FUN_00417260(0,iVar3,piVar24,iVar26,iVar28);
            pvVar2 = (void *)((int)param_1 + 0x518);
            iVar3 = FUN_00466b00(pvVar2,iVar1,iVar4,-1,-1);
            if (iVar3 == 0) {
              FUN_004663e0(DAT_0048ce34,iVar1,iVar4);
              FUN_00466bc0(pvVar2,(int)DAT_0048ce34);
              DAT_0048ce34 = (void *)0x0;
              return 1;
            }
            FUN_00466be0(pvVar2,iVar3);
            FUN_004663e0(DAT_0048ce34,iVar1,iVar4);
            FUN_00466bc0(pvVar2,(int)DAT_0048ce34);
            DAT_0048ce34 = (void *)iVar3;
            return 1;
          }
        }
      }
    }
  }
  else {
    local_3c = 1;
    if (((DAT_0048ce44 == 0) && (DAT_0048ce6c == 0)) && (DAT_0048ce5c == 0)) {
      FUN_004170f0();
      DAT_0048ce5c = 1;
      _DAT_0048d548 = 0;
      _DAT_0048ce70 = 1;
      FUN_004456d0(param_1,0,0x3a,1);
      return 1;
    }
  }
  return local_3c;
}



/*
 * Function: FUN_00446320
 * Address: 00446320
 */

bool __fastcall FUN_00446320(int *param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  void *pvVar6;
  int iVar7;
  int *piVar8;
  int *piVar9;
  int iVar10;
  int *piVar11;
  undefined4 uVar12;
  int iVar13;
  int local_18;
  int local_14;
  int local_10;
  int *local_c;
  int local_8;
  undefined4 local_4;
  
  if (DAT_0048ce3c != 1) {
    return false;
  }
  piVar9 = (int *)param_1[0xff];
  iVar2 = *piVar9;
  if (iVar2 < 0x140) {
    return false;
  }
  bVar1 = piVar9[1] < 0x19c;
  if (iVar2 < 0x140) {
    return bVar1;
  }
  if (param_1[0x589] != 0) {
    iVar2 = FUN_00447290(iVar2,piVar9[1],&local_14,&local_18);
    if (iVar2 != 9) {
      return bVar1;
    }
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      return bVar1;
    }
    pvVar6 = (void *)FUN_00466b00(param_1 + 0x145,local_14,local_18,-1,-1);
    if (pvVar6 == (void *)0x0) {
      return bVar1;
    }
    iVar2 = FUN_00427b40((int)pvVar6);
    if (iVar2 != 0) {
      return bVar1;
    }
    FUN_004663c0(pvVar6,1);
    FUN_0044f6f0(param_1,0x11,0);
    param_1[0x589] = 0;
    return bVar1;
  }
  if ((((param_1[0x162] == 0) && (0x176 < iVar2)) && (iVar2 < 0x1bb)) &&
     ((0x188 < piVar9[1] && (piVar9[1] < 0x193)))) {
    DAT_0048ce3c = 0;
    DAT_0048ce68 = 1;
    FUN_004456d0(param_1,0,0x3a,1);
    return true;
  }
  iVar2 = FUN_00406aa0(&DAT_00482df4,-1,1);
  if (iVar2 != 0) {
    return bVar1;
  }
  iVar2 = FUN_00447290(*(int *)param_1[0xff],((int *)param_1[0xff])[1],&local_14,&local_18);
  switch(iVar2) {
  case 0:
    if (DAT_0048ce34 == (undefined4 *)0x0) {
      if ((void *)param_1[0x13a] == (void *)0x0) {
        return bVar1;
      }
      iVar13 = 1;
      iVar10 = -1;
      DAT_0048ce34 = (undefined4 *)param_1[0x13a];
      param_1[0x13a] = 0;
      piVar9 = (int *)0x0;
      iVar2 = FUN_00466110(DAT_0048ce34,0);
      FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
      FUN_00452910(param_1);
      FUN_00450080(param_1);
      param_1[0x163] = 0;
      return bVar1;
    }
    iVar2 = FUN_00465e60(DAT_0048ce34,1,0,-1);
    if (iVar2 != 1) {
      return bVar1;
    }
    iVar2 = FUN_00427b40((int)DAT_0048ce34);
    if (iVar2 == 0) {
      return bVar1;
    }
    iVar2 = FUN_00467780((int)DAT_0048ce34);
    if (param_1[0xd] < iVar2) {
      return bVar1;
    }
    if (param_1[0x162] == 2) {
      iVar2 = FUN_004661c0(DAT_0048ce34,0);
      iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
      if (iVar2 != 1) {
        return bVar1;
      }
      param_1[0x163] = 0;
      param_1[0x162] = 1;
    }
    iVar13 = 1;
    iVar10 = -1;
    piVar9 = (int *)0x0;
    iVar2 = FUN_00466110(DAT_0048ce34,3);
    FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
    iVar2 = param_1[0x13a];
    if (iVar2 != 0) {
      param_1[0x13a] = (int)DAT_0048ce34;
      DAT_0048ce34 = (undefined4 *)iVar2;
      FUN_00452910(param_1);
      FUN_00450080(param_1);
      return bVar1;
    }
    param_1[0x13a] = (int)DAT_0048ce34;
    DAT_0048ce34 = (undefined4 *)0x0;
    FUN_00452910(param_1);
    FUN_00450080(param_1);
    return bVar1;
  case 1:
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      iVar2 = FUN_00465e60(DAT_0048ce34,1,1,-1);
      if (iVar2 != 1) {
        return bVar1;
      }
      iVar2 = FUN_00427b40((int)DAT_0048ce34);
      if (iVar2 == 0) {
        return bVar1;
      }
      iVar2 = FUN_00467780((int)DAT_0048ce34);
      if (param_1[0xd] < iVar2) {
        return bVar1;
      }
      if (param_1[0x162] == 2) {
        iVar2 = FUN_004661c0(DAT_0048ce34,0);
        iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
        if (iVar2 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      iVar13 = 1;
      iVar10 = -1;
      piVar9 = (int *)0x0;
      iVar2 = FUN_00466110(DAT_0048ce34,3);
      FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
      iVar2 = param_1[0x13b];
      if (iVar2 != 0) {
        param_1[0x13b] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)iVar2;
        FUN_00452910(param_1);
        FUN_00450080(param_1);
        return bVar1;
      }
      param_1[0x13b] = (int)DAT_0048ce34;
      DAT_0048ce34 = (undefined4 *)0x0;
      FUN_00452910(param_1);
      FUN_00450080(param_1);
      return bVar1;
    }
    if ((void *)param_1[0x13b] == (void *)0x0) {
      return bVar1;
    }
    DAT_0048ce34 = (undefined4 *)param_1[0x13b];
    param_1[0x13b] = 0;
    break;
  case 2:
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      iVar2 = FUN_00465e60(DAT_0048ce34,1,3,-1);
      if (iVar2 != 1) {
        return bVar1;
      }
      iVar2 = FUN_00427b40((int)DAT_0048ce34);
      if (iVar2 == 0) {
        return bVar1;
      }
      iVar2 = FUN_00467780((int)DAT_0048ce34);
      if (param_1[0xd] < iVar2) {
        return bVar1;
      }
      if (param_1[0x162] == 2) {
        iVar2 = FUN_004661c0(DAT_0048ce34,0);
        iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
        if (iVar2 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      iVar13 = 1;
      iVar10 = -1;
      piVar9 = (int *)0x0;
      iVar2 = FUN_00466110(DAT_0048ce34,3);
      FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
      pvVar6 = (void *)param_1[0x13c];
      if (pvVar6 == (void *)0x0) {
        param_1[0x13c] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)0x0;
      }
      else {
        param_1[0x13c] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)pvVar6;
      }
      goto LAB_0044669d;
    }
    if ((void *)param_1[0x13c] == (void *)0x0) {
      return bVar1;
    }
    DAT_0048ce34 = (undefined4 *)param_1[0x13c];
    param_1[0x13c] = 0;
    break;
  case 3:
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      iVar2 = FUN_00465e60(DAT_0048ce34,0,-1,-1);
      if (iVar2 != 1) {
        return bVar1;
      }
      iVar2 = FUN_00427b40((int)DAT_0048ce34);
      if (iVar2 == 0) {
        return bVar1;
      }
      iVar2 = FUN_00467780((int)DAT_0048ce34);
      if (param_1[0xd] < iVar2) {
        return bVar1;
      }
      if ((&DAT_0048d7c0)[DAT_0048d7bc] != 0) {
        return bVar1;
      }
      if (param_1[0x162] == 2) {
        iVar2 = FUN_004661c0(DAT_0048ce34,0);
        iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
        if (iVar2 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      iVar13 = 1;
      iVar10 = -1;
      piVar9 = (int *)0x0;
      iVar2 = FUN_00466110(DAT_0048ce34,3);
      FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
      pvVar6 = (void *)param_1[0x13d];
      if (pvVar6 == (void *)0x0) {
        param_1[0x13d] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)0x0;
      }
      else {
        param_1[0x13d] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)pvVar6;
      }
      goto LAB_0044669d;
    }
    if ((void *)param_1[0x13d] == (void *)0x0) {
      return bVar1;
    }
    if ((&DAT_0048d7c0)[DAT_0048d7bc] != 0) {
      return bVar1;
    }
    DAT_0048ce34 = (undefined4 *)param_1[0x13d];
    param_1[0x13d] = 0;
    break;
  case 4:
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      iVar2 = FUN_00465e60(DAT_0048ce34,1,2,-1);
      if (iVar2 != 1) {
        return bVar1;
      }
      iVar2 = FUN_00427b40((int)DAT_0048ce34);
      if (iVar2 == 0) {
        return bVar1;
      }
      iVar2 = FUN_00467780((int)DAT_0048ce34);
      if (param_1[0xd] < iVar2) {
        return bVar1;
      }
      if ((&DAT_0048d7c8)[DAT_0048d7bc] != 0) {
        return bVar1;
      }
      if (param_1[0x162] == 2) {
        iVar2 = FUN_004661c0(DAT_0048ce34,0);
        iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
        if (iVar2 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      iVar13 = 1;
      iVar10 = -1;
      piVar9 = (int *)0x0;
      iVar2 = FUN_00466110(DAT_0048ce34,3);
      FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
      pvVar6 = (void *)param_1[0x13e];
      if (pvVar6 == (void *)0x0) {
        param_1[0x13e] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)0x0;
      }
      else {
        param_1[0x13e] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)pvVar6;
      }
      goto LAB_0044669d;
    }
    if ((void *)param_1[0x13e] == (void *)0x0) {
      return bVar1;
    }
    if ((&DAT_0048d7c8)[DAT_0048d7bc] != 0) {
      return bVar1;
    }
    DAT_0048ce34 = (undefined4 *)param_1[0x13e];
    param_1[0x13e] = 0;
    break;
  case 5:
  case 6:
  case 7:
  case 8:
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      iVar10 = FUN_00465e60(DAT_0048ce34,2,-1,-1);
      if (iVar10 != 1) {
        return bVar1;
      }
      iVar10 = FUN_00427b40((int)DAT_0048ce34);
      if (iVar10 == 0) {
        return bVar1;
      }
      iVar10 = FUN_00465990((int)DAT_0048ce34);
      if (param_1[0xd] < iVar10) {
        return bVar1;
      }
      iVar10 = FUN_004308a0((int)DAT_0048ce34);
      if (iVar10 != 1) {
        return bVar1;
      }
      if (param_1[0x162] == 2) {
        iVar10 = FUN_004661c0(DAT_0048ce34,0);
        iVar10 = FUN_00466da0(param_1 + 0x145,iVar10);
        if (iVar10 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      iVar7 = 1;
      iVar13 = -1;
      piVar9 = (int *)0x0;
      iVar10 = FUN_00466110(DAT_0048ce34,3);
      FUN_00417260(0,iVar10,piVar9,iVar13,iVar7);
      pvVar6 = (void *)param_1[iVar2 + 0x13a];
      if (pvVar6 == (void *)0x0) {
        param_1[iVar2 + 0x13a] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)0x0;
      }
      else {
        param_1[iVar2 + 0x13a] = (int)DAT_0048ce34;
        DAT_0048ce34 = (undefined4 *)pvVar6;
      }
      goto LAB_0044669d;
    }
    if ((void *)param_1[iVar2 + 0x13a] == (void *)0x0) {
      return bVar1;
    }
    DAT_0048ce34 = (undefined4 *)param_1[iVar2 + 0x13a];
    param_1[iVar2 + 0x13a] = 0;
    break;
  case 9:
    if (DAT_0048ce34 != (undefined4 *)0x0) {
      iVar2 = FUN_004308a0((int)DAT_0048ce34);
      iVar2 = (*(int *)param_1[0xff] - (iVar2 * 0x20) / 2) + -0x140;
      iVar7 = (int)(iVar2 + (iVar2 >> 0x1f & 0x1fU)) >> 5;
      iVar2 = FUN_004308b0((int)DAT_0048ce34);
      iVar2 = (*(int *)(param_1[0xff] + 4) - (iVar2 * 0x20) / 2) + -0xf8;
      iVar13 = (int)(iVar2 + (iVar2 >> 0x1f & 0x1fU)) >> 5;
      iVar2 = FUN_004308a0((int)DAT_0048ce34);
      iVar2 = iVar2 + -1 + iVar7;
      iVar10 = FUN_004308b0((int)DAT_0048ce34);
      local_10 = iVar10 + -1 + iVar13;
      if (iVar7 < 0) {
        return bVar1;
      }
      if (iVar13 < 0) {
        return bVar1;
      }
      if (8 < iVar2) {
        return bVar1;
      }
      if (3 < local_10) {
        return bVar1;
      }
      iVar10 = FUN_00456210((int)DAT_0048ce34);
      if ((iVar10 == 4) && (iVar10 = FUN_00466390((int)DAT_0048ce34), iVar10 == 1)) {
        if (param_1[0xb0] <= param_1[0xca]) {
          return bVar1;
        }
        iVar2 = param_1[0x162];
        goto joined_r0x00447138;
      }
      iVar10 = FUN_00466480((int)DAT_0048ce34);
      if (iVar10 != -1) {
        iVar10 = FUN_00466390((int)DAT_0048ce34);
        iVar3 = FUN_00456210((int)DAT_0048ce34);
        iVar4 = FUN_00466480((int)DAT_0048ce34);
        iVar10 = FUN_004671c0(param_1 + iVar4 + 0x152,iVar3,iVar10);
        if (iVar10 != 0) {
          return bVar1;
        }
        if (param_1[0x162] != 2) goto LAB_0044709b;
        iVar10 = FUN_004661c0(DAT_0048ce34,0);
        iVar10 = FUN_00466da0(param_1 + 0x145,iVar10);
        if (iVar10 == 1) goto LAB_0044708b;
      }
      piVar9 = param_1 + 0x145;
      local_c = (int *)FUN_00466b60(piVar9,iVar7,iVar13,iVar2,local_10);
      if (((int)local_c < 2) && (param_1[0x162] == 2)) {
        iVar10 = FUN_004661c0(DAT_0048ce34,0);
        iVar10 = FUN_00466da0(piVar9,iVar10);
        if (iVar10 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      if (local_c == (int *)0x0) {
        iVar3 = 1;
        iVar10 = -1;
        piVar11 = local_c;
        iVar2 = FUN_00466110(DAT_0048ce34,1);
        FUN_00417260(0,iVar2,piVar11,iVar10,iVar3);
        FUN_004663e0(DAT_0048ce34,iVar7,iVar13);
        FUN_00466bc0(piVar9,(int)DAT_0048ce34);
        DAT_0048ce34 = (undefined4 *)0x0;
      }
      else if (local_c == (int *)0x1) {
        iVar3 = -1;
        piVar8 = (int *)0x0;
        piVar11 = local_c;
        iVar10 = FUN_00466110(DAT_0048ce34,0);
        FUN_00417260(0,iVar10,piVar8,iVar3,(int)piVar11);
        pvVar6 = (void *)FUN_00466b00(piVar9,iVar7,iVar13,iVar2,local_10);
        iVar2 = FUN_00456210((int)DAT_0048ce34);
        if ((((iVar2 == 4) && (iVar2 = FUN_00466390((int)DAT_0048ce34), iVar2 == 0)) &&
            (iVar2 = FUN_00456210((int)pvVar6), iVar2 == 4)) &&
           (iVar2 = FUN_00466390((int)pvVar6), iVar2 == 0)) {
          iVar2 = FUN_004661c0(pvVar6,0);
          iVar10 = FUN_004661c0(DAT_0048ce34,0);
          if (10000 - iVar2 < iVar10) {
            iVar2 = FUN_004661c0(DAT_0048ce34,0);
            iVar10 = FUN_004661c0(pvVar6,0);
            FUN_00466440(DAT_0048ce34,iVar2 + -10000 + iVar10);
            FUN_00466440(pvVar6,10000);
          }
          else {
            iVar2 = FUN_004661c0(DAT_0048ce34,0);
            iVar10 = FUN_004661c0(pvVar6,0);
            FUN_00466440(pvVar6,iVar2 + iVar10);
            FUN_00465640((int *)&DAT_0048ce34);
          }
        }
        else {
          FUN_004663e0(DAT_0048ce34,iVar7,iVar13);
          FUN_00466be0(piVar9,(int)pvVar6);
          FUN_00466bc0(piVar9,(int)DAT_0048ce34);
          DAT_0048ce34 = (undefined4 *)pvVar6;
        }
      }
      goto LAB_0044669d;
    }
    DAT_0048ce34 = (undefined4 *)FUN_00466b00(param_1 + 0x145,local_14,local_18,-1,-1);
    if (DAT_0048ce34 == (undefined4 *)0x0) {
      return bVar1;
    }
    FUN_00466be0(param_1 + 0x145,(int)DAT_0048ce34);
    break;
  case 10:
    if (DAT_0048ce34 == (undefined4 *)0x0) {
      return bVar1;
    }
    iVar2 = FUN_00456210((int)DAT_0048ce34);
    if ((iVar2 == 4) && (iVar2 = FUN_00466390((int)DAT_0048ce34), iVar2 == 0)) {
      pvVar6 = (void *)FUN_00466cd0(param_1 + 0x147);
      while (pvVar6 != (void *)0x0) {
        iVar2 = FUN_004661c0(pvVar6,0);
        iVar10 = FUN_004661c0(DAT_0048ce34,0);
        if (iVar10 < 10000 - iVar2) {
          iVar2 = FUN_004661c0(DAT_0048ce34,0);
          iVar10 = FUN_004661c0(pvVar6,0);
          FUN_00466440(pvVar6,iVar2 + iVar10);
          FUN_00465640((int *)&DAT_0048ce34);
          break;
        }
        iVar2 = FUN_004661c0(DAT_0048ce34,0);
        iVar10 = FUN_004661c0(pvVar6,0);
        FUN_00466440(DAT_0048ce34,iVar2 + -10000 + iVar10);
        FUN_00466440(pvVar6,10000);
        pvVar6 = (void *)FUN_00466cd0(param_1 + 0x147);
      }
LAB_00446f1e:
      if (DAT_0048ce34 == (undefined4 *)0x0) {
        return bVar1;
      }
      piVar11 = (int *)0x0;
      piVar9 = &local_8;
      iVar13 = 0;
      iVar2 = FUN_004308b0((int)DAT_0048ce34);
      iVar10 = FUN_004308a0((int)DAT_0048ce34);
      iVar2 = FUN_00466f80(param_1 + 0x147,9,10,iVar10,iVar2,piVar9,iVar13,piVar11);
      if (iVar2 != 1) {
        return bVar1;
      }
      if (param_1[0x162] == 2) {
        iVar2 = FUN_004661c0(DAT_0048ce34,0);
        iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
        if (iVar2 != 1) {
          return bVar1;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
      }
      iVar13 = 1;
      iVar10 = -1;
      piVar9 = (int *)0x0;
      iVar2 = FUN_00466110(DAT_0048ce34,1);
      FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
      FUN_004663e0(DAT_0048ce34,local_8,local_4);
      FUN_00466bc0(param_1 + 0x147,(int)DAT_0048ce34);
      DAT_0048ce34 = (undefined4 *)0x0;
      return bVar1;
    }
    iVar2 = FUN_00466480((int)DAT_0048ce34);
    if (iVar2 == -1) goto LAB_00446f1e;
    iVar2 = FUN_00466390((int)DAT_0048ce34);
    iVar10 = FUN_00456210((int)DAT_0048ce34);
    iVar13 = FUN_00466480((int)DAT_0048ce34);
    iVar2 = FUN_004671c0(param_1 + iVar13 + 0x152,iVar10,iVar2);
    if (iVar2 != 0) {
      return bVar1;
    }
    if (param_1[0x162] != 2) goto LAB_0044709b;
    iVar2 = FUN_004661c0(DAT_0048ce34,0);
    iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
    if (iVar2 != 1) goto LAB_00446f1e;
LAB_0044708b:
    param_1[0x163] = 0;
    param_1[0x162] = 1;
LAB_0044709b:
    iVar2 = FUN_00466490((int)DAT_0048ce34);
    uVar12 = *(undefined4 *)(iVar2 + 4);
    puVar5 = (undefined4 *)FUN_00466490((int)DAT_0048ce34);
    FUN_004663e0(DAT_0048ce34,*puVar5,uVar12);
    pvVar6 = DAT_0048ce34;
    iVar2 = FUN_00466480((int)DAT_0048ce34);
    FUN_00466bc0(param_1 + iVar2 + 0x152,(int)pvVar6);
    DAT_0048ce34 = (undefined4 *)0x0;
    return bVar1;
  case 0xb:
    if (DAT_0048ce34 == (undefined4 *)0x0) {
      if (param_1[0xca] == 0) {
        return bVar1;
      }
      DAT_0048ce34 = FUN_00462d30(DAT_0048ce14,4,1,(undefined4 *)0x0);
      param_1[0xca] = param_1[0xca] + -1;
      return bVar1;
    }
    iVar2 = FUN_00456210((int)DAT_0048ce34);
    if (iVar2 != 4) {
      return bVar1;
    }
    iVar2 = FUN_00466390((int)DAT_0048ce34);
    if (iVar2 != 1) {
      return bVar1;
    }
    if (param_1[0xb0] <= param_1[0xca]) {
      return bVar1;
    }
    iVar2 = param_1[0x162];
joined_r0x00447138:
    if (iVar2 == 2) {
      iVar2 = FUN_004661c0(DAT_0048ce34,0);
      iVar2 = FUN_00466da0(param_1 + 0x145,iVar2);
      if (iVar2 != 1) {
        return bVar1;
      }
      param_1[0x163] = 0;
      param_1[0x162] = 1;
    }
    iVar13 = 1;
    iVar10 = -1;
    piVar9 = (int *)0x0;
    iVar2 = FUN_00466110(DAT_0048ce34,1);
    FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
    FUN_00465640((int *)&DAT_0048ce34);
    param_1[0xca] = param_1[0xca] + 1;
    return bVar1;
  default:
    return bVar1;
  }
  iVar13 = 1;
  iVar10 = -1;
  param_1[0x163] = 0;
  piVar9 = (int *)0x0;
  iVar2 = FUN_00466110(DAT_0048ce34,0);
  FUN_00417260(0,iVar2,piVar9,iVar10,iVar13);
LAB_0044669d:
  FUN_00452910(param_1);
  FUN_00450080(param_1);
  return bVar1;
}



/*
 * Function: FUN_00447290
 * Address: 00447290
 */

int FUN_00447290(int param_1,int param_2,int *param_3,int *param_4)

{
  int iVar1;
  int local_20 [8];
  
  local_20[0] = 400;
  local_20[1] = 400;
  local_20[4] = 0x8f;
  local_20[2] = 0x1b8;
  local_20[3] = 0x1b8;
  local_20[6] = 0x8f;
  local_20[5] = 0xb7;
  local_20[7] = 0xb7;
  if (((DAT_0048ce3c == 1) && (0x13f < param_1)) && (param_2 < 0x19c)) {
    if ((0x22f < param_1) && (param_1 < 0x270)) {
      if ((0xf < param_2) && (param_2 < 0x50)) {
        return 0;
      }
      if (param_1 < 0x270) {
        if ((0x57 < param_2) && (param_2 < 0xb8)) {
          return 1;
        }
        if (((param_1 < 0x270) && (0xbf < param_2)) && (param_2 < 0x100)) {
          return 2;
        }
      }
    }
    if ((0x1df < param_1) && (param_1 < 0x220)) {
      if ((0xf < param_2) && (param_2 < 0x90)) {
        return 3;
      }
      if (((param_1 < 0x220) && (0x9f < param_2)) && (param_2 < 0x100)) {
        return 4;
      }
    }
    iVar1 = 0;
    do {
      if ((((local_20[iVar1] <= param_1) && (param_1 < local_20[iVar1] + 0x20)) &&
          (local_20[iVar1 + 4] <= param_2)) && (param_2 < local_20[iVar1 + 4] + 0x20)) {
        return iVar1 + 5;
      }
      iVar1 = iVar1 + 1;
    } while (iVar1 < 4);
    if (0x14f < param_1) {
      if (((param_1 < 0x270) && (0x107 < param_2)) && (param_2 < 0x188)) {
        *param_3 = (int)(param_1 + -0x150 + (param_1 + -0x150 >> 0x1f & 0x1fU)) >> 5;
        *param_4 = (int)(param_2 + -0x108 + (param_2 + -0x108 >> 0x1f & 0x1fU)) >> 5;
        return 9;
      }
      if (((param_1 < 0x188) && (0x8b < param_2)) && (param_2 < 0xd4)) {
        *param_3 = 0;
        *param_4 = 0;
        return 10;
      }
      if (((param_1 < 0x17e) && (0x57 < param_2)) && (param_2 < 0x86)) {
        *param_3 = 0;
        *param_4 = 0;
        return 0xb;
      }
    }
  }
  return -1;
}



/*
 * Function: FUN_004474b0
 * Address: 004474b0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_004474b0(int *param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  uVar3 = 0;
  if (DAT_0048ce38 == 1) {
    iVar1 = *(int *)param_1[0xff];
    if (((((iVar1 < 0x140) && (iVar2 = ((int *)param_1[0xff])[1], iVar2 < 0x19c)) &&
         (uVar3 = 1, -1 < iVar2)) && ((iVar2 < 0x25 && (0x9f < iVar1)))) && (iVar1 < 0x140)) {
      FUN_004456d0(param_1,0,0x3a,1);
      DAT_0048ce38 = 0;
      DAT_0048ce40 = 1;
    }
    iVar1 = *(int *)param_1[0xff];
    if (((0x10 < iVar1) && (iVar1 < 0x71)) &&
       ((iVar1 = ((int *)param_1[0xff])[1], 0x3f < iVar1 &&
        ((iVar1 < 0x50 && (param_1[0xb] != param_1[0xc])))))) {
      param_1[0xb] = param_1[0xc];
      FUN_00450080(param_1);
      FUN_00452a90(param_1);
      _DAT_0048d5dc = 8;
      FUN_004456d0(param_1,0,0x40,0);
    }
  }
  return uVar3;
}



/*
 * Function: FUN_00447570
 * Address: 00447570
 */

int __fastcall FUN_00447570(void *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  bool bVar7;
  int local_1c;
  uint local_14;
  int *local_10;
  uint local_c [3];
  
  local_1c = 0;
  FUN_00416fb0(local_c);
  if ((local_c[0] == 0x11) && (DAT_0048d528 == 1)) {
    return 0;
  }
  iVar1 = (*(int **)((int)param_1 + 0x3fc))[1];
  iVar2 = **(int **)((int)param_1 + 0x3fc);
  if (DAT_0048d528 == 1) {
    iVar6 = 0xe0;
    if (local_c[0] == 0x10) {
      iVar6 = 0x158;
    }
    else if (local_c[0] == 1) {
      iVar6 = 0x7c;
    }
    local_14 = 0;
    local_10 = &DAT_0048d508;
    do {
      uVar4 = local_14 & 0x80000003;
      bVar7 = uVar4 == 0;
      if ((int)uVar4 < 0) {
        bVar7 = (uVar4 - 1 | 0xfffffffc) == 0xffffffff;
      }
      if (bVar7) {
        iVar6 = iVar6 + 4;
      }
      iVar3 = *local_10;
      if (iVar3 == -1) {
        if ((((iVar6 <= iVar2) && (iVar2 < iVar6 + 0x10)) && (0x187 < iVar1)) && (iVar1 < 0x198)) {
          local_1c = 1;
        }
        iVar5 = 0x10;
      }
      else if (iVar3 == *(int *)((int)param_1 + 0x127c)) {
        iVar5 = 0x1a;
        if (((iVar6 <= iVar2) && (iVar2 < iVar6 + 0x1a)) && ((0x17d < iVar1 && (iVar1 < 0x198)))) {
          local_1c = 1;
          *(int *)((int)param_1 + 0x127c) = iVar3;
        }
      }
      else {
        iVar5 = 0x10;
        if (((iVar6 <= iVar2) && (iVar2 < iVar6 + 0x10)) && ((0x187 < iVar1 && (iVar1 < 0x198)))) {
          local_1c = 1;
          *(int *)((int)param_1 + 0x127c) = iVar3;
          FUN_004456d0(param_1,0,0x3a,1);
        }
      }
      iVar6 = iVar6 + iVar5;
      local_10 = local_10 + 1;
      local_14 = local_14 + 1;
    } while ((int)local_10 < 0x48d528);
    if (local_1c == 1) {
      *(undefined4 *)((int)param_1 + 0x1288) = 0;
      return local_1c;
    }
    if (*(int *)((int)param_1 + 0x1288) == 1) {
      if (iVar2 < iVar6 + 4) {
        return local_1c;
      }
      if (iVar6 + 0x14 <= iVar2) {
        return local_1c;
      }
      if (iVar1 < 0x188) {
        return local_1c;
      }
      if (0x197 < iVar1) {
        return local_1c;
      }
      *(undefined4 *)((int)param_1 + 0x1288) = 0;
    }
    else {
      if (iVar2 < iVar6 + 4) {
        return local_1c;
      }
      if (iVar6 + 0x1e <= iVar2) {
        return local_1c;
      }
      if (iVar1 < 0x17e) {
        return local_1c;
      }
      if (0x197 < iVar1) {
        return local_1c;
      }
      *(undefined4 *)((int)param_1 + 0x1288) = 1;
    }
    local_1c = 1;
    *(undefined4 *)((int)param_1 + 0x127c) = 0xffffffff;
    FUN_004456d0(param_1,0,0x3a,1);
  }
  return local_1c;
}



/*
 * Function: FUN_00447790
 * Address: 00447790
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00447790(void *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  undefined4 local_4;
  
  iVar4 = DAT_0048ce40;
  local_4 = 0;
  iVar5 = 0x38;
  if (DAT_0048ce40 == 0) {
    return 0;
  }
  iVar1 = **(int **)((int)param_1 + 0x3fc);
  if ((iVar1 < 0x140) && (iVar2 = (*(int **)((int)param_1 + 0x3fc))[1], iVar2 < 0x19c)) {
    iVar6 = 0;
    local_4 = 1;
    iVar3 = DAT_0048d730 * 6;
    if (DAT_0048ce34 == 0) {
      if ((((-1 < iVar2) && (iVar2 < 0x25)) && (-1 < iVar1)) &&
         ((iVar1 < 0xa0 && (DAT_0048ce40 == 1)))) {
        DAT_0048ce40 = 0;
        DAT_0048ce38 = iVar4;
        FUN_004456d0(param_1,0,0x3a,1);
      }
      do {
        iVar4 = iVar6 + iVar3;
        if (0x15 < iVar4) break;
        if (*(int *)((int)param_1 + (iVar6 + iVar3) * 4 + 0x1440) == 3) {
          iVar1 = **(int **)((int)param_1 + 0x3fc);
          if (((0x17 < iVar1) && (iVar1 < 0x38)) &&
             ((iVar1 = (*(int **)((int)param_1 + 0x3fc))[1], iVar5 <= iVar1 &&
              (iVar1 < iVar5 + 0x20)))) {
            _DAT_0048d504 = iVar4;
            FUN_004456d0(param_1,0,0x39,1);
          }
        }
        iVar5 = iVar5 + 0x30;
        iVar6 = iVar6 + 1;
      } while (iVar6 < 6);
    }
    if (DAT_0048d730 != 0) {
      iVar4 = **(int **)((int)param_1 + 0x3fc);
      if ((((0xf < iVar4) && (iVar4 < 0x31)) &&
          (iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], 0x14e < iVar4)) && (iVar4 < 0x15f)) {
        DAT_0048d730 = DAT_0048d730 + -1;
        FUN_004456d0(param_1,0,0x3a,1);
      }
    }
    if (DAT_0048d730 < 3) {
      iVar4 = **(int **)((int)param_1 + 0x3fc);
      if (((0x10e < iVar4) && (iVar4 < 0x130)) &&
         ((iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], 0x14e < iVar4 && (iVar4 < 0x15f)))) {
        DAT_0048d730 = DAT_0048d730 + 1;
        FUN_004456d0(param_1,0,0x3a,1);
      }
    }
    iVar4 = 0x1d;
    piVar7 = &DAT_0048d508;
    do {
      iVar5 = **(int **)((int)param_1 + 0x3fc);
      if (((iVar4 <= iVar5) && (iVar5 < iVar4 + 0x20)) &&
         ((iVar5 = (*(int **)((int)param_1 + 0x3fc))[1], 0x163 < iVar5 &&
          ((iVar5 < 0x184 && (*piVar7 != -1)))))) {
        _DAT_0048d504 = *piVar7;
        FUN_004456d0(param_1,0,0x39,1);
      }
      piVar7 = piVar7 + 1;
      iVar4 = iVar4 + 0x20;
    } while ((int)piVar7 < 0x48d528);
  }
  return local_4;
}



/*
 * Function: FUN_00447970
 * Address: 00447970
 */

undefined4 __fastcall FUN_00447970(int param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  void *this;
  void *this_00;
  int iVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  undefined4 local_8;
  
  local_8 = 0;
  if (DAT_0048ce48 == 1) {
    iVar1 = **(int **)(param_1 + 0x3fc);
    if (((((iVar1 < 0x140) && (iVar2 = (*(int **)(param_1 + 0x3fc))[1], iVar2 < 0x19c)) &&
         (local_8 = 1, 0xf < iVar1)) && ((iVar1 < 0x130 && (0x47 < iVar2)))) && (iVar2 < 0x188)) {
      if (DAT_0048ce34 == (void *)0x0) {
        DAT_0048ce34 = (void *)FUN_00466b00((void *)(param_1 + 0x51c),
                                            (int)(iVar1 + -0x10 + (iVar1 + -0x10 >> 0x1f & 0x1fU))
                                            >> 5,(int)(iVar2 + -0x48 +
                                                      (iVar2 + -0x48 >> 0x1f & 0x1fU)) >> 5,-1,-1);
        if (DAT_0048ce34 != (void *)0x0) {
          FUN_00466be0((void *)(param_1 + 0x51c),(int)DAT_0048ce34);
          iVar4 = 1;
          iVar2 = -1;
          piVar3 = (int *)0x0;
          iVar1 = FUN_00466110(DAT_0048ce34,0);
          FUN_00417260(0,iVar1,piVar3,iVar2,iVar4);
        }
      }
      else {
        iVar1 = FUN_004308a0((int)DAT_0048ce34);
        iVar1 = **(int **)(param_1 + 0x3fc) - (iVar1 * 0x20) / 2;
        iVar4 = (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5;
        iVar1 = FUN_004308b0((int)DAT_0048ce34);
        iVar1 = (*(int *)(*(int *)(param_1 + 0x3fc) + 4) - (iVar1 * 0x20) / 2) + -0x38;
        iVar5 = (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5;
        iVar1 = FUN_004308a0((int)DAT_0048ce34);
        iVar1 = iVar1 + -1 + iVar4;
        iVar2 = FUN_004308b0((int)DAT_0048ce34);
        iVar2 = iVar2 + -1 + iVar5;
        if (((-1 < iVar4) && (-1 < iVar5)) && ((iVar1 < 9 && (iVar2 < 10)))) {
          this_00 = (void *)(param_1 + 0x51c);
          piVar3 = (int *)FUN_00466b60(this_00,iVar4,iVar5,iVar1,iVar2);
          if (piVar3 == (int *)0x0) {
            iVar8 = 1;
            iVar2 = -1;
            iVar1 = FUN_00466110(DAT_0048ce34,1);
            FUN_00417260(0,iVar1,piVar3,iVar2,iVar8);
            FUN_004663e0(DAT_0048ce34,iVar4,iVar5);
            FUN_00466bc0(this_00,(int)DAT_0048ce34);
            DAT_0048ce34 = (void *)0x0;
            return 1;
          }
          if (piVar3 == (int *)0x1) {
            iVar7 = -1;
            piVar6 = (int *)0x0;
            iVar8 = FUN_00466110(DAT_0048ce34,0);
            FUN_00417260(0,iVar8,piVar6,iVar7,(int)piVar3);
            this = (void *)FUN_00466b00(this_00,iVar4,iVar5,iVar1,iVar2);
            iVar1 = FUN_00456210((int)DAT_0048ce34);
            if (iVar1 == 4) {
              iVar1 = FUN_00466390((int)DAT_0048ce34);
              if (iVar1 == 0) {
                iVar1 = FUN_00456210((int)this);
                if (iVar1 == 4) {
                  iVar1 = FUN_00466390((int)this);
                  if (iVar1 == 0) {
                    iVar1 = FUN_004661c0(this,0);
                    iVar2 = FUN_004661c0(DAT_0048ce34,0);
                    if (iVar2 <= 10000 - iVar1) {
                      iVar1 = FUN_004661c0(DAT_0048ce34,0);
                      iVar2 = FUN_004661c0(this,0);
                      FUN_00466440(this,iVar1 + iVar2);
                      FUN_00465640((int *)&DAT_0048ce34);
                      return 1;
                    }
                    iVar1 = FUN_004661c0(DAT_0048ce34,0);
                    iVar2 = FUN_004661c0(this,0);
                    FUN_00466440(DAT_0048ce34,iVar1 + -10000 + iVar2);
                    FUN_00466440(this,10000);
                    return 1;
                  }
                }
              }
            }
            FUN_004663e0(DAT_0048ce34,iVar4,iVar5);
            FUN_00466be0(this_00,(int)this);
            FUN_00466bc0(this_00,(int)DAT_0048ce34);
            DAT_0048ce34 = this;
            return 1;
          }
        }
      }
    }
  }
  return local_8;
}



/*
 * Function: FUN_00447ca0
 * Address: 00447ca0
 */

undefined4 __fastcall FUN_00447ca0(void *param_1)

{
  int *piVar1;
  void *this;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  undefined4 local_4;
  
  iVar4 = 0;
  local_4 = 0;
  if (((DAT_0048ce4c == 1) && (**(int **)((int)param_1 + 0x3fc) < 0x140)) &&
     ((*(int **)((int)param_1 + 0x3fc))[1] < 0x19c)) {
    local_4 = 1;
    iVar2 = 0x18;
    piVar1 = (int *)((int)param_1 + 0x55c);
    do {
      iVar3 = **(int **)((int)param_1 + 0x3fc);
      if ((((iVar2 <= iVar3) && (iVar3 < iVar2 + 0x18)) &&
          ((iVar3 = (*(int **)((int)param_1 + 0x3fc))[1], 0x28 < iVar3 &&
           ((iVar3 < 0x41 && (*piVar1 == 1)))))) && (*(int *)((int)param_1 + 0x558) != iVar4)) {
        *(int *)((int)param_1 + 0x558) = iVar4;
        FUN_004456d0(param_1,0,0x3a,1);
      }
      iVar2 = iVar2 + 0x18;
      iVar4 = iVar4 + 1;
      piVar1 = piVar1 + 1;
    } while (iVar4 < 10);
    iVar4 = **(int **)((int)param_1 + 0x3fc);
    if ((((0x10f < iVar4) && (iVar4 < 0x128)) &&
        (iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], 0x27 < iVar4)) && (iVar4 < 0x38)) {
      DAT_0048ce4c = 0;
      FUN_004456d0(param_1,0,0x3a,1);
    }
    iVar4 = **(int **)((int)param_1 + 0x3fc);
    if (((0xf < iVar4) && (iVar4 < 0x130)) &&
       ((iVar2 = (*(int **)((int)param_1 + 0x3fc))[1], 0x47 < iVar2 && (iVar2 < 0x188)))) {
      if (DAT_0048ce34 == (void *)0x0) {
        DAT_0048ce34 = (void *)FUN_00466b00((void *)((int)param_1 +
                                                    *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                                            (int)(iVar4 + -0x10 + (iVar4 + -0x10 >> 0x1f & 0x1fU))
                                            >> 5,(int)(iVar2 + -0x48 +
                                                      (iVar2 + -0x48 >> 0x1f & 0x1fU)) >> 5,-1,-1);
        if (DAT_0048ce34 != (void *)0x0) {
          FUN_00466be0((void *)((int)param_1 + *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                       (int)DAT_0048ce34);
          iVar3 = 1;
          iVar2 = -1;
          piVar1 = (int *)0x0;
          iVar4 = FUN_00466110(DAT_0048ce34,0);
          FUN_00417260(0,iVar4,piVar1,iVar2,iVar3);
        }
      }
      else {
        iVar4 = FUN_004308a0((int)DAT_0048ce34);
        iVar4 = **(int **)((int)param_1 + 0x3fc) - (iVar4 * 0x20) / 2;
        iVar5 = (int)(iVar4 + (iVar4 >> 0x1f & 0x1fU)) >> 5;
        iVar4 = FUN_004308b0((int)DAT_0048ce34);
        iVar4 = (*(int *)(*(int *)((int)param_1 + 0x3fc) + 4) - (iVar4 * 0x20) / 2) + -0x38;
        iVar3 = (int)(iVar4 + (iVar4 >> 0x1f & 0x1fU)) >> 5;
        iVar4 = FUN_004308a0((int)DAT_0048ce34);
        iVar4 = iVar4 + -1 + iVar5;
        iVar2 = FUN_004308b0((int)DAT_0048ce34);
        iVar2 = iVar2 + -1 + iVar3;
        if (((-1 < iVar5) && (-1 < iVar3)) && ((iVar4 < 9 && (iVar2 < 10)))) {
          piVar1 = (int *)FUN_00466b60((void *)((int)param_1 +
                                               *(int *)((int)param_1 + 0x558) * 4 + 0x520),iVar5,
                                       iVar3,iVar4,iVar2);
          if (piVar1 == (int *)0x0) {
            iVar8 = 1;
            iVar2 = -1;
            iVar4 = FUN_00466110(DAT_0048ce34,1);
            FUN_00417260(0,iVar4,piVar1,iVar2,iVar8);
            FUN_004663e0(DAT_0048ce34,iVar5,iVar3);
            FUN_00466bc0((void *)((int)param_1 + *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                         (int)DAT_0048ce34);
            DAT_0048ce34 = (void *)0x0;
            return 1;
          }
          if (piVar1 == (int *)0x1) {
            iVar7 = -1;
            piVar6 = (int *)0x0;
            iVar8 = FUN_00466110(DAT_0048ce34,0);
            FUN_00417260(0,iVar8,piVar6,iVar7,(int)piVar1);
            this = (void *)FUN_00466b00((void *)((int)param_1 +
                                                *(int *)((int)param_1 + 0x558) * 4 + 0x520),iVar5,
                                        iVar3,iVar4,iVar2);
            iVar4 = FUN_00456210((int)DAT_0048ce34);
            if (iVar4 == 4) {
              iVar4 = FUN_00466390((int)DAT_0048ce34);
              if (iVar4 == 0) {
                iVar4 = FUN_00456210((int)this);
                if (iVar4 == 4) {
                  iVar4 = FUN_00466390((int)this);
                  if (iVar4 == 0) {
                    iVar4 = FUN_004661c0(this,0);
                    iVar2 = FUN_004661c0(DAT_0048ce34,0);
                    if (iVar2 <= 10000 - iVar4) {
                      iVar4 = FUN_004661c0(DAT_0048ce34,0);
                      iVar2 = FUN_004661c0(this,0);
                      FUN_00466440(this,iVar4 + iVar2);
                      FUN_00465640((int *)&DAT_0048ce34);
                      return 1;
                    }
                    iVar4 = FUN_004661c0(DAT_0048ce34,0);
                    iVar2 = FUN_004661c0(this,0);
                    FUN_00466440(DAT_0048ce34,iVar4 + -10000 + iVar2);
                    FUN_00466440(this,10000);
                    return 1;
                  }
                }
              }
            }
            FUN_004663e0(DAT_0048ce34,iVar5,iVar3);
            FUN_00466be0((void *)((int)param_1 + *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                         (int)this);
            FUN_00466bc0((void *)((int)param_1 + *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                         (int)DAT_0048ce34);
            DAT_0048ce34 = this;
            return 1;
          }
        }
      }
    }
  }
  return local_4;
}



/*
 * Function: FUN_004480c0
 * Address: 004480c0
 */

undefined4 __fastcall FUN_004480c0(int param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  void *pvVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined4 local_c;
  
  local_c = 0;
  if (DAT_0048ce44 == 1) {
    iVar1 = **(int **)(param_1 + 0x3fc);
    if ((((iVar1 < 0x140) && (iVar2 = (*(int **)(param_1 + 0x3fc))[1], iVar2 < 0x19c)) &&
        (local_c = 1, 0xf < iVar1)) && (((iVar1 < 0x130 && (0x47 < iVar2)) && (iVar2 < 0x188)))) {
      if (DAT_0048ce34 == (void *)0x0) {
        if (*(int *)(param_1 + 0x588) == 1) {
          iVar2 = (int)(iVar2 + -0x48 + (iVar2 + -0x48 >> 0x1f & 0x1fU)) >> 5;
          iVar1 = (int)(iVar1 + -0x10 + (iVar1 + -0x10 >> 0x1f & 0x1fU)) >> 5;
          pvVar4 = (void *)FUN_00466b00(*(void **)(param_1 + 0x584),iVar1,iVar2,-1,-1);
          if (pvVar4 != (void *)0x0) {
            iVar5 = FUN_00434cb0(DAT_0048ce0c);
            iVar5 = FUN_00466d70((int *)(iVar5 + 0x514));
            iVar6 = FUN_004661c0(pvVar4,0);
            if ((iVar6 <= iVar5) &&
               (DAT_0048ce34 = (void *)FUN_00466b00(*(void **)(param_1 + 0x584),iVar1,iVar2,-1,-1),
               DAT_0048ce34 != (void *)0x0)) {
              FUN_00466be0(*(void **)(param_1 + 0x584),(int)DAT_0048ce34);
              iVar5 = 1;
              iVar2 = -1;
              *(undefined4 *)(param_1 + 0x58c) = 1;
              *(undefined4 *)(param_1 + 0x588) = 2;
              piVar3 = (int *)0x0;
              iVar1 = FUN_00466110(DAT_0048ce34,0);
              FUN_00417260(0,iVar1,piVar3,iVar2,iVar5);
            }
          }
        }
      }
      else if ((*(int *)(param_1 + 0x588) == 1) || (*(int *)(param_1 + 0x588) == 2)) {
        iVar1 = FUN_004308a0((int)DAT_0048ce34);
        iVar1 = **(int **)(param_1 + 0x3fc) - (iVar1 * 0x20) / 2;
        iVar6 = (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5;
        iVar1 = FUN_004308b0((int)DAT_0048ce34);
        iVar1 = (*(int *)(*(int *)(param_1 + 0x3fc) + 4) - (iVar1 * 0x20) / 2) + -0x38;
        iVar5 = (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5;
        iVar1 = FUN_004308a0((int)DAT_0048ce34);
        iVar1 = iVar1 + -1 + iVar6;
        iVar2 = FUN_004308b0((int)DAT_0048ce34);
        iVar2 = iVar2 + -1 + iVar5;
        if ((-1 < iVar6) && (((-1 < iVar5 && (iVar1 < 9)) && (iVar2 < 10)))) {
          if (*(int *)(param_1 + 0x58c) == 1) {
            piVar3 = (int *)FUN_00466b60(*(void **)(param_1 + 0x584),iVar6,iVar5,iVar1,iVar2);
            if (piVar3 == (int *)0x0) {
              iVar7 = 1;
              iVar2 = -1;
              iVar1 = FUN_00466110(DAT_0048ce34,1);
              FUN_00417260(0,iVar1,piVar3,iVar2,iVar7);
              FUN_004663e0(DAT_0048ce34,iVar6,iVar5);
              FUN_00466bc0(*(void **)(param_1 + 0x584),(int)DAT_0048ce34);
              DAT_0048ce34 = (void *)0x0;
              *(undefined4 *)(param_1 + 0x58c) = 0;
              *(undefined4 *)(param_1 + 0x588) = 1;
              return 1;
            }
            if (piVar3 == (int *)0x1) {
              pvVar4 = (void *)FUN_00466b00(*(void **)(param_1 + 0x584),iVar6,iVar5,iVar1,iVar2);
              iVar1 = FUN_00434cb0(DAT_0048ce0c);
              iVar1 = FUN_00466d70((int *)(iVar1 + 0x514));
              iVar2 = FUN_004661c0(pvVar4,0);
              if (iVar2 <= iVar1) {
                iVar7 = 1;
                iVar2 = -1;
                piVar3 = (int *)0x0;
                iVar1 = FUN_00466110(DAT_0048ce34,0);
                FUN_00417260(0,iVar1,piVar3,iVar2,iVar7);
                FUN_004663e0(DAT_0048ce34,iVar6,iVar5);
                FUN_00466be0(*(void **)(param_1 + 0x584),(int)pvVar4);
                FUN_00466bc0(*(void **)(param_1 + 0x584),(int)DAT_0048ce34);
                DAT_0048ce34 = pvVar4;
                return 1;
              }
            }
          }
          else {
            iVar1 = FUN_00456210((int)DAT_0048ce34);
            if ((iVar1 == 4) && (iVar1 = FUN_00466390((int)DAT_0048ce34), iVar1 == 0)) {
              return 1;
            }
            iVar1 = FUN_004661c0(DAT_0048ce34,0);
            if (0 < iVar1) {
              iVar5 = 4;
              iVar2 = 9;
              iVar1 = FUN_004661c0(DAT_0048ce34,1);
              iVar1 = FUN_00466e10((void *)(param_1 + 0x514),iVar1,iVar2,iVar5);
              if (iVar1 == 1) {
                iVar5 = -1;
                piVar3 = (int *)0x0;
                iVar2 = FUN_00466110(DAT_0048ce34,0);
                FUN_00417260(0,iVar2,piVar3,iVar5,iVar1);
                FUN_00465640((int *)&DAT_0048ce34);
                return 1;
              }
            }
          }
        }
      }
    }
  }
  return local_c;
}



/*
 * Function: FUN_00448490
 * Address: 00448490
 */

undefined4 __fastcall FUN_00448490(int param_1)

{
  if (((DAT_0048ce50 == 1) && (**(int **)(param_1 + 0x3fc) < 0x140)) &&
     ((*(int **)(param_1 + 0x3fc))[1] < 0x19c)) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_004484c0
 * Address: 004484c0
 */

undefined4 __fastcall FUN_004484c0(int param_1)

{
  if (((DAT_0048ce64 == 1) && (**(int **)(param_1 + 0x3fc) < 0x140)) &&
     ((*(int **)(param_1 + 0x3fc))[1] < 0x19c)) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_004484f0
 * Address: 004484f0
 */

undefined4 __fastcall FUN_004484f0(int param_1)

{
  if ((DAT_0048ce6c == 1) && (*(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    FUN_0040da90(&DAT_00482df4,-1,1);
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_00448520
 * Address: 00448520
 */

undefined4 __fastcall FUN_00448520(int param_1)

{
  if ((DAT_0048ce58 == 1) && (*(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    FUN_0040e710(&DAT_00482df4,0,1);
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_00448550
 * Address: 00448550
 */

int __fastcall FUN_00448550(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  
  if (DAT_0048ce5c == 1) {
    iVar3 = **(int **)(param_1 + 0x3fc);
    FUN_004103c0(0xffffffff,iVar3,(*(int **)(param_1 + 0x3fc))[1],1,0);
    piVar1 = (int *)(param_1 + 0x3fc);
    iVar2 = ((int *)*piVar1)[1];
    param_1 = 1;
    if (0x19b < iVar2) {
      param_1 = iVar3;
    }
    iVar3 = *(int *)*piVar1;
    if ((((0x24c < iVar3) && (iVar3 < 0x280)) && (0x191 < iVar2)) && (iVar2 < 0x19e)) {
      DAT_0048ce5c = 0;
      return 1;
    }
  }
  return param_1;
}



/*
 * Function: FUN_004485d0
 * Address: 004485d0
 */

int __fastcall FUN_004485d0(int param_1)

{
  if ((DAT_0048ce60 == 1) &&
     (FUN_0040f9e0(&DAT_00482df4,0xffffffff,**(int **)(param_1 + 0x3fc),
                   (*(int **)(param_1 + 0x3fc))[1],1),
     *(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    return 1;
  }
  return param_1;
}



/*
 * Function: FUN_00448620
 * Address: 00448620
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00448620(void *param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  uVar3 = 0;
  if (DAT_0048ce68 == 1) {
    iVar1 = **(int **)((int)param_1 + 0x3fc);
    if ((0x13f < iVar1) && (iVar2 = (*(int **)((int)param_1 + 0x3fc))[1], iVar2 < 0x19c)) {
      if ((0x176 < iVar1) && (((iVar1 < 0x1bb && (0x188 < iVar2)) && (iVar2 < 0x193)))) {
        DAT_0048ce3c = 1;
        _DAT_0048ce30 = 0;
        DAT_0048ce68 = 0;
        FUN_004456d0(param_1,0,0x3a,1);
      }
      uVar3 = 1;
    }
  }
  return uVar3;
}



/*
 * Function: FUN_00448690
 * Address: 00448690
 */

undefined4 __thiscall
FUN_00448690(void *this,undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            undefined param_5,int param_6)

{
  int iVar1;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  long lVar2;
  int iVar3;
  undefined3 in_stack_00000015;
  
  if ((((*(int *)(*(int *)((int)this + 0x3f8) + 0x10) == 1) && (param_6 == 0)) ||
      ((*(int *)(*(int *)((int)this + 0x3f8) + 0x2c) == 1 && (param_6 == 1)))) &&
     (iVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c), iVar1 != 0)
     ) {
    while (iVar1 = iVar1 + -1, -1 < iVar1) {
      this_00 = RKC_RPGSCRN_OBJECTDISP::Get((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c,iVar1);
      if (this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
        this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
        if (param_6 == 0) {
          iVar3 = _param_5;
          lVar2 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          iVar3 = FUN_00449240(this,lVar2,iVar3);
        }
        else {
          iVar3 = _param_5;
          lVar2 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          iVar3 = FUN_00449a40(this,lVar2,iVar3);
        }
        if (iVar3 == 1) {
          return 1;
        }
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_00448740
 * Address: 00448740
 */

undefined4 __thiscall
FUN_00448740(void *this,undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  long lVar3;
  void *this_02;
  int iVar4;
  int iVar5;
  undefined1 auVar6 [10];
  
  if (((*(int *)(*(int *)((int)this + 0x3f8) + 8) == 1) &&
      (*(int *)(*(int *)((int)this + 0x3f8) + 0x2c) == 1)) && (*(int *)((int)this + 0x2c) == 6)) {
    iVar1 = FUN_00450630((int)this);
    if (iVar1 == 8) {
      *(undefined4 *)((int)this + 0x318) = 0xb;
    }
    else if (iVar1 == 9) {
      *(undefined4 *)((int)this + 0x318) = 0xc;
    }
    else {
      if (iVar1 != 10) {
        return 0;
      }
      *(undefined4 *)((int)this + 0x318) = 0xd;
    }
    uVar2 = FUN_00413ec0(param_3 - *(int *)((int)this + 0x2e0),param_4 - *(int *)((int)this + 0x2e4)
                        );
    *(undefined4 *)((int)this + 0x31c) = uVar2;
    *(undefined4 *)((int)this + 0x1264) = 0xffffffff;
    auVar6 = FUN_00414080(param_3 - *(int *)((int)this + 0x2e0),
                          param_4 - *(int *)((int)this + 0x2e4));
    *(double *)((int)this + 0x1268) = (double)(float10)auVar6;
    iVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c);
    if (iVar1 != 0) {
      while (iVar1 = iVar1 + -1, -1 < iVar1) {
        this_00 = RKC_RPGSCRN_OBJECTDISP::Get((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c,iVar1);
        if (this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
          this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
          lVar3 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          this_02 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
          iVar4 = FUN_004299e0(this_02,lVar3);
          if (iVar4 != 0) {
            *(undefined4 *)((int)this + 0x1264) = 0xffffffff;
            iVar5 = FUN_00434cd0(iVar4);
            iVar5 = *(int *)(iVar5 + 0x1c) - *(int *)((int)this + 0x2e4);
            iVar4 = FUN_00434cd0(iVar4);
            auVar6 = FUN_00414080(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),iVar5);
            *(double *)((int)this + 0x1268) = (double)(float10)auVar6;
          }
        }
      }
    }
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_004488c0
 * Address: 004488c0
 */

undefined4 __thiscall
FUN_004488c0(void *this,undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  long lVar2;
  void *this_02;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  undefined1 auVar6 [10];
  
  if (((*(int *)((int)this + 0x1620) == 0) ||
      ((((iVar1 = *(int *)((int)this + 0x3f8), *(int *)(iVar1 + 8) != 1 ||
         (*(int *)(iVar1 + 0x10) != 0)) &&
        ((*(int *)(iVar1 + 0x24) != 1 ||
         ((*(int *)(iVar1 + 0x2c) != 0 || (*(int *)((int)this + 0x1288) == 0)))))) ||
       (*(int *)(iVar1 + 0x158) != 0)))) ||
     ((iVar1 = FUN_00450630((int)this), iVar1 < 0x13 || (0x14 < iVar1)))) {
    return 0;
  }
  iVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c);
  if (iVar1 == 0) {
LAB_004489a3:
    uVar5 = FUN_00413ec0(param_3 - *(int *)((int)this + 0x2e0),param_4 - *(int *)((int)this + 0x2e4)
                        );
    *(undefined4 *)((int)this + 0x31c) = uVar5;
    uVar5 = FUN_00450630((int)this);
    iVar4 = param_4 - *(int *)((int)this + 0x2e4);
    iVar1 = param_3 - *(int *)((int)this + 0x2e0);
    *(undefined4 *)((int)this + 0x318) = uVar5;
    *(undefined4 *)((int)this + 0x1264) = 0xffffffff;
  }
  else {
    do {
      do {
        iVar1 = iVar1 + -1;
        if (iVar1 < 0) goto LAB_004489a3;
        this_00 = RKC_RPGSCRN_OBJECTDISP::Get((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c,iVar1);
      } while (this_00 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0);
      this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
      lVar2 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
      this_02 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
      puVar3 = (undefined4 *)FUN_004299e0(this_02,lVar2);
    } while ((puVar3 == (undefined4 *)0x0) || (iVar4 = FUN_00427b20(puVar3), iVar4 != 2));
    iVar1 = FUN_00434cd0((int)puVar3);
    iVar1 = *(int *)(iVar1 + 0x1c) - *(int *)((int)this + 0x2e4);
    iVar4 = FUN_00434cd0((int)puVar3);
    uVar5 = FUN_00413ec0(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),iVar1);
    *(undefined4 *)((int)this + 0x31c) = uVar5;
    uVar5 = FUN_00450630((int)this);
    *(undefined4 *)((int)this + 0x318) = uVar5;
    lVar2 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
    *(long *)((int)this + 0x1264) = lVar2;
    iVar1 = FUN_00434cd0((int)puVar3);
    iVar4 = *(int *)(iVar1 + 0x1c) - *(int *)((int)this + 0x2e4);
    iVar1 = FUN_00434cd0((int)puVar3);
    iVar1 = *(int *)(iVar1 + 0x18) - *(int *)((int)this + 0x2e0);
  }
  auVar6 = FUN_00414080(iVar1,iVar4);
  *(double *)((int)this + 0x1268) = (double)(float10)auVar6;
  return 1;
}



/*
 * Function: FUN_00448aa0
 * Address: 00448aa0
 */

undefined4 __thiscall
FUN_00448aa0(void *this,undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            int param_5)

{
  int iVar1;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  long lVar2;
  int iVar3;
  
  if ((((*(int *)(*(int *)((int)this + 0x3f8) + 0x10) == 1) && (param_5 == 0)) ||
      ((*(int *)(*(int *)((int)this + 0x3f8) + 0x2c) == 1 && (param_5 == 1)))) &&
     (iVar1 = RKC_RPGSCRN_OBJECTDISP::GetCount((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c), iVar1 != 0)
     ) {
    while (iVar1 = iVar1 + -1, -1 < iVar1) {
      this_00 = RKC_RPGSCRN_OBJECTDISP::Get((RKC_RPGSCRN_OBJECTDISP *)&DAT_0048d54c,iVar1);
      if (this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
        this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
        if (param_5 == 0) {
          lVar2 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          iVar3 = FUN_00448b50(this,lVar2);
        }
        else {
          lVar2 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
          iVar3 = FUN_004490b0(this,lVar2);
        }
        if (iVar3 == 1) {
          return 1;
        }
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_00448b50
 * Address: 00448b50
 */

undefined4 __thiscall FUN_00448b50(void *this,int param_1)

{
  void *pvVar1;
  uint uVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined *puVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  int *unaff_EBX;
  int unaff_EBP;
  int unaff_ESI;
  undefined unaff_DI;
  undefined8 uVar9;
  int *piVar10;
  int iVar11;
  char *in_stack_ffffffc8;
  char *in_stack_ffffffcc;
  char *in_stack_ffffffd0;
  undefined *in_stack_ffffffd4;
  undefined *in_stack_ffffffd8;
  undefined *in_stack_ffffffdc;
  char *in_stack_ffffffe0;
  int in_stack_ffffffe4;
  int in_stack_ffffffe8;
  
  pvVar1 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  uVar2 = FUN_00417070(&DAT_00482df4,param_1,(void *)0x80000000);
  if (uVar2 != 0) {
    puVar3 = (undefined4 *)FUN_004299e0(pvVar1,param_1);
    if (puVar3 != (undefined4 *)0x0) {
      iVar4 = FUN_00434cd0((int)puVar3);
      uVar9 = FUN_00441580(this,iVar4);
      puVar5 = (undefined *)uVar9;
      iVar4 = FUN_00427b20(puVar3);
      if (iVar4 == 0) {
        iVar4 = FUN_00434cd0((int)puVar3);
        if (*(int *)(iVar4 + 0xec) == -1) {
          iVar6 = FUN_00434cd0((int)puVar3);
          if (*(int *)(iVar6 + 0xe8) == 1) {
            iVar6 = *(int *)((int)this + 4) + 16000000;
            pvVar1 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
            iVar6 = FUN_004299e0(pvVar1,iVar6);
            if (iVar6 != 0) {
              iVar7 = FUN_00434cd0(iVar6);
              iVar6 = *(int *)(iVar7 + 0x164);
              if (((iVar6 != 7) && (iVar6 != 10)) && (iVar6 != 9)) {
                iVar6 = FUN_004145b0(*(int *)((int)this + 0x458),-1,(int *)(iVar4 + 0x18),
                                     (int *)(iVar7 + 0x20),0,2,0);
                if (iVar6 == 1) {
                  *(undefined4 *)(iVar7 + 0x184) = 3;
                  *(undefined4 *)(iVar7 + 0x18c) = *(undefined4 *)(iVar4 + 4);
                  *(int *)(iVar7 + 400) = *(int *)(iVar4 + 0x18);
                  *(undefined4 *)(iVar7 + 0x194) = *(undefined4 *)(iVar4 + 0x1c);
                  FUN_00456230(*(int *)((int)this + 0x458));
                  FUN_00452bc0(this,(int *)&stack0xffffffc8,1);
                }
              }
            }
            FUN_00412950(&DAT_00482df4,param_1);
            return 1;
          }
        }
        else {
          puVar8 = (undefined4 *)FUN_004299e0(pvVar1,*(int *)(iVar4 + 0xec) + 14000000);
          if (puVar8 != (undefined4 *)0x0) {
            iVar4 = FUN_00434cd0((int)puVar8);
            param_1 = *(int *)(iVar4 + 4);
            puVar3 = puVar8;
          }
        }
      }
      iVar4 = FUN_00427b20(puVar3);
      if (iVar4 != 1) {
        iVar4 = FUN_00427b20(puVar3);
        if (iVar4 == 2) {
          iVar4 = *(int *)((int)this + 4) + 16000000;
          pvVar1 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
          iVar4 = FUN_004299e0(pvVar1,iVar4);
          if (iVar4 != 0) {
            iVar6 = FUN_00434cd0(iVar4);
            iVar4 = *(int *)(iVar6 + 0x164);
            if (((iVar4 != 7) && (iVar4 != 10)) && (iVar4 != 9)) {
              iVar11 = 0;
              uVar2 = 2;
              piVar10 = (int *)(iVar6 + 0x20);
              iVar7 = 0;
              iVar4 = FUN_00434cd0((int)puVar3);
              iVar4 = FUN_004145b0(*(int *)((int)this + 0x458),-1,(int *)(iVar4 + 0x18),piVar10,
                                   iVar7,uVar2,iVar11);
              if (iVar4 == 1) {
                *(undefined4 *)(iVar6 + 0x184) = 3;
                iVar4 = FUN_00434cd0((int)puVar3);
                *(undefined4 *)(iVar6 + 0x18c) = *(undefined4 *)(iVar4 + 4);
                iVar4 = FUN_00434cd0((int)puVar3);
                *(undefined4 *)(iVar6 + 400) = *(undefined4 *)(iVar4 + 0x18);
                *(undefined4 *)(iVar6 + 0x194) = *(undefined4 *)(iVar4 + 0x1c);
                FUN_00456230(*(int *)((int)this + 0x458));
                FUN_00452bc0(this,(int *)&stack0xffffffc8,1);
              }
            }
          }
          FUN_00412950(&DAT_00482df4,param_1);
          return 1;
        }
        iVar4 = FUN_00427b20(puVar3);
        if (iVar4 == 5) {
          if (*(int *)((int)this + 0x3f4) < (int)puVar5) {
            FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                         *(undefined4 *)((int)this + 0xc),(undefined4 *)((int)this + 0x2e0),
                         (undefined4 *)0x0,(undefined4 *)((int)this + 0x2e8),
                         SUB84((double)*(int *)((int)this + 0x300),0),
                         (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),1,param_1,
                         *(undefined4 *)((int)this + 0x3f0),(undefined4 *)0x0,0x3c,0,0,0);
            if (*(int *)(*(int *)((int)this + 0x3f8) + 0x5c) == 1) {
              if (*(int *)((int)this + 0x314) != 3) {
                *(undefined4 *)((int)this + 0x318) = 3;
              }
              iVar4 = *(int *)((int)this + 0x304);
            }
            else {
              if (*(int *)((int)this + 0x314) != 2) {
                *(undefined4 *)((int)this + 0x318) = 2;
              }
              iVar4 = *(int *)((int)this + 0x300);
            }
            *(double *)((int)this + 0x3b0) = (double)iVar4;
            *(undefined4 *)((int)this + 0x370) = 0;
          }
          else {
            iVar4 = FUN_00434cd0((int)puVar3);
            iVar4 = *(int *)(iVar4 + 4);
            iVar6 = FUN_00434cd0(DAT_0048ce0c);
            if (iVar4 % 10 == iVar6) {
              iVar4 = FUN_00434cd0((int)puVar3);
              if (*(int *)(iVar4 + 0x164) == 2) {
                FUN_004507a0(unaff_DI,unaff_ESI,unaff_EBP,unaff_EBX,puVar5,in_stack_ffffffc8,
                             in_stack_ffffffcc,in_stack_ffffffd0,in_stack_ffffffd4,in_stack_ffffffd8
                             ,in_stack_ffffffdc,in_stack_ffffffe0,in_stack_ffffffe4,
                             in_stack_ffffffe8);
              }
            }
          }
          FUN_00412950(&DAT_00482df4,param_1);
          return 1;
        }
        iVar4 = FUN_00427b20(puVar3);
        if (iVar4 == 3) {
          iVar4 = FUN_00434cd0((int)puVar3);
          iVar6 = *(int *)((int)this + 4) + 16000000;
          pvVar1 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
          iVar6 = FUN_004299e0(pvVar1,iVar6);
          if (iVar6 != 0) {
            iVar6 = FUN_00434cd0(iVar6);
            *(undefined4 *)(iVar6 + 0x184) = 1;
            *(undefined4 *)(iVar6 + 0x18c) = *(undefined4 *)(iVar4 + 4);
            *(undefined4 *)(iVar6 + 400) = *(undefined4 *)(iVar4 + 0x18);
            *(undefined4 *)(iVar6 + 0x194) = *(undefined4 *)(iVar4 + 0x1c);
            FUN_00456230(*(int *)((int)this + 0x458));
            FUN_00452bc0(this,(int *)&stack0xffffffc8,1);
          }
          FUN_00412950(&DAT_00482df4,param_1);
          return 1;
        }
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_004490b0
 * Address: 004490b0
 */

undefined4 __thiscall FUN_004490b0(void *this,int param_1)

{
  void *pvVar1;
  uint uVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined8 uVar5;
  int local_38 [2];
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  
  pvVar1 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  uVar2 = FUN_00417070(&DAT_00482df4,param_1,(void *)0x80000000);
  if (uVar2 != 0) {
    puVar3 = (undefined4 *)FUN_004299e0(pvVar1,param_1);
    if (puVar3 != (undefined4 *)0x0) {
      iVar4 = FUN_00434cd0((int)puVar3);
      FUN_00441580(this,iVar4);
      FUN_00427b20(puVar3);
      FUN_00427b20(puVar3);
      iVar4 = FUN_00427b20(puVar3);
      if (iVar4 == 2) {
        iVar4 = *(int *)((int)this + 4) + 16000000;
        pvVar1 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
        iVar4 = FUN_004299e0(pvVar1,iVar4);
        if (iVar4 != 0) {
          pvVar1 = (void *)FUN_00434cd0(iVar4);
          uVar5 = FUN_00453a40(pvVar1,(int)this);
          if (((int)uVar5 < 0xa0) && (*(int *)((int)pvVar1 + 0x164) != 9)) {
            *(undefined4 *)((int)pvVar1 + 0x184) = 5;
            iVar4 = FUN_00434cd0((int)puVar3);
            *(undefined4 *)((int)pvVar1 + 0x18c) = *(undefined4 *)(iVar4 + 4);
            iVar4 = FUN_00434cd0((int)puVar3);
            *(undefined4 *)((int)pvVar1 + 400) = *(undefined4 *)(iVar4 + 0x18);
            *(undefined4 *)((int)pvVar1 + 0x194) = *(undefined4 *)(iVar4 + 0x1c);
            local_38[0] = FUN_00456230(*(int *)((int)this + 0x458));
            local_30 = *(undefined4 *)((int)this + 4);
            local_2c = 0x2e;
            local_28 = *(undefined4 *)((int)pvVar1 + 0x184);
            local_24 = 0xffffffff;
            local_20 = 0;
            local_1c = 0xbff00000;
            local_14 = *(undefined4 *)((int)pvVar1 + 400);
            local_10 = *(undefined4 *)((int)pvVar1 + 0x194);
            local_18 = *(undefined4 *)((int)pvVar1 + 0x18c);
            FUN_00452bc0(this,local_38,1);
          }
        }
        FUN_00412950(&DAT_00482df4,param_1);
        return 1;
      }
      FUN_00427b20(puVar3);
      FUN_00427b20(puVar3);
    }
  }
  return 0;
}



/*
 * Function: FUN_00449240
 * Address: 00449240
 */

undefined4 __thiscall FUN_00449240(void *this,int param_1,int param_2)

{
  bool bVar1;
  void *pvVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  undefined4 *puVar8;
  undefined1 auVar9 [10];
  undefined8 uVar10;
  long lVar11;
  int local_8;
  
  pvVar2 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  if ((param_1 < 4) && (-1 < param_1)) {
    iVar3 = FUN_00434c90(DAT_0048ce0c,param_1);
    if (iVar3 == 0) {
      return 0;
    }
    if (*(int *)(iVar3 + 0x2d8) != 1) {
      return 0;
    }
    iVar4 = FUN_00434cb0((int)DAT_0048ce0c);
    if (iVar3 == iVar4) {
      return 0;
    }
    uVar10 = FUN_00441550(this,iVar3);
    if ((int)uVar10 <= *(int *)((int)this + 0x3f4)) {
      return 0;
    }
    if (param_2 != 0) {
      return 0;
    }
    FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                 *(undefined4 *)((int)this + 0xc),(undefined4 *)((int)this + 0x2e0),
                 (undefined4 *)0x0,(undefined4 *)((int)this + 0x2e8),
                 SUB84((double)*(int *)((int)this + 0x300),0),
                 (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),4,param_1,
                 *(undefined4 *)((int)this + 0x3f0),(undefined4 *)0x0,0x3c,0,0,0);
    if (*(int *)(*(int *)((int)this + 0x3f8) + 0x5c) == 1) {
      if (*(int *)((int)this + 0x314) != 3) {
        *(undefined4 *)((int)this + 0x318) = 3;
      }
      iVar3 = *(int *)((int)this + 0x304);
    }
    else {
      if (*(int *)((int)this + 0x314) != 2) {
        *(undefined4 *)((int)this + 0x318) = 2;
      }
      iVar3 = *(int *)((int)this + 0x300);
    }
    *(double *)((int)this + 0x3b0) = (double)iVar3;
    *(undefined4 *)((int)this + 0x370) = 0;
    return 1;
  }
  uVar5 = FUN_00417070(&DAT_00482df4,param_1,(void *)0x80000000);
  if (uVar5 == 0) {
    return 0;
  }
  puVar6 = (undefined4 *)FUN_004299e0(pvVar2,param_1);
  if (puVar6 == (undefined4 *)0x0) {
    return 0;
  }
  iVar3 = FUN_00434cd0((int)puVar6);
  uVar10 = FUN_00441580(this,iVar3);
  local_8 = (int)uVar10;
  bVar1 = false;
  iVar3 = FUN_00427b20(puVar6);
  if (iVar3 == 0) {
    iVar3 = FUN_00434cd0((int)puVar6);
    if (*(int *)(iVar3 + 0xec) == -1) {
      if (*(int *)((int)this + 0x3f4) < local_8) {
        if (param_2 == 0) {
          FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                       *(undefined4 *)((int)this + 0xc),(undefined4 *)((int)this + 0x2e0),
                       (undefined4 *)0x0,(undefined4 *)((int)this + 0x2e8),
                       SUB84((double)*(int *)((int)this + 0x300),0),
                       (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),1,param_1,
                       *(undefined4 *)((int)this + 0x3f0),(undefined4 *)0x0,0x3c,0,0,0);
          if (*(int *)(*(int *)((int)this + 0x3f8) + 0x5c) == 1) {
            if (*(int *)((int)this + 0x314) != 3) {
              *(undefined4 *)((int)this + 0x318) = 3;
            }
            iVar3 = *(int *)((int)this + 0x304);
          }
          else {
            if (*(int *)((int)this + 0x314) != 2) {
              *(undefined4 *)((int)this + 0x318) = 2;
            }
            iVar3 = *(int *)((int)this + 0x300);
          }
          *(double *)((int)this + 0x3b0) = (double)iVar3;
          *(undefined4 *)((int)this + 0x370) = 0;
        }
        else {
          bVar1 = true;
        }
      }
      else {
        uVar7 = FUN_00413ec0(*(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x2e0),
                             *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4));
        *(undefined4 *)((int)this + 0x31c) = uVar7;
        if (*(int *)((int)this + 0x410) == 0) {
          lVar11 = *(long *)(iVar3 + 4);
          uVar7 = *(undefined4 *)((int)this + 4);
          pvVar2 = (void *)FUN_00466410(*(int *)((int)this + 0x458));
          FUN_004308c0(pvVar2,uVar7,lVar11);
          *(undefined4 *)((int)this + 0x314) = 1;
          *(undefined4 *)((int)this + 0x318) = 0;
        }
      }
    }
    else {
      puVar8 = (undefined4 *)FUN_004299e0(pvVar2,*(int *)(iVar3 + 0xec) + 14000000);
      if (puVar8 != (undefined4 *)0x0) {
        iVar3 = FUN_00434cd0((int)puVar8);
        param_1 = *(int *)(iVar3 + 4);
        iVar3 = FUN_00434cd0((int)puVar8);
        uVar10 = FUN_00441580(this,iVar3);
        local_8 = (int)uVar10;
        puVar6 = puVar8;
      }
    }
  }
  iVar3 = FUN_00427b20(puVar6);
  if (iVar3 == 1) {
    if (*(int *)((int)this + 0x3f4) < local_8) {
      if (param_2 == 0) {
        FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                     *(undefined4 *)((int)this + 0xc),(undefined4 *)((int)this + 0x2e0),
                     (undefined4 *)0x0,(undefined4 *)((int)this + 0x2e8),
                     SUB84((double)*(int *)((int)this + 0x300),0),
                     (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),1,param_1,
                     *(undefined4 *)((int)this + 0x3f0),(undefined4 *)0x0,0x3c,0,0,0);
        if (*(int *)(*(int *)((int)this + 0x3f8) + 0x5c) == 1) {
          if (*(int *)((int)this + 0x314) != 3) {
            *(undefined4 *)((int)this + 0x318) = 3;
          }
          iVar3 = *(int *)((int)this + 0x304);
        }
        else {
          if (*(int *)((int)this + 0x314) != 2) {
            *(undefined4 *)((int)this + 0x318) = 2;
          }
          iVar3 = *(int *)((int)this + 0x300);
        }
        *(double *)((int)this + 0x3b0) = (double)iVar3;
        *(undefined4 *)((int)this + 0x370) = 0;
      }
      else {
        bVar1 = true;
      }
    }
    else {
      iVar3 = FUN_00434cd0((int)puVar6);
      uVar7 = FUN_00413ec0(*(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x2e0),
                           *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4));
      *(undefined4 *)((int)this + 0x31c) = uVar7;
      if (*(int *)((int)this + 0x410) == 0) {
        lVar11 = *(long *)(iVar3 + 4);
        uVar7 = *(undefined4 *)((int)this + 4);
        pvVar2 = (void *)FUN_00466410(*(int *)((int)this + 0x458));
        FUN_004308c0(pvVar2,uVar7,lVar11);
        *(undefined4 *)((int)this + 0x314) = 1;
        *(undefined4 *)((int)this + 0x318) = 0;
      }
    }
  }
  iVar3 = FUN_00427b20(puVar6);
  if (iVar3 == 2) {
    iVar3 = FUN_00450630((int)this);
    if ((iVar3 < 0x13) || (0x14 < iVar3)) {
      if (*(int *)((int)this + 0x3f4) < local_8) {
        if (param_2 != 0) goto LAB_004497f3;
        FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                     *(undefined4 *)((int)this + 0xc),(undefined4 *)((int)this + 0x2e0),
                     (undefined4 *)0x0,(undefined4 *)((int)this + 0x2e8),
                     SUB84((double)*(int *)((int)this + 0x300),0),
                     (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),1,param_1,
                     *(undefined4 *)((int)this + 0x3f0),(undefined4 *)0x0,0x3c,0,0,0);
        if (*(int *)(*(int *)((int)this + 0x3f8) + 0x5c) == 1) {
          if (*(int *)((int)this + 0x314) != 3) {
            *(undefined4 *)((int)this + 0x318) = 3;
          }
          iVar3 = *(int *)((int)this + 0x304);
        }
        else {
          if (*(int *)((int)this + 0x314) != 2) {
            *(undefined4 *)((int)this + 0x318) = 2;
          }
          iVar3 = *(int *)((int)this + 0x300);
        }
        *(double *)((int)this + 0x3b0) = (double)iVar3;
        *(undefined4 *)((int)this + 0x370) = 0;
      }
      else if (DAT_0048d540 == 1) {
        iVar3 = FUN_00434cd0((int)puVar6);
        iVar4 = *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar3 = FUN_00434cd0((int)puVar6);
        uVar7 = FUN_00413ec0(*(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x2e0),iVar4);
        *(undefined4 *)((int)this + 0x31c) = uVar7;
        uVar7 = FUN_00450630((int)this);
        *(undefined4 *)((int)this + 0x318) = uVar7;
        *(int *)((int)this + 0x1264) = param_1;
        iVar3 = FUN_00434cd0((int)puVar6);
        iVar4 = *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar3 = FUN_00434cd0((int)puVar6);
        iVar3 = *(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x2e0);
        goto LAB_00449862;
      }
    }
    else if (DAT_0048d540 == 1) {
LAB_004497f3:
      iVar3 = FUN_00434cd0((int)puVar6);
      iVar3 = *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4);
      iVar4 = FUN_00434cd0((int)puVar6);
      uVar7 = FUN_00413ec0(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),iVar3);
      *(undefined4 *)((int)this + 0x31c) = uVar7;
      uVar7 = FUN_00450630((int)this);
      *(undefined4 *)((int)this + 0x318) = uVar7;
      *(int *)((int)this + 0x1264) = param_1;
      iVar3 = FUN_00434cd0((int)puVar6);
      iVar4 = *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4);
      iVar3 = FUN_00434cd0((int)puVar6);
      iVar3 = *(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x2e0);
LAB_00449862:
      auVar9 = FUN_00414080(iVar3,iVar4);
      *(double *)((int)this + 0x1268) = (double)(float10)auVar9;
    }
  }
  iVar3 = FUN_00427b20(puVar6);
  if (iVar3 == 5) {
    return 0;
  }
  iVar3 = FUN_00427b20(puVar6);
  if (iVar3 == 3) {
    if (local_8 <= *(int *)((int)this + 0x3f4)) {
      iVar3 = FUN_00434cd0((int)puVar6);
      if (*(int *)((int)this + 0x1624) == 0) {
        FUN_004526a0(this,param_1,*(void **)(iVar3 + 0xcc),(void *)0x0);
      }
      goto LAB_0044996f;
    }
    if (param_2 == 0) {
      FUN_00454210((void *)((int)this + 0x378),*(undefined4 *)((int)this + 0x458),
                   *(undefined4 *)((int)this + 0xc),(undefined4 *)((int)this + 0x2e0),
                   (undefined4 *)0x0,(undefined4 *)((int)this + 0x2e8),
                   SUB84((double)*(int *)((int)this + 0x300),0),
                   (int)((ulonglong)(double)*(int *)((int)this + 0x300) >> 0x20),1,param_1,
                   *(undefined4 *)((int)this + 0x3f0),(undefined4 *)0x0,0x3c,0,0,0);
      if (*(int *)(*(int *)((int)this + 0x3f8) + 0x5c) == 1) {
        if (*(int *)((int)this + 0x314) != 3) {
          *(undefined4 *)((int)this + 0x318) = 3;
        }
        iVar3 = *(int *)((int)this + 0x304);
      }
      else {
        if (*(int *)((int)this + 0x314) != 2) {
          *(undefined4 *)((int)this + 0x318) = 2;
        }
        iVar3 = *(int *)((int)this + 0x300);
      }
      *(double *)((int)this + 0x3b0) = (double)iVar3;
      *(undefined4 *)((int)this + 0x370) = 0;
      goto LAB_0044996f;
    }
  }
  else {
LAB_0044996f:
    if (!bVar1) goto LAB_00449a19;
  }
  iVar3 = FUN_00450630((int)this);
  if (((0x12 < iVar3) && (iVar3 < 0x15)) && (DAT_0048d540 == 1)) {
    iVar3 = FUN_00434cd0((int)puVar6);
    iVar3 = *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4);
    iVar4 = FUN_00434cd0((int)puVar6);
    uVar7 = FUN_00413ec0(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),iVar3);
    *(undefined4 *)((int)this + 0x31c) = uVar7;
    uVar7 = FUN_00450630((int)this);
    *(undefined4 *)((int)this + 0x318) = uVar7;
    *(int *)((int)this + 0x1264) = param_1;
    iVar3 = FUN_00434cd0((int)puVar6);
    iVar4 = *(int *)(iVar3 + 0x1c) - *(int *)((int)this + 0x2e4);
    iVar3 = FUN_00434cd0((int)puVar6);
    auVar9 = FUN_00414080(*(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x2e0),iVar4);
    *(double *)((int)this + 0x1268) = (double)(float10)auVar9;
  }
LAB_00449a19:
  FUN_00412950(&DAT_00482df4,param_1);
  return 1;
}



/*
 * Function: FUN_00449a40
 * Address: 00449a40
 */

undefined4 __thiscall FUN_00449a40(void *this,int param_1,int param_2)

{
  bool bVar1;
  void *this_00;
  uint uVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  long lVar6;
  int iVar7;
  undefined4 uVar8;
  int iVar9;
  undefined1 auVar10 [10];
  
  this_00 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  uVar2 = FUN_00417070(&DAT_00482df4,param_1,(void *)0x80000000);
  if (uVar2 == 0) {
    return 0;
  }
  puVar3 = (undefined4 *)FUN_004299e0(this_00,param_1);
  if (puVar3 == (undefined4 *)0x0) {
    return 0;
  }
  iVar4 = FUN_00434cd0((int)puVar3);
  FUN_00441580(this,iVar4);
  bVar1 = false;
  iVar4 = FUN_00427b20(puVar3);
  if ((iVar4 == 0) && (iVar4 = FUN_00434cd0((int)puVar3), *(int *)(iVar4 + 0xec) != -1)) {
    iVar4 = FUN_00434cd0((int)puVar3);
    puVar5 = (undefined4 *)FUN_004299e0(this_00,*(int *)(iVar4 + 0xec) + 14000000);
    if (puVar5 != (undefined4 *)0x0) {
      iVar4 = FUN_00434cd0((int)puVar5);
      param_1 = *(int *)(iVar4 + 4);
      puVar3 = puVar5;
    }
  }
  iVar4 = FUN_00427b20(puVar3);
  if (iVar4 == 1) {
    return 0;
  }
  iVar4 = FUN_00427b20(puVar3);
  if (iVar4 == 2) {
    if (((*(int *)((int)this + 0x1288) == 0) && (param_2 == 0)) ||
       ((param_2 == 1 && ((DAT_0048d540 == 1 && (*(int *)((int)this + 0x1288) == 0)))))) {
      iVar4 = *(int *)((int)this + 0x127c);
      if ((iVar4 != -1) && (*(int *)((int)this + iVar4 * 4 + 0x1440) == 3)) {
        switch(iVar4) {
        case 1:
        case 2:
        case 3:
        case 0xb:
        case 0xc:
        case 0xd:
        case 0xe:
        case 0xf:
        case 0x10:
        case 0x15:
          goto switchD_00449b4a_caseD_1;
        }
      }
    }
    else {
switchD_00449b4a_caseD_1:
      bVar1 = true;
    }
  }
  iVar4 = FUN_00427b20(puVar3);
  if (((iVar4 == 5) || (iVar4 = FUN_00427b20(puVar3), iVar4 == 3)) || (!bVar1)) {
    return 0;
  }
  if (((*(int *)((int)this + 0x1288) == 0) && (param_2 == 0)) ||
     ((param_2 == 1 && ((DAT_0048d540 == 1 && (*(int *)((int)this + 0x1288) == 0)))))) {
    iVar4 = FUN_00451e60(this,*(int *)((int)this + 0x127c));
    lVar6 = FUN_00417410(*(long *)((int)this + 0x127c),iVar4,2);
    iVar4 = FUN_0044f610(this,lVar6);
    if (iVar4 <= *(int *)((int)this + 0x1ac)) {
      switch(*(undefined4 *)((int)this + 0x127c)) {
      case 1:
      case 0xb:
      case 0xe:
      case 0x15:
        iVar9 = FUN_00434cd0((int)puVar3);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar7 = FUN_00434cd0((int)puVar3);
        uVar8 = FUN_00413ec0(*(int *)(iVar7 + 0x18) - *(int *)((int)this + 0x2e0),iVar9);
        *(undefined4 *)((int)this + 0x31c) = uVar8;
        *(int *)((int)this + 0x318) = *(int *)((int)this + 0x127c) + 0x16;
        *(int *)((int)this + 0x1264) = param_1;
        iVar9 = FUN_00434cd0((int)puVar3);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar7 = FUN_00434cd0((int)puVar3);
        iVar7 = *(int *)(iVar7 + 0x18) - *(int *)((int)this + 0x2e0);
        break;
      case 2:
      case 0xd:
      case 0x10:
        iVar9 = FUN_00434cd0((int)puVar3);
        iVar7 = *(int *)(iVar9 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar9 = FUN_00434cd0((int)puVar3);
        uVar8 = FUN_00413ec0(*(int *)(iVar9 + 0x18) - *(int *)((int)this + 0x2e0),iVar7);
        *(undefined4 *)((int)this + 0x31c) = uVar8;
        *(int *)((int)this + 0x318) = *(int *)((int)this + 0x127c) + 0x16;
        *(int *)((int)this + 0x1264) = param_1;
        iVar9 = FUN_00434cd0((int)puVar3);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar7 = FUN_00434cd0((int)puVar3);
        iVar7 = *(int *)(iVar7 + 0x18) - *(int *)((int)this + 0x2e0);
        break;
      default:
        goto switchD_00449c02_caseD_4;
      case 0xf:
        if ((*(int *)((int)this + 0x4f4) == 0) ||
           (((iVar9 = FUN_004663a0(*(int *)((int)this + 0x4f4)), iVar9 != 0 &&
             (iVar9 = FUN_004663a0(*(int *)((int)this + 0x4f4)), iVar9 != 3)) &&
            (iVar9 = FUN_004663a0(*(int *)((int)this + 0x4f4)), iVar9 != 1))))
        goto switchD_00449c02_caseD_4;
      case 3:
      case 0xc:
        iVar9 = FUN_00434cd0((int)puVar3);
        iVar7 = *(int *)(iVar9 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar9 = FUN_00434cd0((int)puVar3);
        uVar8 = FUN_00413ec0(*(int *)(iVar9 + 0x18) - *(int *)((int)this + 0x2e0),iVar7);
        *(undefined4 *)((int)this + 0x31c) = uVar8;
        *(int *)((int)this + 0x1264) = param_1;
        *(int *)((int)this + 0x318) = *(int *)((int)this + 0x127c) + 0x16;
        iVar9 = FUN_00434cd0((int)puVar3);
        iVar9 = *(int *)(iVar9 + 0x1c) - *(int *)((int)this + 0x2e4);
        iVar7 = FUN_00434cd0((int)puVar3);
        iVar7 = *(int *)(iVar7 + 0x18) - *(int *)((int)this + 0x2e0);
      }
      auVar10 = FUN_00414080(iVar7,iVar9);
      *(double *)((int)this + 0x1268) = (double)(float10)auVar10;
      *(int *)((int)this + 0x1ac) = *(int *)((int)this + 0x1ac) - iVar4;
    }
  }
  else {
    iVar4 = FUN_00434cd0((int)puVar3);
    iVar9 = *(int *)(iVar4 + 0x1c) - *(int *)((int)this + 0x2e4);
    iVar4 = FUN_00434cd0((int)puVar3);
    uVar8 = FUN_00413ec0(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),iVar9);
    *(undefined4 *)((int)this + 0x31c) = uVar8;
    uVar8 = FUN_00450630((int)this);
    *(undefined4 *)((int)this + 0x318) = uVar8;
    *(int *)((int)this + 0x1264) = param_1;
    iVar4 = FUN_00434cd0((int)puVar3);
    iVar9 = *(int *)(iVar4 + 0x1c) - *(int *)((int)this + 0x2e4);
    iVar4 = FUN_00434cd0((int)puVar3);
    auVar10 = FUN_00414080(*(int *)(iVar4 + 0x18) - *(int *)((int)this + 0x2e0),iVar9);
    *(double *)((int)this + 0x1268) = (double)(float10)auVar10;
    if (*(int *)((int)this + 0x2c) == 6) {
      if (*(int *)((int)this + 0x318) == 8) {
        *(undefined4 *)((int)this + 0x318) = 0xb;
      }
      if (*(int *)((int)this + 0x318) == 9) {
        *(undefined4 *)((int)this + 0x318) = 0xc;
      }
      if (*(int *)((int)this + 0x318) == 10) {
        *(undefined4 *)((int)this + 0x318) = 0xd;
      }
    }
  }
switchD_00449c02_caseD_4:
  FUN_00412950(&DAT_00482df4,param_1);
  return 1;
}



/*
 * Function: FUN_00449ef0
 * Address: 00449ef0
 */

undefined4 __thiscall FUN_00449ef0(void *this,int param_1,void *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  void *pvVar5;
  int *piVar6;
  undefined4 uVar7;
  int *piVar8;
  int local_8;
  undefined4 local_4;
  
  if (param_1 != -1) {
    FUN_00427a00(*(void **)((int)this + 0x458),param_1,(int)param_2);
  }
  iVar1 = FUN_00466480((int)param_2);
  if (iVar1 == -1) {
    if (DAT_0048ce3c != 1) {
      iVar1 = FUN_00456210((int)param_2);
      if ((iVar1 == 4) && (iVar1 = FUN_00466390((int)param_2), iVar1 == 0)) {
        pvVar5 = (void *)FUN_00466cd0((int *)((int)this + 0x514));
        while (pvVar5 != (void *)0x0) {
          iVar1 = FUN_004661c0(pvVar5,0);
          iVar2 = FUN_004661c0(param_2,0);
          if (iVar2 < 10000 - iVar1) {
            iVar1 = FUN_004661c0(pvVar5,0);
            iVar2 = FUN_004661c0(param_2,0);
            FUN_00466440(pvVar5,iVar1 + iVar2);
            FUN_00465640((int *)&param_2);
            break;
          }
          iVar1 = FUN_004661c0(param_2,0);
          iVar2 = FUN_004661c0(pvVar5,0);
          FUN_00466440(param_2,iVar2 + -10000 + iVar1);
          FUN_00466440(pvVar5,10000);
          pvVar5 = (void *)FUN_00466cd0((int *)((int)this + 0x514));
        }
      }
      if (param_2 == (void *)0x0) {
        return 1;
      }
      iVar1 = FUN_00456210((int)param_2);
      if ((iVar1 == 4) && (iVar1 = FUN_00466390((int)param_2), iVar1 == 1)) {
        if (*(int *)((int)this + 0x328) < *(int *)((int)this + 0x2c0)) {
          FUN_00465640((int *)&param_2);
          *(int *)((int)this + 0x328) = *(int *)((int)this + 0x328) + 1;
        }
      }
      else {
        if (param_2 == (void *)0x0) {
          return 1;
        }
        iVar1 = FUN_00456210((int)param_2);
        if ((iVar1 == 3) && (piVar6 = (int *)FUN_004669f0((int)param_2), *piVar6 != 0)) {
          piVar8 = (int *)0x0;
          piVar6 = &local_8;
          iVar3 = 0;
          iVar1 = FUN_004308b0((int)param_2);
          iVar2 = FUN_004308a0((int)param_2);
          iVar1 = FUN_00466f80((void *)((int)this + 0x518),4,2,iVar2,iVar1,piVar6,iVar3,piVar8);
          if (iVar1 == 1) {
            FUN_004456d0(this,0,0x30,1);
            FUN_004663e0(param_2,local_8,local_4);
            FUN_00466bc0((void *)((int)this + 0x518),(int)param_2);
            return 1;
          }
        }
        if (param_2 == (void *)0x0) {
          return 1;
        }
        piVar8 = (int *)0x0;
        piVar6 = &local_8;
        iVar3 = 1;
        iVar1 = FUN_004308b0((int)param_2);
        iVar2 = FUN_004308a0((int)param_2);
        iVar1 = FUN_00466f80((void *)((int)this + 0x514),9,4,iVar2,iVar1,piVar6,iVar3,piVar8);
        if (iVar1 == 1) {
          FUN_004456d0(this,0,0x30,1);
          FUN_004663e0(param_2,local_8,local_4);
          FUN_00466bc0((void *)((int)this + 0x514),(int)param_2);
          param_2 = (void *)0x0;
          FUN_00452910((int *)this);
          FUN_00450080(this);
        }
      }
      if (param_2 == (void *)0x0) {
        return 1;
      }
      return 0;
    }
    if (DAT_0048ce34 != (void *)0x0) {
      return 0;
    }
    DAT_0048ce34 = param_2;
    if (param_2 == (void *)0x0) {
      return 1;
    }
  }
  else {
    iVar1 = FUN_00466390((int)param_2);
    iVar2 = FUN_00456210((int)param_2);
    iVar3 = FUN_00466480((int)param_2);
    iVar1 = FUN_004671c0((void *)((int)this + iVar3 * 4 + 0x548),iVar2,iVar1);
    if (iVar1 != 0) {
      return 0;
    }
    iVar1 = FUN_00466490((int)param_2);
    uVar7 = *(undefined4 *)(iVar1 + 4);
    puVar4 = (undefined4 *)FUN_00466490((int)param_2);
    FUN_004663e0(param_2,*puVar4,uVar7);
    pvVar5 = param_2;
    iVar1 = FUN_00466480((int)param_2);
    FUN_00466bc0((void *)((int)this + iVar1 * 4 + 0x548),(int)pvVar5);
  }
  iVar3 = 1;
  iVar2 = -1;
  piVar6 = (int *)0x0;
  iVar1 = FUN_00466110(param_2,0);
  FUN_00417260(0,iVar1,piVar6,iVar2,iVar3);
  return 1;
}



/*
 * Function: FUN_0044a240
 * Address: 0044a240
 */

undefined4 __thiscall FUN_0044a240(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  void *pvVar5;
  int iVar6;
  int iVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  int local_30;
  undefined4 local_24 [4];
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  iVar7 = param_1;
  iVar1 = FUN_00456210(param_1);
  if (iVar1 != 3) {
    return 0;
  }
  local_24[0] = *(undefined4 *)((int)this + 0x4e8);
  local_24[1] = *(undefined4 *)((int)this + 0x4ec);
  local_24[2] = *(undefined4 *)((int)this + 0x4f0);
  local_24[3] = *(undefined4 *)((int)this + 0x4f4);
  local_14 = *(undefined4 *)((int)this + 0x4f8);
  iVar1 = 0;
  local_10 = *(undefined4 *)((int)this + 0x4fc);
  local_c = *(undefined4 *)((int)this + 0x500);
  local_30 = 0;
  local_8 = *(undefined4 *)((int)this + 0x504);
  local_4 = *(undefined4 *)((int)this + 0x508);
  param_1 = 0;
  do {
    pvVar5 = (void *)local_24[param_1];
    if (pvVar5 == (void *)0x0) goto LAB_0044a33e;
    iVar2 = FUN_00456210((int)pvVar5);
    if (iVar2 == 0) {
      iVar2 = FUN_00467740(pvVar5,0);
LAB_0044a322:
      if (iVar2 != 0) {
        local_30 = local_30 + *(int *)(iVar2 + 0x108);
        iVar1 = iVar1 + *(int *)(iVar2 + 0x114);
      }
    }
    else if (iVar2 == 1) {
      if (((param_1 != 4) || (*(int *)((int)this + 0x4f4) == 0)) ||
         (iVar2 = FUN_004672f0(*(int *)((int)this + 0x4f4)), iVar2 == 0)) {
        iVar2 = FUN_00466900(pvVar5,0);
        goto LAB_0044a322;
      }
    }
    else if (iVar2 == 2) {
      iVar2 = FUN_004659a0(pvVar5,0);
      goto LAB_0044a322;
    }
LAB_0044a33e:
    param_1 = param_1 + 1;
  } while (param_1 < 9);
  iVar2 = *(int *)((int)this + 0x1ac);
  iVar6 = *(int *)((int)this + 0x1a4);
  if (iVar6 != *(int *)((int)this + 0x1a0)) {
    iVar3 = FUN_004669f0(iVar7);
    *(int *)((int)this + 0x1a4) =
         *(int *)((int)this + 0x1a4) + (*(int *)(iVar3 + 4) * (local_30 + 100)) / 100;
    iVar3 = *(int *)((int)this + 0x1a0);
    iVar4 = FUN_004669f0(iVar7);
    iVar4 = *(int *)((int)this + 0x1a4) +
            (((*(int *)(iVar4 + 0xc) * iVar3) / 100) * (local_30 + 100)) / 100;
    *(int *)((int)this + 0x1a4) = iVar4;
    if (iVar3 < iVar4) {
      *(int *)((int)this + 0x1a4) = iVar3;
    }
  }
  if (*(int *)((int)this + 0x1ac) != *(int *)((int)this + 0x1a8)) {
    iVar3 = FUN_004669f0(iVar7);
    *(int *)((int)this + 0x1ac) =
         *(int *)((int)this + 0x1ac) + (*(int *)(iVar3 + 8) * (iVar1 + 100)) / 100;
    iVar3 = *(int *)((int)this + 0x1a8);
    iVar4 = FUN_004669f0(iVar7);
    iVar1 = *(int *)((int)this + 0x1ac) +
            (((*(int *)(iVar4 + 0x10) * iVar3) / 100) * (iVar1 + 100)) / 100;
    *(int *)((int)this + 0x1ac) = iVar1;
    if (iVar3 < iVar1) {
      *(int *)((int)this + 0x1ac) = iVar3;
    }
  }
  if ((iVar6 != *(int *)((int)this + 0x1a4)) || (iVar2 != *(int *)((int)this + 0x1ac)))
  goto LAB_0044a5c5;
  iVar1 = *(int *)((int)this + 4) + 16000000;
  pvVar5 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  iVar1 = FUN_004299e0(pvVar5,iVar1);
  if (iVar1 != 0) {
    iVar2 = FUN_00434cd0(iVar1);
    iVar1 = *(int *)(iVar2 + 0xfc);
    if ((0 < iVar1) && (iVar1 != *(int *)(iVar2 + 0xf8))) {
      iVar3 = FUN_004669f0(iVar7);
      iVar6 = *(int *)(iVar2 + 0xf8);
      *(int *)(iVar2 + 0xfc) = *(int *)(iVar2 + 0xfc) + *(int *)(iVar3 + 0x14);
      iVar3 = FUN_004669f0(iVar7);
      iVar3 = *(int *)(iVar2 + 0xfc) + (*(int *)(iVar3 + 0x18) * iVar6) / 100;
      *(int *)(iVar2 + 0xfc) = iVar3;
      if (iVar6 < iVar3) {
        *(int *)(iVar2 + 0xfc) = iVar6;
      }
    }
    if (iVar1 != *(int *)(iVar2 + 0xfc)) goto LAB_0044a5c5;
  }
  iVar1 = *(int *)((int)this + 0x74);
  iVar2 = *(int *)((int)this + 0x78);
  iVar6 = FUN_004669f0(iVar7);
  if (*(int *)(iVar6 + 0x1c) == -2) {
    *(undefined4 *)((int)this + 0x74) = 0;
    *(undefined4 *)((int)this + 0x78) = 0;
LAB_0044a5a1:
    FUN_00450080(this);
    FUN_00452a90((int *)this);
  }
  else {
    iVar6 = FUN_004669f0(iVar7);
    if (*(int *)(iVar6 + 0x1c) != -1) {
      uVar9 = 0;
      iVar6 = FUN_004669f0(iVar7);
      uVar8 = *(undefined4 *)(iVar6 + 0x20);
      iVar7 = FUN_004669f0(iVar7);
      FUN_0044fd10(*(undefined4 *)(iVar7 + 0x1c),uVar8,uVar9);
      goto LAB_0044a5a1;
    }
  }
  if ((iVar1 == *(int *)((int)this + 0x74)) && (iVar2 == *(int *)((int)this + 0x78))) {
    return 0;
  }
LAB_0044a5c5:
  FUN_004456d0(this,0,0x10,1);
  return 1;
}



/*
 * Function: FUN_0044a5f0
 * Address: 0044a5f0
 */

undefined4 __fastcall FUN_0044a5f0(void *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  
  uVar5 = 0;
  if (DAT_0048ce34 == 0) {
    piVar1 = *(int **)((int)param_1 + 0x3fc);
    iVar2 = *piVar1;
    if ((((iVar2 < 0x165) || (0x1e4 < iVar2)) || (piVar1[1] < 0x19d)) || (0x1bc < piVar1[1])) {
      if (iVar2 < 0x195) {
        return 0;
      }
      if (0x214 < iVar2) {
        return 0;
      }
      if (piVar1[1] < 0x1bd) {
        return 0;
      }
      if (0x1dc < piVar1[1]) {
        return 0;
      }
      iVar4 = 1;
      iVar2 = iVar2 + -0x195 + (iVar2 + -0x195 >> 0x1f & 0x1fU);
    }
    else {
      iVar2 = iVar2 + -0x165 + (iVar2 + -0x165 >> 0x1f & 0x1fU);
      iVar4 = 0;
    }
    uVar5 = 1;
    iVar2 = FUN_00466b00((void *)((int)param_1 + 0x518),iVar2 >> 5,iVar4,-1,-1);
    if ((iVar2 != 0) && (iVar4 = FUN_0044a240(param_1,iVar2), iVar4 == 1)) {
      iVar4 = FUN_00466390(iVar2);
      iVar3 = FUN_00456210(iVar2);
      iVar4 = FUN_004671c0((void *)((int)param_1 + 0x514),iVar3,iVar4);
      if (iVar4 != 0) {
        FUN_00466c40((void *)((int)param_1 + 0x514),iVar4);
        return 1;
      }
      FUN_00466c40((void *)((int)param_1 + 0x518),iVar2);
    }
  }
  return uVar5;
}



/*
 * Function: FUN_0044a6f0
 * Address: 0044a6f0
 */

bool __fastcall FUN_0044a6f0(void *param_1)

{
  int *piVar1;
  bool bVar2;
  int iVar3;
  void *this;
  bool bVar4;
  int local_8;
  int local_4;
  
  bVar4 = false;
  bVar2 = false;
  if (DAT_0048ce3c == 0) {
    return false;
  }
  iVar3 = **(int **)((int)param_1 + 0x3fc);
  if (((0x13f < iVar3) && (bVar2 = (*(int **)((int)param_1 + 0x3fc))[1] < 0x19c, 0x13f < iVar3)) &&
     (iVar3 = FUN_00406aa0(&DAT_00482df4,-1,2), iVar3 != 1)) {
    iVar3 = FUN_00447290(**(int **)((int)param_1 + 0x3fc),(*(int **)((int)param_1 + 0x3fc))[1],
                         &local_4,&local_8);
    switch(iVar3) {
    case 0:
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
    case 7:
    case 8:
    case 10:
      break;
    case 9:
      if (DAT_0048ce34 == 0) {
        this = (void *)FUN_00466b00((void *)((int)param_1 + 0x514),local_4,local_8,-1,-1);
        if (this != (void *)0x0) {
          if (((DAT_0048ce34 == 0) && (iVar3 = FUN_00456210((int)this), iVar3 == 4)) &&
             (iVar3 = FUN_00466390((int)this), iVar3 == 0)) {
            *(void **)((int)param_1 + 0x1570) = this;
            *(undefined4 *)((int)param_1 + 0x1574) = 0;
            PostMessageA(DAT_00482778,0x405,0,0);
            PostMessageA(DAT_00482778,0x403,0,0);
            piVar1 = *(int **)((int)param_1 + 0x3fc);
            FUN_004661c0(this,0);
            FUN_00441ab0(param_1,*piVar1 + -0x18,piVar1[1] + -0x18);
            return true;
          }
          iVar3 = FUN_0044a240(param_1,(int)this);
          if (iVar3 == 1) {
            FUN_00466c40((void *)((int)param_1 + 0x514),(int)this);
          }
        }
      }
      break;
    default:
      bVar4 = *(int *)((int)param_1 + 0x588) != 2;
    }
    if ((*(int *)((int)param_1 + 0x588) != 1) && (bVar4)) {
      DAT_0048ce3c = 0;
      return true;
    }
  }
  return bVar2;
}



/*
 * Function: FUN_0044a8c0
 * Address: 0044a8c0
 */

undefined4 __fastcall FUN_0044a8c0(int param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0;
  if (((DAT_0048ce38 == 1) && (**(int **)(param_1 + 0x3fc) < 0x140)) &&
     ((*(int **)(param_1 + 0x3fc))[1] < 0x19c)) {
    DAT_0048ce38 = 0;
    uVar1 = 1;
  }
  return uVar1;
}



/*
 * Function: FUN_0044a8f0
 * Address: 0044a8f0
 */

undefined4 __fastcall FUN_0044a8f0(void *param_1)

{
  int iVar1;
  bool bVar2;
  int *piVar3;
  int iVar4;
  undefined4 local_4;
  
  local_4 = 0;
  if (DAT_0048ce40 == 0) {
    return 0;
  }
  if ((**(int **)((int)param_1 + 0x3fc) < 0x140) && ((*(int **)((int)param_1 + 0x3fc))[1] < 0x19c))
  {
    bVar2 = true;
    local_4 = 1;
    iVar4 = 0x1d;
    piVar3 = &DAT_0048d508;
    do {
      iVar1 = **(int **)((int)param_1 + 0x3fc);
      if ((((iVar4 <= iVar1) && (iVar1 < iVar4 + 0x20)) &&
          (iVar1 = (*(int **)((int)param_1 + 0x3fc))[1], 0x163 < iVar1)) && (iVar1 < 0x184)) {
        if (*piVar3 != -1) {
          *piVar3 = -1;
          FUN_004456d0(param_1,0,0x39,1);
        }
        bVar2 = false;
      }
      piVar3 = piVar3 + 1;
      iVar4 = iVar4 + 0x20;
    } while ((int)piVar3 < 0x48d528);
    if (bVar2) {
      DAT_0048ce40 = 0;
      return 1;
    }
  }
  return local_4;
}



/*
 * Function: FUN_0044a9b0
 * Address: 0044a9b0
 */

undefined4 __fastcall FUN_0044a9b0(int param_1)

{
  int *piVar1;
  undefined4 uVar2;
  
  piVar1 = *(int **)(param_1 + 0x3fc);
  uVar2 = 0;
  if (((((0x24c < *piVar1) && (*piVar1 < 0x280)) && (0x191 < piVar1[1])) && (piVar1[1] < 0x19e)) ||
     (0x19b < piVar1[1])) {
    uVar2 = 1;
  }
  return uVar2;
}



/*
 * Function: FUN_0044a9f0
 * Address: 0044a9f0
 */

undefined4 __fastcall FUN_0044a9f0(void *param_1)

{
  int iVar1;
  int *piVar2;
  void *this;
  int iVar3;
  undefined4 local_4;
  
  local_4 = 0;
  if (DAT_0048ce48 == 1) {
    iVar3 = **(int **)((int)param_1 + 0x3fc);
    if ((iVar3 < 0x140) && (iVar1 = (*(int **)((int)param_1 + 0x3fc))[1], iVar1 < 0x19c)) {
      local_4 = 1;
      if ((iVar3 < 0x10) || (((0x12f < iVar3 || (iVar1 < 0x48)) || (0x187 < iVar1)))) {
        DAT_0048ce48 = 0;
      }
      else if (DAT_0048ce34 == 0) {
        this = (void *)FUN_00466b00((void *)((int)param_1 + 0x51c),
                                    (int)(iVar3 + -0x10 + (iVar3 + -0x10 >> 0x1f & 0x1fU)) >> 5,
                                    (int)(iVar1 + -0x48 + (iVar1 + -0x48 >> 0x1f & 0x1fU)) >> 5,-1,
                                    -1);
        if (this != (void *)0x0) {
          if (DAT_0048ce34 == 0) {
            iVar3 = FUN_00456210((int)this);
            if (iVar3 == 4) {
              iVar3 = FUN_00466390((int)this);
              if (iVar3 == 0) {
                *(void **)((int)param_1 + 0x1570) = this;
                *(undefined4 *)((int)param_1 + 0x1574) = 1;
                PostMessageA(DAT_00482778,0x405,0,0);
                PostMessageA(DAT_00482778,0x403,0,0);
                piVar2 = *(int **)((int)param_1 + 0x3fc);
                FUN_004661c0(this,0);
                FUN_00441ab0(param_1,*piVar2 + -0x18,piVar2[1] + -0x18);
                return 1;
              }
            }
          }
          iVar3 = FUN_0044a240(param_1,(int)this);
          if (iVar3 == 1) {
            FUN_00466c40((void *)((int)param_1 + 0x51c),(int)this);
            return 1;
          }
        }
      }
    }
  }
  return local_4;
}



/*
 * Function: FUN_0044ab60
 * Address: 0044ab60
 */

undefined4 __fastcall FUN_0044ab60(void *param_1)

{
  int iVar1;
  int *piVar2;
  void *this;
  int iVar3;
  undefined4 uVar4;
  
  uVar4 = 0;
  if (DAT_0048ce4c == 1) {
    iVar3 = **(int **)((int)param_1 + 0x3fc);
    if ((iVar3 < 0x140) && (iVar1 = (*(int **)((int)param_1 + 0x3fc))[1], iVar1 < 0x19c)) {
      uVar4 = 1;
      if ((iVar3 < 0x10) || (((0x12f < iVar3 || (iVar1 < 0x48)) || (0x187 < iVar1)))) {
        DAT_0048ce4c = 0;
      }
      else if (DAT_0048ce34 == 0) {
        this = (void *)FUN_00466b00((void *)((int)param_1 +
                                            *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                                    (int)(iVar3 + -0x10 + (iVar3 + -0x10 >> 0x1f & 0x1fU)) >> 5,
                                    (int)(iVar1 + -0x48 + (iVar1 + -0x48 >> 0x1f & 0x1fU)) >> 5,-1,
                                    -1);
        if (this != (void *)0x0) {
          if (DAT_0048ce34 == 0) {
            iVar3 = FUN_00456210((int)this);
            if (iVar3 == 4) {
              iVar3 = FUN_00466390((int)this);
              if (iVar3 == 0) {
                *(void **)((int)param_1 + 0x1570) = this;
                *(undefined4 *)((int)param_1 + 0x1574) = 2;
                PostMessageA(DAT_00482778,0x405,0,0);
                PostMessageA(DAT_00482778,0x403,0,0);
                piVar2 = *(int **)((int)param_1 + 0x3fc);
                FUN_004661c0(this,0);
                FUN_00441ab0(param_1,*piVar2 + -0x18,piVar2[1] + -0x18);
                return 1;
              }
            }
          }
          iVar3 = FUN_0044a240(param_1,(int)this);
          if (iVar3 == 1) {
            FUN_00466c40((void *)((int)param_1 + *(int *)((int)param_1 + 0x558) * 4 + 0x520),
                         (int)this);
            return 1;
          }
        }
      }
    }
  }
  return uVar4;
}



/*
 * Function: FUN_0044acd0
 * Address: 0044acd0
 */

undefined4 __fastcall FUN_0044acd0(int param_1)

{
  if (((DAT_0048ce50 == 1) && (**(int **)(param_1 + 0x3fc) < 0x140)) &&
     ((*(int **)(param_1 + 0x3fc))[1] < 0x19c)) {
    DAT_0048ce50 = 0;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0044ad10
 * Address: 0044ad10
 */

undefined4 __fastcall FUN_0044ad10(int param_1)

{
  if ((DAT_0048ce54 == 1) && (*(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    DAT_0048ce54 = 0;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0044ad40
 * Address: 0044ad40
 */

undefined4 __fastcall FUN_0044ad40(int param_1)

{
  if (((DAT_0048ce64 == 1) && (**(int **)(param_1 + 0x3fc) < 0x140)) &&
     ((*(int **)(param_1 + 0x3fc))[1] < 0x19c)) {
    DAT_0048ce64 = 0;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0044ad80
 * Address: 0044ad80
 */

undefined4 __fastcall FUN_0044ad80(int param_1)

{
  if ((DAT_0048ce58 == 1) && (*(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    DAT_0048ce58 = 0;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0044adb0
 * Address: 0044adb0
 */

undefined4 __fastcall FUN_0044adb0(int param_1)

{
  if ((DAT_0048ce5c == 1) && (*(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    DAT_0048ce5c = 0;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0044ade0
 * Address: 0044ade0
 */

undefined4 __fastcall FUN_0044ade0(int param_1)

{
  if ((DAT_0048ce60 == 1) && (*(int *)(*(int *)(param_1 + 0x3fc) + 4) < 0x19c)) {
    FUN_00410360(0x482df4);
    DAT_0048ce60 = 0;
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0044ae20
 * Address: 0044ae20
 */

undefined4 __fastcall FUN_0044ae20(void *param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 local_8;
  
  local_8 = 0;
  bVar1 = false;
  if (DAT_0048ce68 == 0) {
    return 0;
  }
  iVar3 = **(int **)((int)param_1 + 0x3fc);
  if ((0x13f < iVar3) && (iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], iVar4 < 0x19c)) {
    local_8 = 1;
    if ((0x14f < iVar3) && (0x47 < iVar4)) {
      iVar4 = (int)(iVar4 + -0x48 + (iVar4 + -0x48 >> 0x1f & 0x1fU)) >> 5;
      iVar3 = (int)(iVar3 + -0x150 + (iVar3 + -0x150 >> 0x1f & 0x1fU)) >> 5;
      FUN_00466b00((void *)((int)param_1 + 0x548),iVar3,iVar4,-1,-1);
      if ((((-1 < iVar3) && (iVar3 < 9)) && (-1 < iVar4)) && (iVar4 < 2)) {
        bVar1 = true;
      }
    }
    iVar3 = **(int **)((int)param_1 + 0x3fc);
    if ((0x14f < iVar3) && (iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], 0xa7 < iVar4)) {
      iVar3 = iVar3 + -0x150;
      iVar4 = iVar4 + -0xa8;
      iVar4 = (int)(iVar4 + (iVar4 >> 0x1f & 0x1fU)) >> 5;
      iVar3 = (int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5;
      FUN_00466b00((void *)((int)param_1 + 0x54c),iVar3,iVar4,-1,-1);
      if (((-1 < iVar3) && ((iVar3 < 9 && (-1 < iVar4)))) && (iVar4 < 1)) {
        bVar1 = true;
      }
    }
    iVar3 = **(int **)((int)param_1 + 0x3fc);
    if ((0x14f < iVar3) && (iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], 0xe7 < iVar4)) {
      iVar3 = iVar3 + -0x150;
      iVar4 = iVar4 + -0xe8;
      iVar4 = (int)(iVar4 + (iVar4 >> 0x1f & 0x1fU)) >> 5;
      iVar3 = (int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5;
      FUN_00466b00((void *)((int)param_1 + 0x550),iVar3,iVar4,-1,-1);
      if ((-1 < iVar3) && (((iVar3 < 9 && (-1 < iVar4)) && (iVar4 < 1)))) {
        bVar1 = true;
      }
    }
    iVar3 = **(int **)((int)param_1 + 0x3fc);
    if ((0x14f < iVar3) && (iVar4 = (*(int **)((int)param_1 + 0x3fc))[1], 0x127 < iVar4)) {
      iVar3 = iVar3 + -0x150;
      iVar4 = iVar4 + -0x128;
      iVar5 = (int)(iVar4 + (iVar4 >> 0x1f & 0x1fU)) >> 5;
      iVar4 = (int)(iVar3 + (iVar3 >> 0x1f & 0x1fU)) >> 5;
      iVar3 = FUN_00466b00((void *)((int)param_1 + 0x554),iVar4,iVar5,-1,-1);
      if ((iVar3 != 0) && (iVar2 = FUN_0044a240(param_1,iVar3), iVar2 == 1)) {
        FUN_00466c40((void *)((int)param_1 + 0x554),iVar3);
      }
      if (((-1 < iVar4) && (iVar4 < 9)) && ((-1 < iVar5 && (iVar5 < 2)))) {
        return 1;
      }
    }
    if (bVar1) {
      return 1;
    }
  }
  DAT_0048ce68 = 0;
  return local_8;
}



/*
 * Function: FUN_0044b020
 * Address: 0044b020
 */

undefined4 __fastcall FUN_0044b020(int *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  void *pvVar7;
  int *piVar8;
  int *piVar9;
  void *local_10;
  undefined4 local_c;
  int local_8;
  undefined4 local_4;
  
  local_c = 0;
  if (DAT_0048ce44 == 1) {
    iVar1 = *(int *)param_1[0xff];
    if ((((((iVar1 < 0x140) && (iVar4 = ((int *)param_1[0xff])[1], iVar4 < 0x19c)) &&
          (local_c = 1, 0xf < iVar1)) && ((iVar1 < 0x130 && (0x47 < iVar4)))) &&
        ((iVar4 < 0x188 && ((DAT_0048ce34 == 0 && (param_1[0x162] == 1)))))) &&
       (local_10 = (void *)FUN_00466b00((void *)param_1[0x161],
                                        (int)(iVar1 + -0x10 + (iVar1 + -0x10 >> 0x1f & 0x1fU)) >> 5,
                                        (int)(iVar4 + -0x48 + (iVar4 + -0x48 >> 0x1f & 0x1fU)) >> 5,
                                        -1,-1), local_10 != (void *)0x0)) {
      iVar1 = FUN_00456210((int)local_10);
      if ((iVar1 == 4) && (iVar1 = FUN_00466390((int)local_10), iVar1 == 1)) {
        if (param_1[0xb0] <= param_1[0xca]) {
          return local_c;
        }
        iVar1 = FUN_004661c0(local_10,0);
        iVar1 = FUN_00466da0(param_1 + 0x145,iVar1);
        if (iVar1 == 0) {
          return local_c;
        }
        param_1[0x163] = 0;
        param_1[0x162] = 1;
        FUN_00466be0((void *)param_1[0x161],(int)local_10);
        iVar5 = 1;
        iVar4 = -1;
        piVar3 = (int *)0x0;
        iVar1 = FUN_00466110(local_10,0);
        FUN_00417260(0,iVar1,piVar3,iVar4,iVar5);
        FUN_00465640((int *)&local_10);
        param_1[0xca] = param_1[0xca] + 1;
        return 1;
      }
      iVar1 = FUN_00466480((int)local_10);
      if (iVar1 == -1) {
        iVar1 = FUN_00456210((int)local_10);
        if ((iVar1 == 3) && (piVar3 = (int *)FUN_004669f0((int)local_10), *piVar3 != 0)) {
          piVar8 = (int *)0x0;
          piVar3 = &local_8;
          iVar5 = 0;
          iVar1 = FUN_004308b0((int)local_10);
          iVar4 = FUN_004308a0((int)local_10);
          iVar1 = FUN_00466f80(param_1 + 0x146,4,2,iVar4,iVar1,piVar3,iVar5,piVar8);
          if (iVar1 == 1) {
            iVar1 = FUN_004661c0(local_10,0);
            iVar1 = FUN_00466da0(param_1 + 0x145,iVar1);
            if (iVar1 == 1) {
              param_1[0x163] = 0;
              param_1[0x162] = 1;
              FUN_00466be0((void *)param_1[0x161],(int)local_10);
              iVar5 = 1;
              iVar4 = -1;
              piVar3 = (int *)0x0;
              iVar1 = FUN_00466110(local_10,0);
              FUN_00417260(0,iVar1,piVar3,iVar4,iVar5);
              FUN_004663e0(local_10,local_8,local_4);
              FUN_00466bc0(param_1 + 0x146,(int)local_10);
              return local_c;
            }
            if (iVar1 != 0) {
              return local_c;
            }
          }
        }
        piVar9 = (int *)0x0;
        piVar8 = &local_8;
        iVar5 = 1;
        piVar3 = param_1 + 0x145;
        iVar1 = FUN_004308b0((int)local_10);
        iVar4 = FUN_004308a0((int)local_10);
        iVar1 = FUN_00466f80(piVar3,9,4,iVar4,iVar1,piVar8,iVar5,piVar9);
        if (iVar1 == 1) {
          iVar1 = FUN_004661c0(local_10,0);
          iVar1 = FUN_00466da0(piVar3,iVar1);
          if (iVar1 == 1) {
            param_1[0x163] = 0;
            param_1[0x162] = 1;
            FUN_00466be0((void *)param_1[0x161],(int)local_10);
            iVar5 = 1;
            iVar4 = -1;
            piVar8 = (int *)0x0;
            iVar1 = FUN_00466110(local_10,0);
            FUN_00417260(0,iVar1,piVar8,iVar4,iVar5);
            FUN_004663e0(local_10,local_8,local_4);
            FUN_00466bc0(piVar3,(int)local_10);
            FUN_00452910(param_1);
            FUN_00450080(param_1);
          }
        }
      }
      else {
        iVar1 = FUN_00466390((int)local_10);
        iVar4 = FUN_00456210((int)local_10);
        iVar5 = FUN_00466480((int)local_10);
        iVar1 = FUN_004671c0(param_1 + iVar5 + 0x152,iVar4,iVar1);
        if (iVar1 == 0) {
          iVar1 = FUN_004661c0(local_10,0);
          iVar1 = FUN_00466da0(param_1 + 0x145,iVar1);
          if (iVar1 == 1) {
            param_1[0x163] = 0;
            param_1[0x162] = 1;
            FUN_00466be0((void *)param_1[0x161],(int)local_10);
            iVar5 = 1;
            iVar4 = -1;
            piVar3 = (int *)0x0;
            iVar1 = FUN_00466110(local_10,0);
            FUN_00417260(0,iVar1,piVar3,iVar4,iVar5);
            iVar1 = FUN_00466490((int)local_10);
            uVar6 = *(undefined4 *)(iVar1 + 4);
            puVar2 = (undefined4 *)FUN_00466490((int)local_10);
            FUN_004663e0(local_10,*puVar2,uVar6);
            pvVar7 = local_10;
            iVar1 = FUN_00466480((int)local_10);
            FUN_00466bc0(param_1 + iVar1 + 0x152,(int)pvVar7);
            return local_c;
          }
        }
      }
    }
  }
  return local_c;
}



/*
 * Function: FUN_0044b400
 * Address: 0044b400
 */

undefined4 __fastcall FUN_0044b400(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  bool bVar9;
  
  uVar4 = 0;
  if (DAT_0048ce40 == 1) {
    return uVar4;
  }
  iVar1 = (*(int **)(param_1 + 0x3fc))[1];
  iVar2 = **(int **)(param_1 + 0x3fc);
  uVar5 = -(uint)(DAT_0048d528 != 1) & 0x14;
  if ((((-1 < iVar2) && (iVar2 < 0x10)) && ((int)(uVar5 + 0x188) <= iVar1)) &&
     (iVar1 < (int)(uVar5 + 0x198))) {
    uVar4 = 1;
  }
  if (DAT_0048d528 == 1) {
    iVar6 = 0x10;
    piVar7 = &DAT_0048d508;
    do {
      if (*piVar7 == -1) {
        if (((iVar6 <= iVar2) && (iVar2 < iVar6 + 0x10)) && ((0x187 < iVar1 && (iVar1 < 0x198)))) {
          uVar4 = 1;
        }
        iVar8 = 0x10;
      }
      else if (*piVar7 == *(int *)(param_1 + 0x127c)) {
        iVar8 = 0x1a;
        if ((iVar6 <= iVar2) && (iVar2 < iVar6 + 0x1a)) {
          bVar9 = SBORROW4(iVar1,0x17e);
          iVar3 = iVar1 + -0x17e;
          goto LAB_0044b491;
        }
      }
      else {
        iVar8 = 0x10;
        if ((iVar6 <= iVar2) && (iVar2 < iVar6 + 0x10)) {
          bVar9 = SBORROW4(iVar1,0x188);
          iVar3 = iVar1 + -0x188;
LAB_0044b491:
          if ((bVar9 == iVar3 < 0) && (iVar1 < 0x198)) {
            uVar4 = 1;
          }
        }
      }
      piVar7 = piVar7 + 1;
      iVar6 = iVar6 + iVar8;
    } while ((int)piVar7 < 0x48d528);
  }
  return uVar4;
}



/*
 * Function: FUN_0044b500
 * Address: 0044b500
 */

void __cdecl FUN_0044b500(undefined4 *param_1,uint param_2,int param_3,int *param_4)

{
  uint uVar1;
  undefined4 *puVar2;
  
  if (param_2 != 0) {
    puVar2 = (undefined4 *)(*param_4 + param_3);
    for (uVar1 = param_2 >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
      *puVar2 = *param_1;
      param_1 = param_1 + 1;
      puVar2 = puVar2 + 1;
    }
    for (uVar1 = param_2 & 3; uVar1 != 0; uVar1 = uVar1 - 1) {
      *(undefined *)puVar2 = *(undefined *)param_1;
      param_1 = (undefined4 *)((int)param_1 + 1);
      puVar2 = (undefined4 *)((int)puVar2 + 1);
    }
    *param_4 = *param_4 + param_2;
  }
  return;
}



/*
 * Function: FUN_0044b540
 * Address: 0044b540
 */

void __cdecl FUN_0044b540(int param_1,uint param_2,undefined4 *param_3,int *param_4)

{
  uint uVar1;
  undefined4 *puVar2;
  
  if (param_2 != 0) {
    puVar2 = (undefined4 *)(*param_4 + param_1);
    for (uVar1 = param_2 >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
      *param_3 = *puVar2;
      puVar2 = puVar2 + 1;
      param_3 = param_3 + 1;
    }
    for (uVar1 = param_2 & 3; uVar1 != 0; uVar1 = uVar1 - 1) {
      *(undefined *)param_3 = *(undefined *)puVar2;
      puVar2 = (undefined4 *)((int)puVar2 + 1);
      param_3 = (undefined4 *)((int)param_3 + 1);
    }
    *param_4 = *param_4 + param_2;
  }
  return;
}



/*
 * Function: FUN_0044b580
 * Address: 0044b580
 */

undefined4 __fastcall FUN_0044b580(int param_1)

{
  byte *pbVar1;
  char *pcVar2;
  void *pvVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  byte *pbVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  uint uVar10;
  int *piVar11;
  long lVar12;
  int iStack_180;
  int iStack_17c;
  RKC_MEMORY aRStack_178 [8];
  undefined4 uStack_170;
  int *piStack_16c;
  int iStack_168;
  undefined4 uStack_164;
  RKC_FILE local_160 [7];
  byte bStack_159;
  int iStack_158;
  int iStack_154;
  char acStack_150 [256];
  int iStack_50;
  undefined4 *puStack_4c;
  char acStack_48 [4];
  char acStack_44 [4];
  char acStack_40 [4];
  char acStack_3c [4];
  undefined4 auStack_38 [4];
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  uint uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472088;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_FILE::RKC_FILE(local_160);
  acStack_48[0] = s_ShadowFlare0005_00480598[0];
  acStack_48[1] = s_ShadowFlare0005_00480598[1];
  acStack_48[2] = s_ShadowFlare0005_00480598[2];
  acStack_48[3] = s_ShadowFlare0005_00480598[3];
  acStack_40[0] = s_ShadowFlare0005_00480598[8];
  acStack_40[1] = s_ShadowFlare0005_00480598[9];
  acStack_40[2] = s_ShadowFlare0005_00480598[10];
  acStack_40[3] = s_ShadowFlare0005_00480598[0xb];
  auStack_38[0] = *(undefined4 *)(param_1 + 0x4f4);
  acStack_44[0] = s_ShadowFlare0005_00480598[4];
  acStack_44[1] = s_ShadowFlare0005_00480598[5];
  acStack_44[2] = s_ShadowFlare0005_00480598[6];
  acStack_44[3] = s_ShadowFlare0005_00480598[7];
  auStack_38[2] = *(undefined4 *)(param_1 + 0x4ec);
  acStack_3c[0] = s_ShadowFlare0005_00480598[0xc];
  acStack_3c[1] = s_ShadowFlare0005_00480598[0xd];
  acStack_3c[2] = s_ShadowFlare0005_00480598[0xe];
  acStack_3c[3] = s_ShadowFlare0005_00480598[0xf];
  auStack_38[1] = *(undefined4 *)(param_1 + 0x4e8);
  uStack_28 = *(undefined4 *)(param_1 + 0x4f0);
  auStack_38[3] = *(undefined4 *)(param_1 + 0x4f8);
  uStack_20 = *(undefined4 *)(param_1 + 0x500);
  uStack_24 = *(undefined4 *)(param_1 + 0x4fc);
  uStack_18 = *(undefined4 *)(param_1 + 0x508);
  uStack_1c = *(undefined4 *)(param_1 + 0x504);
  uStack_10 = *(undefined4 *)(param_1 + 0x510);
  uStack_14 = *(undefined4 *)(param_1 + 0x50c);
  uStack_4 = 0;
  iStack_180 = 0;
  RKC_MEMORY::RKC_MEMORY(aRStack_178);
  uStack_4 = CONCAT31(uStack_4._1_3_,1);
  acStack_150[0] = -0x42;
  acStack_150[1] = 0x66;
  acStack_150[2] = 0xb3;
  acStack_150[3] = 0x2f;
  acStack_150[4] = 1;
  acStack_150[5] = 0x6e;
  acStack_150[6] = 0x6d;
  acStack_150[7] = 200;
  acStack_150[8] = 0x1f;
  acStack_150[9] = 0x98;
  acStack_150[10] = 0xa5;
  acStack_150[0xb] = 0x46;
  acStack_150[0xc] = 0x76;
  acStack_150[0xd] = 0x5c;
  acStack_150[0xe] = 0x3d;
  acStack_150[0xf] = 0xe;
  acStack_150[0x10] = 0xaa;
  acStack_150[0x11] = 0x5e;
  acStack_150[0x12] = 0x9d;
  acStack_150[0x13] = 0xff;
  acStack_150[0x14] = 0xea;
  acStack_150[0x15] = 0xa0;
  acStack_150[0x16] = 0xd;
  acStack_150[0x17] = 0x4b;
  acStack_150[0x18] = 0x75;
  acStack_150[0x19] = 0xf6;
  acStack_150[0x1a] = 0x61;
  acStack_150[0x1b] = 0x85;
  acStack_150[0x1c] = 0x5d;
  acStack_150[0x1d] = 0xbb;
  acStack_150[0x1e] = 0xdc;
  acStack_150[0x1f] = 0xfb;
  acStack_150[0x20] = 0x8b;
  acStack_150[0x21] = 0xc3;
  acStack_150[0x22] = 0x4f;
  acStack_150[0x23] = 0x45;
  acStack_150[0x24] = 4;
  acStack_150[0x25] = 0x90;
  acStack_150[0x26] = 0x81;
  acStack_150[0x27] = 0x1e;
  acStack_150[0x28] = 0x6b;
  acStack_150[0x29] = 0xc9;
  acStack_150[0x2a] = 0xd3;
  acStack_150[0x2b] = 0x73;
  acStack_150[0x2c] = 0xc6;
  acStack_150[0x2d] = 0xe7;
  acStack_150[0x2e] = 0x24;
  acStack_150[0x2f] = 0xba;
  acStack_150[0x30] = 0x32;
  acStack_150[0x31] = 0xf3;
  acStack_150[0x32] = 0xc0;
  acStack_150[0x33] = 0xec;
  acStack_150[0x34] = 0x57;
  acStack_150[0x35] = 0xcc;
  acStack_150[0x36] = 0xc4;
  acStack_150[0x37] = 0xb6;
  acStack_150[0x38] = 0xc1;
  acStack_150[0x39] = 0xae;
  acStack_150[0x3a] = 0xaf;
  acStack_150[0x3b] = 0x88;
  acStack_150[0x3c] = 0xf2;
  acStack_150[0x3d] = 0x84;
  acStack_150[0x3e] = 0xce;
  acStack_150[0x3f] = 0x4a;
  acStack_150[0x40] = 0xfc;
  acStack_150[0x41] = 0x3c;
  acStack_150[0x42] = 0x9f;
  acStack_150[0x43] = 0x1a;
  acStack_150[0x44] = 0x56;
  acStack_150[0x45] = 0xc5;
  acStack_150[0x46] = 0xe2;
  acStack_150[0x47] = 0xf5;
  acStack_150[0x48] = 0x47;
  acStack_150[0x49] = 0xd9;
  acStack_150[0x4a] = 0xd7;
  acStack_150[0x4b] = 0x8c;
  acStack_150[0x4c] = 0xcd;
  acStack_150[0x4d] = 0x97;
  acStack_150[0x4e] = 0xf0;
  acStack_150[0x4f] = 0x7b;
  acStack_150[0x50] = 0x31;
  acStack_150[0x51] = 6;
  acStack_150[0x52] = 0xe5;
  acStack_150[0x53] = 0x14;
  acStack_150[0x54] = 0xe6;
  acStack_150[0x55] = 0xda;
  acStack_150[0x56] = 0x48;
  acStack_150[0x57] = 0x26;
  acStack_150[0x58] = 0xac;
  acStack_150[0x59] = 0x87;
  acStack_150[0x5a] = 0x9a;
  acStack_150[0x5b] = 0xd8;
  acStack_150[0x5c] = 0xa6;
  acStack_150[0x5d] = 0xeb;
  acStack_150[0x5e] = 0x92;
  acStack_150[0x5f] = 0xcf;
  acStack_150[0x60] = 0xf;
  acStack_150[0x61] = 0x94;
  acStack_150[0x62] = 0x41;
  acStack_150[99] = 0xb4;
  acStack_150[100] = 0x74;
  acStack_150[0x65] = 0x2a;
  acStack_150[0x66] = 0xd1;
  acStack_150[0x67] = 0x70;
  acStack_150[0x68] = 0x1c;
  acStack_150[0x69] = 0xd4;
  acStack_150[0x6a] = 0xb0;
  acStack_150[0x6b] = 0xc2;
  acStack_150[0x6c] = 9;
  acStack_150[0x6d] = 8;
  acStack_150[0x6e] = 0x16;
  acStack_150[0x6f] = 0x9b;
  acStack_150[0x70] = 0xfd;
  acStack_150[0x71] = 0x77;
  acStack_150[0x72] = 0x1d;
  acStack_150[0x73] = 0x21;
  acStack_150[0x74] = 0x9e;
  acStack_150[0x75] = 0x36;
  acStack_150[0x76] = 0x35;
  acStack_150[0x77] = 0x53;
  acStack_150[0x78] = 0x3e;
  acStack_150[0x79] = 0xd0;
  acStack_150[0x7a] = 0xd5;
  acStack_150[0x7b] = 0x62;
  acStack_150[0x7c] = 0x58;
  acStack_150[0x7d] = 0x5f;
  acStack_150[0x7e] = 99;
  acStack_150[0x7f] = 0x7c;
  acStack_150[0x80] = 0xb5;
  acStack_150[0x81] = 0x8d;
  acStack_150[0x82] = 0x2b;
  acStack_150[0x83] = 0xd2;
  acStack_150[0x84] = 0x89;
  acStack_150[0x85] = 0xb7;
  acStack_150[0x86] = 0x99;
  acStack_150[0x87] = 0xa1;
  acStack_150[0x88] = 0x30;
  acStack_150[0x89] = 0x65;
  acStack_150[0x8a] = 0x54;
  acStack_150[0x8b] = 0x40;
  acStack_150[0x8c] = 0x96;
  acStack_150[0x8d] = 0x71;
  acStack_150[0x8e] = 0xfe;
  acStack_150[0x8f] = 0xbf;
  acStack_150[0x90] = 0xf4;
  acStack_150[0x91] = 0xa9;
  acStack_150[0x92] = 0x5b;
  acStack_150[0x93] = 0xf7;
  acStack_150[0x94] = 0x22;
  acStack_150[0x95] = 0x60;
  acStack_150[0x96] = 0x5a;
  acStack_150[0x97] = 0x6f;
  acStack_150[0x98] = 0xfa;
  acStack_150[0x99] = 0x1b;
  acStack_150[0x9a] = 0x79;
  acStack_150[0x9b] = 0xe9;
  acStack_150[0x9c] = 0x17;
  acStack_150[0x9d] = 0xb1;
  acStack_150[0x9e] = 0;
  acStack_150[0x9f] = 0x9c;
  acStack_150[0xa0] = 0x7e;
  acStack_150[0xa1] = 0x52;
  acStack_150[0xa2] = 0x29;
  acStack_150[0xa3] = 0x12;
  acStack_150[0xa4] = 0x2c;
  acStack_150[0xa5] = 0x78;
  acStack_150[0xa6] = 5;
  acStack_150[0xa7] = 0x91;
  acStack_150[0xa8] = 0x55;
  acStack_150[0xa9] = 0xe3;
  acStack_150[0xaa] = 0xa2;
  acStack_150[0xab] = 0xb9;
  acStack_150[0xac] = 0xf8;
  acStack_150[0xad] = 0x50;
  acStack_150[0xae] = 0x95;
  acStack_150[0xaf] = 0x13;
  acStack_150[0xb0] = 0x80;
  acStack_150[0xb1] = 0x7f;
  acStack_150[0xb2] = 0x11;
  acStack_150[0xb3] = 0x27;
  acStack_150[0xb4] = 0xcb;
  acStack_150[0xb5] = 0x37;
  acStack_150[0xb6] = 0x4e;
  acStack_150[0xb7] = 0x51;
  acStack_150[0xb8] = 0x15;
  acStack_150[0xb9] = 0xef;
  acStack_150[0xba] = 0xa7;
  acStack_150[0xbb] = 0x72;
  acStack_150[0xbc] = 0x4d;
  acStack_150[0xbd] = 0x83;
  acStack_150[0xbe] = 0x49;
  acStack_150[0xbf] = 0xa4;
  acStack_150[0xc0] = 0x69;
  acStack_150[0xc1] = 0xde;
  acStack_150[0xc2] = 0x20;
  acStack_150[0xc3] = 0xa3;
  acStack_150[0xc4] = 0x67;
  acStack_150[0xc5] = 0xdf;
  acStack_150[0xc6] = 0x10;
  acStack_150[199] = 0x42;
  acStack_150[200] = 0x39;
  acStack_150[0xc9] = 0x6c;
  acStack_150[0xca] = 0x2d;
  acStack_150[0xcb] = 199;
  acStack_150[0xcc] = 0x23;
  acStack_150[0xcd] = 0xe4;
  acStack_150[0xce] = 0xdd;
  acStack_150[0xcf] = 0xed;
  acStack_150[0xd0] = 0xd6;
  acStack_150[0xd1] = 0xf9;
  acStack_150[0xd2] = 0x59;
  acStack_150[0xd3] = 0xb2;
  acStack_150[0xd4] = 0xad;
  acStack_150[0xd5] = 0x6a;
  acStack_150[0xd6] = 0x7d;
  acStack_150[0xd7] = 0xbc;
  acStack_150[0xd8] = 0xee;
  acStack_150[0xd9] = 0xe0;
  acStack_150[0xda] = 0x3a;
  acStack_150[0xdb] = 0x3f;
  acStack_150[0xdc] = 0xca;
  acStack_150[0xdd] = 0x4c;
  acStack_150[0xde] = 0x25;
  acStack_150[0xdf] = 0x68;
  acStack_150[0xe0] = 0x93;
  acStack_150[0xe1] = 0x18;
  acStack_150[0xe2] = 0x33;
  acStack_150[0xe3] = 0x28;
  acStack_150[0xe4] = 0xb;
  acStack_150[0xe5] = 7;
  acStack_150[0xe6] = 3;
  acStack_150[0xe7] = 0x82;
  acStack_150[0xe8] = 2;
  acStack_150[0xe9] = 0x43;
  acStack_150[0xea] = 0x8a;
  acStack_150[0xeb] = 0x86;
  acStack_150[0xec] = 0xdb;
  acStack_150[0xed] = 0x38;
  acStack_150[0xee] = 0x34;
  acStack_150[0xef] = 0x19;
  acStack_150[0xf0] = 100;
  acStack_150[0xf1] = 0x2e;
  acStack_150[0xf2] = 0x7a;
  acStack_150[0xf3] = 0xab;
  acStack_150[0xf4] = 0xf1;
  acStack_150[0xf5] = 0xe8;
  acStack_150[0xf6] = 0x44;
  acStack_150[0xf7] = 0xc;
  acStack_150[0xf8] = 0xb8;
  acStack_150[0xf9] = 0x8f;
  acStack_150[0xfa] = 0xa8;
  acStack_150[0xfb] = 10;
  acStack_150[0xfc] = 0x8e;
  acStack_150[0xfd] = 0xbd;
  acStack_150[0xfe] = 0xe1;
  acStack_150[0xff] = 0x3b;
  RKC_MEMORY::Allocation(aRStack_178,0x200000,1);
  piVar8 = &iStack_180;
  puStack_4c = (undefined4 *)(param_1 + 0x10);
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x10),0x160,(int)pcVar2,piVar8);
  puVar4 = auStack_38;
  piStack_16c = (int *)0xb;
  do {
    pvVar3 = (void *)*puVar4;
    if (pvVar3 == (void *)0x0) {
      piVar8 = &iStack_180;
      uStack_164 = 0;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
    }
    else {
      piVar8 = &iStack_180;
      uStack_164 = 1;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
      uStack_170 = FUN_00456210((int)pvVar3);
      piVar8 = &iStack_180;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
      uStack_170 = FUN_00466390((int)pvVar3);
      piVar8 = &iStack_180;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
      uStack_164 = FUN_00427b40((int)pvVar3);
      piVar8 = &iStack_180;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
      iStack_168 = FUN_00465ea0(pvVar3,-1);
      piVar8 = &iStack_180;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&iStack_168,4,(int)pcVar2,piVar8);
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_00465f20(pvVar3,(undefined4 *)(pcVar2 + iStack_180));
      iStack_180 = iStack_180 + iStack_168;
    }
    puVar4 = puVar4 + 1;
    piStack_16c = (int *)((int)piStack_16c + -1);
  } while (piStack_16c != (int *)0x0);
  iStack_17c = FUN_00466d50((int *)(param_1 + 0x514));
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piStack_16c = (int *)0x0;
  if (0 < iStack_17c) {
    do {
      pvVar3 = (void *)FUN_00466cb0((int *)(param_1 + 0x514),(int)piStack_16c);
      if (pvVar3 != (void *)0x0) {
        uStack_170 = FUN_00456210((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
        uStack_170 = FUN_00466390((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
        uStack_164 = FUN_00427b40((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        uVar10 = 8;
        puVar4 = (undefined4 *)FUN_004663b0((int)pvVar3);
        FUN_0044b500(puVar4,uVar10,(int)pcVar2,piVar8);
        iStack_168 = FUN_00465ea0(pvVar3,-1);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&iStack_168,4,(int)pcVar2,piVar8);
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_00465f20(pvVar3,(undefined4 *)(pcVar2 + iStack_180));
        iStack_180 = iStack_180 + iStack_168;
      }
      piStack_16c = (int *)((int)piStack_16c + 1);
    } while ((int)piStack_16c < iStack_17c);
  }
  iStack_17c = FUN_00466d50((int *)(param_1 + 0x518));
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piStack_16c = (int *)0x0;
  if (0 < iStack_17c) {
    do {
      pvVar3 = (void *)FUN_00466cb0((int *)(param_1 + 0x518),(int)piStack_16c);
      if (pvVar3 != (void *)0x0) {
        uStack_170 = FUN_00456210((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
        uStack_170 = FUN_00466390((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
        uStack_164 = FUN_00427b40((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        uVar10 = 8;
        puVar4 = (undefined4 *)FUN_004663b0((int)pvVar3);
        FUN_0044b500(puVar4,uVar10,(int)pcVar2,piVar8);
        iStack_168 = FUN_00465ea0(pvVar3,-1);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&iStack_168,4,(int)pcVar2,piVar8);
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_00465f20(pvVar3,(undefined4 *)(pcVar2 + iStack_180));
        iStack_180 = iStack_180 + iStack_168;
      }
      piStack_16c = (int *)((int)piStack_16c + 1);
    } while ((int)piStack_16c < iStack_17c);
  }
  iStack_17c = FUN_00466d50((int *)(param_1 + 0x51c));
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piStack_16c = (int *)0x0;
  if (0 < iStack_17c) {
    do {
      pvVar3 = (void *)FUN_00466cb0((int *)(param_1 + 0x51c),(int)piStack_16c);
      if (pvVar3 != (void *)0x0) {
        uStack_170 = FUN_00456210((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
        uStack_170 = FUN_00466390((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
        uStack_164 = FUN_00427b40((int)pvVar3);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        uVar10 = 8;
        puVar4 = (undefined4 *)FUN_004663b0((int)pvVar3);
        FUN_0044b500(puVar4,uVar10,(int)pcVar2,piVar8);
        iStack_168 = FUN_00465ea0(pvVar3,-1);
        piVar8 = &iStack_180;
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_0044b500(&iStack_168,4,(int)pcVar2,piVar8);
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        FUN_00465f20(pvVar3,(undefined4 *)(pcVar2 + iStack_180));
        iStack_180 = iStack_180 + iStack_168;
      }
      piStack_16c = (int *)((int)piStack_16c + 1);
    } while ((int)piStack_16c < iStack_17c);
  }
  piVar8 = &iStack_180;
  iStack_17c = DAT_0048ceb4;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(DAT_0048ceb8,iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  iStack_17c = DAT_0048ceac;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(DAT_0048ceb0,iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  iStack_17c = DAT_0048cec0;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(DAT_0048cec4,iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  iStack_17c = 0x16;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x1440),iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x1498),iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x14f0),iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&DAT_0048d508,0x20,(int)pcVar2,piVar8);
  *(undefined4 *)(*(int *)(param_1 + 0x1590) + *(int *)(param_1 + 0x150) * 4) =
       *(undefined4 *)(param_1 + 0x154);
  *(undefined4 *)(*(int *)(param_1 + 0x1594) + *(int *)(param_1 + 0x150) * 4) =
       *(undefined4 *)(param_1 + 0x158);
  iStack_17c = *(int *)(param_1 + 0x158c);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(*(undefined4 **)(param_1 + 0x1590),iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(*(undefined4 **)(param_1 + 0x1594),iStack_17c * 4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x328),4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&DAT_0048ce80,4,(int)pcVar2,piVar8);
  uVar5 = FUN_00466430(*(int *)(param_1 + 0x458));
  *(undefined4 *)(param_1 + 0x15a4) = uVar5;
  uVar5 = FUN_00427ab0(*(int *)(param_1 + 0x458));
  *(undefined4 *)(param_1 + 0x15a8) = uVar5;
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x15a4),4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x15a8),4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  iStack_154 = 10;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&iStack_154,4,(int)pcVar2,piVar8);
  piVar8 = &iStack_180;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500((undefined4 *)(param_1 + 0x55c),iStack_154 * 4,(int)pcVar2,piVar8);
  iStack_158 = 0;
  if (0 < iStack_154) {
    piStack_16c = (int *)(param_1 + 0x520);
    do {
      iStack_17c = FUN_00466d50(piStack_16c);
      piVar8 = &iStack_180;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar8);
      iVar7 = 0;
      if (0 < iStack_17c) {
        do {
          pvVar3 = (void *)FUN_00466cb0(piStack_16c,iVar7);
          if (pvVar3 != (void *)0x0) {
            uStack_170 = FUN_00456210((int)pvVar3);
            piVar8 = &iStack_180;
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
            uStack_170 = FUN_00466390((int)pvVar3);
            piVar8 = &iStack_180;
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
            uStack_164 = FUN_00427b40((int)pvVar3);
            piVar8 = &iStack_180;
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar8);
            piVar8 = &iStack_180;
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            uVar10 = 8;
            puVar4 = (undefined4 *)FUN_004663b0((int)pvVar3);
            FUN_0044b500(puVar4,uVar10,(int)pcVar2,piVar8);
            iStack_168 = FUN_00465ea0(pvVar3,-1);
            piVar8 = &iStack_180;
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            FUN_0044b500(&iStack_168,4,(int)pcVar2,piVar8);
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            FUN_00465f20(pvVar3,(undefined4 *)(pcVar2 + iStack_180));
            iStack_180 = iStack_180 + iStack_168;
          }
          iVar7 = iVar7 + 1;
        } while (iVar7 < iStack_17c);
      }
      iStack_158 = iStack_158 + 1;
      piStack_16c = piStack_16c + 1;
    } while (iStack_158 < iStack_154);
  }
  piVar8 = (int *)(param_1 + 0x548);
  iStack_158 = 4;
  do {
    iStack_17c = FUN_00466d50(piVar8);
    piVar11 = &iStack_180;
    pcVar2 = RKC_MEMORY::Get(aRStack_178);
    FUN_0044b500(&iStack_17c,4,(int)pcVar2,piVar11);
    iVar7 = 0;
    if (0 < iStack_17c) {
      do {
        pvVar3 = (void *)FUN_00466cb0(piVar8,iVar7);
        if (pvVar3 != (void *)0x0) {
          uStack_170 = FUN_00456210((int)pvVar3);
          piVar11 = &iStack_180;
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar11);
          uStack_170 = FUN_00466390((int)pvVar3);
          piVar11 = &iStack_180;
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar11);
          uStack_164 = FUN_00427b40((int)pvVar3);
          piVar11 = &iStack_180;
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          FUN_0044b500(&uStack_164,4,(int)pcVar2,piVar11);
          piVar11 = &iStack_180;
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          uVar10 = 8;
          puVar4 = (undefined4 *)FUN_004663b0((int)pvVar3);
          FUN_0044b500(puVar4,uVar10,(int)pcVar2,piVar11);
          iStack_168 = FUN_00465ea0(pvVar3,-1);
          piVar11 = &iStack_180;
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          FUN_0044b500(&iStack_168,4,(int)pcVar2,piVar11);
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          FUN_00465f20(pvVar3,(undefined4 *)(pcVar2 + iStack_180));
          iStack_180 = iStack_180 + iStack_168;
        }
        iVar7 = iVar7 + 1;
      } while (iVar7 < iStack_17c);
    }
    piVar8 = piVar8 + 1;
    iStack_158 = iStack_158 + -1;
  } while (iStack_158 != 0);
  piVar8 = &iStack_180;
  uStack_170 = DAT_0048d7bc;
  pcVar2 = RKC_MEMORY::Get(aRStack_178);
  FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
  puVar4 = &DAT_0048d7c0;
  do {
    iVar7 = 2;
    do {
      uStack_170 = *puVar4;
      piVar8 = &iStack_180;
      pcVar2 = RKC_MEMORY::Get(aRStack_178);
      FUN_0044b500(&uStack_170,4,(int)pcVar2,piVar8);
      puVar4 = puVar4 + 1;
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
  } while ((int)puVar4 < 0x48d7d0);
  lVar12 = 1;
  pcVar2 = (char *)FUN_00427b20(DAT_00482dcc);
  iVar7 = RKC_FILE::Create(local_160,pcVar2,lVar12);
  if (((iVar7 == 0) || (iVar7 = RKC_FILE::Write(local_160,acStack_48,0x10), iVar7 == 0)) ||
     (iVar7 = RKC_FILE::Write(local_160,puStack_4c,0x160), iVar7 == 0)) {
    uStack_4 = uStack_4 & 0xffffff00;
    RKC_MEMORY::~RKC_MEMORY(aRStack_178);
    uStack_4 = 0xffffffff;
    RKC_FILE::~RKC_FILE(local_160);
    uVar5 = 0;
  }
  else {
    RKC_FILE::Write(local_160,&iStack_180,4);
    iVar7 = _rand();
    bStack_159 = (byte)iVar7;
    RKC_FILE::Write(local_160,&bStack_159,1);
    iVar7 = 0;
    iStack_50 = 0;
    if (0 < iStack_180) {
      do {
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        iStack_50 = iStack_50 + pcVar2[iVar7];
        pcVar2 = RKC_MEMORY::Get(aRStack_178);
        pbVar1 = (byte *)(pcVar2 + iVar7);
        pbVar6 = (byte *)(pcVar2 + iVar7);
        iVar7 = iVar7 + 1;
        *pbVar6 = *pbVar1 ^ bStack_159;
      } while (iVar7 < iStack_180);
    }
    RKC_FILE::Write(local_160,&iStack_50,4);
    iVar7 = 0;
    if (0 < iStack_180) {
      do {
        iVar9 = 0;
        do {
          pcVar2 = RKC_MEMORY::Get(aRStack_178);
          if (pcVar2[iVar7] == acStack_150[iVar9]) {
            pcVar2 = RKC_MEMORY::Get(aRStack_178);
            pcVar2[iVar7] = (char)iVar9;
            break;
          }
          iVar9 = iVar9 + 1;
        } while (iVar9 < 0x100);
        iVar7 = iVar7 + 1;
      } while (iVar7 < iStack_180);
    }
    iVar7 = iStack_180;
    pcVar2 = RKC_MEMORY::Get(aRStack_178);
    RKC_FILE::Write(local_160,pcVar2,iVar7);
    RKC_FILE::Close(local_160);
    uStack_4 = uStack_4 & 0xffffff00;
    RKC_MEMORY::~RKC_MEMORY(aRStack_178);
    uStack_4 = 0xffffffff;
    RKC_FILE::~RKC_FILE(local_160);
    uVar5 = 1;
  }
  ExceptionList = pvStack_c;
  return uVar5;
}



/*
 * Function: FUN_0044e830
 * Address: 0044e830
 */

int FUN_0044e830(void)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  char *pcVar6;
  char *pcVar7;
  RKC_DIB local_11c [8];
  undefined auStack_114 [4];
  char acStack_110 [260];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_004720dc;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_DIB::RKC_DIB(local_11c);
  uStack_4 = 0;
  pcVar2 = (char *)FUN_00427b20(DAT_00482dcc);
  uVar3 = 0xffffffff;
  do {
    pcVar7 = pcVar2;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar7 = pcVar2 + 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar7;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar2 = pcVar7 + -uVar3;
  pcVar7 = acStack_110;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar7 = *(undefined4 *)pcVar2;
    pcVar2 = pcVar2 + 4;
    pcVar7 = pcVar7 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar7 = *pcVar2;
    pcVar2 = pcVar2 + 1;
    pcVar7 = pcVar7 + 1;
  }
  uVar3 = 0xffffffff;
  pcVar2 = acStack_110;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  auStack_114[~uVar3] = 0;
  uVar3 = 0xffffffff;
  pcVar2 = &DAT_0048020c;
  do {
    pcVar7 = pcVar2;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar7 = pcVar2 + 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar7;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  iVar5 = -1;
  pcVar2 = acStack_110;
  do {
    pcVar6 = pcVar2;
    if (iVar5 == 0) break;
    iVar5 = iVar5 + -1;
    pcVar6 = pcVar2 + 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar6;
  } while (cVar1 != '\0');
  pcVar2 = pcVar7 + -uVar3;
  pcVar7 = pcVar6 + -1;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar7 = *(undefined4 *)pcVar2;
    pcVar2 = pcVar2 + 4;
    pcVar7 = pcVar7 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar7 = *pcVar2;
    pcVar2 = pcVar2 + 1;
    pcVar7 = pcVar7 + 1;
  }
  RKC_DIB::Create(local_11c,0x187,0x72,0x18,1);
  RKC_DIB::TransferToDIBFast
            (local_11c,0,0,0x187,0x72,(RKC_DIB *)&DAT_0048d710,*(int *)(DAT_0048d710 + 4) + -0x187,
             *(int *)(DAT_0048d710 + 8) + -0x72);
  iVar5 = RKC_DIB::WriteFile(local_11c,acStack_110);
  uStack_4 = 0xffffffff;
  RKC_DIB::~RKC_DIB(local_11c);
  ExceptionList = pvStack_c;
  return iVar5;
}



/*
 * Function: FUN_0044e960
 * Address: 0044e960
 */

void __thiscall FUN_0044e960(void *this,int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if (param_1 == 1) {
    *(undefined4 *)((int)this + 0xca0) = 0;
    puVar1 = (undefined4 *)((int)this + 0xca4);
    iVar2 = 0xb4;
    do {
      *puVar1 = *(undefined4 *)((int)this + 0x2e0);
      puVar1[1] = *(undefined4 *)((int)this + 0x2e4);
      puVar1 = puVar1 + 2;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    return;
  }
  iVar2 = *(int *)((int)this + 0xca0) % 0xb4;
  *(undefined4 *)((int)this + iVar2 * 8 + 0xca4) = *(undefined4 *)((int)this + 0x2e0);
  *(undefined4 *)((int)this + iVar2 * 8 + 0xca8) = *(undefined4 *)((int)this + 0x2e4);
  *(int *)((int)this + 0xca0) = *(int *)((int)this + 0xca0) + 1;
  return;
}



/*
 * Function: FUN_0044e9e0
 * Address: 0044e9e0
 */

undefined4 __thiscall FUN_0044e9e0(void *this,int param_1,int param_2,int param_3,int param_4)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = (int *)((int)this + 0xca8);
  while ((((param_1 < piVar1[-1] - param_3 / 2 || (piVar1[-1] + param_3 < param_1)) ||
          (param_2 < *piVar1 - param_4 / 2)) || (*piVar1 + param_4 < param_2))) {
    iVar2 = iVar2 + 1;
    piVar1 = piVar1 + 2;
    if (0xb3 < iVar2) {
      return 0;
    }
  }
  return 1;
}



/*
 * Function: FUN_0044ea60
 * Address: 0044ea60
 */

void __thiscall FUN_0044ea60(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int *piVar5;
  int *piVar6;
  RKC_RPG_TABLEDATA *this_00;
  long lVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  undefined4 *puVar15;
  int iVar16;
  undefined4 *puVar17;
  int local_44;
  int local_40;
  int local_3c;
  int local_38;
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24 [4];
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  puVar4 = param_1;
  uVar1 = param_1[0xd];
  uVar2 = param_1[0xf];
  param_1 = (undefined4 *)0x0;
  puVar15 = (undefined4 *)((int)this + 0x10);
  puVar17 = puVar4;
  for (iVar8 = 0x58; iVar8 != 0; iVar8 = iVar8 + -1) {
    *puVar17 = *puVar15;
    puVar15 = puVar15 + 1;
    puVar17 = puVar17 + 1;
  }
  puVar4[0xd] = uVar1;
  puVar4[0xf] = uVar2;
  local_24[0] = *(int *)((int)this + 0x4e8);
  local_24[1] = *(undefined4 *)((int)this + 0x4ec);
  local_24[2] = *(undefined4 *)((int)this + 0x4f0);
  local_24[3] = *(undefined4 *)((int)this + 0x4f4);
  local_14 = *(undefined4 *)((int)this + 0x4f8);
  local_10 = *(undefined4 *)((int)this + 0x4fc);
  local_c = *(undefined4 *)((int)this + 0x500);
  local_8 = *(undefined4 *)((int)this + 0x504);
  local_4 = *(undefined4 *)((int)this + 0x508);
  do {
    if (local_24[(int)param_1] != 0) {
      pvVar3 = (void *)local_24[(int)param_1];
      iVar8 = FUN_00456210((int)pvVar3);
      if (iVar8 == 0) {
        iVar8 = local_24[(int)param_1];
        piVar6 = (int *)FUN_004677a0(iVar8);
        iVar8 = FUN_00467720(iVar8);
        if (iVar8 != 0) {
          pvVar3 = (void *)local_24[(int)param_1];
          FUN_00467760(pvVar3,0);
          piVar5 = (int *)FUN_00467740(pvVar3,0);
LAB_0044ebbe:
          puVar4[0x11] = puVar4[0x11] + *piVar6;
          puVar4[0x13] = puVar4[0x13] + piVar6[1];
          puVar4[0x12] = puVar4[0x12] + piVar6[2];
          puVar4[0x14] = puVar4[0x14] + piVar6[3];
          puVar4[0x15] = puVar4[0x15] + piVar6[4];
          puVar4[0x17] = puVar4[0x17] + piVar6[5];
          puVar4[0x16] = puVar4[0x16] + piVar6[6];
          puVar4[0x18] = puVar4[0x18] + piVar6[7];
          puVar4[0xb] = puVar4[0xb] + piVar6[9];
          puVar4[10] = puVar4[10] + piVar6[8];
LAB_0044ec2d:
          if (piVar5 != (int *)0x0) {
            if (*piVar5 != 0) {
              puVar4[0x11] = puVar4[0x11] + *piVar5;
            }
            if (piVar5[3] != 0) {
              puVar4[0x12] = puVar4[0x12] + piVar5[3];
            }
            if (piVar5[0xc] != 0) {
              puVar4[0x15] = puVar4[0x15] + piVar5[0xc];
            }
            if (piVar5[0xf] != 0) {
              puVar4[0x16] = puVar4[0x16] + piVar5[0xf];
            }
            if (piVar5[0x18] != 0) {
              puVar4[10] = puVar4[10] + piVar5[0x18];
            }
            if (piVar5[6] != 0) {
              puVar4[0x13] = puVar4[0x13] + piVar5[6];
            }
            if (piVar5[9] != 0) {
              puVar4[0x14] = puVar4[0x14] + piVar5[9];
            }
            if (piVar5[0x12] != 0) {
              puVar4[0x17] = puVar4[0x17] + piVar5[0x12];
            }
            if (piVar5[0x15] != 0) {
              puVar4[0x18] = puVar4[0x18] + piVar5[0x15];
            }
            if (piVar5[0x1b] != 0) {
              puVar4[0xb] = puVar4[0xb] + piVar5[0x1b];
            }
            if (piVar5[0x1e] != 0) {
              puVar4[0xc] = puVar4[0xc] + piVar5[0x1e];
            }
            if (piVar5[0x21] != 0) {
              puVar4[0xe] = puVar4[0xe] + piVar5[0x21];
            }
            if (piVar5[0x24] != 0) {
              puVar4[0x10] = puVar4[0x10] + piVar5[0x24];
            }
            if (piVar5[0x54] != 0) {
              puVar4[0x54] = puVar4[0x54] + piVar5[0x54];
            }
            if (piVar5[0x51] != 0) {
              puVar4[0x55] = puVar4[0x55] + piVar5[0x51];
            }
            if (piVar5[0x27] != 0) {
              puVar4[0x56] = puVar4[0x56] + piVar5[0x27];
            }
            if (piVar5[0x57] != 0) {
              puVar4[0x57] = puVar4[0x57] + piVar5[0x57];
            }
          }
        }
      }
      else if (iVar8 == 1) {
        if ((param_1 == (undefined4 *)0x4) && (*(int *)((int)this + 0x4f4) != 0)) {
          iVar8 = FUN_004672f0(*(int *)((int)this + 0x4f4));
          if (iVar8 != 0) goto LAB_0044ecfc;
        }
        iVar8 = local_24[(int)param_1];
        piVar6 = (int *)FUN_004677a0(iVar8);
        iVar8 = FUN_00467720(iVar8);
        if (iVar8 != 0) {
          pvVar3 = (void *)local_24[(int)param_1];
          FUN_00466920(pvVar3,0);
          piVar5 = (int *)FUN_00466900(pvVar3,0);
          goto LAB_0044ebbe;
        }
      }
      else if (iVar8 == 2) {
        piVar5 = (int *)FUN_004659a0(pvVar3,0);
        FUN_004659c0(pvVar3,0);
        goto LAB_0044ec2d;
      }
    }
LAB_0044ecfc:
    param_1 = (undefined4 *)((int)param_1 + 1);
    if (8 < (int)param_1) {
      FUN_0044fca0(this,&local_44);
      iVar8 = (puVar4[0x11] * local_44) / 100 + puVar4[0x11];
      puVar4[0x11] = iVar8;
      iVar9 = (puVar4[0x12] * local_40) / 100 + puVar4[0x12];
      puVar4[0x12] = iVar9;
      iVar10 = (puVar4[0x13] * local_3c) / 100 + puVar4[0x13];
      puVar4[0x13] = iVar10;
      iVar11 = (puVar4[0x14] * local_38) / 100 + puVar4[0x14];
      puVar4[0x14] = iVar11;
      iVar12 = (puVar4[0x15] * local_34) / 100 + puVar4[0x15];
      puVar4[0x15] = iVar12;
      iVar13 = (puVar4[0x16] * local_30) / 100 + puVar4[0x16];
      puVar4[0x16] = iVar13;
      iVar14 = (puVar4[0x17] * local_2c) / 100 + puVar4[0x17];
      puVar4[0x17] = iVar14;
      iVar16 = puVar4[0x18] + (local_28 * puVar4[0x18]) / 100;
      puVar4[0x18] = iVar16;
      if ((local_44 == 10) && (local_40 == 10)) {
        puVar4[0xc] = (puVar4[0xc] * 10) / 100 + puVar4[0xc];
      }
      if ((local_3c == 10) && (local_38 == 10)) {
        puVar4[10] = (puVar4[10] * 10) / 100 + puVar4[10];
      }
      if ((local_34 == 10) && (local_30 == 10)) {
        puVar4[0xe] = (puVar4[0xe] * 10) / 100 + puVar4[0xe];
      }
      if ((local_2c == 10) && (local_28 == 10)) {
        puVar4[0x57] = (puVar4[0x57] * 10) / 100 + puVar4[0x57];
      }
      if (iVar8 < 1) {
        puVar4[0x11] = 1;
      }
      if (iVar9 < 1) {
        puVar4[0x12] = 1;
      }
      if (iVar12 < 1) {
        puVar4[0x15] = 1;
      }
      if (iVar13 < 1) {
        puVar4[0x16] = 1;
      }
      if ((int)puVar4[10] < 0) {
        puVar4[10] = 0;
      }
      if (0xff < (int)puVar4[10]) {
        puVar4[10] = 0xff;
      }
      if (iVar10 < 1) {
        puVar4[0x13] = 1;
      }
      if (iVar11 < 1) {
        puVar4[0x14] = 1;
      }
      if (iVar14 < 1) {
        puVar4[0x17] = 1;
      }
      if (iVar16 < 1) {
        puVar4[0x18] = 1;
      }
      if ((int)puVar4[0xb] < 0) {
        puVar4[0xb] = 0;
      }
      if (0xff < (int)puVar4[0xb]) {
        puVar4[0xb] = 0xff;
      }
      if ((int)puVar4[0xc] < 1) {
        puVar4[0xc] = 1;
      }
      if ((int)puVar4[0xe] < 1) {
        puVar4[0xe] = 1;
      }
      if ((int)puVar4[0x10] < 0) {
        puVar4[0x10] = 0;
      }
      if ((int)puVar4[0x54] < 1) {
        puVar4[0x54] = 1;
      }
      if ((int)puVar4[0x57] < 0) {
        puVar4[0x57] = 0;
      }
      if (0xff < (int)puVar4[0x57]) {
        puVar4[0x57] = 0xff;
      }
      if (*(int *)((int)this + 0x15dc) != 0) {
        this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0xc9);
        iVar8 = puVar4[10];
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,1,*(int *)((int)this + 0x15e0) + -1);
        iVar9 = puVar4[0xb];
        puVar4[10] = (lVar7 * iVar8) / 100 + iVar8;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,2,*(int *)((int)this + 0x15e0) + -1);
        iVar8 = puVar4[0xc];
        puVar4[0xb] = (lVar7 * iVar9) / 100 + iVar9;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,3,*(int *)((int)this + 0x15e0) + -1);
        iVar9 = puVar4[0xe];
        puVar4[0xc] = (lVar7 * iVar8) / 100 + iVar8;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,4,*(int *)((int)this + 0x15e0) + -1);
        puVar4[0xe] = (lVar7 * iVar9) / 100 + iVar9;
        iVar8 = puVar4[0x11];
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,5,*(int *)((int)this + 0x15e0) + -1);
        iVar9 = puVar4[0x12];
        puVar4[0x11] = (lVar7 * iVar8) / 100 + iVar8;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,6,*(int *)((int)this + 0x15e0) + -1);
        iVar8 = puVar4[0x15];
        puVar4[0x12] = (lVar7 * iVar9) / 100 + iVar9;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,7,*(int *)((int)this + 0x15e0) + -1);
        iVar9 = puVar4[0x16];
        puVar4[0x15] = (lVar7 * iVar8) / 100 + iVar8;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,8,*(int *)((int)this + 0x15e0) + -1);
        iVar8 = puVar4[0x13];
        puVar4[0x16] = (lVar7 * iVar9) / 100 + iVar9;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,9,*(int *)((int)this + 0x15e0) + -1);
        iVar9 = puVar4[0x14];
        puVar4[0x13] = (lVar7 * iVar8) / 100 + iVar8;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,10,*(int *)((int)this + 0x15e0) + -1);
        iVar10 = puVar4[0x17];
        puVar4[0x14] = (lVar7 * iVar9) / 100 + iVar9;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,0xb,*(int *)((int)this + 0x15e0) + -1);
        iVar8 = puVar4[0x18];
        puVar4[0x17] = (lVar7 * iVar10) / 100 + iVar10;
        lVar7 = RKC_RPG_TABLEDATA::GetValue(this_00,0xc,*(int *)((int)this + 0x15e0) + -1);
        iVar8 = (lVar7 * iVar8) / 100 + iVar8;
        puVar4[0x18] = iVar8;
        if ((int)puVar4[10] < 0) {
          puVar4[10] = 0;
        }
        if (0xff < (int)puVar4[10]) {
          puVar4[10] = 0xff;
        }
        if ((int)puVar4[0xb] < 0) {
          puVar4[0xb] = 0;
        }
        if (0xff < (int)puVar4[0xb]) {
          puVar4[0xb] = 0xff;
        }
        if ((int)puVar4[0xc] < 1) {
          puVar4[0xc] = 1;
        }
        if ((int)puVar4[0xe] < 1) {
          puVar4[0xe] = 1;
        }
        if ((int)puVar4[0x11] < 1) {
          puVar4[0x11] = 1;
        }
        if ((int)puVar4[0x12] < 1) {
          puVar4[0x12] = 1;
        }
        if ((int)puVar4[0x15] < 1) {
          puVar4[0x15] = 1;
        }
        if ((int)puVar4[0x16] < 1) {
          puVar4[0x16] = 1;
        }
        if ((int)puVar4[0x13] < 1) {
          puVar4[0x13] = 1;
        }
        if ((int)puVar4[0x14] < 1) {
          puVar4[0x14] = 1;
        }
        if ((int)puVar4[0x17] < 1) {
          puVar4[0x17] = 1;
        }
        if (iVar8 < 1) {
          puVar4[0x18] = 1;
        }
      }
      if ((int)puVar4[0xc] < (int)puVar4[0xd]) {
        puVar4[0xd] = puVar4[0xc];
      }
      if ((int)puVar4[0xe] < (int)puVar4[0xf]) {
        puVar4[0xf] = puVar4[0xe];
      }
      return;
    }
  } while( true );
}



/*
 * Function: FUN_0044f2f0
 * Address: 0044f2f0
 */

undefined4 __fastcall FUN_0044f2f0(int param_1)

{
  void *this;
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int local_28;
  undefined4 local_24 [9];
  
  iVar3 = 0;
  local_24[0] = *(undefined4 *)(param_1 + 0x4e8);
  local_24[1] = *(undefined4 *)(param_1 + 0x4ec);
  local_24[2] = *(undefined4 *)(param_1 + 0x4f0);
  local_24[3] = *(undefined4 *)(param_1 + 0x4f4);
  local_24[4] = *(undefined4 *)(param_1 + 0x4f8);
  local_24[5] = *(undefined4 *)(param_1 + 0x4fc);
  local_28 = 0;
  iVar4 = 0;
  local_24[6] = *(undefined4 *)(param_1 + 0x500);
  local_24[7] = *(undefined4 *)(param_1 + 0x504);
  local_24[8] = *(undefined4 *)(param_1 + 0x508);
  do {
    this = (void *)local_24[iVar3];
    if (this != (void *)0x0) {
      iVar1 = FUN_00456210((int)this);
      if (iVar1 == 0) {
        iVar1 = FUN_00467740(this,0);
      }
      else if (iVar1 == 1) {
        if ((iVar3 == 4) && (*(int *)(param_1 + 0x4f4) != 0)) {
          iVar1 = FUN_004672f0(*(int *)(param_1 + 0x4f4));
          if (iVar1 != 0) goto LAB_0044f3ca;
        }
        iVar1 = FUN_00466900(this,0);
      }
      else {
        if (iVar1 != 2) goto LAB_0044f3ca;
        iVar1 = FUN_004659a0(this,0);
      }
      if (iVar1 != 0) {
        if (*(int *)(iVar1 + 0xcc) != 0) {
          iVar4 = iVar4 + *(int *)(iVar1 + 0xcc);
        }
        if (*(int *)(iVar1 + 0xd8) != 0) {
          local_28 = local_28 + *(int *)(iVar1 + 0xd8);
        }
      }
    }
LAB_0044f3ca:
    iVar3 = iVar3 + 1;
    if (8 < iVar3) {
      iVar3 = FUN_004671c0((void *)(param_1 + 0x550),4,0x5d75c83);
      if (iVar3 != 0) {
        iVar4 = iVar4 + 5;
      }
      iVar3 = FUN_004671c0((void *)(param_1 + 0x550),4,0x5d75c84);
      if (iVar3 != 0) {
        local_28 = local_28 + 5;
      }
      local_28 = local_28 + *(int *)(param_1 + 0x15e4) + *(int *)(param_1 + 0x15dc);
      if (DAT_0048ce98 % 3 == 0) {
        if (0 < *(int *)(param_1 + 0x1a4)) {
          if (iVar4 == 0) {
            *(undefined4 *)(param_1 + 0x1638) = 0;
          }
          else {
            iVar3 = *(int *)(param_1 + 0x1a0);
            uVar2 = (iVar3 * iVar4) / 100;
            if ((int)uVar2 < 0) {
              iVar4 = *(int *)(param_1 + 0x1638) -
                      (int)((uVar2 ^ (int)uVar2 >> 0x1f) - ((int)uVar2 >> 0x1f)) % 100;
            }
            else {
              iVar4 = *(int *)(param_1 + 0x1638) + (int)uVar2 % 100;
            }
            *(int *)(param_1 + 0x1638) = iVar4;
            if (iVar4 / 100 + (iVar4 >> 0x1f) != iVar4 >> 0x1f) {
              if (iVar4 < 0) {
                uVar2 = uVar2 - 100;
                *(int *)(param_1 + 0x1638) = iVar4 + 100;
              }
              if (0 < *(int *)(param_1 + 0x1638)) {
                uVar2 = uVar2 + 100;
                *(int *)(param_1 + 0x1638) = *(int *)(param_1 + 0x1638) + -100;
              }
            }
            iVar4 = *(int *)(param_1 + 0x1a4) + (int)uVar2 / 100;
            *(int *)(param_1 + 0x1a4) = iVar4;
            if (iVar4 < 1) {
              *(undefined4 *)(param_1 + 0x1a4) = 1;
            }
            if (iVar3 < *(int *)(param_1 + 0x1a4)) {
              *(int *)(param_1 + 0x1a4) = iVar3;
            }
          }
        }
        if (local_28 == 0) {
          *(undefined4 *)(param_1 + 0x163c) = 0;
        }
        else {
          iVar3 = *(int *)(param_1 + 0x1a8);
          uVar2 = (iVar3 * local_28) / 100;
          if ((int)uVar2 < 0) {
            iVar4 = *(int *)(param_1 + 0x163c) -
                    (int)((uVar2 ^ (int)uVar2 >> 0x1f) - ((int)uVar2 >> 0x1f)) % 100;
          }
          else {
            iVar4 = *(int *)(param_1 + 0x163c) + (int)uVar2 % 100;
          }
          *(int *)(param_1 + 0x163c) = iVar4;
          if (iVar4 / 100 + (iVar4 >> 0x1f) != iVar4 >> 0x1f) {
            if (iVar4 < 0) {
              uVar2 = uVar2 - 100;
              *(int *)(param_1 + 0x163c) = iVar4 + 100;
            }
            if (0 < *(int *)(param_1 + 0x163c)) {
              uVar2 = uVar2 + 100;
              *(int *)(param_1 + 0x163c) = *(int *)(param_1 + 0x163c) + -100;
            }
          }
          iVar4 = *(int *)(param_1 + 0x1ac) + (int)uVar2 / 100;
          *(int *)(param_1 + 0x1ac) = iVar4;
          if (iVar4 < 0) {
            *(undefined4 *)(param_1 + 0x1ac) = 0;
          }
          if (iVar3 < *(int *)(param_1 + 0x1ac)) {
            *(int *)(param_1 + 0x1ac) = iVar3;
            return 1;
          }
        }
      }
      return 1;
    }
  } while( true );
}



/*
 * Function: FUN_0044f610
 * Address: 0044f610
 */

int __thiscall FUN_0044f610(void *this,int param_1)

{
  void *this_00;
  int iVar1;
  int iVar2;
  undefined4 local_24 [9];
  
  iVar2 = 0;
  local_24[0] = *(undefined4 *)((int)this + 0x4e8);
  local_24[1] = *(undefined4 *)((int)this + 0x4ec);
  local_24[2] = *(undefined4 *)((int)this + 0x4f0);
  local_24[3] = *(undefined4 *)((int)this + 0x4f4);
  local_24[4] = *(undefined4 *)((int)this + 0x4f8);
  local_24[5] = *(undefined4 *)((int)this + 0x4fc);
  local_24[6] = *(undefined4 *)((int)this + 0x500);
  local_24[7] = *(undefined4 *)((int)this + 0x504);
  local_24[8] = *(undefined4 *)((int)this + 0x508);
  do {
    this_00 = (void *)local_24[iVar2];
    if (this_00 != (void *)0x0) {
      iVar1 = FUN_00456210((int)this_00);
      if (iVar1 == 0) {
        iVar1 = FUN_00467740(this_00,0);
      }
      else if (iVar1 == 1) {
        if ((iVar2 == 4) && (*(int *)((int)this + 0x4f4) != 0)) {
          iVar1 = FUN_004672f0(*(int *)((int)this + 0x4f4));
          if (iVar1 != 0) goto LAB_0044f6d4;
        }
        iVar1 = FUN_00466900(this_00,0);
      }
      else {
        if (iVar1 != 2) goto LAB_0044f6d4;
        iVar1 = FUN_004659a0(this_00,0);
      }
      if (iVar1 != 0) {
        param_1 = param_1 - *(int *)(iVar1 + 0xe4);
      }
    }
LAB_0044f6d4:
    iVar2 = iVar2 + 1;
    if (8 < iVar2) {
      iVar2 = 1;
      if (0 < param_1) {
        iVar2 = param_1;
      }
      return iVar2;
    }
  } while( true );
}



/*
 * Function: FUN_0044f6f0
 * Address: 0044f6f0
 */

void __thiscall FUN_0044f6f0(void *this,int param_1,int param_2)

{
  int iVar1;
  RKC_RPG_TABLEDATA *this_00;
  long lVar2;
  
  if ((((*(byte *)((int)this + 0x2d0) & 1) != 0) &&
      (this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x1b),
      this_00 != (RKC_RPG_TABLEDATA *)0x0)) && (*(int *)((int)this + param_1 * 4 + 0x1498) < 0x14))
  {
    if (param_2 == 1) {
      if (param_1 < 7) {
        return;
      }
      if (9 < param_1) {
        return;
      }
    }
    else if ((6 < param_1) && (param_1 < 10)) {
      return;
    }
    *(int *)((int)this + param_1 * 4 + 0x14f0) = *(int *)((int)this + param_1 * 4 + 0x14f0) + 1;
    lVar2 = RKC_RPG_TABLEDATA::GetValue
                      (this_00,param_1,*(int *)((int)this + param_1 * 4 + 0x1498) + -1);
    iVar1 = *(int *)((int)this + param_1 * 4 + 0x14f0);
    if (lVar2 <= iVar1) {
      *(int *)((int)this + param_1 * 4 + 0x14f0) = iVar1 - lVar2;
      *(int *)((int)this + param_1 * 4 + 0x1498) = *(int *)((int)this + param_1 * 4 + 0x1498) + 1;
      FUN_00452a90((int *)this);
    }
  }
  return;
}



/*
 * Function: FUN_0044f7a0
 * Address: 0044f7a0
 */

uint __fastcall FUN_0044f7a0(int param_1)

{
  void *this;
  int iVar1;
  int iVar2;
  int iVar3;
  uint local_28;
  undefined4 local_24 [9];
  
  iVar2 = 0;
  iVar3 = 0;
  local_28 = 0;
  local_24[0] = *(undefined4 *)(param_1 + 0x4e8);
  local_24[1] = *(undefined4 *)(param_1 + 0x4ec);
  local_24[2] = *(undefined4 *)(param_1 + 0x4f0);
  local_24[3] = *(undefined4 *)(param_1 + 0x4f4);
  local_24[4] = *(undefined4 *)(param_1 + 0x4f8);
  local_24[5] = *(undefined4 *)(param_1 + 0x4fc);
  local_24[6] = *(undefined4 *)(param_1 + 0x500);
  local_24[7] = *(undefined4 *)(param_1 + 0x504);
  local_24[8] = *(undefined4 *)(param_1 + 0x508);
  do {
    this = (void *)local_24[iVar2];
    if (this != (void *)0x0) {
      iVar1 = FUN_00456210((int)this);
      if (iVar1 == 0) {
        iVar1 = FUN_00467740(this,0);
      }
      else if (iVar1 == 1) {
        if ((iVar2 == 4) && (*(int *)(param_1 + 0x4f4) != 0)) {
          iVar1 = FUN_004672f0(*(int *)(param_1 + 0x4f4));
          if (iVar1 != 0) goto LAB_0044f87c;
        }
        iVar1 = FUN_00466900(this,0);
      }
      else {
        if (iVar1 != 2) goto LAB_0044f87c;
        iVar1 = FUN_004659a0(this,0);
      }
      if ((iVar1 != 0) && (iVar3 = iVar3 + *(int *)(iVar1 + 0xf0), *(int *)(iVar1 + 0xf0) != 0)) {
        local_28 = local_28 + *(int *)(iVar1 + 0xfc);
      }
    }
LAB_0044f87c:
    iVar2 = iVar2 + 1;
    if (8 < iVar2) {
      iVar2 = _rand();
      return (iVar3 <= iVar2 % 100) - 1 & local_28;
    }
  } while( true );
}



/*
 * Function: FUN_0044f8b0
 * Address: 0044f8b0
 */

int __fastcall FUN_0044f8b0(int param_1)

{
  void *this;
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 local_24 [9];
  
  iVar3 = 0;
  iVar2 = 0;
  local_24[0] = *(undefined4 *)(param_1 + 0x4e8);
  local_24[1] = *(undefined4 *)(param_1 + 0x4ec);
  local_24[2] = *(undefined4 *)(param_1 + 0x4f0);
  local_24[3] = *(undefined4 *)(param_1 + 0x4f4);
  local_24[4] = *(undefined4 *)(param_1 + 0x4f8);
  local_24[5] = *(undefined4 *)(param_1 + 0x4fc);
  local_24[6] = *(undefined4 *)(param_1 + 0x500);
  local_24[7] = *(undefined4 *)(param_1 + 0x504);
  local_24[8] = *(undefined4 *)(param_1 + 0x508);
  do {
    this = (void *)local_24[iVar2];
    if (this != (void *)0x0) {
      iVar1 = FUN_00456210((int)this);
      if (iVar1 == 0) {
        iVar1 = FUN_00467740(this,0);
      }
      else if (iVar1 == 1) {
        if ((iVar2 == 4) && (*(int *)(param_1 + 0x4f4) != 0)) {
          iVar1 = FUN_004672f0(*(int *)(param_1 + 0x4f4));
          if (iVar1 != 0) goto LAB_0044f972;
        }
        iVar1 = FUN_00466900(this,0);
      }
      else {
        if (iVar1 != 2) goto LAB_0044f972;
        iVar1 = FUN_004659a0(this,0);
      }
      if (iVar1 != 0) {
        iVar3 = iVar3 + *(int *)(iVar1 + 0x138);
      }
    }
LAB_0044f972:
    iVar2 = iVar2 + 1;
    if (8 < iVar2) {
      return iVar3;
    }
  } while( true );
}



/*
 * Function: FUN_0044f990
 * Address: 0044f990
 */

uint __fastcall FUN_0044f990(int param_1)

{
  void *this;
  int iVar1;
  int iVar2;
  int iVar3;
  uint local_28;
  undefined4 local_24 [9];
  
  iVar2 = 0;
  iVar3 = 0;
  local_28 = 0;
  local_24[0] = *(undefined4 *)(param_1 + 0x4e8);
  local_24[1] = *(undefined4 *)(param_1 + 0x4ec);
  local_24[2] = *(undefined4 *)(param_1 + 0x4f0);
  local_24[3] = *(undefined4 *)(param_1 + 0x4f4);
  local_24[4] = *(undefined4 *)(param_1 + 0x4f8);
  local_24[5] = *(undefined4 *)(param_1 + 0x4fc);
  local_24[6] = *(undefined4 *)(param_1 + 0x500);
  local_24[7] = *(undefined4 *)(param_1 + 0x504);
  local_24[8] = *(undefined4 *)(param_1 + 0x508);
  do {
    this = (void *)local_24[iVar2];
    if (this != (void *)0x0) {
      iVar1 = FUN_00456210((int)this);
      if (iVar1 == 0) {
        iVar1 = FUN_00467740(this,0);
      }
      else if (iVar1 == 1) {
        if ((iVar2 == 4) && (*(int *)(param_1 + 0x4f4) != 0)) {
          iVar1 = FUN_004672f0(*(int *)(param_1 + 0x4f4));
          if (iVar1 != 0) goto LAB_0044fa6c;
        }
        iVar1 = FUN_00466900(this,0);
      }
      else {
        if (iVar1 != 2) goto LAB_0044fa6c;
        iVar1 = FUN_004659a0(this,0);
      }
      if ((iVar1 != 0) && (iVar3 = iVar3 + *(int *)(iVar1 + 0x120), *(int *)(iVar1 + 0x120) != 0)) {
        local_28 = local_28 + *(int *)(iVar1 + 300);
      }
    }
LAB_0044fa6c:
    iVar2 = iVar2 + 1;
    if (8 < iVar2) {
      iVar2 = _rand();
      return (iVar3 <= iVar2 % 100) - 1 & local_28;
    }
  } while( true );
}



/*
 * Function: FUN_0044faa0
 * Address: 0044faa0
 */

undefined4 __thiscall FUN_0044faa0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int local_14 [5];
  
  iVar3 = 0;
  local_14[0] = *(int *)((int)this + 0x4e8);
  local_14[1] = *(undefined4 *)((int)this + 0x4ec);
  local_14[2] = *(undefined4 *)((int)this + 0x4f0);
  local_14[3] = *(undefined4 *)((int)this + 0x4f4);
  local_14[4] = *(undefined4 *)((int)this + 0x4f8);
  do {
    iVar2 = local_14[iVar3];
    if (iVar2 != 0) {
      iVar1 = FUN_00456210(iVar2);
      if (iVar1 == 0) {
        iVar1 = FUN_00467710(iVar2);
        iVar2 = FUN_00467720(iVar2);
        if (iVar2 <= (iVar1 * param_1) / 100) {
          return 1;
        }
      }
      else if ((iVar1 == 1) &&
              (((iVar3 != 4 || (*(int *)((int)this + 0x4f4) == 0)) ||
               (iVar1 = FUN_004672f0(*(int *)((int)this + 0x4f4)), iVar1 == 0)))) {
        iVar1 = FUN_00467710(iVar2);
        iVar2 = FUN_00467720(iVar2);
        if (iVar2 <= (iVar1 * param_1) / 100) {
          return 1;
        }
      }
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 5);
  return 0;
}



/*
 * Function: FUN_0044fba0
 * Address: 0044fba0
 */

void __thiscall FUN_0044fba0(int param_1_00,int *param_1,int param_2,int *param_3)

{
  int iVar1;
  int *piVar2;
  longlong lVar3;
  int local_50;
  int local_48 [17];
  
  local_48[1] = 20000;
  local_48[3] = 0xffffb1e0;
  local_48[4] = 0xffffb1e0;
  local_48[6] = 20000;
  local_48[0] = 0;
  local_48[2] = 0;
  local_48[5] = 0;
  local_48[7] = 0;
  local_48[8] = 0x373c;
  local_48[9] = 0xffffc8c4;
  local_48[10] = 0xffffc8c4;
  local_48[0xb] = 0x373c;
  local_48[0xc] = 0xffffc8c4;
  local_48[0xd] = 0xffffc8c4;
  local_48[0xe] = 0x373c;
  local_48[0xf] = 0x373c;
  if (param_3 == (int *)0x0) {
    param_3 = (int *)(param_1_00 + 0x74);
  }
  piVar2 = local_48;
  local_50 = 8;
  do {
    FUN_00468007((double)(*piVar2 - *param_3),(double)(piVar2[1] - param_3[1]));
    lVar3 = __ftol();
    iVar1 = (20000 - (int)lVar3) / 2000;
    *param_1 = iVar1;
    if (param_2 != 0) {
      *param_1 = iVar1 + 10;
    }
    piVar2 = piVar2 + 2;
    param_1 = param_1 + 1;
    local_50 = local_50 + -1;
  } while (local_50 != 0);
  return;
}



/*
 * Function: FUN_0044fca0
 * Address: 0044fca0
 */

void __thiscall FUN_0044fca0(void *this,int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int local_20 [8];
  
  FUN_0044fba0(param_1,0,(int)this + 0x1d4);
  FUN_0044fe30(this,local_20);
  iVar1 = (int)local_20 - (int)param_1;
  iVar2 = 8;
  do {
    iVar3 = *param_1 + *(int *)(iVar1 + (int)param_1);
    *param_1 = iVar3;
    if (iVar3 < -10) {
      *param_1 = -10;
    }
    if (10 < *param_1) {
      *param_1 = 10;
    }
    param_1 = param_1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/*
 * Function: FUN_0044fd10
 * Address: 0044fd10
 */

void __thiscall FUN_0044fd10(int param_1_00,int param_1,int param_2,int *param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  unkbyte10 Var5;
  unkbyte10 extraout_ST1;
  longlong lVar6;
  int local_40 [16];
  
  local_40[1] = 20000;
  local_40[3] = 0xffffb1e0;
  local_40[4] = 0xffffb1e0;
  local_40[6] = 20000;
  local_40[0] = 0;
  local_40[2] = 0;
  local_40[5] = 0;
  local_40[7] = 0;
  local_40[8] = 0x373c;
  local_40[9] = 0xffffc8c4;
  local_40[10] = 0xffffc8c4;
  local_40[0xb] = 0x373c;
  local_40[0xc] = 0xffffc8c4;
  local_40[0xd] = 0xffffc8c4;
  local_40[0xe] = 0x373c;
  local_40[0xf] = 0x373c;
  if (0 < param_2) {
    if (param_3 == (int *)0x0) {
      param_3 = (int *)(param_1_00 + 0x74);
    }
    iVar1 = local_40[param_1 * 2];
    iVar2 = local_40[param_1 * 2 + 1];
    iVar3 = iVar1 - *param_3;
    iVar4 = iVar2 - param_3[1];
    FUN_00468007((double)iVar3,(double)iVar4);
    lVar6 = __ftol();
    if ((int)lVar6 <= param_2) {
      *param_3 = iVar1;
      param_3[1] = iVar2;
      return;
    }
    Var5 = fpatan((float10)iVar4,(float10)iVar3);
    fcos(Var5);
    lVar6 = __ftol();
    fsin(extraout_ST1);
    *param_3 = *param_3 + (int)lVar6;
    lVar6 = __ftol();
    param_3[1] = param_3[1] + (int)lVar6;
  }
  return;
}



/*
 * Function: FUN_0044fe30
 * Address: 0044fe30
 */

void __thiscall FUN_0044fe30(void *this,int *param_1)

{
  void *this_00;
  void *this_01;
  void *this_02;
  void *this_03;
  int *piVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  void *pvVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  int local_2c;
  int local_24;
  int local_20;
  
  iVar9 = 0;
  pvVar6 = *(void **)((int)this + 0x4f4);
  piVar1 = param_1;
  if (pvVar6 != (void *)0x0) {
    piVar1 = (int *)FUN_00467760(pvVar6,0);
  }
  this_00 = *(void **)((int)this + 0x4e8);
  piVar2 = param_1;
  if (this_00 != (void *)0x0) {
    piVar2 = (int *)FUN_00466920(this_00,0);
  }
  this_01 = *(void **)((int)this + 0x4ec);
  if (this_01 != (void *)0x0) {
    local_24 = FUN_00466920(this_01,0);
  }
  this_02 = *(void **)((int)this + 0x4f0);
  if (this_02 != (void *)0x0) {
    local_20 = FUN_00466920(this_02,0);
  }
  this_03 = *(void **)((int)this + 0x4f8);
  piVar4 = param_1;
  if ((this_03 != (void *)0x0) &&
     ((*(int *)((int)this + 0x4f4) == 0 ||
      (iVar3 = FUN_004672f0(*(int *)((int)this + 0x4f4)), iVar3 == 0)))) {
    piVar4 = (int *)FUN_00466920(this_03,0);
  }
  iVar7 = local_24 - (int)piVar2;
  iVar10 = (int)piVar1 - (int)piVar2;
  iVar8 = local_20 - (int)piVar2;
  iVar3 = (int)piVar4 - (int)piVar2;
  local_2c = 0;
  piVar1 = param_1;
  do {
    *piVar1 = 0;
    if (pvVar6 != (void *)0x0) {
      iVar5 = FUN_00467750(pvVar6,iVar9);
      *piVar1 = *piVar1 + iVar5 + *(int *)((int)piVar2 + iVar10);
    }
    if (this_00 != (void *)0x0) {
      iVar5 = FUN_00467750(this_00,iVar9);
      *piVar1 = *piVar1 + iVar5 + *piVar2;
    }
    if (this_01 != (void *)0x0) {
      iVar5 = FUN_00467750(this_01,iVar9);
      *piVar1 = *piVar1 + iVar5 + *(int *)(iVar7 + (int)piVar2);
    }
    if (this_02 != (void *)0x0) {
      iVar5 = FUN_00467750(this_02,iVar9);
      *piVar1 = *piVar1 + iVar5 + *(int *)(iVar8 + (int)piVar2);
    }
    if ((this_03 != (void *)0x0) &&
       ((*(int *)((int)this + 0x4f4) == 0 ||
        (iVar5 = FUN_004672f0(*(int *)((int)this + 0x4f4)), iVar5 == 0)))) {
      iVar5 = FUN_00467750(this_03,iVar9);
      *piVar1 = *piVar1 + iVar5 + *(int *)(iVar3 + (int)piVar2);
    }
    local_24 = 4;
    puVar11 = (undefined4 *)((int)this + 0x4fc);
    do {
      if ((void *)*puVar11 != (void *)0x0) {
        iVar5 = FUN_004659c0((void *)*puVar11,0);
        *piVar1 = *piVar1 + *(int *)(local_2c + iVar5);
      }
      puVar11 = puVar11 + 1;
      local_24 = local_24 + -1;
    } while (local_24 != 0);
    iVar9 = iVar9 + 1;
    local_2c = local_2c + 0xc;
    piVar2 = piVar2 + 3;
    piVar1 = piVar1 + 1;
  } while (local_2c < 0x60);
  iVar9 = FUN_00466d50((int *)((int)this + 0x514));
  iVar3 = 0;
  if (0 < iVar9) {
    do {
      pvVar6 = (void *)FUN_00466cb0((int *)((int)this + 0x514),iVar3);
      iVar7 = FUN_00465e60(pvVar6,2,-1,-1);
      if (((iVar7 == 1) && (iVar7 = FUN_00427b40((int)pvVar6), iVar7 != 0)) &&
         (iVar7 = FUN_004308a0((int)pvVar6), iVar7 != 1)) {
        piVar2 = (int *)FUN_004659c0(pvVar6,0);
        iVar7 = 8;
        piVar1 = param_1;
        do {
          iVar8 = *piVar2;
          piVar2 = piVar2 + 3;
          *piVar1 = *piVar1 + iVar8;
          piVar1 = piVar1 + 1;
          iVar7 = iVar7 + -1;
        } while (iVar7 != 0);
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < iVar9);
  }
  return;
}



/*
 * Function: FUN_00450080
 * Address: 00450080
 */

void __fastcall FUN_00450080(void *param_1)

{
  longlong lVar1;
  
  FUN_0044ea60(param_1,(undefined4 *)((int)param_1 + 0x170));
  if (*(int *)((int)param_1 + 0x1a0) < *(int *)((int)param_1 + 0x1a4)) {
    *(int *)((int)param_1 + 0x1a4) = *(int *)((int)param_1 + 0x1a0);
  }
  if (*(int *)((int)param_1 + 0x1a8) < *(int *)((int)param_1 + 0x1ac)) {
    *(int *)((int)param_1 + 0x1ac) = *(int *)((int)param_1 + 0x1a8);
  }
  FUN_00450d40((int)param_1);
  lVar1 = __ftol();
  *(int *)((int)param_1 + 0x300) = (int)lVar1;
  *(int *)((int)param_1 + 0x304) = (int)lVar1 * 2;
  if (*(int *)((int)param_1 + 0x2c0) < *(int *)((int)param_1 + 0x328)) {
    *(int *)((int)param_1 + 0x328) = *(int *)((int)param_1 + 0x2c0);
  }
  if (*(int *)((int)param_1 + 0x458) != 0) {
    FUN_004503d0((int)param_1);
  }
  return;
}



/*
 * Function: FUN_004501c0
 * Address: 004501c0
 */

undefined4 __fastcall FUN_004501c0(int param_1)

{
  RKC_RPG_TABLEDATA *this;
  void *pvVar1;
  long lVar2;
  void *this_00;
  int iVar3;
  int *piVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 uVar8;
  int iVar9;
  undefined4 uVar10;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  char acStack_94 [24];
  undefined4 uStack_7c;
  undefined4 uStack_78;
  undefined4 uStack_64;
  int iStack_60;
  int iStack_5c;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
  iVar5 = *(int *)(param_1 + 4) + 16000000;
  iVar3 = iVar5;
  pvVar1 = (void *)FUN_00427aa0(*(int *)(param_1 + 0x458));
  pvVar1 = (void *)FUN_004299e0(pvVar1,iVar3);
  if (pvVar1 == (void *)0x0) {
    iVar9 = 40000000;
    iVar3 = iVar5;
    pvVar1 = (void *)FUN_00427aa0(*(int *)(param_1 + 0x458));
    pvVar1 = FUN_004298c0(pvVar1,iVar9,iVar3);
  }
  uStack_9c = *(undefined4 *)(param_1 + 0x2e0);
  uStack_98 = *(undefined4 *)(param_1 + 0x2e4);
  uStack_ac = 0xffffffb0;
  uStack_a8 = 0xffffffb0;
  uStack_a4 = 0x4f;
  uStack_a0 = 0x4f;
  lVar2 = RKC_RPG_TABLEDATA::GetValue(this,*(long *)(param_1 + 0x150),1);
  iVar3 = *(int *)(param_1 + 0x458);
  uVar10 = 3;
  puVar7 = &uStack_ac;
  uVar8 = 0;
  puVar6 = &uStack_9c;
  iVar9 = 40000000;
  this_00 = (void *)FUN_00434cd0((int)pvVar1);
  FUN_00453aa0(this_00,iVar3,iVar5,iVar9,puVar6,puVar7,uVar8,uVar10,lVar2);
  iVar3 = FUN_00434cd0((int)pvVar1);
  *(int *)(iVar3 + 0x214) = param_1;
  uStack_1c = uStack_a8;
  uStack_18 = uStack_a4;
  uStack_20 = uStack_ac;
  uStack_7c = 10;
  uStack_78 = 0;
  uStack_64 = 0x9f;
  uStack_30 = 0x96;
  uStack_14 = uStack_a0;
  uStack_34 = 0;
  FUN_00413830(*(long *)(param_1 + 0x150),acStack_94);
  FUN_004136f0(*(int *)(param_1 + 0x150),*(int *)(param_1 + 0x154),(int)acStack_94);
  FUN_004138b0(param_1,(int)acStack_94);
  iStack_5c = *(int *)(param_1 + 0x156c);
  if (iStack_60 < *(int *)(param_1 + 0x156c)) {
    iStack_5c = iStack_60;
  }
  if (iStack_5c < 1) {
    iStack_5c = iStack_60;
  }
  piVar4 = (int *)FUN_00434cd0((int)pvVar1);
  (**(code **)(*piVar4 + 4))(acStack_94);
  uVar8 = *(undefined4 *)(param_1 + 0x2e0);
  uVar10 = *(undefined4 *)(param_1 + 0x2e4);
  iVar3 = FUN_00434cd0((int)pvVar1);
  *(undefined4 *)(iVar3 + 0x18) = uVar8;
  *(undefined4 *)(iVar3 + 0x1c) = uVar10;
  iVar3 = FUN_00434cd0((int)pvVar1);
  *(undefined4 *)(iVar3 + 0x10) = *(undefined4 *)(param_1 + 0x31c);
  iVar3 = FUN_00434cd0((int)pvVar1);
  if (*(int *)(param_1 + 0x15c) != 0) {
    *(undefined4 *)(iVar3 + 0x168) = 1;
    *(undefined4 *)(iVar3 + 0x164) = 6;
    *(undefined4 *)(iVar3 + 0x158) = 5000;
    *(undefined4 *)(iVar3 + 0xfc) = 0;
  }
  return 1;
}



/*
 * Function: FUN_004503d0
 * Address: 004503d0
 */

void __fastcall FUN_004503d0(int param_1)

{
  int iVar1;
  void *this;
  int iVar2;
  char *pcVar3;
  undefined4 *puVar4;
  char local_94 [24];
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_64;
  int local_60;
  int local_5c;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  
  iVar1 = *(int *)(param_1 + 4) + 16000000;
  this = (void *)FUN_00427aa0(*(int *)(param_1 + 0x458));
  iVar1 = FUN_004299e0(this,iVar1);
  if ((iVar1 != 0) && (iVar1 = FUN_00434cd0(iVar1), iVar1 != 0)) {
    local_1c = 0xffffffb0;
    local_18 = 0x4f;
    local_7c = 10;
    local_78 = 0;
    local_64 = 0x9f;
    local_30 = 0x96;
    local_20 = 0xffffffb0;
    local_14 = 0x4f;
    local_34 = 0;
    FUN_00413830(*(long *)(param_1 + 0x150),local_94);
    FUN_004136f0(*(int *)(param_1 + 0x150),*(int *)(param_1 + 0x154),(int)local_94);
    FUN_004138b0(param_1,(int)local_94);
    local_5c = *(int *)(iVar1 + 0xfc);
    if (local_60 < local_5c) {
      local_5c = local_60;
    }
    if (local_5c < 1) {
      local_5c = local_60;
    }
    if (*(int *)(iVar1 + 0xfc) < 1) {
      local_5c = 0;
    }
    pcVar3 = local_94;
    puVar4 = (undefined4 *)(iVar1 + 0xc4);
    for (iVar2 = 0x25; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *(undefined4 *)pcVar3;
      pcVar3 = pcVar3 + 4;
      puVar4 = puVar4 + 1;
    }
  }
  return;
}



/*
 * Function: FUN_00450500
 * Address: 00450500
 */

undefined4 __thiscall FUN_00450500(void *this,int param_1)

{
  int iVar1;
  void *this_00;
  
  *(undefined4 *)(*(int *)((int)this + 0x1590) + *(int *)((int)this + 0x150) * 4) =
       *(undefined4 *)((int)this + 0x154);
  *(undefined4 *)(*(int *)((int)this + 0x1594) + *(int *)((int)this + 0x150) * 4) =
       *(undefined4 *)((int)this + 0x158);
  RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
  *(int *)((int)this + 0x150) = param_1;
  *(undefined4 *)((int)this + 0x154) = *(undefined4 *)(*(int *)((int)this + 0x1590) + param_1 * 4);
  *(undefined4 *)((int)this + 0x158) = *(undefined4 *)(*(int *)((int)this + 0x1594) + param_1 * 4);
  *(undefined4 *)((int)this + 0x15c) = 0;
  FUN_004505d0((int)this);
  FUN_004501c0((int)this);
  iVar1 = *(int *)((int)this + 4) + 16000000;
  this_00 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
  iVar1 = FUN_004299e0(this_00,iVar1);
  if (iVar1 != 0) {
    iVar1 = FUN_00434cd0(iVar1);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x120) = 0;
      *(undefined4 *)(iVar1 + 0xfc) = *(undefined4 *)(iVar1 + 0xf8);
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_004505d0
 * Address: 004505d0
 */

undefined4 __fastcall FUN_004505d0(int param_1)

{
  int iVar1;
  void *pvVar2;
  
  iVar1 = *(int *)(param_1 + 4) + 16000000;
  pvVar2 = (void *)FUN_00427aa0(*(int *)(param_1 + 0x458));
  iVar1 = FUN_004299e0(pvVar2,iVar1);
  if (iVar1 != 0) {
    iVar1 = FUN_00434cd0(iVar1);
    if (iVar1 != 0) {
      *(undefined4 *)(param_1 + 0x156c) = *(undefined4 *)(iVar1 + 0xfc);
      iVar1 = *(int *)(iVar1 + 4);
      pvVar2 = (void *)FUN_00427aa0(*(int *)(param_1 + 0x458));
      FUN_00429b20(pvVar2,iVar1);
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_00450630
 * Address: 00450630
 */

undefined4 __fastcall FUN_00450630(int param_1)

{
  undefined4 uVar1;
  
  if (*(int *)(param_1 + 0x4f4) != 0) {
    uVar1 = FUN_004663a0(*(int *)(param_1 + 0x4f4));
    switch(uVar1) {
    case 0:
      return 8;
    case 1:
      return 10;
    case 3:
      return 9;
    case 4:
      return 0x13;
    case 5:
      return 0x14;
    }
  }
  return 7;
}



/*
 * Function: FUN_00450690
 * Address: 00450690
 */

undefined4 __thiscall FUN_00450690(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x584) = param_1;
  return 1;
}



/*
 * Function: FUN_004506b0
 * Address: 004506b0
 */

void __fastcall FUN_004506b0(int param_1)

{
  int iVar1;
  void *pvVar2;
  int iVar3;
  int local_8;
  int local_4;
  
  iVar1 = *(int *)(param_1 + 4) + 16000000;
  pvVar2 = (void *)FUN_00427aa0(*(int *)(param_1 + 0x458));
  iVar1 = FUN_004299e0(pvVar2,iVar1);
  if ((iVar1 == 0) || (iVar1 = FUN_00434cd0(iVar1), iVar1 == 0)) {
    iVar3 = *(int *)(param_1 + 0x1280);
    if (iVar3 == -1) {
      return;
    }
  }
  else {
    iVar3 = *(int *)(param_1 + 0x1280);
    if (iVar3 == -1) {
      return;
    }
    if ((*(int *)(param_1 + 0x1284) != 0) && (*(int *)(iVar1 + 0x164) == 2)) {
      FUN_00417b10(&DAT_00482df4,*(long *)(iVar1 + 0x18),*(long *)(iVar1 + 0x1c),&local_4,&local_8);
      local_8 = local_8 + -0x50;
      local_4 = local_4 + 0x14;
      pvVar2 = (void *)FUN_00457f10(DAT_0048ce10,*(int *)(param_1 + 0x1280));
      if (pvVar2 != (void *)0x0) {
        FUN_004575f0(pvVar2,local_4,local_8);
      }
      *(int *)(param_1 + 0x1284) = *(int *)(param_1 + 0x1284) + -1;
      return;
    }
  }
  FUN_00457e60(DAT_0048ce10,iVar3);
  *(undefined4 *)(param_1 + 0x1280) = 0xffffffff;
  return;
}



/*
 * Function: FUN_004507a0
 * Address: 004507a0
 */

undefined4 __cdecl
FUN_004507a0(undefined param_1,int param_2,int param_3,int *param_4,undefined *param_5,char *param_6
            ,char *param_7,char *param_8,undefined *param_9,undefined *param_10,undefined *param_11,
            char *param_12,int param_13,int param_14)

{
  char cVar1;
  int *piVar2;
  RKC_RPG_TABLEDATA *this;
  int iVar3;
  void *this_00;
  undefined4 uVar4;
  int extraout_ECX;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  char *pcVar8;
  undefined1 unaff_retaddr;
  undefined uStack00000005;
  undefined uStack00000006;
  char cStack00000144;
  char *pcVar9;
  
  FUN_00467f60(unaff_retaddr);
  param_5 = &DAT_00480538;
  param_6 = s_Water_00480530;
  param_7 = s_Earth_00480528;
  param_8 = s_Thunder_00480520;
  param_9 = &DAT_00480518;
  param_10 = &DAT_00480510;
  param_11 = &DAT_0048050c;
  param_12 = s_Metal_00480504;
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
  iVar3 = *(int *)(extraout_ECX + 4) + 16000000;
  this_00 = (void *)FUN_00427aa0(*(int *)(extraout_ECX + 0x458));
  iVar3 = FUN_004299e0(this_00,iVar3);
  if ((iVar3 == 0) || (iVar3 = FUN_00434cd0(iVar3), iVar3 == 0)) {
    return 0;
  }
  if (*(int *)(extraout_ECX + 0x1280) != -1) {
    FUN_00457e60(DAT_0048ce10,*(int *)(extraout_ECX + 0x1280));
    *(undefined4 *)(extraout_ECX + 0x1280) = 0xffffffff;
  }
  param_4 = FUN_00457db0(DAT_0048ce10);
  uStack00000006 = 0;
  uStack00000005 = 0;
  param_1 = 0;
  FUN_00417b10(&DAT_00482df4,*(long *)(iVar3 + 0x18),*(long *)(iVar3 + 0x1c),&param_2,&param_3);
  param_3 = param_3 + -0x50;
  param_2 = param_2 + 0x14;
  cStack00000144 = '\0';
  param_13 = param_2;
  param_14 = param_3;
  RKC_RPG_TABLEDATA::GetStrings(this,*(long *)(extraout_ECX + 0x150),0);
  FUN_00467d51(&stack0x00000044,(byte *)s___s__0047dd68);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  uVar5 = 0xffffffff;
  pcVar9 = &DAT_0047d884;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_Level__5d_004804e8);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_HP__4d__4d_004805a8);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_Attribute__5s_004804c0);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_Attack__5d_Defense__5d_00480498);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_Hit_Rate__5d_Evasion_Rate__5d_00480470);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_M_Defense__5d_M_Evasion_Rate__5d_00480448);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00467d51(&stack0x00000044,(byte *)s_Attack_Speed__5d_Walking_Speed___00480420);
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  iVar3 = *(int *)(extraout_ECX + 0x34) / 3 + 2;
  if (0x23 < iVar3) {
    iVar3 = 0x23;
  }
  if (*(int *)(extraout_ECX + 0x154) == iVar3) {
    if (iVar3 == 0x23) {
      pcVar9 = s_Experience_Max_0048040c;
    }
    else {
      pcVar9 = s_Experience_Limit_004803f8;
    }
  }
  else {
    pcVar9 = s_Experience__5d_004803e4;
  }
  FUN_00467d51(&stack0x00000044,(byte *)pcVar9);
  piVar2 = param_4;
  uVar5 = 0xffffffff;
  pcVar9 = &stack0x00000044;
  do {
    pcVar8 = pcVar9;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar3 = -1;
  pcVar9 = &stack0x00000144;
  do {
    pcVar7 = pcVar9;
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    pcVar7 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar7;
  } while (cVar1 != '\0');
  pcVar9 = pcVar8 + -uVar5;
  pcVar8 = pcVar7 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar8 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar8 = pcVar8 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar8 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar8 = pcVar8 + 1;
  }
  FUN_00456550(param_4,6,0x261,1,&param_13,(int *)&stack0x00000000,(int *)&param_1,&stack0x00000144,
               (int *)0x0,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,500);
  uVar4 = FUN_00456230((int)piVar2);
  *(undefined4 *)(extraout_ECX + 0x1280) = uVar4;
  *(undefined4 *)(extraout_ECX + 0x1284) = 0xffffffff;
  return 1;
}



/*
 * Function: FUN_00450c60
 * Address: 00450c60
 */

int __fastcall FUN_00450c60(int param_1)

{
  RKC_RPG_TABLEDATA *this;
  int iVar1;
  long lVar2;
  int iVar3;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,4);
  iVar1 = *(int *)(param_1 + 0x198);
  if (0xff < iVar1) {
    iVar1 = 0xff;
  }
  lVar2 = RKC_RPG_TABLEDATA::GetValue(this,(int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,0);
  iVar1 = lVar2 + 1;
  if (iVar1 < 0) {
    iVar1 = 0;
  }
  else if (9 < iVar1) {
    iVar1 = 9;
  }
  iVar3 = FUN_00445630(param_1);
  if (*(int *)(param_1 + 0x1b0) < iVar3) {
    return 0;
  }
  return iVar1;
}



/*
 * Function: FUN_00450cd0
 * Address: 00450cd0
 */

int __fastcall FUN_00450cd0(int param_1)

{
  RKC_RPG_TABLEDATA *this;
  int iVar1;
  long lVar2;
  int iVar3;
  
  this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,4);
  iVar1 = *(int *)(param_1 + 0x2cc);
  if (0xff < iVar1) {
    iVar1 = 0xff;
  }
  lVar2 = RKC_RPG_TABLEDATA::GetValue(this,(int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5,0);
  iVar1 = lVar2 + 1;
  if (iVar1 < 0) {
    iVar1 = 0;
  }
  else if (9 < iVar1) {
    iVar1 = 9;
  }
  iVar3 = FUN_00445630(param_1);
  if (*(int *)(param_1 + 0x1b0) < iVar3) {
    return 0;
  }
  return iVar1;
}



/*
 * Function: FUN_00450d40
 * Address: 00450d40
 */

int __fastcall FUN_00450d40(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 0x19c) + 0x20;
  iVar1 = (int)(iVar1 + (iVar1 >> 0x1f & 0x1fU)) >> 5;
  if (iVar1 < 0) {
    iVar1 = 0;
  }
  else if (9 < iVar1) {
    iVar1 = 9;
  }
  iVar2 = FUN_00445630(param_1);
  if (*(int *)(param_1 + 0x1b0) < iVar2) {
    return 0;
  }
  return iVar1;
}



/*
 * Function: FUN_00450d90
 * Address: 00450d90
 */

int __thiscall FUN_00450d90(void *this,int param_1,int param_2)

{
  void *pvVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  int local_1c;
  int local_18;
  int local_14;
  undefined4 local_10 [4];
  
  iVar4 = 0;
  local_10[0] = *(undefined4 *)((int)this + 0x4e8);
  local_10[1] = *(undefined4 *)((int)this + 0x4ec);
  local_10[3] = *(undefined4 *)((int)this + 0x4f8);
  local_10[2] = *(undefined4 *)((int)this + 0x4f0);
  local_1c = 0;
  local_14 = 0;
  local_18 = 0;
  if (param_1 == 1) {
    pvVar1 = *(void **)((int)this + 0x4f4);
    if (pvVar1 != (void *)0x0) {
      if (param_2 == 0) {
        piVar2 = (int *)FUN_00467740(pvVar1,0xe);
        return *piVar2;
      }
      if (param_2 == 1) {
        piVar2 = (int *)FUN_00467740(pvVar1,0xf);
        if (*piVar2 == 0) {
          return 0;
        }
        piVar2 = (int *)FUN_00467740(*(void **)((int)this + 0x4f4),0xf);
        return *piVar2;
      }
      if (param_2 == 2) {
        piVar2 = (int *)FUN_00467740(pvVar1,0x10);
        if (*piVar2 == 0) {
          return 0;
        }
        return 1;
      }
    }
  }
  else {
    do {
      if ((((iVar4 != 3) || (*(int *)((int)this + 0x4f4) == 0)) ||
          (iVar3 = FUN_004672f0(*(int *)((int)this + 0x4f4)), iVar3 == 0)) &&
         (pvVar1 = (void *)local_10[iVar4], pvVar1 != (void *)0x0)) {
        if (param_2 == 0) {
          piVar2 = (int *)FUN_00466900(pvVar1,0xe);
          local_1c = local_1c + *piVar2;
        }
        else if (param_2 == 1) {
          piVar2 = (int *)FUN_00466900(pvVar1,0xf);
          if (*piVar2 != 0) {
            piVar2 = (int *)FUN_00466900(pvVar1,0xf);
            local_18 = local_18 + *piVar2;
          }
        }
        else if ((param_2 == 2) && (piVar2 = (int *)FUN_00466900(pvVar1,0x10), *piVar2 != 0)) {
          local_14 = 1;
        }
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < 4);
    puVar5 = (undefined4 *)((int)this + 0x4fc);
    iVar4 = 4;
    do {
      pvVar1 = (void *)*puVar5;
      if (pvVar1 != (void *)0x0) {
        if (param_2 == 0) {
          piVar2 = (int *)FUN_004659a0(pvVar1,0xe);
          local_1c = local_1c + *piVar2;
        }
        else if (param_2 == 1) {
          piVar2 = (int *)FUN_004659a0(pvVar1,0xf);
          local_18 = local_18 + *piVar2;
        }
        else if ((param_2 == 2) && (piVar2 = (int *)FUN_004659a0(pvVar1,0x10), *piVar2 != 0)) {
          local_14 = 1;
        }
      }
      puVar5 = puVar5 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  if (param_2 == 0) {
    return local_1c;
  }
  if (param_2 == 1) {
    return local_18;
  }
  return local_14;
}



/*
 * Function: FUN_00450f80
 * Address: 00450f80
 */

int __thiscall FUN_00450f80(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = 0;
  iVar2 = 0;
  if (0 < *(int *)((int)this + 0x34)) {
    do {
      if (*(char *)((int)this + iVar2 + 0xec) == param_1) {
        iVar1 = iVar1 + 1;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < *(int *)((int)this + 0x34));
  }
  return iVar1;
}



/*
 * Function: FUN_00450fb0
 * Address: 00450fb0
 */

void FUN_00450fb0(undefined param_1,int param_2,int param_3,int param_4,undefined1 *param_5,
                 undefined1 *param_6,undefined1 *param_7,undefined1 *param_8,undefined1 *param_9,
                 char *param_10,char *param_11,undefined1 *param_12,undefined1 *param_13,
                 char *param_14,undefined1 *param_15,undefined1 *param_16,undefined1 *param_17,
                 undefined1 *param_18,undefined1 *param_19,undefined1 *param_20,char *param_21,
                 undefined1 *param_22,undefined1 *param_23,undefined1 *param_24,undefined1 *param_25
                 ,undefined1 *param_26,char *param_27,char *param_28,undefined1 *param_29,
                 undefined1 *param_30,char *param_31,undefined1 *param_32,undefined1 *param_33,
                 undefined1 *param_34,undefined1 *param_35,undefined1 *param_36,undefined1 *param_37
                 ,char *param_38,char *param_39,char *param_40,char *param_41,char *param_42,
                 char *param_43,char *param_44,undefined *param_45,undefined *param_46,
                 char *param_47,char *param_48,char *param_49,char *param_50,char *param_51,
                 char *param_52,char *param_53,char *param_54,char *param_55,char *param_56,
                 char *param_57,char *param_58,char *param_59,char *param_60,undefined4 param_61,
                 undefined4 param_62)

{
  char cVar1;
  bool bVar2;
  int *this;
  undefined4 uVar3;
  int extraout_ECX;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *puVar7;
  char *pcVar8;
  char *pcVar9;
  undefined1 unaff_retaddr;
  undefined uStack00000005;
  undefined uStack00000006;
  int in_stack_00001208;
  int in_stack_0000120c;
  int iVar10;
  int in_stack_00001210;
  int *in_stack_00001214;
  char *pcVar11;
  
  FUN_00467f60(unaff_retaddr);
  param_5 = &DAT_0048d9f0;
  param_6 = &DAT_0048d9f0;
  param_7 = &DAT_0048d9f0;
  param_8 = &DAT_0048d9f0;
  param_9 = &DAT_0048d9f0;
  param_12 = &DAT_0048d9f0;
  param_13 = &DAT_0048d9f0;
  param_15 = &DAT_0048d9f0;
  param_16 = &DAT_0048d9f0;
  param_17 = &DAT_0048d9f0;
  param_18 = &DAT_0048d9f0;
  param_19 = &DAT_0048d9f0;
  param_20 = &DAT_0048d9f0;
  param_22 = &DAT_0048d9f0;
  param_23 = &DAT_0048d9f0;
  param_24 = &DAT_0048d9f0;
  param_25 = &DAT_0048d9f0;
  param_26 = &DAT_0048d9f0;
  param_29 = &DAT_0048d9f0;
  param_30 = &DAT_0048d9f0;
  param_32 = &DAT_0048d9f0;
  param_33 = &DAT_0048d9f0;
  param_34 = &DAT_0048d9f0;
  param_35 = &DAT_0048d9f0;
  param_36 = &DAT_0048d9f0;
  param_37 = &DAT_0048d9f0;
  param_21 = s_Mercenary_0047d7a0;
  param_38 = s_Mercenary_0047d7a0;
  puVar7 = (undefined4 *)&stack0x00000205;
  for (iVar4 = 0x3ff; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  *(undefined2 *)puVar7 = 0;
  iVar4 = *(int *)(in_stack_00001208 + 0x24);
  *(undefined *)((int)puVar7 + 2) = 0;
  param_10 = s_Hunter_004801b4;
  param_11 = s_Warrior_004801ac;
  param_14 = s_Witch_004801a4;
  param_27 = s_Hunter_004801b4;
  param_28 = s_Warrior_004801ac;
  param_31 = s_Wizard_0048019c;
  param_39 = s_Transport_0047dbbc;
  param_40 = s_Fire_Ball_0047dbb0;
  param_41 = s_Ice_Bolt_0047dba4;
  param_42 = s_Plasma_0047db9c;
  param_43 = s_Hell_Fire_0047db90;
  param_44 = s_Ice_Blast_0047db84;
  param_45 = &DAT_0047db7c;
  param_46 = &DAT_0047db74;
  param_47 = s_Berserker_0047db68;
  param_48 = s_Energy_Shield_0047db58;
  param_49 = s_Earth_Spear_0047db4c;
  param_50 = s_Flame_Strike_0047db3c;
  param_51 = s_Dread_Deathscythe_0047db28;
  param_52 = s_Lightning_Storm_0047db18;
  param_53 = s_Medusa_0047db10;
  param_54 = s_Sonic_Blade_0047db04;
  param_55 = s_Mud_Javelin_0047daf8;
  param_56 = s_Identify_0047daec;
  param_57 = s_Magic_Shield_0047dadc;
  param_58 = s_Counter_Burst_0047dacc;
  param_59 = s_Explosion_0047dac0;
  param_60 = s_Elemental_Strike_0047daac;
  param_3 = extraout_ECX;
  iVar10 = in_stack_0000120c;
  if (iVar4 != *(int *)(in_stack_0000120c + 0x24)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Level__d_004807f8);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  uVar5 = 0xffffffff;
  pcVar11 = &DAT_0047d884;
  do {
    pcVar9 = pcVar11;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar9 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar9;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar4 = -1;
  pcVar11 = &stack0x00000204;
  do {
    pcVar8 = pcVar11;
    if (iVar4 == 0) break;
    iVar4 = iVar4 + -1;
    pcVar8 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar8;
  } while (cVar1 != '\0');
  pcVar11 = pcVar9 + -uVar5;
  pcVar9 = pcVar8 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
    pcVar11 = pcVar11 + 4;
    pcVar9 = pcVar9 + 4;
  }
  iVar4 = *(int *)(in_stack_0000120c + 0x30);
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar9 = *pcVar11;
    pcVar11 = pcVar11 + 1;
    pcVar9 = pcVar9 + 1;
  }
  if (*(int *)(in_stack_00001208 + 0x30) != iVar4) {
    FUN_00467d51(&stack0x00000104,(byte *)s_HP___4d_004807d4);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x38) != *(int *)(in_stack_0000120c + 0x38)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_MP___4d_004807b0);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x28) != *(int *)(in_stack_0000120c + 0x28)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Attack_Speed___4d_0048078c);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x2c) != *(int *)(in_stack_0000120c + 0x2c)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Walking_Speed___4d_00480768);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x40) != *(int *)(in_stack_0000120c + 0x40)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Strength___4d_00480744);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x44) != *(int *)(in_stack_0000120c + 0x44)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Attack___4d_00480720);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x48) != *(int *)(in_stack_0000120c + 0x48)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Defense___4d_004806fc);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x4c) != *(int *)(in_stack_0000120c + 0x4c)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Hit_Rate___4d_004806d8);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x50) != *(int *)(in_stack_0000120c + 0x50)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Evasion_Rate___4d_004806b4);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x54) != *(int *)(in_stack_0000120c + 0x54)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Magical_Attack___4d_00480690);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x58) != *(int *)(in_stack_0000120c + 0x58)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Magical_Defense___4d_0048066c);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x5c) != *(int *)(in_stack_0000120c + 0x5c)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Magical_Hit_Rate___4d_00480648);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(in_stack_00001208 + 0x60) != *(int *)(in_stack_0000120c + 0x60)) {
    FUN_00467d51(&stack0x00000104,(byte *)s_Magical_Evasion_Rate___4d_00480624);
    uVar5 = 0xffffffff;
    pcVar11 = &stack0x00000104;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  uVar5 = 0xffffffff;
  pcVar11 = &DAT_0047d884;
  do {
    pcVar9 = pcVar11;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar9 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar9;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar4 = -1;
  pcVar11 = &stack0x00000204;
  do {
    pcVar8 = pcVar11;
    if (iVar4 == 0) break;
    iVar4 = iVar4 + -1;
    pcVar8 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar8;
  } while (cVar1 != '\0');
  pcVar11 = pcVar9 + -uVar5;
  pcVar9 = pcVar8 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
    pcVar11 = pcVar11 + 4;
    pcVar9 = pcVar9 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar9 = *pcVar11;
    pcVar11 = pcVar11 + 1;
    pcVar9 = pcVar9 + 1;
  }
  in_stack_00001210 = in_stack_00001210 - (int)in_stack_00001214;
  bVar2 = false;
  param_2 = 0x16;
  param_4 = in_stack_00001210;
  do {
    if ((*(int *)(in_stack_00001210 + (int)in_stack_00001214) == 0) && (*in_stack_00001214 != 0)) {
      FUN_00467d51(&stack0x00000104,(byte *)s_Acquired___s__00480614);
      uVar5 = 0xffffffff;
      pcVar11 = &stack0x00000104;
      do {
        pcVar9 = pcVar11;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar9 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar9;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar4 = -1;
      pcVar11 = &stack0x00000204;
      do {
        pcVar8 = pcVar11;
        if (iVar4 == 0) break;
        iVar4 = iVar4 + -1;
        pcVar8 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar8;
      } while (cVar1 != '\0');
      pcVar11 = pcVar9 + -uVar5;
      pcVar9 = pcVar8 + -1;
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
        pcVar11 = pcVar11 + 4;
        pcVar9 = pcVar9 + 4;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *pcVar9 = *pcVar11;
        pcVar11 = pcVar11 + 1;
        pcVar9 = pcVar9 + 1;
      }
      bVar2 = true;
      in_stack_00001210 = param_4;
    }
    in_stack_00001214 = in_stack_00001214 + 1;
    param_2 = param_2 + -1;
  } while (param_2 != 0);
  if (bVar2) {
    uVar5 = 0xffffffff;
    pcVar11 = &DAT_0047d884;
    do {
      pcVar9 = pcVar11;
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar9 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar9;
    } while (cVar1 != '\0');
    uVar5 = ~uVar5;
    iVar4 = -1;
    pcVar11 = &stack0x00000204;
    do {
      pcVar8 = pcVar11;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar8 = pcVar11 + 1;
      cVar1 = *pcVar11;
      pcVar11 = pcVar8;
    } while (cVar1 != '\0');
    pcVar11 = pcVar9 + -uVar5;
    pcVar9 = pcVar8 + -1;
    for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
      pcVar11 = pcVar11 + 4;
      pcVar9 = pcVar9 + 4;
    }
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pcVar9 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      pcVar9 = pcVar9 + 1;
    }
  }
  if (*(int *)(param_3 + 0x34) == 5) {
    pcVar11 = s_Changed_your_occupation_to___s__004805f0;
  }
  else {
    if (*(int *)(iVar10 + 0x1c) == *(int *)(iVar10 + 0x20)) goto LAB_0045183a;
    pcVar11 = s_It_is_possible_to_change_your_oc_004805bc;
  }
  FUN_00467d51(&stack0x00000104,(byte *)pcVar11);
  uVar5 = 0xffffffff;
  pcVar11 = &stack0x00000104;
  do {
    pcVar9 = pcVar11;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar9 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar9;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar4 = -1;
  pcVar11 = &stack0x00000204;
  do {
    pcVar8 = pcVar11;
    if (iVar4 == 0) break;
    iVar4 = iVar4 + -1;
    pcVar8 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar8;
  } while (cVar1 != '\0');
  pcVar11 = pcVar9 + -uVar5;
  pcVar9 = pcVar8 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
    pcVar11 = pcVar11 + 4;
    pcVar9 = pcVar9 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar9 = *pcVar11;
    pcVar11 = pcVar11 + 1;
    pcVar9 = pcVar9 + 1;
  }
  uVar5 = 0xffffffff;
  pcVar11 = &DAT_0047d884;
  do {
    pcVar9 = pcVar11;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar9 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar9;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  iVar4 = -1;
  pcVar11 = &stack0x00000204;
  do {
    pcVar8 = pcVar11;
    if (iVar4 == 0) break;
    iVar4 = iVar4 + -1;
    pcVar8 = pcVar11 + 1;
    cVar1 = *pcVar11;
    pcVar11 = pcVar8;
  } while (cVar1 != '\0');
  pcVar11 = pcVar9 + -uVar5;
  pcVar9 = pcVar8 + -1;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar9 = *(undefined4 *)pcVar11;
    pcVar11 = pcVar11 + 4;
    pcVar9 = pcVar9 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar9 = *pcVar11;
    pcVar11 = pcVar11 + 1;
    pcVar9 = pcVar9 + 1;
  }
LAB_0045183a:
  if (*(int *)(param_3 + 0x155c) != -1) {
    iVar4 = FUN_00457f10(DAT_0048ce10,*(int *)(param_3 + 0x155c));
    if (iVar4 != 0) {
      FUN_00457e60(DAT_0048ce10,*(int *)(param_3 + 0x155c));
    }
    *(undefined4 *)(param_3 + 0x155c) = 0xffffffff;
  }
  this = FUN_00457db0(DAT_0048ce10);
  uStack00000006 = 0xe0;
  uStack00000005 = 0xe0;
  param_1 = 0xe0;
  FUN_00456550(this,1,0xa1,1,(int *)0x0,(int *)&stack0x00000000,(int *)&param_1,&stack0x00000204,
               (int *)0x0,0,0,(undefined4 *)0x0,(undefined4 *)0x0,0,0xfa);
  FUN_00457690(this,&param_61);
  uVar3 = FUN_00456230((int)this);
  *(undefined4 *)(param_3 + 0x155c) = uVar3;
  *(undefined4 *)(param_3 + 0x1560) = 900;
  *(undefined4 *)(param_3 + 0x1564) = param_61;
  *(undefined4 *)(param_3 + 0x1568) = param_62;
  FUN_00451a40(param_3);
  return;
}



/*
 * Function: FUN_00451930
 * Address: 00451930
 */

void __fastcall FUN_00451930(int param_1)

{
  undefined4 uVar1;
  
  if (DAT_0048d7bc == 1) {
    if ((DAT_0048d7c0 == 0) && (DAT_0048d7c4 == 0)) {
      uVar1 = *(undefined4 *)(param_1 + 0x4f4);
      *(undefined4 *)(param_1 + 0x4f4) = *(undefined4 *)(param_1 + 0x50c);
      *(undefined4 *)(param_1 + 0x50c) = uVar1;
    }
    if ((DAT_0048d7c8 == 0) && (DAT_0048d7cc == 0)) {
      uVar1 = *(undefined4 *)(param_1 + 0x4f8);
      *(undefined4 *)(param_1 + 0x4f8) = *(undefined4 *)(param_1 + 0x510);
      *(undefined4 *)(param_1 + 0x510) = uVar1;
    }
    DAT_0048d7bc = 0;
    return;
  }
  if ((DAT_0048d7c0 == 0) && (DAT_0048d7c4 == 0)) {
    uVar1 = *(undefined4 *)(param_1 + 0x4f4);
    *(undefined4 *)(param_1 + 0x4f4) = *(undefined4 *)(param_1 + 0x50c);
    *(undefined4 *)(param_1 + 0x50c) = uVar1;
  }
  if ((DAT_0048d7c8 == 0) && (DAT_0048d7cc == 0)) {
    uVar1 = *(undefined4 *)(param_1 + 0x4f8);
    *(undefined4 *)(param_1 + 0x4f8) = *(undefined4 *)(param_1 + 0x510);
    *(undefined4 *)(param_1 + 0x510) = uVar1;
  }
  DAT_0048d7bc = 1;
  return;
}



/*
 * Function: FUN_00451a00
 * Address: 00451a00
 */

undefined4 __fastcall FUN_00451a00(int param_1)

{
  int iVar1;
  
  if (0x31 < *(int *)(param_1 + 0x1550)) {
    return 1;
  }
  iVar1 = FUN_004671c0((void *)(param_1 + 0x550),4,0x5d75c81);
  if ((iVar1 != 0) && (0x1d < *(int *)(param_1 + 0x1550))) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_00451a40
 * Address: 00451a40
 */

void __fastcall FUN_00451a40(int param_1)

{
  void *this;
  RKC_DBF *this_00;
  long lVar1;
  int iVar2;
  int local_10;
  int local_c;
  int local_8;
  int iStack_4;
  
  if ((*(byte *)(param_1 + 0x2d0) & 1) != 0) {
    iVar2 = *(int *)(param_1 + 0x155c);
    if (0 < *(int *)(param_1 + 0x1560)) {
      this = (void *)FUN_00457f10(DAT_0048ce10,iVar2);
      if (this != (void *)0x0) {
        FUN_00457690(this,&local_10);
        if (*(int *)(param_1 + 0x1560) < 0x348) {
          iVar2 = 0x348 - *(int *)(param_1 + 0x1560);
          local_10 = (((0x280 - *(int *)(param_1 + 0x1564)) - local_8) * iVar2) / 10 +
                     *(int *)(param_1 + 0x1564);
          local_c = *(int *)(param_1 + 0x1568) - (*(int *)(param_1 + 0x1568) * iVar2) / 10;
          if (0x280 - local_8 < local_10) {
            local_10 = 0x280 - local_8;
          }
          if (local_c < 1) {
            local_c = 1;
          }
          FUN_004576b0(this,&local_10);
        }
        this_00 = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
        lVar1 = RKC_DBF::GetVSBlockNo(this_00);
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,lVar1,1,0,0,0,0x204,local_10 + -1,local_c + -1,local_10 + -1,
                   iStack_4 + -1 + local_c,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,lVar1,1,0,0,0,0x204,local_10 + -1,local_c + -1,
                   local_10 + -1 + local_8,local_c + -1,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,
                   (RKC_DIB *)0x0);
        iVar2 = local_10 + -1 + local_8;
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,lVar1,1,0,0,0,0x204,iVar2,local_c + -1,iVar2,iStack_4 + -1 + local_c
                   ,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar2 = iStack_4 + -1 + local_c;
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,lVar1,1,0,0,0,0x204,local_10 + -1,iVar2,local_10 + -1 + local_8,
                   iVar2,500,0,0,0xff,0xff,0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
      }
      *(int *)(param_1 + 0x1560) = *(int *)(param_1 + 0x1560) + -1;
      return;
    }
    if (iVar2 != -1) {
      iVar2 = FUN_00457f10(DAT_0048ce10,iVar2);
      if (iVar2 != 0) {
        FUN_00457e60(DAT_0048ce10,*(int *)(param_1 + 0x155c));
      }
      *(undefined4 *)(param_1 + 0x155c) = 0xffffffff;
    }
  }
  return;
}



/*
 * Function: FUN_00451cb0
 * Address: 00451cb0
 */

undefined4 __fastcall FUN_00451cb0(int param_1)

{
  int iVar1;
  void *this;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  if ((0 < *(int *)(param_1 + 0x1560)) && (*(int *)(param_1 + 0x1560) < 0x366)) {
    this = (void *)FUN_00457f10(DAT_0048ce10,*(int *)(param_1 + 0x155c));
    if (this != (void *)0x0) {
      FUN_00457690(this,&local_10);
      iVar1 = **(int **)(param_1 + 0x3fc);
      if ((local_10 <= iVar1) && (iVar1 < local_8 + local_10)) {
        iVar1 = (*(int **)(param_1 + 0x3fc))[1];
        if ((local_c <= iVar1) && (iVar1 < local_4 + local_c)) {
          FUN_00457e60(DAT_0048ce10,*(int *)(param_1 + 0x155c));
          *(undefined4 *)(param_1 + 0x155c) = 0xffffffff;
          *(undefined4 *)(param_1 + 0x1560) = 0;
          return 1;
        }
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_00451d60
 * Address: 00451d60
 */

void __fastcall FUN_00451d60(void *param_1)

{
  undefined4 *puVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int local_2c;
  undefined4 local_28;
  int local_24 [9];
  
  iVar5 = 0;
  local_24[0] = (int)param_1 + 0x4e8;
  local_24[1] = (int)param_1 + 0x4ec;
  local_24[2] = (int)param_1 + 0x4f0;
  local_24[3] = (int)param_1 + 0x4f4;
  local_24[4] = (int)param_1 + 0x4f8;
  local_24[5] = (int)param_1 + 0x4fc;
  local_24[6] = (int)param_1 + 0x500;
  local_24[7] = (int)param_1 + 0x504;
  local_24[8] = (int)param_1 + 0x508;
  piVar2 = local_24;
  iVar3 = 9;
  do {
    if (*(int *)*piVar2 != 0) {
      iVar5 = iVar5 + 1;
    }
    piVar2 = piVar2 + 1;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  if (iVar5 == 0) {
    return;
  }
  iVar3 = _rand();
  iVar4 = 0;
  iVar6 = 0;
  piVar2 = local_24;
  do {
    if (*(int *)*piVar2 != 0) {
      if (iVar4 == iVar3 % iVar5) {
        FUN_004140a0((int *)((int)param_1 + 0x2e0),0.0,200,&local_2c);
        puVar1 = (undefined4 *)local_24[iVar6];
        FUN_004663e0((void *)*puVar1,local_2c,local_28);
        FUN_00452420(param_1,(void *)*puVar1,(void *)0x0,0);
        *puVar1 = 0;
        return;
      }
      iVar4 = iVar4 + 1;
    }
    iVar6 = iVar6 + 1;
    piVar2 = piVar2 + 1;
  } while (iVar6 < 9);
  return;
}



/*
 * Function: FUN_00451e60
 * Address: 00451e60
 */

int __thiscall FUN_00451e60(void *this,int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)this + param_1 * 4 + 0x1498);
  if (*(int *)((int)this + 0x1554) != 0) {
    iVar1 = iVar1 + 2;
  }
  if (iVar1 < 1) {
    iVar1 = 1;
  }
  else if (0x14 < iVar1) {
    iVar1 = 0x14;
  }
  iVar1 = iVar1 + *(int *)((int)this + 0x2c8);
  if (iVar1 < 1) {
    return 1;
  }
  if (0x1e < iVar1) {
    iVar1 = 0x1e;
  }
  return iVar1;
}



/*
 * Function: FUN_00451eb0
 * Address: 00451eb0
 */

undefined4 __fastcall FUN_00451eb0(int *param_1)

{
  if (*param_1 == 1) {
    FUN_00452160(param_1,0,0,1,0);
    FUN_00452f30((int)param_1);
    return 1;
  }
  if (*param_1 == 2) {
    FUN_00452060(param_1,0,0,1,0);
    FUN_00452e00((int)param_1);
  }
  return 1;
}



/*
 * Function: FUN_00451f00
 * Address: 00451f00
 */

undefined4 __thiscall FUN_00451f00(void *this,undefined4 *param_1)

{
  int iVar1;
  void *this_00;
  undefined4 *puVar2;
  
  if ((*(int *)((int)this + 0x15e4) != (int)*(short *)((int)param_1 + 0x1a)) ||
     (*(int *)((int)this + 0x15dc) != (int)*(short *)(param_1 + 6))) {
    FUN_00450080(this);
  }
  *(int *)((int)this + 0x15dc) = (int)*(short *)(param_1 + 6);
  *(int *)((int)this + 0x15e4) = (int)*(short *)((int)param_1 + 0x1a);
  *(int *)((int)this + 0x15ec) = (int)*(char *)((int)param_1 + 0x17);
  *(int *)((int)this + 0x1628) = (int)*(char *)((int)param_1 + 0x1d);
  *(int *)((int)this + 0x1630) = (int)*(char *)((int)param_1 + 0x1e);
  iVar1 = FUN_00456230(*(int *)((int)this + 0x458));
  if ((param_1[1] == iVar1) &&
     ((param_1[2] == *(int *)((int)this + 0x15d8) || (*(char *)((int)param_1 + 0x16) == '\x01')))) {
    if (*(char *)(param_1 + 5) == '\0') {
      puVar2 = (undefined4 *)((int)this + 0x464);
      for (iVar1 = 8; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar2 = *param_1;
        param_1 = param_1 + 1;
        puVar2 = puVar2 + 1;
      }
      *(undefined4 *)((int)this + 0x460) = 1;
      return 1;
    }
    *(undefined4 *)((int)this + 0x2e0) = param_1[3];
    *(undefined4 *)((int)this + 0x2e4) = param_1[4];
    *(int *)((int)this + 0x31c) = (int)*(char *)(param_1 + 7);
    *(undefined4 *)((int)this + 0x460) = 0;
    FUN_0044e960(this,1);
    FUN_004542f0((void *)((int)this + 0x378),(undefined4 *)((int)this + 0x2e0));
    if (*(char *)((int)param_1 + 0x15) == '\x01') {
      iVar1 = *(int *)((int)this + 4) + 16000000;
      this_00 = (void *)FUN_00427aa0(*(int *)((int)this + 0x458));
      iVar1 = FUN_004299e0(this_00,iVar1);
      if (iVar1 != 0) {
        iVar1 = FUN_00434cd0(iVar1);
        *(int *)(iVar1 + 0x18) = param_1[3] + 200;
        *(int *)(iVar1 + 0x1c) = param_1[4] + 200;
        *(undefined4 *)(iVar1 + 0x60) = 0;
        FUN_004542f0((void *)(iVar1 + 0x198),(int *)(iVar1 + 0x18));
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_00452060
 * Address: 00452060
 */

undefined4 __thiscall
FUN_00452060(void *this,int param_1,undefined param_2,int param_3,undefined param_4)

{
  RKC_NETWORK_CLIENT *this_00;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined uStack_c;
  undefined uStack_b;
  undefined uStack_a;
  undefined uStack_9;
  undefined2 uStack_8;
  undefined2 uStack_6;
  undefined uStack_4;
  undefined uStack_3;
  undefined uStack_2;
  
  if (((param_1 == 0) && (param_3 == 1)) && (DAT_0048ce98 % 0x5a != 0)) {
    return 0;
  }
  this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
  uStack_20 = *(undefined4 *)((int)this + 4);
  uStack_10 = *(undefined4 *)((int)this + 0x2e4);
  uStack_14 = *(undefined4 *)((int)this + 0x2e0);
  uStack_4 = *(undefined *)((int)this + 0x31c);
  uStack_1c = FUN_00456230(*(int *)((int)this + 0x458));
  uStack_18 = *(undefined4 *)((int)this + 0x15d8);
  uStack_b = param_2;
  uStack_8 = *(undefined2 *)((int)this + 0x15dc);
  uStack_9 = *(undefined *)((int)this + 0x15ec);
  uStack_2 = *(undefined *)((int)this + 0x1630);
  uStack_a = param_4;
  uStack_6 = *(undefined2 *)((int)this + 0x15e4);
  uStack_3 = *(undefined *)((int)this + 0x1628);
  uStack_c = (undefined)param_1;
  RKC_NETWORK_CLIENT::SetSendPacket(this_00,1,0x20,7,&uStack_20,*(long *)((int)this + 4),param_3,0);
  return 1;
}



/*
 * Function: FUN_00452160
 * Address: 00452160
 */

undefined4 __thiscall
FUN_00452160(void *this,int param_1,undefined param_2,int param_3,undefined param_4)

{
  RKC_NETWORK_SERVER *this_00;
  int iVar1;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar2;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined uStack_c;
  undefined uStack_b;
  undefined uStack_a;
  undefined uStack_9;
  undefined2 uStack_8;
  undefined2 uStack_6;
  undefined uStack_4;
  undefined uStack_3;
  undefined uStack_2;
  
  if (((param_1 == 0) && (param_3 == 1)) && (DAT_0048ce98 % 0x5a != 0)) {
    return 0;
  }
  if ((*(byte *)((int)this + 0x2d0) & 1) == 0) {
    return 0;
  }
  this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
  uStack_20 = *(undefined4 *)((int)this + 4);
  uStack_10 = *(undefined4 *)((int)this + 0x2e4);
  uStack_14 = *(undefined4 *)((int)this + 0x2e0);
  uStack_4 = *(undefined *)((int)this + 0x31c);
  uStack_1c = FUN_00456230(*(int *)((int)this + 0x458));
  uStack_18 = *(undefined4 *)((int)this + 0x15d8);
  uStack_b = param_2;
  uStack_8 = *(undefined2 *)((int)this + 0x15dc);
  uStack_a = param_4;
  uStack_6 = *(undefined2 *)((int)this + 0x15e4);
  uStack_9 = *(undefined *)((int)this + 0x15ec);
  uStack_2 = *(undefined *)((int)this + 0x1630);
  uStack_3 = *(undefined *)((int)this + 0x1628);
  uStack_c = (undefined)param_1;
  iVar2 = 1;
  do {
    iVar1 = FUN_00434c90(DAT_0048ce0c,iVar2);
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) {
      this_01 = RKC_NETWORK_SERVER::GetConnection
                          (this_00,*(long *)(iVar1 + 8),(RKC_NETWORK_IP *)0x0,-1);
      if (this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
        RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                  (this_01,1,0x20,7,&uStack_20,*(long *)(iVar1 + 4),param_3,0);
      }
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 4);
  return 1;
}



/*
 * Function: FUN_004522b0
 * Address: 004522b0
 */

undefined4 __thiscall
FUN_004522b0(void *this,int *param_1,int param_2,char param_3,char param_4,char param_5)

{
  int iVar1;
  char cVar2;
  char *pcVar3;
  undefined4 uVar4;
  RKC_NETWORK_SERVER *this_00;
  int iVar5;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  RKC_NETWORK_CLIENT *this_02;
  uint uVar6;
  uint uVar7;
  int *piVar8;
  int iVar9;
  RKC_MEMORY local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_004720f9;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_14);
  uStack_4 = 0;
  if ((*(byte *)((int)this + 0x2d0) & 1) != 0) {
    uVar6 = 0xffffffff;
    piVar8 = param_1;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      cVar2 = *(char *)piVar8;
      piVar8 = (int *)((int)piVar8 + 1);
    } while (cVar2 != '\0');
    uVar6 = ~uVar6;
    iVar1 = uVar6 + 0x17;
    RKC_MEMORY::Allocation(local_14,iVar1,1);
    pcVar3 = RKC_MEMORY::Get(local_14);
    *(undefined4 *)pcVar3 = *(undefined4 *)((int)this + 4);
    uVar4 = FUN_00456230(*(int *)((int)this + 0x458));
    *(int *)(pcVar3 + 4) = param_2;
    pcVar3[0x10] = param_5;
    pcVar3[0x12] = param_3;
    *(undefined4 *)(pcVar3 + 8) = uVar4;
    *(uint *)(pcVar3 + 0xc) = uVar6 - 1;
    pcVar3[0x11] = param_4;
    piVar8 = (int *)(pcVar3 + 0x14);
    for (uVar7 = uVar6 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
      *piVar8 = *param_1;
      param_1 = param_1 + 1;
      piVar8 = piVar8 + 1;
    }
    for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
      *(char *)piVar8 = *(char *)param_1;
      param_1 = (int *)((int)param_1 + 1);
      piVar8 = (int *)((int)piVar8 + 1);
    }
                    /* WARNING: Load size is inaccurate */
    if (*this == 1) {
      this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
      iVar9 = 1;
      do {
        iVar5 = FUN_00434c90(DAT_0048ce0c,iVar9);
        if ((*(int *)(iVar5 + 0x2d8) == 1) &&
           (this_01 = RKC_NETWORK_SERVER::GetConnection
                                (this_00,*(long *)(iVar5 + 8),(RKC_NETWORK_IP *)0x0,-1),
           this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,1,iVar1,9,pcVar3,-1,0,0);
        }
        iVar9 = iVar9 + 1;
      } while (iVar9 < 4);
    }
    else {
      this_02 = RKC_NETWORK::GetClient(DAT_00482d24);
      RKC_NETWORK_CLIENT::SetSendPacket(this_02,1,iVar1,9,pcVar3,-1,0,0);
    }
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_14);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00452420
 * Address: 00452420
 */

undefined4 __thiscall FUN_00452420(void *this,void *param_1,void *param_2,int param_3)

{
  RKC_NETWORK_CLIENT *this_00;
  RKC_NETWORK_SERVER *this_01;
  int iVar1;
  int iVar2;
  void *this_02;
  int iVar3;
  char *pcVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  RKC_NETWORK_SERVER_CONNECTION *this_03;
  long lVar7;
  char *pcVar8;
  long lVar9;
  int iVar10;
  int iVar11;
  RKC_MEMORY local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472119;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_14);
  uStack_4 = 0;
  this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
  this_01 = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c60(DAT_0048ce0c,0);
  if (param_2 == (void *)0x0) {
    param_2 = *(void **)((int)this + 0x458);
  }
                    /* WARNING: Load size is inaccurate */
  if (*this == 0) {
    FUN_00427970(param_2,(int)param_1,0,-1);
  }
  else if (*this == 1) {
    iVar2 = FUN_00427970(param_2,(int)param_1,0,-1);
    if (param_3 == 1) {
      iVar3 = iVar2;
      this_02 = (void *)FUN_00427aa0((int)param_2);
      iVar3 = FUN_004299e0(this_02,iVar3);
      if (iVar3 != 0) {
        iVar3 = FUN_00434cd0(iVar3);
        *(undefined4 *)(iVar3 + 200) = 1;
      }
    }
    iVar10 = 1;
    iVar3 = FUN_00465ea0(param_1,-1);
    RKC_MEMORY::Allocation(local_14,iVar3 + 0x20,iVar10);
    pcVar4 = RKC_MEMORY::Get(local_14);
    uVar5 = FUN_00456230((int)param_2);
    *(undefined4 *)pcVar4 = uVar5;
    *(int *)(pcVar4 + 4) = iVar2;
    puVar6 = (undefined4 *)FUN_004663b0((int)param_1);
    *(undefined4 *)(pcVar4 + 8) = *puVar6;
    iVar2 = FUN_004663b0((int)param_1);
    *(undefined4 *)(pcVar4 + 0xc) = *(undefined4 *)(iVar2 + 4);
    uVar5 = FUN_00456210((int)param_1);
    *(undefined4 *)(pcVar4 + 0x10) = uVar5;
    uVar5 = FUN_00466390((int)param_1);
    *(undefined4 *)(pcVar4 + 0x14) = uVar5;
    uVar5 = FUN_00427b40((int)param_1);
    *(undefined4 *)(pcVar4 + 0x18) = uVar5;
    FUN_00465f20(param_1,(undefined4 *)(pcVar4 + 0x1c));
    iVar2 = 1;
    if (1 < iVar1) {
      do {
        iVar3 = FUN_00434c90(DAT_0048ce0c,iVar2);
        if (((iVar3 != 0) && (*(int *)(iVar3 + 0x2d8) == 1)) &&
           (this_03 = RKC_NETWORK_SERVER::GetConnection
                                (this_01,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1),
           this_03 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
          iVar11 = 0;
          iVar10 = 0;
          lVar9 = -1;
          lVar7 = 0xb;
          pcVar8 = pcVar4;
          iVar3 = FUN_00465ea0(param_1,-1);
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                    (this_03,0,iVar3 + 0x20,lVar7,pcVar8,lVar9,iVar10,iVar11);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < iVar1);
    }
  }
  else {
    iVar2 = 1;
    iVar1 = FUN_00465ea0(param_1,-1);
    RKC_MEMORY::Allocation(local_14,iVar1 + 0x20,iVar2);
    pcVar4 = RKC_MEMORY::Get(local_14);
    uVar5 = FUN_00456230((int)param_2);
    *(undefined4 *)pcVar4 = uVar5;
    pcVar4[4] = -1;
    pcVar4[5] = -1;
    pcVar4[6] = -1;
    pcVar4[7] = -1;
    puVar6 = (undefined4 *)FUN_004663b0((int)param_1);
    *(undefined4 *)(pcVar4 + 8) = *puVar6;
    iVar1 = FUN_004663b0((int)param_1);
    *(undefined4 *)(pcVar4 + 0xc) = *(undefined4 *)(iVar1 + 4);
    uVar5 = FUN_00456210((int)param_1);
    *(undefined4 *)(pcVar4 + 0x10) = uVar5;
    uVar5 = FUN_00466390((int)param_1);
    *(undefined4 *)(pcVar4 + 0x14) = uVar5;
    uVar5 = FUN_00427b40((int)param_1);
    *(undefined4 *)(pcVar4 + 0x18) = uVar5;
    FUN_00465f20(param_1,(undefined4 *)(pcVar4 + 0x1c));
    iVar3 = 0;
    iVar2 = 0;
    lVar9 = -1;
    lVar7 = 0xb;
    iVar1 = FUN_00465ea0(param_1,-1);
    RKC_NETWORK_CLIENT::SetSendPacket(this_00,0,iVar1 + 0x20,lVar7,pcVar4,lVar9,iVar2,iVar3);
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_14);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_004526a0
 * Address: 004526a0
 */

undefined4 __thiscall FUN_004526a0(void *this,int param_1,void *param_2,void *param_3)

{
  RKC_NETWORK_CLIENT *this_00;
  RKC_NETWORK_SERVER *this_01;
  int iVar1;
  int iVar2;
  int iVar3;
  RKC_NETWORK_SERVER_CONNECTION *this_02;
  undefined4 uVar4;
  long lVar5;
  char *pcVar6;
  int iVar7;
  RKC_MEMORY local_20 [8];
  undefined4 uStack_18;
  int iStack_14;
  undefined4 uStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472139;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_20);
  uStack_4 = 0;
  if (*(int *)((int)this + 0x41c) == 0) {
    this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
    this_01 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar1 = FUN_00434c60(DAT_0048ce0c,0);
    if (param_3 == (void *)0x0) {
      param_3 = *(void **)((int)this + 0x458);
    }
                    /* WARNING: Load size is inaccurate */
    if (*this == 0) {
      iVar1 = FUN_00449ef0(this,param_1,param_2);
      if (iVar1 == 0) {
        FUN_00427970(param_3,(int)param_2,0,-1);
      }
    }
    else if (*this == 1) {
      iVar2 = FUN_00449ef0(this,param_1,param_2);
      uStack_10 = *(undefined4 *)((int)this + 4);
      iStack_14 = param_1;
      uStack_18 = FUN_00456230((int)param_3);
      iVar7 = 1;
      if (1 < iVar1) {
        do {
          iVar3 = FUN_00434c90(DAT_0048ce0c,iVar7);
          if (((iVar3 != 0) && (*(int *)(iVar3 + 0x2d8) == 1)) &&
             (this_02 = RKC_NETWORK_SERVER::GetConnection
                                  (this_01,*(long *)(iVar3 + 8),(RKC_NETWORK_IP *)0x0,-1),
             this_02 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_02,0,0xc,0xc,&uStack_18,-1,0,0);
          }
          iVar7 = iVar7 + 1;
        } while (iVar7 < iVar1);
      }
      if (iVar2 == 0) {
        FUN_00452420(this,param_2,(void *)0x0,0);
      }
    }
    else {
      uStack_10 = *(undefined4 *)((int)this + 4);
      iStack_14 = param_1;
      uStack_18 = FUN_00456230((int)param_3);
      RKC_NETWORK_CLIENT::SetSendPacket(this_00,0,0xc,0xc,&uStack_18,-1,0,0);
      *(undefined4 *)((int)this + 0x41c) = 1;
      *(int *)((int)this + 0x420) = param_1;
      uVar4 = FUN_00456230((int)param_3);
      *(undefined4 *)((int)this + 0x424) = uVar4;
      uVar4 = FUN_00456210((int)param_2);
      *(undefined4 *)((int)this + 0x428) = uVar4;
      uVar4 = FUN_00466390((int)param_2);
      *(undefined4 *)((int)this + 0x42c) = uVar4;
      iVar1 = FUN_00465ea0(param_2,-1);
      if (iVar1 == 0) {
        RKC_MEMORY::Release((RKC_MEMORY *)((int)this + 0x430));
      }
      else {
        iVar1 = 1;
        lVar5 = FUN_00465ea0(param_2,-1);
        RKC_MEMORY::Allocation((RKC_MEMORY *)((int)this + 0x430),lVar5,iVar1);
        pcVar6 = RKC_MEMORY::Get((RKC_MEMORY *)((int)this + 0x430));
        FUN_00465f20(param_2,(undefined4 *)pcVar6);
      }
    }
    uStack_4 = 0xffffffff;
    RKC_MEMORY::~RKC_MEMORY(local_20);
    ExceptionList = pvStack_c;
    return 1;
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_20);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_00452910
 * Address: 00452910
 */

undefined4 __fastcall FUN_00452910(int *param_1)

{
  int iVar1;
  RKC_NETWORK_CLIENT *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar3;
  RKC_MEMORY local_724 [8];
  undefined4 auStack_71c [452];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_0047215c;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_724);
  uStack_4 = 0;
  iVar1 = FUN_00434cd0((int)DAT_0048ce0c);
  if (param_1[1] == iVar1) {
    this = RKC_NETWORK::GetClient(DAT_00482d24);
    this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar1 = FUN_00434c60(DAT_0048ce0c,0);
    FUN_004452c0(param_1,auStack_71c);
    if (*param_1 != 0) {
      iVar3 = 1;
      if (*param_1 == 1) {
        if (1 < iVar1) {
          do {
            iVar2 = FUN_00434c90(DAT_0048ce0c,iVar3);
            if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
               (this_01 = RKC_NETWORK_SERVER::GetConnection
                                    (this_00,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
               this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
              RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                        (this_01,1,0x710,0xd,auStack_71c,param_1[1] + 4,1,0);
            }
            iVar3 = iVar3 + 1;
          } while (iVar3 < iVar1);
        }
      }
      else {
        RKC_NETWORK_CLIENT::SetSendPacket(this,1,0x710,0xd,auStack_71c,param_1[1] + 4,1,0);
      }
    }
    uStack_4 = 0xffffffff;
    RKC_MEMORY::~RKC_MEMORY(local_724);
    ExceptionList = pvStack_c;
    return 1;
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_724);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_00452a90
 * Address: 00452a90
 */

undefined4 __fastcall FUN_00452a90(int *param_1)

{
  RKC_NETWORK_CLIENT *this;
  RKC_NETWORK_SERVER *this_00;
  int iVar1;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *this_01;
  int iVar3;
  RKC_MEMORY local_8cc [8];
  undefined4 auStack_8c4 [558];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_0047217c;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_8cc);
  uStack_4 = 0;
  this = RKC_NETWORK::GetClient(DAT_00482d24);
  this_00 = RKC_NETWORK::GetServer(DAT_00482d24);
  iVar1 = FUN_00434c60(DAT_0048ce0c,0);
  FUN_00445210(param_1,auStack_8c4);
  if (*param_1 != 0) {
    if (*param_1 == 1) {
      if (1 < iVar1) {
        iVar3 = 1;
        do {
          iVar2 = FUN_00434c90(DAT_0048ce0c,iVar3);
          if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
             (this_01 = RKC_NETWORK_SERVER::GetConnection
                                  (this_00,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
             this_01 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
            RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_01,1,0x8b8,0x11,auStack_8c4,-1,0,0);
          }
          iVar3 = iVar3 + 1;
        } while (iVar3 < iVar1);
      }
    }
    else {
      RKC_NETWORK_CLIENT::SetSendPacket(this,1,0x8b8,0x11,auStack_8c4,-1,0,0);
    }
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_8cc);
  ExceptionList = pvStack_c;
  return 1;
}



/*
 * Function: FUN_00452bc0
 * Address: 00452bc0
 */

undefined4 __thiscall FUN_00452bc0(void *this,int *param_1,int param_2)

{
  RKC_NETWORK_CLIENT *this_00;
  RKC_NETWORK_SERVER *this_01;
  int iVar1;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *this_02;
  int iVar3;
  int iVar4;
  int *piVar5;
  RKC_MEMORY local_4c [8];
  int aiStack_44 [5];
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472199;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_4c);
  uStack_4 = 0;
  if ((*(byte *)((int)this + 0x2d0) & 1) != 0) {
    this_00 = RKC_NETWORK::GetClient(DAT_00482d24);
    this_01 = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar1 = FUN_00434c60(DAT_0048ce0c,0);
    if (param_1 == (int *)0x0) {
      aiStack_44[0] = FUN_00456230(*(int *)((int)this + 0x458));
      aiStack_44[3] = *(undefined4 *)((int)this + 0x314);
      uStack_30 = *(undefined4 *)((int)this + 0x31c);
      uStack_2c = *(undefined4 *)((int)this + 0x1268);
      uStack_28 = *(undefined4 *)((int)this + 0x126c);
      uStack_24 = *(undefined4 *)((int)this + 0x1264);
      uStack_20 = *(undefined4 *)((int)this + 0x1274);
      uStack_1c = *(undefined4 *)((int)this + 0x1278);
      uStack_18 = *(undefined4 *)((int)this + 0x2e0);
      aiStack_44[2] = *(int *)((int)this + 4);
      uStack_14 = *(undefined4 *)((int)this + 0x2e4);
      aiStack_44[1] = *(undefined4 *)((int)this + 0x15d8);
      iVar3 = aiStack_44[2] + 8;
    }
    else {
      piVar5 = aiStack_44;
      for (iVar3 = 0xe; iVar3 != 0; iVar3 = iVar3 + -1) {
        *piVar5 = *param_1;
        param_1 = param_1 + 1;
        piVar5 = piVar5 + 1;
      }
      iVar3 = -1;
      param_2 = 0;
    }
                    /* WARNING: Load size is inaccurate */
    if (*this != 0) {
      if (*this == 1) {
        if (1 < iVar1) {
          iVar4 = 1;
          do {
            iVar2 = FUN_00434c90(DAT_0048ce0c,iVar4);
            if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
               (this_02 = RKC_NETWORK_SERVER::GetConnection
                                    (this_01,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
               this_02 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
              RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                        (this_02,1,0x38,0x10,aiStack_44,iVar3,param_2,0);
            }
            iVar4 = iVar4 + 1;
          } while (iVar4 < iVar1);
        }
      }
      else {
        RKC_NETWORK_CLIENT::SetSendPacket(this_00,1,0x38,0x10,aiStack_44,iVar3,param_2,0);
      }
    }
    uStack_4 = 0xffffffff;
    RKC_MEMORY::~RKC_MEMORY(local_4c);
    ExceptionList = pvStack_c;
    return 1;
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_4c);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_00452da0
 * Address: 00452da0
 */

undefined4 __thiscall FUN_00452da0(void *this,undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  iVar1 = FUN_00456230(*(int *)((int)this + 0x458));
  if ((param_1[1] == iVar1) && (param_1[2] == *(int *)((int)this + 0x15d8))) {
    puVar2 = param_1;
    puVar3 = (undefined4 *)((int)this + 0x488);
    for (iVar1 = 7; iVar1 != 0; iVar1 = iVar1 + -1) {
      *puVar3 = *puVar2;
      puVar2 = puVar2 + 1;
      puVar3 = puVar3 + 1;
    }
    *(undefined4 *)((int)this + 0x484) = 1;
    *(int *)((int)this + 0x159c) = (int)*(char *)((int)param_1 + 0x19);
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_00452e00
 * Address: 00452e00
 */

undefined4 __fastcall FUN_00452e00(int param_1)

{
  RKC_NETWORK_CLIENT *this;
  int iVar1;
  int *piVar2;
  int *piVar3;
  int aiStack_1c [5];
  int iStack_8;
  char cStack_4;
  char cStack_3;
  
  this = RKC_NETWORK::GetClient(DAT_00482d24);
  aiStack_1c[0] = *(int *)(param_1 + 4);
  aiStack_1c[1] = FUN_00456230(*(int *)(param_1 + 0x458));
  aiStack_1c[2] = *(undefined4 *)(param_1 + 0x15d8);
  if (*(int *)(param_1 + 0x314) == 2) {
    aiStack_1c[4] = *(int *)(param_1 + 0x388);
    iStack_8 = *(int *)(param_1 + 0x38c);
    iVar1 = 0;
    aiStack_1c[3] = 0;
  }
  else if (*(int *)(param_1 + 0x314) == 3) {
    aiStack_1c[4] = *(int *)(param_1 + 0x388);
    iStack_8 = *(int *)(param_1 + 0x38c);
    iVar1 = 1;
    aiStack_1c[3] = 1;
  }
  else {
    aiStack_1c[4] = *(int *)(param_1 + 0x2e0);
    iStack_8 = *(int *)(param_1 + 0x2e4);
    iVar1 = 2;
    aiStack_1c[3] = 2;
  }
  cStack_4 = *(char *)(param_1 + 0x31c);
  cStack_3 = *(char *)(param_1 + 0x159c);
  if ((((cStack_4 != *(char *)(param_1 + 0x12a4)) || (aiStack_1c[1] != *(int *)(param_1 + 0x1290)))
      || (iVar1 != *(int *)(param_1 + 0x1298))) ||
     (((aiStack_1c[4] != *(int *)(param_1 + 0x129c) || (iStack_8 != *(int *)(param_1 + 0x12a0))) ||
      ((cStack_3 != *(char *)(param_1 + 0x12a5) || (DAT_0048ce98 % 0x1e == 0)))))) {
    RKC_NETWORK_CLIENT::SetSendPacket(this,1,0x1c,8,aiStack_1c,*(int *)(param_1 + 4) + 0xc,1,0);
    piVar2 = aiStack_1c;
    piVar3 = (int *)(param_1 + 0x128c);
    for (iVar1 = 7; iVar1 != 0; iVar1 = iVar1 + -1) {
      *piVar3 = *piVar2;
      piVar2 = piVar2 + 1;
      piVar3 = piVar3 + 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_00452f30
 * Address: 00452f30
 */

undefined4 __fastcall FUN_00452f30(int param_1)

{
  RKC_NETWORK_SERVER *this;
  RKC_NETWORK_SERVER_CONNECTION *this_00;
  int iVar1;
  int *piVar2;
  int *piVar3;
  int iStack_24;
  int aiStack_1c [5];
  int iStack_8;
  char cStack_4;
  char cStack_3;
  
  if ((*(byte *)(param_1 + 0x2d0) & 1) == 0) {
    return 0;
  }
  this = RKC_NETWORK::GetServer(DAT_00482d24);
  aiStack_1c[0] = *(int *)(param_1 + 4);
  aiStack_1c[1] = FUN_00456230(*(int *)(param_1 + 0x458));
  aiStack_1c[2] = *(undefined4 *)(param_1 + 0x15d8);
  if (*(int *)(param_1 + 0x314) == 2) {
    aiStack_1c[4] = *(int *)(param_1 + 0x388);
    iStack_8 = *(int *)(param_1 + 0x38c);
    iVar1 = 0;
    aiStack_1c[3] = 0;
  }
  else if (*(int *)(param_1 + 0x314) == 3) {
    aiStack_1c[4] = *(int *)(param_1 + 0x388);
    iStack_8 = *(int *)(param_1 + 0x38c);
    iVar1 = 1;
    aiStack_1c[3] = 1;
  }
  else {
    aiStack_1c[4] = *(int *)(param_1 + 0x2e0);
    iStack_8 = *(int *)(param_1 + 0x2e4);
    iVar1 = 2;
    aiStack_1c[3] = 2;
  }
  cStack_4 = *(char *)(param_1 + 0x31c);
  cStack_3 = *(char *)(param_1 + 0x159c);
  if (((((cStack_4 != *(char *)(param_1 + 0x12a4)) || (aiStack_1c[1] != *(int *)(param_1 + 0x1290)))
       || (iVar1 != *(int *)(param_1 + 0x1298))) ||
      ((aiStack_1c[4] != *(int *)(param_1 + 0x129c) || (iStack_8 != *(int *)(param_1 + 0x12a0)))))
     || ((cStack_3 != *(char *)(param_1 + 0x12a5) || (DAT_0048ce98 % 0x1e == 0)))) {
    iStack_24 = 1;
    do {
      iVar1 = FUN_00434c90(DAT_0048ce0c,iStack_24);
      if ((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) {
        this_00 = RKC_NETWORK_SERVER::GetConnection
                            (this,*(long *)(iVar1 + 8),(RKC_NETWORK_IP *)0x0,-1);
        if (this_00 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
                    (this_00,1,0x1c,8,aiStack_1c,*(int *)(iVar1 + 4) + 0xc,1,0);
        }
      }
      iStack_24 = iStack_24 + 1;
    } while (iStack_24 < 4);
    piVar2 = aiStack_1c;
    piVar3 = (int *)(param_1 + 0x128c);
    for (iVar1 = 7; iVar1 != 0; iVar1 = iVar1 + -1) {
      *piVar3 = *piVar2;
      piVar2 = piVar2 + 1;
      piVar3 = piVar3 + 1;
    }
  }
  return 1;
}



/*
 * Function: FUN_004530c0
 * Address: 004530c0
 */

void __thiscall FUN_004530c0(void *this,undefined4 *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int *this_00;
  undefined4 *puVar3;
  undefined uStack_14;
  undefined uStack_13;
  undefined uStack_12;
  undefined uStack_10;
  undefined uStack_f;
  undefined uStack_e;
  undefined uStack_c;
  undefined uStack_b;
  undefined uStack_a;
  long local_8;
  long local_4;
  
  puVar1 = param_1;
  puVar3 = param_1;
  if ((int)param_1 < 10000000) {
    puVar3 = &DAT_00480540 + (int)param_1 * 10;
  }
  iVar2 = FUN_00434cd0((int)DAT_0048ce10);
  if (iVar2 == 1) {
    FUN_00458820(DAT_0048ce10,0);
    *(undefined4 *)((int)this + 0x404) = 0;
    FUN_00457e60(DAT_0048ce10,*(int *)((int)this + 0x40c));
  }
  iVar2 = FUN_00434cd0((int)DAT_0048ce10);
  if ((iVar2 == 0) && (iVar2 = FUN_004663a0((int)DAT_0048ce10), iVar2 == 0)) {
    this_00 = FUN_00457db0(DAT_0048ce10);
    RKC_UPDIB::GetFontParam(DAT_00482d10,1,&local_4,&local_8);
    uStack_a = *(undefined *)(puVar3 + 7);
    uStack_b = *(undefined *)((int)puVar3 + 0x1d);
    uStack_c = *(undefined *)((int)puVar3 + 0x1e);
    uStack_e = *(undefined *)((int)puVar3 + 0x1f);
    uStack_f = *(undefined *)(puVar3 + 8);
    uStack_10 = *(undefined *)((int)puVar3 + 0x21);
    uStack_12 = *(undefined *)((int)puVar3 + 0x22);
    uStack_13 = *(undefined *)((int)puVar3 + 0x23);
    uStack_14 = *(undefined *)(puVar3 + 9);
    param_1 = (undefined4 *)
              CONCAT31(CONCAT21(CONCAT11(param_1._3_1_,*(undefined *)((int)puVar3 + 0x25)),
                                *(undefined *)((int)puVar3 + 0x26)),
                       *(undefined *)((int)puVar3 + 0x27));
    FUN_00456550(this_00,6,puVar3[1] | 0x40000040,1,puVar3 + 2,(int *)&uStack_c,(int *)&uStack_10,
                 (char *)*puVar3,(int *)0x0,0,(int)this + 0x418,(undefined4 *)&uStack_14,&param_1,
                 puVar3[6],500);
    *(undefined4 *)((int)this + 0x410) = 1;
    *(undefined4 **)((int)this + 0x414) = puVar1;
  }
  return;
}



/*
 * Function: FUN_00453220
 * Address: 00453220
 */

void __fastcall FUN_00453220(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  
  if ((-1 < *(int *)(param_1 + 0x414)) && (*(int *)(param_1 + 0x414) < 2)) {
    iVar1 = FUN_00434cb0(DAT_0048ce0c);
    if (iVar1 != 0) {
      uVar5 = *(undefined4 *)(param_1 + 0x418);
      iVar2 = FUN_00466410(*(int *)(iVar1 + 0x458));
      uVar3 = FUN_004308a0(iVar2);
      uVar4 = *(undefined4 *)(iVar1 + 4);
      FUN_00466410(*(int *)(iVar1 + 0x458));
      FUN_00430940(uVar4,uVar3,uVar5);
    }
  }
  return;
}



/*
 * Function: FUN_00453280
 * Address: 00453280
 */

void __fastcall FUN_00453280(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[4] = 0;
  *(undefined *)((int)param_1 + 0xe) = 0xe0;
  *(undefined *)((int)param_1 + 0xd) = 0xe0;
  *(undefined *)(param_1 + 3) = 0xe0;
  return;
}



/*
 * Function: thunk_FUN_00453300
 * Address: 004532a0
 */

void __fastcall thunk_FUN_00453300(int param_1)

{
  if (*(HGLOBAL *)(param_1 + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 8));
    *(undefined4 *)(param_1 + 8) = 0;
  }
  *(undefined4 *)(param_1 + 4) = 0;
  return;
}



/*
 * Function: FUN_004532b0
 * Address: 004532b0
 */

void __thiscall FUN_004532b0(void *this,char *param_1)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  
  FUN_00453300((int)this);
  uVar3 = 0xffffffff;
  pcVar2 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  *(uint *)((int)this + 4) = ~uVar3 - 1;
  pcVar2 = (char *)GlobalAlloc(0x40,~uVar3);
  *(char **)((int)this + 8) = pcVar2;
  uVar4 = *(int *)((int)this + 4) + 1;
  for (uVar3 = uVar4 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar2 = *param_1;
    param_1 = param_1 + 1;
    pcVar2 = pcVar2 + 1;
  }
  return;
}



/*
 * Function: FUN_00453300
 * Address: 00453300
 */

void __fastcall FUN_00453300(int param_1)

{
  if (*(HGLOBAL *)(param_1 + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 8));
    *(undefined4 *)(param_1 + 8) = 0;
  }
  *(undefined4 *)(param_1 + 4) = 0;
  return;
}



/*
 * Function: FUN_00453330
 * Address: 00453330
 */

void __fastcall FUN_00453330(int *param_1)

{
  *param_1 = *param_1 + 1;
  return;
}



/*
 * Function: FUN_00453340
 * Address: 00453340
 */

void __thiscall FUN_00453340(void *this,undefined4 *param_1)

{
  *(undefined4 *)((int)this + 0xc) = *param_1;
  return;
}



/*
 * Function: FUN_00453350
 * Address: 00453350
 */

void __thiscall FUN_00453350(void *this,undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  *(undefined4 *)((int)this + 8) = param_1;
  *(undefined4 *)((int)this + 0xc) = 0;
  *(undefined4 *)((int)this + 4) = 400;
  *(undefined4 *)this = param_2;
  *(undefined4 *)((int)this + 0x10) = param_3;
  return;
}



/*
 * Function: thunk_FUN_004534b0
 * Address: 00453380
 */

void __fastcall thunk_FUN_004534b0(void *param_1)

{
  int iVar1;
  
  iVar1 = FUN_00453420(param_1,0);
  while (iVar1 == 1) {
    iVar1 = FUN_00453420(param_1,0);
  }
  return;
}



/*
 * Function: FUN_00453390
 * Address: 00453390
 */

void * __thiscall FUN_00453390(void *this,int param_1)

{
  undefined4 *puVar1;
  void *this_00;
  int iVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_004721bb;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  puVar1 = (undefined4 *)operator_new(0x14);
  local_4 = 0;
  if (puVar1 == (undefined4 *)0x0) {
    this_00 = (void *)0x0;
  }
  else {
    this_00 = (void *)FUN_00453280(puVar1);
  }
  local_4 = 0xffffffff;
  if (param_1 == 0) {
    *(undefined4 *)((int)this_00 + 0x10) = *(undefined4 *)((int)this + 0xc);
    *(void **)((int)this + 0xc) = this_00;
  }
  else {
    iVar2 = FUN_00453470(this,param_1 + -1);
    *(undefined4 *)((int)this_00 + 0x10) = *(undefined4 *)(iVar2 + 0x10);
    *(void **)(iVar2 + 0x10) = this_00;
  }
  FUN_004532b0(this_00,&DAT_0048d9f0);
  ExceptionList = local_c;
  return this_00;
}



/*
 * Function: FUN_00453420
 * Address: 00453420
 */

undefined4 __thiscall FUN_00453420(void *this,int param_1)

{
  int iVar1;
  LPVOID pvVar2;
  
  pvVar2 = *(LPVOID *)((int)this + 0xc);
  if (pvVar2 == (LPVOID)0x0) {
    return 0;
  }
  if (param_1 == 0) {
    *(undefined4 *)((int)this + 0xc) = *(undefined4 *)((int)pvVar2 + 0x10);
  }
  else {
    iVar1 = FUN_00453470(this,param_1 + -1);
    pvVar2 = *(LPVOID *)(iVar1 + 0x10);
    *(undefined4 *)(iVar1 + 0x10) = *(undefined4 *)((int)pvVar2 + 0x10);
  }
  if (pvVar2 != (LPVOID)0x0) {
    thunk_FUN_00453300((int)pvVar2);
    FUN_0046787e(pvVar2);
  }
  return 1;
}



/*
 * Function: FUN_00453470
 * Address: 00453470
 */

void __thiscall FUN_00453470(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)((int)this + 0xc);
  for (iVar2 = 0; (iVar1 != 0 && (param_1 != iVar2)); iVar2 = iVar2 + 1) {
    iVar1 = *(int *)(iVar1 + 0x10);
  }
  return;
}



/*
 * Function: FUN_00453490
 * Address: 00453490
 */

int __fastcall FUN_00453490(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  for (iVar1 = *(int *)(param_1 + 0xc); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x10)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: FUN_004534b0
 * Address: 004534b0
 */

void __fastcall FUN_004534b0(void *param_1)

{
  int iVar1;
  
  iVar1 = FUN_00453420(param_1,0);
  while (iVar1 == 1) {
    iVar1 = FUN_00453420(param_1,0);
  }
  return;
}



/*
 * Function: FUN_004534d0
 * Address: 004534d0
 */

void __fastcall FUN_004534d0(int param_1)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  
  piVar1 = *(int **)(param_1 + 0xc);
  piVar4 = (int *)0x0;
  while (piVar3 = piVar4, piVar2 = piVar1, piVar2 != (int *)0x0) {
    piVar1 = (int *)piVar2[4];
    FUN_00453330(piVar2);
    piVar4 = piVar2;
    if (*piVar2 == *(int *)(param_1 + 4)) {
      if (piVar3 == (int *)0x0) {
        *(int **)(param_1 + 0xc) = piVar1;
      }
      else {
        piVar3[4] = (int)piVar1;
      }
      piVar4 = piVar3;
      if (piVar2 != (int *)0x0) {
        thunk_FUN_00453300((int)piVar2);
        FUN_0046787e(piVar2);
      }
    }
  }
  return;
}



/*
 * Function: FUN_00453530
 * Address: 00453530
 */

void __thiscall FUN_00453530(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  RKC_DBF *this_00;
  long lVar3;
  int *piVar4;
  char *pcVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uchar uVar9;
  uchar uVar10;
  uchar uVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  void *local_4;
  
  if (DAT_0048ce5c != 1) {
    local_4 = this;
    FUN_00434cb0(DAT_0048ce0c);
    FUN_00417b10(&DAT_00482df4,*(long *)(param_1 + 0x2e0),*(long *)(param_1 + 0x2e4),&local_10,
                 &local_8);
    iVar1 = FUN_00453490((int)this);
    if (iVar1 != 0) {
      RKC_UPDIB::GetFontParam(DAT_00482d10,1,&local_14,&local_c);
      if ((*(byte *)(param_1 + 0x2d0) & 1) == 0) {
        iVar2 = FUN_00456210(DAT_0048ce04);
        if (iVar2 != *(int *)(param_1 + 0x458)) {
          return;
        }
        param_1 = 7;
      }
      else {
        param_1 = 8;
      }
      this_00 = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
      lVar3 = RKC_DBF::GetVSBlockNo(this_00);
      while (iVar1 = iVar1 + -1, -1 < iVar1) {
        piVar4 = (int *)FUN_00453470(this,iVar1);
        if ((piVar4 != (int *)0x0) && (iVar2 = FUN_00456230((int)piVar4), iVar2 != 0)) {
          if (*piVar4 < *(int *)((int)this + 4) - *(int *)((int)this + 8)) {
            iVar6 = 1000;
          }
          else {
            iVar6 = ((*(int *)((int)this + 4) - *piVar4) * 1000) / *(int *)((int)this + 8);
          }
          iVar7 = local_10 - (iVar2 * local_14) / 2;
          lVar15 = 0;
          lVar14 = 0;
          lVar13 = 0;
          lVar12 = 0;
          uVar11 = '\0';
          iVar8 = local_8 - iVar1 * local_c;
          uVar10 = '\0';
          uVar9 = '\0';
          iVar2 = iVar6;
          pcVar5 = (char *)FUN_00434cd0((int)piVar4);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,lVar3,param_1,1,iVar7 + 1,iVar8 + -0x4f,pcVar5,uVar9,uVar10,uVar11
                     ,lVar12,lVar13,lVar14,lVar15,iVar2);
          uVar9 = *(uchar *)(piVar4 + 3);
          uVar10 = *(uchar *)((int)piVar4 + 0xd);
          uVar11 = *(uchar *)((int)piVar4 + 0xe);
          lVar15 = 0;
          lVar14 = 0;
          lVar13 = 0;
          lVar12 = 0;
          pcVar5 = (char *)FUN_00434cd0((int)piVar4);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,lVar3,param_1,1,iVar7,iVar8 + -0x50,pcVar5,uVar11,uVar10,uVar9,
                     lVar12,lVar13,lVar14,lVar15,iVar6);
          this = local_4;
        }
      }
    }
  }
  return;
}



/*
 * Function: FUN_00453700
 * Address: 00453700
 */

void __thiscall
FUN_00453700(void *this,char *param_1,undefined param_2,undefined param_3,undefined param_4,
            int param_5)

{
  int iVar1;
  void *this_00;
  FILE *pFVar2;
  char *pcVar3;
  undefined local_118;
  undefined local_117;
  undefined local_116;
  _SYSTEMTIME local_114;
  undefined auStack_104 [260];
  
  iVar1 = FUN_00453490((int)this);
                    /* WARNING: Load size is inaccurate */
  if (iVar1 == *this) {
    FUN_00453420(this,iVar1 + -1);
  }
  this_00 = FUN_00453390(this,0);
  FUN_004532b0(this_00,param_1);
  local_116 = param_2;
  local_117 = param_3;
  local_118 = param_4;
  FUN_00453340(this_00,(undefined4 *)&local_118);
  GetLocalTime(&local_114);
  FUN_00467d51(auStack_104,(byte *)s_Log__04d_02d_02d_log_0048081c);
  pFVar2 = (FILE *)FUN_00467d3e(auStack_104,&DAT_00480818);
  if (pFVar2 == (FILE *)0x0) {
    return;
  }
  if (param_5 == 0) {
    pcVar3 = s_<<_s>>_00480810;
  }
  else {
    if (param_5 == 1) {
      FUN_00468600((int *)pFVar2,(byte *)s__s__s_00480808);
      goto LAB_004537fa;
    }
    if (param_5 != 2) goto LAB_004537fa;
    pcVar3 = &DAT_00480804;
  }
  FUN_00468600((int *)pFVar2,(byte *)pcVar3);
LAB_004537fa:
  FUN_00467c90(pFVar2);
  return;
}



/*
 * Function: FUN_00453810
 * Address: 00453810
 */

void __thiscall FUN_00453810(void *this,int param_1)

{
  int iVar1;
  RKC_DBF *this_00;
  long lVar2;
  int *piVar3;
  int iVar4;
  char *pcVar5;
  int iVar6;
  uchar uVar7;
  uchar uVar8;
  uchar uVar9;
  long lVar10;
  long lVar11;
  long lVar12;
  long lVar13;
  int iVar14;
  long local_8;
  long local_4;
  
  iVar1 = FUN_00453490((int)this);
  if (((iVar1 != 0) && ((*(byte *)(param_1 + 0x2d0) & 1) != 0)) && (DAT_0048ce5c != 1)) {
    RKC_UPDIB::GetFontParam(DAT_00482d10,1,&local_4,&local_8);
    this_00 = RKC_DBFCONTROL::GetCurrentDBF(DAT_00482d18);
    lVar2 = RKC_DBF::GetVSBlockNo(this_00);
    iVar6 = 4;
    while (iVar1 = iVar1 + -1, -1 < iVar1) {
      piVar3 = (int *)FUN_00453470(this,iVar1);
      if ((piVar3 != (int *)0x0) && (iVar4 = FUN_00456230((int)piVar3), iVar4 != 0)) {
        if (*piVar3 < *(int *)((int)this + 4) - *(int *)((int)this + 8)) {
          iVar4 = 1000;
        }
        else {
          iVar4 = ((*(int *)((int)this + 4) - *piVar3) * 1000) / *(int *)((int)this + 8);
        }
        lVar13 = 0;
        lVar12 = 0;
        lVar11 = 0;
        lVar10 = 4;
        uVar9 = '\0';
        uVar8 = '\0';
        uVar7 = '\0';
        iVar14 = iVar4;
        pcVar5 = (char *)FUN_00434cd0((int)piVar3);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,lVar2,1,1,5,iVar6 + 1,pcVar5,uVar7,uVar8,uVar9,lVar10,lVar11,lVar12,
                   lVar13,iVar14);
        uVar7 = *(uchar *)(piVar3 + 3);
        uVar8 = *(uchar *)((int)piVar3 + 0xd);
        uVar9 = *(uchar *)((int)piVar3 + 0xe);
        lVar13 = 0;
        lVar12 = 0;
        lVar11 = 0;
        lVar10 = 4;
        pcVar5 = (char *)FUN_00434cd0((int)piVar3);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,lVar2,1,1,4,iVar6,pcVar5,uVar9,uVar8,uVar7,lVar10,lVar11,lVar12,
                   lVar13,iVar4);
        iVar6 = iVar6 + 0xe;
      }
    }
  }
  return;
}



/*
 * Function: FUN_00453960
 * Address: 00453960
 */

void __fastcall FUN_00453960(undefined4 *param_1)

{
  param_1[2] = 0;
  param_1[5] = 0;
  param_1[3] = 0;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  param_1[0x10] = 0;
  param_1[0x11] = 0;
  param_1[0x12] = 0;
  param_1[0xc] = 0;
  param_1[0x17] = 0;
  *param_1 = &PTR_FUN_00476d30;
  param_1[1] = 0xffffffff;
  param_1[4] = 8;
  *(undefined *)((int)param_1 + 0xbe) = 0xe0;
  *(undefined *)((int)param_1 + 0xbd) = 0xe0;
  *(undefined *)(param_1 + 0x2f) = 0xe0;
  param_1[0x30] = 0xffffffff;
  return;
}



/*
 * Function: FUN_004539b0
 * Address: 004539b0
 */

undefined4 * __thiscall FUN_004539b0(void *this,byte param_1)

{
  FUN_004539d0((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_004539d0
 * Address: 004539d0
 */

void __fastcall FUN_004539d0(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476d30;
  FUN_004539e0((int)param_1);
  return;
}



/*
 * Function: FUN_004539e0
 * Address: 004539e0
 */

void __fastcall FUN_004539e0(int param_1)

{
  if (*(HGLOBAL *)(param_1 + 0x30) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x30));
    *(undefined4 *)(param_1 + 0x30) = 0;
  }
  if (*(HGLOBAL *)(param_1 + 0x3c) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x3c));
  }
  if (*(HGLOBAL *)(param_1 + 0x40) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x40));
  }
  if (*(HGLOBAL *)(param_1 + 0x44) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x44));
  }
  if (*(HGLOBAL *)(param_1 + 0x48) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 0x48));
  }
  *(undefined4 *)(param_1 + 0x3c) = 0;
  *(undefined4 *)(param_1 + 0x40) = 0;
  *(undefined4 *)(param_1 + 0x44) = 0;
  *(undefined4 *)(param_1 + 0x48) = 0;
  return;
}



/*
 * Function: FUN_00453a40
 * Address: 00453a40
 */

undefined8 __thiscall FUN_00453a40(void *this,int param_1)

{
  undefined8 uVar1;
  
  uVar1 = FUN_004143c0((int *)((int)this + 0x18),(int *)((int)this + 0x20),(int *)(param_1 + 0x2e0),
                       (int *)(param_1 + 0x2e8));
  return uVar1;
}



/*
 * Function: FUN_00453a70
 * Address: 00453a70
 */

undefined8 __thiscall FUN_00453a70(void *this,int param_1)

{
  undefined8 uVar1;
  
  uVar1 = FUN_004143c0((int *)((int)this + 0x18),(int *)((int)this + 0x20),(int *)(param_1 + 0x18),
                       (int *)(param_1 + 0x20));
  return uVar1;
}



/*
 * Function: FUN_00453aa0
 * Address: 00453aa0
 */

void __thiscall
FUN_00453aa0(void *this,int param_1,undefined4 param_2,int param_3,undefined4 *param_4,
            undefined4 *param_5,int param_6,undefined4 param_7,int param_8)

{
  RKC_RPGSCRN_OBJECTBLOCK *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  HGLOBAL pvVar1;
  int iVar2;
  long lVar3;
  
  FUN_004539e0((int)this);
  *(undefined4 *)((int)this + 4) = param_2;
  *(int *)((int)this + 0x5c) = param_1;
  *(int *)((int)this + 0xc) = param_3;
  if (param_4 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x18) = *param_4;
    *(undefined4 *)((int)this + 0x1c) = param_4[1];
  }
  if (param_5 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x20) = *param_5;
    *(undefined4 *)((int)this + 0x24) = param_5[1];
    *(undefined4 *)((int)this + 0x28) = param_5[2];
    *(undefined4 *)((int)this + 0x2c) = param_5[3];
  }
  *(int *)((int)this + 8) = param_6;
  *(undefined4 *)((int)this + 0x10) = param_7;
  iVar2 = param_1;
  if ((-1 < param_3) && (param_3 < 10000000)) {
    iVar2 = 0;
  }
  if ((9999999 < param_3) && (param_3 < 20000000)) {
    iVar2 = 1;
  }
  if ((19999999 < param_3) && (param_3 < 30000000)) {
    iVar2 = 2;
  }
  if ((29999999 < param_3) && (param_3 < 40000000)) {
    iVar2 = 4;
  }
  if ((39999999 < param_3) && (param_3 < 50000000)) {
    iVar2 = 3;
  }
  if ((param_3 < 50000000) || (59999999 < param_3)) {
    if (iVar2 == 4) {
      *(undefined4 *)((int)this + 0x20) = 0;
      *(undefined4 *)((int)this + 0x24) = 0;
      *(undefined4 *)((int)this + 0x28) = 0;
      *(undefined4 *)((int)this + 0x2c) = 0;
      *(undefined4 *)((int)this + 0x10) = 8;
      return;
    }
  }
  else {
    iVar2 = 5;
  }
  lVar3 = 0;
  this_00 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(param_1);
  this_01 = RKC_RPGSCRN_OBJECTBLOCK::Insert(this_00,lVar3);
  *(RKC_RPGSCRN_OBJECT **)((int)this + 0x58) = this_01;
  RKC_RPGSCRN_OBJECT::SetCharacterNo(this_01,*(long *)((int)this + 4));
  iVar2 = FUN_00455ee0(DAT_0048ce08,iVar2,param_8);
  *(int *)((int)this + 0x14) = iVar2;
  if (iVar2 != 0) {
    iVar2 = FUN_00456210(iVar2);
    *(int *)((int)this + 0x38) = iVar2;
    if (iVar2 != 0) {
      pvVar1 = GlobalAlloc(0,iVar2 << 2);
      *(HGLOBAL *)((int)this + 0x3c) = pvVar1;
      pvVar1 = GlobalAlloc(0,*(int *)((int)this + 0x38) << 1);
      *(HGLOBAL *)((int)this + 0x40) = pvVar1;
      pvVar1 = GlobalAlloc(0,*(int *)((int)this + 0x38) << 1);
      *(HGLOBAL *)((int)this + 0x44) = pvVar1;
      pvVar1 = GlobalAlloc(0,*(int *)((int)this + 0x38) << 1);
      *(HGLOBAL *)((int)this + 0x48) = pvVar1;
      iVar2 = 0;
      if (0 < *(int *)((int)this + 0x38)) {
        do {
          iVar2 = iVar2 + 1;
          *(undefined4 *)(*(int *)((int)this + 0x3c) + -4 + iVar2 * 4) = 1;
          *(undefined2 *)(*(int *)((int)this + 0x40) + -2 + iVar2 * 2) = 1000;
          *(undefined2 *)(*(int *)((int)this + 0x44) + -2 + iVar2 * 2) = 1000;
          *(undefined2 *)(*(int *)((int)this + 0x48) + -2 + iVar2 * 2) = 1000;
        } while (iVar2 < *(int *)((int)this + 0x38));
        return;
      }
    }
  }
  return;
}



/*
 * Function: FUN_00453c60
 * Address: 00453c60
 */

undefined4 __thiscall FUN_00453c60(void *this,long param_1,long param_2,int param_3)

{
  int iVar1;
  
  iVar1 = FUN_00456230(*(int *)((int)this + 0x5c));
  FUN_00417260(param_1,param_2,(int *)((int)this + 0x18),iVar1,param_3);
  return 1;
}



/*
 * Function: FUN_00453ca0
 * Address: 00453ca0
 */

int __thiscall FUN_00453ca0(void *this,int param_1,int param_2)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  
  iVar4 = 0;
  iVar3 = -1;
  bVar1 = false;
  iVar5 = 0;
  do {
    iVar2 = FUN_00434c90(DAT_0048ce0c,iVar4);
    if (((iVar2 != 0) &&
        (((param_2 == 0 || (0 < *(int *)(iVar2 + 0x1a4))) && (*(int *)(iVar2 + 0x2d8) != 0)))) &&
       (*(int *)((int)this + 0x5c) == *(int *)(iVar2 + 0x458))) {
      uVar6 = FUN_004143c0((int *)((int)this + 0x18),(int *)((int)this + 0x20),
                           (int *)(iVar2 + 0x2e0),(int *)(iVar2 + 0x2e8));
      iVar2 = (int)uVar6;
      if (iVar2 < param_1) {
        if (bVar1) {
          if (iVar2 < iVar5) {
            iVar3 = iVar4;
            iVar5 = iVar2;
          }
        }
        else {
          bVar1 = true;
          iVar3 = iVar4;
          iVar5 = iVar2;
        }
      }
    }
    iVar4 = iVar4 + 1;
  } while (iVar4 < 4);
  return iVar3;
}



/*
 * Function: FUN_00453d50
 * Address: 00453d50
 */

undefined4 __thiscall FUN_00453d50(void *this,int param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined4 local_4;
  
  iVar5 = 0;
  local_4 = 0;
  do {
    iVar2 = FUN_00434c90(DAT_0048ce0c,local_4);
    if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) != 0)) &&
       (*(int *)((int)this + 0x5c) == *(int *)(iVar2 + 0x458))) {
      uVar6 = FUN_00453a40(this,iVar2);
      if (((int)uVar6 <= param_1) && ((param_2 == 0 || (0 < *(int *)(iVar2 + 0x1a4))))) {
        uVar3 = FUN_00413ec0(*(int *)(iVar2 + 0x2e0) - *(int *)((int)this + 0x18),
                             *(int *)(iVar2 + 0x2e4) - *(int *)((int)this + 0x1c));
        uVar1 = *(uint *)((int)this + 0x10);
        if (uVar1 != uVar3) {
          uVar4 = uVar3 + 7 & 0x80000007;
          if ((int)uVar4 < 0) {
            uVar4 = (uVar4 - 1 | 0xfffffff8) + 1;
          }
          if (uVar1 != uVar4) {
            uVar3 = uVar3 + 9 & 0x80000007;
            if ((int)uVar3 < 0) {
              uVar3 = (uVar3 - 1 | 0xfffffff8) + 1;
            }
            if (uVar1 != uVar3) goto LAB_00453e20;
          }
        }
        if (iVar5 != 0) {
          uVar6 = FUN_00453a40(this,iVar2);
          uVar7 = FUN_00453a40(this,iVar5);
          if ((int)uVar7 <= (int)uVar6) goto LAB_00453e20;
        }
        iVar5 = iVar2;
      }
    }
LAB_00453e20:
    local_4 = local_4 + 1;
    if (3 < local_4) {
      if (iVar5 != 0) {
        return *(undefined4 *)(iVar5 + 4);
      }
      return 0xffffffff;
    }
  } while( true );
}



/*
 * Function: FUN_00453e50
 * Address: 00453e50
 */

undefined4 __thiscall FUN_00453e50(void *this,int param_1,int param_2,int param_3)

{
  undefined4 *this_00;
  int iVar1;
  undefined4 *puVar2;
  void *this_01;
  int iVar3;
  int iVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  void *local_10;
  
  iVar4 = 0;
  local_10 = (void *)0x0;
  this_00 = (undefined4 *)FUN_00427aa0(*(int *)((int)this + 0x5c));
  iVar1 = FUN_00427b20(this_00);
  if (0 < iVar1) {
    do {
      puVar2 = (undefined4 *)FUN_00434c90(this_00,iVar4);
      this_01 = (void *)FUN_00434cd0((int)puVar2);
      if ((((((this_01 != (void *)0x0) && (iVar3 = FUN_00427b20(puVar2), iVar3 == param_1)) &&
            (uVar5 = FUN_00453a70(this,(int)this_01), (int)uVar5 <= param_2)) &&
           (*(int *)((int)this_01 + 0x5c) == *(int *)((int)this + 0x5c))) &&
          ((param_3 == 0 ||
           (((iVar3 = FUN_00427b20(puVar2), iVar3 != 2 ||
             ((0 < *(int *)((int)this_01 + 0xd4) &&
              ((iVar3 = FUN_004541c0(this_01,0), iVar3 != 0 ||
               (iVar3 = FUN_004541c0(this_01,1), iVar3 != 0)))))) &&
            ((iVar3 = FUN_00427b20(puVar2), iVar3 != 5 || (0 < *(int *)((int)this_01 + 0xfc)))))))))
         && ((iVar3 = FUN_00427b20(puVar2), iVar3 != 5 ||
             (*(int *)(*(int *)((int)this_01 + 0x214) + 0x15a0) != 1)))) {
        if (local_10 != (void *)0x0) {
          uVar5 = FUN_00453a70(this,(int)this_01);
          uVar6 = FUN_00453a70(this,(int)local_10);
          if ((int)uVar6 <= (int)uVar5) goto LAB_00453f65;
        }
        local_10 = this_01;
      }
LAB_00453f65:
      iVar4 = iVar4 + 1;
    } while (iVar4 < iVar1);
    if (local_10 != (void *)0x0) {
      return *(undefined4 *)((int)local_10 + 4);
    }
  }
  return 0xffffffff;
}



/*
 * Function: FUN_00453fa0
 * Address: 00453fa0
 */

undefined4 __thiscall FUN_00453fa0(void *this,int param_1,int param_2,int param_3)

{
  undefined4 *this_00;
  int iVar1;
  undefined4 *puVar2;
  void *this_01;
  int iVar3;
  int iVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  void *local_10;
  
  iVar4 = 0;
  local_10 = (void *)0x0;
  this_00 = (undefined4 *)FUN_00427aa0(*(int *)((int)this + 0x5c));
  iVar1 = FUN_00427b20(this_00);
  if (0 < iVar1) {
    do {
      puVar2 = (undefined4 *)FUN_00434c90(this_00,iVar4);
      this_01 = (void *)FUN_00434cd0((int)puVar2);
      if (((((((this_01 != (void *)0x0) && (iVar3 = FUN_00427b20(puVar2), iVar3 == param_1)) &&
             (uVar5 = FUN_00453a70(this,(int)this_01), (int)uVar5 <= param_2)) &&
            ((*(int *)((int)this_01 + 0x5c) == *(int *)((int)this + 0x5c) &&
             ((*(uint *)((int)this_01 + 8) & 0x80000000) != 0)))) &&
           ((iVar3 = FUN_00413ec0(*(int *)((int)this_01 + 0x18) - *(int *)((int)this + 0x18),
                                  *(int *)((int)this_01 + 0x1c) - *(int *)((int)this + 0x1c)),
            *(int *)((int)this + 0x10) == iVar3 && ((*(uint *)((int)this_01 + 8) & 0x80000000) != 0)
            ))) && ((param_3 == 0 ||
                    (((iVar3 = FUN_00427b20(puVar2), iVar3 != 2 ||
                      ((0 < *(int *)((int)this_01 + 0xd4) &&
                       ((iVar3 = FUN_004541c0(this_01,0), iVar3 != 0 ||
                        (iVar3 = FUN_004541c0(this_01,1), iVar3 != 0)))))) &&
                     ((iVar3 = FUN_00427b20(puVar2), iVar3 != 5 ||
                      (0 < *(int *)((int)this_01 + 0xfc))))))))) &&
         ((iVar3 = FUN_00427b20(puVar2), iVar3 != 5 ||
          (*(int *)(*(int *)((int)this_01 + 0x214) + 0x15a0) != 1)))) {
        if (local_10 != (void *)0x0) {
          uVar5 = FUN_00453a70(this,(int)this_01);
          uVar6 = FUN_00453a70(this,(int)local_10);
          if ((int)uVar6 <= (int)uVar5) goto LAB_004540f4;
        }
        local_10 = this_01;
      }
LAB_004540f4:
      iVar4 = iVar4 + 1;
    } while (iVar4 < iVar1);
    if (local_10 != (void *)0x0) {
      return *(undefined4 *)((int)local_10 + 4);
    }
  }
  return 0xffffffff;
}



/*
 * Function: FUN_00454130
 * Address: 00454130
 */

void __thiscall FUN_00454130(void *this,char *param_1)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  
  if (*(HGLOBAL *)((int)this + 0x30) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)((int)this + 0x30));
    *(undefined4 *)((int)this + 0x30) = 0;
  }
  uVar3 = 0xffffffff;
  pcVar2 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  pcVar2 = (char *)GlobalAlloc(0x40,~uVar3);
  uVar3 = 0xffffffff;
  *(char **)((int)this + 0x30) = pcVar2;
  do {
    pcVar5 = param_1;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar5 = param_1 + 1;
    cVar1 = *param_1;
    param_1 = pcVar5;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar5 = pcVar5 + -uVar3;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)pcVar5;
    pcVar5 = pcVar5 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar2 = *pcVar5;
    pcVar5 = pcVar5 + 1;
    pcVar2 = pcVar2 + 1;
  }
  return;
}



/*
 * Function: FUN_004541c0
 * Address: 004541c0
 */

undefined4 __thiscall FUN_004541c0(void *this,int param_1)

{
  int iVar1;
  void *this_00;
  int local_c [3];
  
  local_c[0] = 100000000;
  local_c[1] = 300000000;
  local_c[2] = 200000000;
  iVar1 = local_c[param_1] + *(int *)((int)this + 4);
  this_00 = (void *)FUN_00466410(*(int *)((int)this + 0x5c));
  iVar1 = FUN_00430830(this_00,iVar1);
  if (iVar1 != 0) {
    return *(undefined4 *)(iVar1 + 4);
  }
  return 0xffffffff;
}



/*
 * Function: FUN_00454210
 * Address: 00454210
 */

void __thiscall
FUN_00454210(void *this,undefined4 param_1,undefined4 param_2,undefined4 *param_3,
            undefined4 *param_4,undefined4 *param_5,undefined4 param_6,undefined4 param_7,
            undefined4 param_8,undefined4 param_9,undefined4 param_10,undefined4 *param_11,
            undefined4 param_12,undefined4 param_13,undefined4 param_14,undefined4 param_15)

{
  *(undefined4 *)((int)this + 0x68) = param_1;
  *(undefined4 *)((int)this + 0x50) = param_2;
  if (param_3 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x20) = *param_3;
    *(undefined4 *)((int)this + 0x24) = param_3[1];
    *(undefined4 *)((int)this + 8) = *param_3;
    *(undefined4 *)((int)this + 0xc) = param_3[1];
  }
  if (param_4 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x10) = *param_4;
    *(undefined4 *)((int)this + 0x14) = param_4[1];
  }
  if (param_5 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x28) = *param_5;
    *(undefined4 *)((int)this + 0x2c) = param_5[1];
    *(undefined4 *)((int)this + 0x30) = param_5[2];
    *(undefined4 *)((int)this + 0x34) = param_5[3];
  }
  *(undefined4 *)((int)this + 0x38) = param_6;
  *(undefined4 *)this = param_8;
  *(undefined4 *)((int)this + 0x54) = param_9;
  *(undefined4 *)((int)this + 4) = param_10;
  *(undefined4 *)((int)this + 0x3c) = param_7;
  if (param_11 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x58) = *param_11;
    *(undefined4 *)((int)this + 0x5c) = param_11[1];
    *(undefined4 *)((int)this + 0x60) = param_11[2];
    *(undefined4 *)((int)this + 100) = param_11[3];
  }
  *(undefined4 *)((int)this + 0x40) = param_12;
  *(undefined4 *)((int)this + 0x6c) = param_13;
  *(undefined4 *)((int)this + 0x70) = param_14;
  *(undefined4 *)((int)this + 0x44) = 0;
  *(undefined4 *)((int)this + 0x74) = param_15;
  *(undefined4 *)((int)this + 0x48) = 0;
  *(undefined4 *)((int)this + 0x4c) = 0;
  return;
}



/*
 * Function: FUN_004542f0
 * Address: 004542f0
 */

void __thiscall FUN_004542f0(void *this,undefined4 *param_1)

{
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)((int)this + 0x20) = *param_1;
  *(undefined4 *)((int)this + 0x24) = param_1[1];
  return;
}



/*
 * Function: FUN_00454310
 * Address: 00454310
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00454310(undefined4 *param_1)

{
  double dVar1;
  void *pvVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  float10 fVar6;
  unkbyte10 extraout_ST0;
  undefined8 uVar7;
  longlong lVar8;
  int *piVar9;
  int *piVar10;
  int *piVar11;
  int local_18;
  int local_14;
  int local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  switch(*param_1) {
  case 0:
    param_1[6] = param_1[4];
    param_1[7] = param_1[5];
    return 1;
  case 1:
    iVar4 = param_1[0x15];
    pvVar2 = (void *)FUN_00427aa0(param_1[0x1a]);
    iVar4 = FUN_004299e0(pvVar2,iVar4);
    if (iVar4 == 0) {
      return 0;
    }
    iVar5 = FUN_00434cd0(iVar4);
    local_18 = *(int *)(iVar5 + 0x18);
    local_14 = *(int *)(iVar5 + 0x1c);
    iVar4 = FUN_00434cd0(iVar4);
    local_10 = *(int *)(iVar4 + 0x20);
    local_c = *(undefined4 *)(iVar4 + 0x24);
    local_8 = *(undefined4 *)(iVar4 + 0x28);
    local_4 = *(undefined4 *)(iVar4 + 0x2c);
    uVar7 = FUN_004143c0(param_1 + 8,param_1 + 10,&local_18,&local_10);
    if ((int)uVar7 <= (int)param_1[1]) {
      return 0;
    }
    if ((param_1[4] != local_18) || (param_1[5] != local_14)) {
      param_1[4] = local_18;
      param_1[5] = local_14;
    }
    iVar4 = 1;
    if (param_1[0x1d] != 0) {
      iVar4 = param_1[0x1d];
    }
    if (((int)param_1[0x11] % iVar4 != 0) &&
       ((param_1[6] != param_1[8] || (param_1[7] != param_1[9])))) goto LAB_00454724;
    iVar4 = _rand();
    if (iVar4 % 100 < (int)param_1[0x1c]) {
      piVar11 = param_1 + 6;
      iVar4 = _rand();
      dVar1 = (double)(iVar4 % 0x7d1 + -1000);
LAB_00454442:
      FUN_00414290(param_1 + 8,param_1 + 4,dVar1 * _DAT_00476d68,piVar11);
      param_1[0x11] = param_1[0x11] + 1;
      return 1;
    }
    break;
  case 2:
    iVar4 = param_1[0x15];
    pvVar2 = (void *)FUN_00427aa0(param_1[0x1a]);
    iVar4 = FUN_004299e0(pvVar2,iVar4);
    if (iVar4 == 0) {
      return 0;
    }
    iVar5 = FUN_00434cd0(iVar4);
    local_18 = *(int *)(iVar5 + 0x18);
    local_14 = *(int *)(iVar5 + 0x1c);
    iVar5 = FUN_00434cd0(iVar4);
    piVar11 = param_1 + 8;
    local_10 = *(int *)(iVar5 + 0x20);
    local_c = *(undefined4 *)(iVar5 + 0x24);
    local_8 = *(undefined4 *)(iVar5 + 0x28);
    local_4 = *(undefined4 *)(iVar5 + 0x2c);
    uVar7 = FUN_004143c0(piVar11,param_1 + 10,&local_18,&local_10);
    if ((int)param_1[1] <= (int)uVar7) {
      return 0;
    }
    piVar9 = &local_18;
    iVar5 = param_1[1] + 1;
    iVar4 = FUN_00434cd0(iVar4);
    FUN_004141f0(piVar11,(int *)(iVar4 + 0x18),iVar5,piVar9);
    piVar9 = param_1 + 4;
    if ((param_1[4] != local_18) || (param_1[5] != local_14)) {
      *piVar9 = local_18;
      param_1[5] = local_14;
    }
    iVar4 = 1;
    if (param_1[0x1d] != 0) {
      iVar4 = param_1[0x1d];
    }
    if (((int)param_1[0x11] % iVar4 == 0) ||
       ((param_1[6] == *piVar11 && (param_1[7] == param_1[9])))) {
      iVar4 = _rand();
      if (iVar4 % 100 < (int)param_1[0x1c]) {
        piVar10 = param_1 + 6;
        iVar4 = _rand();
        FUN_00414290(piVar11,piVar9,(double)(iVar4 % 0x7d1 + -1000) * _DAT_00476d68,piVar10);
        param_1[0x11] = param_1[0x11] + 1;
        return 0;
      }
      param_1[6] = *piVar9;
      param_1[7] = param_1[5];
    }
    param_1[0x11] = param_1[0x11] + 1;
    return 0;
  case 3:
    if (param_1[0x11] == param_1[0x10]) {
      return 0;
    }
    if (param_1[0x11] == 0) {
      iVar4 = param_1[0x16];
      iVar3 = _rand();
      iVar5 = param_1[0x17];
      param_1[4] = iVar3 % ((param_1[0x18] - iVar4) + 1) + iVar4;
      iVar4 = _rand();
      param_1[5] = iVar4 % ((param_1[0x19] - iVar5) + 1) + iVar5;
    }
    param_1[6] = param_1[4];
    param_1[7] = param_1[5];
    param_1[0x11] = param_1[0x11] + 1;
    return 1;
  case 4:
    iVar4 = FUN_00434c90(DAT_0048ce0c,param_1[0x15]);
    if (iVar4 == 0) {
      return 0;
    }
    if (*(int *)(iVar4 + 0x2d8) == 0) {
      return 0;
    }
    if (*(int *)(iVar4 + 0x458) != param_1[0x1a]) {
      return 0;
    }
    local_18 = *(int *)(iVar4 + 0x2e0);
    local_14 = *(int *)(iVar4 + 0x2e4);
    local_10 = *(int *)(iVar4 + 0x2e8);
    local_c = *(undefined4 *)(iVar4 + 0x2ec);
    local_8 = *(undefined4 *)(iVar4 + 0x2f0);
    local_4 = *(undefined4 *)(iVar4 + 0x2f4);
    uVar7 = FUN_004143c0(param_1 + 8,param_1 + 10,&local_18,&local_10);
    if ((int)uVar7 <= (int)param_1[1]) {
      return 0;
    }
    if ((param_1[4] != local_18) || (param_1[5] != local_14)) {
      param_1[4] = local_18;
      param_1[5] = local_14;
    }
    iVar4 = 1;
    if (param_1[0x1d] != 0) {
      iVar4 = param_1[0x1d];
    }
    if (((int)param_1[0x11] % iVar4 != 0) &&
       ((param_1[6] != param_1[8] || (param_1[7] != param_1[9])))) goto LAB_00454724;
    iVar4 = _rand();
    if (iVar4 % 100 < (int)param_1[0x1c]) {
      piVar11 = param_1 + 6;
      iVar4 = _rand();
      dVar1 = (double)(iVar4 % 0x7d1 + -1000);
      goto LAB_00454442;
    }
    break;
  case 5:
    iVar4 = FUN_00434c90(DAT_0048ce0c,param_1[0x15]);
    if (iVar4 == 0) {
      return 0;
    }
    if (*(int *)(iVar4 + 0x2d8) == 0) {
      return 0;
    }
    if (*(int *)(iVar4 + 0x458) != param_1[0x1a]) {
      return 0;
    }
    local_18 = *(int *)(iVar4 + 0x2e0);
    local_14 = *(int *)(iVar4 + 0x2e4);
    piVar11 = param_1 + 8;
    local_10 = *(int *)(iVar4 + 0x2e8);
    local_c = *(undefined4 *)(iVar4 + 0x2ec);
    local_8 = *(undefined4 *)(iVar4 + 0x2f0);
    local_4 = *(undefined4 *)(iVar4 + 0x2f4);
    uVar7 = FUN_004143c0(piVar11,param_1 + 10,&local_18,&local_10);
    if ((int)param_1[1] <= (int)uVar7) {
      return 0;
    }
    FUN_004141f0(piVar11,(int *)(iVar4 + 0x2e0),param_1[1] + 1,&local_18);
    if ((param_1[4] != local_18) || (param_1[5] != local_14)) {
      param_1[4] = local_18;
      param_1[5] = local_14;
    }
    iVar4 = 1;
    if (param_1[0x1d] != 0) {
      iVar4 = param_1[0x1d];
    }
    if (((int)param_1[0x11] % iVar4 != 0) &&
       ((param_1[6] != *piVar11 || (param_1[7] != param_1[9])))) goto LAB_00454724;
    iVar4 = _rand();
    if (iVar4 % 100 < (int)param_1[0x1c]) {
      piVar11 = param_1 + 6;
      iVar4 = _rand();
      dVar1 = (double)(iVar4 % 0x7d1 + -1000);
      goto LAB_00454442;
    }
    break;
  case 6:
    iVar5 = (int)(param_1[0x16] + param_1[0x18]) >> 1;
    iVar4 = (int)(param_1[0x17] + param_1[0x19]) >> 1;
    if ((param_1[8] == iVar5) && (param_1[9] == iVar4)) {
      fVar6 = (float10)_DAT_00475168;
    }
    else {
      fVar6 = (float10)fpatan((float10)(param_1[9] - iVar4),(float10)(param_1[8] - iVar5));
      fVar6 = fVar6 + (float10)_DAT_00476d60;
    }
    fcos(fVar6);
    lVar8 = __ftol();
    fsin(extraout_ST0);
    iVar5 = iVar5 - (int)lVar8;
    param_1[4] = iVar5;
    lVar8 = __ftol();
    iVar4 = iVar4 - (int)lVar8;
    param_1[6] = iVar5;
    param_1[5] = iVar4;
    param_1[7] = iVar4;
    return 1;
  default:
    return 0;
  }
  param_1[6] = param_1[4];
  param_1[7] = param_1[5];
LAB_00454724:
  param_1[0x11] = param_1[0x11] + 1;
  return 1;
}



/*
 * Function: FUN_00454930
 * Address: 00454930
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __thiscall FUN_00454930(void *this,int *param_1,int param_2,uint param_3,int param_4)

{
  int *piVar1;
  int *piVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  bool bVar8;
  longlong lVar9;
  int iStack_28;
  int iStack_24;
  int local_20;
  int iStack_1c;
  int local_18;
  int local_14;
  double local_10;
  double local_8;
  
  iVar4 = FUN_00454310((undefined4 *)this);
  if (iVar4 == 0) {
    *param_1 = *(int *)((int)this + 0x20);
    param_1[1] = *(int *)((int)this + 0x24);
    return 0;
  }
  iVar4 = *(int *)((int)this + 0x20);
  piVar1 = (int *)((int)this + 0x20);
  if ((iVar4 == *(int *)((int)this + 0x10)) &&
     (*(int *)((int)this + 0x24) == *(int *)((int)this + 0x14))) {
    *param_1 = iVar4;
    param_1[1] = *(int *)((int)this + 0x24);
    return 0;
  }
  if (*(int *)((int)this + 0x48) == 0) {
    iVar5 = *(int *)((int)this + 0x1c) - *(int *)((int)this + 0x24);
    iVar4 = *(int *)((int)this + 0x18) - iVar4;
    local_8 = (double)iVar5;
    local_10 = (double)iVar4;
    FUN_00468007(local_10,local_8);
    lVar9 = __ftol();
    if ((double)(int)lVar9 != _DAT_00475168) {
      lVar9 = __ftol();
      iVar7 = (int)lVar9 + *piVar1;
      local_18 = iVar7;
      lVar9 = __ftol();
      local_14 = (int)lVar9 + *(int *)((int)this + 0x24);
      if ((0 < iVar4) && (iVar6 = *(int *)((int)this + 0x18), iVar6 < iVar7)) {
        iVar7 = iVar6;
        local_18 = iVar6;
      }
      if ((iVar4 < 0) && (iVar7 < *(int *)((int)this + 0x18))) {
        local_18 = *(int *)((int)this + 0x18);
      }
      if ((0 < iVar5) && (*(int *)((int)this + 0x1c) < local_14)) {
        local_14 = *(int *)((int)this + 0x1c);
      }
      if ((iVar5 < 0) && (local_14 < *(int *)((int)this + 0x1c))) {
        local_14 = *(int *)((int)this + 0x1c);
      }
      piVar2 = (int *)((int)this + 0x28);
      iVar4 = FUN_00414990(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),piVar1,piVar2,
                           &local_18,&local_20,0,param_2,(byte)param_3,0);
      if (iVar4 != 1) goto LAB_00454f7b;
      iVar4 = *piVar1;
      iVar5 = *(int *)((int)this + 0x24);
      if (iVar4 < local_18) {
        if (iVar5 < local_14) {
          if ((iVar4 == local_20) && (iVar5 == iStack_1c)) {
            iStack_28 = iVar4 + 1;
            iStack_24 = iVar5;
            iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                 piVar2,param_2,param_3,param_4);
            if (iVar4 != 1) {
              iStack_24 = *(int *)((int)this + 0x24) + 1;
              iStack_28 = *piVar1;
              iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                   piVar2,param_2,param_3,param_4);
              if (iVar4 == 1) {
                *(undefined4 *)((int)this + 0x48) = 2;
                *(undefined4 *)((int)this + 0x4c) = 4;
              }
              else {
                iStack_24 = *(int *)((int)this + 0x24);
                iStack_28 = *piVar1 + -1;
                iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),
                                     &iStack_28,piVar2,param_2,param_3,param_4);
                if (iVar4 == 1) goto LAB_00454f6d;
                iStack_24 = *(int *)((int)this + 0x24);
                iStack_28 = *piVar1;
                iVar4 = *(int *)((int)this + 0x68);
                iVar5 = *(int *)((int)this + 0x50);
LAB_00454bc6:
                iStack_24 = iStack_24 + -1;
                iVar4 = FUN_004145b0(iVar4,iVar5,&iStack_28,piVar2,param_2,param_3,param_4);
                if (iVar4 != 1) {
LAB_00454be4:
                  *param_1 = *piVar1;
                  param_1[1] = *(int *)((int)this + 0x24);
                  return 0;
                }
                *(undefined4 *)((int)this + 0x48) = 1;
                *(undefined4 *)((int)this + 0x4c) = 4;
              }
              goto LAB_00454f7b;
            }
            *(undefined4 *)((int)this + 0x48) = 4;
LAB_00454f74:
            *(undefined4 *)((int)this + 0x4c) = 2;
          }
          else if (iVar4 == local_20) {
            if (iVar5 == iStack_1c) {
LAB_00454c29:
              if (iVar4 != local_20) {
                *(undefined4 *)((int)this + 0x48) = 4;
                goto LAB_00454f74;
              }
            }
            else {
              *(undefined4 *)((int)this + 0x48) = 2;
              *(undefined4 *)((int)this + 0x4c) = 4;
            }
          }
          else if (iVar5 == iStack_1c) goto LAB_00454c29;
        }
        else if (local_14 < iVar5) {
          if ((iVar4 == local_20) && (iVar5 == iStack_1c)) {
            iStack_28 = iVar4 + 1;
            iStack_24 = iVar5;
            iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                 piVar2,param_2,param_3,param_4);
            if (iVar4 == 1) {
              *(undefined4 *)((int)this + 0x48) = 4;
              *(undefined4 *)((int)this + 0x4c) = 1;
            }
            else {
              iStack_24 = *(int *)((int)this + 0x24) + -1;
              iStack_28 = *piVar1;
              iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                   piVar2,param_2,param_3,param_4);
              if (iVar4 == 1) {
                *(undefined4 *)((int)this + 0x48) = 1;
                *(undefined4 *)((int)this + 0x4c) = 4;
              }
              else {
                iStack_24 = *(int *)((int)this + 0x24);
                iStack_28 = *piVar1 + -1;
                iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),
                                     &iStack_28,piVar2,param_2,param_3,param_4);
                if (iVar4 == 1) {
                  *(undefined4 *)((int)this + 0x48) = 3;
                  *(undefined4 *)((int)this + 0x4c) = 1;
                }
                else {
                  iStack_24 = *(int *)((int)this + 0x24) + 1;
                  iStack_28 = *piVar1;
                  iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),
                                       &iStack_28,piVar2,param_2,param_3,param_4);
                  if (iVar4 != 1) goto LAB_00454be4;
                  *(undefined4 *)((int)this + 0x48) = 2;
                  *(undefined4 *)((int)this + 0x4c) = 4;
                }
              }
            }
          }
          else if (iVar4 == local_20) {
            if (iVar5 == iStack_1c) {
LAB_00454d91:
              if (iVar4 != local_20) {
                *(undefined4 *)((int)this + 0x48) = 4;
                *(undefined4 *)((int)this + 0x4c) = 1;
              }
            }
            else {
              *(undefined4 *)((int)this + 0x48) = 1;
              *(undefined4 *)((int)this + 0x4c) = 4;
            }
          }
          else if (iVar5 == iStack_1c) goto LAB_00454d91;
        }
        else if (iVar4 == local_20) {
          iStack_24 = iVar5 + 1;
          iStack_28 = iVar4;
          iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                               piVar2,param_2,param_3,param_4);
          if (iVar4 != 1) {
            iStack_24 = *(int *)((int)this + 0x24);
            iStack_28 = *piVar1;
            iVar4 = *(int *)((int)this + 0x68);
            iVar5 = *(int *)((int)this + 0x50);
            goto LAB_00454bc6;
          }
          *(undefined4 *)((int)this + 0x48) = 2;
          *(undefined4 *)((int)this + 0x4c) = 4;
        }
      }
      else if (local_18 < iVar4) {
        if (iVar5 < local_14) {
          if ((iVar4 == local_20) && (iVar5 == iStack_1c)) {
            iStack_28 = iVar4 + -1;
            iStack_24 = iVar5;
            iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                 piVar2,param_2,param_3,param_4);
            if (iVar4 == 1) goto LAB_00454f6d;
            iStack_24 = *(int *)((int)this + 0x24) + 1;
            iStack_28 = *piVar1;
            iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                 piVar2,param_2,param_3,param_4);
            if (iVar4 == 1) {
              *(undefined4 *)((int)this + 0x48) = 2;
              *(undefined4 *)((int)this + 0x4c) = 3;
            }
            else {
              iStack_24 = *(int *)((int)this + 0x24);
              iStack_28 = *piVar1 + 1;
              iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                   piVar2,param_2,param_3,param_4);
              if (iVar4 == 1) {
                *(undefined4 *)((int)this + 0x48) = 4;
                goto LAB_00454f74;
              }
              iStack_24 = *(int *)((int)this + 0x24);
              iStack_28 = *piVar1;
              iVar4 = *(int *)((int)this + 0x68);
              iVar5 = *(int *)((int)this + 0x50);
LAB_00454f26:
              iStack_24 = iStack_24 + -1;
              iVar4 = FUN_004145b0(iVar4,iVar5,&iStack_28,piVar2,param_2,param_3,param_4);
              if (iVar4 != 1) goto LAB_00454be4;
LAB_00454f39:
              *(undefined4 *)((int)this + 0x48) = 1;
              *(undefined4 *)((int)this + 0x4c) = 3;
            }
          }
          else if (iVar4 == local_20) {
            if (iVar5 == iStack_1c) {
LAB_00454f69:
              if (iVar4 != local_20) goto LAB_00454f6d;
            }
            else {
              *(undefined4 *)((int)this + 0x48) = 2;
              *(undefined4 *)((int)this + 0x4c) = 3;
            }
          }
          else if (iVar5 == iStack_1c) goto LAB_00454f69;
        }
        else if (local_14 < iVar5) {
          if ((iVar4 == local_20) && (iVar5 == iStack_1c)) {
            iStack_28 = iVar4 + -1;
            iStack_24 = iVar5;
            iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                 piVar2,param_2,param_3,param_4);
            if (iVar4 == 1) {
              *(undefined4 *)((int)this + 0x48) = 3;
              *(undefined4 *)((int)this + 0x4c) = 1;
            }
            else {
              iStack_24 = *(int *)((int)this + 0x24) + -1;
              iStack_28 = *piVar1;
              iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                   piVar2,param_2,param_3,param_4);
              if (iVar4 == 1) goto LAB_00454f39;
              iStack_24 = *(int *)((int)this + 0x24);
              iStack_28 = *piVar1 + 1;
              iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                                   piVar2,param_2,param_3,param_4);
              if (iVar4 == 1) {
                *(undefined4 *)((int)this + 0x48) = 4;
                *(undefined4 *)((int)this + 0x4c) = 1;
              }
              else {
                iStack_24 = *(int *)((int)this + 0x24) + 1;
                iStack_28 = *piVar1;
                iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),
                                     &iStack_28,piVar2,param_2,param_3,param_4);
                if (iVar4 != 1) goto LAB_00454be4;
                *(undefined4 *)((int)this + 0x48) = 2;
                *(undefined4 *)((int)this + 0x4c) = 3;
              }
            }
          }
          else if (iVar4 == local_20) {
            if (iVar5 == iStack_1c) {
LAB_004550d9:
              if (iVar4 != local_20) {
                *(undefined4 *)((int)this + 0x48) = 3;
                *(undefined4 *)((int)this + 0x4c) = 1;
              }
            }
            else {
              *(undefined4 *)((int)this + 0x48) = 1;
              *(undefined4 *)((int)this + 0x4c) = 3;
            }
          }
          else if (iVar5 == iStack_1c) goto LAB_004550d9;
        }
        else if (iVar4 == local_20) {
          iStack_24 = iVar5 + 1;
          iStack_28 = iVar4;
          iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                               piVar2,param_2,param_3,param_4);
          if (iVar4 != 1) {
            iStack_24 = *(int *)((int)this + 0x24);
            iStack_28 = *piVar1;
            iVar4 = *(int *)((int)this + 0x68);
            iVar5 = *(int *)((int)this + 0x50);
            goto LAB_00454f26;
          }
          *(undefined4 *)((int)this + 0x48) = 2;
          *(undefined4 *)((int)this + 0x4c) = 3;
        }
      }
      else if (iVar5 < local_14) {
        if (iVar5 == iStack_1c) {
          iStack_28 = iVar4 + 1;
          iStack_24 = iVar5;
          iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                               piVar2,param_2,param_3,param_4);
          if (iVar4 == 1) {
            *(undefined4 *)((int)this + 0x48) = 4;
            goto LAB_00454f74;
          }
          iStack_24 = *(int *)((int)this + 0x24);
          iStack_28 = *piVar1 + -1;
          iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                               piVar2,param_2,param_3,param_4);
          if (iVar4 != 1) goto LAB_00454be4;
LAB_00454f6d:
          *(undefined4 *)((int)this + 0x48) = 3;
          goto LAB_00454f74;
        }
      }
      else if ((local_14 < iVar5) && (iVar5 == iStack_1c)) {
        iStack_28 = iVar4 + 1;
        iStack_24 = iVar5;
        iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,piVar2
                             ,param_2,param_3,param_4);
        if (iVar4 == 1) {
          *(undefined4 *)((int)this + 0x48) = 4;
          *(undefined4 *)((int)this + 0x4c) = 1;
        }
        else {
          iStack_24 = *(int *)((int)this + 0x24);
          iStack_28 = *piVar1 + -1;
          iVar4 = FUN_004145b0(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),&iStack_28,
                               piVar2,param_2,param_3,param_4);
          if (iVar4 != 1) goto LAB_00454be4;
          *(undefined4 *)((int)this + 0x48) = 3;
          *(undefined4 *)((int)this + 0x4c) = 1;
        }
      }
LAB_00454f7b:
      *piVar1 = local_20;
      *(int *)((int)this + 0x24) = iStack_1c;
    }
    if (*(int *)((int)this + 0x48) == 0) goto LAB_0045556a;
  }
  iVar4 = *(int *)((int)this + 0x1c);
  iVar5 = *(int *)((int)this + 0x24);
  iVar7 = *piVar1;
  iVar6 = *(int *)((int)this + 0x18);
  *param_1 = iVar7;
  param_1[1] = *(int *)((int)this + 0x24);
  iVar4 = iVar4 - iVar5;
  iVar6 = iVar6 - iVar7;
  if (iVar4 < 1) {
    if (iVar4 < 0) {
      iVar5 = *(int *)((int)this + 0x48);
      if (iVar6 < 1) {
        if (-1 < iVar6) {
          if (iVar5 == 2) {
            *(undefined4 *)((int)this + 0x48) = 0;
            *(undefined4 *)((int)this + 0x4c) = 0;
            return 0;
          }
          goto LAB_004553bb;
        }
        if ((iVar5 == 2) && (*(int *)((int)this + 0x4c) == 4)) {
          *(undefined4 *)((int)this + 0x48) = 0;
          *(undefined4 *)((int)this + 0x4c) = 0;
          return 0;
        }
        bVar8 = iVar5 == 4;
      }
      else {
        if ((iVar5 == 2) && (*(int *)((int)this + 0x4c) == 3)) goto LAB_00455358;
        bVar8 = iVar5 == 3;
      }
      if (bVar8) {
        bVar8 = *(int *)((int)this + 0x4c) == 2;
        goto LAB_00455356;
      }
    }
    else if (iVar6 < 1) {
      if ((-1 < iVar6) || (iVar5 = *(int *)((int)this + 0x48), iVar5 == 4)) {
        *(undefined4 *)((int)this + 0x48) = 0;
        *(undefined4 *)((int)this + 0x4c) = 0;
        return 0;
      }
    }
    else {
      iVar5 = *(int *)((int)this + 0x48);
      if (iVar5 == 3) {
        *(undefined4 *)((int)this + 0x48) = 0;
        *(undefined4 *)((int)this + 0x4c) = 0;
        return 0;
      }
    }
LAB_004553bb:
    if (iVar5 == 1) {
      iVar6 = 0;
      lVar9 = __ftol();
      iVar4 = (int)lVar9;
    }
  }
  else {
    iVar5 = *(int *)((int)this + 0x48);
    if (0 < iVar6) {
      if ((iVar5 == 1) && (*(int *)((int)this + 0x4c) == 3)) goto LAB_00455358;
      if (iVar5 != 3) goto LAB_004553bb;
      bVar8 = *(int *)((int)this + 0x4c) == 1;
LAB_00455356:
      if (bVar8) {
LAB_00455358:
        *(undefined4 *)((int)this + 0x48) = 0;
        *(undefined4 *)((int)this + 0x4c) = 0;
        return 0;
      }
      goto LAB_004553bb;
    }
    if (iVar6 < 0) {
      if ((iVar5 == 1) && (*(int *)((int)this + 0x4c) == 4)) goto LAB_00455358;
      if (iVar5 == 4) {
        bVar8 = *(int *)((int)this + 0x4c) == 1;
        goto LAB_00455356;
      }
      goto LAB_004553bb;
    }
    if (iVar5 == 1) {
      *(undefined4 *)((int)this + 0x48) = 0;
      *(undefined4 *)((int)this + 0x4c) = 0;
      return 0;
    }
  }
  if (iVar5 == 2) {
    iVar6 = 0;
    lVar9 = __ftol();
    iVar4 = (int)lVar9;
  }
  if (iVar5 == 3) {
    lVar9 = __ftol();
    iVar6 = (int)lVar9;
    iVar4 = 0;
  }
  if (iVar5 == 4) {
    lVar9 = __ftol();
    iVar6 = (int)lVar9;
    iVar4 = 0;
  }
  local_14 = *(int *)((int)this + 0x24) + iVar4;
  local_18 = *piVar1 + iVar6;
  FUN_00414990(*(int *)((int)this + 0x68),*(int *)((int)this + 0x50),piVar1,
               (int *)((int)this + 0x28),&local_18,&local_20,*(int *)((int)this + 0x4c),0,0xff,0);
  if ((*piVar1 == local_20) && (*(int *)((int)this + 0x24) == iStack_1c)) {
    iVar5 = *(int *)((int)this + 0x4c);
    if (iVar5 == 1) {
      iVar7 = 2;
    }
    else if (iVar5 == 2) {
      iVar7 = 1;
    }
    else if (iVar5 == 3) {
      iVar7 = 4;
    }
    else {
      iVar7 = 3;
      if (iVar5 != 4) {
        iVar7 = param_4;
      }
    }
    uVar3 = *(undefined4 *)((int)this + 0x48);
    *(int *)((int)this + 0x48) = iVar7;
    *(undefined4 *)((int)this + 0x4c) = uVar3;
  }
  if (((iVar6 == 0) && (local_20 != *piVar1)) ||
     ((iVar4 == 0 && (iStack_1c != *(int *)((int)this + 0x24))))) {
    iVar5 = *(int *)((int)this + 0x1c) - iStack_1c;
    iVar4 = *(int *)((int)this + 0x18) - local_20;
    if (iVar5 < 1) {
      if (iVar5 < 0) {
        if (iVar4 < 1) {
          if (-1 < iVar4) goto LAB_00455551;
          iVar4 = *(int *)((int)this + 0x4c);
          if (iVar4 != 4) goto LAB_00455518;
          *(undefined4 *)((int)this + 0x48) = 4;
          *(undefined4 *)((int)this + 0x4c) = 1;
        }
        else {
          iVar4 = *(int *)((int)this + 0x4c);
          if (iVar4 != 3) goto LAB_004554f2;
          *(undefined4 *)((int)this + 0x48) = 3;
          *(undefined4 *)((int)this + 0x4c) = 1;
        }
      }
      else {
LAB_00455551:
        *(undefined4 *)((int)this + 0x48) = 0;
        *(undefined4 *)((int)this + 0x4c) = 0;
      }
    }
    else if (iVar4 < 1) {
      if (-1 < iVar4) goto LAB_00455551;
      iVar4 = *(int *)((int)this + 0x4c);
      if (iVar4 == 4) {
        *(undefined4 *)((int)this + 0x48) = 4;
        *(undefined4 *)((int)this + 0x4c) = 2;
      }
      else {
LAB_00455518:
        if (iVar4 != 2) goto LAB_00455551;
        *(undefined4 *)((int)this + 0x48) = 2;
        *(undefined4 *)((int)this + 0x4c) = 3;
      }
    }
    else {
      iVar4 = *(int *)((int)this + 0x4c);
      if (iVar4 == 3) {
        *(undefined4 *)((int)this + 0x48) = 3;
        *(undefined4 *)((int)this + 0x4c) = 2;
      }
      else {
LAB_004554f2:
        if (iVar4 != 1) goto LAB_00455551;
        *(undefined4 *)((int)this + 0x48) = 1;
        *(undefined4 *)((int)this + 0x4c) = 4;
      }
    }
  }
  *piVar1 = local_20;
  *(int *)((int)this + 0x24) = iStack_1c;
LAB_0045556a:
  *param_1 = *piVar1;
  param_1[1] = *(int *)((int)this + 0x24);
  if (((*(int *)((int)this + 0x6c) == 0) &&
      ((*(int *)((int)this + 8) - *(int *)((int)this + 0x18)) *
       (*piVar1 - *(int *)((int)this + 0x18)) < 0)) &&
     ((*(int *)((int)this + 0x24) - *(int *)((int)this + 0x1c)) *
      (*(int *)((int)this + 0xc) - *(int *)((int)this + 0x1c)) < 0)) {
    return 0;
  }
  return 1;
}



/*
 * Function: thunk_FUN_00455f10
 * Address: 004555d0
 */

void __fastcall thunk_FUN_00455f10(int *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)*param_1;
  if (puVar2 == (undefined4 *)0x0) {
    *param_1 = 0;
    return;
  }
  do {
    puVar1 = (undefined4 *)puVar2[10];
    if (puVar2 != (undefined4 *)0x0) {
      thunk_FUN_00455f90(puVar2);
      FUN_0046787e(puVar2);
    }
    puVar2 = puVar1;
  } while (puVar1 != (undefined4 *)0x0);
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_004555e0
 * Address: 004555e0
 */

undefined4 FUN_004555e0(void)

{
  void *pvVar1;
  byte bVar2;
  int iVar3;
  byte *pbVar4;
  byte *pbVar5;
  void *pvVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  byte *pbVar10;
  bool bVar11;
  int local_114;
  int iStack_110;
  int local_10c;
  int *local_108;
  char acStack_104 [260];
  
  iVar8 = 5000;
  local_10c = 2000;
  iVar3 = RK_CheckFilesExist(s_Character_OBJECT_____0048093c,&local_114);
  if (iVar3 != 0) {
    if (0 < iVar3) {
      iVar9 = 0;
      iStack_110 = iVar3;
      do {
        if ((*(byte *)(local_114 + iVar9) & 0x10) != 0) {
          pbVar5 = (byte *)(local_114 + 0x2c + iVar9);
          pbVar10 = &DAT_0048023c;
          pbVar4 = pbVar5;
          do {
            bVar2 = *pbVar4;
            bVar11 = bVar2 < *pbVar10;
            if (bVar2 != *pbVar10) {
LAB_0045565e:
              iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
              goto LAB_00455663;
            }
            if (bVar2 == 0) break;
            bVar2 = pbVar4[1];
            bVar11 = bVar2 < pbVar10[1];
            if (bVar2 != pbVar10[1]) goto LAB_0045565e;
            pbVar4 = pbVar4 + 2;
            pbVar10 = pbVar10 + 2;
          } while (bVar2 != 0);
          iVar3 = 0;
LAB_00455663:
          if (iVar3 != 0) {
            pbVar4 = &DAT_00480238;
            do {
              bVar2 = *pbVar5;
              bVar11 = bVar2 < *pbVar4;
              if (bVar2 != *pbVar4) {
LAB_00455696:
                iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
                goto LAB_0045569b;
              }
              if (bVar2 == 0) break;
              bVar2 = pbVar5[1];
              bVar11 = bVar2 < pbVar4[1];
              if (bVar2 != pbVar4[1]) goto LAB_00455696;
              pbVar5 = pbVar5 + 2;
              pbVar4 = pbVar4 + 2;
            } while (bVar2 != 0);
            iVar3 = 0;
LAB_0045569b:
            if (iVar3 != 0) {
              pvVar6 = (void *)FUN_00455e60(local_108);
              pvVar1 = (void *)(local_114 + 0x2c + iVar9);
              uVar7 = FUN_004685f5(pvVar1,(byte *)pvVar1);
              FUN_00456220(pvVar6,uVar7);
              *(undefined4 *)((int)pvVar6 + 0x24) = 0;
              FUN_00467d51(acStack_104,(byte *)s_Character_OBJECT__s_00480928);
              iVar3 = FUN_00455fe0(pvVar6,acStack_104);
              if (iVar3 == 0) {
                MessageBoxA((HWND)0x0,&DAT_0048090c,acStack_104,0);
              }
              *(int *)((int)pvVar6 + 0x14) = iVar8;
              *(int *)((int)pvVar6 + 0x10) = local_10c;
              *(int *)((int)pvVar6 + 0x18) = iVar8 + 1;
              *(int *)((int)pvVar6 + 0x1c) = iVar8 + 2;
              *(int *)((int)pvVar6 + 0x20) = iVar8 + 3;
              iVar8 = iVar8 + 4;
              local_10c = local_10c + 1;
              FUN_00456080(pvVar6,1);
            }
          }
        }
        iVar9 = iVar9 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_114);
  }
  iVar3 = RK_CheckFilesExist(s_Character_PEOPLE_____004808f4,&local_114);
  if (iVar3 != 0) {
    if (0 < iVar3) {
      iVar9 = 0;
      iStack_110 = iVar3;
      do {
        if ((*(byte *)(local_114 + iVar9) & 0x10) != 0) {
          pbVar5 = (byte *)(local_114 + 0x2c + iVar9);
          pbVar10 = &DAT_0048023c;
          pbVar4 = pbVar5;
          do {
            bVar2 = *pbVar4;
            bVar11 = bVar2 < *pbVar10;
            if (bVar2 != *pbVar10) {
LAB_004557b6:
              iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
              goto LAB_004557bb;
            }
            if (bVar2 == 0) break;
            bVar2 = pbVar4[1];
            bVar11 = bVar2 < pbVar10[1];
            if (bVar2 != pbVar10[1]) goto LAB_004557b6;
            pbVar4 = pbVar4 + 2;
            pbVar10 = pbVar10 + 2;
          } while (bVar2 != 0);
          iVar3 = 0;
LAB_004557bb:
          if (iVar3 != 0) {
            pbVar4 = &DAT_00480238;
            do {
              bVar2 = *pbVar5;
              bVar11 = bVar2 < *pbVar4;
              if (bVar2 != *pbVar4) {
LAB_004557ee:
                iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
                goto LAB_004557f3;
              }
              if (bVar2 == 0) break;
              bVar2 = pbVar5[1];
              bVar11 = bVar2 < pbVar4[1];
              if (bVar2 != pbVar4[1]) goto LAB_004557ee;
              pbVar5 = pbVar5 + 2;
              pbVar4 = pbVar4 + 2;
            } while (bVar2 != 0);
            iVar3 = 0;
LAB_004557f3:
            if (iVar3 != 0) {
              pvVar6 = (void *)FUN_00455e60(local_108);
              pvVar1 = (void *)(local_114 + 0x2c + iVar9);
              uVar7 = FUN_004685f5(pvVar1,(byte *)pvVar1);
              FUN_00456220(pvVar6,uVar7);
              *(undefined4 *)((int)pvVar6 + 0x24) = 1;
              FUN_00467d51(acStack_104,(byte *)s_Character_PEOPLE__s_004808e0);
              iVar3 = FUN_00455fe0(pvVar6,acStack_104);
              if (iVar3 == 0) {
                MessageBoxA((HWND)0x0,&DAT_0048090c,acStack_104,0);
              }
              *(int *)((int)pvVar6 + 0x14) = iVar8;
              *(int *)((int)pvVar6 + 0x10) = local_10c;
              *(int *)((int)pvVar6 + 0x18) = iVar8 + 1;
              *(int *)((int)pvVar6 + 0x1c) = iVar8 + 2;
              *(int *)((int)pvVar6 + 0x20) = iVar8 + 3;
              iVar8 = iVar8 + 4;
              local_10c = local_10c + 1;
              FUN_00456080(pvVar6,1);
            }
          }
        }
        iVar9 = iVar9 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_114);
  }
  iVar3 = RK_CheckFilesExist(s_Character_ENEMY_____004808cc,&local_114);
  if (iVar3 != 0) {
    if (0 < iVar3) {
      iVar9 = 0;
      iStack_110 = iVar3;
      do {
        if ((*(byte *)(local_114 + iVar9) & 0x10) != 0) {
          pbVar5 = (byte *)(local_114 + 0x2c + iVar9);
          pbVar10 = &DAT_0048023c;
          pbVar4 = pbVar5;
          do {
            bVar2 = *pbVar4;
            bVar11 = bVar2 < *pbVar10;
            if (bVar2 != *pbVar10) {
LAB_0045590e:
              iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
              goto LAB_00455913;
            }
            if (bVar2 == 0) break;
            bVar2 = pbVar4[1];
            bVar11 = bVar2 < pbVar10[1];
            if (bVar2 != pbVar10[1]) goto LAB_0045590e;
            pbVar4 = pbVar4 + 2;
            pbVar10 = pbVar10 + 2;
          } while (bVar2 != 0);
          iVar3 = 0;
LAB_00455913:
          if (iVar3 != 0) {
            pbVar4 = &DAT_00480238;
            do {
              bVar2 = *pbVar5;
              bVar11 = bVar2 < *pbVar4;
              if (bVar2 != *pbVar4) {
LAB_00455946:
                iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
                goto LAB_0045594b;
              }
              if (bVar2 == 0) break;
              bVar2 = pbVar5[1];
              bVar11 = bVar2 < pbVar4[1];
              if (bVar2 != pbVar4[1]) goto LAB_00455946;
              pbVar5 = pbVar5 + 2;
              pbVar4 = pbVar4 + 2;
            } while (bVar2 != 0);
            iVar3 = 0;
LAB_0045594b:
            if (iVar3 != 0) {
              pvVar6 = (void *)FUN_00455e60(local_108);
              pvVar1 = (void *)(local_114 + 0x2c + iVar9);
              uVar7 = FUN_004685f5(pvVar1,(byte *)pvVar1);
              FUN_00456220(pvVar6,uVar7);
              *(undefined4 *)((int)pvVar6 + 0x24) = 2;
              FUN_00467d51(acStack_104,(byte *)s_Character_ENEMY__s_004808b8);
              iVar3 = FUN_00455fe0(pvVar6,acStack_104);
              if (iVar3 == 0) {
                MessageBoxA((HWND)0x0,&DAT_0048090c,acStack_104,0);
              }
              *(int *)((int)pvVar6 + 0x14) = iVar8;
              *(int *)((int)pvVar6 + 0x10) = local_10c;
              *(int *)((int)pvVar6 + 0x18) = iVar8 + 1;
              *(int *)((int)pvVar6 + 0x1c) = iVar8 + 2;
              *(int *)((int)pvVar6 + 0x20) = iVar8 + 3;
              iVar8 = iVar8 + 4;
              local_10c = local_10c + 1;
              FUN_00456080(pvVar6,1);
            }
          }
        }
        iVar9 = iVar9 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_114);
  }
  iVar3 = RK_CheckFilesExist(s_Character_ITEM_____004808a4,&local_114);
  if (iVar3 != 0) {
    iVar8 = 2000;
    local_10c = 0x44c;
    if (0 < iVar3) {
      iVar9 = 0;
      iStack_110 = iVar3;
      do {
        if ((*(byte *)(iVar9 + local_114) & 0x10) != 0) {
          pbVar5 = (byte *)(iVar9 + 0x2c + local_114);
          pbVar10 = &DAT_0048023c;
          pbVar4 = pbVar5;
          do {
            bVar2 = *pbVar4;
            bVar11 = bVar2 < *pbVar10;
            if (bVar2 != *pbVar10) {
LAB_00455a73:
              iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
              goto LAB_00455a78;
            }
            if (bVar2 == 0) break;
            bVar2 = pbVar4[1];
            bVar11 = bVar2 < pbVar10[1];
            if (bVar2 != pbVar10[1]) goto LAB_00455a73;
            pbVar4 = pbVar4 + 2;
            pbVar10 = pbVar10 + 2;
          } while (bVar2 != 0);
          iVar3 = 0;
LAB_00455a78:
          if (iVar3 != 0) {
            pbVar4 = &DAT_00480238;
            do {
              bVar2 = *pbVar5;
              bVar11 = bVar2 < *pbVar4;
              if (bVar2 != *pbVar4) {
LAB_00455aab:
                iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
                goto LAB_00455ab0;
              }
              if (bVar2 == 0) break;
              bVar2 = pbVar5[1];
              bVar11 = bVar2 < pbVar4[1];
              if (bVar2 != pbVar4[1]) goto LAB_00455aab;
              pbVar5 = pbVar5 + 2;
              pbVar4 = pbVar4 + 2;
            } while (bVar2 != 0);
            iVar3 = 0;
LAB_00455ab0:
            if (iVar3 != 0) {
              pvVar6 = (void *)FUN_00455e60(local_108);
              pvVar1 = (void *)(iVar9 + 0x2c + local_114);
              uVar7 = FUN_004685f5(pvVar1,(byte *)pvVar1);
              FUN_00456220(pvVar6,uVar7);
              *(undefined4 *)((int)pvVar6 + 0x24) = 4;
              FUN_00467d51(acStack_104,(byte *)s_Character_ITEM__s_00480890);
              iVar3 = FUN_00455fe0(pvVar6,acStack_104);
              if (iVar3 == 0) {
                MessageBoxA((HWND)0x0,&DAT_0048090c,acStack_104,0);
              }
              *(int *)((int)pvVar6 + 0x14) = iVar8;
              *(int *)((int)pvVar6 + 0x10) = local_10c;
              *(int *)((int)pvVar6 + 0x18) = iVar8 + 1;
              *(int *)((int)pvVar6 + 0x1c) = iVar8 + 2;
              *(int *)((int)pvVar6 + 0x20) = iVar8 + 3;
              iVar8 = iVar8 + 4;
              local_10c = local_10c + 1;
              FUN_00456080(pvVar6,1);
              FUN_00456080(pvVar6,0);
            }
          }
        }
        iVar9 = iVar9 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_114);
  }
  iVar3 = RK_CheckFilesExist(s_Character_PARTNER_____00480878,&local_114);
  if (iVar3 != 0) {
    iVar8 = 3000;
    local_10c = 800;
    if (0 < iVar3) {
      iVar9 = 0;
      iStack_110 = iVar3;
      do {
        if ((*(byte *)(iVar9 + local_114) & 0x10) != 0) {
          pbVar5 = (byte *)(iVar9 + 0x2c + local_114);
          pbVar10 = &DAT_0048023c;
          pbVar4 = pbVar5;
          do {
            bVar2 = *pbVar4;
            bVar11 = bVar2 < *pbVar10;
            if (bVar2 != *pbVar10) {
LAB_00455be1:
              iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
              goto LAB_00455be6;
            }
            if (bVar2 == 0) break;
            bVar2 = pbVar4[1];
            bVar11 = bVar2 < pbVar10[1];
            if (bVar2 != pbVar10[1]) goto LAB_00455be1;
            pbVar4 = pbVar4 + 2;
            pbVar10 = pbVar10 + 2;
          } while (bVar2 != 0);
          iVar3 = 0;
LAB_00455be6:
          if (iVar3 != 0) {
            pbVar4 = &DAT_00480238;
            do {
              bVar2 = *pbVar5;
              bVar11 = bVar2 < *pbVar4;
              if (bVar2 != *pbVar4) {
LAB_00455c19:
                iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
                goto LAB_00455c1e;
              }
              if (bVar2 == 0) break;
              bVar2 = pbVar5[1];
              bVar11 = bVar2 < pbVar4[1];
              if (bVar2 != pbVar4[1]) goto LAB_00455c19;
              pbVar5 = pbVar5 + 2;
              pbVar4 = pbVar4 + 2;
            } while (bVar2 != 0);
            iVar3 = 0;
LAB_00455c1e:
            if (iVar3 != 0) {
              pvVar6 = (void *)FUN_00455e60(local_108);
              pvVar1 = (void *)(iVar9 + 0x2c + local_114);
              uVar7 = FUN_004685f5(pvVar1,(byte *)pvVar1);
              FUN_00456220(pvVar6,uVar7);
              *(undefined4 *)((int)pvVar6 + 0x24) = 3;
              FUN_00467d51(acStack_104,(byte *)s_Character_PARTNER__s_00480860);
              iVar3 = FUN_00455fe0(pvVar6,acStack_104);
              if (iVar3 == 0) {
                MessageBoxA((HWND)0x0,&DAT_0048090c,acStack_104,0);
              }
              *(int *)((int)pvVar6 + 0x14) = iVar8;
              *(int *)((int)pvVar6 + 0x10) = local_10c;
              *(int *)((int)pvVar6 + 0x18) = iVar8 + 1;
              *(int *)((int)pvVar6 + 0x1c) = iVar8 + 2;
              *(int *)((int)pvVar6 + 0x20) = iVar8 + 3;
              iVar8 = iVar8 + 4;
              local_10c = local_10c + 1;
              FUN_00456080(pvVar6,1);
              FUN_00456080(pvVar6,0);
            }
          }
        }
        iVar9 = iVar9 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_114);
  }
  iVar3 = RK_CheckFilesExist(s_Character_Option_____00480848,&local_114);
  if (iVar3 != 0) {
    iVar8 = 4000;
    local_10c = 900;
    if (0 < iVar3) {
      iVar9 = 0;
      iStack_110 = iVar3;
      do {
        if ((*(byte *)(iVar9 + local_114) & 0x10) != 0) {
          pbVar5 = (byte *)(iVar9 + 0x2c + local_114);
          pbVar10 = &DAT_0048023c;
          pbVar4 = pbVar5;
          do {
            bVar2 = *pbVar4;
            bVar11 = bVar2 < *pbVar10;
            if (bVar2 != *pbVar10) {
LAB_00455d4f:
              iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
              goto LAB_00455d54;
            }
            if (bVar2 == 0) break;
            bVar2 = pbVar4[1];
            bVar11 = bVar2 < pbVar10[1];
            if (bVar2 != pbVar10[1]) goto LAB_00455d4f;
            pbVar4 = pbVar4 + 2;
            pbVar10 = pbVar10 + 2;
          } while (bVar2 != 0);
          iVar3 = 0;
LAB_00455d54:
          if (iVar3 != 0) {
            pbVar4 = &DAT_00480238;
            do {
              bVar2 = *pbVar5;
              bVar11 = bVar2 < *pbVar4;
              if (bVar2 != *pbVar4) {
LAB_00455d87:
                iVar3 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
                goto LAB_00455d8c;
              }
              if (bVar2 == 0) break;
              bVar2 = pbVar5[1];
              bVar11 = bVar2 < pbVar4[1];
              if (bVar2 != pbVar4[1]) goto LAB_00455d87;
              pbVar5 = pbVar5 + 2;
              pbVar4 = pbVar4 + 2;
            } while (bVar2 != 0);
            iVar3 = 0;
LAB_00455d8c:
            if (iVar3 != 0) {
              pvVar6 = (void *)FUN_00455e60(local_108);
              pvVar1 = (void *)(iVar9 + 0x2c + local_114);
              uVar7 = FUN_004685f5(pvVar1,(byte *)pvVar1);
              FUN_00456220(pvVar6,uVar7);
              *(undefined4 *)((int)pvVar6 + 0x24) = 5;
              FUN_00467d51(acStack_104,(byte *)s_Character_Option__s_00480834);
              iVar3 = FUN_00455fe0(pvVar6,acStack_104);
              if (iVar3 == 0) {
                MessageBoxA((HWND)0x0,&DAT_0048090c,acStack_104,0);
              }
              *(int *)((int)pvVar6 + 0x14) = iVar8;
              *(int *)((int)pvVar6 + 0x10) = local_10c;
              *(int *)((int)pvVar6 + 0x18) = iVar8 + 1;
              *(int *)((int)pvVar6 + 0x1c) = iVar8 + 2;
              *(int *)((int)pvVar6 + 0x20) = iVar8 + 3;
              iVar8 = iVar8 + 4;
              local_10c = local_10c + 1;
              FUN_00456080(pvVar6,1);
              FUN_00456080(pvVar6,0);
            }
          }
        }
        iVar9 = iVar9 + 0x140;
        iStack_110 = iStack_110 + -1;
      } while (iStack_110 != 0);
    }
    RK_ReleaseFilesExist(&local_114);
  }
  return 1;
}



/*
 * Function: FUN_00455e60
 * Address: 00455e60
 */

void __fastcall FUN_00455e60(int *param_1)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_004721db;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  puVar3 = (undefined4 *)operator_new(0x2c);
  local_4 = 0;
  if (puVar3 == (undefined4 *)0x0) {
    iVar4 = 0;
  }
  else {
    iVar4 = FUN_00455f50(puVar3);
  }
  iVar1 = *param_1;
  if (iVar1 == 0) {
    *param_1 = iVar4;
  }
  else {
    for (iVar2 = *(int *)(iVar1 + 0x28); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x28)) {
      iVar1 = iVar2;
    }
    *(int *)(iVar1 + 0x28) = iVar4;
  }
  *(undefined4 *)(iVar4 + 0x28) = 0;
  ExceptionList = local_c;
  return;
}



/*
 * Function: FUN_00455ee0
 * Address: 00455ee0
 */

void __thiscall FUN_00455ee0(void *this,int param_1,int param_2)

{
  int iVar1;
  
                    /* WARNING: Load size is inaccurate */
  for (iVar1 = *this;
      (iVar1 != 0 && ((*(int *)(iVar1 + 0x24) != param_1 || (*(int *)(iVar1 + 8) != param_2))));
      iVar1 = *(int *)(iVar1 + 0x28)) {
  }
  return;
}



/*
 * Function: FUN_00455f10
 * Address: 00455f10
 */

void __fastcall FUN_00455f10(int *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)*param_1;
  if (puVar2 == (undefined4 *)0x0) {
    *param_1 = 0;
    return;
  }
  do {
    puVar1 = (undefined4 *)puVar2[10];
    if (puVar2 != (undefined4 *)0x0) {
      thunk_FUN_00455f90(puVar2);
      FUN_0046787e(puVar2);
    }
    puVar2 = puVar1;
  } while (puVar1 != (undefined4 *)0x0);
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_00455f50
 * Address: 00455f50
 */

void __fastcall FUN_00455f50(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  param_1[6] = 0xffffffff;
  param_1[7] = 0xffffffff;
  param_1[8] = 0xffffffff;
  param_1[3] = 0;
  param_1[9] = 0;
  param_1[10] = 0;
  return;
}



/*
 * Function: thunk_FUN_00455f90
 * Address: 00455f80
 */

void __fastcall thunk_FUN_00455f90(undefined4 *param_1)

{
  if ((HGLOBAL)*param_1 != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)*param_1);
    *param_1 = 0;
  }
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  param_1[6] = 0xffffffff;
  param_1[7] = 0xffffffff;
  param_1[8] = 0xffffffff;
  param_1[3] = 0;
  return;
}



/*
 * Function: FUN_00455f90
 * Address: 00455f90
 */

void __fastcall FUN_00455f90(undefined4 *param_1)

{
  if ((HGLOBAL)*param_1 != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)*param_1);
    *param_1 = 0;
  }
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  param_1[6] = 0xffffffff;
  param_1[7] = 0xffffffff;
  param_1[8] = 0xffffffff;
  param_1[3] = 0;
  return;
}



/*
 * Function: FUN_00455fe0
 * Address: 00455fe0
 */

undefined4 __thiscall FUN_00455fe0(void *this,char *param_1)

{
  char cVar1;
  char *pcVar2;
  int iVar3;
  long lVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  char *pcVar8;
  undefined4 uVar9;
  char acStack_104 [260];
  
  uVar5 = 0xffffffff;
  pcVar2 = param_1;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  pcVar2 = (char *)GlobalAlloc(0x40,~uVar5);
  uVar5 = 0xffffffff;
  *(char **)this = pcVar2;
  do {
    pcVar7 = param_1;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar7 = param_1 + 1;
    cVar1 = *param_1;
    param_1 = pcVar7;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  pcVar8 = acStack_104;
  pcVar7 = pcVar7 + -uVar5;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)pcVar7;
    pcVar7 = pcVar7 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar2 = *pcVar7;
    pcVar7 = pcVar7 + 1;
    pcVar2 = pcVar2 + 1;
  }
                    /* WARNING: Load size is inaccurate */
  uVar9 = *this;
  pcVar2 = s__s_Animation_Caf_00480954;
  FUN_00467d51(pcVar8,(byte *)s__s_Animation_Caf_00480954);
  iVar3 = RK_CheckFileExist(acStack_104,0,pcVar8,pcVar2,uVar9);
  if (iVar3 == 1) {
    lVar4 = RKC_RPGSCRN_CHARANIMBLOCK::GetMaxPartsCountFromFile(DAT_00482d20,acStack_104);
    *(long *)((int)this + 0xc) = lVar4;
  }
  return 1;
}



/*
 * Function: FUN_00456080
 * Address: 00456080
 */

undefined4 __thiscall FUN_00456080(void *this,int param_1)

{
  int iVar1;
  RKC_RPGSCRN_CHARANIM *this_00;
  char **ppcVar2;
  int iVar3;
  char *pcVar4;
  char *pcVar5;
  undefined4 uVar6;
  char *pcVar7;
  long lVar8;
  char *local_114 [4];
  char local_104 [260];
  
  local_114[0] = s_Animation_Njp_00480998;
  local_114[1] = s_Animation_Sdw_00480988;
  local_114[2] = s_Pattern_Njp_0048097c;
  local_114[3] = s_Pattern_Sdw_00480970;
  if (param_1 == 0) {
    iVar3 = 0;
    ppcVar2 = local_114;
    do {
      pcVar7 = *ppcVar2;
                    /* WARNING: Load size is inaccurate */
      uVar6 = *this;
      pcVar4 = local_104;
      pcVar5 = s__s__s_00480968;
      FUN_00467d51(pcVar4,(byte *)s__s__s_00480968);
      iVar1 = RK_CheckFileExist(local_104,0,pcVar4,pcVar5,uVar6,pcVar7);
      if (iVar1 == 1) {
        RKC_UPDIB::ReadUpd(DAT_00482d10,*(int *)((int)this + 0x14) + iVar3,local_104,0,0,0,0);
      }
      iVar3 = iVar3 + 1;
      ppcVar2 = ppcVar2 + 1;
    } while (iVar3 < 4);
    *(undefined4 *)((int)this + 4) = 1;
    return 1;
  }
                    /* WARNING: Load size is inaccurate */
  uVar6 = *this;
  pcVar4 = local_104;
  pcVar7 = s__s_Animation_Caf_00480954;
  FUN_00467d51(pcVar4,(byte *)s__s_Animation_Caf_00480954);
  iVar3 = RK_CheckFileExist(local_104,0,pcVar4,pcVar7,uVar6);
  if (iVar3 == 1) {
    lVar8 = *(long *)((int)this + 0x14);
    pcVar4 = local_104;
    this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x10));
    RKC_RPGSCRN_CHARANIM::ReadCafFile(this_00,pcVar4,lVar8);
  }
  return 1;
}



/*
 * Function: FUN_00456180
 * Address: 00456180
 */

undefined4 __thiscall FUN_00456180(void *this,int param_1)

{
  int iVar1;
  RKC_RPGSCRN_CHARANIM *this_00;
  
  iVar1 = *(int *)((int)this + 0x24);
  if (((iVar1 != 4) && (iVar1 != 3)) && (iVar1 != 5)) {
    if (param_1 == 0) {
      RKC_UPDIB::DeleteUpd(DAT_00482d10,*(long *)((int)this + 0x14),0);
      RKC_UPDIB::DeleteUpd(DAT_00482d10,*(long *)((int)this + 0x18),0);
      RKC_UPDIB::DeleteUpd(DAT_00482d10,*(long *)((int)this + 0x1c),0);
      RKC_UPDIB::DeleteUpd(DAT_00482d10,*(long *)((int)this + 0x20),0);
      *(undefined4 *)((int)this + 4) = 0;
      return 1;
    }
    this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,*(long *)((int)this + 0x10));
    RKC_RPGSCRN_CHARANIM::Release(this_00);
  }
  return 1;
}



/*
 * Function: FUN_00456210
 * Address: 00456210
 */

undefined4 __fastcall FUN_00456210(int param_1)

{
  return *(undefined4 *)(param_1 + 0xc);
}



/*
 * Function: FUN_00456220
 * Address: 00456220
 */

void __thiscall FUN_00456220(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 8) = param_1;
  return;
}



/*
 * Function: FUN_00456230
 * Address: 00456230
 */

undefined4 __fastcall FUN_00456230(int param_1)

{
  return *(undefined4 *)(param_1 + 4);
}



/*
 * Function: FUN_00456240
 * Address: 00456240
 */

void __fastcall FUN_00456240(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0xffffffff;
  param_1[3] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  return;
}



/*
 * Function: thunk_FUN_00456270
 * Address: 00456260
 */

void __fastcall thunk_FUN_00456270(undefined4 *param_1)

{
  if ((HGLOBAL)param_1[1] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  param_1[2] = 0xffffffff;
  param_1[3] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  return;
}



/*
 * Function: FUN_00456270
 * Address: 00456270
 */

void __fastcall FUN_00456270(undefined4 *param_1)

{
  if ((HGLOBAL)param_1[1] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  param_1[2] = 0xffffffff;
  param_1[3] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  return;
}



/*
 * Function: FUN_004562a0
 * Address: 004562a0
 */

void __thiscall FUN_004562a0(void *this,int param_1)

{
  HGLOBAL pvVar1;
  
  FUN_00456270((undefined4 *)this);
  if (0 < param_1) {
    pvVar1 = GlobalAlloc(0x40,param_1 * 0x1c);
    *(HGLOBAL *)((int)this + 4) = pvVar1;
    *(int *)this = param_1;
  }
  return;
}



/*
 * Function: FUN_004562d0
 * Address: 004562d0
 */

void __thiscall FUN_004562d0(void *this,undefined4 param_1,int param_2)

{
  *(undefined4 *)((int)this + 0x18) = param_1;
  FUN_004562a0(this,param_2);
  return;
}



/*
 * Function: FUN_004562f0
 * Address: 004562f0
 */

void __fastcall FUN_004562f0(int *param_1)

{
  int *piVar1;
  int iVar2;
  ushort uVar3;
  int iVar4;
  int iStack_4;
  
  param_1[2] = param_1[4];
  param_1[3] = param_1[5];
  GetCursorPos((LPPOINT)(param_1 + 4));
  ScreenToClient((HWND)param_1[6],(LPPOINT)(param_1 + 4));
  iStack_4 = 0;
  if (0 < *param_1) {
    iVar4 = 0;
    do {
      *(undefined4 *)(param_1[1] + iVar4 + 4) = *(undefined4 *)(param_1[1] + iVar4 + 8);
      uVar3 = GetAsyncKeyState(*(int *)(iVar4 + param_1[1]));
      if ((uVar3 & 0x8000) == 0) {
        *(undefined4 *)(iVar4 + 8 + param_1[1]) = 0;
      }
      else {
        *(undefined4 *)(iVar4 + 8 + param_1[1]) = 1;
      }
      iVar2 = *(int *)(iVar4 + param_1[1]);
      if (((iVar2 == 1) || (iVar2 == 2)) &&
         ((param_1[4] < 0 || (((0x27f < param_1[4] || (param_1[5] < 0)) || (0x1df < param_1[5]))))))
      {
        *(undefined4 *)(iVar4 + param_1[1] + 8) = 0;
      }
      iVar2 = param_1[1];
      if (*(int *)(iVar4 + 8 + iVar2) == *(int *)(iVar4 + 4 + iVar2)) {
        *(undefined4 *)(iVar4 + iVar2 + 0xc) = 0;
      }
      else {
        *(undefined4 *)(iVar4 + iVar2 + 0xc) = 1;
      }
      *(undefined4 *)(iVar4 + 0x10 + param_1[1]) = 0;
      *(undefined4 *)(iVar4 + 0x14 + param_1[1]) = 0;
      iVar2 = iVar4 + param_1[1];
      if (*(int *)(iVar4 + 0xc + param_1[1]) == 1) {
        if (*(int *)(iVar2 + 8) == 1) {
          *(undefined4 *)(iVar2 + 0x10) = 1;
        }
        if (*(int *)(param_1[1] + iVar4 + 8) == 0) {
          *(undefined4 *)(param_1[1] + iVar4 + 0x14) = 1;
        }
      }
      iVar2 = iVar4 + param_1[1];
      if (*(int *)(iVar4 + 8 + param_1[1]) == 1) {
        piVar1 = (int *)(iVar2 + 0x18);
        *piVar1 = *piVar1 + 1;
      }
      else {
        *(undefined4 *)(iVar2 + 0x18) = 0;
      }
      iStack_4 = iStack_4 + 1;
      iVar4 = iVar4 + 0x1c;
    } while (iStack_4 < *param_1);
  }
  return;
}



/*
 * Function: FUN_00456410
 * Address: 00456410
 */

int __thiscall FUN_00456410(void *this,int param_1)

{
                    /* WARNING: Load size is inaccurate */
  if ((-1 < param_1) && (param_1 < *this)) {
    return *(int *)((int)this + 4) + param_1 * 0x1c;
  }
  return 0;
}



/*
 * Function: FUN_00456440
 * Address: 00456440
 */

int __fastcall FUN_00456440(int param_1)

{
  return param_1 + 0x10;
}



/*
 * Function: FUN_00456450
 * Address: 00456450
 */

int __fastcall FUN_00456450(int param_1)

{
  return param_1 + 8;
}



/*
 * Function: FUN_00456460
 * Address: 00456460
 */

int * __fastcall FUN_00456460(int *param_1)

{
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_004721fb;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  FUN_004576d0(param_1 + 0xf);
  local_4 = 0;
  param_1[1] = -1;
  *param_1 = 0;
  param_1[0x14] = 0;
  FUN_00456500(param_1);
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: FUN_004564b0
 * Address: 004564b0
 */

void __fastcall FUN_004564b0(int *param_1)

{
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  puStack_8 = &LAB_0047221b;
  local_c = ExceptionList;
  local_4 = 0;
  ExceptionList = &local_c;
  FUN_00456500(param_1);
  local_4 = 0xffffffff;
  thunk_FUN_00457880(param_1 + 0xf);
  ExceptionList = local_c;
  return;
}



/*
 * Function: FUN_00456500
 * Address: 00456500
 */

void __fastcall FUN_00456500(int *param_1)

{
  param_1[2] = 0;
  param_1[3] = 0;
  SetRect((LPRECT)(param_1 + 4),0,0,0,0);
  *(undefined *)((int)param_1 + 0x22) = 0;
  *(undefined *)((int)param_1 + 0x21) = 0;
  *(undefined *)(param_1 + 8) = 0;
  *(undefined *)((int)param_1 + 0x26) = 0xe0;
  *(undefined *)((int)param_1 + 0x25) = 0xe0;
  *(undefined *)(param_1 + 9) = 0xe0;
  param_1[0xe] = 0;
  param_1[0x10] = 0;
  FUN_00457880(param_1 + 0xf);
  if (*param_1 != 0) {
    FUN_00457a70(*(int **)(*param_1 + 0x1c));
  }
  return;
}



/*
 * Function: FUN_00456550
 * Address: 00456550
 */

void __thiscall
FUN_00456550(void *this,int param_1,int param_2,int param_3,int *param_4,int *param_5,int *param_6,
            char *param_7,int *param_8,int param_9,undefined4 param_10,undefined4 *param_11,
            undefined4 *param_12,int param_13,int param_14)

{
  char cVar1;
  char cVar2;
  bool bVar3;
  int iVar4;
  char *pcVar5;
  undefined3 uVar9;
  undefined4 *puVar6;
  int iVar7;
  char *pcVar8;
  void *this_00;
  uint uVar10;
  uint uVar11;
  char *pcVar12;
  char *pcVar13;
  int *piVar14;
  int local_20;
  int iStack_1c;
  int iStack_18;
  RKC_MEMORY local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472239;
  pvStack_c = ExceptionList;
  local_20 = -1;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_14);
  uStack_4 = 0;
  FUN_00401460(0x482770);
                    /* WARNING: Load size is inaccurate */
  if (((*(uint *)((int)this + 8) & 0x80000000) != 0) && (iVar4 = FUN_00434cd0(*this), iVar4 == 1)) {
    FUN_00401480(0x482770);
    goto LAB_00456b89;
  }
  FUN_00456500((int *)this);
  *(int *)((int)this + 0xc) = param_1;
  *(int *)((int)this + 8) = param_2;
  *(int *)((int)this + 0x40) = param_3;
  if (param_4 != (int *)0x0) {
    *(int *)((int)this + 0x10) = *param_4;
    *(int *)((int)this + 0x14) = param_4[1];
    *(int *)((int)this + 0x18) = param_4[2];
    *(int *)((int)this + 0x1c) = param_4[3];
  }
  iVar4 = *param_5;
  *(int *)((int)this + 0x2c) = param_14;
  *(int *)((int)this + 0x20) = iVar4;
  *(int *)((int)this + 0x24) = *param_6;
  if (param_8 != (int *)0x0) {
    *(int *)((int)this + 0x28) = *param_8;
  }
  uVar10 = 0xffffffff;
  pcVar5 = param_7;
  do {
    if (uVar10 == 0) break;
    uVar10 = uVar10 - 1;
    cVar1 = *pcVar5;
    pcVar5 = pcVar5 + 1;
  } while (cVar1 != '\0');
  pcVar5 = (char *)GlobalAlloc(0x40,~uVar10);
  if (pcVar5 == (char *)0x0) goto LAB_00456b89;
  uVar10 = 0xffffffff;
  do {
    pcVar12 = param_7;
    if (uVar10 == 0) break;
    uVar10 = uVar10 - 1;
    pcVar12 = param_7 + 1;
    cVar1 = *param_7;
    param_7 = pcVar12;
  } while (cVar1 != '\0');
  uVar10 = ~uVar10;
  param_1 = 0;
  pcVar12 = pcVar12 + -uVar10;
  pcVar13 = pcVar5;
  for (uVar11 = uVar10 >> 2; uVar11 != 0; uVar11 = uVar11 - 1) {
    *(undefined4 *)pcVar13 = *(undefined4 *)pcVar12;
    pcVar12 = pcVar12 + 4;
    pcVar13 = pcVar13 + 4;
  }
  for (uVar10 = uVar10 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
    *pcVar13 = *pcVar12;
    pcVar12 = pcVar12 + 1;
    pcVar13 = pcVar13 + 1;
  }
  uVar9 = 0;
  pcVar13 = pcVar5;
  pcVar12 = pcVar5;
  if (*pcVar5 == '\0') {
LAB_004569f7:
    pcVar12 = &DAT_0048d9f0;
    this_00 = FUN_004576f0((void *)((int)this + 0x3c),0);
    FUN_00457990(this_00,pcVar12);
  }
  else {
    do {
      iVar4 = RK_CheckSJIS(CONCAT31(uVar9,*pcVar13));
      if (iVar4 == 1) {
        pcVar13 = pcVar13 + 1;
        uVar9 = 0;
      }
      else {
        cVar1 = *pcVar13;
        uVar9 = (undefined3)((uint)iVar4 >> 8);
        if ((cVar1 == '\r') || (cVar1 == '\n')) {
          param_1 = param_1 + 1;
          if ((cVar1 == '\r') && (pcVar13[1] == '\n')) {
            pcVar13 = pcVar13 + 1;
          }
          pcVar12 = pcVar13 + 1;
        }
      }
      pcVar8 = pcVar13 + 1;
      pcVar13 = pcVar13 + 1;
    } while (*pcVar8 != '\0');
    if (pcVar13 != pcVar12) {
      param_1 = param_1 + 1;
    }
    if (param_1 == 0) goto LAB_004569f7;
    piVar14 = (int *)0x0;
    param_4 = (int *)0x0;
    pcVar12 = pcVar5;
    pcVar13 = pcVar5;
    if (*pcVar5 != '\0') {
      do {
        iVar4 = RK_CheckSJIS(*pcVar13);
        if (iVar4 == 1) {
          pcVar13 = pcVar13 + 1;
        }
        else if ((*pcVar13 == '\r') || (*pcVar13 == '\n')) {
          puVar6 = (undefined4 *)FUN_004576f0((void *)((int)this + 0x3c),(int)piVar14);
          cVar1 = *pcVar13;
          *pcVar13 = '\0';
          if ((*(uint *)((int)this + 8) & 0x40000000) == 0) {
LAB_004567ff:
            if (pcVar12 != pcVar13) {
              FUN_00457990(puVar6,pcVar12);
            }
          }
          else {
            uVar10 = 0xffffffff;
            pcVar8 = pcVar12;
            do {
              if (uVar10 == 0) break;
              uVar10 = uVar10 - 1;
              cVar2 = *pcVar8;
              pcVar8 = pcVar8 + 1;
            } while (cVar2 != '\0');
            if (~uVar10 == 1) goto LAB_004567ff;
            RKC_MEMORY::Allocation(local_14,~uVar10,1);
            iVar4 = 0;
            bVar3 = false;
            cVar2 = *pcVar12;
            while (cVar2 != '\0') {
              iVar7 = RK_CheckSJIS(*pcVar12);
              if (iVar7 == 1) {
                pcVar8 = RKC_MEMORY::Get(local_14);
                cVar2 = *pcVar12;
                pcVar12 = pcVar12 + 1;
                pcVar8[iVar4] = cVar2;
                iVar4 = iVar4 + 1;
LAB_00456773:
                pcVar8 = RKC_MEMORY::Get(local_14);
                pcVar8[iVar4] = *pcVar12;
                iVar4 = iVar4 + 1;
              }
              else {
                if (*pcVar12 != '~') goto LAB_00456773;
                if (bVar3) {
                    /* WARNING: Load size is inaccurate */
                  piVar14 = (int *)FUN_00457ab0(*(int **)(*this + 0x1c));
                    /* WARNING: Load size is inaccurate */
                  iVar7 = FUN_00457b90(*(int **)(*this + 0x1c));
                  piVar14[1] = (int)param_4;
                  *piVar14 = iVar7 + -1;
                  piVar14[2] = param_14;
                  piVar14[3] = iVar4 + -1;
                  bVar3 = false;
                }
                else {
                  bVar3 = true;
                  param_14 = iVar4;
                }
              }
              pcVar8 = pcVar12 + 1;
              pcVar12 = pcVar12 + 1;
              cVar2 = *pcVar8;
            }
            pcVar12 = RKC_MEMORY::Get(local_14);
            iVar4 = -1;
            do {
              if (iVar4 == 0) break;
              iVar4 = iVar4 + -1;
              cVar2 = *pcVar12;
              pcVar12 = pcVar12 + 1;
            } while (cVar2 != '\0');
            if (iVar4 != -2) {
              pcVar12 = RKC_MEMORY::Get(local_14);
              FUN_00457990(puVar6,pcVar12);
            }
          }
          *pcVar13 = cVar1;
          if ((cVar1 == '\r') && (pcVar13[1] == '\n')) {
            pcVar13 = pcVar13 + 1;
          }
          iVar4 = FUN_00427b20(puVar6);
          if (local_20 < iVar4) {
            local_20 = FUN_00427b20(puVar6);
          }
          pcVar12 = pcVar13 + 1;
          piVar14 = (int *)((int)param_4 + 1);
          param_4 = piVar14;
        }
        pcVar8 = pcVar13 + 1;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar8 != '\0');
      if (pcVar12 != pcVar13) {
        puVar6 = (undefined4 *)FUN_004576f0((void *)((int)this + 0x3c),(int)piVar14);
        cVar1 = *pcVar13;
        *pcVar13 = '\0';
        if ((*(uint *)((int)this + 8) & 0x40000000) == 0) {
LAB_00456973:
          FUN_00457990(puVar6,pcVar12);
        }
        else {
          uVar10 = 0xffffffff;
          pcVar8 = pcVar12;
          do {
            if (uVar10 == 0) break;
            uVar10 = uVar10 - 1;
            cVar2 = *pcVar8;
            pcVar8 = pcVar8 + 1;
          } while (cVar2 != '\0');
          if (~uVar10 - 1 == 0) goto LAB_00456973;
          RKC_MEMORY::Allocation(local_14,~uVar10 - 1,1);
          iVar4 = 0;
          bVar3 = false;
          cVar2 = *pcVar12;
          while (cVar2 != '\0') {
            iVar7 = RK_CheckSJIS(*pcVar12);
            if (iVar7 == 1) {
              pcVar8 = RKC_MEMORY::Get(local_14);
              cVar2 = *pcVar12;
              pcVar12 = pcVar12 + 1;
              pcVar8[iVar4] = cVar2;
              iVar4 = iVar4 + 1;
LAB_004568dc:
              pcVar8 = RKC_MEMORY::Get(local_14);
              pcVar8[iVar4] = *pcVar12;
              iVar4 = iVar4 + 1;
            }
            else {
              if (*pcVar12 != '~') goto LAB_004568dc;
              if (bVar3) {
                    /* WARNING: Load size is inaccurate */
                piVar14 = (int *)FUN_00457ab0(*(int **)(*this + 0x1c));
                    /* WARNING: Load size is inaccurate */
                iVar7 = FUN_00457b90(*(int **)(*this + 0x1c));
                piVar14[1] = (int)param_4;
                *piVar14 = iVar7 + -1;
                piVar14[2] = param_14;
                piVar14[3] = iVar4 + -1;
                bVar3 = false;
              }
              else {
                bVar3 = true;
                param_14 = iVar4;
              }
            }
            pcVar8 = pcVar12 + 1;
            pcVar12 = pcVar12 + 1;
            cVar2 = *pcVar8;
          }
          pcVar12 = RKC_MEMORY::Get(local_14);
          iVar4 = -1;
          do {
            if (iVar4 == 0) break;
            iVar4 = iVar4 + -1;
            cVar2 = *pcVar12;
            pcVar12 = pcVar12 + 1;
          } while (cVar2 != '\0');
          if (iVar4 != -2) {
            pcVar12 = RKC_MEMORY::Get(local_14);
            goto LAB_00456973;
          }
        }
        *pcVar13 = cVar1;
        iVar4 = FUN_00427b20(puVar6);
        if (local_20 < iVar4) {
          local_20 = FUN_00427b20(puVar6);
        }
      }
    }
  }
  RKC_UPDIB::GetFontParam(DAT_00482d10,*(long *)((int)this + 0x40),&iStack_1c,&iStack_18);
  if ((*(byte *)((int)this + 8) & 0x20) == 0) {
    *(int *)((int)this + 0x34) = (*(int *)((int)this + 0x18) + -8) / iStack_1c;
    *(int *)((int)this + 0x30) = (*(int *)((int)this + 0x1c) + -8) / iStack_18;
  }
  else {
    iVar4 = FUN_00457850((int *)((int)this + 0x3c));
    if (iVar4 == 0) {
      *(undefined4 *)((int)this + 0x18) = 0;
      *(undefined4 *)((int)this + 0x1c) = 0;
      *(undefined4 *)((int)this + 0x30) = 0;
      *(undefined4 *)((int)this + 0x34) = 0;
    }
    else {
      *(int *)((int)this + 0x18) = iStack_1c * local_20 + 8;
      iVar4 = FUN_00457850((int *)((int)this + 0x3c));
      *(int *)((int)this + 0x1c) = iVar4 * iStack_18 + 8;
      *(undefined4 *)((int)this + 0x30) = 0;
      *(undefined4 *)((int)this + 0x34) = 0;
    }
  }
  uVar10 = *(uint *)((int)this + 8);
  if ((uVar10 & 0x80) != 0) {
    *(int *)((int)this + 0x10) = (0x280 - *(int *)((int)this + 0x18)) / 2;
    *(int *)((int)this + 0x14) = (0x1a0 - *(int *)((int)this + 0x1c)) / 2;
  }
  if ((uVar10 & 0x101) == 0x101) {
    *(int *)((int)this + 0x10) = *(int *)((int)this + 0x10) + (0xc - *(int *)((int)this + 0x18) / 2)
    ;
    *(int *)((int)this + 0x14) = *(int *)((int)this + 0x14) + (-0x10 - *(int *)((int)this + 0x1c));
  }
  if ((uVar10 & 0x201) == 0x201) {
    *(int *)((int)this + 0x10) = *(int *)((int)this + 0x10) + (0xc - *(int *)((int)this + 0x18) / 2)
    ;
    *(int *)((int)this + 0x14) = *(int *)((int)this + 0x14) + (-0x10 - *(int *)((int)this + 0x1c));
  }
  if ((uVar10 & 0x80000000) != 0) {
                    /* WARNING: Load size is inaccurate */
    FUN_00458820(*this,1);
                    /* WARNING: Load size is inaccurate */
    FUN_00458850(*this,*(undefined4 *)((int)this + 4));
    *(int *)((int)this + 0x44) = param_13;
    *(undefined4 *)((int)this + 0x48) = 0;
    *(int *)((int)this + 0x4c) = param_9;
    FUN_00457590((int)this);
  }
  if ((*(uint *)((int)this + 8) & 0x40000000) != 0) {
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*this + 0x10) = 1;
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*this + 0x14) = *(undefined4 *)((int)this + 4);
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*this + 0x20) = param_10;
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*(int *)(*this + 0x1c) + 8) = *param_11;
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*(int *)(*this + 0x1c) + 0xc) = *param_12;
                    /* WARNING: Load size is inaccurate */
    *(int *)(*(int *)(*this + 0x1c) + 4) = param_13;
                    /* WARNING: Load size is inaccurate */
    *(void **)(*(int *)(*this + 0x1c) + 0x10) = this;
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)(*this + 0x18) = *(undefined4 *)((int)this + 0x40);
  }
  GlobalFree(pcVar5);
  FUN_00401480(0x482770);
LAB_00456b89:
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_14);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00456bb0
 * Address: 00456bb0
 */

void __thiscall FUN_00456bb0(void *this,short *param_1)

{
  short sVar1;
  short *psVar2;
  int iVar3;
  char *pcVar4;
  int iVar5;
  char *pcVar6;
  uint uVar7;
  char *pcVar8;
  long lVar9;
  uchar uVar10;
  uchar uVar11;
  uchar uVar12;
  uint uVar13;
  long lVar14;
  long lVar15;
  long lVar16;
  uint local_30;
  int iStack_2c;
  int local_28;
  char *pcStack_24;
  int local_20;
  int iStack_1c;
  uchar *puStack_18;
  int iStack_14;
  short asStack_10 [8];
  
  psVar2 = param_1;
  uVar7 = 4;
  local_30 = 4;
  FUN_00401460(0x482770);
  if ((*(byte *)((int)this + 8) & 0x40) != 0) {
    local_30 = 0;
    uVar7 = 0;
  }
  RKC_UPDIB::GetFontParam(DAT_00482d10,*(long *)((int)this + 0x40),&local_20,&local_28);
  uVar13 = *(uint *)((int)this + 8);
  if ((uVar13 & 1) != 0) {
    if (((uVar13 & 0x101) == 0x101) || ((uVar13 & 0x201) == 0x201)) {
      iVar5 = 0;
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)param_1,*(long *)((int)this + 0xc),0,0,0,0x800,
                 *(int *)((int)this + 0x10),*(int *)((int)this + 0x14) + -8,
                 *(int *)((int)this + 0x18) + -1 + *(int *)((int)this + 0x10),
                 *(int *)((int)this + 0x1c) + 7 + *(int *)((int)this + 0x14),1000,1000,0,0xff,0xff,
                 0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)param_1,*(long *)((int)this + 0xc),0,0,0,0x800,
                 *(int *)((int)this + 0x10) + -8,*(int *)((int)this + 0x14),
                 *(int *)((int)this + 0x10),
                 *(int *)((int)this + 0x1c) + -1 + *(int *)((int)this + 0x14),1000,1000,0,0xff,0xff,
                 0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
      iVar3 = *(int *)((int)this + 0x10) + *(int *)((int)this + 0x18);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)param_1,*(long *)((int)this + 0xc),0,0,0,0x800,iVar3 + -1,
                 *(int *)((int)this + 0x14),iVar3 + 7,
                 *(int *)((int)this + 0x1c) + -1 + *(int *)((int)this + 0x14),1000,1000,0,0xff,0xff,
                 0xff,(tagRECT *)0x0,(RKC_DIB *)0x0);
      param_1 = asStack_10;
      asStack_10[0] = 0;
      asStack_10[1] = 0;
      asStack_10[2] = 0;
      asStack_10[3] = 0;
      asStack_10[4] = 0xa0;
      asStack_10[5] = 0;
      asStack_10[6] = 0xe0;
      asStack_10[7] = 0;
      do {
        sVar1 = *param_1;
        iVar3 = *(int *)((int)this + 0x14) + -9 + iVar5;
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),0,0,0,0x200,
                   *(int *)((int)this + 0x10),iVar3,
                   *(int *)((int)this + 0x18) + -1 + *(int *)((int)this + 0x10),iVar3,1000,1000,0,
                   sVar1,sVar1,sVar1,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar5 = iVar5 + 1;
        param_1 = param_1 + 2;
      } while (iVar5 < 4);
      param_1 = asStack_10;
      iVar3 = 0;
      do {
        sVar1 = *param_1;
        iVar5 = (*(int *)((int)this + 0x14) - iVar3) + 8 + *(int *)((int)this + 0x1c);
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),0,0,0,0x200,
                   *(int *)((int)this + 0x10),iVar5,
                   *(int *)((int)this + 0x18) + -1 + *(int *)((int)this + 0x10),iVar5,1000,1000,0,
                   sVar1,sVar1,sVar1,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar3 = iVar3 + 1;
        param_1 = param_1 + 2;
      } while (iVar3 < 4);
      param_1 = asStack_10;
      iVar3 = 0;
      do {
        sVar1 = *param_1;
        iVar5 = *(int *)((int)this + 0x10) + -9 + iVar3;
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),0,0,0,0x200,iVar5,
                   *(int *)((int)this + 0x14),iVar5,
                   *(int *)((int)this + 0x1c) + -1 + *(int *)((int)this + 0x14),1000,1000,0,sVar1,
                   sVar1,sVar1,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar3 = iVar3 + 1;
        param_1 = param_1 + 2;
      } while (iVar3 < 4);
      param_1 = asStack_10;
      iVar3 = 0;
      do {
        sVar1 = *param_1;
        iVar5 = (*(int *)((int)this + 0x10) - iVar3) + 8 + *(int *)((int)this + 0x18);
        RKC_UPDIB::SetPacket
                  (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),0,0,0,0x200,iVar5,
                   *(int *)((int)this + 0x14),iVar5,
                   *(int *)((int)this + 0x1c) + -1 + *(int *)((int)this + 0x14),1000,1000,0,sVar1,
                   sVar1,sVar1,(tagRECT *)0x0,(RKC_DIB *)0x0);
        iVar3 = iVar3 + 1;
        param_1 = param_1 + 2;
      } while (iVar3 < 4);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),8,0,0,0,
                 *(int *)((int)this + 0x10) + -9,*(int *)((int)this + 0x14) + -9,1000,1000,1000,1000
                 ,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),8,2,0,0,
                 *(int *)((int)this + 0x10) + *(int *)((int)this + 0x18),
                 *(int *)((int)this + 0x14) + -9,1000,1000,1000,1000,0,1000,1000,1000,(tagRECT *)0x0
                 ,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),8,1,0,0,
                 *(int *)((int)this + 0x10) + -9,
                 *(int *)((int)this + 0x14) + *(int *)((int)this + 0x1c),1000,1000,1000,1000,0,1000,
                 1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),8,3,0,0,
                 *(int *)((int)this + 0x10) + *(int *)((int)this + 0x18),
                 *(int *)((int)this + 0x14) + *(int *)((int)this + 0x1c),1000,1000,1000,1000,0,1000,
                 1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
      if ((*(uint *)((int)this + 8) & 0x101) == 0x101) {
        iVar3 = *(int *)((int)this + 0x14) + 5;
        iVar5 = *(int *)((int)this + 0x18) / 2 + -5 + *(int *)((int)this + 0x10);
        lVar9 = 4;
      }
      else {
        iVar3 = *(int *)((int)this + 0x14) + 10;
        iVar5 = *(int *)((int)this + 0x18) / 2 + -5 + *(int *)((int)this + 0x10);
        lVar9 = 5;
      }
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),8,lVar9,0,0,iVar5,
                 iVar3 + *(int *)((int)this + 0x1c),1000,1000,1000,1000,0,1000,1000,1000,
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
      uVar7 = local_30;
    }
    else {
      RKC_UPDIB::SetPacket
                (DAT_00482d10,(long)param_1,*(long *)((int)this + 0xc),0,0,0,uVar7 | 0x800,
                 *(int *)((int)this + 0x10),*(int *)((int)this + 0x14),
                 *(int *)((int)this + 0x18) + -1 + *(int *)((int)this + 0x10),
                 *(int *)((int)this + 0x1c) + -1 + *(int *)((int)this + 0x14),
                 *(long *)((int)this + 0x2c),1000,0,(ushort)*(byte *)((int)this + 0x22),
                 (ushort)*(byte *)((int)this + 0x21),(ushort)*(byte *)((int)this + 0x20),
                 (tagRECT *)0x0,(RKC_DIB *)0x0);
    }
  }
  if ((*(uint *)((int)this + 8) & 0x80000000) != 0) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),0,0,0,local_30 | 0x800,
               *(int *)((int)this + 0x44) * local_20 + 4 + *(int *)((int)this + 0x10),
               *(int *)((int)this + 0x48) * local_28 + 4 + *(int *)((int)this + 0x14),
               (*(int *)((int)this + 0x44) + 1) * local_20 + 3 + *(int *)((int)this + 0x10),
               (*(int *)((int)this + 0x48) + 1) * local_28 + 3 + *(int *)((int)this + 0x14),500,1000
               ,0,(ushort)*(byte *)((int)this + 0x2a),(ushort)*(byte *)((int)this + 0x29),
               (ushort)*(byte *)((int)this + 0x28),(tagRECT *)0x0,(RKC_DIB *)0x0);
    uVar7 = local_30;
  }
  iStack_1c = FUN_00457850((int *)((int)this + 0x3c));
  if ((*(int *)((int)this + 0x30) < iStack_1c) && ((*(byte *)((int)this + 8) & 0x20) == 0)) {
    param_1 = *(short **)((int)this + 0x38);
    iStack_1c = (int)param_1 + *(int *)((int)this + 0x30) + -1;
  }
  else {
    param_1 = (short *)0x0;
    iStack_1c = iStack_1c + -1;
  }
  if ((*(uint *)((int)this + 8) & 0x40000000) == 0) {
    if ((int)param_1 <= iStack_1c) {
      do {
        if ((*(byte *)((int)this + 8) & 4) != 0) {
          lVar9 = *(long *)((int)this + 0x34);
          lVar16 = 1000;
          lVar15 = 0;
          lVar14 = 0;
          uVar12 = '\0';
          uVar11 = '\0';
          uVar10 = '\0';
          uVar13 = uVar7;
          iVar3 = FUN_00457810((void *)((int)this + 0x3c),(int)param_1);
          pcVar4 = (char *)FUN_00456230(iVar3);
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),
                     *(long *)((int)this + 0x40),*(int *)((int)this + 0x10) + 5,
                     (int)param_1 * local_28 + 5 + *(int *)((int)this + 0x14),pcVar4,uVar10,uVar11,
                     uVar12,uVar13,lVar9,lVar14,lVar15,lVar16);
        }
        lVar9 = *(long *)((int)this + 0x34);
        uVar10 = *(uchar *)((int)this + 0x24);
        uVar11 = *(uchar *)((int)this + 0x25);
        lVar16 = 1000;
        lVar15 = 0;
        lVar14 = 0;
        uVar12 = *(uchar *)((int)this + 0x26);
        uVar13 = uVar7;
        iVar3 = FUN_00457810((void *)((int)this + 0x3c),(int)param_1);
        pcVar4 = (char *)FUN_00456230(iVar3);
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),*(long *)((int)this + 0x40),
                   *(int *)((int)this + 0x10) + 4,
                   (int)param_1 * local_28 + 4 + *(int *)((int)this + 0x14),pcVar4,uVar12,uVar11,
                   uVar10,uVar13,lVar9,lVar14,lVar15,lVar16);
        param_1 = (short *)((int)param_1 + 1);
      } while ((int)param_1 <= iStack_1c);
    }
  }
  else if ((int)param_1 <= iStack_1c) {
    do {
      iStack_14 = 0;
      iStack_2c = 0;
      iVar3 = FUN_00457810((void *)((int)this + 0x3c),(int)param_1);
      pcVar4 = (char *)FUN_00456230(iVar3);
      pcStack_24 = pcVar4;
      if (*pcVar4 == '\0') {
LAB_004573ce:
        pcVar8 = pcStack_24;
        iVar3 = FUN_00457810((void *)((int)this + 0x3c),(int)param_1);
        pcVar6 = (char *)FUN_00456230(iVar3);
        if (pcVar8 == pcVar6) goto LAB_004573ea;
      }
      else {
        do {
          pcVar8 = pcStack_24;
                    /* WARNING: Load size is inaccurate */
          puStack_18 = (uchar *)FUN_00457b60(*(void **)(*this + 0x1c),(int)param_1,iStack_14);
          if (puStack_18 == (uchar *)0x0) {
            iVar3 = 1;
            puStack_18 = (uchar *)0x0;
          }
          else {
            if (pcVar8 != pcVar4) {
              if ((*(byte *)((int)this + 8) & 4) != 0) {
                RKC_UPDIB::SetStringsPacket
                          (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),
                           *(long *)((int)this + 0x40),*(int *)((int)this + 0x10) + 5 + iStack_2c,
                           (int)param_1 * local_28 + 5 + *(int *)((int)this + 0x14),pcVar8,'\0','\0'
                           ,'\0',local_30,(int)pcVar4 - (int)pcVar8,0,0,1000);
              }
              RKC_UPDIB::SetStringsPacket
                        (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),
                         *(long *)((int)this + 0x40),*(int *)((int)this + 0x10) + 4 + iStack_2c,
                         (int)param_1 * local_28 + 4 + *(int *)((int)this + 0x14),pcVar8,
                         *(uchar *)((int)this + 0x26),*(uchar *)((int)this + 0x25),
                         *(uchar *)((int)this + 0x24),local_30,(int)pcVar4 - (int)pcVar8,0,0,1000);
            }
            iStack_2c = iStack_2c + ((int)pcVar4 - (int)pcVar8) * local_20;
            iVar5 = FUN_00434cd0((int)puStack_18);
            iVar3 = FUN_00456210((int)puStack_18);
                    /* WARNING: Load size is inaccurate */
            iVar3 = (1 - iVar5) + iVar3;
            pcStack_24 = *(char **)(*this + 0x1c);
            iVar5 = FUN_00427b20((undefined4 *)puStack_18);
            if (*(int *)((int)pcStack_24 + 4) == iVar5) {
              puStack_18 = (uchar *)((int)pcStack_24 + 8);
            }
            else {
              puStack_18 = (uchar *)((int)pcStack_24 + 0xc);
            }
            if ((*(byte *)((int)this + 8) & 4) != 0) {
              RKC_UPDIB::SetStringsPacket
                        (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),
                         *(long *)((int)this + 0x40),*(int *)((int)this + 0x10) + 5 + iStack_2c,
                         (int)param_1 * local_28 + 5 + *(int *)((int)this + 0x14),pcVar4,'\0','\0',
                         '\0',local_30,iVar3,0,0,1000);
            }
            RKC_UPDIB::SetStringsPacket
                      (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),
                       *(long *)((int)this + 0x40),*(int *)((int)this + 0x10) + 4 + iStack_2c,
                       (int)param_1 * local_28 + 4 + *(int *)((int)this + 0x14),pcVar4,puStack_18[2]
                       ,puStack_18[1],*puStack_18,local_30,iVar3,0,0,1000);
            iStack_2c = iStack_2c + iVar3 * local_20;
            pcStack_24 = pcVar4 + iVar3;
          }
          pcVar8 = pcVar4 + iVar3;
          pcVar4 = pcVar4 + iVar3;
          iStack_14 = iStack_14 + iVar3;
        } while (*pcVar8 != '\0');
        pcVar8 = pcStack_24;
        if (pcStack_24 == pcVar4) goto LAB_004573ce;
LAB_004573ea:
        if ((*(byte *)((int)this + 8) & 4) != 0) {
          RKC_UPDIB::SetStringsPacket
                    (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),
                     *(long *)((int)this + 0x40),*(int *)((int)this + 0x10) + 5 + iStack_2c,
                     (int)param_1 * local_28 + 5 + *(int *)((int)this + 0x14),pcVar8,'\0','\0','\0',
                     local_30,(int)pcVar4 - (int)pcVar8,0,0,1000);
        }
        RKC_UPDIB::SetStringsPacket
                  (DAT_00482d10,(long)psVar2,*(long *)((int)this + 0xc),*(long *)((int)this + 0x40),
                   *(int *)((int)this + 0x10) + 4 + iStack_2c,
                   (int)param_1 * local_28 + 4 + *(int *)((int)this + 0x14),pcVar8,
                   *(uchar *)((int)this + 0x26),*(uchar *)((int)this + 0x25),
                   *(uchar *)((int)this + 0x24),local_30,(int)pcVar4 - (int)pcVar8,0,0,1000);
      }
      param_1 = (short *)((int)param_1 + 1);
      if (iStack_1c < (int)param_1) {
        FUN_00401480(0x482770);
        return;
      }
    } while( true );
  }
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00457590
 * Address: 00457590
 */

void __fastcall FUN_00457590(int param_1)

{
  int local_8;
  int local_4;
  
  RKC_UPDIB::GetFontParam(DAT_00482d10,*(long *)(param_1 + 0x40),&local_4,&local_8);
  PostMessageA(DAT_00482778,0x401,*(int *)(param_1 + 0x44) * local_4 + 4 + *(int *)(param_1 + 0x10),
               *(int *)(param_1 + 0x48) * local_8 + 4 + *(int *)(param_1 + 0x14));
  return;
}



/*
 * Function: FUN_004575f0
 * Address: 004575f0
 */

void __thiscall FUN_004575f0(void *this,int param_1,int param_2)

{
  if ((*(uint *)((int)this + 8) & 0x201) == 0x201) {
    *(int *)((int)this + 0x10) = (param_1 - *(int *)((int)this + 0x18) / 2) + -0xc;
    *(int *)((int)this + 0x14) = (param_2 - *(int *)((int)this + 0x1c)) + 0x10;
  }
  return;
}



/*
 * Function: FUN_00457630
 * Address: 00457630
 */

int __thiscall FUN_00457630(void *this,undefined4 *param_1)

{
  char cVar1;
  uint uVar2;
  char *pcVar3;
  
  FUN_004578c0((void *)((int)this + 0x3c),param_1);
  uVar2 = 0xffffffff;
  pcVar3 = (char *)*param_1;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    cVar1 = *pcVar3;
    pcVar3 = pcVar3 + 1;
  } while (cVar1 != '\0');
  return ~uVar2 - 1;
}



/*
 * Function: FUN_00457660
 * Address: 00457660
 */

undefined4 __thiscall FUN_00457660(void *this,char *param_1)

{
  void *this_00;
  
  this_00 = (void *)FUN_00457810((void *)((int)this + 0x3c),0);
  if (this_00 == (void *)0x0) {
    return 0xffffffff;
  }
  FUN_00457990(this_00,param_1);
  return 0;
}



/*
 * Function: FUN_00457690
 * Address: 00457690
 */

void __thiscall FUN_00457690(void *this,undefined4 *param_1)

{
  *param_1 = *(undefined4 *)((int)this + 0x10);
  param_1[1] = *(undefined4 *)((int)this + 0x14);
  param_1[2] = *(undefined4 *)((int)this + 0x18);
  param_1[3] = *(undefined4 *)((int)this + 0x1c);
  return;
}



/*
 * Function: FUN_004576b0
 * Address: 004576b0
 */

void __thiscall FUN_004576b0(void *this,undefined4 *param_1)

{
  *(undefined4 *)((int)this + 0x10) = *param_1;
  *(undefined4 *)((int)this + 0x14) = param_1[1];
  *(undefined4 *)((int)this + 0x18) = param_1[2];
  *(undefined4 *)((int)this + 0x1c) = param_1[3];
  return;
}



/*
 * Function: FUN_004576d0
 * Address: 004576d0
 */

void __fastcall FUN_004576d0(undefined4 *param_1)

{
  *param_1 = 0;
  return;
}



/*
 * Function: thunk_FUN_00457880
 * Address: 004576e0
 */

void __fastcall thunk_FUN_00457880(void *param_1)

{
  int iVar1;
  
  FUN_00401460(0x482770);
  iVar1 = FUN_004577a0(param_1,0);
  while (iVar1 == 1) {
    iVar1 = FUN_004577a0(param_1,0);
  }
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_004576f0
 * Address: 004576f0
 */

void * __thiscall FUN_004576f0(void *this,int param_1)

{
  undefined4 *puVar1;
  void *this_00;
  int iVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_0047225b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  FUN_00401460(0x482770);
  puVar1 = (undefined4 *)operator_new(0xc);
  local_4 = 0;
  if (puVar1 == (undefined4 *)0x0) {
    this_00 = (void *)0x0;
  }
  else {
    this_00 = (void *)FUN_00457970(puVar1);
  }
  local_4 = 0xffffffff;
  if (param_1 == 0) {
                    /* WARNING: Load size is inaccurate */
    *(undefined4 *)((int)this_00 + 8) = *this;
    *(void **)this = this_00;
  }
  else {
    iVar2 = FUN_00457810(this,param_1 + -1);
    *(undefined4 *)((int)this_00 + 8) = *(undefined4 *)(iVar2 + 8);
    *(void **)(iVar2 + 8) = this_00;
  }
  FUN_00457990(this_00,&DAT_0048d9f0);
  FUN_00401480(0x482770);
  ExceptionList = local_c;
  return this_00;
}



/*
 * Function: FUN_004577a0
 * Address: 004577a0
 */

undefined4 __thiscall FUN_004577a0(void *this,int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  
                    /* WARNING: Load size is inaccurate */
  if (*this == 0) {
    return 0;
  }
  FUN_00401460(0x482770);
  if (param_1 == 0) {
                    /* WARNING: Load size is inaccurate */
    puVar2 = *this;
    *(undefined4 *)this = puVar2[2];
  }
  else {
    iVar1 = FUN_00457810(this,param_1 + -1);
    puVar2 = *(undefined4 **)(iVar1 + 8);
    *(undefined4 *)(iVar1 + 8) = puVar2[2];
  }
  if (puVar2 != (undefined4 *)0x0) {
    thunk_FUN_004579f0(puVar2);
    FUN_0046787e(puVar2);
  }
  FUN_00401480(0x482770);
  return 1;
}



/*
 * Function: FUN_00457810
 * Address: 00457810
 */

int __thiscall FUN_00457810(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
  FUN_00401460(0x482770);
                    /* WARNING: Load size is inaccurate */
  iVar1 = *this;
  for (iVar2 = 0; (iVar1 != 0 && (param_1 != iVar2)); iVar2 = iVar2 + 1) {
    iVar1 = *(int *)(iVar1 + 8);
  }
  FUN_00401480(0x482770);
  return iVar1;
}



/*
 * Function: FUN_00457850
 * Address: 00457850
 */

int __fastcall FUN_00457850(int *param_1)

{
  int iVar1;
  int iVar2;
  
  FUN_00401460(0x482770);
  iVar2 = 0;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 8)) {
    iVar2 = iVar2 + 1;
  }
  FUN_00401480(0x482770);
  return iVar2;
}



/*
 * Function: FUN_00457880
 * Address: 00457880
 */

void __fastcall FUN_00457880(void *param_1)

{
  int iVar1;
  
  FUN_00401460(0x482770);
  iVar1 = FUN_004577a0(param_1,0);
  while (iVar1 == 1) {
    iVar1 = FUN_004577a0(param_1,0);
  }
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_004578c0
 * Address: 004578c0
 */

void __thiscall FUN_004578c0(void *this,undefined4 *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  uint uVar4;
  undefined4 *puVar5;
  uint uVar6;
  SIZE_T dwBytes;
  undefined4 *puVar7;
  
  FUN_00401460(0x482770);
                    /* WARNING: Load size is inaccurate */
  puVar3 = *this;
  dwBytes = 0;
  if (puVar3 != (undefined4 *)0x0) {
    do {
      iVar2 = FUN_00427b20(puVar3);
      puVar3 = (undefined4 *)puVar3[2];
      dwBytes = dwBytes + 1 + iVar2;
    } while (puVar3 != (undefined4 *)0x0);
    if (dwBytes != 0) {
      puVar3 = (undefined4 *)GlobalAlloc(0,dwBytes);
      *param_1 = puVar3;
                    /* WARNING: Load size is inaccurate */
      for (puVar1 = *this; puVar1 != (undefined4 *)0x0; puVar1 = (undefined4 *)puVar1[2]) {
        uVar4 = FUN_00427b20(puVar1);
        puVar5 = (undefined4 *)FUN_00456230((int)puVar1);
        puVar7 = puVar3;
        for (uVar6 = uVar4 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
          *puVar7 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar7 = puVar7 + 1;
        }
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *(undefined *)puVar7 = *(undefined *)puVar5;
          puVar5 = (undefined4 *)((int)puVar5 + 1);
          puVar7 = (undefined4 *)((int)puVar7 + 1);
        }
        if (puVar1[2] == 0) {
          iVar2 = FUN_00427b20(puVar1);
          *(undefined *)(iVar2 + (int)puVar3) = 0;
        }
        else {
          iVar2 = FUN_00427b20(puVar1);
          *(undefined *)(iVar2 + (int)puVar3) = 10;
        }
        iVar2 = FUN_00427b20(puVar1);
        puVar3 = (undefined4 *)(iVar2 + 1 + (int)puVar3);
      }
    }
  }
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00457970
 * Address: 00457970
 */

void __fastcall FUN_00457970(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  return;
}



/*
 * Function: thunk_FUN_004579f0
 * Address: 00457980
 */

void __fastcall thunk_FUN_004579f0(undefined4 *param_1)

{
  FUN_00401460(0x482770);
  if ((HGLOBAL)param_1[1] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00457990
 * Address: 00457990
 */

void __thiscall FUN_00457990(void *this,char *param_1)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  uint uVar4;
  
  FUN_00401460(0x482770);
  FUN_004579f0((undefined4 *)this);
  uVar4 = 0xffffffff;
  pcVar3 = param_1;
  do {
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    cVar1 = *pcVar3;
    pcVar3 = pcVar3 + 1;
  } while (cVar1 != '\0');
  *(uint *)this = ~uVar4 - 1;
  pcVar3 = (char *)GlobalAlloc(0x40,~uVar4);
                    /* WARNING: Load size is inaccurate */
  iVar2 = *this;
  *(char **)((int)this + 4) = pcVar3;
  for (uVar4 = iVar2 + 1U >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar3 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pcVar3 = pcVar3 + 4;
  }
  for (uVar4 = iVar2 + 1U & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar3 = *param_1;
    param_1 = param_1 + 1;
    pcVar3 = pcVar3 + 1;
  }
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_004579f0
 * Address: 004579f0
 */

void __fastcall FUN_004579f0(undefined4 *param_1)

{
  FUN_00401460(0x482770);
  if ((HGLOBAL)param_1[1] != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)param_1[1]);
    param_1[1] = 0;
  }
  *param_1 = 0;
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00457a30
 * Address: 00457a30
 */

void __fastcall FUN_00457a30(int param_1)

{
  *(undefined4 *)(param_1 + 0x10) = 0;
  return;
}



/*
 * Function: FUN_00457a40
 * Address: 00457a40
 */

void __fastcall FUN_00457a40(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  *(undefined *)((int)param_1 + 9) = 0;
  *(undefined *)(param_1 + 2) = 0;
  *(undefined *)((int)param_1 + 10) = 0xc0;
  *(undefined *)((int)param_1 + 0xe) = 0x80;
  *(undefined *)((int)param_1 + 0xd) = 0x80;
  *(undefined *)(param_1 + 3) = 0x80;
  return;
}



/*
 * Function: thunk_FUN_00457a70
 * Address: 00457a60
 */

void __fastcall thunk_FUN_00457a70(int *param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  
  pvVar2 = (LPVOID)*param_1;
  if (pvVar2 == (LPVOID)0x0) {
    *param_1 = 0;
    return;
  }
  do {
    pvVar1 = *(LPVOID *)((int)pvVar2 + 0x10);
    if (pvVar2 != (LPVOID)0x0) {
      FUN_00403040();
      FUN_0046787e(pvVar2);
    }
    pvVar2 = pvVar1;
  } while (pvVar1 != (LPVOID)0x0);
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_00457a70
 * Address: 00457a70
 */

void __fastcall FUN_00457a70(int *param_1)

{
  LPVOID pvVar1;
  LPVOID pvVar2;
  
  pvVar2 = (LPVOID)*param_1;
  if (pvVar2 == (LPVOID)0x0) {
    *param_1 = 0;
    return;
  }
  do {
    pvVar1 = *(LPVOID *)((int)pvVar2 + 0x10);
    if (pvVar2 != (LPVOID)0x0) {
      FUN_00403040();
      FUN_0046787e(pvVar2);
    }
    pvVar2 = pvVar1;
  } while (pvVar1 != (LPVOID)0x0);
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_00457ab0
 * Address: 00457ab0
 */

int __fastcall FUN_00457ab0(int *param_1)

{
  void *pvVar1;
  int iVar2;
  int iVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_0047227b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  pvVar1 = operator_new(0x14);
  local_4 = 0;
  if (pvVar1 == (void *)0x0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00457a30((int)pvVar1);
  }
  local_4 = 0xffffffff;
  if (*param_1 == 0) {
    *param_1 = iVar2;
    ExceptionList = local_c;
    return iVar2;
  }
  iVar3 = FUN_00457b90(param_1);
  iVar3 = FUN_00457b40(param_1,iVar3 + -1);
  *(int *)(iVar3 + 0x10) = iVar2;
  ExceptionList = local_c;
  return iVar2;
}



/*
 * Function: FUN_00457b40
 * Address: 00457b40
 */

void __thiscall FUN_00457b40(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
                    /* WARNING: Load size is inaccurate */
  iVar1 = *this;
  for (iVar2 = 0; (iVar1 != 0 && (iVar2 != param_1)); iVar2 = iVar2 + 1) {
    iVar1 = *(int *)(iVar1 + 0x10);
  }
  return;
}



/*
 * Function: FUN_00457b60
 * Address: 00457b60
 */

void __thiscall FUN_00457b60(void *this,int param_1,int param_2)

{
  int iVar1;
  
                    /* WARNING: Load size is inaccurate */
  for (iVar1 = *this;
      (iVar1 != 0 && ((*(int *)(iVar1 + 4) != param_1 || (*(int *)(iVar1 + 8) != param_2))));
      iVar1 = *(int *)(iVar1 + 0x10)) {
  }
  return;
}



/*
 * Function: FUN_00457b90
 * Address: 00457b90
 */

int __fastcall FUN_00457b90(int *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x10)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: FUN_00457bb0
 * Address: 00457bb0
 */

int __thiscall FUN_00457bb0(void *this,int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int local_c;
  int local_8 [2];
  
  RKC_UPDIB::GetFontParam(DAT_00482d10,param_3,&local_c,local_8);
                    /* WARNING: Load size is inaccurate */
  iVar3 = *this;
  param_3 = 0;
  if (iVar3 != 0) {
    iVar1 = *(int *)(*(int *)((int)this + 0x10) + 0x10);
    do {
      if ((*(int *)(iVar3 + 8) * local_c + 4 + iVar1 <= param_1) &&
         (param_1 <= (*(int *)(iVar3 + 0xc) + 1) * local_c + 3 + iVar1)) {
        iVar2 = *(int *)(*(int *)((int)this + 0x10) + 0x14);
        if ((*(int *)(iVar3 + 4) * local_8[0] + 4 + iVar2 <= param_2) &&
           (param_2 <= (*(int *)(iVar3 + 4) + 1) * local_8[0] + 3 + iVar2)) {
          return param_3;
        }
      }
      iVar3 = *(int *)(iVar3 + 0x10);
      param_3 = param_3 + 1;
    } while (iVar3 != 0);
  }
  return -1;
}



/*
 * Function: FUN_00457c70
 * Address: 00457c70
 */

undefined4 * __fastcall FUN_00457c70(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_0047229b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  param_1[1] = 0;
  *param_1 = 0;
  param_1[2] = 0;
  param_1[4] = 0;
  puVar1 = (undefined4 *)operator_new(0x14);
  local_4 = 0;
  if (puVar1 == (undefined4 *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = FUN_00457a40(puVar1);
  }
  param_1[7] = uVar2;
  param_1[3] = 0xffffffff;
  param_1[5] = 0xffffffff;
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: FUN_00457ce0
 * Address: 00457ce0
 */

void __fastcall FUN_00457ce0(undefined4 *param_1)

{
  int *piVar1;
  
  FUN_00457d10(param_1);
  piVar1 = (int *)param_1[7];
  if (piVar1 != (int *)0x0) {
    thunk_FUN_00457a70(piVar1);
    FUN_0046787e(piVar1);
  }
  return;
}



/*
 * Function: FUN_00457d10
 * Address: 00457d10
 */

void __fastcall FUN_00457d10(undefined4 *param_1)

{
  int *piVar1;
  int *piVar2;
  
  FUN_00401460(0x482770);
  piVar1 = (int *)param_1[1];
  while (piVar2 = piVar1, piVar2 != (int *)0x0) {
    piVar1 = (int *)piVar2[0x14];
    if (piVar2 != (int *)0x0) {
      FUN_004564b0(piVar2);
      FUN_0046787e(piVar2);
    }
  }
  param_1[1] = 0;
  param_1[2] = 0;
  FUN_00457a70((int *)param_1[7]);
  *param_1 = 0;
  param_1[4] = 0;
  param_1[3] = 0xffffffff;
  param_1[5] = 0xffffffff;
  PostMessageA(DAT_00482778,0x405,0,0);
  PostMessageA(DAT_00482778,0x403,0,0);
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00457db0
 * Address: 00457db0
 */

int * __fastcall FUN_00457db0(int *param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_004722bb;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  FUN_00401460(0x482770);
  piVar3 = (int *)operator_new(0x54);
  local_4 = 0;
  if (piVar3 == (int *)0x0) {
    piVar3 = (int *)0x0;
  }
  else {
    piVar3 = FUN_00456460(piVar3);
  }
  iVar1 = param_1[1];
  local_4 = 0xffffffff;
  if (iVar1 == 0) {
    piVar3[0x14] = 0;
    param_1[1] = (int)piVar3;
  }
  else {
    for (iVar2 = *(int *)(iVar1 + 0x50); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x50)) {
      iVar1 = iVar2;
    }
    *(int **)(iVar1 + 0x50) = piVar3;
    piVar3[0x14] = 0;
  }
  piVar3[1] = *param_1;
  *param_1 = *param_1 + 1;
  *piVar3 = (int)param_1;
  FUN_00401480(0x482770);
  ExceptionList = local_c;
  return piVar3;
}



/*
 * Function: FUN_00457e60
 * Address: 00457e60
 */

undefined4 __thiscall FUN_00457e60(void *this,int param_1)

{
  int *piVar1;
  int *piVar2;
  
  FUN_00401460(0x482770);
  piVar1 = (int *)0x0;
  piVar2 = *(int **)((int)this + 4);
  while( true ) {
    if (piVar2 == (int *)0x0) {
      FUN_00401480(0x482770);
      return 0;
    }
    if (piVar2[1] == param_1) break;
    piVar1 = piVar2;
    piVar2 = (int *)piVar2[0x14];
  }
  if (piVar1 == (int *)0x0) {
    *(int *)((int)this + 4) = piVar2[0x14];
  }
  else {
    piVar1[0x14] = piVar2[0x14];
  }
  if ((*(int *)((int)this + 8) == 1) && (piVar2[1] == *(int *)((int)this + 0xc))) {
    *(undefined4 *)((int)this + 8) = 0;
  }
  if ((*(int *)((int)this + 0x10) == 1) && (piVar2[1] == *(int *)((int)this + 0x14))) {
    *(undefined4 *)((int)this + 0x10) = 0;
    FUN_00457a70(*(int **)((int)this + 0x1c));
  }
  if (piVar2 != (int *)0x0) {
    FUN_004564b0(piVar2);
    FUN_0046787e(piVar2);
  }
  FUN_00401480(0x482770);
  return 1;
}



/*
 * Function: FUN_00457f10
 * Address: 00457f10
 */

int __thiscall FUN_00457f10(void *this,int param_1)

{
  int iVar1;
  
  FUN_00401460(0x482770);
  iVar1 = *(int *)((int)this + 4);
  while( true ) {
    if (iVar1 == 0) {
      FUN_00401480(0x482770);
      return 0;
    }
    if (*(int *)(iVar1 + 4) == param_1) break;
    iVar1 = *(int *)(iVar1 + 0x50);
  }
  FUN_00401480(0x482770);
  return iVar1;
}



/*
 * Function: FUN_00457f60
 * Address: 00457f60
 */

void __thiscall FUN_00457f60(void *this,short *param_1)

{
  void *this_00;
  
  FUN_00401460(0x482770);
  for (this_00 = *(void **)((int)this + 4); this_00 != (void *)0x0;
      this_00 = *(void **)((int)this_00 + 0x50)) {
    FUN_00456bb0(this_00,param_1);
  }
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00457fa0
 * Address: 00457fa0
 */

undefined4 __thiscall FUN_00457fa0(void *this,int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  
  FUN_00401460(0x482770);
  if (*(int *)((int)this + 0x10) != 0) {
    iVar1 = FUN_00457b90(*(int **)((int)this + 0x1c));
    if (iVar1 == 0) {
      if (param_3 == 1) {
        **(undefined4 **)((int)this + 0x20) = 0xffffffff;
        FUN_00457e60(this,*(int *)((int)this + 0x14));
      }
      if (param_4 != 1) goto LAB_0045806f;
      **(undefined4 **)((int)this + 0x20) = 0xffffffff;
      iVar1 = *(int *)((int)this + 0x14);
    }
    else {
      iVar1 = FUN_00457bb0(*(void **)((int)this + 0x1c),param_1,param_2,*(int *)((int)this + 0x18));
      if ((iVar1 != -1) && (*(int *)(*(int *)((int)this + 0x1c) + 4) = iVar1, param_3 == 1)) {
        RKC_DSOUND::Play(DAT_00482d28,0,0x39,0,0,DAT_0048d8e4);
        **(undefined4 **)((int)this + 0x20) = *(undefined4 *)(*(int *)((int)this + 0x1c) + 4);
        FUN_00457e60(this,*(int *)((int)this + 0x14));
      }
      if ((param_4 != 1) || (*(int *)((int)this + 0x24) == -1)) goto LAB_0045806f;
      **(int **)((int)this + 0x20) = *(int *)((int)this + 0x24);
      iVar1 = *(int *)((int)this + 0x14);
    }
    FUN_00457e60(this,iVar1);
  }
LAB_0045806f:
  FUN_00401480(0x482770);
  return 0;
}



/*
 * Function: FUN_00458080
 * Address: 00458080
 */

undefined4 __thiscall
FUN_00458080(void *this,int param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  
  FUN_00401460(0x482770);
  if (*(int *)((int)this + 0x10) == 0) {
    FUN_00401480(0x482770);
    return 0;
  }
  if (param_5 == 1) {
    RKC_DSOUND::Play(DAT_00482d28,0,0x39,0,0,DAT_0048d8e4);
    **(undefined4 **)((int)this + 0x20) = *(undefined4 *)(*(int *)((int)this + 0x1c) + 4);
    FUN_00457e60(this,*(int *)((int)this + 0x14));
    FUN_00401480(0x482770);
    return 0;
  }
  if (param_6 == 1) {
    iVar2 = FUN_00457b90(*(int **)((int)this + 0x1c));
    if (iVar2 == 0) {
      **(undefined4 **)((int)this + 0x20) = 0xffffffff;
      FUN_00457e60(this,*(int *)((int)this + 0x14));
      FUN_00401480(0x482770);
      return 0;
    }
    if (*(int *)((int)this + 0x24) != -1) {
      **(int **)((int)this + 0x20) = *(int *)((int)this + 0x24);
      FUN_00457e60(this,*(int *)((int)this + 0x14));
      FUN_00401480(0x482770);
      return 0;
    }
  }
  else if ((param_1 == 1) || (param_3 == 1)) {
    iVar2 = *(int *)(*(int *)((int)this + 0x1c) + 4);
    if (0 < iVar2) {
      *(int *)(*(int *)((int)this + 0x1c) + 4) = iVar2 + -1;
    }
  }
  else if ((param_2 == 1) || (param_4 == 1)) {
    piVar1 = *(int **)((int)this + 0x1c);
    iVar2 = piVar1[1];
    iVar3 = FUN_00457b90(piVar1);
    if (iVar2 + 1 < iVar3) {
      piVar1[1] = iVar2 + 1;
      FUN_00401480(0x482770);
      return 0;
    }
  }
  FUN_00401480(0x482770);
  return 0;
}



/*
 * Function: FUN_004581c0
 * Address: 004581c0
 */

void __thiscall FUN_004581c0(void *this,undefined4 param_1,int param_2,UINT param_3,int param_4)

{
  int iVar1;
  undefined4 *this_00;
  uint uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  char *pcVar5;
  char *pcVar6;
  int iVar7;
  BOOL BVar8;
  int iVar9;
  uint uVar10;
  undefined2 extraout_var;
  char *pcVar11;
  byte bStack_11d;
  RKC_MEMORY local_118 [10];
  byte abStack_10e [2];
  BYTE aBStack_10c [256];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_004722dc;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_118);
  uStack_4 = 0;
  FUN_00401460(0x482770);
  if (*(int *)((int)this + 8) == 0) goto LAB_004586fe;
  iVar1 = FUN_00457f10(this,*(int *)((int)this + 0xc));
  this_00 = (undefined4 *)FUN_00457810((void *)(iVar1 + 0x3c),*(int *)(iVar1 + 0x48));
  uVar2 = FUN_00427b20(this_00);
  if (param_2 != 0x100) {
    if (param_2 == 0x286) {
      BVar8 = IsDBCSLeadByte(param_3._1_1_);
      if (BVar8 != 1) {
        bStack_11d = (byte)param_3;
        goto LAB_004585b9;
      }
      goto LAB_00458650;
    }
    goto LAB_004586f7;
  }
  switch(param_3) {
  case 8:
    iVar9 = *(int *)(iVar1 + 0x44);
    if (iVar9 == 0) goto switchD_00458264_caseD_9;
    if (1 < iVar9) {
      uVar3 = CONCAT22(extraout_var,(short)iVar9 + -2);
      uVar4 = FUN_00456230((int)this_00);
      iVar9 = RK_CheckStringSJIS(uVar4,uVar3);
      if (iVar9 == 1) {
        pcVar5 = RKC_MEMORY::Allocation(local_118,uVar2 + 1,1);
        pcVar6 = (char *)FUN_00456230((int)this_00);
        pcVar11 = pcVar5;
        for (uVar10 = uVar2 + 1 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
          *(undefined4 *)pcVar11 = *(undefined4 *)pcVar6;
          pcVar6 = pcVar6 + 4;
          pcVar11 = pcVar11 + 4;
        }
        for (uVar10 = uVar2 + 1 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
          *pcVar11 = *pcVar6;
          pcVar6 = pcVar6 + 1;
          pcVar11 = pcVar11 + 1;
        }
        for (iVar9 = *(int *)(iVar1 + 0x44) + -2; iVar9 < (int)(uVar2 - 1); iVar9 = iVar9 + 1) {
          pcVar5[iVar9] = pcVar5[iVar9 + 2];
        }
        pcVar5[uVar2 - 1] = '\0';
        FUN_00457990(this_00,pcVar5);
        *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + -2;
        goto switchD_00458264_caseD_9;
      }
    }
    pcVar5 = RKC_MEMORY::Allocation(local_118,uVar2 + 1,1);
    pcVar6 = (char *)FUN_00456230((int)this_00);
    pcVar11 = pcVar5;
    for (uVar10 = uVar2 + 1 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
      *(undefined4 *)pcVar11 = *(undefined4 *)pcVar6;
      pcVar6 = pcVar6 + 4;
      pcVar11 = pcVar11 + 4;
    }
    for (uVar10 = uVar2 + 1 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
      *pcVar11 = *pcVar6;
      pcVar6 = pcVar6 + 1;
      pcVar11 = pcVar11 + 1;
    }
    iVar9 = *(int *)(iVar1 + 0x44) + -1;
    while (iVar9 < (int)uVar2) {
      pcVar5[iVar9] = pcVar5[iVar9 + 1];
      iVar9 = iVar9 + 1;
    }
    pcVar5[uVar2] = '\0';
    FUN_00457990(this_00,pcVar5);
    *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + -1;
    FUN_00457590(iVar1);
    break;
  case 0xd:
    iVar9 = FUN_00427b20(this_00);
    if (iVar9 != 0) {
      FUN_004578c0((void *)(iVar1 + 0x3c),*(undefined4 **)(iVar1 + 0x4c));
      FUN_00457e60(this,*(int *)((int)this + 0xc));
      goto LAB_004586fe;
    }
  default:
switchD_00458264_caseD_9:
    FUN_00457590(iVar1);
    break;
  case 0x1b:
    **(undefined4 **)(iVar1 + 0x4c) = 0;
    FUN_00457e60(this,*(int *)(iVar1 + 4));
    PostMessageA(DAT_00482778,0x405,0,0);
    PostMessageA(DAT_00482778,0x403,0,0);
    goto LAB_004586fe;
  case 0x23:
    *(uint *)(iVar1 + 0x44) = uVar2;
    FUN_00457590(iVar1);
    break;
  case 0x24:
    *(undefined4 *)(iVar1 + 0x44) = 0;
    FUN_00457590(iVar1);
    break;
  case 0x25:
    iVar9 = *(int *)(iVar1 + 0x44);
    if (iVar9 == 0) goto switchD_00458264_caseD_9;
    if (1 < iVar9) {
      uVar4 = CONCAT22((short)((uint)iVar9 >> 0x10),(short)iVar9 + -2);
      uVar3 = FUN_00456230((int)this_00);
      iVar9 = RK_CheckStringSJIS(uVar3,uVar4);
      if (iVar9 == 1) {
        *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + -1;
      }
    }
    *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + -1;
    FUN_00457590(iVar1);
    break;
  case 0x27:
    if (*(uint *)(iVar1 + 0x44) == uVar2) goto switchD_00458264_caseD_9;
    uVar3 = CONCAT22(extraout_var,(short)*(uint *)(iVar1 + 0x44));
    uVar4 = FUN_00456230((int)this_00);
    iVar9 = RK_CheckStringSJIS(uVar4,uVar3);
    if (iVar9 == 1) {
      *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + 1;
    }
    *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + 1;
    FUN_00457590(iVar1);
    FUN_00457590(iVar1);
    break;
  case 0x2e:
    if (*(uint *)(iVar1 + 0x44) == uVar2) goto switchD_00458264_caseD_9;
    uVar10 = *(uint *)(iVar1 + 0x44) & 0xffff;
    uVar4 = FUN_00456230((int)this_00);
    iVar9 = RK_CheckStringSJIS(uVar4,uVar10);
    if (iVar9 == 1) {
      pcVar5 = RKC_MEMORY::Allocation(local_118,uVar2 + 1,1);
      pcVar6 = (char *)FUN_00456230((int)this_00);
      pcVar11 = pcVar5;
      for (uVar10 = uVar2 + 1 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
        *(undefined4 *)pcVar11 = *(undefined4 *)pcVar6;
        pcVar6 = pcVar6 + 4;
        pcVar11 = pcVar11 + 4;
      }
      for (uVar10 = uVar2 + 1 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
        *pcVar11 = *pcVar6;
        pcVar6 = pcVar6 + 1;
        pcVar11 = pcVar11 + 1;
      }
      for (iVar9 = *(int *)(iVar1 + 0x44); iVar9 < (int)(uVar2 - 1); iVar9 = iVar9 + 1) {
        pcVar5[iVar9] = pcVar5[iVar9 + 2];
      }
      pcVar5[uVar2 - 1] = '\0';
      FUN_00457990(this_00,pcVar5);
      FUN_00457590(iVar1);
    }
    else {
      pcVar5 = RKC_MEMORY::Allocation(local_118,uVar2 + 1,1);
      pcVar6 = (char *)FUN_00456230((int)this_00);
      pcVar11 = pcVar5;
      for (uVar10 = uVar2 + 1 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
        *(undefined4 *)pcVar11 = *(undefined4 *)pcVar6;
        pcVar6 = pcVar6 + 4;
        pcVar11 = pcVar11 + 4;
      }
      for (uVar10 = uVar2 + 1 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
        *pcVar11 = *pcVar6;
        pcVar6 = pcVar6 + 1;
        pcVar11 = pcVar11 + 1;
      }
      iVar9 = *(int *)(iVar1 + 0x44);
      while (iVar9 < (int)uVar2) {
        pcVar5[iVar9] = pcVar5[iVar9 + 1];
        iVar9 = iVar9 + 1;
      }
      pcVar5[uVar2] = '\0';
      FUN_00457990(this_00,pcVar5);
      FUN_00457590(iVar1);
    }
  }
  GetKeyboardState(aBStack_10c);
  iVar9 = ToAscii(param_3,param_4 >> 0x10 & 0xff,aBStack_10c,(LPWORD)abStack_10e,0);
  if (iVar9 == 1) {
    bStack_11d = abStack_10e[0];
LAB_004585b9:
    if ((0x1f < bStack_11d) && ((int)uVar2 < *(int *)(iVar1 + 0x34) + -1)) {
      pcVar6 = RKC_MEMORY::Allocation(local_118,uVar2 + 2,1);
      iVar9 = 0;
      if (0 < *(int *)(iVar1 + 0x44)) {
        do {
          iVar7 = FUN_00456230((int)this_00);
          pcVar6[iVar9] = *(char *)(iVar7 + iVar9);
          iVar9 = iVar9 + 1;
        } while (iVar9 < *(int *)(iVar1 + 0x44));
      }
      pcVar6[*(int *)(iVar1 + 0x44)] = bStack_11d;
      iVar9 = *(int *)(iVar1 + 0x44);
      if (iVar9 < (int)(uVar2 + 1)) {
        do {
          iVar7 = FUN_00456230((int)this_00);
          pcVar6[iVar9 + 1] = *(char *)(iVar7 + iVar9);
          iVar9 = iVar9 + 1;
        } while (iVar9 < (int)(uVar2 + 1));
      }
      FUN_00457990(this_00,pcVar6);
      *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + 1;
    }
    if (param_2 == 0x286) {
LAB_00458650:
      BVar8 = IsDBCSLeadByte(param_3._1_1_);
      if ((BVar8 == 1) && ((int)uVar2 < *(int *)(iVar1 + 0x34) + -2)) {
        pcVar6 = RKC_MEMORY::Allocation(local_118,uVar2 + 3,1);
        iVar9 = 0;
        if (0 < *(int *)(iVar1 + 0x44)) {
          do {
            iVar7 = FUN_00456230((int)this_00);
            pcVar6[iVar9] = *(char *)(iVar7 + iVar9);
            iVar9 = iVar9 + 1;
          } while (iVar9 < *(int *)(iVar1 + 0x44));
        }
        pcVar6[*(int *)(iVar1 + 0x44)] = param_3._1_1_;
        pcVar6[*(int *)(iVar1 + 0x44) + 1] = (byte)param_3;
        for (iVar9 = *(int *)(iVar1 + 0x44); iVar9 < (int)(uVar2 + 1); iVar9 = iVar9 + 1) {
          iVar7 = FUN_00456230((int)this_00);
          pcVar6[iVar9 + 2] = *(char *)(iVar7 + iVar9);
        }
        FUN_00457990(this_00,pcVar6);
        *(int *)(iVar1 + 0x44) = *(int *)(iVar1 + 0x44) + 2;
      }
    }
LAB_004586f7:
    FUN_00457590(iVar1);
  }
LAB_004586fe:
  FUN_00401480(0x482770);
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_118);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_004587d0
 * Address: 004587d0
 */

undefined4 __fastcall FUN_004587d0(int param_1)

{
  int iVar1;
  
  FUN_00401460(0x482770);
  iVar1 = *(int *)(param_1 + 4);
  while( true ) {
    if (iVar1 == 0) {
      FUN_00401480(0x482770);
      return 0;
    }
    if ((*(uint *)(iVar1 + 8) & 0xc0000000) != 0) break;
    iVar1 = *(int *)(iVar1 + 0x50);
  }
  FUN_00401480(0x482770);
  return 1;
}



/*
 * Function: FUN_00458820
 * Address: 00458820
 */

void __thiscall FUN_00458820(void *this,undefined4 param_1)

{
  FUN_00401460(0x482770);
  *(undefined4 *)((int)this + 8) = param_1;
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00458850
 * Address: 00458850
 */

void __thiscall FUN_00458850(void *this,undefined4 param_1)

{
  FUN_00401460(0x482770);
  *(undefined4 *)((int)this + 0xc) = param_1;
  FUN_00401480(0x482770);
  return;
}



/*
 * Function: FUN_00458880
 * Address: 00458880
 */

void __thiscall FUN_00458880(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x24) = param_1;
  return;
}



/*
 * Function: FUN_00458890
 * Address: 00458890
 */

undefined4 * __fastcall FUN_00458890(undefined4 *param_1)

{
  FUN_00453960(param_1);
  *param_1 = &PTR_FUN_00476d70;
  param_1[0x31] = 0;
  param_1[0x32] = 0;
  param_1[0x33] = 0;
  param_1[0x34] = 0;
  param_1[0x37] = 0;
  param_1[0x38] = 0;
  param_1[0x35] = 0x640;
  param_1[0x36] = 0x118;
  return param_1;
}



/*
 * Function: FUN_004588e0
 * Address: 004588e0
 */

undefined4 * __thiscall FUN_004588e0(void *this,byte param_1)

{
  FUN_00458900((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_00458900
 * Address: 00458900
 */

void __fastcall FUN_00458900(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476d70;
  FUN_004539d0(param_1);
  return;
}



/*
 * Function: FUN_00458da0
 * Address: 00458da0
 */

void __fastcall FUN_00458da0(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  *(undefined4 *)(param_1 + 8) = 0;
  puVar1 = (undefined4 *)FUN_004663b0(*(int *)(param_1 + 0xcc));
  *(undefined4 *)(param_1 + 0x18) = *puVar1;
  iVar2 = FUN_004663b0(*(int *)(param_1 + 0xcc));
  *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(iVar2 + 4);
  if (*(int *)(param_1 + 200) == 1) {
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) | 0x80000000;
  }
  return;
}



/*
 * Function: FUN_00458de0
 * Address: 00458de0
 */

undefined4 * __fastcall FUN_00458de0(undefined4 *param_1)

{
  int iVar1;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00472307;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  FUN_00453960(param_1);
  local_4 = 0;
  RKC_RPG_AIDATA::RKC_RPG_AIDATA((RKC_RPG_AIDATA *)(param_1 + 0x83));
  local_4 = CONCAT31(local_4._1_3_,1);
  FUN_00403550(param_1 + 0xac);
  *param_1 = &PTR_FUN_00476d98;
  param_1[0x7a] = 0;
  param_1[0x95] = 0;
  param_1[0x96] = 0;
  param_1[0x7d] = 7;
  param_1[0x7e] = 0;
  param_1[0xa2] = 0;
  param_1[0xa3] = 0;
  param_1[0xa4] = 0;
  param_1[0xa5] = 0;
  param_1[0x7f] = 0xffffffff;
  param_1[0x80] = 0xffffffff;
  param_1[0x81] = 0;
  iVar1 = _rand();
  param_1[0xce] = 0;
  param_1[0x79] = 0;
  param_1[0xa6] = iVar1 % 0x78;
  ExceptionList = pvStack_c;
  return param_1;
}



/*
 * Function: FUN_00458eb0
 * Address: 00458eb0
 */

undefined4 * __thiscall FUN_00458eb0(void *this,byte param_1)

{
  FUN_00458ed0((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_00458ed0
 * Address: 00458ed0
 */

void __fastcall FUN_00458ed0(undefined4 *param_1)

{
  void *pvStack_c;
  undefined *puStack_8;
  uint local_4;
  
  puStack_8 = &LAB_00472337;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  *param_1 = &PTR_FUN_00476d98;
  local_4 = 1;
  FUN_00403040();
  local_4 = local_4 & 0xffffff00;
  RKC_RPG_AIDATA::~RKC_RPG_AIDATA((RKC_RPG_AIDATA *)(param_1 + 0x83));
  local_4 = 0xffffffff;
  FUN_004539d0(param_1);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_00459290
 * Address: 00459290
 */

undefined4 __thiscall FUN_00459290(void *this,undefined4 param_1)

{
  undefined4 uVar1;
  
  switch(param_1) {
  case 1:
    uVar1 = FUN_0045a2f0(this,0);
    return uVar1;
  case 2:
    uVar1 = FUN_0045a2f0(this,1);
    return uVar1;
  case 3:
    uVar1 = FUN_0045a2f0(this,2);
    return uVar1;
  case 4:
    uVar1 = FUN_0045ac90(this,0);
    return uVar1;
  case 5:
    uVar1 = FUN_0045ac90(this,1);
    return uVar1;
  case 6:
    uVar1 = FUN_0045ac90(this,2);
    return uVar1;
  case 7:
    uVar1 = FUN_0045b600(this);
    return uVar1;
  case 8:
    uVar1 = FUN_0045b7c0(this);
    return uVar1;
  case 9:
    uVar1 = FUN_0045bb10();
    return uVar1;
  case 10:
    uVar1 = FUN_0045bb20(this);
    return uVar1;
  case 0xb:
    uVar1 = FUN_0045bec0((int *)this);
    return uVar1;
  default:
    return 0xffffffff;
  }
}



/*
 * Function: FUN_00459340
 * Address: 00459340
 */

void __thiscall FUN_00459340(void *this,undefined4 param_1)

{
  switch(param_1) {
  case 0:
    FUN_0045c350((int)this);
    return;
  case 1:
    FUN_0045c3c0((int)this);
    return;
  case 2:
    FUN_0045c560(this,0);
    return;
  case 3:
    FUN_0045c560(this,1);
    return;
  case 4:
    FUN_0045c560(this,2);
    return;
  case 5:
    FUN_0045c5a0(this,0);
    return;
  case 6:
    FUN_0045c5a0(this,1);
    return;
  case 7:
    FUN_0045c5a0(this,2);
    return;
  case 8:
    FUN_0045c5e0((int)this);
    return;
  case 9:
    FUN_0045c600(this);
    return;
  case 10:
    FUN_0045c780(this);
    return;
  case 0xb:
    FUN_0045c900((int)this);
  }
  return;
}



/*
 * Function: FUN_004593f0
 * Address: 004593f0
 */

undefined8 __thiscall FUN_004593f0(void *this,undefined4 *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  void *this_00;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar4;
  undefined8 uVar5;
  
  iVar2 = FUN_00453ca0(this,0x7fffffff,1);
  iVar3 = FUN_00434c90(DAT_0048ce0c,iVar2);
  if ((iVar3 != 0) && ((param_2 == 0 || ((param_2 == 1 && (0 < *(int *)(iVar3 + 0x1a4))))))) {
    uVar5 = FUN_004143c0((int *)(iVar3 + 0x2e0),(int *)(iVar3 + 0x2e8),(int *)((int)this + 0x18),
                         (int *)((int)this + 0x20));
    param_1[1] = iVar2;
    param_1[2] = (int)uVar5;
    *param_1 = 0;
    return CONCAT44((int)((ulonglong)uVar5 >> 0x20),1);
  }
  iVar2 = FUN_00453e50(this,5,0x7fffffff,1);
  uVar4 = extraout_EDX;
  if (-1 < iVar2) {
    iVar3 = iVar2;
    this_00 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
    iVar3 = FUN_004299e0(this_00,iVar3);
    iVar3 = FUN_00434cd0(iVar3);
    uVar4 = extraout_EDX_00;
    if (iVar3 != 0) {
      iVar1 = *(int *)(*(int *)(iVar3 + 0x214) + 0x15a0);
      if (iVar1 == 0) {
        if ((param_2 != 0) && ((uVar4 = 0, param_2 != 1 || (*(int *)(iVar3 + 0xfc) < 1))))
        goto LAB_004594f3;
        uVar5 = FUN_004143c0((int *)(iVar3 + 0x18),(int *)(iVar3 + 0x20),(int *)((int)this + 0x18),
                             (int *)((int)this + 0x20));
      }
      else {
        uVar5 = CONCAT44(iVar1,param_1);
      }
      param_1[1] = iVar2;
      param_1[2] = (int)uVar5;
      *param_1 = 1;
      return CONCAT44((int)((ulonglong)uVar5 >> 0x20),1);
    }
  }
LAB_004594f3:
  return (ulonglong)uVar4 << 0x20;
}



/*
 * Function: FUN_00459500
 * Address: 00459500
 */

int __thiscall FUN_00459500(void *this,undefined4 *param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  void *this_00;
  int iVar2;
  int iVar3;
  undefined8 uVar4;
  undefined4 local_c;
  int local_8;
  int local_4;
  
  iVar2 = 0;
  iVar3 = 0;
  do {
    iVar1 = FUN_00434c90(DAT_0048ce0c,iVar3);
    if ((((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) &&
        (*(int *)(iVar1 + 0x458) == *(int *)((int)this + 0x5c))) &&
       ((param_4 == 0 || ((param_4 == 1 && (0 < *(int *)(iVar1 + 0x1a4))))))) {
      uVar4 = FUN_004143c0((int *)(iVar1 + 0x2e0),(int *)(iVar1 + 0x2e8),(int *)((int)this + 0x18),
                           (int *)((int)this + 0x20));
      iVar1 = (int)uVar4;
      if (((param_2 <= iVar1) || (param_2 == -1)) &&
         (((iVar1 <= param_3 || (param_3 == -1)) && ((iVar2 == 0 || (iVar1 < local_4)))))) {
        local_c = 0;
        iVar2 = 1;
        local_4 = iVar1;
        local_8 = iVar3;
      }
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 4);
  if (iVar2 == 0) {
    iVar3 = 16000000;
    do {
      iVar1 = iVar3;
      this_00 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
      iVar1 = FUN_004299e0(this_00,iVar1);
      if (iVar1 != 0) {
        iVar1 = FUN_00434cd0(iVar1);
        if ((((*(uint *)(iVar1 + 8) & 0x80000000) != 0) &&
            ((param_4 == 0 || ((param_4 == 1 && (0 < *(int *)(iVar1 + 0xfc))))))) &&
           (*(int *)(*(int *)(iVar1 + 0x214) + 0x15a0) == 0)) {
          uVar4 = FUN_004143c0((int *)(iVar1 + 0x18),(int *)(iVar1 + 0x20),(int *)((int)this + 0x18)
                               ,(int *)((int)this + 0x20));
          iVar1 = (int)uVar4;
          if (((param_2 <= iVar1) || (param_2 == -1)) &&
             (((iVar1 <= param_3 || (param_3 == -1)) && ((iVar2 == 0 || (iVar1 < local_4)))))) {
            iVar2 = 1;
            local_c = 1;
            local_4 = iVar1;
            local_8 = iVar3;
          }
        }
      }
      iVar1 = iVar3 + -15999999;
      iVar3 = iVar3 + 1;
    } while (iVar1 < 4);
  }
  if (iVar2 == 1) {
    *param_1 = local_c;
    param_1[1] = local_8;
    param_1[2] = local_4;
  }
  return iVar2;
}



/*
 * Function: FUN_00459690
 * Address: 00459690
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __thiscall FUN_00459690(void *this,int *param_1,int *param_2)

{
  int iVar1;
  void *pvVar2;
  RKC_RPG_TABLEDATA *pRVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  undefined1 auVar10 [10];
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  double dVar16;
  undefined8 uVar17;
  undefined4 *puVar18;
  undefined4 *puVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 *puVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 uVar27;
  undefined4 uVar28;
  undefined4 uVar29;
  undefined4 uVar30;
  int local_80;
  long lStack_78;
  int local_74;
  int iStack_64;
  int iStack_60;
  int iStack_5c;
  undefined4 uStack_58;
  uint uStack_54;
  int iStack_50;
  uint uStack_4c;
  undefined4 uStack_48;
  undefined4 uStack_44;
  int local_40;
  undefined4 local_3c;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_c;
  
  if (*(int *)((int)this + 0xd4) < 1) {
    return;
  }
  iVar9 = param_1[2];
  if (iVar9 < 0) {
    return;
  }
  local_74 = 0;
  if (*param_1 == 0) {
    local_74 = FUN_00434c90(DAT_0048ce0c,iVar9);
  }
  else {
    pvVar2 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
    iVar9 = FUN_004299e0(pvVar2,iVar9);
    FUN_00434cd0(iVar9);
  }
  iVar9 = param_1[2] % 10;
  local_34 = *(undefined4 *)((int)this + 0xe8);
  local_30 = *(undefined4 *)((int)this + 0xf0);
  local_40 = 2;
  local_3c = *(undefined4 *)((int)this + 4);
  local_c = *(undefined4 *)((int)this + 0xd8);
  if (param_1[4] < 1) {
    local_80 = 0;
  }
  else {
    local_80 = FUN_00412a40((undefined2 *)param_1,&local_40);
  }
  if ((*(int *)((int)this + 500) != 10) || (*(int *)((int)this + 0x344) != 2)) {
    *(undefined4 *)((int)this + 0x27c) = 0;
  }
  if ((((*param_1 == 0) || (*param_1 == 1)) && (param_1[0x49] != -1)) &&
     ((iVar1 = FUN_00434cd0((int)DAT_0048ce0c), iVar1 == iVar9 &&
      (pvVar2 = (void *)FUN_00434cb0((int)DAT_0048ce0c), pvVar2 != (void *)0x0)))) {
    FUN_0044f6f0(pvVar2,param_1[0x49],0);
  }
  if (*(int *)((int)this + 0x14) == 0) goto LAB_00459a26;
  pRVar3 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x18);
  uVar8 = *(uint *)((int)this + 0xd8) & 0x80000001;
  if ((int)uVar8 < 0) {
    uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
  }
  iVar1 = ((int)*(uint *)((int)this + 0xd8) / 2) * 2 - uVar8;
  if (*param_1 == 0) {
    iVar1 = param_1[iVar1 + 7];
    if (((iVar1 < 1) || (10 < iVar1)) || (iVar1 = iVar1 + -1, iVar1 == -1)) goto LAB_0045983b;
LAB_0045980c:
    iVar4 = RKC_RPG_TABLEDATA::GetValue(pRVar3,iVar1,0);
    iVar1 = RKC_RPG_TABLEDATA::GetValue(pRVar3,iVar1,1);
  }
  else {
    if (param_1[0x20] == iVar1 + 1) {
      iVar1 = 5;
      goto LAB_0045980c;
    }
LAB_0045983b:
    iVar1 = 0;
    iVar4 = 0;
  }
  pRVar3 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x19);
  lStack_78 = (local_80 * 0x32) / *(int *)((int)this + 0xe4);
  if (0x31 < lStack_78) {
    lStack_78 = 0x31;
  }
  iVar5 = param_1[0x29];
  if (iVar5 == -1) {
    iVar5 = RKC_RPG_TABLEDATA::GetValue(pRVar3,lStack_78,0);
  }
  if (param_1[1] == 3) {
    iVar5 = param_1[*(int *)((int)this + 0xd8) + 0x36];
  }
  iVar5 = iVar5 + (param_1[0x2a] - *(int *)((int)this + 0x1cc)) + iVar4;
  if (iVar5 < 0) {
    iVar5 = 0;
  }
  iVar4 = _rand();
  if (iVar5 <= iVar4 % 100) goto LAB_00459a26;
  iVar4 = param_1[0x2b];
  if (iVar4 == -1) {
    iVar4 = RKC_RPG_TABLEDATA::GetValue(pRVar3,lStack_78,1);
  }
  if (param_1[1] == 3) {
    iVar4 = param_1[*(int *)((int)this + 0xd8) + 0x3f];
  }
  iVar4 = iVar4 + (param_1[0x2c] - *(int *)((int)this + 0x1d0)) + iVar1;
  if (iVar4 < 1) {
    iVar4 = 1;
  }
  uVar8 = (uint)(param_1[0x28] != 0);
  if ((param_1[1] == 3) && (param_1[*(int *)((int)this + 0xd8) + 0x2d] == 0)) {
    uVar8 = 0;
LAB_00459958:
    if (0xf < iVar4) {
      iVar4 = 0xf;
    }
  }
  else if (uVar8 == 0) goto LAB_00459958;
  if ((*(int *)((int)this + 500) != 10) || (*(int *)((int)this + 0x344) != 2)) {
    *(int *)((int)this + 0x27c) = iVar4;
    *(undefined4 *)((int)this + 0x344) = 0;
    *(undefined4 *)((int)this + 500) = 10;
    *(undefined4 *)((int)this + 0x1e8) = 0;
    *(undefined4 *)((int)this + 0x254) = 1;
    if (iVar4 < 1) {
      *(undefined4 *)((int)this + 0x27c) = 1;
    }
    *(int *)((int)this + 0x27c) = *(int *)((int)this + 0x27c) + param_1[0x4c];
    iVar1 = param_1[0x4c];
    *(uint *)((int)this + 0x328) = uVar8;
    *(int *)((int)this + 0x348) = iVar1;
    if (*(int *)((int)this + 0x1d4) == 1) {
      *(undefined4 *)((int)this + 0x328) = 1;
    }
    auVar10 = FUN_00414080(*(int *)((int)this + 0x18) - *param_2,
                           *(int *)((int)this + 0x1c) - param_2[1]);
    *(double *)((int)this + 0x330) = (double)(float10)auVar10;
    if (*(int *)((int)this + 0x328) == 0) {
      uVar6 = FUN_004140f0(SUB84((double)((float10)auVar10 - (float10)_DAT_004751d8),0),
                           (int)((ulonglong)(double)((float10)auVar10 - (float10)_DAT_004751d8) >>
                                0x20));
      *(undefined4 *)((int)this + 0x10) = uVar6;
    }
  }
LAB_00459a26:
  iVar1 = FUN_00434cd0((int)DAT_0048ce0c);
  if (iVar1 == iVar9) {
    if (DAT_00482db0 == 2) {
      if (local_80 != 0) {
        uStack_58 = *(undefined4 *)((int)this + 4);
        uStack_54 = (uint)(param_1[1] == 3);
        iStack_50 = local_80;
        iStack_5c = iVar9;
        iStack_60 = FUN_00456230(*(int *)((int)this + 0x5c));
        uStack_48 = *(undefined4 *)((int)this + 0x18);
        uStack_44 = *(undefined4 *)((int)this + 0x1c);
        uStack_4c = (uint)(9 < param_1[2]);
        FUN_00419b70(&iStack_60);
        local_80 = *(int *)((int)this + 0xd4) - local_80;
        *(int *)((int)this + 0xd4) = local_80;
        if (local_80 < 1) {
          *(undefined4 *)((int)this + 0xd4) = 1;
        }
      }
    }
    else if (local_80 != 0) {
      iStack_64 = *(int *)((int)this + 0xd4);
      if (-1 < iStack_64 - local_80) {
        iStack_64 = local_80;
      }
      *(int *)((int)this + (param_1[2] % 10) * 4 + 0x288) =
           *(int *)((int)this + (param_1[2] % 10) * 4 + 0x288) + iStack_64;
      iVar1 = *(int *)((int)this + 0xd4) - local_80;
      *(int *)((int)this + 0xd4) = iVar1;
      if (iVar1 < 0) {
        *(undefined4 *)((int)this + 0xd4) = 0;
      }
      if (*(int *)((int)this + 0xd4) < 1) {
        iVar1 = param_1[1];
        if ((*(int *)((int)this + 500) != 10) || (*(int *)((int)this + 0x344) != 2)) {
          *(undefined4 *)((int)this + 0x344) = 0;
        }
        *(undefined4 *)((int)this + 0x2a0) = 0;
        iVar4 = param_1[2];
        *(int *)((int)this + 0x2a4) = iVar4;
        *(uint *)((int)this + 0x29c) = (uint)(iVar1 == 3);
        FUN_004134a0(&DAT_00482df4,(int)this,(uint)(iVar1 == 3),iVar4);
        iVar1 = FUN_00434cb0((int)DAT_0048ce0c);
        if (*(int *)(iVar1 + 0x15e4) != 0) {
          iVar4 = 1;
          iVar1 = 7;
          pvVar2 = (void *)FUN_00434cb0((int)DAT_0048ce0c);
          FUN_0044f6f0(pvVar2,iVar1,iVar4);
        }
        iVar1 = FUN_00434cb0((int)DAT_0048ce0c);
        if (*(int *)(iVar1 + 0x15dc) != 0) {
          iVar4 = 1;
          iVar1 = 8;
          pvVar2 = (void *)FUN_00434cb0((int)DAT_0048ce0c);
          FUN_0044f6f0(pvVar2,iVar1,iVar4);
        }
        iVar1 = FUN_00434cb0((int)DAT_0048ce0c);
        if (*(int *)(iVar1 + 0x15ec) != 0) {
          iVar4 = 1;
          iVar1 = 9;
          pvVar2 = (void *)FUN_00434cb0((int)DAT_0048ce0c);
          FUN_0044f6f0(pvVar2,iVar1,iVar4);
        }
      }
      else {
        uStack_58 = *(undefined4 *)((int)this + 4);
        iStack_50 = local_80;
        uStack_54 = (uint)(param_1[1] == 3);
        iStack_5c = iVar9;
        iStack_60 = FUN_00456230(*(int *)((int)this + 0x5c));
        uStack_48 = *(undefined4 *)((int)this + 0x18);
        uStack_44 = *(undefined4 *)((int)this + 0x1c);
        uStack_4c = (uint)(9 < param_1[2]);
        FUN_0041c250(&iStack_60);
      }
    }
  }
  if ((param_1[0x27] != 0) && (local_74 != 0)) {
    FUN_00434cb0((int)DAT_0048ce0c);
    auVar10 = FUN_00414080(*(int *)(local_74 + 0x2e0) - *(int *)((int)this + 0x18),
                           *(int *)(local_74 + 0x2e4) - *(int *)((int)this + 0x1c));
    iVar1 = 5;
    do {
      uVar30 = 0;
      uVar21 = 200;
      uVar29 = 0;
      uVar28 = 0x403e0000;
      uVar27 = 0;
      uVar26 = 0;
      uVar25 = 0;
      uVar24 = 0xffffffff;
      uVar23 = 8;
      puVar22 = (undefined4 *)0x0;
      uVar20 = 0;
      puVar19 = (undefined4 *)0x0;
      puVar18 = (undefined4 *)0x0;
      iVar4 = _rand();
      uVar6 = *(undefined4 *)((int)this + 4);
      dVar16 = (double)(iVar4 % 3000 + -0x5dc) * _DAT_00475218 + (double)(float10)auVar10 +
               _DAT_004751d8;
      uVar15 = 0xfa;
      uVar14 = 100;
      uVar13 = 1;
      uVar12 = 4;
      uVar11 = 0x4e2d;
      iVar4 = iVar9;
      pvVar2 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
      FUN_0042fdc0(pvVar2,uVar11,uVar12,uVar6,uVar13,iVar4,uVar14,uVar15,SUB84(dVar16,0),
                   (int)((ulonglong)dVar16 >> 0x20),puVar18,puVar19,uVar20,puVar22,uVar23,uVar24,
                   uVar25,uVar26,uVar27,uVar28,uVar29,uVar21,uVar30);
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    FUN_00453c60(this,0,0x3d,0);
  }
  if (((param_1[3] == 1) && (*(int *)((int)this + 0x254) == 1)) &&
     (iVar9 = *(int *)((int)this + 0x27c), iVar9 != 0)) {
    uVar21 = 0;
    uVar29 = 200;
    uVar28 = 0;
    uVar27 = 0;
    uVar26 = 0;
    uVar25 = 0;
    uVar24 = 0;
    uVar23 = 0xffffffff;
    uVar20 = 8;
    puVar22 = (undefined4 *)0x0;
    puVar18 = (undefined4 *)((int)this + 0x20);
    uVar6 = *(undefined4 *)((int)this + 4);
    puVar19 = (undefined4 *)0x0;
    uVar17 = 0;
    uVar15 = 0;
    uVar14 = 0;
    uVar13 = 0;
    uVar12 = 0;
    uVar11 = 4;
    *(undefined4 *)((int)this + 0x344) = 1;
    uVar8 = _rand();
    uVar8 = uVar8 & 0x80000003;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
    }
    iVar1 = uVar8 + 0x5217;
    pvVar2 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
    FUN_0042fdc0(pvVar2,iVar1,uVar11,uVar6,uVar12,uVar13,uVar14,uVar15,(int)uVar17,
                 (int)((ulonglong)uVar17 >> 0x20),puVar19,puVar18,iVar9,puVar22,uVar20,uVar23,uVar24
                 ,uVar25,uVar26,uVar27,uVar28,uVar29,uVar21);
    FUN_00453c60(this,0,0x77,0);
  }
  if (((param_1[3] == 2) && (*(int *)((int)this + 0x254) == 1)) &&
     (*(int *)((int)this + 0x27c) != 0)) {
    *(undefined4 *)((int)this + 0x344) = 2;
  }
  iVar9 = param_1[0x22];
  if (iVar9 != -1) {
    iVar1 = param_1[0x23];
    uVar21 = 0;
    uVar29 = 200;
    uVar28 = 0;
    uVar27 = 0;
    uVar26 = 0;
    uVar25 = 0;
    uVar24 = 0;
    uVar23 = 0xffffffff;
    puVar22 = (undefined4 *)0x0;
    puVar18 = (undefined4 *)((int)this + 0x20);
    uVar6 = *(undefined4 *)((int)this + 4);
    uVar20 = 0;
    puVar19 = (undefined4 *)0x0;
    uVar17 = 0;
    uVar15 = 0;
    uVar14 = 0;
    uVar13 = 0;
    uVar12 = 0;
    uVar11 = 4;
    pvVar2 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
    FUN_0042fdc0(pvVar2,iVar9,uVar11,uVar6,uVar12,uVar13,uVar14,uVar15,(int)uVar17,
                 (int)((ulonglong)uVar17 >> 0x20),puVar19,puVar18,uVar20,puVar22,iVar1,uVar23,uVar24
                 ,uVar25,uVar26,uVar27,uVar28,uVar29,uVar21);
  }
  iVar9 = param_1[0x4a];
  if (iVar9 != -1) {
    iVar1 = param_1[0x4b];
    uVar21 = 0;
    uVar29 = 200;
    uVar28 = 0;
    uVar27 = 0;
    uVar26 = 0;
    uVar25 = 0;
    uVar24 = 0;
    uVar23 = 0xffffffff;
    puVar22 = (undefined4 *)0x0;
    puVar18 = (undefined4 *)((int)this + 0x20);
    uVar6 = *(undefined4 *)((int)this + 4);
    uVar20 = 0;
    puVar19 = (undefined4 *)0x0;
    uVar17 = 0;
    uVar15 = 0;
    uVar14 = 0;
    uVar13 = 0;
    uVar12 = 0;
    uVar11 = 4;
    pvVar2 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
    FUN_0042fdc0(pvVar2,iVar9,uVar11,uVar6,uVar12,uVar13,uVar14,uVar15,(int)uVar17,
                 (int)((ulonglong)uVar17 >> 0x20),puVar19,puVar18,uVar20,puVar22,iVar1,uVar23,uVar24
                 ,uVar25,uVar26,uVar27,uVar28,uVar29,uVar21);
  }
  if (((*(int *)((int)this + 0x14) != 0) && (param_1[0x48] != 0)) &&
     (iVar9 = _rand(), iVar9 % 100 < 0x14)) {
    uVar23 = 0;
    uVar20 = 200;
    uVar15 = 0;
    uVar14 = 0;
    uVar13 = 0;
    uVar12 = 0;
    uVar11 = 0;
    uVar6 = 0xffffffff;
    uVar8 = _rand();
    uVar8 = uVar8 & 0x80000007;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffff8) + 1;
    }
    puVar22 = (undefined4 *)0x0;
    puVar18 = (undefined4 *)((int)this + 0x20);
    uVar24 = *(undefined4 *)((int)this + 4);
    uVar21 = 0;
    puVar19 = (undefined4 *)0x0;
    uVar17 = 0;
    uVar29 = 0;
    uVar28 = 0;
    uVar27 = 0;
    uVar26 = 0;
    uVar25 = 4;
    uVar7 = _rand();
    uVar7 = uVar7 & 0x80000001;
    if ((int)uVar7 < 0) {
      uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
    }
    iVar9 = uVar7 + 0x5213;
    pvVar2 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
    FUN_0042fdc0(pvVar2,iVar9,uVar25,uVar24,uVar26,uVar27,uVar28,uVar29,(int)uVar17,
                 (int)((ulonglong)uVar17 >> 0x20),puVar19,puVar18,uVar21,puVar22,uVar8,uVar6,uVar11,
                 uVar12,uVar13,uVar14,uVar15,uVar20,uVar23);
  }
  if (*(int *)((int)this + 0xd4) < 1) {
    *(undefined4 *)((int)this + 500) = 0xb;
    *(undefined4 *)((int)this + 0x1e8) = 0;
    *(undefined4 *)((int)this + 0x254) = 1;
  }
  if (*(int *)((int)this + 0x338) == 0) {
    *(undefined4 *)((int)this + 0x338) = 4;
  }
  return;
}



/*
 * Function: FUN_00459f60
 * Address: 00459f60
 */

void __fastcall FUN_00459f60(void *param_1)

{
  int iVar1;
  void *pvVar2;
  short sVar3;
  
  sVar3 = 0;
  *(undefined4 *)((int)param_1 + 8) = 0;
  if (*(int *)((int)param_1 + 600) == 0) {
    iVar1 = FUN_004541c0(param_1,1);
    if (iVar1 != 0) {
      iVar1 = *(int *)((int)param_1 + 4);
      pvVar2 = (void *)FUN_00466410(*(int *)((int)param_1 + 0x5c));
      iVar1 = FUN_00430770(pvVar2,iVar1);
      if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != 0)) {
        *(uint *)((int)param_1 + 8) = *(uint *)((int)param_1 + 8) | 0x80000000;
      }
    }
    if (*(int *)((int)param_1 + 600) == 0) {
      iVar1 = FUN_004541c0(param_1,2);
      if (iVar1 != 0) {
        iVar1 = *(int *)((int)param_1 + 4);
        pvVar2 = (void *)FUN_00466410(*(int *)((int)param_1 + 0x5c));
        iVar1 = FUN_00430770(pvVar2,iVar1);
        if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != 0)) {
          sVar3 = 1;
        }
      }
    }
  }
  RKC_RPGSCRN_OBJECT::SetStatus(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),sVar3);
  RKC_RPGSCRN_OBJECT::SetPosition
            (*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),
             (RKC_RPGSCRN_POSITION *)((int)param_1 + 0x18));
  RKC_RPGSCRN_OBJECT::SetJudgement
            (*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),(RKC_RPGSCRN_RECT *)((int)param_1 + 0x20)
            );
  return;
}



/*
 * Function: FUN_0045a000
 * Address: 0045a000
 */

undefined4 __fastcall FUN_0045a000(int param_1)

{
  FUN_00417550(*(undefined4 *)(param_1 + 0x5c),*(undefined4 *)(param_1 + 0x180),
               *(undefined4 *)(param_1 + 0x18),*(undefined4 *)(param_1 + 0x1c),0,0);
  return 1;
}



/*
 * Function: FUN_0045a030
 * Address: 0045a030
 */

undefined4 __fastcall FUN_0045a030(int param_1)

{
  int iVar1;
  undefined4 *this;
  int iVar2;
  void *this_00;
  int iVar3;
  void *pvVar4;
  
  if (DAT_00482db0 == 2) {
    return 0;
  }
  iVar3 = 0;
  iVar1 = FUN_00434c90(DAT_0048ce0c,*(int *)(param_1 + 0x2a4) % 10);
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x2d8) == 1)) {
    iVar3 = FUN_0044f8b0(iVar1);
  }
  iVar3 = iVar3 + 100;
  if ((-1 < iVar3) && (0 < iVar3)) {
    iVar1 = _rand();
    if (iVar1 % 100 < *(int *)(param_1 + 0x198)) {
      this = FUN_00462d30(DAT_0048ce14,4,0,(undefined4 *)0x0);
      if (this != (undefined4 *)0x0) {
        FUN_004663e0(this,*(int *)(param_1 + 0x28) + *(int *)(param_1 + 0x18),
                     *(int *)(param_1 + 0x2c) + 100 + *(int *)(param_1 + 0x1c));
        iVar1 = *(int *)(param_1 + 0x19c);
        iVar2 = _rand();
        iVar1 = ((iVar2 % ((*(int *)(param_1 + 0x1a0) - iVar1) + 1) + iVar1) * iVar3) / 100;
        if (iVar1 < 1) {
          iVar1 = 1;
        }
        FUN_00466440(this,iVar1);
        FUN_00434cb0((int)DAT_0048ce0c);
        pvVar4 = *(void **)(param_1 + 0x5c);
        iVar1 = 1;
        this_00 = (void *)FUN_00434cb0((int)DAT_0048ce0c);
        FUN_00452420(this_00,this,pvVar4,iVar1);
      }
    }
  }
  return 1;
}



/*
 * Function: FUN_0045a140
 * Address: 0045a140
 */

undefined4 __thiscall FUN_0045a140(void *this,int *param_1,int param_2)

{
  void *this_00;
  int iVar1;
  undefined4 uVar2;
  
  if (0 < *(int *)((int)this + 0xd4)) {
    return 0;
  }
  *(undefined4 *)((int)this + 0x1e8) = 0;
  *(undefined4 *)((int)this + 0x254) = 0;
  *(undefined4 *)((int)this + 600) = 0;
  *(undefined4 *)((int)this + 500) = 7;
  *(undefined4 *)((int)this + 0x1f8) = 0;
  *(undefined4 *)((int)this + 0x288) = 0;
  *(undefined4 *)((int)this + 0x28c) = 0;
  *(undefined4 *)((int)this + 0x290) = 0;
  *(undefined4 *)((int)this + 0x294) = 0;
  *(int *)((int)this + 0x10) = param_2;
  *(undefined4 *)((int)this + 0x1fc) = 0xffffffff;
  *(undefined4 *)((int)this + 0x200) = 0xffffffff;
  *(undefined4 *)((int)this + 0xd4) = *(undefined4 *)((int)this + 0xe4);
  *(undefined4 *)((int)this + 0x204) = 0;
  if (param_1 != (int *)0x0) {
    *(int *)((int)this + 0x18) = *param_1;
    *(int *)((int)this + 0x1c) = param_1[1];
  }
                    /* WARNING: Load size is inaccurate */
  *(undefined4 *)((int)this + 0x60) = 0;
  (**(code **)(*this + 0xc))();
  iVar1 = *(int *)((int)this + 4);
  uVar2 = 1;
  *(undefined4 *)((int)this + 0x98) = 0xffffffff;
  this_00 = (void *)FUN_00466410(*(int *)((int)this + 0x5c));
  FUN_00430750(this_00,iVar1,uVar2);
  if (DAT_00482db0 == 1) {
    FUN_0045ce90((int)this);
  }
  return 1;
}



/*
 * Function: FUN_0045a210
 * Address: 0045a210
 */

void __thiscall FUN_0045a210(void *this,int param_1)

{
  undefined4 uVar1;
  
  *(undefined4 *)((int)this + 0x18) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 0xc);
  *(undefined4 *)((int)this + 0x1e8) = 0;
  *(undefined4 *)((int)this + 0x254) = 0;
  *(undefined4 *)((int)this + 500) = 7;
  *(undefined4 *)((int)this + 0x1f8) = 0;
  *(undefined4 *)((int)this + 0x1fc) = 0xffffffff;
  *(undefined4 *)((int)this + 0x200) = 0xffffffff;
  uVar1 = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)((int)this + 0x204) = 0;
  *(undefined4 *)((int)this + 0x1e4) = uVar1;
  *(undefined4 *)((int)this + 600) = 0;
  if (*(int *)(param_1 + 0x10) < 1) {
    *(undefined4 *)((int)this + 500) = 0xb;
    *(undefined4 *)((int)this + 600) = 1;
    *(undefined4 *)((int)this + 0x1e8) = 10000;
    *(undefined4 *)((int)this + 0x254) = 1;
    *(undefined4 *)((int)this + 0xd4) = 0;
    *(undefined4 *)((int)this + 0x2a8) = 0;
  }
  return;
}



/*
 * Function: FUN_0045a2a0
 * Address: 0045a2a0
 */

void __thiscall FUN_0045a2a0(void *this,int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = FUN_00434cd0(*(int *)((int)this + 0x14));
  iVar1 = *(int *)(&DAT_00480a20 + (param_1 + (param_2 + iVar1 * 3) * 10) * 4);
  if ((iVar1 != -1) || (iVar1 = *(int *)(&DAT_004809a8 + (param_1 + param_2 * 10) * 4), iVar1 != -1)
     ) {
    FUN_00453c60(this,0,iVar1,0);
  }
  return;
}



/*
 * Function: FUN_0045a2f0
 * Address: 0045a2f0
 */

undefined4 __thiscall FUN_0045a2f0(void *this,int param_1)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  short sVar5;
  ushort uVar6;
  int iVar7;
  undefined4 uVar8;
  long lVar9;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  uint uVar10;
  void *pvVar11;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int *piVar12;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar13;
  int iVar14;
  long lVar15;
  int iVar16;
  undefined1 auVar17 [10];
  float10 fVar18;
  longlong lVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  long lVar25;
  undefined4 uVar26;
  long lVar27;
  undefined4 uVar28;
  undefined4 uVar29;
  undefined4 uVar30;
  undefined4 *puVar31;
  undefined4 *puVar32;
  RKC_RPGSCRN_RECT *pRVar33;
  undefined4 uVar34;
  short *psVar35;
  undefined4 uVar36;
  short *psVar37;
  undefined4 uVar38;
  short *psVar39;
  undefined4 uVar40;
  undefined4 uVar41;
  long lVar42;
  undefined4 uVar43;
  long lVar44;
  undefined4 uVar45;
  RKC_RPGSCRN_RECT *pRVar46;
  undefined4 uVar47;
  long lVar48;
  long lVar49;
  undefined4 uVar50;
  long lVar51;
  int local_1a4;
  int local_1a0;
  int local_194;
  int local_190;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *pRStack_188;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 local_13c;
  undefined4 local_138;
  int aiStack_134 [3];
  undefined4 uStack_128;
  undefined4 uStack_124;
  undefined4 uStack_b8;
  undefined4 uStack_b4;
  int iStack_ac;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined4 uStack_14;
  undefined4 uStack_c;
  
  local_184 = 0x33333333;
  bVar3 = false;
  bVar2 = false;
  bVar1 = false;
  bVar4 = false;
  local_180 = 0x3fd33333;
  local_17c = 0x9999999a;
  local_178 = 0x3fd99999;
  local_174 = 0x33333333;
  local_170 = 0x3fe33333;
  local_16c = 0x9999999a;
  local_168 = 0x3fe99999;
  local_164 = 0;
  local_160 = 0x3ff00000;
  local_15c = 0;
  local_158 = 0x3ff80000;
  local_154 = 0;
  local_150 = 0x40000000;
  local_14c = 0;
  local_148 = 0x40040000;
  local_144 = 0;
  local_140 = 0x40080000;
  local_13c = 0;
  local_138 = 0x40100000;
  if (*(int *)((int)this + 500) == param_1 + 1) {
    local_1a4 = *(int *)((int)this + 0x1ec) + 1;
    *(int *)((int)this + 0x1ec) = local_1a4;
    lVar19 = __ftol();
    *(int *)((int)this + 0x1e8) = (int)lVar19;
  }
  else {
    *(int *)((int)this + 500) = param_1 + 1;
    *(undefined4 *)((int)this + 0x1e8) = 0;
    *(undefined4 *)((int)this + 0x254) = 1;
    *(undefined4 *)((int)this + 0x1ec) = 0;
    *(undefined4 *)((int)this + 0x1f0) = 0xffffffff;
    if ((*(int *)((int)this + 0x194) == param_1) && (*(int *)((int)this + 0x184) != -1)) {
      iVar7 = FUN_00459500(this,&local_194,0,*(int *)((int)this + param_1 * 4 + 0x110),1);
      if (iVar7 == 1) {
        if (local_194 == 0) {
          iVar7 = FUN_00434c90(DAT_0048ce0c,local_190);
          if (iVar7 != 0) {
            auVar17 = FUN_00414080(*(int *)(iVar7 + 0x2e0) - *(int *)((int)this + 0x18),
                                   *(int *)(iVar7 + 0x2e4) - *(int *)((int)this + 0x1c));
            *(double *)((int)this + 0x260) = (double)(float10)auVar17;
            uVar8 = FUN_00413ec0(*(int *)(iVar7 + 0x2e0) - *(int *)((int)this + 0x18),
                                 *(int *)(iVar7 + 0x2e4) - *(int *)((int)this + 0x1c));
            *(undefined4 *)((int)this + 0x10) = uVar8;
          }
        }
        else {
          pvVar11 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
          iVar7 = FUN_004299e0(pvVar11,local_190);
          if (iVar7 != 0) {
            iVar14 = FUN_00434cd0(iVar7);
            iVar16 = *(int *)(iVar14 + 0x1c) - *(int *)((int)this + 0x1c);
            iVar14 = FUN_00434cd0(iVar7);
            auVar17 = FUN_00414080(*(int *)(iVar14 + 0x18) - *(int *)((int)this + 0x18),iVar16);
            *(double *)((int)this + 0x260) = (double)(float10)auVar17;
LAB_0045a562:
            iVar14 = FUN_00434cd0(iVar7);
            iVar16 = *(int *)(iVar14 + 0x1c) - *(int *)((int)this + 0x1c);
            iVar7 = FUN_00434cd0(iVar7);
            iVar14 = *(int *)(iVar7 + 0x18);
LAB_0045a538:
            uVar8 = FUN_00413ec0(iVar14 - *(int *)((int)this + 0x18),iVar16);
            *(undefined4 *)((int)this + 0x10) = uVar8;
          }
        }
      }
      else {
        fVar18 = FUN_00413fd0(*(undefined4 *)((int)this + 0x10));
        *(double *)((int)this + 0x260) = (double)fVar18;
      }
    }
    else {
      iVar7 = FUN_00459500(this,&local_194,0,*(int *)((int)this + param_1 * 4 + 0x110),1);
      if (iVar7 == 1) {
        if (local_194 == 0) {
          iVar7 = FUN_00434c90(DAT_0048ce0c,local_190);
          if (iVar7 != 0) {
            iVar14 = *(int *)(iVar7 + 0x2e0);
            iVar16 = *(int *)(iVar7 + 0x2e4) - *(int *)((int)this + 0x1c);
            goto LAB_0045a538;
          }
        }
        else {
          pvVar11 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
          iVar7 = FUN_004299e0(pvVar11,local_190);
          if (iVar7 != 0) goto LAB_0045a562;
        }
      }
    }
  }
  if (*(int *)((int)this + 0x14) != 0) {
    local_1a0 = *(int *)((int)this + param_1 * 4 + 0x11c) + 4;
    lVar9 = FUN_004663a0(*(int *)((int)this + 0x14));
    this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar9);
    this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,local_1a0);
    sVar5 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,*(long *)((int)this + 0x10));
    local_1a4 = (int)sVar5;
    if ((((*(int *)((int)this + 0x1e8) < local_1a4) &&
         (*(int *)((int)this + 0x1e8) != *(int *)((int)this + 0x1f0))) &&
        (pRStack_188 = RKC_RPGSCRN_CHARANIMCHART::Get(this_01,*(long *)((int)this + 0x10),0),
        pRStack_188 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
       (iVar7 = *(int *)((int)this + 0x1f0) + 1, iVar7 <= *(int *)((int)this + 0x1e8))) {
      do {
        this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(pRStack_188,iVar7);
        if (this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
          uVar6 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
          if ((uVar6 & 0x40) != 0) {
            bVar3 = true;
          }
          uVar6 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
          if ((uVar6 & 0x400) != 0) {
            bVar4 = true;
          }
          uVar6 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
          if ((uVar6 & 0x800) != 0) {
            bVar1 = true;
          }
          uVar6 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
          if ((uVar6 & 0x1000) != 0) {
            bVar2 = true;
          }
        }
        iVar7 = iVar7 + 1;
      } while (iVar7 <= *(int *)((int)this + 0x1e8));
    }
  }
  if (bVar4) {
    FUN_0045a2a0(this,local_1a0,0);
  }
  if (bVar1) {
    FUN_0045a2a0(this,local_1a0,1);
  }
  if (bVar2) {
    FUN_0045a2a0(this,local_1a0,2);
  }
  if (!bVar3) goto LAB_0045ab41;
  if ((*(int *)((int)this + 0x184) != -1) && (*(int *)((int)this + 0x194) == param_1)) {
    FUN_00417e70((int)aiStack_134);
    aiStack_134[2] = *(undefined4 *)((int)this + 4);
    uStack_124 = *(undefined4 *)((int)this + param_1 * 4 + 0xf8);
    uStack_b8 = *(undefined4 *)((int)this + 0xdc);
    uStack_b4 = *(undefined4 *)((int)this + 0xd8);
    aiStack_134[0] = 2;
    aiStack_134[1] = 0;
    uVar10 = _rand();
    uVar10 = uVar10 & 0x80000003;
    if ((int)uVar10 < 0) {
      uVar10 = (uVar10 - 1 | 0xfffffffc) + 1;
    }
    iStack_ac = uVar10 + 21000;
    uStack_94 = *(undefined4 *)((int)this + param_1 * 4 + 0x1c0);
    uStack_a4 = *(undefined4 *)((int)this + param_1 * 4 + 0x104);
    uStack_90 = *(undefined4 *)((int)this + param_1 * 4 + 0x1a8);
    uStack_88 = *(undefined4 *)((int)this + param_1 * 4 + 0x1b4);
    uStack_a0 = 0;
    uStack_9c = 0;
    uStack_98 = 0;
    uStack_8c = 0;
    uStack_84 = 0;
    uStack_14 = 1;
    uStack_128 = 0;
    uStack_c = 0xffffffff;
    switch(*(undefined4 *)((int)this + 0x184)) {
    case 0:
      iVar7 = _rand();
      iStack_ac = iVar7 % 3 + 0x520f;
      break;
    default:
      uVar10 = _rand();
      uVar10 = uVar10 & 0x80000003;
      if ((int)uVar10 < 0) {
        uVar10 = (uVar10 - 1 | 0xfffffffc) + 1;
      }
      iStack_ac = uVar10 + 21000;
      break;
    case 4:
      iVar7 = _rand();
      uStack_c = 20000;
      iStack_ac = iVar7 % 3 + 0x520f;
      break;
    case 5:
      iVar7 = _rand();
      uStack_c = 0x5215;
      uStack_128 = 1;
      iStack_ac = iVar7 % 3 + 0x520f;
      break;
    case 7:
      iVar7 = _rand();
      uStack_128 = 2;
      iStack_ac = iVar7 % 3 + 0x520f;
    }
    uVar8 = *(undefined4 *)((int)this + 0x18c);
    uVar50 = 0;
    uVar47 = 0;
    uVar45 = 0;
    uVar30 = *(undefined4 *)((int)this + 0x264);
    uVar43 = 0;
    uVar29 = *(undefined4 *)((int)this + 0x260);
    uVar41 = 0;
    uVar40 = 0;
    uVar38 = 0xffffffff;
    piVar12 = aiStack_134;
    uVar36 = 8;
    uVar28 = *(undefined4 *)((int)this + 400);
    uVar34 = 0;
    puVar32 = (undefined4 *)0x0;
    puVar31 = (undefined4 *)0x0;
    uVar26 = *(undefined4 *)((int)this + 0x188);
    uVar22 = *(undefined4 *)((int)this + 4);
    uVar20 = *(undefined4 *)((int)this + 0x184);
    uVar24 = 0xffffffff;
    uVar23 = 0x13;
    uVar21 = 4;
    pvVar11 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
    FUN_0042fdc0(pvVar11,uVar20,uVar21,uVar22,uVar23,uVar24,uVar26,uVar28,uVar29,uVar30,puVar31,
                 puVar32,uVar34,piVar12,uVar36,uVar38,uVar40,uVar41,uVar43,uVar45,uVar47,uVar8,
                 uVar50);
    goto LAB_0045ab41;
  }
  FUN_00417e70((int)aiStack_134);
  aiStack_134[2] = *(undefined4 *)((int)this + 4);
  uStack_124 = *(undefined4 *)((int)this + param_1 * 4 + 0xf8);
  uStack_b8 = *(undefined4 *)((int)this + 0xdc);
  uStack_b4 = *(undefined4 *)((int)this + 0xd8);
  aiStack_134[0] = 2;
  aiStack_134[1] = 0;
  uVar10 = _rand();
  uVar10 = uVar10 & 0x80000003;
  if ((int)uVar10 < 0) {
    uVar10 = (uVar10 - 1 | 0xfffffffc) + 1;
  }
  uStack_90 = *(undefined4 *)((int)this + param_1 * 4 + 0x1a8);
  uStack_88 = *(undefined4 *)((int)this + param_1 * 4 + 0x1b4);
  iStack_ac = uVar10 + 21000;
  uStack_94 = *(undefined4 *)((int)this + param_1 * 4 + 0x1c0);
  uStack_a0 = 0;
  uStack_9c = 1;
  uStack_98 = 0;
  uStack_8c = 0;
  uStack_84 = 0;
  uStack_14 = 1;
  uStack_128 = 0;
  uStack_c = 0xffffffff;
  iVar7 = FUN_00453d50(this,*(int *)((int)this + param_1 * 4 + 0x110),1);
  iVar14 = FUN_00453fa0(this,5,*(int *)((int)this + param_1 * 4 + 0x110),1);
  if (iVar7 < 0) {
    if (iVar14 < 0) goto LAB_0045ab41;
    pvVar11 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
    iVar7 = FUN_004299e0(pvVar11,iVar14);
    if (iVar7 == 0) goto LAB_0045ab41;
    iVar14 = FUN_00434cd0(iVar7);
    bVar4 = FUN_00413e00(*(int *)((int)this + param_1 * 4 + 0x104),*(int *)(iVar14 + 0x10c));
    if (CONCAT31(extraout_var_00,bVar4) == 0) {
      iVar7 = FUN_00434cd0(iVar7);
      pvVar11 = (void *)0x0;
      goto LAB_0045ab37;
    }
    piVar12 = (int *)FUN_00434cd0(iVar7);
    (**(code **)(*piVar12 + 0x14))(aiStack_134,(int)this + 0x18);
  }
  else {
    pvVar11 = (void *)FUN_00434c90(DAT_0048ce0c,iVar7);
    if (pvVar11 == (void *)0x0) goto LAB_0045ab41;
    bVar4 = FUN_00413e00(*(int *)((int)this + param_1 * 4 + 0x104),*(int *)((int)pvVar11 + 0x1c0));
    if (CONCAT31(extraout_var,bVar4) == 0) {
      iVar7 = 0;
LAB_0045ab37:
      FUN_00417a60((int)pvVar11,iVar7);
      goto LAB_0045ab41;
    }
    FUN_00443cb0(pvVar11,aiStack_134,(int *)((int)this + 0x18));
    if (*(int *)((int)this + 500) == 0xb) {
      FUN_0045bec0((int *)this);
      return 0;
    }
  }
  FUN_00453c60(this,0,6,0);
  if (*(int *)((int)this + 0x204) == -1) {
    *(undefined4 *)((int)this + 0x204) = 0x11;
  }
LAB_0045ab41:
  iVar7 = FUN_00456210(DAT_0048ce04);
  if (((iVar7 == *(int *)((int)this + 0x5c)) && (*(int *)((int)this + 0xb8) == 1)) &&
     (*(int *)((int)this + 0x14) != 0)) {
    if (local_1a4 + -1 < *(int *)((int)this + 0x1e8)) {
      *(int *)((int)this + 0x1e8) = local_1a4 + -1;
    }
    uVar10 = *(uint *)((int)this + 0x338) & 0x80000001;
    if ((int)uVar10 < 0) {
      uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
    }
    psVar39 = *(short **)((int)this + 0x48);
    psVar37 = *(short **)((int)this + 0x44);
    iVar7 = (-(uint)(uVar10 != 0) & 2) - 1;
    lVar51 = 1000;
    lVar49 = 1000;
    lVar48 = 1000;
    lVar9 = *(long *)((int)this + 4);
    pRVar46 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar44 = 1000;
    lVar42 = 0;
    psVar35 = *(short **)((int)this + 0x40);
    piVar12 = *(int **)((int)this + 0x3c);
    pRVar33 = (RKC_RPGSCRN_RECT *)((int)this + 0x20);
    pRVar13 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar5 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)this + 0x58));
    lVar27 = *(long *)((int)this + 0x1e8);
    iVar14 = *(int *)((int)this + 0x1c) + iVar7 * -10;
    iVar7 = *(int *)((int)this + 0x18) + iVar7 * 10;
    lVar25 = *(long *)((int)this + 0x10);
    lVar15 = FUN_004663a0(*(int *)((int)this + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar15,local_1a0,lVar25,lVar27,iVar7,iVar14,sVar5,pRVar13,pRVar33,
               piVar12,psVar35,psVar37,psVar39,lVar9,lVar42,lVar44,pRVar46,lVar48,lVar49,lVar51);
  }
  if ((*(int *)((int)this + 0x1e8) == local_1a4 + -1) || (*(int *)((int)this + 0x14) == 0)) {
    *(undefined4 *)((int)this + 0x254) = 0;
    *(undefined4 *)((int)this + 500) = 7;
    if (*(int *)((int)this + 0x204) == -1) {
      *(int *)((int)this + 0x204) = param_1 + 2;
    }
  }
  *(int *)((int)this + 0x1f0) = *(int *)((int)this + 0x1e8);
  return 0;
}



/*
 * Function: FUN_0045ac90
 * Address: 0045ac90
 */

undefined4 __thiscall FUN_0045ac90(void *this,int param_1)

{
  short sVar1;
  ushort uVar2;
  int iVar3;
  undefined4 uVar4;
  long lVar5;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  long lVar6;
  void *pvVar7;
  uint uVar8;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar9;
  long lVar10;
  int iVar11;
  int iVar12;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *pRVar13;
  undefined1 auVar14 [10];
  float10 fVar15;
  undefined8 uVar16;
  longlong lVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  long lVar20;
  undefined4 uVar21;
  undefined4 *puVar22;
  undefined4 *puVar23;
  RKC_RPGSCRN_RECT *pRVar24;
  int *piVar25;
  undefined4 *puVar26;
  short *psVar27;
  undefined4 uVar28;
  short *psVar29;
  undefined4 uVar30;
  short *psVar31;
  undefined4 uVar32;
  long lVar33;
  undefined4 uVar34;
  long lVar35;
  undefined4 uVar36;
  RKC_RPGSCRN_RECT *pRVar37;
  undefined4 uVar38;
  long lVar39;
  undefined4 uVar40;
  long lVar41;
  long lVar42;
  uint local_1b0;
  RKC_RPGSCRN_CHARANIMCHART *pRStack_1ac;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *pRStack_1a8;
  int local_1a4;
  int local_1a0;
  undefined4 uStack_19c;
  undefined4 uStack_198;
  int local_194;
  int local_190;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *local_18c;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 local_13c;
  undefined4 local_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  undefined4 uStack_12c;
  undefined4 uStack_128;
  undefined4 uStack_124;
  undefined4 uStack_b8;
  long lStack_b4;
  int iStack_ac;
  int iStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  long lStack_94;
  long lStack_90;
  undefined4 uStack_8c;
  long lStack_88;
  undefined4 uStack_84;
  undefined auStack_80 [36];
  undefined auStack_5c [36];
  long alStack_38 [9];
  undefined4 uStack_14;
  undefined4 uStack_c;
  
  local_184 = 0x33333333;
  local_194 = 0;
  local_1b0 = 0;
  local_180 = 0x3fd33333;
  local_17c = 0x9999999a;
  local_178 = 0x3fd99999;
  local_174 = 0x33333333;
  local_170 = 0x3fe33333;
  local_16c = 0x9999999a;
  local_168 = 0x3fe99999;
  local_164 = 0;
  local_160 = 0x3ff00000;
  local_15c = 0;
  local_158 = 0x3ff80000;
  local_154 = 0;
  local_150 = 0x40000000;
  local_14c = 0;
  local_148 = 0x40040000;
  local_144 = 0;
  local_140 = 0x40080000;
  local_13c = 0;
  local_138 = 0x40100000;
  if (*(int *)((int)this + 500) == param_1 + 4) {
    local_1a4 = *(int *)((int)this + 0x1ec) + 1;
    *(int *)((int)this + 0x1ec) = local_1a4;
    lVar17 = __ftol();
    *(int *)((int)this + 0x1e8) = (int)lVar17;
  }
  else {
    *(int *)((int)this + 500) = param_1 + 4;
    *(undefined4 *)((int)this + 0x1e8) = 0;
    *(undefined4 *)((int)this + 0x254) = 1;
    *(undefined4 *)((int)this + 0x1ec) = 0;
    *(undefined4 *)((int)this + 0x1f0) = 0xffffffff;
    uVar16 = FUN_004593f0(this,&local_190,1);
    if ((int)uVar16 == 1) {
      if (local_190 == 0) {
        iVar3 = FUN_00434c90(DAT_0048ce0c,(int)local_18c);
        if (iVar3 != 0) {
          auVar14 = FUN_00414080(*(int *)(iVar3 + 0x2e0) - *(int *)((int)this + 0x18),
                                 *(int *)(iVar3 + 0x2e4) - *(int *)((int)this + 0x1c));
          *(double *)((int)this + 0x260) = (double)(float10)auVar14;
          uVar4 = FUN_00413ec0(*(int *)(iVar3 + 0x2e0) - *(int *)((int)this + 0x18),
                               *(int *)(iVar3 + 0x2e4) - *(int *)((int)this + 0x1c));
          *(undefined4 *)((int)this + 0x10) = uVar4;
        }
      }
      else {
        pRVar13 = local_18c;
        pvVar7 = (void *)FUN_00427aa0(*(int *)((int)this + 0x5c));
        iVar3 = FUN_004299e0(pvVar7,(int)pRVar13);
        if (iVar3 != 0) {
          iVar12 = FUN_00434cd0(iVar3);
          iVar11 = *(int *)(iVar12 + 0x1c) - *(int *)((int)this + 0x1c);
          iVar12 = FUN_00434cd0(iVar3);
          uVar4 = FUN_00413ec0(*(int *)(iVar12 + 0x18) - *(int *)((int)this + 0x18),iVar11);
          *(undefined4 *)((int)this + 0x10) = uVar4;
          iVar12 = FUN_00434cd0(iVar3);
          iVar12 = *(int *)(iVar12 + 0x1c) - *(int *)((int)this + 0x1c);
          iVar3 = FUN_00434cd0(iVar3);
          auVar14 = FUN_00414080(*(int *)(iVar3 + 0x18) - *(int *)((int)this + 0x18),iVar12);
          *(double *)((int)this + 0x260) = (double)(float10)auVar14;
        }
      }
    }
    else {
      fVar15 = FUN_00413fd0(*(undefined4 *)((int)this + 0x10));
      *(double *)((int)this + 0x260) = (double)fVar15;
    }
  }
  if (*(int *)((int)this + 0x14) != 0) {
    local_1a0 = *(int *)((int)this + param_1 * 4 + 0x164) + 7;
    lVar5 = FUN_004663a0(*(int *)((int)this + 0x14));
    this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar5);
    pRStack_1ac = RKC_RPGSCRN_CHARANIM::Get(this_00,local_1a0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRStack_1ac,*(long *)((int)this + 0x10));
    local_1a4 = (int)sVar1;
    if ((((*(int *)((int)this + 0x1e8) < local_1a4) &&
         (*(int *)((int)this + 0x1e8) != *(int *)((int)this + 0x1f0))) &&
        (pRStack_1a8 = RKC_RPGSCRN_CHARANIMCHART::Get(pRStack_1ac,*(long *)((int)this + 0x10),0),
        pRStack_1a8 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0)) &&
       (pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)(*(int *)((int)this + 0x1f0) + 1),
       (int)pRStack_1ac <= *(int *)((int)this + 0x1e8))) {
      do {
        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(pRStack_1a8,(long)pRStack_1ac);
        if (this_01 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
          uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01);
          if ((uVar2 & 0x40) != 0) {
            local_194 = 1;
          }
          uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01);
          if ((uVar2 & 0x400) != 0) {
            local_1b0 = local_1b0 | 1;
          }
          uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01);
          if ((uVar2 & 0x800) != 0) {
            local_1b0 = local_1b0 | 2;
          }
          uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_01);
          if ((uVar2 & 0x1000) != 0) {
            local_1b0 = local_1b0 | 4;
          }
        }
        pRStack_1ac = pRStack_1ac + 1;
      } while ((int)pRStack_1ac <= *(int *)((int)this + 0x1e8));
    }
  }
  if ((local_1b0 & 1) != 0) {
    FUN_0045a2a0(this,local_1a0,0);
  }
  if ((local_1b0 & 2) != 0) {
    FUN_0045a2a0(this,local_1a0,1);
  }
  if ((local_1b0 & 4) != 0) {
    FUN_0045a2a0(this,local_1a0,2);
  }
  if (local_194 != 1) goto LAB_0045b480;
  FUN_00417e70((int)&uStack_134);
  uStack_12c = *(undefined4 *)((int)this + 4);
  uStack_124 = *(undefined4 *)((int)this + param_1 * 4 + 0x14c);
  uStack_b8 = *(undefined4 *)((int)this + 0xdc);
  uStack_134 = 2;
  uStack_130 = 3;
  lStack_b4 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),
                           *(int *)((int)this + param_1 * 4 + 0x140),5);
  uStack_a0 = 0;
  uStack_9c = 0;
  uStack_98 = 0;
  lVar5 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),
                       *(int *)((int)this + param_1 * 4 + 0x140),1);
  iStack_a4 = lVar5 + *(int *)((int)this + param_1 * 4 + 0x158);
  lStack_94 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),
                           *(int *)((int)this + param_1 * 4 + 0x140),0x1e);
  lStack_90 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),
                           *(int *)((int)this + param_1 * 4 + 0x140),0x1c);
  uStack_8c = 0;
  lStack_88 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),
                           *(int *)((int)this + param_1 * 4 + 0x140),0x1d);
  uStack_84 = 0;
  uStack_c = 0xffffffff;
  FUN_004174b0(*(long *)((int)this + param_1 * 4 + 0x134),*(int *)((int)this + param_1 * 4 + 0x140),
               (int)auStack_5c,alStack_38,(int)auStack_80);
  switch(*(undefined4 *)((int)this + param_1 * 4 + 0x134)) {
  case 1:
  case 0x10:
    local_1b0 = 0xfa;
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0x0;
    iStack_ac = 20000;
    goto LAB_0045b1ce;
  case 2:
    local_1b0 = 0xfa;
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0x0;
    goto LAB_0045b29e;
  case 3:
    uStack_19c = *(undefined4 *)((int)this + 0x18);
    uStack_198 = *(undefined4 *)((int)this + 0x1c);
    local_1b0 = 0;
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0x0;
    uStack_14 = 0;
    iStack_ac = 0x4e25;
    pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x13;
    pRStack_1a8 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0xffffffff;
    uStack_128 = 0;
    break;
  case 4:
    local_1b0 = 0;
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0xa;
    iStack_ac = 0x4e21;
LAB_0045b1ce:
    uStack_14 = 0;
    pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x13;
    pRStack_1a8 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0xffffffff;
    uStack_128 = 0;
    break;
  case 5:
    local_1b0 = 0;
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0xa;
LAB_0045b29e:
    uStack_14 = 0;
    iStack_ac = 0x5215;
    pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x13;
    pRStack_1a8 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0xffffffff;
    uStack_128 = 1;
    break;
  default:
    pRVar13 = pRStack_1a8;
    break;
  case 10:
    uVar8 = _rand();
    uVar8 = uVar8 & 0x80000003;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffc) + 1;
    }
    iStack_ac = uVar8 + 21000;
    uStack_14 = 1;
    goto LAB_0045b383;
  case 0xb:
    iStack_ac = 20000;
    goto LAB_0045b3bd;
  case 0xc:
    local_1b0 = 0;
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0xa;
    iStack_ac = 0x5215;
    uStack_14 = 0;
    uStack_128 = 1;
    uVar16 = FUN_004593f0(this,&local_190,1);
    if ((int)uVar16 == 1) {
      pRStack_1a8 = local_18c;
      if (local_190 == 0) {
        pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x1;
      }
      else {
        pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x2;
      }
      break;
    }
    goto LAB_0045b3cb;
  case 0xd:
    iStack_ac = 0x4e25;
    uStack_14 = 0;
LAB_0045b383:
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0x0;
    local_1b0 = 0;
    uStack_19c = *(undefined4 *)((int)this + 0x18);
    uStack_198 = *(undefined4 *)((int)this + 0x1c);
    pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x13;
    pRStack_1a8 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0xffffffff;
    uStack_128 = 0;
    break;
  case 0xe:
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0x0;
    uStack_14 = 0;
    local_1b0 = 0xfa;
    iStack_ac = 0x521b;
    pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x13;
    pRStack_1a8 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0xffffffff;
    uStack_128 = 2;
    break;
  case 0x15:
    iStack_ac = 21000;
LAB_0045b3bd:
    pRStack_1ac = (RKC_RPGSCRN_CHARANIMCHART *)0x0;
    local_1b0 = 0xfa;
    uStack_14 = 0;
    uStack_128 = 0;
LAB_0045b3cb:
    pRVar13 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x13;
    pRStack_1a8 = (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0xffffffff;
  }
  iVar3 = *(int *)((int)this + param_1 * 4 + 0x140);
  lVar5 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),iVar3,4);
  uVar40 = 200;
  uVar38 = 0;
  uVar36 = 0;
  uVar34 = 0;
  uVar32 = 0;
  uVar30 = 0xffffffff;
  puVar26 = &uStack_134;
  uVar28 = 8;
  puVar23 = (undefined4 *)((int)this + 0x20);
  uVar4 = *(undefined4 *)((int)this + 0x264);
  puVar22 = &uStack_19c;
  uVar21 = *(undefined4 *)((int)this + 0x260);
  lVar6 = FUN_00417410(*(long *)((int)this + param_1 * 4 + 0x134),iVar3,3);
  uVar19 = *(undefined4 *)((int)this + 4);
  iVar12 = *(int *)((int)this + param_1 * 4 + 0x134) + 10000;
  uVar18 = 4;
  pvVar7 = (void *)FUN_00466420(*(int *)((int)this + 0x5c));
  FUN_0042fdc0(pvVar7,iVar12,uVar18,uVar19,pRVar13,pRStack_1a8,lVar6,local_1b0,uVar21,uVar4,puVar22,
               puVar23,pRStack_1ac,puVar26,uVar28,uVar30,uVar32,iVar3,uVar34,uVar36,uVar38,uVar40,
               lVar5);
LAB_0045b480:
  iVar3 = FUN_00456210(DAT_0048ce04);
  if (((iVar3 == *(int *)((int)this + 0x5c)) && (*(int *)((int)this + 0xb8) == 1)) &&
     (*(int *)((int)this + 0x14) != 0)) {
    if (local_1a4 + -1 < *(int *)((int)this + 0x1e8)) {
      *(int *)((int)this + 0x1e8) = local_1a4 + -1;
    }
    uVar8 = *(uint *)((int)this + 0x338) & 0x80000001;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
    }
    psVar31 = *(short **)((int)this + 0x48);
    psVar29 = *(short **)((int)this + 0x44);
    iVar3 = (-(uint)(uVar8 != 0) & 2) - 1;
    lVar42 = 1000;
    lVar41 = 1000;
    lVar39 = 1000;
    pRVar37 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar5 = *(long *)((int)this + 4);
    lVar35 = 1000;
    lVar33 = 0;
    psVar27 = *(short **)((int)this + 0x40);
    piVar25 = *(int **)((int)this + 0x3c);
    pRVar24 = (RKC_RPGSCRN_RECT *)((int)this + 0x20);
    pRVar9 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)this + 0x58));
    iVar12 = *(int *)((int)this + 0x1c) + iVar3 * -10;
    iVar3 = *(int *)((int)this + 0x18) + iVar3 * 10;
    lVar6 = *(long *)((int)this + 0x1e8);
    lVar20 = *(long *)((int)this + 0x10);
    lVar10 = FUN_004663a0(*(int *)((int)this + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar10,local_1a0,lVar20,lVar6,iVar3,iVar12,sVar1,pRVar9,pRVar24,piVar25,
               psVar27,psVar29,psVar31,lVar5,lVar33,lVar35,pRVar37,lVar39,lVar41,lVar42);
  }
  if ((*(int *)((int)this + 0x1e8) == local_1a4 + -1) || (*(int *)((int)this + 0x14) == 0)) {
    *(undefined4 *)((int)this + 0x254) = 0;
    *(undefined4 *)((int)this + 500) = 7;
    if (*(int *)((int)this + 0x204) == -1) {
      *(int *)((int)this + 0x204) = param_1 + 5;
    }
  }
  *(int *)((int)this + 0x1f0) = *(int *)((int)this + 0x1e8);
  return 0;
}



/*
 * Function: FUN_0045b600
 * Address: 0045b600
 */

undefined4 __fastcall FUN_0045b600(void *param_1)

{
  short sVar1;
  ushort uVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  int iVar4;
  uint uVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  long lVar7;
  int iVar8;
  byte bVar9;
  bool bVar10;
  long lVar11;
  long lVar12;
  long lVar13;
  RKC_RPGSCRN_RECT *pRVar14;
  int *piVar15;
  short *psVar16;
  short *psVar17;
  short *psVar18;
  long lVar19;
  long lVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  
  bVar9 = 0;
  bVar10 = false;
  if (*(int *)((int)param_1 + 500) != 7) {
    *(undefined4 *)((int)param_1 + 0x1e8) = 0;
    *(undefined4 *)((int)param_1 + 500) = 7;
  }
  if (*(int *)((int)param_1 + 0x14) != 0) {
    lVar3 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,0);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)((int)param_1 + 0x10));
    this_01 = RKC_RPGSCRN_CHARANIMCHART::Get(this_00,*(long *)((int)param_1 + 0x10),0);
    if ((this_01 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
       (this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get
                            (this_01,*(int *)((int)param_1 + 0x1e8) % (int)sVar1),
       this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) {
      uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      bVar10 = (uVar2 & 0x400) != 0;
      uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      bVar9 = bVar10;
      if ((uVar2 & 0x800) != 0) {
        bVar9 = 2;
      }
      uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      if ((uVar2 & 0x1000) != 0) {
        bVar9 = bVar9 | 4;
      }
    }
  }
  if (bVar10) {
    FUN_0045a2a0(param_1,0,0);
  }
  if ((bVar9 & 2) != 0) {
    FUN_0045a2a0(param_1,0,1);
  }
  if ((bVar9 & 4) != 0) {
    FUN_0045a2a0(param_1,0,2);
  }
  iVar4 = FUN_00456210(DAT_0048ce04);
  if ((iVar4 == *(int *)((int)param_1 + 0x5c)) && (*(int *)((int)param_1 + 0x14) != 0)) {
    uVar5 = *(uint *)((int)param_1 + 0x338) & 0x80000001;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
    }
    lVar3 = *(long *)((int)param_1 + 4);
    psVar17 = *(short **)((int)param_1 + 0x44);
    lVar24 = 1000;
    lVar23 = 1000;
    iVar4 = (-(uint)(uVar5 != 0) & 2) - 1;
    lVar22 = 1000;
    pRVar21 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar20 = 1000;
    psVar18 = *(short **)((int)param_1 + 0x48);
    lVar19 = 0;
    psVar16 = *(short **)((int)param_1 + 0x40);
    piVar15 = *(int **)((int)param_1 + 0x3c);
    pRVar14 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    lVar13 = *(long *)((int)param_1 + 0x1e8);
    iVar8 = *(int *)((int)param_1 + 0x1c) + iVar4 * -10;
    iVar4 = *(int *)((int)param_1 + 0x18) + iVar4 * 10;
    lVar12 = *(long *)((int)param_1 + 0x10);
    lVar11 = 0;
    lVar7 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar7,lVar11,lVar12,lVar13,iVar4,iVar8,sVar1,pRVar6,pRVar14,piVar15,
               psVar16,psVar17,psVar18,lVar3,lVar19,lVar20,pRVar21,lVar22,lVar23,lVar24);
  }
  *(int *)((int)param_1 + 0x1e8) = *(int *)((int)param_1 + 0x1e8) + 1;
  return 0;
}



/*
 * Function: FUN_0045b7c0
 * Address: 0045b7c0
 */

undefined4 __fastcall FUN_0045b7c0(void *param_1)

{
  byte bVar1;
  short sVar2;
  ushort uVar3;
  int iVar4;
  undefined4 uVar5;
  RKC_RPG_AIPARAM *pRVar6;
  long lVar7;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  uint uVar8;
  int iVar9;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar10;
  long lVar11;
  int iVar12;
  bool bVar13;
  longlong lVar14;
  long lVar15;
  RKC_RPGSCRN_RECT *pRVar16;
  int *piVar17;
  short *psVar18;
  short *psVar19;
  short *psVar20;
  long lVar21;
  long lVar22;
  long lVar23;
  RKC_RPGSCRN_RECT *pRVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  int local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  bVar1 = 0;
  bVar13 = false;
  local_58 = 0x9999999a;
  local_54 = 0x3fc99999;
  local_50 = 0x9999999a;
  local_4c = 0x3fd99999;
  local_48 = 0x33333333;
  local_44 = 0x3fe33333;
  local_40 = 0x9999999a;
  local_3c = 0x3fe99999;
  local_38 = 0;
  local_34 = 0x3ff00000;
  local_30 = 0;
  local_2c = 0x3ff80000;
  local_28 = 0;
  local_24 = 0x40000000;
  local_20 = 0;
  local_1c = 0x40040000;
  local_18 = 0;
  local_14 = 0x40080000;
  local_10 = 0;
  local_c = 0x40100000;
  if (*(int *)((int)param_1 + 500) != 8) {
    *(undefined4 *)((int)param_1 + 0x1e8) = 0;
    *(undefined4 *)((int)param_1 + 500) = 8;
  }
  iVar4 = FUN_00454930((void *)((int)param_1 + 0x2b0),&local_60,0,0xffffffff,0);
  if (iVar4 == 1) {
    iVar4 = *(int *)((int)param_1 + 0x2f8);
    if (iVar4 == 1) {
      *(undefined4 *)((int)param_1 + 0x10) = 3;
    }
    else if (iVar4 == 2) {
      *(undefined4 *)((int)param_1 + 0x10) = 7;
    }
    else if (iVar4 == 3) {
      *(undefined4 *)((int)param_1 + 0x10) = 5;
    }
    else if (iVar4 == 4) {
      *(undefined4 *)((int)param_1 + 0x10) = 1;
    }
    else {
      uVar5 = FUN_00413ec0(*(int *)((int)param_1 + 0x2c8) - *(int *)((int)param_1 + 0x18),
                           *(int *)((int)param_1 + 0x2cc) - *(int *)((int)param_1 + 0x1c));
      *(undefined4 *)((int)param_1 + 0x10) = uVar5;
    }
  }
  else {
    *(undefined4 *)((int)param_1 + 500) = 7;
  }
  *(int *)((int)param_1 + 0x18) = local_60;
  *(undefined4 *)((int)param_1 + 0x1c) = local_5c;
  if (*(int *)((int)param_1 + 0x14) != 0) {
    pRVar6 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)((int)param_1 + 0x20c));
    iVar4 = *(int *)(pRVar6 + 0x18);
    lVar7 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar7);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,(-(uint)(iVar4 != 0) & 8) + 1);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)((int)param_1 + 0x10));
    this_01 = RKC_RPGSCRN_CHARANIMCHART::Get(this_00,*(long *)((int)param_1 + 0x10),0);
    if ((this_01 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
       (this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get
                            (this_01,*(int *)((int)param_1 + 0x1e8) % (int)sVar2),
       this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) {
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      bVar13 = (uVar3 & 0x400) != 0;
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      bVar1 = bVar13;
      if ((uVar3 & 0x800) != 0) {
        bVar1 = 2;
      }
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      if ((uVar3 & 0x1000) != 0) {
        bVar1 = bVar1 | 4;
      }
    }
  }
  if (bVar13) {
    FUN_0045a2a0(param_1,1,0);
  }
  if ((bVar1 & 2) != 0) {
    FUN_0045a2a0(param_1,1,1);
  }
  if ((bVar1 & 4) != 0) {
    FUN_0045a2a0(param_1,1,2);
  }
  iVar4 = FUN_00456210(DAT_0048ce04);
  if (((iVar4 == *(int *)((int)param_1 + 0x5c)) && (*(int *)((int)param_1 + 0xb8) == 1)) &&
     (*(int *)((int)param_1 + 0x14) != 0)) {
    pRVar6 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)((int)param_1 + 0x20c));
    iVar4 = (-(uint)(*(int *)(pRVar6 + 0x18) != 0) & 8) + 1;
    lVar14 = __ftol();
    lVar7 = (long)lVar14;
    uVar8 = *(uint *)((int)param_1 + 0x338) & 0x80000001;
    if ((int)uVar8 < 0) {
      uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
    }
    lVar21 = *(long *)((int)param_1 + 4);
    psVar19 = *(short **)((int)param_1 + 0x44);
    lVar27 = 1000;
    lVar26 = 1000;
    iVar9 = (-(uint)(uVar8 != 0) & 2) - 1;
    lVar25 = 1000;
    pRVar24 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar23 = 1000;
    psVar20 = *(short **)((int)param_1 + 0x48);
    lVar22 = 0;
    psVar18 = *(short **)((int)param_1 + 0x40);
    piVar17 = *(int **)((int)param_1 + 0x3c);
    pRVar16 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar10 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    lVar15 = *(long *)((int)param_1 + 0x10);
    iVar12 = *(int *)((int)param_1 + 0x1c) + iVar9 * -10;
    iVar9 = iVar9 * 10 + *(int *)((int)param_1 + 0x18);
    lVar11 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar11,iVar4,lVar15,lVar7,iVar9,iVar12,sVar2,pRVar10,pRVar16,piVar17,
               psVar18,psVar19,psVar20,lVar21,lVar22,lVar23,pRVar24,lVar25,lVar26,lVar27);
  }
  *(int *)((int)param_1 + 0x1e8) = *(int *)((int)param_1 + 0x1e8) + 1;
  return 0;
}



/*
 * Function: FUN_0045bb10
 * Address: 0045bb10
 */

undefined4 FUN_0045bb10(void)

{
  return 0;
}



/*
 * Function: FUN_0045bb20
 * Address: 0045bb20
 */

undefined4 __fastcall FUN_0045bb20(void *param_1)

{
  byte bVar1;
  short sVar2;
  ushort uVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  int iVar5;
  uint uVar6;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar7;
  long lVar8;
  int iVar9;
  int iVar10;
  bool bVar11;
  long lVar12;
  long lVar13;
  RKC_RPGSCRN_RECT *pRVar14;
  int *piVar15;
  short *psVar16;
  short *psVar17;
  short *psVar18;
  long lVar19;
  long lVar20;
  RKC_RPGSCRN_RECT *pRVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  int iStack_10;
  undefined4 uStack_c;
  int iStack_8;
  undefined4 uStack_4;
  
  bVar1 = 0;
  bVar11 = false;
  if (*(int *)((int)param_1 + 0x1e8) == 0) {
    *(undefined4 *)((int)param_1 + 0x1e8) = 0;
    *(undefined4 *)((int)param_1 + 0x254) = 1;
    *(undefined4 *)((int)param_1 + 500) = 10;
  }
  if (*(int *)((int)param_1 + 0x27c) == 0) {
    *(undefined4 *)((int)param_1 + 0x1e8) = 0;
    *(undefined4 *)((int)param_1 + 0x27c) = 1;
  }
  if (*(int *)((int)param_1 + 0x14) == 0) {
    *(undefined4 *)((int)param_1 + 0x1e8) = 0;
    iVar5 = 0;
    *(undefined4 *)((int)param_1 + 0x27c) = 1;
  }
  else {
    lVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,2);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)((int)param_1 + 0x10));
    iVar10 = (int)sVar2;
    this_01 = RKC_RPGSCRN_CHARANIMCHART::Get(this_00,*(long *)((int)param_1 + 0x10),0);
    if ((this_01 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
       (this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get
                            (this_01,*(int *)((int)param_1 + 0x1e8) % iVar10),
       this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) {
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      bVar11 = (uVar3 & 0x400) != 0;
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      bVar1 = bVar11;
      if ((uVar3 & 0x800) != 0) {
        bVar1 = 2;
      }
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
      if ((uVar3 & 0x1000) != 0) {
        bVar1 = bVar1 | 4;
      }
    }
    if (bVar11) {
      FUN_0045a2a0(param_1,2,0);
    }
    if ((bVar1 & 2) != 0) {
      FUN_0045a2a0(param_1,2,1);
    }
    if ((bVar1 & 4) != 0) {
      FUN_0045a2a0(param_1,2,2);
    }
    iVar5 = (*(int *)((int)param_1 + 0x1e8) * iVar10) / *(int *)((int)param_1 + 0x27c);
    if (*(int *)((int)param_1 + 0x1e8) == *(int *)((int)param_1 + 0x27c) + -1) {
      iVar5 = iVar10 + -1;
    }
  }
  if (((*(int *)((int)param_1 + 0x328) == 0) &&
      (iVar10 = ((*(int *)((int)param_1 + 0x27c) - *(int *)((int)param_1 + 0x1e8)) * 0x78) /
                *(int *)((int)param_1 + 0x27c), iVar10 != 0)) &&
     (*(int *)((int)param_1 + 0x348) == 0)) {
    piVar15 = (int *)((int)param_1 + 0x18);
    FUN_004140a0(piVar15,*(double *)((int)param_1 + 0x330),iVar10,&iStack_8);
    iStack_10 = iStack_8;
    uStack_c = uStack_4;
    FUN_00414990(*(int *)((int)param_1 + 0x5c),*(int *)((int)param_1 + 4),piVar15,
                 (int *)((int)param_1 + 0x20),&iStack_8,&iStack_10,0,0,0xff,0);
    *piVar15 = iStack_10;
    *(undefined4 *)((int)param_1 + 0x1c) = uStack_c;
  }
  iVar10 = FUN_00456210(DAT_0048ce04);
  if (((iVar10 == *(int *)((int)param_1 + 0x5c)) && (*(int *)((int)param_1 + 0xb8) == 1)) &&
     (*(int *)((int)param_1 + 0x14) != 0)) {
    if (*(int *)((int)param_1 + 0x344) == 2) {
      uVar6 = *(uint *)((int)param_1 + 0x338) & 0x80000001;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
      }
      lVar4 = *(long *)((int)param_1 + 4);
      psVar17 = *(short **)((int)param_1 + 0x44);
      lVar24 = 1000;
      lVar23 = 1000;
      iVar5 = (-(uint)(uVar6 != 0) & 2) - 1;
      lVar22 = 1000;
      pRVar21 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
      lVar20 = 1000;
      psVar18 = *(short **)((int)param_1 + 0x48);
      lVar19 = 0x4000;
      psVar16 = *(short **)((int)param_1 + 0x40);
      piVar15 = *(int **)((int)param_1 + 0x3c);
      pRVar14 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
      iVar9 = *(int *)((int)param_1 + 0x1c) + iVar5 * -10;
      iVar10 = *(int *)((int)param_1 + 0x18) + iVar5 * 10;
      iVar5 = 0;
    }
    else {
      uVar6 = *(uint *)((int)param_1 + 0x338) & 0x80000001;
      if ((int)uVar6 < 0) {
        uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
      }
      lVar4 = *(long *)((int)param_1 + 4);
      psVar17 = *(short **)((int)param_1 + 0x44);
      lVar24 = 1000;
      lVar23 = 1000;
      iVar10 = (-(uint)(uVar6 != 0) & 2) - 1;
      lVar22 = 1000;
      pRVar21 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
      lVar20 = 1000;
      psVar18 = *(short **)((int)param_1 + 0x48);
      lVar19 = 0;
      psVar16 = *(short **)((int)param_1 + 0x40);
      piVar15 = *(int **)((int)param_1 + 0x3c);
      pRVar14 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
      iVar9 = *(int *)((int)param_1 + 0x1c) + iVar10 * -10;
      iVar10 = *(int *)((int)param_1 + 0x18) + iVar10 * 10;
    }
    lVar13 = *(long *)((int)param_1 + 0x10);
    lVar12 = 2;
    lVar8 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar8,lVar12,lVar13,iVar5,iVar10,iVar9,sVar2,pRVar7,pRVar14,piVar15,
               psVar16,psVar17,psVar18,lVar4,lVar19,lVar20,pRVar21,lVar22,lVar23,lVar24);
  }
  if ((*(int *)((int)param_1 + 0x1e8) == *(int *)((int)param_1 + 0x27c) + -1) ||
     (*(int *)((int)param_1 + 0x14) == 0)) {
    *(undefined4 *)((int)param_1 + 0x254) = 0;
    *(undefined4 *)((int)param_1 + 500) = 7;
    if (*(int *)((int)param_1 + 0x204) == -1) {
      *(undefined4 *)((int)param_1 + 0x204) = 0x10;
    }
  }
  *(int *)((int)param_1 + 0x1e8) = *(int *)((int)param_1 + 0x1e8) + 1;
  if (*(int *)((int)param_1 + 0x348) != 0) {
    *(int *)((int)param_1 + 0x348) = *(int *)((int)param_1 + 0x348) + -1;
  }
  return 0;
}



/*
 * Function: FUN_0045bec0
 * Address: 0045bec0
 */

undefined4 __fastcall FUN_0045bec0(int *param_1)

{
  byte bVar1;
  short sVar2;
  ushort uVar3;
  uint uVar4;
  void *pvVar5;
  long lVar6;
  RKC_RPGSCRN_CHARANIM *pRVar7;
  RKC_RPGSCRN_CHARANIMCHART *pRVar8;
  int iVar9;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  int iVar10;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  int iVar12;
  long lVar13;
  bool bVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  long lVar18;
  undefined4 uVar19;
  int iVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 *puVar25;
  int *piVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  undefined4 uVar28;
  undefined4 *puVar29;
  short *psVar30;
  short *psVar31;
  undefined4 uVar32;
  short *psVar33;
  undefined4 uVar34;
  int iVar35;
  undefined4 uVar36;
  undefined4 uVar37;
  undefined4 uVar38;
  RKC_RPGSCRN_RECT *pRVar39;
  undefined4 uVar40;
  long lVar41;
  undefined4 uVar42;
  long lVar43;
  undefined4 uVar44;
  int iVar45;
  long lVar46;
  int iStack_34;
  int local_30 [3];
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  bVar1 = 0;
  bVar14 = false;
  if (param_1[0x7a] == 0) {
    param_1[0x95] = 1;
    param_1[0x7d] = 0xb;
    param_1[0xaa] = 1000;
    param_1[0xd2] = 0;
    if (DAT_00482db0 == 1) {
      local_30[1] = 1;
      local_30[0] = FUN_00456230(param_1[0x17]);
      local_8 = param_1[6];
      local_4 = param_1[7];
      local_30[2] = param_1[1];
      local_24 = param_1[0xa8];
      local_c = param_1[0xa7];
      local_18 = param_1[0xa3];
      local_20 = param_1[0xa9];
      local_1c = param_1[0xa2];
      local_14 = param_1[0xa4];
      local_10 = param_1[0xa5];
      FUN_0041c4e0(local_30);
    }
    if (DAT_00482db0 != 2) {
      FUN_0045a000((int)param_1);
      FUN_0045a030((int)param_1);
    }
    param_1[0x96] = 1;
    if (param_1[5] != 0) {
      uVar44 = 0;
      uVar42 = 200;
      uVar40 = 0;
      uVar38 = 0;
      uVar37 = 0;
      uVar36 = 0;
      uVar34 = 0;
      uVar32 = 0xffffffff;
      uVar4 = _rand();
      uVar4 = uVar4 & 0x80000007;
      if ((int)uVar4 < 0) {
        uVar4 = (uVar4 - 1 | 0xfffffff8) + 1;
      }
      puVar29 = (undefined4 *)0x0;
      piVar26 = param_1 + 8;
      iVar9 = param_1[1];
      uVar28 = 0;
      puVar25 = (undefined4 *)0x0;
      uVar24 = 0;
      uVar23 = 0;
      uVar22 = 0;
      uVar21 = 0;
      uVar19 = 0;
      uVar17 = 0;
      uVar16 = 4;
      uVar15 = 0x5212;
      pvVar5 = (void *)FUN_00466420(param_1[0x17]);
      FUN_0042fdc0(pvVar5,uVar15,uVar16,iVar9,uVar17,uVar19,uVar21,uVar22,uVar23,uVar24,puVar25,
                   piVar26,uVar28,puVar29,uVar4,uVar32,uVar34,uVar36,uVar37,uVar38,uVar40,uVar42,
                   uVar44);
    }
  }
  if (param_1[5] != 0) {
    lVar6 = FUN_004663a0(param_1[5]);
    pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
    pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,3);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
    if (sVar2 != 0) {
      param_1[4] = 8;
    }
  }
  if ((((param_1[0x7a] == 1) && (param_1[5] != 0)) && (iVar9 = FUN_00434cd0(param_1[5]), -1 < iVar9)
      ) && (iVar9 = FUN_00434cd0(param_1[5]), -1 < *(int *)(&DAT_004815d8 + iVar9 * 4))) {
    iVar45 = 0;
    iVar9 = FUN_00434cd0(param_1[5]);
    FUN_00453c60(param_1,0,*(long *)(&DAT_004815d8 + iVar9 * 4),iVar45);
  }
  if (param_1[5] == 0) {
    iStack_34 = 1;
    param_1[0x9f] = 1;
  }
  else {
    lVar6 = FUN_004663a0(param_1[5]);
    pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
    pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,3);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,param_1[4]);
    iStack_34 = (int)sVar2;
    this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar8,param_1[4],0);
    if ((this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
       (this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,param_1[0x7a]),
       this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) {
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00);
      bVar14 = (uVar3 & 0x400) != 0;
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00);
      bVar1 = bVar14;
      if ((uVar3 & 0x800) != 0) {
        bVar1 = 2;
      }
      uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00);
      if ((uVar3 & 0x1000) != 0) {
        bVar1 = bVar1 | 4;
      }
    }
    if (bVar14) {
      FUN_0045a2a0(param_1,3,0);
    }
    if ((bVar1 & 2) != 0) {
      FUN_0045a2a0(param_1,3,1);
    }
    if ((bVar1 & 4) != 0) {
      FUN_0045a2a0(param_1,3,2);
    }
  }
  iVar9 = param_1[0x17];
  iVar45 = FUN_00456210(DAT_0048ce04);
  if ((iVar45 == iVar9) && (param_1[0x2e] == 1)) {
    iVar45 = param_1[1];
    pvVar5 = (void *)FUN_00466410(iVar9);
    iVar9 = FUN_00430770(pvVar5,iVar45);
    if (*(int *)(iVar9 + 4) != 0) {
      lVar6 = 0;
      if (param_1[0xd1] == 2) {
        lVar6 = 0x4000;
      }
      iVar9 = param_1[0x7a];
      if (iStack_34 + -1 <= iVar9) {
        param_1[0xaa] = (((iStack_34 - iVar9) + 0x77) * 1000) / 0x78;
        iVar9 = iStack_34 + -1;
      }
      if (param_1[0xaa] < 0) {
        param_1[0xaa] = 0;
      }
      if (param_1[5] != 0) {
        uVar4 = param_1[0xce] & 0x80000001;
        if ((int)uVar4 < 0) {
          uVar4 = (uVar4 - 1 | 0xfffffffe) + 1;
        }
        iVar45 = param_1[0xaa];
        psVar33 = (short *)param_1[0x12];
        lVar46 = 1000;
        lVar43 = 1000;
        iVar10 = (-(uint)(uVar4 != 0) & 2) - 1;
        lVar41 = 1000;
        pRVar39 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
        psVar31 = (short *)param_1[0x11];
        iVar35 = param_1[1];
        psVar30 = (short *)param_1[0x10];
        piVar26 = (int *)param_1[0xf];
        pRVar27 = (RKC_RPGSCRN_RECT *)(param_1 + 8);
        pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        sVar2 = RKC_RPGSCRN_OBJECT::GetHeight((RKC_RPGSCRN_OBJECT *)param_1[0x16]);
        iVar20 = param_1[4];
        iVar12 = param_1[7] + iVar10 * -10;
        iVar10 = param_1[6] + iVar10 * 10;
        lVar18 = 3;
        lVar13 = FUN_004663a0(param_1[5]);
        RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                  (DAT_00482d20,lVar13,lVar18,iVar20,iVar9,iVar10,iVar12,sVar2,pRVar11,pRVar27,
                   piVar26,psVar30,psVar31,psVar33,iVar35,lVar6,iVar45,pRVar39,lVar41,lVar43,lVar46)
        ;
      }
    }
  }
  if ((iStack_34 + 0x77 <= param_1[0x7a]) || (param_1[5] == 0)) {
    iVar9 = param_1[1];
    pvVar5 = (void *)FUN_00466410(param_1[0x17]);
    iVar9 = FUN_00430770(pvVar5,iVar9);
    if (*(int *)(iVar9 + 4) != 0) {
      (**(code **)(*param_1 + 0xc))();
      iVar9 = param_1[1];
      uVar32 = 0;
      pvVar5 = (void *)FUN_00466410(param_1[0x17]);
      FUN_00430750(pvVar5,iVar9,uVar32);
      iVar9 = param_1[1];
      uVar32 = 0xffffffff;
      FUN_00466410(param_1[0x17]);
      FUN_004309a0(uVar32,iVar9);
    }
  }
  if (param_1[5] != 0) {
    lVar6 = FUN_004663a0(param_1[5]);
    pRVar7 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
    pRVar8 = RKC_RPGSCRN_CHARANIM::Get(pRVar7,3);
    sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar8,8);
    if (sVar2 != 0) {
      param_1[4] = 0;
    }
  }
  param_1[0x7a] = param_1[0x7a] + 1;
  return 0;
}



/*
 * Function: FUN_0045c350
 * Address: 0045c350
 */

void __fastcall FUN_0045c350(int param_1)

{
  RKC_RPG_AIPARAM *pRVar1;
  
  if (*(int *)(param_1 + 0x1fc) != 0) {
    *(undefined4 *)(param_1 + 0x208) = 0;
    *(undefined4 *)(param_1 + 0x1fc) = 0;
    if (*(int *)(param_1 + 500) != 7) {
      *(undefined4 *)(param_1 + 0x1f8) = 7;
    }
  }
  pRVar1 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)(param_1 + 0x20c));
  if (*(int *)(pRVar1 + 4) <= *(int *)(param_1 + 0x208)) {
    *(undefined4 *)(param_1 + 0x204) = 0;
    return;
  }
  *(undefined4 *)(param_1 + 0x204) = 0xb;
  return;
}



/*
 * Function: FUN_0045c3c0
 * Address: 0045c3c0
 */

void __fastcall FUN_0045c3c0(int param_1)

{
  RKC_RPG_AIDATA *this;
  double dVar1;
  RKC_RPG_AIPARAM *pRVar2;
  RKC_RPG_AIPARAM *pRVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  
  if (*(int *)(param_1 + 0x1fc) == 1) {
    if (*(int *)(param_1 + 500) != 8) {
      pRVar2 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)(param_1 + 0x20c));
      if (*(int *)(param_1 + 0x278) < *(int *)(pRVar2 + 0x10)) {
        pRVar2 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)(param_1 + 0x20c));
        *(undefined4 *)(param_1 + 0x278) = *(undefined4 *)(pRVar2 + 0x10);
      }
    }
  }
  else {
    *(undefined4 *)(param_1 + 0x1fc) = 1;
    *(int *)(param_1 + 0x268) = *(int *)(param_1 + 0xc4) + *(int *)(param_1 + 0x18);
    *(undefined4 *)(param_1 + 0x208) = 0;
    *(int *)(param_1 + 0x26c) = *(int *)(param_1 + 200) + *(int *)(param_1 + 0x1c);
    *(int *)(param_1 + 0x270) = *(int *)(param_1 + 0xcc) + *(int *)(param_1 + 0x18);
    *(int *)(param_1 + 0x274) = *(int *)(param_1 + 0xd0) + *(int *)(param_1 + 0x1c);
    pRVar2 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)(param_1 + 0x20c));
    pRVar3 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)(param_1 + 0x20c));
    *(int *)(param_1 + 0x278) = *(int *)(pRVar2 + 0x14) + *(int *)(pRVar3 + 0x10);
  }
  this = (RKC_RPG_AIDATA *)(param_1 + 0x20c);
  pRVar2 = RKC_RPG_AIDATA::GetParameter(this);
  pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
  if (*(int *)(param_1 + 0x278) == *(int *)(pRVar2 + 0x14) + *(int *)(pRVar3 + 0x10)) {
    uVar11 = 0;
    uVar10 = 0;
    uVar9 = 1;
    pRVar2 = RKC_RPG_AIDATA::GetParameter(this);
    uVar8 = *(undefined4 *)(pRVar2 + 0x10);
    puVar7 = (undefined4 *)(param_1 + 0x268);
    uVar6 = 0;
    uVar5 = 0;
    uVar4 = 3;
    pRVar2 = RKC_RPG_AIDATA::GetParameter(this);
    dVar1 = (double)((*(int *)(pRVar2 + 0xc) * *(int *)(param_1 + 0x1dc)) / 1000);
    FUN_00454210((void *)(param_1 + 0x2b0),*(undefined4 *)(param_1 + 0x5c),
                 *(undefined4 *)(param_1 + 4),(undefined4 *)(param_1 + 0x18),(undefined4 *)0x0,
                 (undefined4 *)(param_1 + 0x20),SUB84(dVar1,0),(int)((ulonglong)dVar1 >> 0x20),uVar4
                 ,uVar5,uVar6,puVar7,uVar8,uVar9,uVar10,uVar11);
    if (*(int *)(param_1 + 500) != 8) {
      *(undefined4 *)(param_1 + 0x1f8) = 8;
    }
    *(undefined4 *)(param_1 + 0x278) = 0;
  }
  pRVar2 = RKC_RPG_AIDATA::GetParameter(this);
  if (*(int *)(pRVar2 + 4) <= *(int *)(param_1 + 0x208)) {
    *(undefined4 *)(param_1 + 0x204) = 1;
    return;
  }
  *(undefined4 *)(param_1 + 0x204) = 0xc;
  return;
}



/*
 * Function: FUN_0045c560
 * Address: 0045c560
 */

void __thiscall FUN_0045c560(void *this,int param_1)

{
  if (*(int *)((int)this + 0x1fc) != param_1 + 2) {
    *(undefined4 *)((int)this + 0x208) = 0;
    *(int *)((int)this + 0x1fc) = param_1 + 2;
    *(undefined4 *)((int)this + 500) = 0;
    *(int *)((int)this + 0x1f8) = param_1 + 1;
  }
  return;
}



/*
 * Function: FUN_0045c5a0
 * Address: 0045c5a0
 */

void __thiscall FUN_0045c5a0(void *this,int param_1)

{
  if (*(int *)((int)this + 0x1fc) != param_1 + 5) {
    *(undefined4 *)((int)this + 0x208) = 0;
    *(int *)((int)this + 0x1fc) = param_1 + 5;
    *(undefined4 *)((int)this + 500) = 0;
    *(int *)((int)this + 0x1f8) = param_1 + 4;
  }
  return;
}



/*
 * Function: FUN_0045c5e0
 * Address: 0045c5e0
 */

void __fastcall FUN_0045c5e0(int param_1)

{
  if (*(int *)(param_1 + 0x1fc) != 8) {
    *(undefined4 *)(param_1 + 0x208) = 0;
    *(undefined4 *)(param_1 + 0x1fc) = 8;
  }
  return;
}



/*
 * Function: FUN_0045c600
 * Address: 0045c600
 */

void __fastcall FUN_0045c600(void *param_1)

{
  RKC_RPG_AIDATA *this;
  double dVar1;
  RKC_RPG_AICONDITION *pRVar2;
  RKC_RPG_AIPARAM *pRVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  int iVar10;
  undefined4 uVar11;
  int iVar12;
  undefined4 uVar13;
  int local_c;
  undefined4 local_8;
  
  if (*(int *)((int)param_1 + 0x1fc) == 9) {
    if (*(int *)((int)param_1 + 500) != 8) {
      *(undefined4 *)((int)param_1 + 0x204) = 9;
      return;
    }
  }
  else {
    *(undefined4 *)((int)param_1 + 0x1fc) = 9;
    this = (RKC_RPG_AIDATA *)((int)param_1 + 0x20c);
    *(undefined4 *)((int)param_1 + 0x208) = 0;
    pRVar2 = RKC_RPG_AIDATA::GetCondition(this);
    iVar12 = 1;
    if (*(int *)(pRVar2 + 0xc) == 1) {
      pRVar2 = RKC_RPG_AIDATA::GetCondition(this);
      iVar10 = *(int *)(pRVar2 + 0x14);
      pRVar2 = RKC_RPG_AIDATA::GetCondition(this);
      iVar12 = FUN_00459500(param_1,&local_c,*(int *)(pRVar2 + 0x10),iVar10,iVar12);
    }
    else {
      uVar4 = FUN_004593f0(param_1,&local_c,1);
      iVar12 = (int)uVar4;
    }
    if (iVar12 != 1) {
      *(undefined4 *)((int)param_1 + 0x204) = 9;
      return;
    }
    *(int *)((int)param_1 + 0x280) = local_c;
    *(undefined4 *)((int)param_1 + 0x284) = local_8;
    iVar12 = (-(uint)(local_c != 0) & 0xfffffffd) + 5;
    pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
    uVar13 = *(undefined4 *)(pRVar3 + 0x1c);
    pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
    uVar11 = *(undefined4 *)(pRVar3 + 0x20);
    uVar5 = *(undefined4 *)((int)param_1 + 0x284);
    uVar9 = 1;
    uVar8 = 0;
    puVar7 = (undefined4 *)0x0;
    uVar6 = 10000;
    pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
    dVar1 = (double)((*(int *)(pRVar3 + 0xc) * *(int *)((int)param_1 + 0x1dc)) / 1000);
    FUN_00454210((void *)((int)param_1 + 0x2b0),*(undefined4 *)((int)param_1 + 0x5c),
                 *(undefined4 *)((int)param_1 + 4),(undefined4 *)((int)param_1 + 0x18),
                 (undefined4 *)0x0,(undefined4 *)((int)param_1 + 0x20),SUB84(dVar1,0),
                 (int)((ulonglong)dVar1 >> 0x20),iVar12,uVar5,uVar6,puVar7,uVar8,uVar9,uVar11,uVar13
                );
    if (*(int *)((int)param_1 + 500) != 8) {
      *(undefined4 *)((int)param_1 + 0x1f8) = 8;
    }
  }
  pRVar3 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)((int)param_1 + 0x20c));
  if (*(int *)(pRVar3 + 4) <= *(int *)((int)param_1 + 0x208)) {
    *(undefined4 *)((int)param_1 + 0x204) = 9;
    return;
  }
  *(undefined4 *)((int)param_1 + 0x204) = 0xe;
  return;
}



/*
 * Function: FUN_0045c780
 * Address: 0045c780
 */

void __fastcall FUN_0045c780(void *param_1)

{
  RKC_RPG_AIDATA *this;
  double dVar1;
  RKC_RPG_AICONDITION *pRVar2;
  RKC_RPG_AIPARAM *pRVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  int iVar10;
  undefined4 uVar11;
  int iVar12;
  undefined4 uVar13;
  int local_c;
  undefined4 local_8;
  
  if (*(int *)((int)param_1 + 0x1fc) == 10) {
    if (*(int *)((int)param_1 + 500) != 8) {
      *(undefined4 *)((int)param_1 + 0x204) = 10;
      return;
    }
  }
  else {
    *(undefined4 *)((int)param_1 + 0x1fc) = 10;
    this = (RKC_RPG_AIDATA *)((int)param_1 + 0x20c);
    *(undefined4 *)((int)param_1 + 0x208) = 0;
    pRVar2 = RKC_RPG_AIDATA::GetCondition(this);
    iVar12 = 1;
    if (*(int *)(pRVar2 + 0xc) == 1) {
      pRVar2 = RKC_RPG_AIDATA::GetCondition(this);
      iVar10 = *(int *)(pRVar2 + 0x14);
      pRVar2 = RKC_RPG_AIDATA::GetCondition(this);
      iVar12 = FUN_00459500(param_1,&local_c,*(int *)(pRVar2 + 0x10),iVar10,iVar12);
    }
    else {
      uVar4 = FUN_004593f0(param_1,&local_c,1);
      iVar12 = (int)uVar4;
    }
    if (iVar12 != 1) {
      *(undefined4 *)((int)param_1 + 0x204) = 10;
      return;
    }
    *(int *)((int)param_1 + 0x280) = local_c;
    *(undefined4 *)((int)param_1 + 0x284) = local_8;
    iVar12 = (-(uint)(local_c != 0) & 0xfffffffd) + 4;
    pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
    uVar13 = *(undefined4 *)(pRVar3 + 0x1c);
    pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
    uVar11 = *(undefined4 *)(pRVar3 + 0x20);
    uVar5 = *(undefined4 *)((int)param_1 + 0x284);
    uVar9 = 1;
    uVar8 = 0;
    puVar7 = (undefined4 *)0x0;
    uVar6 = 0;
    pRVar3 = RKC_RPG_AIDATA::GetParameter(this);
    dVar1 = (double)((*(int *)(pRVar3 + 0xc) * *(int *)((int)param_1 + 0x1dc)) / 1000);
    FUN_00454210((void *)((int)param_1 + 0x2b0),*(undefined4 *)((int)param_1 + 0x5c),
                 *(undefined4 *)((int)param_1 + 4),(undefined4 *)((int)param_1 + 0x18),
                 (undefined4 *)0x0,(undefined4 *)((int)param_1 + 0x20),SUB84(dVar1,0),
                 (int)((ulonglong)dVar1 >> 0x20),iVar12,uVar5,uVar6,puVar7,uVar8,uVar9,uVar11,uVar13
                );
    if (*(int *)((int)param_1 + 500) != 8) {
      *(undefined4 *)((int)param_1 + 0x1f8) = 8;
    }
  }
  pRVar3 = RKC_RPG_AIDATA::GetParameter((RKC_RPG_AIDATA *)((int)param_1 + 0x20c));
  if (*(int *)(pRVar3 + 4) <= *(int *)((int)param_1 + 0x208)) {
    *(undefined4 *)((int)param_1 + 0x204) = 10;
    return;
  }
  *(undefined4 *)((int)param_1 + 0x204) = 0xf;
  return;
}



/*
 * Function: FUN_0045c900
 * Address: 0045c900
 */

void __fastcall FUN_0045c900(int param_1)

{
  double dVar1;
  RKC_RPG_AILIST *this;
  long lVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  
  if (*(int *)(param_1 + 0x1fc) == 0xb) {
    if (*(int *)(param_1 + 500) != 8) {
      *(undefined4 *)(param_1 + 0x204) = 0;
      return;
    }
  }
  else {
    *(undefined4 *)(param_1 + 0x1fc) = 0xb;
    *(undefined4 *)(param_1 + 0x208) = 0;
    this = RKC_RPG_AICONTROL::Get(DAT_0048ce18,*(long *)(param_1 + 0x1a4));
    uVar10 = 0;
    uVar9 = 0;
    uVar8 = 0;
    uVar7 = 0;
    puVar6 = (undefined4 *)0x0;
    uVar5 = 0x96;
    uVar4 = 0;
    uVar3 = 0;
    lVar2 = RKC_RPG_AILIST::GetWalkPointSpeed(this);
    dVar1 = (double)((lVar2 * *(int *)(param_1 + 0x1dc)) / 1000);
    FUN_00454210((void *)(param_1 + 0x2b0),*(undefined4 *)(param_1 + 0x5c),
                 *(undefined4 *)(param_1 + 4),(undefined4 *)(param_1 + 0x18),
                 (undefined4 *)(param_1 + 0x33c),(undefined4 *)(param_1 + 0x20),SUB84(dVar1,0),
                 (int)((ulonglong)dVar1 >> 0x20),uVar3,uVar4,uVar5,puVar6,uVar7,uVar8,uVar9,uVar10);
    if (*(int *)(param_1 + 500) != 8) {
      *(undefined4 *)(param_1 + 0x1f8) = 8;
    }
  }
  if (0x5a < *(int *)(param_1 + 0x208)) {
    *(undefined4 *)(param_1 + 0x204) = 0;
    return;
  }
  *(undefined4 *)(param_1 + 0x204) = 0xffffffff;
  return;
}



/*
 * Function: FUN_0045c9f0
 * Address: 0045c9f0
 */

void __thiscall FUN_0045c9f0(void *this,int param_1)

{
  bool bVar1;
  RKC_RPG_AILIST *this_00;
  RKC_RPG_AIEVENT *this_01;
  long lVar2;
  RKC_RPG_AIDATA *pRVar3;
  RKC_RPG_AICONDITION *pRVar4;
  int iVar5;
  RKC_RPG_AIPARAM *pRVar6;
  RKC_RPG_AIDATA *this_02;
  int iVar7;
  int iStack_30;
  int iStack_2c;
  RKC_RPG_AIEVENT local_20 [8];
  undefined4 auStack_18 [3];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472359;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPG_AIEVENT::RKC_RPG_AIEVENT(local_20);
  uStack_4 = 0;
  if (param_1 == -1) {
    uStack_4 = 0xffffffff;
    RKC_RPG_AIEVENT::~RKC_RPG_AIEVENT(local_20);
    ExceptionList = pvStack_c;
    return;
  }
  this_00 = RKC_RPG_AICONTROL::Get(DAT_0048ce18,*(long *)((int)this + 0x1a4));
  if (this_00 == (RKC_RPG_AILIST *)0x0) {
    uStack_4 = 0xffffffff;
    RKC_RPG_AIEVENT::~RKC_RPG_AIEVENT(local_20);
    ExceptionList = pvStack_c;
    return;
  }
  this_01 = RKC_RPG_AILIST::Get(this_00,param_1);
  if (this_01 == (RKC_RPG_AIEVENT *)0x0) {
    uStack_4 = 0xffffffff;
    RKC_RPG_AIEVENT::~RKC_RPG_AIEVENT(local_20);
    ExceptionList = pvStack_c;
    return;
  }
  iStack_30 = -1;
  lVar2 = RKC_RPG_AIEVENT::GetCount(this_01);
  iStack_2c = 0;
  if (0 < lVar2) {
    do {
      pRVar3 = RKC_RPG_AIEVENT::Get(this_01,iStack_2c);
      if (pRVar3 != (RKC_RPG_AIDATA *)0x0) {
        bVar1 = true;
        pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3);
        if (*(int *)(pRVar4 + 0xc) == 1) {
          iVar7 = 1;
          pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3);
          iVar5 = *(int *)(pRVar4 + 0x14);
          pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3);
          iVar5 = FUN_00459500(this,auStack_18,*(int *)(pRVar4 + 0x10),iVar5,iVar7);
          if (iVar5 != 1) {
            bVar1 = false;
          }
        }
        pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3);
        if (*(int *)pRVar4 == 1) {
          pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3);
          if ((*(int *)(pRVar4 + 4) != -1) &&
             (pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3),
             (*(int *)((int)this + 0xd4) * 100) / *(int *)((int)this + 0xe4) < *(int *)(pRVar4 + 4))
             ) {
            bVar1 = false;
          }
          pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3);
          if ((*(int *)(pRVar4 + 8) != -1) &&
             (pRVar4 = RKC_RPG_AIDATA::GetCondition(pRVar3),
             *(int *)(pRVar4 + 8) < (*(int *)((int)this + 0xd4) * 100) / *(int *)((int)this + 0xe4))
             ) goto LAB_0045cbd2;
        }
        if (bVar1) {
          pRVar6 = RKC_RPG_AIDATA::GetParameter(pRVar3);
          if (iStack_30 < *(int *)pRVar6) {
            RKC_RPG_AIEVENT::Release(local_20);
            pRVar6 = RKC_RPG_AIDATA::GetParameter(pRVar3);
            iStack_30 = *(int *)pRVar6;
          }
          this_02 = RKC_RPG_AIEVENT::Insert(local_20,0,(RKC_RPG_AIDATA *)0x0);
          RKC_RPG_AIDATA::Copy(this_02,pRVar3);
        }
      }
LAB_0045cbd2:
      iStack_2c = iStack_2c + 1;
    } while (iStack_2c < lVar2);
  }
  iVar7 = 0;
  lVar2 = RKC_RPG_AIEVENT::GetCount(local_20);
  iVar5 = 0;
  if (0 < lVar2) {
    do {
      pRVar3 = RKC_RPG_AIEVENT::Get(local_20,iVar5);
      pRVar6 = RKC_RPG_AIDATA::GetParameter(pRVar3);
      iVar7 = iVar7 + *(int *)(pRVar6 + 8);
      iVar5 = iVar5 + 1;
    } while (iVar5 < lVar2);
    if (iVar7 != 0) {
      iStack_2c = _rand();
      iStack_2c = iStack_2c % iVar7;
      goto LAB_0045cc32;
    }
  }
  iStack_2c = -1;
LAB_0045cc32:
  iVar7 = 0;
  lVar2 = RKC_RPG_AIEVENT::GetCount(local_20);
  iVar5 = 0;
  if (0 < lVar2) {
    do {
      pRVar3 = RKC_RPG_AIEVENT::Get(local_20,iVar5);
      if (pRVar3 != (RKC_RPG_AIDATA *)0x0) {
        pRVar6 = RKC_RPG_AIDATA::GetParameter(pRVar3);
        iVar7 = iVar7 + *(int *)(pRVar6 + 8);
        if (iStack_2c < iVar7) {
          *(undefined4 *)((int)this + 0x1fc) = 0xffffffff;
          lVar2 = RKC_RPG_AIDATA::GetActionNo(pRVar3);
          *(long *)((int)this + 0x200) = lVar2;
          RKC_RPG_AIDATA::Copy((RKC_RPG_AIDATA *)((int)this + 0x20c),pRVar3);
          break;
        }
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < lVar2);
  }
  if (*(int *)((int)this + 0x200) == -1) {
    switch(param_1) {
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 0x10:
    case 0x11:
      FUN_0045c9f0(this,0);
    }
  }
  else {
    *(undefined4 *)((int)this + 0x204) = 0xffffffff;
  }
  uStack_4 = 0xffffffff;
  RKC_RPG_AIEVENT::~RKC_RPG_AIEVENT(local_20);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_0045ce90
 * Address: 0045ce90
 */

undefined4 __fastcall FUN_0045ce90(int param_1)

{
  RKC_NETWORK_SERVER *this;
  int iVar1;
  int iVar2;
  RKC_NETWORK_SERVER_CONNECTION *this_00;
  int iVar3;
  RKC_MEMORY local_2c [8];
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472379;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_MEMORY::RKC_MEMORY(local_2c);
  uStack_4 = 0;
  if (DAT_00482db0 == 1) {
    this = RKC_NETWORK::GetServer(DAT_00482d24);
    iVar1 = FUN_00434c60(DAT_0048ce0c,0);
    *(int *)(param_1 + 0x1e4) = *(int *)(param_1 + 0x1e4) + 1;
    uStack_24 = FUN_00456230(*(int *)(param_1 + 0x5c));
    uStack_18 = *(undefined4 *)(param_1 + 0x10);
    uStack_14 = *(undefined4 *)(param_1 + 0x18);
    uStack_20 = *(undefined4 *)(param_1 + 4);
    uStack_10 = *(undefined4 *)(param_1 + 0x1c);
    uStack_1c = *(undefined4 *)(param_1 + 0x1e4);
    iVar3 = 1;
    if (1 < iVar1) {
      do {
        iVar2 = FUN_00434c90(DAT_0048ce0c,iVar3);
        if (((iVar2 != 0) && (*(int *)(iVar2 + 0x2d8) == 1)) &&
           (this_00 = RKC_NETWORK_SERVER::GetConnection
                                (this,*(long *)(iVar2 + 8),(RKC_NETWORK_IP *)0x0,-1),
           this_00 != (RKC_NETWORK_SERVER_CONNECTION *)0x0)) {
          RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(this_00,0,0x18,0x24,&uStack_24,-1,0,0);
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < iVar1);
    }
    uStack_4 = 0xffffffff;
    RKC_MEMORY::~RKC_MEMORY(local_2c);
    ExceptionList = pvStack_c;
    return 1;
  }
  uStack_4 = 0xffffffff;
  RKC_MEMORY::~RKC_MEMORY(local_2c);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_0045cfe0
 * Address: 0045cfe0
 */

undefined4 __thiscall FUN_0045cfe0(void *this,RKC_NETWORK_PACKET *param_1)

{
  void *pvVar1;
  
  pvVar1 = RKC_NETWORK_PACKET::GetData(param_1);
  FUN_0045a140(this,(int *)((int)pvVar1 + 0x10),*(int *)((int)pvVar1 + 0xc));
  *(undefined4 *)((int)this + 0x1e4) = *(undefined4 *)((int)pvVar1 + 8);
  return 1;
}



/*
 * Function: FUN_0045d020
 * Address: 0045d020
 */

undefined4 * __fastcall FUN_0045d020(undefined4 *param_1)

{
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00472398;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  FUN_00453960(param_1);
  local_4 = 0;
  FUN_00403550(param_1 + 0x42);
  param_1[0x3b] = 0;
  param_1[0x3f] = 0;
  param_1[0x3c] = 1;
  param_1[0x3d] = 0;
  param_1[0x3e] = 0;
  param_1[0x40] = 1;
  *param_1 = &PTR_FUN_00476dc0;
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: FUN_0045d0a0
 * Address: 0045d0a0
 */

undefined4 * __thiscall FUN_0045d0a0(void *this,byte param_1)

{
  FUN_0045d0c0((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_0045d0c0
 * Address: 0045d0c0
 */

void __fastcall FUN_0045d0c0(undefined4 *param_1)

{
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  puStack_8 = &LAB_004723b8;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  *param_1 = &PTR_FUN_00476dc0;
  local_4 = 0;
  FUN_00403040();
  local_4 = 0xffffffff;
  FUN_004539d0(param_1);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_0045d420
 * Address: 0045d420
 */

void __fastcall FUN_0045d420(void *param_1)

{
  int iVar1;
  
  *(undefined4 *)((int)param_1 + 8) = 0;
  iVar1 = FUN_004541c0(param_1,1);
  if (iVar1 != 0) {
    *(uint *)((int)param_1 + 8) = *(uint *)((int)param_1 + 8) | 0x80000000;
  }
  iVar1 = FUN_004541c0(param_1,2);
  RKC_RPGSCRN_OBJECT::SetStatus(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),(ushort)(iVar1 != 0));
  RKC_RPGSCRN_OBJECT::SetPosition
            (*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),
             (RKC_RPGSCRN_POSITION *)((int)param_1 + 0x18));
  RKC_RPGSCRN_OBJECT::SetJudgement
            (*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),(RKC_RPGSCRN_RECT *)((int)param_1 + 0x20)
            );
  return;
}



/*
 * Function: FUN_0045d5d0
 * Address: 0045d5d0
 */

void __thiscall FUN_0045d5d0(void *this,int param_1)

{
  *(undefined4 *)((int)this + 0x18) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)((int)this + 0x84) = 0;
  *(undefined4 *)((int)this + 0x60) = 0;
  *(undefined4 *)((int)this + 0xec) = 0;
  *(undefined4 *)((int)this + 0xfc) = 0;
  *(undefined4 *)((int)this + 0xf0) = 1;
  *(undefined4 *)((int)this + 0xf4) = 0;
  *(undefined4 *)((int)this + 0xf8) = 0;
  *(undefined4 *)((int)this + 0x100) = 1;
  return;
}



/*
 * Function: FUN_0045d620
 * Address: 0045d620
 */

undefined4 __fastcall FUN_0045d620(int param_1)

{
  short sVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  RKC_RPGSCRN_RECT *pRVar10;
  int *piVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  
  if (*(int *)(param_1 + 0xf0) == 1) {
    *(int *)(param_1 + 0xec) = *(int *)(param_1 + 0xec) + 1;
    *(int *)(param_1 + 0xfc) = *(int *)(param_1 + 0xfc) + 1;
  }
  else {
    *(undefined4 *)(param_1 + 0xf0) = 1;
    *(undefined4 *)(param_1 + 0xec) = 0;
    *(undefined4 *)(param_1 + 0xfc) = 0;
  }
  iVar2 = FUN_00456210(DAT_0048ce04);
  if (((iVar2 == *(int *)(param_1 + 0x5c)) && (*(int *)(param_1 + 0xb8) == 1)) &&
     (*(int *)(param_1 + 0x14) != 0)) {
    lVar15 = *(long *)(param_1 + 4);
    psVar14 = *(short **)(param_1 + 0x48);
    psVar13 = *(short **)(param_1 + 0x44);
    lVar21 = 1000;
    lVar20 = 1000;
    lVar19 = 1000;
    pRVar18 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar17 = 1000;
    lVar16 = 0;
    psVar12 = *(short **)(param_1 + 0x40);
    piVar11 = *(int **)(param_1 + 0x3c);
    pRVar10 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
    pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
    lVar8 = *(long *)(param_1 + 0x18);
    lVar7 = *(long *)(param_1 + 0xec);
    lVar9 = *(long *)(param_1 + 0x1c);
    lVar6 = *(long *)(param_1 + 0x10);
    lVar5 = 0;
    lVar4 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar4,lVar5,lVar6,lVar7,lVar8,lVar9,sVar1,pRVar3,pRVar10,piVar11,psVar12
               ,psVar13,psVar14,lVar15,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
  }
  return 0;
}



/*
 * Function: FUN_0045d710
 * Address: 0045d710
 */

undefined4 __fastcall FUN_0045d710(int param_1)

{
  short sVar1;
  ushort uVar2;
  int iVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  RKC_RPGSCRN_RECT *pRVar12;
  int *piVar13;
  short *psVar14;
  short *psVar15;
  short *psVar16;
  long lVar17;
  long lVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  
  if (*(int *)(param_1 + 0xf0) == 3) {
    *(int *)(param_1 + 0xec) = *(int *)(param_1 + 0xec) + 1;
    *(int *)(param_1 + 0xfc) = *(int *)(param_1 + 0xfc) + 1;
  }
  else {
    *(undefined4 *)(param_1 + 0xf0) = 3;
    *(undefined4 *)(param_1 + 0xec) = 0;
    *(undefined4 *)(param_1 + 0xfc) = 0;
  }
  iVar3 = FUN_00456210(DAT_0048ce04);
  if (((iVar3 == *(int *)(param_1 + 0x5c)) && (*(int *)(param_1 + 0xb8) == 1)) &&
     (*(int *)(param_1 + 0x14) != 0)) {
    lVar4 = FUN_004663a0(*(int *)(param_1 + 0x14));
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,2);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)(param_1 + 0x10));
    uVar2 = RKC_RPGSCRN_CHARANIMCHART::GetStatus(this_00);
    if (((uVar2 & 1) == 0) && ((int)sVar1 <= *(int *)(param_1 + 0xec))) {
      *(int *)(param_1 + 0xec) = sVar1 + -1;
    }
    lVar4 = *(long *)(param_1 + 4);
    psVar16 = *(short **)(param_1 + 0x48);
    psVar15 = *(short **)(param_1 + 0x44);
    lVar22 = 1000;
    lVar21 = 1000;
    lVar20 = 1000;
    pRVar19 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar18 = 1000;
    lVar17 = 0;
    psVar14 = *(short **)(param_1 + 0x40);
    piVar13 = *(int **)(param_1 + 0x3c);
    pRVar12 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
    pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
    lVar11 = *(long *)(param_1 + 0x1c);
    lVar10 = *(long *)(param_1 + 0x18);
    lVar9 = *(long *)(param_1 + 0xec);
    lVar8 = *(long *)(param_1 + 0x10);
    lVar7 = 2;
    lVar6 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar6,lVar7,lVar8,lVar9,lVar10,lVar11,sVar1,pRVar5,pRVar12,piVar13,
               psVar14,psVar15,psVar16,lVar4,lVar17,lVar18,pRVar19,lVar20,lVar21,lVar22);
    return 0;
  }
  return 0;
}



/*
 * Function: FUN_0045d850
 * Address: 0045d850
 */

undefined4 __thiscall FUN_0045d850(void *this,int param_1)

{
  short sVar1;
  long lVar2;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int iVar3;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar4;
  long lVar5;
  int iVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  RKC_RPGSCRN_RECT *pRVar11;
  int *piVar12;
  short *psVar13;
  short *psVar14;
  short *psVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  
  lVar2 = FUN_004663a0(*(int *)((int)this + 0x14));
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar2);
  iVar6 = param_1 + 3;
  this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,iVar6);
  if (*(int *)((int)this + 0xf0) == param_1 + 4) {
    *(int *)((int)this + 0xec) = *(int *)((int)this + 0xec) + 1;
    *(int *)((int)this + 0xfc) = *(int *)((int)this + 0xfc) + 1;
  }
  else {
    *(int *)((int)this + 0xf0) = param_1 + 4;
    *(undefined4 *)((int)this + 0xec) = 0;
    *(undefined4 *)((int)this + 0xfc) = 0;
    *(undefined4 *)((int)this + 0xf8) = 1;
  }
  if (*(int *)((int)this + 0x14) != 0) {
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,*(long *)((int)this + 0x10));
    param_1 = (int)sVar1;
  }
  iVar3 = FUN_00456210(DAT_0048ce04);
  if (((iVar3 == *(int *)((int)this + 0x5c)) && (*(int *)((int)this + 0xb8) == 1)) &&
     (*(int *)((int)this + 0x14) != 0)) {
    lVar2 = *(long *)((int)this + 4);
    psVar15 = *(short **)((int)this + 0x48);
    psVar14 = *(short **)((int)this + 0x44);
    lVar21 = 1000;
    lVar20 = 1000;
    lVar19 = 1000;
    pRVar18 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar17 = 1000;
    lVar16 = 0;
    psVar13 = *(short **)((int)this + 0x40);
    piVar12 = *(int **)((int)this + 0x3c);
    pRVar11 = (RKC_RPGSCRN_RECT *)((int)this + 0x20);
    pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)this + 0x58));
    lVar10 = *(long *)((int)this + 0x1c);
    lVar8 = *(long *)((int)this + 0xec);
    lVar9 = *(long *)((int)this + 0x18);
    lVar7 = *(long *)((int)this + 0x10);
    lVar5 = FUN_004663a0(*(int *)((int)this + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar5,iVar6,lVar7,lVar8,lVar9,lVar10,sVar1,pRVar4,pRVar11,piVar12,
               psVar13,psVar14,psVar15,lVar2,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
  }
  if (*(int *)((int)this + 0x180) == 0) {
    if (*(int *)((int)this + 0xec) == param_1 + -1) {
      *(undefined4 *)((int)this + 0xf8) = 0;
      *(undefined4 *)((int)this + 0xf4) = 1;
      return 0;
    }
  }
  else {
    if (*(int *)((int)this + 0x188) == -1) {
      if (*(int *)((int)this + 0xec) != param_1 + -1) {
        return 0;
      }
    }
    else if (*(int *)((int)this + 0xec) != *(int *)((int)this + 0x188)) {
      return 0;
    }
    if (*(int *)((int)this + 0x184) == -1) {
      *(undefined4 *)((int)this + 0xec) = 0xffffffff;
      return 0;
    }
    *(int *)((int)this + 0xec) = *(int *)((int)this + 0x184) + -1;
  }
  return 0;
}



/*
 * Function: FUN_0045dca0
 * Address: 0045dca0
 */

undefined4 * __fastcall FUN_0045dca0(undefined4 *param_1)

{
  FUN_00453960(param_1);
  *param_1 = &PTR_FUN_00476de8;
  param_1[0x47] = 0;
  param_1[0x46] = 1;
  return param_1;
}



/*
 * Function: FUN_0045dcd0
 * Address: 0045dcd0
 */

undefined4 * __thiscall FUN_0045dcd0(void *this,byte param_1)

{
  FUN_0045dcf0((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_0045dcf0
 * Address: 0045dcf0
 */

void __fastcall FUN_0045dcf0(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476de8;
  FUN_004539d0(param_1);
  return;
}



/*
 * Function: FUN_0045ddd0
 * Address: 0045ddd0
 */

void __fastcall FUN_0045ddd0(int *param_1)

{
  short sVar1;
  ushort uVar2;
  int iVar3;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar4;
  RKC_RPGSCRN_OBJECT *this;
  undefined4 uVar5;
  long lVar6;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int iVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  short sVar14;
  int iVar15;
  RKC_RPGSCRN_RECT *pRVar16;
  int iVar17;
  int *piVar18;
  short *psVar19;
  short *psVar20;
  short sVar21;
  short *psVar22;
  int iVar23;
  RKC_RPGSCRN *pRVar24;
  short sVar25;
  short sVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  short sVar28;
  
  if (param_1[0x3f] == 0) {
    iVar3 = FUN_004541c0(param_1,0);
    if (iVar3 != 0) {
      param_1[0x2e] = 1;
      goto LAB_0045de0f;
    }
  }
  else if (param_1[0x40] != 0) {
    param_1[0x2e] = 1;
    goto LAB_0045de0f;
  }
  param_1[0x2e] = 0;
LAB_0045de0f:
  if (param_1[0x2e] == 1) {
    uVar8 = param_1[0x3c];
    if (param_1[0x38] == 1) {
      uVar8 = uVar8 | 0x80;
    }
    if (-1 < param_1[0x33]) {
      iVar3 = FUN_00456210(DAT_0048ce04);
      if (((iVar3 == param_1[0x17]) && (param_1[5] != 0)) &&
         (((uVar8 & 4) != 0 || (param_1[0x3d] != 0)))) {
        pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        this = RKC_RPGSCRN_OBJECTBLOCK::Insert(pRVar4,0);
        iVar3 = param_1[1];
        pRVar16 = (RKC_RPGSCRN_RECT *)(param_1 + 8);
        sVar28 = 1000;
        sVar26 = 1000;
        sVar25 = 1000;
        sVar1 = *(short *)(param_1 + 0x3d);
        iVar17 = param_1[7];
        uVar2 = (ushort)uVar8 | 8;
        sVar21 = 0;
        iVar15 = param_1[6];
        iVar7 = (int)*(short *)(param_1 + 0x33);
        sVar14 = -1;
        pRVar24 = DAT_00482d14;
        uVar5 = FUN_00427b40(param_1[5]);
        RKC_RPGSCRN_OBJECT::SetParam
                  (this,(short)uVar5,iVar7,sVar14,iVar15,iVar17,sVar1,uVar2,sVar21,pRVar16,pRVar24,
                   sVar25,sVar26,sVar28,iVar3);
        RKC_RPGSCRN_OBJECT::SetHeight(this,*(short *)(param_1 + 0x39));
        RKC_RPGSCRN_OBJECT::SetRStrong(this,*(short *)(param_1 + 0x43));
        RKC_RPGSCRN_OBJECT::SetGStrong(this,*(short *)(param_1 + 0x44));
        RKC_RPGSCRN_OBJECT::SetBStrong(this,*(short *)(param_1 + 0x45));
        iVar3 = RKC_RPGSCRN_OBJECT::CheckClip(this,(RKC_RPGSCRN_RECT *)&DAT_0048d5e4,1);
        if (iVar3 == 0) {
          RKC_RPGSCRN_OBJECTBLOCK::Delete(pRVar4,0);
        }
      }
    }
    if (-1 < param_1[0x32]) {
      if (param_1[5] != 0) {
        lVar6 = FUN_004663a0(param_1[5]);
        this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar6);
        if (this_00 != (RKC_RPGSCRN_CHARANIM *)0x0) {
          this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,param_1[0x32]);
          if (this_01 != (RKC_RPGSCRN_CHARANIMCHART *)0x0) {
            sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,8);
            param_1[0x46] = (int)sVar1;
            uVar2 = RKC_RPGSCRN_CHARANIMCHART::GetStatus(this_01);
            if ((uVar2 & 1) != 0) {
              param_1[0x47] = 1;
            }
          }
        }
        if ((param_1[0x47] == 0) && (param_1[0x46] <= param_1[0x31])) {
          param_1[0x31] = param_1[0x46] + -1;
        }
      }
      iVar3 = FUN_00456210(DAT_0048ce04);
      if (((iVar3 == param_1[0x17]) && (param_1[5] != 0)) &&
         (((uVar8 & 4) != 0 || (param_1[0x3d] != 0)))) {
        iVar3 = param_1[0x45];
        iVar17 = param_1[0x44];
        iVar15 = param_1[0x43];
        iVar7 = param_1[0x3d];
        iVar23 = param_1[1];
        psVar22 = (short *)param_1[0x12];
        pRVar27 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
        psVar20 = (short *)param_1[0x11];
        psVar19 = (short *)param_1[0x10];
        piVar18 = (int *)param_1[0xf];
        pRVar16 = (RKC_RPGSCRN_RECT *)(param_1 + 8);
        pRVar4 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        sVar1 = *(short *)(param_1 + 0x39);
        iVar13 = param_1[7];
        iVar12 = param_1[6];
        iVar11 = param_1[0x31];
        iVar10 = param_1[4];
        iVar9 = param_1[0x32];
        lVar6 = FUN_004663a0(param_1[5]);
        RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                  (DAT_00482d20,lVar6,iVar9,iVar10,iVar11,iVar12,iVar13,sVar1,pRVar4,pRVar16,piVar18
                   ,psVar19,psVar20,psVar22,iVar23,uVar8,iVar7,pRVar27,iVar15,iVar17,iVar3);
      }
      param_1[0x31] = param_1[0x31] + 1;
    }
  }
  (**(code **)(*param_1 + 0xc))();
  return;
}



/*
 * Function: FUN_0045e080
 * Address: 0045e080
 */

void __fastcall FUN_0045e080(void *param_1)

{
  int iVar1;
  
  *(undefined4 *)((int)param_1 + 8) = 0;
  if (*(int *)((int)param_1 + 0xfc) == 0) {
    iVar1 = FUN_004541c0(param_1,1);
    if (iVar1 != 0) {
      *(uint *)((int)param_1 + 8) = *(uint *)((int)param_1 + 8) | 0x80000000;
    }
    iVar1 = FUN_004541c0(param_1,2);
  }
  else {
    if (*(int *)((int)param_1 + 0x104) != 0) {
      *(undefined4 *)((int)param_1 + 8) = 0x80000000;
    }
    iVar1 = *(int *)((int)param_1 + 0x108);
  }
  RKC_RPGSCRN_OBJECT::SetStatus(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),(ushort)(iVar1 != 0));
  RKC_RPGSCRN_OBJECT::SetPosition
            (*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),
             (RKC_RPGSCRN_POSITION *)((int)param_1 + 0x18));
  RKC_RPGSCRN_OBJECT::SetJudgement
            (*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58),(RKC_RPGSCRN_RECT *)((int)param_1 + 0x20)
            );
  return;
}



/*
 * Function: FUN_0045e100
 * Address: 0045e100
 */

void __thiscall FUN_0045e100(void *this,int param_1)

{
  *(undefined4 *)((int)this + 0x18) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 8);
  return;
}



/*
 * Function: FUN_0045e120
 * Address: 0045e120
 */

undefined4 * __fastcall FUN_0045e120(undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  
  FUN_00453960(param_1);
  param_1[0x31] = 0;
  param_1[0x32] = 0;
  param_1[0x33] = 0;
  param_1[0xb2] = 0;
  *param_1 = &PTR_FUN_00476e10;
  param_1[0x2a7] = 1;
  puVar2 = param_1 + 0xb3;
  for (iVar1 = 500; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0xffffffff;
    puVar2 = puVar2 + 1;
  }
  return param_1;
}



/*
 * Function: FUN_0045e170
 * Address: 0045e170
 */

undefined4 * __thiscall FUN_0045e170(void *this,byte param_1)

{
  FUN_0045e190((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_0045e190
 * Address: 0045e190
 */

void __fastcall FUN_0045e190(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e10;
  FUN_004539d0(param_1);
  return;
}



/*
 * Function: FUN_0045e1e0
 * Address: 0045e1e0
 */

/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __fastcall FUN_0045e1e0(int *param_1)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  ushort uVar4;
  short sVar5;
  int iVar6;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar7;
  long lVar8;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar9;
  RKC_RPGSCRN_OBJECT *pRVar10;
  long lVar11;
  void *pvVar12;
  undefined3 extraout_var;
  undefined4 *puVar13;
  int iVar14;
  undefined3 extraout_var_00;
  int *piVar15;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  uint uVar16;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  undefined4 uVar17;
  undefined1 auVar18 [10];
  float10 fVar19;
  ulonglong uVar20;
  int iVar21;
  int iVar22;
  int iVar23;
  int iVar24;
  int iVar25;
  short sVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  short *psVar28;
  short sVar29;
  short *psVar30;
  short sVar31;
  short *psVar32;
  short sVar33;
  int iVar34;
  RKC_RPGSCRN_OBJECTDISP *pRVar35;
  int iVar36;
  tagRECT *ptVar37;
  int iVar38;
  RKC_RPGSCRN *pRVar39;
  undefined2 uVar40;
  short sVar41;
  undefined2 uVar42;
  undefined2 uVar43;
  undefined2 uVar44;
  undefined8 uVar45;
  RKC_RPGSCRN_POSITION *pRVar46;
  RKC_RPGSCRN_OBJECTDISPCELL *pRStack_64;
  int iStack_60;
  double dStack_58;
  double dStack_50;
  int iStack_44;
  int iStack_40;
  int iStack_3c;
  int iStack_38;
  RKC_RPGSCRN_OBJECTDISP local_34 [8];
  int iStack_2c;
  int iStack_28;
  tagRECT tStack_24;
  void *pvStack_14;
  undefined *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_004723d9;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_34);
  bVar3 = true;
  uStack_c = 0;
  bVar1 = false;
  if (param_1[0x36] == 1) {
    if ((param_1[0x2a7] == 1) && (param_1[0x38] != 0)) {
      if (param_1[0x38] == 1) {
        iVar6 = FUN_00434c90(DAT_0048ce0c,param_1[0x39]);
        if ((iVar6 != 0) && (0 < *(int *)(iVar6 + 0x1a4))) {
          iStack_44 = *(int *)(iVar6 + 0x2e0);
          iStack_40 = *(int *)(iVar6 + 0x2e4);
          if (((param_1[0x47] != iStack_44 && -1 < param_1[0x47] - iStack_44) !=
               0 < iStack_44 - param_1[6]) ||
             ((param_1[0x48] != iStack_40 && -1 < param_1[0x48] - iStack_40) !=
              (iStack_40 != param_1[7] && -1 < iStack_40 - param_1[7]))) {
            auVar18 = FUN_00414080(iStack_44 - param_1[6],iStack_40 - param_1[7]);
            dStack_58 = (double)(float10)auVar18;
            fVar19 = (float10)FUN_00413e40((double)((float10)auVar18 -
                                                   (float10)*(double *)(param_1 + 0x42)));
            dStack_50 = (double)param_1[0x37] * _DAT_004751b0;
            if ((fVar19 <= (float10)dStack_50) ||
               ((float10)_DAT_00475160 - (float10)dStack_50 <= fVar19)) {
              *(double *)(param_1 + 0x42) = dStack_58;
            }
            else if (fVar19 <= (float10)_DAT_004751d8) {
LAB_0045e499:
              *(double *)(param_1 + 0x42) = dStack_50 + *(double *)(param_1 + 0x42);
            }
            else {
              *(double *)(param_1 + 0x42) = *(double *)(param_1 + 0x42) - dStack_50;
            }
            goto LAB_0045e4db;
          }
        }
      }
      else {
        iVar6 = param_1[0x39];
        pvVar12 = (void *)FUN_00427aa0(param_1[0x17]);
        puVar13 = (undefined4 *)FUN_004299e0(pvVar12,iVar6);
        if (puVar13 != (undefined4 *)0x0) {
          iVar6 = FUN_00427b20(puVar13);
          if ((iVar6 == 2) && (iVar6 = FUN_00434cd0((int)puVar13), *(int *)(iVar6 + 0xd4) < 1)) {
            bVar3 = false;
          }
          iVar6 = FUN_00427b20(puVar13);
          if (((iVar6 != 5) || (iVar6 = FUN_00434cd0((int)puVar13), 0 < *(int *)(iVar6 + 0xfc))) &&
             (bVar3)) {
            iVar6 = FUN_00434cd0((int)puVar13);
            iStack_44 = *(int *)(iVar6 + 0x18);
            iVar6 = FUN_00434cd0((int)puVar13);
            iStack_40 = *(int *)(iVar6 + 0x1c);
            if (((param_1[0x47] != iStack_44 && -1 < param_1[0x47] - iStack_44) !=
                 0 < iStack_44 - param_1[6]) ||
               ((param_1[0x48] != iStack_40 && -1 < param_1[0x48] - iStack_40) !=
                (iStack_40 != param_1[7] && -1 < iStack_40 - param_1[7]))) {
              auVar18 = FUN_00414080(iStack_44 - param_1[6],iStack_40 - param_1[7]);
              dStack_58 = (double)(float10)auVar18;
              fVar19 = (float10)FUN_00413e40((double)((float10)auVar18 -
                                                     (float10)*(double *)(param_1 + 0x42)));
              dStack_50 = (double)param_1[0x37] * _DAT_004751b0;
              if ((fVar19 <= (float10)dStack_50) ||
                 ((float10)_DAT_00475160 - (float10)dStack_50 <= fVar19)) {
                *(double *)(param_1 + 0x42) = dStack_58;
              }
              else {
                if (fVar19 <= (float10)_DAT_004751d8) goto LAB_0045e499;
                *(double *)(param_1 + 0x42) = *(double *)(param_1 + 0x42) - dStack_50;
              }
              goto LAB_0045e4db;
            }
          }
        }
      }
      param_1[0x2a7] = 0;
    }
LAB_0045e4db:
    FUN_004140a0(param_1 + 6,
                 (double)CONCAT26((short)((uint)param_1[0x43] >> 0x10),
                                  *(undefined6 *)(param_1 + 0x42)),param_1[0x46],&iStack_3c);
  }
  else if (param_1[0x5b] == 0) {
    FUN_004140a0(param_1 + 0x47,
                 (double)CONCAT26((short)((uint)param_1[0x43] >> 0x10),
                                  *(undefined6 *)(param_1 + 0x42)),param_1[0x46] * param_1[0x33],
                 &iStack_3c);
    param_1[0x33] = param_1[0x33] + 1;
  }
  else {
    iStack_3c = param_1[6];
    iStack_38 = param_1[7];
  }
  if (((param_1[0x57] != -1) && (param_1[0x57] <= param_1[0x32])) &&
     ((param_1[0x58] == -1 || (param_1[0x32] <= param_1[0x58])))) {
    RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_34,(RKC_RPGSCRN *)DAT_00482d14);
    SetRect(&tStack_24,param_1[8] + param_1[6],param_1[9] + param_1[7],param_1[10] + param_1[6],
            param_1[0xb] + param_1[7]);
    uVar45 = 0;
    uVar43 = 0;
    uVar44 = 0;
    ptVar37 = &tStack_24;
    uVar40 = 0;
    uVar42 = 0;
    pRVar35 = local_34;
    pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(param_1[0x17]);
    RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject
              (pRVar7,pRVar35,ptVar37,CONCAT22(uVar42,uVar40),CONCAT22(uVar44,uVar43),(int)uVar45,
               (int)((ulonglong)uVar45 >> 0x20));
    pRStack_64 = (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
    lVar8 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_34);
    pRVar9 = (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
    if ((lVar8 != 0) && (iStack_60 = 0, 0 < lVar8)) {
      do {
        pRVar9 = RKC_RPGSCRN_OBJECTDISP::Get(local_34,iStack_60);
        if (pRVar9 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
          pRVar46 = (RKC_RPGSCRN_POSITION *)&iStack_44;
          pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
          RKC_RPGSCRN_OBJECT::GetPosition(pRVar10,pRVar46);
          uVar20 = FUN_00414310(param_1[6],param_1[7],iStack_44,iStack_40);
          bVar3 = false;
          if ((*(byte *)(param_1 + 0x38) & 1) != 0) {
            pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
            lVar11 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
            if (lVar11 < 4) {
              pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
              lVar11 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
              if (-1 < lVar11) {
                pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
                lVar11 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
                pvVar12 = (void *)FUN_00434c90(DAT_0048ce0c,lVar11);
                if ((pvVar12 != (void *)0x0) &&
                   (((param_1[0x3a] == 0 || (param_1[0x39] == *(int *)((int)pvVar12 + 4))) &&
                    (0 < *(int *)((int)pvVar12 + 0x1a4))))) {
                  if (param_1[0xb0] == 1) {
                    iVar6 = 0;
                    if (0 < param_1[0xb2]) {
                      piVar15 = param_1 + 0xb3;
                      do {
                        if (*piVar15 == *(int *)((int)pvVar12 + 4)) goto LAB_0045e804;
                        iVar6 = iVar6 + 1;
                        piVar15 = piVar15 + 1;
                      } while (iVar6 < param_1[0xb2]);
                    }
                  }
                  bVar3 = true;
                  if ((param_1[0xae] == 1) && (param_1[0xb0] == 0)) {
                    param_1[0x31] = 1;
                  }
                  if (param_1[0x5a] == 1) {
                    if ((param_1[0xb0] == 1) && (param_1[0xb2] != 500)) {
                      param_1[param_1[0xb2] + 0xb3] = *(int *)((int)pvVar12 + 4);
                      param_1[0xb2] = param_1[0xb2] + 1;
                    }
                    if (param_1[0x5e] == 3) {
                      iVar6 = *(int *)((int)pvVar12 + 0x1d0);
                    }
                    else {
                      iVar6 = *(int *)((int)pvVar12 + 0x1c0);
                    }
                    bVar2 = FUN_00413e00(param_1[0x81],iVar6);
                    if (CONCAT31(extraout_var,bVar2) == 0) {
                      if (param_1[0x5c] == 1) {
                        FUN_00417a60((int)pvVar12,0);
                      }
                    }
                    else {
                      if (param_1[0x5c] == 1) {
                        FUN_00443cb0(pvVar12,param_1 + 0x5d,param_1 + 6);
                      }
                      if ((param_1[0xaa] != -1) && (!bVar1)) {
                        FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],0);
                        bVar1 = true;
                      }
                    }
                  }
                }
              }
            }
          }
LAB_0045e804:
          pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
          lVar11 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
          pvVar12 = (void *)FUN_00427aa0(param_1[0x17]);
          puVar13 = (undefined4 *)FUN_004299e0(pvVar12,lVar11);
          if ((puVar13 == (undefined4 *)0x0) ||
             (iVar6 = FUN_00434cd0((int)puVar13), *(int *)(iVar6 + 4) == param_1[1])) {
LAB_0045ecdd:
            if (!bVar3) goto LAB_0045ed12;
          }
          else {
            if (((((*(byte *)(param_1 + 0x38) & 2) != 0) &&
                 ((iVar6 = FUN_00427b20(puVar13), iVar6 == 5 &&
                  (iVar6 = FUN_00434cd0((int)puVar13),
                  *(int *)(*(int *)(iVar6 + 0x214) + 0x15a0) == 0)))) &&
                ((param_1[0x3a] == 0 ||
                 (iVar6 = FUN_00434cd0((int)puVar13), param_1[0x39] == *(int *)(iVar6 + 4))))) &&
               (iVar6 = FUN_00434cd0((int)puVar13), 0 < *(int *)(iVar6 + 0xfc))) {
              if ((param_1[0xb0] == 1) && (iVar6 = 0, 0 < param_1[0xb2])) {
                piVar15 = param_1 + 0xb3;
                do {
                  iVar14 = FUN_00434cd0((int)puVar13);
                  if (*piVar15 == *(int *)(iVar14 + 4)) goto LAB_0045ea04;
                  iVar6 = iVar6 + 1;
                  piVar15 = piVar15 + 1;
                } while (iVar6 < param_1[0xb2]);
              }
              bVar3 = true;
              if ((param_1[0xae] == 1) && (param_1[0xb0] == 0)) {
                param_1[0x31] = 1;
              }
              if (param_1[0x5a] == 1) {
                if ((param_1[0xb0] == 1) && (param_1[0xb2] != 500)) {
                  iVar6 = FUN_00434cd0((int)puVar13);
                  param_1[param_1[0xb2] + 0xb3] = *(int *)(iVar6 + 4);
                  param_1[0xb2] = param_1[0xb2] + 1;
                }
                if (param_1[0x5e] == 3) {
                  iVar6 = FUN_00434cd0((int)puVar13);
                  iVar6 = *(int *)(iVar6 + 0x11c);
                }
                else {
                  iVar6 = FUN_00434cd0((int)puVar13);
                  iVar6 = *(int *)(iVar6 + 0x10c);
                }
                bVar2 = FUN_00413e00(param_1[0x81],iVar6);
                if (CONCAT31(extraout_var_00,bVar2) == 0) {
                  if (param_1[0x5c] == 1) {
                    iVar6 = FUN_00434cd0((int)puVar13);
                    FUN_00417a60(0,iVar6);
                  }
                }
                else {
                  if (param_1[0x5c] == 1) {
                    piVar15 = (int *)FUN_00434cd0((int)puVar13);
                    (**(code **)(*piVar15 + 0x14))(param_1 + 0x5d);
                  }
                  if ((param_1[0xaa] != -1) && (!bVar1)) {
                    FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],0);
                    bVar1 = true;
                  }
                }
              }
            }
LAB_0045ea04:
            if (((((*(byte *)(param_1 + 0x38) & 4) != 0) &&
                 (iVar6 = FUN_00427b20(puVar13), iVar6 == 2)) &&
                ((param_1[0x3a] == 0 ||
                 (iVar6 = FUN_00434cd0((int)puVar13), param_1[0x39] == *(int *)(iVar6 + 4))))) &&
               ((iVar6 = FUN_00434cd0((int)puVar13), 0 < *(int *)(iVar6 + 0xd4) &&
                (iVar6 = FUN_00434cd0((int)puVar13), *(int *)(iVar6 + 0x34c) == 0)))) {
              if ((param_1[0xb0] == 1) && (iVar6 = 0, 0 < param_1[0xb2])) {
                piVar15 = param_1 + 0xb3;
                do {
                  iVar14 = FUN_00434cd0((int)puVar13);
                  if (*piVar15 == *(int *)(iVar14 + 4)) goto LAB_0045ebbd;
                  iVar6 = iVar6 + 1;
                  piVar15 = piVar15 + 1;
                } while (iVar6 < param_1[0xb2]);
              }
              bVar3 = true;
              if ((param_1[0xae] == 1) && (param_1[0xb0] == 0)) {
                param_1[0x31] = 1;
              }
              if (param_1[0x5a] == 1) {
                if ((param_1[0xb0] == 1) && (param_1[0xb2] != 500)) {
                  iVar6 = FUN_00434cd0((int)puVar13);
                  param_1[param_1[0xb2] + 0xb3] = *(int *)(iVar6 + 4);
                  param_1[0xb2] = param_1[0xb2] + 1;
                }
                if (param_1[0x5e] == 3) {
                  iVar6 = FUN_00434cd0((int)puVar13);
                  iVar6 = *(int *)(iVar6 + 0xf4);
                }
                else {
                  iVar6 = FUN_00434cd0((int)puVar13);
                  iVar6 = *(int *)(iVar6 + 0xec);
                }
                bVar2 = FUN_00413e00(param_1[0x81],iVar6);
                if (CONCAT31(extraout_var_01,bVar2) == 0) {
                  if (param_1[0x5c] == 1) {
                    iVar6 = FUN_00434cd0((int)puVar13);
                    FUN_00417a60(0,iVar6);
                  }
                }
                else {
                  if (param_1[0x5c] == 1) {
                    piVar15 = (int *)FUN_00434cd0((int)puVar13);
                    (**(code **)(*piVar15 + 0x14))(param_1 + 0x5d);
                  }
                  if ((param_1[0xaa] != -1) && (!bVar1)) {
                    FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],0);
                    bVar1 = true;
                  }
                }
              }
            }
LAB_0045ebbd:
            if ((((*(byte *)(param_1 + 0x38) & 8) != 0) &&
                (iVar6 = FUN_00427b20(puVar13), iVar6 == 1)) &&
               ((param_1[0x3a] == 0 ||
                (iVar6 = FUN_00434cd0((int)puVar13), param_1[0x39] == *(int *)(iVar6 + 4))))) {
              bVar3 = true;
              if (param_1[0xae] == 1) {
                param_1[0x31] = 1;
              }
              if (((param_1[0x5a] == 1) && (param_1[0xaa] != -1)) && (!bVar1)) {
                FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],1);
                bVar1 = true;
              }
            }
            if ((((*(byte *)(param_1 + 0x38) & 0x10) == 0) ||
                (iVar6 = FUN_00427b20(puVar13), iVar6 != 0)) ||
               ((param_1[0x3a] != 0 &&
                (iVar6 = FUN_00434cd0((int)puVar13), param_1[0x39] != *(int *)(iVar6 + 4)))))
            goto LAB_0045ecdd;
            iVar6 = FUN_00434cd0((int)puVar13);
            uVar4 = RKC_RPGSCRN_OBJECT::GetStatus(*(RKC_RPGSCRN_OBJECT **)(iVar6 + 0x58));
            if (((uVar4 & 1) == 0) ||
               (iVar6 = FUN_00434cd0((int)puVar13), *(int *)(iVar6 + 0xf8) != 0)) goto LAB_0045ecdd;
            if (param_1[0x45] == 1) {
              param_1[0x31] = 1;
            }
            if (((param_1[0x5a] == 1) && (param_1[0xac] != -1)) && (!bVar1)) {
              FUN_00453c60(param_1,param_1[0xac],param_1[0xad],0);
              bVar1 = true;
            }
          }
          if ((pRStack_64 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) || ((int)uVar20 < dStack_58._0_4_))
          {
            dStack_58 = (double)(uVar20 & 0xffffffff);
            pRStack_64 = pRVar9;
          }
        }
LAB_0045ed12:
        iStack_60 = iStack_60 + 1;
        pRVar9 = pRStack_64;
      } while (iStack_60 < lVar8);
    }
    if ((param_1[0x5a] == 0) && (pRVar9 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0)) {
      pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
      lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
      if (lVar8 < 4) {
        pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
        lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
        if (lVar8 < 0) goto LAB_0045ee4a;
        if ((*(byte *)(param_1 + 0x38) & 1) == 0) goto switchD_0045ee7c_caseD_3;
        pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
        lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
        pvVar12 = (void *)FUN_00434c90(DAT_0048ce0c,lVar8);
        if (pvVar12 == (void *)0x0) goto switchD_0045ee7c_caseD_3;
        if ((param_1[0xb0] == 1) && (param_1[0xb2] != 500)) {
          param_1[param_1[0xb2] + 0xb3] = *(int *)((int)pvVar12 + 4);
          param_1[0xb2] = param_1[0xb2] + 1;
        }
        if (param_1[0x5e] == 3) {
          iVar6 = *(int *)((int)pvVar12 + 0x1d0);
        }
        else {
          iVar6 = *(int *)((int)pvVar12 + 0x1c0);
        }
        bVar3 = FUN_00413e00(param_1[0x81],iVar6);
        if (CONCAT31(extraout_var_02,bVar3) != 0) {
          if (param_1[0x5c] == 1) {
            FUN_00443cb0(pvVar12,param_1 + 0x5d,param_1 + 6);
          }
          goto switchD_0045ee7c_caseD_1;
        }
        if (param_1[0x5c] != 1) goto switchD_0045ee7c_caseD_3;
        uVar20 = ZEXT48(pvVar12);
LAB_0045f040:
        FUN_00417a60((int)uVar20,(int)(uVar20 >> 0x20));
      }
      else {
LAB_0045ee4a:
        pRVar10 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar9);
        lVar8 = RKC_RPGSCRN_OBJECT::GetCharacterNo(pRVar10);
        pvVar12 = (void *)FUN_00427aa0(param_1[0x17]);
        puVar13 = (undefined4 *)FUN_004299e0(pvVar12,lVar8);
        if (puVar13 != (undefined4 *)0x0) {
          uVar17 = FUN_00427b20(puVar13);
          switch(uVar17) {
          case 0:
            if (param_1[0xac] != -1) {
              FUN_00453c60(param_1,param_1[0xac],param_1[0xad],0);
            }
            break;
          case 1:
switchD_0045ee7c_caseD_1:
            if (param_1[0xaa] != -1) {
              FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],0);
            }
            break;
          case 2:
            if ((param_1[0xb0] == 1) && (param_1[0xb2] != 500)) {
              iVar6 = FUN_00434cd0((int)puVar13);
              param_1[param_1[0xb2] + 0xb3] = *(int *)(iVar6 + 4);
              param_1[0xb2] = param_1[0xb2] + 1;
            }
            if (param_1[0x5e] == 3) {
              iVar6 = FUN_00434cd0((int)puVar13);
              iVar6 = *(int *)(iVar6 + 0xf4);
            }
            else {
              iVar6 = FUN_00434cd0((int)puVar13);
              iVar6 = *(int *)(iVar6 + 0xec);
            }
            bVar3 = FUN_00413e00(param_1[0x81],iVar6);
            iVar6 = param_1[0x5c];
            if (CONCAT31(extraout_var_03,bVar3) == 0) {
joined_r0x0045f034:
              if (iVar6 == 1) {
                uVar16 = FUN_00434cd0((int)puVar13);
                uVar20 = (ulonglong)uVar16 << 0x20;
                goto LAB_0045f040;
              }
            }
            else {
              if (iVar6 == 1) {
                piVar15 = (int *)FUN_00434cd0((int)puVar13);
                (**(code **)(*piVar15 + 0x14))(param_1 + 0x5d);
              }
              if (param_1[0xaa] != -1) {
                FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],0);
              }
            }
            break;
          case 5:
            if ((param_1[0xb0] == 1) && (param_1[0xb2] != 500)) {
              iVar6 = FUN_00434cd0((int)puVar13);
              param_1[param_1[0xb2] + 0xb3] = *(int *)(iVar6 + 4);
              param_1[0xb2] = param_1[0xb2] + 1;
            }
            if (param_1[0x5e] == 3) {
              iVar6 = FUN_00434cd0((int)puVar13);
              iVar6 = *(int *)(iVar6 + 0x11c);
            }
            else {
              iVar6 = FUN_00434cd0((int)puVar13);
              iVar6 = *(int *)(iVar6 + 0x10c);
            }
            bVar3 = FUN_00413e00(param_1[0x81],iVar6);
            iVar6 = param_1[0x5c];
            if (CONCAT31(extraout_var_04,bVar3) == 0) goto joined_r0x0045f034;
            if (iVar6 == 1) {
              piVar15 = (int *)FUN_00434cd0((int)puVar13);
              (**(code **)(*piVar15 + 0x14))(param_1 + 0x5d);
            }
            if (param_1[0xaa] != -1) {
              FUN_00453c60(param_1,param_1[0xaa],param_1[0xab],0);
            }
          }
        }
      }
    }
  }
switchD_0045ee7c_caseD_3:
  iStack_2c = iStack_3c;
  iStack_28 = iStack_38;
  if (param_1[0x44] == 1) {
    iVar6 = FUN_004145b0(param_1[0x17],param_1[1],param_1 + 6,param_1 + 8,1,0xffffffff,1);
    if ((iVar6 == 0) && (param_1[0x45] == 1)) {
      param_1[0x31] = 1;
      if (param_1[0xac] != -1) {
        FUN_00453c60(param_1,param_1[0xac],param_1[0xad],0);
      }
    }
    iVar6 = FUN_00414990(param_1[0x17],param_1[1],param_1 + 6,param_1 + 8,&iStack_3c,&iStack_2c,0,1,
                         0xff,1);
    if (((iVar6 == 1) && (param_1[0x45] == 1)) && (param_1[0x31] != 1)) {
      param_1[0x31] = 1;
      if (param_1[0xac] != -1) {
        FUN_00453c60(param_1,param_1[0xac],param_1[0xad],0);
      }
    }
  }
  param_1[6] = iStack_2c;
  param_1[7] = iStack_28;
  if ((param_1[0x5b] == 1) && (param_1[0x34] != 0)) {
    iVar6 = param_1[0x35];
    if (param_1[0x34] == 1) {
      iVar6 = FUN_00434c90(DAT_0048ce0c,iVar6);
      if (iVar6 == 0) goto LAB_0045f184;
      param_1[6] = *(int *)(iVar6 + 0x2e0);
      iVar6 = *(int *)(iVar6 + 0x2e4);
    }
    else {
      pvVar12 = (void *)FUN_00427aa0(param_1[0x17]);
      iVar6 = FUN_004299e0(pvVar12,iVar6);
      if (iVar6 == 0) goto LAB_0045f184;
      iVar6 = FUN_00434cd0(iVar6);
      param_1[6] = *(int *)(iVar6 + 0x18);
      iVar6 = *(int *)(iVar6 + 0x1c);
    }
    param_1[7] = iVar6;
  }
LAB_0045f184:
  if (param_1[0x40] == 1) {
    iVar6 = FUN_004140f0(param_1[0x42],param_1[0x43]);
    param_1[4] = iVar6;
  }
  iVar6 = FUN_00456210(DAT_0048ce04);
  if ((iVar6 == param_1[0x17]) && (param_1[0x59] == 1)) {
    if (param_1[0x4a] < 0) {
      if (param_1[5] != 0) {
        pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
        pRVar10 = RKC_RPGSCRN_OBJECTBLOCK::Insert(pRVar7,0);
        sVar5 = *(short *)(param_1 + 0x55);
        sVar41 = *(short *)(param_1 + 0x54);
        uVar45 = CONCAT44(param_1[1],(uint)*(ushort *)(param_1 + 0x56));
        sVar33 = *(short *)(param_1 + 0x49);
        pRVar27 = (RKC_RPGSCRN_RECT *)(param_1 + 8);
        sVar31 = *(short *)(param_1 + 0x52);
        sVar29 = *(short *)(param_1 + 0x53);
        iVar6 = param_1[7];
        iVar14 = param_1[6];
        iVar25 = param_1[0x51];
        sVar26 = -1;
        pRVar39 = (RKC_RPGSCRN *)DAT_00482d14;
        uVar17 = FUN_00427b40(param_1[5]);
        RKC_RPGSCRN_OBJECT::SetParam
                  (pRVar10,(short)uVar17,iVar25,sVar26,iVar14,iVar6,sVar29,sVar31,sVar33,pRVar27,
                   pRVar39,sVar41,sVar5,(short)uVar45,(long)((ulonglong)uVar45 >> 0x20));
        iVar6 = RKC_RPGSCRN_OBJECT::CheckClip(pRVar10,(RKC_RPGSCRN_RECT *)&DAT_0048d5e4,1);
        if (iVar6 == 0) {
          RKC_RPGSCRN_OBJECTBLOCK::Delete(pRVar7,0);
        }
      }
    }
    else if (param_1[5] != 0) {
      iVar6 = (param_1[0x50] * param_1[0x32]) / 1000;
      lVar8 = FUN_004663a0(param_1[5]);
      this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar8);
      this_00 = RKC_RPGSCRN_CHARANIM::Get(this,param_1[0x4a]);
      uVar4 = RKC_RPGSCRN_CHARANIMCHART::GetStatus(this_00);
      if ((uVar4 & 1) == 0) {
        sVar5 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,param_1[4]);
        if (sVar5 <= iVar6) {
          iVar6 = sVar5 + -1;
        }
      }
      iVar14 = param_1[0x4f];
      iVar25 = param_1[0x4e];
      iVar38 = param_1[0x4c];
      iVar36 = param_1[0x4b];
      uVar43 = (undefined2)param_1[0x4d];
      uVar44 = (undefined2)((uint)param_1[0x4d] >> 0x10);
      iVar34 = param_1[1];
      uVar40 = 0xd5e4;
      uVar42 = 0x48;
      psVar32 = (short *)param_1[0x12];
      psVar30 = (short *)param_1[0x11];
      psVar28 = (short *)param_1[0x10];
      piVar15 = (int *)param_1[0xf];
      pRVar27 = (RKC_RPGSCRN_RECT *)(param_1 + 8);
      pRVar7 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar5 = *(short *)(param_1 + 0x49);
      iVar23 = param_1[6];
      iVar24 = param_1[7];
      iVar22 = param_1[4];
      iVar21 = param_1[0x4a];
      lVar8 = FUN_004663a0(param_1[5]);
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,lVar8,iVar21,iVar22,iVar6,iVar23,iVar24,sVar5,pRVar7,pRVar27,piVar15,
                 psVar28,psVar30,psVar32,iVar34,iVar36,iVar38,
                 (RKC_RPGSCRN_RECT *)CONCAT22(uVar42,uVar40),CONCAT22(uVar44,uVar43),iVar25,iVar14);
    }
  }
  iVar6 = param_1[0x32];
  param_1[0x32] = iVar6 + 1;
  if ((param_1[0x3b] <= iVar6 + 1) && (param_1[0x3b] != -1)) {
    param_1[0x31] = 1;
  }
  (**(code **)(*param_1 + 0xc))();
  uStack_c = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_34);
  ExceptionList = pvStack_14;
  return;
}



/*
 * Function: FUN_0045f410
 * Address: 0045f410
 */

undefined4 * __fastcall FUN_0045f410(undefined4 *param_1)

{
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00472406;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  FUN_00453960(param_1);
  local_4 = 0;
  FUN_00403550(param_1 + 0x66);
  local_4 = CONCAT31(local_4._1_3_,1);
  *param_1 = &PTR_FUN_00476e38;
  FUN_0045f4f0((int)param_1);
  ExceptionList = local_c;
  return param_1;
}



/*
 * Function: FUN_0045f470
 * Address: 0045f470
 */

undefined4 * __thiscall FUN_0045f470(void *this,byte param_1)

{
  FUN_0045f490((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_0045f490
 * Address: 0045f490
 */

void __fastcall FUN_0045f490(undefined4 *param_1)

{
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  puStack_8 = &LAB_00472418;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  *param_1 = &PTR_FUN_00476e38;
  local_4 = 0;
  FUN_00403040();
  local_4 = 0xffffffff;
  FUN_004539d0(param_1);
  ExceptionList = pvStack_c;
  return;
}



/*
 * Function: FUN_0045f4f0
 * Address: 0045f4f0
 */

void __fastcall FUN_0045f4f0(int param_1)

{
  *(undefined4 *)(param_1 + 0x164) = 2;
  *(undefined4 *)(param_1 + 0x158) = 0;
  *(undefined4 *)(param_1 + 0x168) = 0;
  *(undefined4 *)(param_1 + 0x184) = 0;
  *(undefined4 *)(param_1 + 0x188) = 0;
  *(undefined4 *)(param_1 + 0x22c) = 0;
  *(undefined4 *)(param_1 + 0x228) = 0;
  *(undefined4 *)(param_1 + 0x210) = 0;
  *(undefined4 *)(param_1 + 0x234) = 0;
  *(undefined4 *)(param_1 + 0x254) = 0;
  *(undefined4 *)(param_1 + 600) = 0;
  *(undefined4 *)(param_1 + 0xc0) = 1;
  return;
}



/*
 * Function: FUN_0045f550
 * Address: 0045f550
 */

void __fastcall FUN_0045f550(int param_1)

{
  int iVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  short sVar10;
  RKC_RPGSCRN_RECT *pRVar11;
  int *piVar12;
  short *psVar13;
  short *psVar14;
  short *psVar15;
  long lVar16;
  long lVar17;
  long lVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  int local_10;
  int local_c;
  int local_8;
  int local_4;
  
  iVar1 = FUN_00455ee0(DAT_0048ce08,5,0xa7d8e8);
  if ((((*(int *)(*(int *)(param_1 + 0x214) + 0x15e4) != 0) &&
       (iVar2 = *(int *)(param_1 + 0x164), iVar2 != 7)) && (iVar2 != 10)) &&
     ((iVar2 != 8 && (0 < *(int *)(param_1 + 0xfc))))) {
    local_10 = *(int *)(param_1 + 0x28) + 1;
    local_c = *(int *)(param_1 + 0x2c) + 1;
    local_8 = local_10;
    local_4 = local_c;
    iVar2 = FUN_00456210(DAT_0048ce04);
    if (iVar2 == *(int *)(param_1 + 0x5c)) {
      lVar16 = *(long *)(param_1 + 4);
      lVar22 = 1000;
      lVar21 = 1000;
      lVar20 = 1000;
      pRVar19 = (RKC_RPGSCRN_RECT *)0x0;
      lVar18 = 1000;
      lVar17 = 0;
      psVar15 = (short *)0x0;
      psVar14 = (short *)0x0;
      psVar13 = (short *)0x0;
      pRVar11 = (RKC_RPGSCRN_RECT *)&local_10;
      piVar12 = (int *)0x0;
      pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      lVar8 = *(long *)(param_1 + 0x18);
      lVar7 = *(long *)(param_1 + 0x234);
      lVar9 = *(long *)(param_1 + 0x1c);
      sVar10 = 0;
      lVar6 = 8;
      lVar5 = 0;
      lVar4 = FUN_004663a0(iVar1);
      RKC_RPGSCRN_CHARANIMBLOCK::SetObject
                (DAT_00482d20,lVar4,lVar5,lVar6,lVar7,lVar8,lVar9,sVar10,pRVar3,pRVar11,piVar12,
                 psVar13,psVar14,psVar15,lVar16,lVar17,lVar18,pRVar19,lVar20,lVar21,lVar22);
    }
    *(int *)(param_1 + 0x234) = *(int *)(param_1 + 0x234) + 1;
  }
  return;
}



/*
 * Function: FUN_0045f670
 * Address: 0045f670
 */

void __fastcall FUN_0045f670(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  longlong lVar4;
  
  param_1[0x8e] = 0;
  iVar1 = FUN_00434c90(DAT_0048ce0c,param_1[1] % 10);
  FUN_00453a40(param_1,iVar1);
  param_1[8] = param_1[0x4e];
  param_1[9] = param_1[0x4f];
  param_1[10] = param_1[0x50];
  param_1[0xb] = param_1[0x51];
  iVar1 = param_1[0x85];
  if (0 < *(int *)(iVar1 + 0x1a4)) {
    if (*(int *)(iVar1 + 0x15c) == 0) {
      if (param_1[0x3f] < 1) {
        if (param_1[0x59] != 6) {
          param_1[0x59] = 6;
          param_1[0x56] = 0;
          param_1[0x5a] = 1;
          param_1[0x5b] = 0;
        }
      }
      else if (param_1[0x5a] == 0) {
        if (*(int *)(iVar1 + 0x15a0) == 1) {
          iVar1 = param_1[0x3e];
          iVar3 = param_1[0x3f] + iVar1 / 1000;
          param_1[0x3f] = iVar3;
          iVar2 = param_1[0x96] + iVar1 % 1000;
          param_1[0x96] = iVar2;
          if (999 < iVar2) {
            param_1[0x3f] = iVar3 + 1;
            param_1[0x96] = iVar2 + -1000;
          }
          if (iVar1 < param_1[0x3f]) {
            param_1[0x3f] = iVar1;
          }
        }
        if ((DAT_00482db0 != 0) && (param_1[0x18] == 1)) {
          lVar4 = FUN_00414310(param_1[0x1c],param_1[0x1d],param_1[6],param_1[7]);
          if (299 < (int)lVar4) {
            param_1[4] = param_1[0x1e];
            param_1[6] = param_1[0x1c];
            param_1[7] = param_1[0x1d];
            FUN_004542f0(param_1 + 0x66,param_1 + 6);
          }
          param_1[0x18] = 0;
        }
        switch(param_1[0x61]) {
        case 0:
          FUN_004622b0(param_1);
          break;
        case 1:
          FUN_004624e0(param_1);
          break;
        case 2:
          FUN_00462610(param_1);
          break;
        case 3:
          FUN_00462790((int)param_1);
          break;
        case 5:
          FUN_004627b0((int)param_1);
          break;
        case 6:
          FUN_004627d0((int)param_1);
        }
      }
    }
    else {
      *(int *)(iVar1 + 0x15c) = *(int *)(iVar1 + 0x15c) + -1;
      iVar1 = param_1[0x85];
      if (*(int *)(iVar1 + 0x15c) == 0) {
        param_1[0x61] = 2;
        param_1[0x3f] = param_1[0x3e];
        param_1[6] = *(int *)(iVar1 + 0x2e0);
        param_1[7] = *(int *)(iVar1 + 0x2e4);
        param_1[0x59] = 8;
        param_1[0x62] = 0;
        param_1[0x5a] = 1;
        param_1[0x56] = 0;
      }
    }
    iVar1 = param_1[0x59];
    if (iVar1 == 2) {
      param_1[0x8b] = param_1[0x8b] + 1;
    }
    else {
      param_1[0x8b] = 0;
    }
    if ((param_1[0x5a] != 1) && (iVar2 = param_1[0x62], iVar2 != 0)) {
      param_1[0x59] = 0;
      param_1[0x62] = 0;
      iVar1 = iVar2;
    }
    FUN_0045f960(param_1,iVar1);
  }
  (**(code **)(*param_1 + 0xc))();
  FUN_0045f550((int)param_1);
  if (param_1[0x8f] != *(int *)(param_1[0x85] + 0x15a0)) {
    param_1[0x8e] = 1;
  }
  (**(code **)(*param_1 + 0x18))();
  if (param_1[0x84] != 0) {
    param_1[0x84] = param_1[0x84] + -1;
  }
  if (param_1[0x8a] != 0) {
    param_1[0x8a] = param_1[0x8a] + -1;
  }
  param_1[0x8f] = *(int *)(param_1[0x85] + 0x15a0);
  return;
}



/*
 * Function: FUN_0045f960
 * Address: 0045f960
 */

undefined4 __thiscall FUN_0045f960(void *this,undefined4 param_1)

{
  undefined4 uVar1;
  
  switch(param_1) {
  case 1:
    uVar1 = FUN_0045fff0(this);
    return uVar1;
  case 2:
    uVar1 = FUN_00461230(this);
    return uVar1;
  case 3:
    uVar1 = FUN_00461390((int)this);
    return uVar1;
  case 4:
    uVar1 = FUN_00461510((int)this);
    return uVar1;
  case 5:
    uVar1 = FUN_004616d0((int)this);
    return uVar1;
  case 6:
    uVar1 = FUN_00461990((int)this);
    return uVar1;
  case 7:
    uVar1 = FUN_00460420(this);
    return uVar1;
  case 8:
    uVar1 = FUN_004610b0((int)this);
    return uVar1;
  case 9:
    uVar1 = FUN_00460a00(this);
    return uVar1;
  case 10:
    uVar1 = FUN_00461c40(this);
    return uVar1;
  default:
    return 0xffffffff;
  }
}



/*
 * Function: FUN_0045ff50
 * Address: 0045ff50
 */

void __fastcall FUN_0045ff50(int param_1)

{
  int iVar1;
  
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(*(int *)(param_1 + 0x3c) + 8) = 0;
  *(undefined2 *)(*(int *)(param_1 + 0x40) + 2) = *(undefined2 *)(param_1 + 300);
  *(undefined2 *)(*(int *)(param_1 + 0x44) + 2) = *(undefined2 *)(param_1 + 0x130);
  *(undefined2 *)(*(int *)(param_1 + 0x48) + 2) = *(undefined2 *)(param_1 + 0x134);
  RKC_RPGSCRN_OBJECT::SetStatus(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58),0);
  RKC_RPGSCRN_OBJECT::SetPosition
            (*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58),(RKC_RPGSCRN_POSITION *)(param_1 + 0x18));
  RKC_RPGSCRN_OBJECT::SetJudgement
            (*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58),(RKC_RPGSCRN_RECT *)(param_1 + 0x20));
  iVar1 = *(int *)(param_1 + 0x164);
  if ((((iVar1 != 7) && (iVar1 != 10)) && (iVar1 != 6)) &&
     ((iVar1 != 9 && (0 < *(int *)(*(int *)(param_1 + 0x214) + 0x1a4))))) {
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) | 0x80000000;
  }
  return;
}



/*
 * Function: FUN_0045fff0
 * Address: 0045fff0
 */

undefined4 __fastcall FUN_0045fff0(void *param_1)

{
  bool bVar1;
  bool bVar2;
  short sVar3;
  ushort uVar4;
  long lVar5;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_01;
  RKC_RPGSCRN_CHARANIMCELL *this_02;
  void *this_03;
  int *piVar6;
  undefined3 extraout_var;
  uint uVar7;
  int iVar8;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar9;
  long lVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  longlong lVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  short *psVar19;
  short *psVar20;
  short *psVar21;
  long lVar22;
  long lVar23;
  RKC_RPGSCRN_RECT *pRVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  undefined4 uStack_12c;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  int iStack_b4;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 uStack_1c;
  undefined4 uStack_14;
  
  bVar1 = false;
  bVar2 = false;
  if (*(int *)((int)param_1 + 0x164) == 1) {
    iVar11 = *(int *)((int)param_1 + 0x15c);
    lVar14 = __ftol();
    *(int *)((int)param_1 + 0x158) = (int)lVar14;
    *(int *)((int)param_1 + 0x15c) = iVar11 + 1;
  }
  else {
    *(undefined4 *)((int)param_1 + 0x164) = 1;
    *(undefined4 *)((int)param_1 + 0x168) = 1;
    *(undefined4 *)((int)param_1 + 0x158) = 0;
    *(undefined4 *)((int)param_1 + 0x160) = 0xffffffff;
    *(undefined4 *)((int)param_1 + 0x15c) = 0;
  }
  lVar5 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
  this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar5);
  this_00 = RKC_RPGSCRN_CHARANIM::Get(this,5);
  sVar3 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)((int)param_1 + 0x10));
  iVar11 = (int)sVar3;
  if ((*(int *)((int)param_1 + 0x158) < iVar11) &&
     (*(int *)((int)param_1 + 0x158) != *(int *)((int)param_1 + 0x160))) {
    this_01 = RKC_RPGSCRN_CHARANIMCHART::Get(this_00,*(long *)((int)param_1 + 0x10),0);
    if ((this_01 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
       (iVar13 = *(int *)((int)param_1 + 0x160) + 1, iVar13 <= *(int *)((int)param_1 + 0x158))) {
      do {
        this_02 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_01,iVar13);
        if (this_02 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
          uVar4 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
          if ((uVar4 & 0x40) != 0) {
            bVar1 = true;
          }
          uVar4 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_02);
          if ((uVar4 & 0x400) != 0) {
            bVar2 = true;
          }
        }
        iVar13 = iVar13 + 1;
      } while (iVar13 <= *(int *)((int)param_1 + 0x158));
      if (bVar2) {
        FUN_00453c60(param_1,0,0x5f,0);
      }
      if (bVar1) {
        iVar13 = FUN_00453fa0(param_1,2,*(int *)((int)param_1 + 0xf4),1);
        if (iVar13 != -1) {
          this_03 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
          iVar13 = FUN_004299e0(this_03,iVar13);
          piVar6 = (int *)FUN_00434cd0(iVar13);
          if (0 < piVar6[0x35]) {
            bVar2 = FUN_00413e00(*(int *)((int)param_1 + 0x104),piVar6[0x3b]);
            if (CONCAT31(extraout_var,bVar2) == 0) {
              FUN_00417a60(0,(int)piVar6);
            }
            else {
              FUN_00417e70((int)&uStack_13c);
              uStack_134 = *(undefined4 *)((int)param_1 + 4);
              uStack_12c = *(undefined4 *)((int)param_1 + 0x100);
              uStack_13c = 1;
              uStack_138 = 0;
              uStack_c0 = *(undefined4 *)(*(int *)((int)param_1 + 0x214) + 0x154);
              uStack_bc = *(undefined4 *)((int)param_1 + 0xe0);
              uVar7 = _rand();
              uVar7 = uVar7 & 0x80000003;
              if ((int)uVar7 < 0) {
                uVar7 = (uVar7 - 1 | 0xfffffffc) + 1;
              }
              iStack_b4 = uVar7 + 21000;
              uStack_98 = 0xffffffff;
              uStack_90 = 0xffffffff;
              uStack_14 = 0xffffffff;
              uStack_a8 = 0;
              uStack_a4 = 1;
              uStack_a0 = 0;
              uStack_9c = 0;
              uStack_94 = 0;
              uStack_8c = 0;
              uStack_1c = 1;
              uStack_130 = 0;
              (**(code **)(*piVar6 + 0x14))(&uStack_13c,(int)param_1 + 0x18);
              *(undefined4 *)((int)param_1 + 0x238) = 1;
              FUN_00453c60(param_1,0,0x2c,0);
            }
          }
        }
      }
    }
  }
  iVar13 = *(int *)((int)param_1 + 0x158);
  if (iVar11 <= iVar13) {
    iVar13 = iVar11 + -1;
  }
  iVar8 = FUN_00456210(DAT_0048ce04);
  if (iVar8 == *(int *)((int)param_1 + 0x5c)) {
    uVar7 = *(uint *)((int)param_1 + 0x228) & 0x80000001;
    if ((int)uVar7 < 0) {
      uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
    }
    lVar5 = *(long *)((int)param_1 + 4);
    psVar20 = *(short **)((int)param_1 + 0x44);
    lVar27 = 1000;
    lVar26 = 1000;
    iVar8 = (-(uint)(uVar7 != 0) & 2) - 1;
    lVar25 = 1000;
    pRVar24 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar23 = 1000;
    psVar21 = *(short **)((int)param_1 + 0x48);
    lVar22 = 0;
    psVar19 = *(short **)((int)param_1 + 0x40);
    piVar6 = *(int **)((int)param_1 + 0x3c);
    pRVar18 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar9 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    lVar17 = *(long *)((int)param_1 + 0x158);
    iVar12 = *(int *)((int)param_1 + 0x1c) + iVar8 * -10;
    iVar8 = *(int *)((int)param_1 + 0x18) + iVar8 * 10;
    lVar16 = *(long *)((int)param_1 + 0x10);
    lVar15 = 5;
    lVar10 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar10,lVar15,lVar16,lVar17,iVar8,iVar12,sVar3,pRVar9,pRVar18,piVar6,
               psVar19,psVar20,psVar21,lVar5,lVar22,lVar23,pRVar24,lVar25,lVar26,lVar27);
  }
  *(undefined4 *)((int)param_1 + 0x160) = *(undefined4 *)((int)param_1 + 0x158);
  if (iVar13 == iVar11 + -1) {
    *(undefined4 *)((int)param_1 + 0x168) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 2;
  }
  return 0;
}



/*
 * Function: FUN_00460420
 * Address: 00460420
 */

undefined4 __fastcall FUN_00460420(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *pRVar5;
  RKC_RPGSCRN_CHARANIMCHART *pRVar6;
  int iVar7;
  void *pvVar8;
  int iVar9;
  int iVar10;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  RKC_RPGSCRN_OBJECTDISPCELL *this_01;
  RKC_RPGSCRN_OBJECT *this_02;
  undefined4 *puVar12;
  undefined4 *puVar13;
  int *piVar14;
  undefined3 extraout_var;
  long lVar15;
  long lVar16;
  RKC_RPGSCRN_RECT *pRVar17;
  short *psVar18;
  short *psVar19;
  short *psVar20;
  long lVar21;
  RKC_RPGSCRN_OBJECTDISP *pRVar22;
  long lVar23;
  tagRECT *ptVar24;
  long lVar25;
  RKC_RPGSCRN_RECT *pRVar26;
  int iVar27;
  long lVar28;
  uint uVar29;
  long lVar30;
  int iVar31;
  long lVar32;
  long lStack_164;
  RKC_RPGSCRN_OBJECTDISP local_160 [8];
  int iStack_158;
  long lStack_154;
  tagRECT tStack_150;
  undefined4 uStack_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  int iStack_b8;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_20;
  undefined4 uStack_18;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_0047243c;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_160);
  uStack_4 = 0;
  if (*(int *)((int)param_1 + 0x164) != 7) {
    *(undefined4 *)((int)param_1 + 0x158) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 7;
    *(undefined4 *)((int)param_1 + 0x168) = 1;
  }
  lVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,6);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,8);
  iVar7 = (int)sVar2;
  lVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,7);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,8);
  iStack_158 = (int)sVar2;
  if (*(int *)((int)param_1 + 0x158) == iVar7) {
    FUN_00453c60(param_1,0,0x2d,0);
    iVar9 = *(int *)((int)param_1 + 0x18c);
    if (iVar9 != -1) {
      pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
      iVar9 = FUN_004299e0(pvVar8,iVar9);
      if (iVar9 != 0) {
        iVar31 = 0;
        uVar29 = 2;
        piVar14 = (int *)((int)param_1 + 0x20);
        iVar27 = 0;
        iVar10 = FUN_00434cd0(iVar9);
        iVar10 = FUN_004145b0(*(int *)((int)param_1 + 0x5c),-1,(int *)(iVar10 + 0x18),piVar14,iVar27
                              ,uVar29,iVar31);
        if (iVar10 == 1) {
          iVar9 = FUN_00434cd0(iVar9);
          *(undefined4 *)((int)param_1 + 0x18) = *(undefined4 *)(iVar9 + 0x18);
          *(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)(iVar9 + 0x1c);
          goto LAB_00460564;
        }
      }
    }
    *(undefined4 *)((int)param_1 + 0x18) = *(undefined4 *)((int)param_1 + 400);
    *(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)((int)param_1 + 0x194);
  }
LAB_00460564:
  if (iVar7 <= *(int *)((int)param_1 + 0x158)) {
    iVar9 = -(*(int *)((int)param_1 + 0x154) / 2);
    *(int *)((int)param_1 + 0x20) = iVar9;
    *(int *)((int)param_1 + 0x24) = iVar9;
    iVar9 = *(int *)((int)param_1 + 0x154) / 2;
    *(int *)((int)param_1 + 0x28) = iVar9;
    *(int *)((int)param_1 + 0x2c) = iVar9;
    this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar6,8,0);
    if (((this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
        (this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,*(int *)((int)param_1 + 0x158) - iVar7),
        this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) &&
       (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
      FUN_00453c60(param_1,0,0x2e,0);
      RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_160,DAT_00482d14);
      SetRect(&tStack_150,*(int *)((int)param_1 + 0x18) + *(int *)((int)param_1 + 0x20),
              *(int *)((int)param_1 + 0x1c) + *(int *)((int)param_1 + 0x24),
              *(int *)((int)param_1 + 0x18) + *(int *)((int)param_1 + 0x28),
              *(int *)((int)param_1 + 0x2c) + *(int *)((int)param_1 + 0x1c));
      iVar31 = 0;
      iVar27 = 0;
      iVar10 = 0;
      ptVar24 = &tStack_150;
      iVar9 = 0;
      pRVar22 = local_160;
      pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)((int)param_1 + 0x5c));
      RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject
                (pRVar11,pRVar22,ptVar24,iVar9,iVar10,iVar27,iVar31);
      lStack_154 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_160);
      if ((lStack_154 != 0) && (lStack_164 = 0, 0 < lStack_154)) {
        do {
          this_01 = RKC_RPGSCRN_OBJECTDISP::Get(local_160,lStack_164);
          if (this_01 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
            this_02 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_01);
            lVar4 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_02);
            pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
            puVar12 = (undefined4 *)FUN_004299e0(pvVar8,lVar4);
            if ((puVar12 != (undefined4 *)0x0) &&
               (iVar9 = FUN_00434cd0((int)puVar12),
               *(int *)(iVar9 + 4) != *(int *)((int)param_1 + 4))) {
              pvVar8 = (void *)0x80000000;
              iVar9 = FUN_00434cd0((int)puVar12);
              uVar29 = FUN_00417070(&DAT_00482df4,*(int *)(iVar9 + 4),pvVar8);
              if (uVar29 != 0) {
                iVar9 = FUN_00427b20(puVar12);
                if (iVar9 == 0) {
                  iVar9 = FUN_00434cd0((int)puVar12);
                  if (*(int *)(iVar9 + 0xec) == -1) {
                    if (((*(byte *)(*(int *)((int)param_1 + 0x214) + 0x2d0) & 1) != 0) &&
                       (iVar9 = FUN_00434cd0((int)puVar12), *(int *)(iVar9 + 0xe8) == 1)) {
                      iVar9 = FUN_00434cd0((int)puVar12);
                      lVar4 = *(long *)(iVar9 + 4);
                      iVar9 = *(int *)((int)param_1 + 4) % 10;
                      pvVar8 = (void *)FUN_00466410(*(int *)((int)param_1 + 0x5c));
                      FUN_004308c0(pvVar8,iVar9,lVar4);
                    }
                  }
                  else {
                    iVar9 = FUN_00434cd0((int)puVar12);
                    iVar9 = *(int *)(iVar9 + 0xec) + 14000000;
                    pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
                    puVar13 = (undefined4 *)FUN_004299e0(pvVar8,iVar9);
                    if (puVar13 != (undefined4 *)0x0) {
                      puVar12 = puVar13;
                    }
                  }
                }
                iVar9 = FUN_00427b20(puVar12);
                if (iVar9 == 5) {
                  FUN_00434cd0((int)puVar12);
                }
                iVar9 = FUN_00427b20(puVar12);
                if ((iVar9 == 2) && (iVar9 = FUN_00434cd0((int)puVar12), 0 < *(int *)(iVar9 + 0xd4))
                   ) {
                  piVar14 = (int *)FUN_00434cd0((int)puVar12);
                  bVar1 = FUN_00413e00(*(int *)((int)param_1 + 0x104),piVar14[0x3b]);
                  if (CONCAT31(extraout_var,bVar1) != 0) {
                    FUN_00417e70((int)&uStack_140);
                    uStack_138 = *(undefined4 *)((int)param_1 + 4);
                    uStack_140 = 1;
                    uStack_13c = 0;
                    uStack_c0 = *(undefined4 *)((int)param_1 + 0xe0);
                    uStack_130 = 0;
                    uStack_c4 = *(undefined4 *)(*(int *)((int)param_1 + 0x214) + 0x154);
                    uVar29 = _rand();
                    uVar29 = uVar29 & 0x80000003;
                    if ((int)uVar29 < 0) {
                      uVar29 = (uVar29 - 1 | 0xfffffffc) + 1;
                    }
                    uStack_a0 = *(undefined4 *)((int)param_1 + 0x150);
                    uStack_9c = *(undefined4 *)((int)param_1 + 0x148);
                    iStack_b8 = uVar29 + 21000;
                    uStack_94 = *(undefined4 *)((int)param_1 + 0x14c);
                    uStack_ac = 0;
                    uStack_a8 = 1;
                    uStack_20 = 1;
                    uStack_a4 = 0;
                    uStack_98 = 0;
                    uStack_90 = 0;
                    uStack_134 = 0;
                    uStack_18 = 0xffffffff;
                    (**(code **)(*piVar14 + 0x14))(&uStack_140,(int)param_1 + 0x18);
                    *(undefined4 *)((int)param_1 + 0x238) = 1;
                  }
                }
                FUN_00427b20(puVar12);
              }
            }
          }
          lStack_164 = lStack_164 + 1;
        } while (lStack_164 < lStack_154);
      }
    }
    if (*(int *)((int)param_1 + 0x158) == iVar7) {
      FUN_00453c60(param_1,0,0x2d,0);
    }
  }
  iVar9 = FUN_00456210(DAT_0048ce04);
  if (iVar9 == *(int *)((int)param_1 + 0x5c)) {
    iVar9 = *(int *)((int)param_1 + 0x158);
    if (iVar9 < iVar7) {
      lVar4 = 6;
    }
    else {
      iVar9 = iVar9 - iVar7;
      lVar4 = 7;
    }
    uVar29 = *(uint *)((int)param_1 + 0x228) & 0x80000001;
    if ((int)uVar29 < 0) {
      uVar29 = (uVar29 - 1 | 0xfffffffe) + 1;
    }
    lVar21 = *(long *)((int)param_1 + 4);
    psVar20 = *(short **)((int)param_1 + 0x48);
    lVar32 = 1000;
    lVar30 = 1000;
    iVar10 = (-(uint)(uVar29 != 0) & 2) - 1;
    lVar28 = 1000;
    pRVar26 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar25 = 1000;
    psVar19 = *(short **)((int)param_1 + 0x44);
    lVar23 = 0;
    psVar18 = *(short **)((int)param_1 + 0x40);
    piVar14 = *(int **)((int)param_1 + 0x3c);
    pRVar17 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    iVar27 = *(int *)((int)param_1 + 0x1c) + iVar10 * -10;
    iVar10 = *(int *)((int)param_1 + 0x18) + iVar10 * 10;
    lVar16 = 8;
    lVar15 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar15,lVar4,lVar16,iVar9,iVar10,iVar27,sVar2,pRVar11,pRVar17,piVar14,
               psVar18,psVar19,psVar20,lVar21,lVar23,lVar25,pRVar26,lVar28,lVar30,lVar32);
  }
  if (*(int *)((int)param_1 + 0x158) == iStack_158 + -1 + iVar7) {
    *(undefined4 *)((int)param_1 + 0x168) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 2;
  }
  *(int *)((int)param_1 + 0x158) = *(int *)((int)param_1 + 0x158) + 1;
  uStack_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_160);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_00460a00
 * Address: 00460a00
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __fastcall FUN_00460a00(void *param_1)

{
  double dVar1;
  undefined4 uVar2;
  short sVar3;
  undefined4 uVar4;
  RKC_RPG_TABLEDATA *this;
  long lVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECT *this_01;
  long lVar7;
  void *pvVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  int *piVar11;
  undefined3 extraout_var;
  long lVar12;
  uint uVar13;
  bool bVar14;
  undefined1 auVar15 [10];
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  short *psVar19;
  short *psVar20;
  short *psVar21;
  RKC_RPGSCRN_OBJECTDISP *pRVar22;
  long lVar23;
  tagRECT *ptVar24;
  long lVar25;
  RKC_RPGSCRN_RECT *pRVar26;
  undefined8 uVar27;
  long lVar28;
  int iVar29;
  long lVar30;
  int iVar31;
  long lVar32;
  RKC_RPGSCRN_OBJECTDISP local_18c [8];
  int iStack_184;
  int iStack_180;
  int iStack_17c;
  int iStack_178;
  undefined4 uStack_174;
  undefined8 uStack_170;
  int iStack_168;
  int iStack_164;
  int aiStack_160 [2];
  tagRECT tStack_158;
  undefined4 uStack_148;
  undefined4 uStack_144;
  undefined4 uStack_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_cc;
  undefined4 uStack_c8;
  int iStack_c0;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_28;
  undefined4 uStack_20;
  undefined4 uStack_18;
  void *pvStack_14;
  undefined *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_0047245c;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_18c);
  uStack_c = 0;
  iStack_17c = 0;
  if (*(int *)((int)param_1 + 0x164) != 9) {
    *(undefined4 *)((int)param_1 + 0x164) = 9;
    *(undefined4 *)((int)param_1 + 0x158) = 0;
    *(undefined4 *)((int)param_1 + 0x168) = 1;
    *(undefined4 *)((int)param_1 + 0x248) = 0x1e;
    auVar15 = FUN_00414080(*(int *)((int)param_1 + 400) - *(int *)((int)param_1 + 0x18),
                           *(int *)((int)param_1 + 0x194) - *(int *)((int)param_1 + 0x1c));
    dVar1 = (double)(float10)auVar15;
    uStack_170._4_4_ = (undefined4)((ulonglong)dVar1 >> 0x20);
    uVar4 = uStack_170._4_4_;
    uStack_170._0_4_ = SUB84(dVar1,0);
    *(double *)((int)param_1 + 0x240) = (double)(float10)auVar15;
    uVar2 = (int)uStack_170;
    uStack_170 = dVar1;
    uVar4 = FUN_004140f0(uVar2,uVar4);
    *(undefined4 *)((int)param_1 + 0x10) = uVar4;
    *(undefined4 *)((int)param_1 + 0x24c) = 0;
    *(undefined4 *)((int)param_1 + 0x250) = 0;
  }
  if (*(int *)((int)param_1 + 0x250) == 0) {
    if (*(int *)((int)param_1 + 0x158) < 10) {
      iStack_180 = *(int *)((int)param_1 + 0x158) / 3 + 1;
    }
    else {
      iStack_178 = *(int *)((int)param_1 + 0x18);
      uStack_174 = *(undefined4 *)((int)param_1 + 0x1c);
      piVar11 = (int *)((int)param_1 + 0x18);
      FUN_004140a0(piVar11,*(double *)((int)param_1 + 0x240),*(undefined4 *)((int)param_1 + 0x248),
                   aiStack_160);
      FUN_00414990(*(int *)((int)param_1 + 0x5c),*(int *)((int)param_1 + 4),piVar11,
                   (int *)((int)param_1 + 0x20),aiStack_160,&iStack_178,0,0,2,0);
      *piVar11 = iStack_178;
      *(undefined4 *)((int)param_1 + 0x1c) = uStack_174;
      *(int *)((int)param_1 + 0x248) = *(int *)((int)param_1 + 0x248) + 8;
      if (0x11 < *(int *)((int)param_1 + 0x158)) {
        *(undefined4 *)(*(int *)((int)param_1 + 0x3c) + 8) = 1;
      }
      iStack_180 = 5;
    }
    iVar29 = *(int *)((int)param_1 + 0x138);
    iVar31 = *(int *)((int)param_1 + 0x13c);
    iStack_168 = (*(int *)((int)param_1 + 0x140) * 0x13) / 10;
    iStack_164 = (*(int *)((int)param_1 + 0x144) * 0x13) / 10;
    this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
    lVar5 = RKC_RPG_TABLEDATA::GetValue(this,*(long *)(*(int *)((int)param_1 + 0x214) + 0x150),6);
    if ((lVar5 != 0) && (*(int *)((int)param_1 + 0x158) == 0)) {
      FUN_00453c60(param_1,0,0x5f,0);
    }
    uVar13 = *(uint *)((int)param_1 + 0x158) & 0x80000003;
    bVar14 = uVar13 == 0;
    if ((int)uVar13 < 0) {
      bVar14 = (uVar13 - 1 | 0xfffffffc) == 0xffffffff;
    }
    if ((bVar14) && (9 < (int)*(uint *)((int)param_1 + 0x158))) {
      RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_18c,DAT_00482d14);
      SetRect(&tStack_158,*(int *)((int)param_1 + 0x18) + (iVar29 * 0x13) / 10,
              *(int *)((int)param_1 + 0x1c) + (iVar31 * 0x13) / 10,
              iStack_168 + *(int *)((int)param_1 + 0x18),iStack_164 + *(int *)((int)param_1 + 0x1c))
      ;
      iVar31 = 0;
      iVar29 = 0;
      ptVar24 = &tStack_158;
      uVar27 = 0;
      pRVar22 = local_18c;
      pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)((int)param_1 + 0x5c));
      RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject
                (pRVar6,pRVar22,ptVar24,(int)uVar27,(int)((ulonglong)uVar27 >> 0x20),iVar29,iVar31);
      lVar5 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_18c);
      uStack_170 = (double)CONCAT44(uStack_170._4_4_,lVar5);
      if (lVar5 != 0) {
        iStack_184 = 0;
        if (0 < lVar5) {
          do {
            this_00 = RKC_RPGSCRN_OBJECTDISP::Get(local_18c,iStack_184);
            if (this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
              this_01 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
              lVar7 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_01);
              pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
              puVar9 = (undefined4 *)FUN_004299e0(pvVar8,lVar7);
              if (puVar9 != (undefined4 *)0x0) {
                iVar29 = FUN_00434cd0((int)puVar9);
                if (*(int *)(iVar29 + 4) != *(int *)((int)param_1 + 4)) {
                  pvVar8 = (void *)0x80000000;
                  iVar29 = FUN_00434cd0((int)puVar9);
                  uVar13 = FUN_00417070(&DAT_00482df4,*(int *)(iVar29 + 4),pvVar8);
                  if (uVar13 != 0) {
                    iVar29 = FUN_00427b20(puVar9);
                    if (iVar29 == 0) {
                      iVar29 = FUN_00434cd0((int)puVar9);
                      if (*(int *)(iVar29 + 0xec) == -1) {
                        if ((*(byte *)(*(int *)((int)param_1 + 0x214) + 0x2d0) & 1) != 0) {
                          iVar29 = FUN_00434cd0((int)puVar9);
                          if (*(int *)(iVar29 + 0xe8) == 1) {
                            iVar29 = FUN_00434cd0((int)puVar9);
                            lVar5 = *(long *)(iVar29 + 4);
                            iVar29 = *(int *)((int)param_1 + 4) % 10;
                            pvVar8 = (void *)FUN_00466410(*(int *)((int)param_1 + 0x5c));
                            FUN_004308c0(pvVar8,iVar29,lVar5);
                          }
                        }
                      }
                      else {
                        iVar29 = FUN_00434cd0((int)puVar9);
                        iVar29 = *(int *)(iVar29 + 0xec) + 14000000;
                        pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
                        puVar10 = (undefined4 *)FUN_004299e0(pvVar8,iVar29);
                        if (puVar10 != (undefined4 *)0x0) {
                          puVar9 = puVar10;
                        }
                      }
                    }
                    iVar29 = FUN_00427b20(puVar9);
                    if (iVar29 == 5) {
                      FUN_00434cd0((int)puVar9);
                    }
                    iVar29 = FUN_00427b20(puVar9);
                    if (iVar29 == 2) {
                      iVar29 = FUN_00434cd0((int)puVar9);
                      if (0 < *(int *)(iVar29 + 0xd4)) {
                        piVar11 = (int *)FUN_00434cd0((int)puVar9);
                        bVar14 = FUN_00413e00(*(int *)((int)param_1 + 0x104),piVar11[0x3b]);
                        if (CONCAT31(extraout_var,bVar14) != 0) {
                          FUN_00417e70((int)&uStack_148);
                          uStack_140 = *(undefined4 *)((int)param_1 + 4);
                          uStack_138 = *(undefined4 *)((int)param_1 + 0x100);
                          uStack_148 = 1;
                          uStack_144 = 0;
                          uStack_cc = *(undefined4 *)(*(int *)((int)param_1 + 0x214) + 0x154);
                          uStack_c8 = *(undefined4 *)((int)param_1 + 0xe0);
                          uVar13 = _rand();
                          uVar13 = uVar13 & 0x80000003;
                          if ((int)uVar13 < 0) {
                            uVar13 = (uVar13 - 1 | 0xfffffffc) + 1;
                          }
                          iStack_c0 = uVar13 + 21000;
                          uStack_b4 = 0;
                          uStack_b0 = 1;
                          uStack_ac = 0;
                          uStack_a8 = 0;
                          uStack_a4 = 100;
                          uStack_a0 = 0;
                          uStack_9c = 10;
                          uStack_98 = 0;
                          uStack_28 = 0;
                          uStack_13c = 0;
                          uStack_20 = 0xffffffff;
                          uStack_18 = 3;
                          FUN_004140a0(piVar11 + 6,*(double *)((int)param_1 + 0x240) + _DAT_004751d8
                                       ,100,aiStack_160);
                          (**(code **)(*piVar11 + 0x14))(&uStack_148,aiStack_160);
                          *(undefined4 *)((int)param_1 + 0x250) = 5;
                          *(undefined4 *)((int)param_1 + 0x238) = 1;
                          iStack_17c = 1;
                        }
                      }
                    }
                    FUN_00427b20(puVar9);
                    lVar5 = (int)uStack_170;
                  }
                }
              }
            }
            iStack_184 = iStack_184 + 1;
          } while (iStack_184 < lVar5);
          if (iStack_17c != 0) {
            FUN_00453c60(param_1,0,6,0);
          }
        }
      }
    }
  }
  iVar29 = FUN_00456210(DAT_0048ce04);
  if (iVar29 == *(int *)((int)param_1 + 0x5c)) {
    uVar13 = *(uint *)((int)param_1 + 0x228) & 0x80000001;
    if ((int)uVar13 < 0) {
      uVar13 = (uVar13 - 1 | 0xfffffffe) + 1;
    }
    psVar21 = *(short **)((int)param_1 + 0x48);
    psVar20 = *(short **)((int)param_1 + 0x44);
    iVar29 = (-(uint)(uVar13 != 0) & 2) - 1;
    lVar32 = 1000;
    lVar30 = 1000;
    lVar5 = *(long *)((int)param_1 + 4);
    pRVar26 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar28 = 1000;
    lVar25 = 1000;
    lVar23 = 0;
    psVar19 = *(short **)((int)param_1 + 0x40);
    piVar11 = *(int **)((int)param_1 + 0x3c);
    pRVar18 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar3 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    lVar7 = *(long *)((int)param_1 + 0x24c);
    iVar31 = *(int *)((int)param_1 + 0x1c) + iVar29 * -10;
    iVar29 = *(int *)((int)param_1 + 0x18) + iVar29 * 10;
    lVar17 = *(long *)((int)param_1 + 0x10);
    lVar16 = 2;
    lVar12 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar12,lVar16,lVar17,lVar7,iVar29,iVar31,sVar3,pRVar6,pRVar18,piVar11,
               psVar19,psVar20,psVar21,lVar5,lVar23,lVar25,pRVar26,lVar28,lVar30,lVar32);
  }
  if (0x1b < *(int *)((int)param_1 + 0x158)) {
    *(undefined4 *)((int)param_1 + 0x168) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 2;
  }
  if (*(int *)((int)param_1 + 0x250) != 0) {
    *(int *)((int)param_1 + 0x250) = *(int *)((int)param_1 + 0x250) + -1;
  }
  if (*(int *)((int)param_1 + 0x250) == 0) {
    *(int *)((int)param_1 + 0x158) = *(int *)((int)param_1 + 0x158) + 1;
    *(int *)((int)param_1 + 0x24c) = *(int *)((int)param_1 + 0x24c) + iStack_180;
  }
  uStack_c = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_18c);
  ExceptionList = pvStack_14;
  return 0;
}



/*
 * Function: FUN_004610b0
 * Address: 004610b0
 */

undefined4 __fastcall FUN_004610b0(int param_1)

{
  short sVar1;
  short sVar2;
  long lVar3;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  int iVar4;
  uint uVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  int iVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  RKC_RPGSCRN_RECT *pRVar12;
  int *piVar13;
  short *psVar14;
  short *psVar15;
  short *psVar16;
  long lVar17;
  long lVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  RKC_RPGSCRN_OBJECTDISP local_14 [8];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00472479;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_14);
  uStack_4 = 0;
  if (*(int *)(param_1 + 0x164) != 8) {
    *(undefined4 *)(param_1 + 0x158) = 0;
    *(undefined4 *)(param_1 + 0x164) = 8;
    *(undefined4 *)(param_1 + 0x168) = 1;
  }
  lVar3 = FUN_004663a0(*(int *)(param_1 + 0x14));
  this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar3);
  this_00 = RKC_RPGSCRN_CHARANIM::Get(this,7);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,8);
  iVar4 = FUN_00456210(DAT_0048ce04);
  if (iVar4 == *(int *)(param_1 + 0x5c)) {
    uVar5 = *(uint *)(param_1 + 0x228) & 0x80000001;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
    }
    psVar16 = *(short **)(param_1 + 0x48);
    psVar15 = *(short **)(param_1 + 0x44);
    iVar4 = (-(uint)(uVar5 != 0) & 2) - 1;
    lVar22 = 1000;
    lVar21 = 1000;
    lVar20 = 1000;
    lVar3 = *(long *)(param_1 + 4);
    pRVar19 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar18 = 1000;
    lVar17 = 0;
    psVar14 = *(short **)(param_1 + 0x40);
    piVar13 = *(int **)(param_1 + 0x3c);
    pRVar12 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
    pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
    lVar11 = *(long *)(param_1 + 0x158);
    iVar7 = *(int *)(param_1 + 0x1c) + iVar4 * -10;
    iVar4 = *(int *)(param_1 + 0x18) + iVar4 * 10;
    lVar10 = 8;
    lVar9 = 7;
    lVar8 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar8,lVar9,lVar10,lVar11,iVar4,iVar7,sVar2,pRVar6,pRVar12,piVar13,
               psVar14,psVar15,psVar16,lVar3,lVar17,lVar18,pRVar19,lVar20,lVar21,lVar22);
  }
  if (*(int *)(param_1 + 0x158) == sVar1 + -1) {
    *(undefined4 *)(param_1 + 0x168) = 0;
    *(undefined4 *)(param_1 + 0x164) = 2;
    *(undefined4 *)(param_1 + 0x184) = 0;
  }
  *(int *)(param_1 + 0x158) = *(int *)(param_1 + 0x158) + 1;
  uStack_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_14);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_00461230
 * Address: 00461230
 */

undefined4 __fastcall FUN_00461230(void *param_1)

{
  short sVar1;
  RKC_RPG_TABLEDATA *this;
  long lVar2;
  int iVar3;
  uint uVar4;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar5;
  int iVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  RKC_RPGSCRN_RECT *pRVar10;
  int *piVar11;
  short *psVar12;
  short *psVar13;
  short *psVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  
  if (*(int *)((int)param_1 + 0x164) != 2) {
    *(undefined4 *)((int)param_1 + 0x158) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 2;
  }
  if (*(int *)((int)param_1 + 0x22c) < 0xb4) {
    lVar2 = 0;
  }
  else {
    this = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x3c);
    lVar2 = RKC_RPG_TABLEDATA::GetValue(this,*(long *)(*(int *)((int)param_1 + 0x214) + 0x150),6);
    if (lVar2 == 0) {
      lVar2 = 0;
      *(undefined4 *)((int)param_1 + 0x22c) = 0;
    }
    else {
      if (*(int *)((int)param_1 + 0x22c) == 0xb4) {
        FUN_00453c60(param_1,0,0x58,0);
      }
      lVar2 = 9;
      if (*(int *)((int)param_1 + 0x22c) == 0xd2) {
        *(undefined4 *)((int)param_1 + 0x22c) = 0;
      }
    }
  }
  iVar3 = FUN_00456210(DAT_0048ce04);
  if (iVar3 == *(int *)((int)param_1 + 0x5c)) {
    uVar4 = *(uint *)((int)param_1 + 0x228) & 0x80000001;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffffe) + 1;
    }
    psVar14 = *(short **)((int)param_1 + 0x48);
    psVar13 = *(short **)((int)param_1 + 0x44);
    iVar3 = (-(uint)(uVar4 != 0) & 2) - 1;
    lVar21 = 1000;
    lVar20 = 1000;
    lVar19 = 1000;
    lVar15 = *(long *)((int)param_1 + 4);
    pRVar18 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar17 = 1000;
    lVar16 = 0;
    psVar12 = *(short **)((int)param_1 + 0x40);
    piVar11 = *(int **)((int)param_1 + 0x3c);
    pRVar10 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    lVar9 = *(long *)((int)param_1 + 0x158);
    iVar6 = *(int *)((int)param_1 + 0x1c) + iVar3 * -10;
    iVar3 = *(int *)((int)param_1 + 0x18) + iVar3 * 10;
    lVar8 = *(long *)((int)param_1 + 0x10);
    lVar7 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar7,lVar2,lVar8,lVar9,iVar3,iVar6,sVar1,pRVar5,pRVar10,piVar11,psVar12
               ,psVar13,psVar14,lVar15,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
  }
  *(int *)((int)param_1 + 0x158) = *(int *)((int)param_1 + 0x158) + 1;
  return 0;
}



/*
 * Function: FUN_00461390
 * Address: 00461390
 */

undefined4 __fastcall FUN_00461390(int param_1)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar5;
  long lVar6;
  int iVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  RKC_RPGSCRN_RECT *pRVar11;
  int *piVar12;
  short *psVar13;
  short *psVar14;
  short *psVar15;
  long lVar16;
  long lVar17;
  long lVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  int local_8;
  undefined4 local_4;
  
  if (*(int *)(param_1 + 0x164) != 3) {
    *(undefined4 *)(param_1 + 0x158) = 0;
    *(undefined4 *)(param_1 + 0x164) = 3;
  }
  iVar2 = FUN_00454930((void *)(param_1 + 0x198),&local_8,0,2,0);
  if (iVar2 == 1) {
    iVar2 = *(int *)(param_1 + 0x1e0);
    if (iVar2 == 1) {
      *(undefined4 *)(param_1 + 0x10) = 3;
    }
    else if (iVar2 == 2) {
      *(undefined4 *)(param_1 + 0x10) = 7;
    }
    else if (iVar2 == 3) {
      *(undefined4 *)(param_1 + 0x10) = 5;
    }
    else if (iVar2 == 4) {
      *(undefined4 *)(param_1 + 0x10) = 1;
    }
    else {
      uVar3 = FUN_00413ec0(*(int *)(param_1 + 0x1b0) - *(int *)(param_1 + 0x18),
                           *(int *)(param_1 + 0x1b4) - *(int *)(param_1 + 0x1c));
      *(undefined4 *)(param_1 + 0x10) = uVar3;
    }
  }
  else {
    *(undefined4 *)(param_1 + 0x164) = 2;
  }
  *(int *)(param_1 + 0x18) = local_8;
  *(undefined4 *)(param_1 + 0x1c) = local_4;
  iVar2 = FUN_00456210(DAT_0048ce04);
  if (iVar2 == *(int *)(param_1 + 0x5c)) {
    uVar4 = *(uint *)(param_1 + 0x228) & 0x80000001;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffffe) + 1;
    }
    lVar16 = *(long *)(param_1 + 4);
    psVar14 = *(short **)(param_1 + 0x44);
    lVar22 = 1000;
    lVar21 = 1000;
    iVar2 = (-(uint)(uVar4 != 0) & 2) - 1;
    lVar20 = 1000;
    pRVar19 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar18 = 1000;
    psVar15 = *(short **)(param_1 + 0x48);
    lVar17 = 0;
    psVar13 = *(short **)(param_1 + 0x40);
    piVar12 = *(int **)(param_1 + 0x3c);
    pRVar11 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
    pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
    lVar9 = *(long *)(param_1 + 0x10);
    iVar7 = *(int *)(param_1 + 0x1c) + iVar2 * -10;
    iVar2 = iVar2 * 10 + *(int *)(param_1 + 0x18);
    lVar10 = *(long *)(param_1 + 0x158);
    lVar8 = 1;
    lVar6 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar6,lVar8,lVar9,lVar10,iVar2,iVar7,sVar1,pRVar5,pRVar11,piVar12,
               psVar13,psVar14,psVar15,lVar16,lVar17,lVar18,pRVar19,lVar20,lVar21,lVar22);
  }
  *(int *)(param_1 + 0x158) = *(int *)(param_1 + 0x158) + 1;
  return 0;
}



/*
 * Function: FUN_00461510
 * Address: 00461510
 */

undefined4 __fastcall FUN_00461510(int param_1)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar5;
  long lVar6;
  int iVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  RKC_RPGSCRN_RECT *pRVar11;
  int *piVar12;
  short *psVar13;
  short *psVar14;
  short *psVar15;
  long lVar16;
  long lVar17;
  long lVar18;
  RKC_RPGSCRN_RECT *pRVar19;
  long lVar20;
  long lVar21;
  long lVar22;
  int local_8;
  undefined4 local_4;
  
  if (*(int *)(param_1 + 0x164) != 4) {
    *(undefined4 *)(param_1 + 0x158) = 0;
    *(undefined4 *)(param_1 + 0x164) = 4;
  }
  iVar2 = FUN_00454930((void *)(param_1 + 0x198),&local_8,0,2,0);
  if (iVar2 == 1) {
    iVar2 = *(int *)(param_1 + 0x1e0);
    if (iVar2 == 1) {
      *(int *)(param_1 + 0x18) = local_8;
      *(undefined4 *)(param_1 + 0x10) = 3;
      *(undefined4 *)(param_1 + 0x1c) = local_4;
    }
    else if (iVar2 == 2) {
      *(int *)(param_1 + 0x18) = local_8;
      *(undefined4 *)(param_1 + 0x10) = 7;
      *(undefined4 *)(param_1 + 0x1c) = local_4;
    }
    else if (iVar2 == 3) {
      *(int *)(param_1 + 0x18) = local_8;
      *(undefined4 *)(param_1 + 0x10) = 5;
      *(undefined4 *)(param_1 + 0x1c) = local_4;
    }
    else if (iVar2 == 4) {
      *(int *)(param_1 + 0x18) = local_8;
      *(undefined4 *)(param_1 + 0x10) = 1;
      *(undefined4 *)(param_1 + 0x1c) = local_4;
    }
    else {
      uVar3 = FUN_00413ec0(*(int *)(param_1 + 0x1b0) - *(int *)(param_1 + 0x18),
                           *(int *)(param_1 + 0x1b4) - *(int *)(param_1 + 0x1c));
      *(undefined4 *)(param_1 + 0x10) = uVar3;
      *(int *)(param_1 + 0x18) = local_8;
      *(undefined4 *)(param_1 + 0x1c) = local_4;
    }
  }
  else {
    *(undefined4 *)(param_1 + 0x164) = 2;
  }
  iVar2 = FUN_00456210(DAT_0048ce04);
  if (iVar2 == *(int *)(param_1 + 0x5c)) {
    uVar4 = *(uint *)(param_1 + 0x228) & 0x80000001;
    if ((int)uVar4 < 0) {
      uVar4 = (uVar4 - 1 | 0xfffffffe) + 1;
    }
    lVar16 = *(long *)(param_1 + 4);
    psVar14 = *(short **)(param_1 + 0x44);
    lVar22 = 1000;
    lVar21 = 1000;
    iVar2 = (-(uint)(uVar4 != 0) & 2) - 1;
    lVar20 = 1000;
    pRVar19 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar18 = 1000;
    psVar15 = *(short **)(param_1 + 0x48);
    lVar17 = 0;
    psVar13 = *(short **)(param_1 + 0x40);
    piVar12 = *(int **)(param_1 + 0x3c);
    pRVar11 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
    pRVar5 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
    lVar10 = *(long *)(param_1 + 0x158);
    iVar7 = *(int *)(param_1 + 0x1c) + iVar2 * -10;
    iVar2 = *(int *)(param_1 + 0x18) + iVar2 * 10;
    lVar9 = *(long *)(param_1 + 0x10);
    lVar8 = 2;
    lVar6 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar6,lVar8,lVar9,lVar10,iVar2,iVar7,sVar1,pRVar5,pRVar11,piVar12,
               psVar13,psVar14,psVar15,lVar16,lVar17,lVar18,pRVar19,lVar20,lVar21,lVar22);
  }
  *(int *)(param_1 + 0x158) = *(int *)(param_1 + 0x158) + 1;
  return 0;
}



/*
 * Function: FUN_004616d0
 * Address: 004616d0
 */

undefined4 __fastcall FUN_004616d0(int param_1)

{
  short sVar1;
  long lVar2;
  RKC_RPGSCRN_CHARANIM *this;
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  int iVar3;
  int iVar4;
  uint uVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  long lVar7;
  int iVar8;
  long lVar9;
  long lVar10;
  RKC_RPGSCRN_RECT *pRVar11;
  int *piVar12;
  short *psVar13;
  short *psVar14;
  short *psVar15;
  long lVar16;
  long lVar17;
  RKC_RPGSCRN_RECT *pRVar18;
  long lVar19;
  long lVar20;
  long lVar21;
  int local_10;
  undefined4 uStack_c;
  int iStack_8;
  undefined4 uStack_4;
  
  if (*(int *)(param_1 + 0x158) == 0) {
    *(undefined4 *)(param_1 + 0x158) = 0;
    *(undefined4 *)(param_1 + 0x164) = 5;
  }
  if (*(int *)(param_1 + 0x16c) == 0) {
    *(undefined4 *)(param_1 + 0x158) = 0;
    *(undefined4 *)(param_1 + 0x16c) = 1;
  }
  if (*(int *)(param_1 + 0x14) == 0) {
    *(undefined4 *)(param_1 + 0x16c) = 1;
    *(undefined4 *)(param_1 + 0x158) = 0;
    iVar3 = local_10;
  }
  else {
    lVar2 = FUN_004663a0(*(int *)(param_1 + 0x14));
    this = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar2);
    this_00 = RKC_RPGSCRN_CHARANIM::Get(this,3);
    sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_00,*(long *)(param_1 + 0x10));
    iVar3 = (*(int *)(param_1 + 0x158) * (int)sVar1) / *(int *)(param_1 + 0x16c);
    if (*(int *)(param_1 + 0x158) == *(int *)(param_1 + 0x16c) + -1) {
      iVar3 = sVar1 + -1;
    }
  }
  if ((((*(int *)(param_1 + 0x218) == 0) && (iVar4 = *(int *)(param_1 + 0x16c), iVar4 != 0)) &&
      (iVar4 = ((iVar4 - *(int *)(param_1 + 0x158)) * 0x78) / iVar4, iVar4 != 0)) &&
     (*(int *)(param_1 + 0x250) == 0)) {
    piVar12 = (int *)(param_1 + 0x18);
    FUN_004140a0(piVar12,*(double *)(param_1 + 0x220),iVar4,&iStack_8);
    local_10 = iStack_8;
    uStack_c = uStack_4;
    FUN_00414990(*(int *)(param_1 + 0x5c),*(int *)(param_1 + 4),piVar12,(int *)(param_1 + 0x20),
                 &iStack_8,&local_10,0,0,0xff,0);
    *piVar12 = local_10;
    *(undefined4 *)(param_1 + 0x1c) = uStack_c;
  }
  iVar4 = FUN_00456210(DAT_0048ce04);
  if (iVar4 == *(int *)(param_1 + 0x5c)) {
    if (*(int *)(param_1 + 0x230) == 2) {
      uVar5 = *(uint *)(param_1 + 0x228) & 0x80000001;
      if ((int)uVar5 < 0) {
        uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
      }
      lVar2 = *(long *)(param_1 + 4);
      psVar14 = *(short **)(param_1 + 0x44);
      lVar21 = 1000;
      lVar20 = 1000;
      iVar3 = (-(uint)(uVar5 != 0) & 2) - 1;
      lVar19 = 1000;
      pRVar18 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
      lVar17 = 1000;
      psVar15 = *(short **)(param_1 + 0x48);
      lVar16 = 0x4000;
      psVar13 = *(short **)(param_1 + 0x40);
      piVar12 = *(int **)(param_1 + 0x3c);
      pRVar11 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
      pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
      iVar8 = *(int *)(param_1 + 0x1c) + iVar3 * -10;
      iVar4 = *(int *)(param_1 + 0x18) + iVar3 * 10;
      iVar3 = 0;
    }
    else {
      uVar5 = *(uint *)(param_1 + 0x228) & 0x80000001;
      if ((int)uVar5 < 0) {
        uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
      }
      lVar2 = *(long *)(param_1 + 4);
      psVar14 = *(short **)(param_1 + 0x44);
      lVar21 = 1000;
      lVar20 = 1000;
      iVar4 = (-(uint)(uVar5 != 0) & 2) - 1;
      lVar19 = 1000;
      pRVar18 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
      lVar17 = 1000;
      psVar15 = *(short **)(param_1 + 0x48);
      lVar16 = 0;
      psVar13 = *(short **)(param_1 + 0x40);
      piVar12 = *(int **)(param_1 + 0x3c);
      pRVar11 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
      pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
      sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
      iVar8 = *(int *)(param_1 + 0x1c) + iVar4 * -10;
      iVar4 = *(int *)(param_1 + 0x18) + iVar4 * 10;
    }
    lVar10 = *(long *)(param_1 + 0x10);
    lVar9 = 3;
    lVar7 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar7,lVar9,lVar10,iVar3,iVar4,iVar8,sVar1,pRVar6,pRVar11,piVar12,
               psVar13,psVar14,psVar15,lVar2,lVar16,lVar17,pRVar18,lVar19,lVar20,lVar21);
  }
  if ((*(int *)(param_1 + 0x158) == *(int *)(param_1 + 0x16c) + -1) ||
     (*(int *)(param_1 + 0x14) == 0)) {
    *(undefined4 *)(param_1 + 0x168) = 0;
    *(undefined4 *)(param_1 + 0x164) = 2;
  }
  *(int *)(param_1 + 0x158) = *(int *)(param_1 + 0x158) + 1;
  if (*(int *)(param_1 + 0x250) != 0) {
    *(int *)(param_1 + 0x250) = *(int *)(param_1 + 0x250) + -1;
  }
  return 0;
}



/*
 * Function: FUN_00461990
 * Address: 00461990
 */

undefined4 __fastcall FUN_00461990(int param_1)

{
  short sVar1;
  uint uVar2;
  void *this;
  int iVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  int iVar5;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar6;
  long lVar7;
  int iVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  long lVar13;
  undefined4 uVar14;
  long lVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 *puVar20;
  undefined4 *puVar21;
  RKC_RPGSCRN_RECT *pRVar22;
  undefined4 uVar23;
  int *piVar24;
  undefined4 *puVar25;
  short *psVar26;
  short *psVar27;
  undefined4 uVar28;
  short *psVar29;
  undefined4 uVar30;
  long lVar31;
  undefined4 uVar32;
  undefined4 uVar33;
  undefined4 uVar34;
  RKC_RPGSCRN_RECT *pRVar35;
  undefined4 uVar36;
  long lVar37;
  undefined4 uVar38;
  long lVar39;
  undefined4 uVar40;
  long lVar41;
  int iStack_34;
  int local_30 [10];
  undefined4 local_8;
  undefined4 local_4;
  
  if (*(int *)(param_1 + 0x164) != 6) {
    *(undefined4 *)(param_1 + 0x168) = 1;
    *(undefined4 *)(param_1 + 0x158) = 0;
    *(undefined4 *)(param_1 + 0x164) = 6;
    *(undefined4 *)(param_1 + 0x250) = 0;
  }
  if (*(int *)(param_1 + 0x158) == 0) {
    uVar40 = 0;
    uVar38 = 200;
    uVar36 = 0;
    uVar34 = 0;
    uVar33 = 0;
    uVar32 = 0;
    uVar30 = 0;
    uVar28 = 0xffffffff;
    uVar2 = _rand();
    uVar2 = uVar2 & 0x80000007;
    if ((int)uVar2 < 0) {
      uVar2 = (uVar2 - 1 | 0xfffffff8) + 1;
    }
    puVar25 = (undefined4 *)0x0;
    puVar21 = (undefined4 *)(param_1 + 0x20);
    uVar11 = *(undefined4 *)(param_1 + 4);
    uVar23 = 0;
    puVar20 = (undefined4 *)0x0;
    uVar19 = 0;
    uVar18 = 0;
    uVar17 = 0;
    uVar16 = 0;
    uVar14 = 0;
    uVar12 = 0;
    uVar10 = 2;
    uVar9 = 0x5212;
    this = (void *)FUN_00466420(*(int *)(param_1 + 0x5c));
    FUN_0042fdc0(this,uVar9,uVar10,uVar11,uVar12,uVar14,uVar16,uVar17,uVar18,uVar19,puVar20,puVar21,
                 uVar23,puVar25,uVar2,uVar28,uVar30,uVar32,uVar33,uVar34,uVar36,uVar38,uVar40);
  }
  if (*(int *)(*(int *)(param_1 + 0x214) + 0x15c) == 0) {
    *(undefined4 *)(*(int *)(param_1 + 0x214) + 0x15c) = 900;
    iVar3 = FUN_004671c0((void *)(*(int *)(param_1 + 0x214) + 0x550),4,0x5d75c82);
    if (iVar3 != 0) {
      *(undefined4 *)(*(int *)(param_1 + 0x214) + 0x15c) = 600;
    }
  }
  if ((*(int *)(param_1 + 0x158) == 0) &&
     (iVar3 = FUN_00434cd0(DAT_0048ce0c), iVar3 == *(int *)(param_1 + 4) % 10)) {
    local_30[1] = 1;
    local_30[0] = FUN_00456230(*(int *)(param_1 + 0x5c));
    local_30[2] = *(undefined4 *)(param_1 + 4);
    local_4 = *(undefined4 *)(param_1 + 0x1c);
    local_8 = *(undefined4 *)(param_1 + 0x18);
    if (DAT_00482db0 == 1) {
      FUN_0041c4e0(local_30);
    }
    else if (DAT_00482db0 == 2) {
      FUN_00419d60(local_30);
    }
  }
  lVar4 = FUN_004663a0(*(int *)(param_1 + 0x14));
  this_00 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
  this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,4);
  sVar1 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,8);
  iVar5 = *(int *)(param_1 + 0x158);
  iVar8 = (int)sVar1;
  iVar3 = iVar8 + -1;
  iStack_34 = iVar5;
  if ((iVar5 < iVar3) || (iStack_34 = iVar3, iVar5 < iVar8 + 0x3b)) {
    iVar3 = 1000;
  }
  else {
    iVar3 = (((iVar8 - iVar5) + 0x3b) * 1000) / 0x3c + 1000;
  }
  if ((iVar5 <= iVar8 + 0x77) &&
     (iVar5 = FUN_00456210(DAT_0048ce04), iVar5 == *(int *)(param_1 + 0x5c))) {
    lVar4 = 0;
    if (*(int *)(param_1 + 0x230) == 2) {
      lVar4 = 0x4000;
    }
    if (iVar3 < 0) {
      iVar3 = 0;
    }
    uVar2 = *(uint *)(param_1 + 0x228) & 0x80000001;
    if ((int)uVar2 < 0) {
      uVar2 = (uVar2 - 1 | 0xfffffffe) + 1;
    }
    psVar29 = *(short **)(param_1 + 0x48);
    lVar41 = 1000;
    lVar39 = 1000;
    lVar37 = 1000;
    pRVar35 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    iVar5 = (-(uint)(uVar2 != 0) & 2) - 1;
    lVar31 = *(long *)(param_1 + 4);
    psVar27 = *(short **)(param_1 + 0x44);
    psVar26 = *(short **)(param_1 + 0x40);
    piVar24 = *(int **)(param_1 + 0x3c);
    pRVar22 = (RKC_RPGSCRN_RECT *)(param_1 + 0x20);
    pRVar6 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar1 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)(param_1 + 0x58));
    iVar8 = *(int *)(param_1 + 0x1c) + iVar5 * -10;
    iVar5 = *(int *)(param_1 + 0x18) + iVar5 * 10;
    lVar15 = 8;
    lVar13 = 4;
    lVar7 = FUN_004663a0(*(int *)(param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar7,lVar13,lVar15,iStack_34,iVar5,iVar8,sVar1,pRVar6,pRVar22,piVar24,
               psVar26,psVar27,psVar29,lVar31,lVar4,iVar3,pRVar35,lVar37,lVar39,lVar41);
  }
  *(int *)(param_1 + 0x158) = *(int *)(param_1 + 0x158) + 1;
  return 0;
}



/*
 * Function: FUN_00461c40
 * Address: 00461c40
 */

undefined4 __fastcall FUN_00461c40(void *param_1)

{
  bool bVar1;
  short sVar2;
  ushort uVar3;
  long lVar4;
  RKC_RPGSCRN_CHARANIM *pRVar5;
  RKC_RPGSCRN_CHARANIMCHART *pRVar6;
  int iVar7;
  void *pvVar8;
  int iVar9;
  int iVar10;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar11;
  RKC_RPGSCRN_OBJECTDISPCELL *this_01;
  RKC_RPGSCRN_OBJECT *this_02;
  long lVar12;
  undefined4 *puVar13;
  undefined4 *puVar14;
  int *piVar15;
  undefined3 extraout_var;
  long lVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  long lVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  RKC_RPGSCRN_RECT *pRVar27;
  undefined4 uVar28;
  undefined4 *puVar29;
  short *psVar30;
  undefined4 uVar31;
  short *psVar32;
  undefined4 uVar33;
  short *psVar34;
  undefined4 uVar35;
  undefined4 uVar36;
  RKC_RPGSCRN_OBJECTDISP *pRVar37;
  long lVar38;
  undefined4 uVar39;
  tagRECT *ptVar40;
  long lVar41;
  undefined4 uVar42;
  RKC_RPGSCRN_RECT *pRVar43;
  int iVar44;
  undefined4 uVar45;
  long lVar46;
  uint uVar47;
  undefined4 uVar48;
  long lVar49;
  int iVar50;
  undefined4 uVar51;
  long lVar52;
  long lStack_160;
  RKC_RPGSCRN_OBJECTDISP local_15c [8];
  int iStack_154;
  tagRECT tStack_150;
  undefined4 uStack_140;
  undefined4 uStack_13c;
  undefined4 uStack_138;
  undefined4 uStack_134;
  undefined4 uStack_130;
  undefined4 uStack_12c;
  int aiStack_128 [8];
  undefined4 auStack_108 [17];
  undefined4 uStack_c4;
  long lStack_c0;
  int iStack_b8;
  int iStack_b0;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  long lStack_a0;
  long lStack_9c;
  undefined4 uStack_98;
  long lStack_94;
  undefined4 uStack_90;
  undefined auStack_8c [36];
  undefined auStack_68 [36];
  long alStack_44 [9];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_0047249c;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(local_15c);
  uStack_4 = 0;
  if (*(int *)((int)param_1 + 0x164) != 10) {
    *(undefined4 *)((int)param_1 + 0x158) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 10;
    *(undefined4 *)((int)param_1 + 0x168) = 1;
  }
  lVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,6);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,8);
  iVar7 = (int)sVar2;
  lVar4 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
  pRVar5 = RKC_RPGSCRN_CHARANIMBLOCK::Get(DAT_00482d20,lVar4);
  pRVar6 = RKC_RPGSCRN_CHARANIM::Get(pRVar5,7);
  sVar2 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(pRVar6,8);
  iStack_154 = (int)sVar2;
  iVar9 = *(int *)((int)param_1 + 0x158);
  iVar10 = iVar9 - iVar7;
  if (iVar9 != iVar7) goto LAB_00461d8c;
  FUN_00453c60(param_1,0,0x2d,0);
  iVar9 = *(int *)((int)param_1 + 0x18c);
  if (iVar9 == -1) {
LAB_00461d74:
    *(undefined4 *)((int)param_1 + 0x18) = *(undefined4 *)((int)param_1 + 400);
    *(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)((int)param_1 + 0x194);
  }
  else {
    pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
    iVar9 = FUN_004299e0(pvVar8,iVar9);
    if (iVar9 == 0) goto LAB_00461d74;
    iVar50 = 0;
    uVar47 = 2;
    piVar15 = (int *)((int)param_1 + 0x20);
    iVar44 = 0;
    iVar10 = FUN_00434cd0(iVar9);
    iVar10 = FUN_004145b0(*(int *)((int)param_1 + 0x5c),-1,(int *)(iVar10 + 0x18),piVar15,iVar44,
                          uVar47,iVar50);
    if (iVar10 != 1) goto LAB_00461d74;
    iVar9 = FUN_00434cd0(iVar9);
    *(undefined4 *)((int)param_1 + 0x18) = *(undefined4 *)(iVar9 + 0x18);
    *(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)(iVar9 + 0x1c);
  }
  iVar9 = *(int *)((int)param_1 + 0x158);
  iVar10 = iVar9 - iVar7;
LAB_00461d8c:
  if (SBORROW4(iVar9,iVar7) == iVar10 < 0) {
    puVar13 = (undefined4 *)((int)param_1 + 0x20);
    *puVar13 = 0xfffffec0;
    *(undefined4 *)((int)param_1 + 0x24) = 0xfffffec0;
    *(undefined4 *)((int)param_1 + 0x28) = 0x140;
    *(undefined4 *)((int)param_1 + 0x2c) = 0x140;
    this = RKC_RPGSCRN_CHARANIMCHART::Get(pRVar6,8,0);
    if (((this != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
        (this_00 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this,*(int *)((int)param_1 + 0x158) - iVar7),
        this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) &&
       (uVar3 = RKC_RPGSCRN_CHARANIMCELL::GetStatus(this_00), (uVar3 & 0x40) != 0)) {
      FUN_00453c60(param_1,0,0x2e,0);
      uVar51 = 0;
      uVar48 = 200;
      uVar45 = 0;
      uVar42 = 0;
      uVar39 = 0;
      uVar36 = 0;
      uVar35 = 0;
      uVar33 = 0xffffffff;
      uVar31 = 8;
      puVar29 = (undefined4 *)0x0;
      puVar14 = (undefined4 *)((int)param_1 + 0x18);
      uVar28 = 0;
      uVar19 = *(undefined4 *)((int)param_1 + 4);
      uVar26 = 0;
      uVar25 = 0;
      uVar24 = 0;
      uVar23 = 0;
      uVar21 = 0;
      uVar20 = 0;
      uVar18 = 0;
      uVar17 = 0x5227;
      pvVar8 = (void *)FUN_00466420(*(int *)((int)param_1 + 0x5c));
      FUN_0042fdc0(pvVar8,uVar17,uVar18,uVar19,uVar20,uVar21,uVar23,uVar24,uVar25,uVar26,puVar14,
                   puVar13,uVar28,puVar29,uVar31,uVar33,uVar35,uVar36,uVar39,uVar42,uVar45,uVar48,
                   uVar51);
      iVar9 = FUN_00451e60(*(void **)((int)param_1 + 0x214),0x15);
      FUN_00417e70((int)&uStack_140);
      uStack_138 = *(undefined4 *)((int)param_1 + 4);
      pvVar8 = *(void **)((int)param_1 + 0x214);
      uStack_140 = 0;
      uStack_13c = 3;
      uStack_130 = 1;
      uStack_12c = *(undefined4 *)((int)pvVar8 + 0x1b8);
      uStack_c4 = *(undefined4 *)((int)pvVar8 + 0x34);
      puVar13 = (undefined4 *)((int)pvVar8 + 0x1dc);
      puVar14 = auStack_108;
      for (iVar10 = 0x11; iVar10 != 0; iVar10 = iVar10 + -1) {
        *puVar14 = *puVar13;
        puVar13 = puVar13 + 1;
        puVar14 = puVar14 + 1;
      }
      FUN_0044fca0(pvVar8,aiStack_128);
      lStack_c0 = FUN_00417410(0x14,iVar9,5);
      uVar47 = _rand();
      uVar47 = uVar47 & 0x80000003;
      if ((int)uVar47 < 0) {
        uVar47 = (uVar47 - 1 | 0xfffffffc) + 1;
      }
      iStack_b8 = uVar47 + 21000;
      uStack_ac = 0;
      uStack_a8 = 0;
      uStack_a4 = 0;
      lVar4 = FUN_00417410(0x14,iVar9,1);
      iStack_b0 = lVar4 + *(int *)(*(int *)((int)param_1 + 0x214) + 0x1cc);
      lStack_a0 = FUN_00417410(0x14,iVar9,0x1e);
      lStack_9c = FUN_00417410(0x14,iVar9,0x1c);
      uStack_98 = 0;
      lStack_94 = FUN_00417410(0x14,iVar9,0x1d);
      uStack_90 = 0;
      uStack_20 = 0;
      uStack_1c = 0x14;
      uStack_134 = 0;
      uStack_18 = 0xffffffff;
      FUN_004174b0(0x14,iVar9,(int)auStack_68,alStack_44,(int)auStack_8c);
      RKC_RPGSCRN_OBJECTDISP::SetHostScreen(local_15c,DAT_00482d14);
      SetRect(&tStack_150,*(int *)((int)param_1 + 0x18) + *(int *)((int)param_1 + 0x20),
              *(int *)((int)param_1 + 0x1c) + *(int *)((int)param_1 + 0x24),
              *(int *)((int)param_1 + 0x18) + *(int *)((int)param_1 + 0x28),
              *(int *)((int)param_1 + 0x1c) + *(int *)((int)param_1 + 0x2c));
      iVar50 = 0;
      iVar44 = 0;
      iVar10 = 0;
      ptVar40 = &tStack_150;
      iVar9 = 0;
      pRVar37 = local_15c;
      pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00427ad0(*(int *)((int)param_1 + 0x5c));
      RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject
                (pRVar11,pRVar37,ptVar40,iVar9,iVar10,iVar44,iVar50);
      lVar4 = RKC_RPGSCRN_OBJECTDISP::GetCount(local_15c);
      if ((lVar4 != 0) && (lStack_160 = 0, 0 < lVar4)) {
        do {
          this_01 = RKC_RPGSCRN_OBJECTDISP::Get(local_15c,lStack_160);
          if (this_01 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
            this_02 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_01);
            lVar12 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_02);
            pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
            puVar13 = (undefined4 *)FUN_004299e0(pvVar8,lVar12);
            if ((puVar13 != (undefined4 *)0x0) &&
               (iVar9 = FUN_00434cd0((int)puVar13),
               *(int *)(iVar9 + 4) != *(int *)((int)param_1 + 4))) {
              pvVar8 = (void *)0x80000000;
              iVar9 = FUN_00434cd0((int)puVar13);
              uVar47 = FUN_00417070(&DAT_00482df4,*(int *)(iVar9 + 4),pvVar8);
              if (uVar47 != 0) {
                iVar9 = FUN_00427b20(puVar13);
                if ((iVar9 == 0) &&
                   (iVar9 = FUN_00434cd0((int)puVar13), *(int *)(iVar9 + 0xec) != -1)) {
                  iVar9 = FUN_00434cd0((int)puVar13);
                  iVar9 = *(int *)(iVar9 + 0xec) + 14000000;
                  pvVar8 = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
                  puVar14 = (undefined4 *)FUN_004299e0(pvVar8,iVar9);
                  if (puVar14 != (undefined4 *)0x0) {
                    puVar13 = puVar14;
                  }
                }
                iVar9 = FUN_00427b20(puVar13);
                if (iVar9 == 5) {
                  FUN_00434cd0((int)puVar13);
                }
                iVar9 = FUN_00427b20(puVar13);
                if ((iVar9 == 2) && (iVar9 = FUN_00434cd0((int)puVar13), 0 < *(int *)(iVar9 + 0xd4))
                   ) {
                  piVar15 = (int *)FUN_00434cd0((int)puVar13);
                  bVar1 = FUN_00413e00(*(int *)((int)param_1 + 0x104),piVar15[0x3b]);
                  if (CONCAT31(extraout_var,bVar1) != 0) {
                    (**(code **)(*piVar15 + 0x14))(&uStack_140,(int)param_1 + 0x18);
                    *(undefined4 *)((int)param_1 + 0x238) = 1;
                  }
                }
                FUN_00427b20(puVar13);
              }
            }
          }
          lStack_160 = lStack_160 + 1;
        } while (lStack_160 < lVar4);
      }
    }
    if (*(int *)((int)param_1 + 0x158) == iVar7) {
      FUN_00453c60(param_1,0,0x2d,0);
    }
  }
  iVar9 = FUN_00456210(DAT_0048ce04);
  if (iVar9 == *(int *)((int)param_1 + 0x5c)) {
    iVar9 = *(int *)((int)param_1 + 0x158);
    if (iVar9 < iVar7) {
      lVar4 = 6;
    }
    else {
      iVar9 = iVar9 - iVar7;
      lVar4 = 7;
    }
    uVar47 = *(uint *)((int)param_1 + 0x228) & 0x80000001;
    if ((int)uVar47 < 0) {
      uVar47 = (uVar47 - 1 | 0xfffffffe) + 1;
    }
    lVar12 = *(long *)((int)param_1 + 4);
    psVar34 = *(short **)((int)param_1 + 0x48);
    lVar52 = 1000;
    lVar49 = 1000;
    iVar10 = (-(uint)(uVar47 != 0) & 2) - 1;
    lVar46 = 1000;
    pRVar43 = (RKC_RPGSCRN_RECT *)&DAT_0048d5e4;
    lVar41 = 1000;
    psVar32 = *(short **)((int)param_1 + 0x44);
    lVar38 = 0;
    psVar30 = *(short **)((int)param_1 + 0x40);
    piVar15 = *(int **)((int)param_1 + 0x3c);
    pRVar27 = (RKC_RPGSCRN_RECT *)((int)param_1 + 0x20);
    pRVar11 = (RKC_RPGSCRN_OBJECTBLOCK *)FUN_00403530(DAT_00482d1c);
    sVar2 = RKC_RPGSCRN_OBJECT::GetHeight(*(RKC_RPGSCRN_OBJECT **)((int)param_1 + 0x58));
    iVar44 = *(int *)((int)param_1 + 0x1c) + iVar10 * -10;
    iVar10 = *(int *)((int)param_1 + 0x18) + iVar10 * 10;
    lVar22 = 8;
    lVar16 = FUN_004663a0(*(int *)((int)param_1 + 0x14));
    RKC_RPGSCRN_CHARANIMBLOCK::SetObject
              (DAT_00482d20,lVar16,lVar4,lVar22,iVar9,iVar10,iVar44,sVar2,pRVar11,pRVar27,piVar15,
               psVar30,psVar32,psVar34,lVar12,lVar38,lVar41,pRVar43,lVar46,lVar49,lVar52);
  }
  if (*(int *)((int)param_1 + 0x158) == iStack_154 + -1 + iVar7) {
    *(undefined4 *)((int)param_1 + 0x168) = 0;
    *(undefined4 *)((int)param_1 + 0x164) = 2;
  }
  *(int *)((int)param_1 + 0x158) = *(int *)((int)param_1 + 0x158) + 1;
  uStack_4 = 0xffffffff;
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(local_15c);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: FUN_004622b0
 * Address: 004622b0
 */

void __fastcall FUN_004622b0(void *param_1)

{
  double dVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  
  iVar5 = *(int *)((int)param_1 + 4) % 10;
  iVar2 = FUN_00434c90(DAT_0048ce0c,iVar5);
  uVar6 = FUN_00453a40(param_1,iVar2);
  iVar3 = (int)uVar6;
  if ((*(int *)(*(int *)((int)param_1 + 0x214) + 0x15a0) == 0) && (iVar3 < 0x4b0)) {
    iVar4 = FUN_00453e50(param_1,2,0x4b0,1);
    if (iVar4 != -1) {
      *(undefined4 *)((int)param_1 + 0x184) = 2;
      *(undefined4 *)((int)param_1 + 0x188) = 2;
      return;
    }
  }
  if (3999 < iVar3) {
    *(undefined4 *)((int)param_1 + 0x18) = *(undefined4 *)(iVar2 + 0x2e0);
    *(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)(iVar2 + 0x2e4);
    *(int *)((int)param_1 + 0x18) = *(int *)((int)param_1 + 0x18) + 200;
    *(int *)((int)param_1 + 0x1c) = *(int *)((int)param_1 + 0x1c) + 200;
    return;
  }
  if (iVar3 < 600) {
    if (iVar3 < 0xa0) {
      if (iVar3 < 0xa0) {
        if (*(int *)((int)param_1 + 0x164) != 2) {
          *(undefined4 *)((int)param_1 + 0x188) = 2;
        }
        *(undefined4 *)((int)param_1 + 0x254) = 5;
      }
    }
    else {
      if (*(int *)((int)param_1 + 0x254) != 0) {
        *(int *)((int)param_1 + 0x254) = *(int *)((int)param_1 + 0x254) + -1;
        return;
      }
      if ((*(int *)((int)param_1 + 0x164) != 3) && (*(int *)((int)param_1 + 0x164) != 4)) {
        dVar1 = (double)(*(int *)((int)param_1 + 0xe8) / 5);
        FUN_00454210((void *)((int)param_1 + 0x198),*(undefined4 *)((int)param_1 + 0x5c),
                     *(undefined4 *)((int)param_1 + 4),(undefined4 *)((int)param_1 + 0x18),
                     (undefined4 *)0x0,(undefined4 *)((int)param_1 + 0x20),SUB84(dVar1,0),
                     (int)((ulonglong)dVar1 >> 0x20),4,iVar5,0x9f,(undefined4 *)0x0,0,1,0,0);
        *(undefined4 *)((int)param_1 + 0x188) = 3;
        return;
      }
    }
  }
  else if (*(int *)((int)param_1 + 0x164) != 4) {
    if (*(int *)((int)param_1 + 0x164) == 3) {
      *(undefined4 *)((int)param_1 + 0x188) = 4;
      *(double *)((int)param_1 + 0x1d0) = (double)(*(int *)((int)param_1 + 0xec) / 5);
      return;
    }
    dVar1 = (double)(*(int *)((int)param_1 + 0xec) / 5);
    FUN_00454210((void *)((int)param_1 + 0x198),*(undefined4 *)((int)param_1 + 0x5c),
                 *(undefined4 *)((int)param_1 + 4),(undefined4 *)((int)param_1 + 0x18),
                 (undefined4 *)0x0,(undefined4 *)((int)param_1 + 0x20),SUB84(dVar1,0),
                 (int)((ulonglong)dVar1 >> 0x20),4,iVar5,0x9f,(undefined4 *)0x0,0,1,0,0);
    *(undefined4 *)((int)param_1 + 0x188) = 4;
    return;
  }
  return;
}



/*
 * Function: FUN_004624e0
 * Address: 004624e0
 */

void __fastcall FUN_004624e0(void *param_1)

{
  double dVar1;
  int iVar2;
  void *this;
  undefined4 *puVar3;
  int iVar4;
  undefined8 uVar5;
  
  iVar2 = FUN_00434c90(DAT_0048ce0c,*(int *)((int)param_1 + 4) % 10);
  uVar5 = FUN_00453a40(param_1,iVar2);
  if ((int)uVar5 < 4000) {
    iVar4 = *(int *)((int)param_1 + 0x18c);
    this = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
    puVar3 = (undefined4 *)FUN_004299e0(this,iVar4);
    if (((puVar3 != (undefined4 *)0x0) && (iVar4 = FUN_00427b20(puVar3), iVar4 == 3)) &&
       (iVar4 = FUN_00434cd0((int)puVar3), iVar4 != 0)) {
      uVar5 = FUN_004143c0((int *)((int)param_1 + 0x18),(int *)((int)param_1 + 0x20),
                           (int *)(iVar4 + 0x18),(int *)(iVar4 + 0x20));
      if (*(int *)((int)param_1 + 0x128) < (int)uVar5) {
        if (*(int *)((int)param_1 + 0x164) == 4) {
          return;
        }
        dVar1 = (double)(*(int *)((int)param_1 + 0xec) / 5);
        FUN_00454210((void *)((int)param_1 + 0x198),*(undefined4 *)((int)param_1 + 0x5c),
                     *(undefined4 *)((int)param_1 + 4),(int *)((int)param_1 + 0x18),
                     (undefined4 *)0x0,(int *)((int)param_1 + 0x20),SUB84(dVar1,0),
                     (int)((ulonglong)dVar1 >> 0x20),1,*(undefined4 *)((int)param_1 + 0x18c),
                     *(int *)((int)param_1 + 0x128),(undefined4 *)0x0,0,1,0,0);
        *(undefined4 *)((int)param_1 + 0x188) = 4;
        return;
      }
      *(undefined4 *)(iVar2 + 0x1548) = *(undefined4 *)((int)param_1 + 0x18c);
    }
  }
  *(undefined4 *)((int)param_1 + 0x184) = 0;
  *(undefined4 *)((int)param_1 + 0x188) = 2;
  return;
}



/*
 * Function: FUN_00462610
 * Address: 00462610
 */

void __fastcall FUN_00462610(void *param_1)

{
  int *piVar1;
  double dVar2;
  int iVar3;
  void *this;
  undefined4 *puVar4;
  undefined4 uVar5;
  int iVar6;
  undefined8 uVar7;
  
  iVar3 = FUN_00434c90(DAT_0048ce0c,*(int *)((int)param_1 + 4) % 10);
  uVar7 = FUN_00453a40(param_1,iVar3);
  if (0x5db < (int)uVar7) {
    *(undefined4 *)((int)param_1 + 0x184) = 0;
    *(undefined4 *)((int)param_1 + 0x188) = 2;
    return;
  }
  iVar3 = FUN_00453e50(param_1,2,0x4b0,1);
  *(int *)((int)param_1 + 0x18c) = iVar3;
  if (iVar3 == -1) {
    *(undefined4 *)((int)param_1 + 0x184) = 0;
    *(undefined4 *)((int)param_1 + 0x188) = 2;
    return;
  }
  iVar6 = 0;
  this = (void *)FUN_00427aa0(*(int *)((int)param_1 + 0x5c));
  puVar4 = (undefined4 *)FUN_004299e0(this,iVar3);
  if (puVar4 != (undefined4 *)0x0) {
    iVar3 = FUN_00427b20(puVar4);
    if (iVar3 == 2) {
      iVar6 = FUN_00434cd0((int)puVar4);
    }
  }
  piVar1 = (int *)((int)param_1 + 0x18);
  uVar7 = FUN_004143c0(piVar1,(int *)((int)param_1 + 0x20),(int *)(iVar6 + 0x18),
                       (int *)(iVar6 + 0x20));
  iVar3 = *(int *)((int)param_1 + 0x128);
  if ((int)uVar7 <= iVar3) {
    uVar5 = FUN_00413ec0(*(int *)(iVar6 + 0x18) - *piVar1,
                         *(int *)(iVar6 + 0x1c) - *(int *)((int)param_1 + 0x1c));
    *(undefined4 *)((int)param_1 + 0x10) = uVar5;
    *(undefined4 *)((int)param_1 + 0x188) = 1;
    return;
  }
  if ((iVar3 + -0x32 < (int)uVar7) && (*(int *)((int)param_1 + 0x164) != 4)) {
    dVar2 = (double)(*(int *)((int)param_1 + 0xec) / 5);
    FUN_00454210((void *)((int)param_1 + 0x198),*(undefined4 *)((int)param_1 + 0x5c),
                 *(undefined4 *)((int)param_1 + 4),piVar1,(undefined4 *)0x0,
                 (int *)((int)param_1 + 0x20),SUB84(dVar2,0),(int)((ulonglong)dVar2 >> 0x20),1,
                 *(undefined4 *)((int)param_1 + 0x18c),iVar3,(undefined4 *)0x0,0,1,0,0);
    *(undefined4 *)((int)param_1 + 0x188) = 4;
  }
  return;
}



/*
 * Function: FUN_00462790
 * Address: 00462790
 */

void __fastcall FUN_00462790(int param_1)

{
  *(undefined4 *)(param_1 + 0x188) = 7;
  *(undefined4 *)(param_1 + 0x184) = 0;
  *(undefined4 *)(param_1 + 0x210) = 0x2d;
  return;
}



/*
 * Function: FUN_004627b0
 * Address: 004627b0
 */

void __fastcall FUN_004627b0(int param_1)

{
  *(undefined4 *)(param_1 + 0x188) = 9;
  *(undefined4 *)(param_1 + 0x184) = 0;
  *(undefined4 *)(param_1 + 0x210) = 0x2d;
  return;
}



/*
 * Function: FUN_004627d0
 * Address: 004627d0
 */

void __fastcall FUN_004627d0(int param_1)

{
  *(undefined4 *)(param_1 + 0x188) = 10;
  *(undefined4 *)(param_1 + 0x184) = 0;
  *(undefined4 *)(param_1 + 0x210) = 0x2d;
  return;
}



/*
 * Function: FUN_00462980
 * Address: 00462980
 */

undefined4 __fastcall FUN_00462980(int param_1)

{
  int iVar1;
  RKC_NETWORK_CLIENT *this;
  undefined4 uStack_20;
  long lStack_1c;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_4;
  
  if (*(int *)(param_1 + 0x238) == 0) {
    return 0;
  }
  iVar1 = FUN_00434cd0(DAT_0048ce0c);
  if (*(int *)(param_1 + 4) % 10 != iVar1) {
    return 0;
  }
  if (DAT_00482db0 == 2) {
    this = RKC_NETWORK::GetClient(DAT_00482d24);
    uStack_20 = FUN_00456230(*(int *)(param_1 + 0x5c));
    uStack_14 = *(undefined4 *)(param_1 + 0x18);
    uStack_10 = *(undefined4 *)(param_1 + 0x1c);
    lStack_1c = *(long *)(param_1 + 4);
    uStack_c = *(undefined4 *)(param_1 + 0x10);
    uStack_4 = *(undefined4 *)(*(int *)(param_1 + 0x214) + 0x15a0);
    RKC_NETWORK_CLIENT::SetSendPacket(this,2,0x20,10,&uStack_20,lStack_1c,1,0);
  }
  return 1;
}



/*
 * Function: FUN_00462a30
 * Address: 00462a30
 */

void __fastcall FUN_00462a30(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  return;
}



/*
 * Function: thunk_FUN_00462a60
 * Address: 00462a50
 */

void __fastcall thunk_FUN_00462a60(int *param_1)

{
  int iVar1;
  int iStack_4;
  
  iStack_4 = *param_1;
  if (iStack_4 != 0) {
    do {
      iVar1 = *(int *)(iStack_4 + 0x8c);
      FUN_00465640(&iStack_4);
      iStack_4 = iVar1;
    } while (iVar1 != 0);
    *param_1 = 0;
  }
  iStack_4 = param_1[1];
  if (iStack_4 != 0) {
    do {
      iVar1 = *(int *)(iStack_4 + 0x8c);
      FUN_00465640(&iStack_4);
      iStack_4 = iVar1;
    } while (iVar1 != 0);
    param_1[1] = 0;
  }
  iStack_4 = param_1[2];
  if (iStack_4 != 0) {
    do {
      iVar1 = *(int *)(iStack_4 + 0x8c);
      FUN_00465640(&iStack_4);
      iStack_4 = iVar1;
    } while (iVar1 != 0);
    param_1[2] = 0;
  }
  iStack_4 = param_1[3];
  if (iStack_4 != 0) {
    do {
      iVar1 = *(int *)(iStack_4 + 0x8c);
      FUN_00465640(&iStack_4);
      iStack_4 = iVar1;
    } while (iVar1 != 0);
    param_1[3] = 0;
  }
  iStack_4 = param_1[4];
  if (iStack_4 != 0) {
    do {
      iVar1 = *(int *)(iStack_4 + 0x8c);
      FUN_00465640(&iStack_4);
      iStack_4 = iVar1;
    } while (iVar1 != 0);
    param_1[4] = 0;
  }
  return;
}



/*
 * Function: FUN_00462a60
 * Address: 00462a60
 */

void __fastcall FUN_00462a60(int *param_1)

{
  int iVar1;
  int local_4;
  
  local_4 = *param_1;
  if (local_4 != 0) {
    do {
      iVar1 = *(int *)(local_4 + 0x8c);
      FUN_00465640(&local_4);
      local_4 = iVar1;
    } while (iVar1 != 0);
    *param_1 = 0;
  }
  local_4 = param_1[1];
  if (local_4 != 0) {
    do {
      iVar1 = *(int *)(local_4 + 0x8c);
      FUN_00465640(&local_4);
      local_4 = iVar1;
    } while (iVar1 != 0);
    param_1[1] = 0;
  }
  local_4 = param_1[2];
  if (local_4 != 0) {
    do {
      iVar1 = *(int *)(local_4 + 0x8c);
      FUN_00465640(&local_4);
      local_4 = iVar1;
    } while (iVar1 != 0);
    param_1[2] = 0;
  }
  local_4 = param_1[3];
  if (local_4 != 0) {
    do {
      iVar1 = *(int *)(local_4 + 0x8c);
      FUN_00465640(&local_4);
      local_4 = iVar1;
    } while (iVar1 != 0);
    param_1[3] = 0;
  }
  local_4 = param_1[4];
  if (local_4 != 0) {
    do {
      iVar1 = *(int *)(local_4 + 0x8c);
      FUN_00465640(&local_4);
      local_4 = iVar1;
    } while (iVar1 != 0);
    param_1[4] = 0;
  }
  return;
}



/*
 * Function: FUN_00462b60
 * Address: 00462b60
 */

int __thiscall FUN_00462b60(void *this,undefined4 param_1,int param_2)

{
  int iVar1;
  
  switch(param_1) {
  case 0:
                    /* WARNING: Load size is inaccurate */
    iVar1 = *this;
    if (iVar1 != 0) {
      do {
        if (*(int *)(iVar1 + 0x14) == param_2) {
          return iVar1;
        }
        iVar1 = *(int *)(iVar1 + 0x8c);
      } while (iVar1 != 0);
      return iVar1;
    }
    break;
  case 1:
    iVar1 = *(int *)((int)this + 4);
    if (iVar1 != 0) {
      do {
        if (*(int *)(iVar1 + 0x14) == param_2) {
          return iVar1;
        }
        iVar1 = *(int *)(iVar1 + 0x8c);
      } while (iVar1 != 0);
      return iVar1;
    }
    break;
  case 2:
    iVar1 = *(int *)((int)this + 8);
    if (iVar1 != 0) {
      do {
        if (*(int *)(iVar1 + 0x14) == param_2) {
          return iVar1;
        }
        iVar1 = *(int *)(iVar1 + 0x8c);
      } while (iVar1 != 0);
      return iVar1;
    }
    break;
  case 3:
    iVar1 = *(int *)((int)this + 0xc);
    if (iVar1 != 0) {
      do {
        if (*(int *)(iVar1 + 0x14) == param_2) {
          return iVar1;
        }
        iVar1 = *(int *)(iVar1 + 0x8c);
      } while (iVar1 != 0);
      return iVar1;
    }
    break;
  case 4:
    for (iVar1 = *(int *)((int)this + 0x10); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
      if (*(int *)(iVar1 + 0x14) == param_2) {
        return iVar1;
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_00462c30
 * Address: 00462c30
 */

int __thiscall FUN_00462c30(void *this,int param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = FUN_00456210(param_1);
  switch(uVar1) {
  case 0:
                    /* WARNING: Load size is inaccurate */
    iVar3 = *this;
    iVar2 = 0;
    if (iVar3 != 0) {
      while (iVar3 != param_1) {
        iVar3 = *(int *)(iVar3 + 0x8c);
        iVar2 = iVar2 + 1;
        if (iVar3 == 0) {
          return -1;
        }
      }
LAB_00462c72:
      if (iVar3 != 0) {
        return iVar2;
      }
      return -1;
    }
    break;
  case 1:
    iVar3 = *(int *)((int)this + 4);
    iVar2 = 0;
    if (iVar3 != 0) {
      while (iVar3 != param_1) {
        iVar3 = *(int *)(iVar3 + 0x8c);
        iVar2 = iVar2 + 1;
        if (iVar3 == 0) {
          return -1;
        }
      }
      goto LAB_00462c72;
    }
    break;
  case 2:
    iVar3 = *(int *)((int)this + 8);
    iVar2 = 0;
    if (iVar3 != 0) {
      while (iVar3 != param_1) {
        iVar3 = *(int *)(iVar3 + 0x8c);
        iVar2 = iVar2 + 1;
        if (iVar3 == 0) {
          return -1;
        }
      }
      goto LAB_00462c72;
    }
    break;
  case 3:
    iVar3 = *(int *)((int)this + 0xc);
    iVar2 = 0;
    if (iVar3 != 0) {
      while (iVar3 != param_1) {
        iVar3 = *(int *)(iVar3 + 0x8c);
        iVar2 = iVar2 + 1;
        if (iVar3 == 0) {
          return -1;
        }
      }
      goto LAB_00462c72;
    }
    break;
  case 4:
    iVar3 = *(int *)((int)this + 0x10);
    iVar2 = 0;
    if (iVar3 != 0) {
      while (iVar3 != param_1) {
        iVar3 = *(int *)(iVar3 + 0x8c);
        iVar2 = iVar2 + 1;
        if (iVar3 == 0) {
          return -1;
        }
      }
      if (iVar3 != 0) {
        return iVar2;
      }
    }
  }
  return -1;
}



/*
 * Function: FUN_00462d30
 * Address: 00462d30
 */

undefined4 * __thiscall FUN_00462d30(void *this,undefined4 param_1,int param_2,undefined4 *param_3)

{
  int iVar1;
  undefined4 *puVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_004724e7;
  local_c = ExceptionList;
  switch(param_1) {
  case 0:
    ExceptionList = &local_c;
    iVar1 = FUN_00462b60(this,0,param_2);
    if (iVar1 != 0) {
      puVar2 = (undefined4 *)operator_new(0x34c);
      local_4 = 0;
      if (puVar2 == (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
      }
      else {
        puVar2 = FUN_004671f0(puVar2);
      }
      local_4 = 0xffffffff;
      FUN_00467590(puVar2,iVar1);
      FUN_00467310(puVar2,(int)param_3);
LAB_00462f28:
      if ((puVar2[6] != 1) && (puVar2[6] != 2)) {
        FUN_004663c0(puVar2,1);
      }
      ExceptionList = local_c;
      return puVar2;
    }
    break;
  case 1:
    ExceptionList = &local_c;
    iVar1 = FUN_00462b60(this,1,param_2);
    if (iVar1 != 0) {
      puVar2 = (undefined4 *)operator_new(0x324);
      local_4 = 1;
      if (puVar2 == (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
      }
      else {
        puVar2 = FUN_004664b0(puVar2);
      }
      local_4 = 0xffffffff;
      FUN_00466810(puVar2,iVar1);
      FUN_00466570(puVar2,(int)param_3);
      goto LAB_00462f28;
    }
    break;
  case 2:
    ExceptionList = &local_c;
    iVar1 = FUN_00462b60(this,2,param_2);
    if (iVar1 != 0) {
      puVar2 = (undefined4 *)operator_new(0x2cc);
      local_4 = 2;
      if (puVar2 == (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
      }
      else {
        puVar2 = FUN_004656b0(puVar2);
      }
      local_4 = 0xffffffff;
      FUN_00465900(puVar2,iVar1);
      FUN_00465730(puVar2,(int)param_3);
      goto LAB_00462f28;
    }
    break;
  case 3:
    ExceptionList = &local_c;
    iVar1 = FUN_00462b60(this,3,param_2);
    if (iVar1 != 0) {
      puVar2 = (undefined4 *)operator_new(0xb8);
      local_4 = 3;
      if (puVar2 == (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
      }
      else {
        puVar2 = FUN_00466960(puVar2);
      }
      local_4 = 0xffffffff;
      FUN_004669b0(puVar2,iVar1);
      goto LAB_00462f28;
    }
    break;
  case 4:
    ExceptionList = &local_c;
    iVar1 = FUN_00462b60(this,4,param_2);
    if (iVar1 != 0) {
      puVar2 = (undefined4 *)operator_new(0x90);
      local_4 = 4;
      if (puVar2 == (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
      }
      else {
        puVar2 = FUN_00466a00(puVar2);
      }
      local_4 = 0xffffffff;
      FUN_00466a50(puVar2,iVar1);
      FUN_00466a70(puVar2,param_3);
      goto LAB_00462f28;
    }
  }
  ExceptionList = local_c;
  return (undefined4 *)0x0;
}



/*
 * Function: FUN_004653a0
 * Address: 004653a0
 */

undefined4 __thiscall
FUN_004653a0(void *this,int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,
            int param_7,int param_8,uint param_9)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int local_4;
  
  switch(param_1) {
  case 0:
                    /* WARNING: Load size is inaccurate */
    iVar1 = *this;
    break;
  case 1:
    iVar1 = *(int *)((int)this + 4);
    break;
  case 2:
    iVar1 = *(int *)((int)this + 8);
    break;
  case 3:
    iVar1 = *(int *)((int)this + 0xc);
    break;
  case 4:
    iVar1 = *(int *)((int)this + 0x10);
    break;
  default:
    goto switchD_004653b2_caseD_5;
  }
  local_4 = 0;
  iVar4 = param_1;
  for (; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    iVar3 = *(int *)(iVar1 + 0x18);
    if ((((((iVar3 == 0) && (param_4 == 1)) || ((iVar3 == 1 && (param_5 == 1)))) ||
         ((iVar3 == 2 && (param_6 == 1)))) || ((iVar3 == 3 && (param_7 == 1)))) &&
       (uVar2 = FUN_004664a0(iVar1), (param_9 & uVar2) != 0)) {
      switch(param_1) {
      case 0:
      case 1:
        iVar3 = *(int *)(iVar1 + 0xc0);
        break;
      case 2:
        iVar3 = *(int *)(iVar1 + 0x90);
        break;
      case 3:
        iVar3 = *(int *)(iVar1 + 0x90);
        break;
      default:
        goto switchD_0046543f_caseD_4;
      }
      iVar4 = 1;
      if ((param_2 < iVar3) && (iVar4 = 1, param_2 != -1)) {
        iVar4 = 0;
      }
      if ((iVar3 < param_3) && (param_3 != -1)) {
        iVar4 = 0;
      }
      else {
switchD_0046543f_caseD_4:
        if (iVar4 == 1) {
          iVar3 = FUN_004663d0(iVar1);
          local_4 = local_4 + iVar3;
          if (param_8 < local_4) {
            return *(undefined4 *)(iVar1 + 0x14);
          }
        }
      }
    }
  }
switchD_004653b2_caseD_5:
  return 0xffffffff;
}



/*
 * Function: FUN_00465500
 * Address: 00465500
 */

int __thiscall
FUN_00465500(void *this,int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,
            int param_7,uint param_8)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int local_4;
  
  switch(param_1) {
  case 0:
                    /* WARNING: Load size is inaccurate */
    iVar1 = *this;
    break;
  case 1:
    iVar1 = *(int *)((int)this + 4);
    break;
  case 2:
    iVar1 = *(int *)((int)this + 8);
    break;
  case 3:
    iVar1 = *(int *)((int)this + 0xc);
    break;
  case 4:
    iVar1 = *(int *)((int)this + 0x10);
    break;
  default:
    return -1;
  }
  local_4 = 0;
  iVar4 = param_1;
  do {
    if (iVar1 == 0) {
      return local_4;
    }
    iVar3 = *(int *)(iVar1 + 0x18);
    if ((((((iVar3 == 0) && (param_4 == 1)) || ((iVar3 == 1 && (param_5 == 1)))) ||
         ((iVar3 == 2 && (param_6 == 1)))) || ((iVar3 == 3 && (param_7 == 1)))) &&
       (uVar2 = FUN_004664a0(iVar1), (param_8 & uVar2) != 0)) {
      switch(param_1) {
      case 0:
      case 1:
        iVar3 = *(int *)(iVar1 + 0xc0);
        break;
      case 2:
        iVar3 = *(int *)(iVar1 + 0x90);
        break;
      case 3:
        iVar3 = *(int *)(iVar1 + 0x90);
        break;
      default:
        goto switchD_00465597_caseD_4;
      }
      iVar4 = 1;
      if ((param_2 < iVar3) && (iVar4 = 1, param_2 != -1)) {
        iVar4 = 0;
      }
      if ((iVar3 < param_3) && (param_3 != -1)) {
        iVar4 = 0;
      }
      else {
switchD_00465597_caseD_4:
        if (iVar4 == 1) {
          iVar3 = FUN_004663d0(iVar1);
          local_4 = local_4 + iVar3;
        }
      }
    }
    iVar1 = *(int *)(iVar1 + 0x8c);
  } while( true );
}



/*
 * Function: FUN_00465640
 * Address: 00465640
 */

void FUN_00465640(int *param_1)

{
  undefined4 uVar1;
  
  uVar1 = FUN_00456210(*param_1);
  switch(uVar1) {
  case 0:
  case 2:
    if ((undefined4 *)*param_1 != (undefined4 *)0x0) {
      (*(code *)**(undefined4 **)*param_1)(1);
      *param_1 = 0;
      return;
    }
    break;
  case 1:
  case 3:
    if ((undefined4 *)*param_1 != (undefined4 *)0x0) {
      (*(code *)**(undefined4 **)*param_1)(1);
      *param_1 = 0;
      return;
    }
    break;
  case 4:
    if ((undefined4 *)*param_1 != (undefined4 *)0x0) {
      (*(code *)**(undefined4 **)*param_1)(1);
    }
  }
  *param_1 = 0;
  return;
}



/*
 * Function: FUN_004656b0
 * Address: 004656b0
 */

undefined4 * __fastcall FUN_004656b0(undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  
  FUN_004659e0(param_1);
  *param_1 = &PTR_FUN_00476e60;
  param_1[0x24] = 0;
  param_1[0xb2] = 1;
  puVar2 = param_1 + 0x25;
  for (iVar1 = 0x75; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  puVar2 = param_1 + 0x9a;
  for (iVar1 = 0x18; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  return param_1;
}



/*
 * Function: FUN_00465700
 * Address: 00465700
 */

undefined4 * __thiscall FUN_00465700(void *this,byte param_1)

{
  FUN_00465720((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_00465720
 * Address: 00465720
 */

void __fastcall FUN_00465720(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e60;
  FUN_00465a90(param_1);
  return;
}



/*
 * Function: FUN_00465730
 * Address: 00465730
 */

undefined4 __thiscall FUN_00465730(void *this,int param_1)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  int *piVar4;
  int iVar5;
  undefined4 *puVar6;
  int *piVar7;
  int iVar8;
  
  if (param_1 != 0) {
    iVar2 = FUN_00462b60(DAT_0048ce14,*(undefined4 *)((int)this + 0xc),*(int *)((int)this + 0x14));
    piVar4 = (int *)(param_1 + 0x9c);
    piVar7 = (int *)(iVar2 + 0x26c);
    iVar8 = 8;
    do {
      if (*piVar4 < piVar7[-1]) {
        *piVar4 = piVar7[-1];
      }
      if (*piVar7 < *piVar4) {
        *piVar4 = *piVar7;
      }
      piVar4 = piVar4 + 1;
      piVar7 = piVar7 + 3;
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
    iVar8 = 0;
    do {
      if (iVar8 == 0x10) {
        if (*(int *)(iVar2 + 0x154) != *(int *)(param_1 + 0x40)) {
          *(int *)(param_1 + 0x40) = *(int *)(iVar2 + 0x154);
        }
      }
      else {
        iVar5 = *(int *)(iVar2 + 0x94 + iVar8 * 0xc);
        if (*(int *)(param_1 + iVar8 * 4) < iVar5) {
          *(int *)(param_1 + iVar8 * 4) = iVar5;
        }
        iVar5 = *(int *)(iVar2 + iVar8 * 0xc + 0x98);
        if (iVar5 < *(int *)(param_1 + iVar8 * 4)) {
          *(int *)(param_1 + iVar8 * 4) = iVar5;
        }
      }
      iVar5 = iVar8 + 1;
      *(undefined4 *)((int)this + iVar8 * 0xc + 0x94) = *(undefined4 *)(param_1 + iVar8 * 4);
      iVar8 = iVar5;
    } while (iVar5 < 0x27);
    puVar6 = (undefined4 *)((int)this + 0x268);
    puVar3 = (undefined4 *)(param_1 + 0x9c);
    iVar2 = 8;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      *puVar6 = uVar1;
      puVar6 = puVar6 + 3;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 0xbc);
    return 1;
  }
  piVar4 = (int *)((int)this + 0x94);
  iVar2 = 0x27;
  do {
    iVar8 = _rand();
    if (iVar8 % 100 < piVar4[2]) {
      iVar8 = *piVar4;
      iVar5 = _rand();
      *piVar4 = iVar5 % ((piVar4[1] - iVar8) + 1) + iVar8;
    }
    else {
      *piVar4 = 0;
    }
    piVar4 = piVar4 + 3;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  piVar4 = (int *)((int)this + 0x268);
  iVar2 = 8;
  do {
    iVar8 = _rand();
    if (iVar8 % 100 < piVar4[2]) {
      iVar8 = *piVar4;
      iVar5 = _rand();
      *piVar4 = iVar5 % ((piVar4[1] - iVar8) + 1) + iVar8;
    }
    else {
      *piVar4 = 0;
    }
    piVar4 = piVar4 + 3;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  *(undefined4 *)((int)this + 0x1c) = 0;
  return 1;
}



/*
 * Function: FUN_004658a0
 * Address: 004658a0
 */

undefined4 __thiscall FUN_004658a0(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  
  if (param_1 != (undefined4 *)0x0) {
    puVar2 = (undefined4 *)((int)this + 0x94);
    iVar4 = 0x27;
    puVar3 = param_1;
    do {
      uVar1 = *puVar2;
      puVar2 = puVar2 + 3;
      *puVar3 = uVar1;
      puVar3 = puVar3 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    puVar2 = param_1 + 0x27;
    puVar3 = (undefined4 *)((int)this + 0x268);
    iVar4 = 8;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 3;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    param_1[0x2f] = *(undefined4 *)((int)this + 0x1c);
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_00465900
 * Address: 00465900
 */

undefined4 __thiscall FUN_00465900(void *this,int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  
  FUN_00465ad0(this,param_1);
  iVar3 = 0x27;
  *(undefined4 *)((int)this + 0x90) = *(undefined4 *)(param_1 + 0x90);
  *(undefined4 *)((int)this + 0x2c8) = *(undefined4 *)(param_1 + 0x2c8);
  puVar2 = (undefined4 *)((int)this + 0x94);
  do {
    puVar1 = (undefined4 *)((param_1 - (int)this) + (int)puVar2);
    iVar3 = iVar3 + -1;
    *puVar2 = *puVar1;
    puVar2[1] = puVar1[1];
    puVar2[2] = puVar1[2];
    puVar2 = puVar2 + 3;
  } while (iVar3 != 0);
  iVar3 = 8;
  puVar2 = (undefined4 *)((int)this + 0x268);
  do {
    puVar1 = (undefined4 *)((int)puVar2 + (param_1 - (int)this));
    iVar3 = iVar3 + -1;
    *puVar2 = *puVar1;
    puVar2[1] = puVar1[1];
    puVar2[2] = puVar1[2];
    puVar2 = puVar2 + 3;
  } while (iVar3 != 0);
  return 1;
}



/*
 * Function: FUN_00465990
 * Address: 00465990
 */

undefined4 __fastcall FUN_00465990(int param_1)

{
  return *(undefined4 *)(param_1 + 0x2c8);
}



/*
 * Function: FUN_004659a0
 * Address: 004659a0
 */

int __thiscall FUN_004659a0(void *this,int param_1)

{
  return (int)this + param_1 * 0xc + 0x94;
}



/*
 * Function: FUN_004659c0
 * Address: 004659c0
 */

int __thiscall FUN_004659c0(void *this,int param_1)

{
  return (int)this + param_1 * 0xc + 0x268;
}



/*
 * Function: FUN_004659e0
 * Address: 004659e0
 */

void __fastcall FUN_004659e0(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e64;
  param_1[1] = 0;
  param_1[0x14] = 1000;
  param_1[0x15] = 1000;
  param_1[0x16] = 1000;
  param_1[0x1e] = 1000;
  param_1[0x17] = 1000;
  param_1[0x18] = 1000;
  param_1[0x19] = 1000;
  param_1[0x1b] = 1000;
  param_1[0x1c] = 1000;
  param_1[0x1d] = 1000;
  param_1[2] = 0;
  param_1[3] = 0xffffffff;
  param_1[4] = 0xffffffff;
  param_1[5] = 0xffffffff;
  param_1[6] = 0xffffffff;
  param_1[7] = 0;
  param_1[8] = 0;
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[0xb] = 0xffffffff;
  param_1[0xc] = 0xffffffff;
  param_1[0xd] = 0xffffffff;
  param_1[0xe] = 0xffffffff;
  param_1[0xf] = 0xffffffff;
  param_1[0x12] = 0;
  param_1[0x13] = 0;
  param_1[0x10] = 0;
  param_1[0x11] = 0;
  param_1[0x1a] = 0xffffffff;
  param_1[0x23] = 0;
  param_1[0x1f] = 0xffffffff;
  param_1[0x22] = 1;
  return;
}



/*
 * Function: FUN_00465a70
 * Address: 00465a70
 */

undefined4 * __thiscall FUN_00465a70(void *this,byte param_1)

{
  FUN_00465a90((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_00465a90
 * Address: 00465a90
 */

void __fastcall FUN_00465a90(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e64;
  FUN_00465aa0((int)param_1);
  return;
}



/*
 * Function: FUN_00465aa0
 * Address: 00465aa0
 */

void __fastcall FUN_00465aa0(int param_1)

{
  if (*(HGLOBAL *)(param_1 + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 4));
    *(undefined4 *)(param_1 + 4) = 0;
  }
  if (*(HGLOBAL *)(param_1 + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(param_1 + 8));
    *(undefined4 *)(param_1 + 8) = 0;
  }
  return;
}



/*
 * Function: FUN_00465ad0
 * Address: 00465ad0
 */

undefined4 __thiscall FUN_00465ad0(void *this,int param_1)

{
  char cVar1;
  undefined4 *puVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  char *pcVar6;
  
  FUN_00465aa0((int)this);
  if (*(char **)(param_1 + 4) != (char *)0x0) {
    uVar3 = 0xffffffff;
    pcVar6 = *(char **)(param_1 + 4);
    do {
      if (uVar3 == 0) break;
      uVar3 = uVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    uVar4 = ~uVar3 - 1;
    puVar2 = (undefined4 *)GlobalAlloc(0x40,~uVar3);
    *(undefined4 **)((int)this + 4) = puVar2;
    puVar5 = *(undefined4 **)(param_1 + 4);
    for (uVar3 = uVar4 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
      *puVar2 = *puVar5;
      puVar5 = puVar5 + 1;
      puVar2 = puVar2 + 1;
    }
    for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(undefined *)puVar2 = *(undefined *)puVar5;
      puVar5 = (undefined4 *)((int)puVar5 + 1);
      puVar2 = (undefined4 *)((int)puVar2 + 1);
    }
  }
  if (*(char **)(param_1 + 8) != (char *)0x0) {
    uVar3 = 0xffffffff;
    pcVar6 = *(char **)(param_1 + 8);
    do {
      if (uVar3 == 0) break;
      uVar3 = uVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    uVar4 = ~uVar3 - 1;
    puVar2 = (undefined4 *)GlobalAlloc(0x40,~uVar3);
    *(undefined4 **)((int)this + 8) = puVar2;
    puVar5 = *(undefined4 **)(param_1 + 8);
    for (uVar3 = uVar4 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
      *puVar2 = *puVar5;
      puVar5 = puVar5 + 1;
      puVar2 = puVar2 + 1;
    }
    for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(undefined *)puVar2 = *(undefined *)puVar5;
      puVar5 = (undefined4 *)((int)puVar5 + 1);
      puVar2 = (undefined4 *)((int)puVar2 + 1);
    }
  }
  *(undefined4 *)((int)this + 0xc) = *(undefined4 *)(param_1 + 0xc);
  *(undefined4 *)((int)this + 0x10) = *(undefined4 *)(param_1 + 0x10);
  *(undefined4 *)((int)this + 0x14) = *(undefined4 *)(param_1 + 0x14);
  *(undefined4 *)((int)this + 0x18) = *(undefined4 *)(param_1 + 0x18);
  *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 0x1c);
  *(undefined4 *)((int)this + 0x20) = *(undefined4 *)(param_1 + 0x20);
  *(undefined4 *)((int)this + 0x24) = *(undefined4 *)(param_1 + 0x24);
  *(undefined4 *)((int)this + 0x28) = *(undefined4 *)(param_1 + 0x28);
  *(undefined4 *)((int)this + 0x2c) = *(undefined4 *)(param_1 + 0x2c);
  *(undefined4 *)((int)this + 0x30) = *(undefined4 *)(param_1 + 0x30);
  *(undefined4 *)((int)this + 0x34) = *(undefined4 *)(param_1 + 0x34);
  *(undefined4 *)((int)this + 0x38) = *(undefined4 *)(param_1 + 0x38);
  *(undefined4 *)((int)this + 0x3c) = *(undefined4 *)(param_1 + 0x3c);
  *(undefined4 *)((int)this + 0x48) = *(undefined4 *)(param_1 + 0x48);
  *(undefined4 *)((int)this + 0x4c) = *(undefined4 *)(param_1 + 0x4c);
  *(undefined4 *)((int)this + 0x40) = *(undefined4 *)(param_1 + 0x40);
  *(undefined4 *)((int)this + 0x44) = *(undefined4 *)(param_1 + 0x44);
  *(undefined4 *)((int)this + 0x50) = *(undefined4 *)(param_1 + 0x50);
  *(undefined4 *)((int)this + 0x54) = *(undefined4 *)(param_1 + 0x54);
  *(undefined4 *)((int)this + 0x58) = *(undefined4 *)(param_1 + 0x58);
  *(undefined4 *)((int)this + 0x5c) = *(undefined4 *)(param_1 + 0x5c);
  *(undefined4 *)((int)this + 0x60) = *(undefined4 *)(param_1 + 0x60);
  *(undefined4 *)((int)this + 100) = *(undefined4 *)(param_1 + 100);
  *(undefined4 *)((int)this + 0x68) = *(undefined4 *)(param_1 + 0x68);
  *(undefined4 *)((int)this + 0x6c) = *(undefined4 *)(param_1 + 0x6c);
  *(undefined4 *)((int)this + 0x70) = *(undefined4 *)(param_1 + 0x70);
  *(undefined4 *)((int)this + 0x74) = *(undefined4 *)(param_1 + 0x74);
  *(undefined4 *)((int)this + 0x78) = *(undefined4 *)(param_1 + 0x78);
  *(undefined4 *)((int)this + 0x7c) = *(undefined4 *)(param_1 + 0x7c);
  *(undefined4 *)((int)this + 0x80) = *(undefined4 *)(param_1 + 0x80);
  *(undefined4 *)((int)this + 0x84) = *(undefined4 *)(param_1 + 0x84);
  *(undefined4 *)((int)this + 0x88) = *(undefined4 *)(param_1 + 0x88);
  return 1;
}



/*
 * Function: FUN_00465c30
 * Address: 00465c30
 */

undefined4 __thiscall FUN_00465c30(void *this,int *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  do {
    *param_1 = 0;
    iVar2 = *(int *)((int)this + 0xc);
    if (iVar2 == 0) {
      iVar2 = FUN_00467750(this,iVar3);
      piVar1 = (int *)FUN_00467760(this,iVar3);
      *param_1 = *piVar1 + iVar2;
    }
    else if (iVar2 == 1) {
      iVar2 = FUN_00467750(this,iVar3);
      piVar1 = (int *)FUN_00466920(this,iVar3);
      *param_1 = *piVar1 + iVar2;
    }
    else if (iVar2 == 2) {
      piVar1 = (int *)FUN_004659c0(this,iVar3);
      *param_1 = *piVar1;
    }
    iVar3 = iVar3 + 1;
    param_1 = param_1 + 1;
  } while (iVar3 < 8);
  return 1;
}



/*
 * Function: FUN_00465cb0
 * Address: 00465cb0
 */

void __thiscall
FUN_00465cb0(void *this,long param_1,long param_2,int param_3,int param_4,int param_5,int param_6,
            long param_7)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,param_2,*(int *)((int)this + 0x2c) + 1000,
             *(long *)((int)this + 0x30),*(long *)((int)this + 0x3c),4,param_3,param_4,1000,1000,
             param_7,1000,0,1000,1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  if (param_5 == -1) {
    param_5 = *(int *)((int)this + 0x20) * 0x20 + -0x10 + param_3;
  }
  if (param_6 == -1) {
    param_6 = *(int *)((int)this + 0x24) * 0x20 + -0x10 + param_4;
  }
  if ((*(int *)((int)this + 0x1c) == 0) &&
     ((*(int *)((int)this + 0x18) == 1 || (*(int *)((int)this + 0x18) == 2)))) {
    RKC_UPDIB::SetPacket
              (DAT_00482d10,param_1,param_2,4,0x11,-1,4,param_5,param_6,1000,1000,1000,1000,0,1000,
               1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
    param_6 = param_6 + -0xf;
  }
  if (*(int *)((int)this + 0xc) == 0) {
    iVar1 = FUN_00467710((int)this);
    iVar2 = FUN_00467720((int)this);
  }
  else {
    iVar2 = param_2;
    iVar1 = param_2;
    if (*(int *)((int)this + 0xc) != 1) {
      return;
    }
  }
  if (*(int *)((int)this + 0xc) == 1) {
    iVar1 = FUN_00467710((int)this);
    iVar2 = FUN_00467720((int)this);
  }
  if (iVar2 != 0) {
    if (9 < (iVar2 * 100) / iVar1) {
      return;
    }
    uVar3 = DAT_0048ce98 & 0x8000000f;
    if ((int)uVar3 < 0) {
      uVar3 = (uVar3 - 1 | 0xfffffff0) + 1;
    }
    if (7 < (int)uVar3) {
      return;
    }
  }
  RKC_UPDIB::SetPacket
            (DAT_00482d10,param_1,param_2,4,0x10,-1,4,param_5,param_6,1000,1000,1000,1000,0,1000,
             1000,1000,(tagRECT *)0x0,(RKC_DIB *)0x0);
  return;
}



/*
 * Function: FUN_00465e60
 * Address: 00465e60
 */

undefined4 __thiscall FUN_00465e60(void *this,int param_1,int param_2,int param_3)

{
  if (*(int *)((int)this + 0xc) != param_1) {
    return 0;
  }
  if ((param_2 != -1) && (*(int *)((int)this + 0x10) != param_2)) {
    return 0;
  }
  if ((param_3 != -1) && (*(int *)((int)this + 0x14) != param_3)) {
    return 0;
  }
  return 1;
}



/*
 * Function: FUN_00465ea0
 * Address: 00465ea0
 */

undefined4 __thiscall FUN_00465ea0(void *this,int param_1)

{
  undefined4 local_14 [5];
  
  local_14[2] = 0xc0;
  local_14[0] = 200;
  local_14[1] = 200;
  local_14[3] = 0;
  local_14[4] = 4;
  if (param_1 == -1) {
    return local_14[*(int *)((int)this + 0xc)];
  }
  if (param_1 < 3) {
    if (*(int *)((int)this + 0xc) == 0) {
      return 0xc4;
    }
    if (*(int *)((int)this + 0xc) == 1) {
      return 0xc4;
    }
  }
  return local_14[*(int *)((int)this + 0xc)];
}



/*
 * Function: FUN_00465f20
 * Address: 00465f20
 */

void __thiscall FUN_00465f20(void *this,undefined4 *param_1)

{
  switch(*(undefined4 *)((int)this + 0xc)) {
  case 0:
    FUN_004674d0(this,param_1);
    return;
  case 1:
    FUN_00466720(this,param_1);
    return;
  case 2:
    FUN_004658a0(this,param_1);
    return;
  case 4:
    FUN_00466a90(this,param_1);
  }
  return;
}



/*
 * Function: FUN_00465f80
 * Address: 00465f80
 */

void __thiscall FUN_00465f80(void *this,undefined4 *param_1,int param_2)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 local_254;
  undefined4 local_250 [49];
  undefined4 local_18c;
  undefined4 local_188 [49];
  undefined4 local_c4;
  undefined4 local_c0 [48];
  
  switch(*(undefined4 *)((int)this + 0xc)) {
  case 0:
    break;
  case 1:
    if (param_2 != -1) {
      puVar2 = local_250;
      for (iVar1 = 0x32; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar2 = *param_1;
        param_1 = param_1 + 1;
        puVar2 = puVar2 + 1;
      }
      if (param_2 < 3) {
        local_18c = 0xffffffff;
      }
      FUN_00466570(this,(int)local_250);
      return;
    }
    FUN_00466570(this,(int)param_1);
    return;
  case 2:
    if (param_2 != -1) {
      puVar2 = local_c0;
      for (iVar1 = 0x30; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar2 = *param_1;
        param_1 = param_1 + 1;
        puVar2 = puVar2 + 1;
      }
      FUN_00465730(this,(int)local_c0);
      return;
    }
    FUN_00465730(this,(int)param_1);
    return;
  default:
    return;
  case 4:
    if (param_2 != -1) {
      local_254 = *param_1;
      FUN_00466a70(this,&local_254);
      return;
    }
    FUN_00466a70(this,param_1);
    return;
  }
  if (param_2 != -1) {
    puVar2 = local_188;
    for (iVar1 = 0x32; iVar1 != 0; iVar1 = iVar1 + -1) {
      *puVar2 = *param_1;
      param_1 = param_1 + 1;
      puVar2 = puVar2 + 1;
    }
    if (param_2 < 3) {
      local_c4 = 0xffffffff;
    }
    FUN_00467310(this,(int)local_188);
    return;
  }
  FUN_00467310(this,(int)param_1);
  return;
}



/*
 * Function: FUN_00466110
 * Address: 00466110
 */

int __thiscall FUN_00466110(void *this,undefined4 param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  switch(param_1) {
  case 0:
    iVar2 = *(int *)((int)this + 0x28);
    break;
  case 1:
    iVar2 = *(int *)((int)this + 0x28);
    break;
  case 2:
    iVar3 = *(int *)((int)this + 0xc);
    iVar2 = 0xf;
    if (iVar3 != 4) goto LAB_00466163;
    iVar1 = *(int *)((int)this + 0x14);
    goto joined_r0x0046615c;
  case 3:
    if (*(int *)((int)this + 0xc) != 2) {
      return 0x31;
    }
    return 0x5d;
  case 4:
    return (0x3b < *(int *)((int)this + 0x28)) + 1;
  default:
    return -1;
  }
  iVar3 = *(int *)((int)this + 0xc);
  iVar2 = (iVar2 < 0x3c) + 0x2f;
  if (iVar3 == 4) {
    iVar1 = *(int *)((int)this + 0x14);
joined_r0x0046615c:
    if (iVar1 == 0) {
      iVar2 = 0x55;
    }
  }
LAB_00466163:
  if (iVar3 != 2) {
    return iVar2;
  }
  return 0x5d;
}



/*
 * Function: FUN_004661c0
 * Address: 004661c0
 */

int __thiscall FUN_004661c0(void *this,int param_1)

{
  RKC_RPG_TABLEDATA *this_00;
  long lVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int local_c;
  uint *local_8;
  
  iVar5 = *(int *)((int)this + 0x40);
  local_c = 0;
  local_8 = (uint *)0x0;
  if (*(int *)((int)this + 0x44) == 0) {
    iVar4 = *(int *)((int)this + 0xc);
    if (iVar4 == 0) {
      local_c = FUN_00467740(this,0);
      local_8 = (uint *)FUN_00467760(this,0);
    }
    else if (iVar4 == 1) {
      local_c = FUN_00466900(this,0);
      local_8 = (uint *)FUN_00466920(this,0);
    }
    else if (iVar4 == 2) {
      local_c = FUN_004659a0(this,0);
      local_8 = (uint *)FUN_004659c0(this,0);
    }
    this_00 = RKC_RPG_TABLE::GetFromTableNo(DAT_0048d4e4,0x22);
    if (this_00 != (RKC_RPG_TABLEDATA *)0x0) {
      if (local_8 != (uint *)0x0) {
        iVar4 = 0;
        do {
          lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,iVar4,0);
          uVar3 = (int)*local_8 >> 0x1f;
          iVar5 = iVar5 + lVar1 * ((*local_8 ^ uVar3) - uVar3);
          iVar4 = iVar4 + 1;
          local_8 = local_8 + 3;
        } while (iVar4 < 8);
      }
      if (local_c != 0) {
        iVar4 = 0;
        do {
          if (iVar4 == 0x10) {
            if (*(int *)((int)this + 0xc) == 0) {
              lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,0x18,0);
              uVar3 = 1 - *(int *)(local_c + 0xc0);
            }
            else {
              lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,0x18,0);
              uVar3 = *(uint *)(local_c + 0xc0);
            }
          }
          else {
            lVar1 = RKC_RPG_TABLEDATA::GetValue(this_00,iVar4 + 8,0);
            uVar3 = *(uint *)(local_c + iVar4 * 0xc);
          }
          iVar5 = iVar5 + lVar1 * ((uVar3 ^ (int)uVar3 >> 0x1f) - ((int)uVar3 >> 0x1f));
          iVar4 = iVar4 + 1;
        } while (iVar4 < 0x27);
      }
    }
  }
  if (param_1 != 1) {
    return iVar5;
  }
  if (*(int *)((int)this + 0xc) == 0) {
    iVar4 = FUN_00467720((int)this);
    if (iVar4 != 0) {
      iVar4 = FUN_00467720((int)this);
      iVar2 = FUN_00467710((int)this);
      iVar5 = (iVar4 * iVar5) / iVar2;
      goto LAB_00466366;
    }
  }
  else {
    if (*(int *)((int)this + 0xc) != 1) goto LAB_00466366;
    iVar4 = FUN_00467720((int)this);
    if (iVar4 != 0) {
      iVar4 = FUN_00467720((int)this);
      iVar2 = FUN_00467710((int)this);
      iVar5 = (iVar4 * iVar5) / iVar2;
      goto LAB_00466366;
    }
  }
  iVar5 = 1;
LAB_00466366:
  iVar5 = (int)(iVar5 + (iVar5 >> 0x1f & 3U)) >> 2;
  if (iVar5 != 0) {
    return iVar5;
  }
  return 1;
}



/*
 * Function: FUN_00466390
 * Address: 00466390
 */

undefined4 __fastcall FUN_00466390(int param_1)

{
  return *(undefined4 *)(param_1 + 0x14);
}



/*
 * Function: FUN_004663a0
 * Address: 004663a0
 */

undefined4 __fastcall FUN_004663a0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x10);
}



/*
 * Function: FUN_004663b0
 * Address: 004663b0
 */

int __fastcall FUN_004663b0(int param_1)

{
  return param_1 + 0x48;
}



/*
 * Function: FUN_004663c0
 * Address: 004663c0
 */

void __thiscall FUN_004663c0(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x1c) = param_1;
  return;
}



/*
 * Function: FUN_004663d0
 * Address: 004663d0
 */

undefined4 __fastcall FUN_004663d0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x78);
}



/*
 * Function: FUN_004663e0
 * Address: 004663e0
 */

void __thiscall FUN_004663e0(void *this,undefined4 param_1,undefined4 param_2)

{
  *(undefined4 *)((int)this + 0x48) = param_1;
  *(undefined4 *)((int)this + 0x4c) = param_2;
  return;
}



/*
 * Function: FUN_00466400
 * Address: 00466400
 */

undefined4 __fastcall FUN_00466400(int param_1)

{
  return *(undefined4 *)(param_1 + 0x50);
}



/*
 * Function: FUN_00466410
 * Address: 00466410
 */

undefined4 __fastcall FUN_00466410(int param_1)

{
  return *(undefined4 *)(param_1 + 0x58);
}



/*
 * Function: FUN_00466420
 * Address: 00466420
 */

undefined4 __fastcall FUN_00466420(int param_1)

{
  return *(undefined4 *)(param_1 + 0x5c);
}



/*
 * Function: FUN_00466430
 * Address: 00466430
 */

undefined4 __fastcall FUN_00466430(int param_1)

{
  return *(undefined4 *)(param_1 + 0x60);
}



/*
 * Function: FUN_00466440
 * Address: 00466440
 */

void __thiscall FUN_00466440(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x40) = param_1;
  return;
}



/*
 * Function: FUN_00466450
 * Address: 00466450
 */

undefined4 __fastcall FUN_00466450(int param_1)

{
  return *(undefined4 *)(param_1 + 0x68);
}



/*
 * Function: FUN_00466460
 * Address: 00466460
 */

undefined4 __fastcall FUN_00466460(int param_1)

{
  return *(undefined4 *)(param_1 + 0x70);
}



/*
 * Function: FUN_00466470
 * Address: 00466470
 */

undefined4 __fastcall FUN_00466470(int param_1)

{
  return *(undefined4 *)(param_1 + 0x74);
}



/*
 * Function: FUN_00466480
 * Address: 00466480
 */

undefined4 __fastcall FUN_00466480(int param_1)

{
  return *(undefined4 *)(param_1 + 0x7c);
}



/*
 * Function: FUN_00466490
 * Address: 00466490
 */

int __fastcall FUN_00466490(int param_1)

{
  return param_1 + 0x80;
}



/*
 * Function: FUN_004664a0
 * Address: 004664a0
 */

undefined4 __fastcall FUN_004664a0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x88);
}



/*
 * Function: FUN_004664b0
 * Address: 004664b0
 */

undefined4 * __fastcall FUN_004664b0(undefined4 *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  FUN_004659e0(param_1);
  *param_1 = &PTR_FUN_00476e68;
  param_1[0x31] = 0;
  param_1[0x3a] = 1;
  param_1[0x2e] = 0;
  param_1[0x30] = 0;
  puVar1 = param_1 + 0x3b;
  for (iVar2 = 0x75; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
  }
  puVar1 = param_1 + 0x32;
  iVar2 = 8;
  puVar3 = param_1 + 0xb0;
  do {
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
    *puVar3 = 0;
    iVar2 = iVar2 + -1;
    puVar3[1] = 0;
    puVar3[2] = 0;
    puVar3 = puVar3 + 3;
  } while (iVar2 != 0);
  param_1[200] = 0xffffffff;
  return param_1;
}



/*
 * Function: FUN_00466540
 * Address: 00466540
 */

undefined4 * __thiscall FUN_00466540(void *this,byte param_1)

{
  FUN_00466560((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_00466560
 * Address: 00466560
 */

void __fastcall FUN_00466560(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e68;
  FUN_00465a90(param_1);
  return;
}



/*
 * Function: FUN_00466570
 * Address: 00466570
 */

undefined4 __thiscall FUN_00466570(void *this,int param_1)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  int *piVar4;
  int iVar5;
  undefined4 *puVar6;
  int *piVar7;
  int iVar8;
  
  if (param_1 != 0) {
    iVar2 = FUN_00462b60(DAT_0048ce14,*(undefined4 *)((int)this + 0xc),*(int *)((int)this + 0x14));
    piVar4 = (int *)(param_1 + 0x9c);
    piVar7 = (int *)(iVar2 + 0x2c4);
    iVar8 = 8;
    do {
      if (*piVar4 < piVar7[-1]) {
        *piVar4 = piVar7[-1];
      }
      if (*piVar7 < *piVar4) {
        *piVar4 = *piVar7;
      }
      piVar4 = piVar4 + 1;
      piVar7 = piVar7 + 3;
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
    iVar8 = 0;
    do {
      if (iVar8 == 0x10) {
        if (*(int *)(iVar2 + 0x1ac) != *(int *)(param_1 + 0x40)) {
          *(int *)(param_1 + 0x40) = *(int *)(iVar2 + 0x1ac);
        }
      }
      else {
        iVar5 = *(int *)(iVar2 + 0xec + iVar8 * 0xc);
        if (*(int *)(param_1 + iVar8 * 4) < iVar5) {
          *(int *)(param_1 + iVar8 * 4) = iVar5;
        }
        iVar5 = *(int *)(iVar2 + (iVar8 * 3 + 0x3c) * 4);
        if (iVar5 < *(int *)(param_1 + iVar8 * 4)) {
          *(int *)(param_1 + iVar8 * 4) = iVar5;
        }
      }
      iVar5 = iVar8 + 1;
      *(undefined4 *)((int)this + iVar8 * 0xc + 0xec) = *(undefined4 *)(param_1 + iVar8 * 4);
      iVar8 = iVar5;
    } while (iVar5 < 0x27);
    puVar6 = (undefined4 *)((int)this + 0x2c0);
    puVar3 = (undefined4 *)(param_1 + 0x9c);
    iVar2 = 8;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      *puVar6 = uVar1;
      puVar6 = puVar6 + 3;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    iVar2 = *(int *)(param_1 + 0xbc);
    *(int *)((int)this + 0xbc) = iVar2;
    if (*(int *)((int)this + 0xb8) < iVar2) {
      *(int *)((int)this + 0xbc) = *(int *)((int)this + 0xb8);
    }
    *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 0xc0);
    *(undefined4 *)((int)this + 800) = *(undefined4 *)(param_1 + 0xc4);
    return 1;
  }
  piVar4 = (int *)((int)this + 0xec);
  iVar2 = 0x27;
  do {
    iVar8 = _rand();
    if (iVar8 % 100 < piVar4[2]) {
      iVar8 = *piVar4;
      iVar5 = _rand();
      *piVar4 = iVar5 % ((piVar4[1] - iVar8) + 1) + iVar8;
    }
    else {
      *piVar4 = 0;
    }
    piVar4 = piVar4 + 3;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  piVar4 = (int *)((int)this + 0x2c0);
  iVar2 = 8;
  do {
    iVar8 = _rand();
    if (iVar8 % 100 < piVar4[2]) {
      iVar8 = *piVar4;
      iVar5 = _rand();
      *piVar4 = iVar5 % ((piVar4[1] - iVar8) + 1) + iVar8;
    }
    else {
      *piVar4 = 0;
    }
    piVar4 = piVar4 + 3;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  *(undefined4 *)((int)this + 0xbc) = *(undefined4 *)((int)this + 0xb8);
  *(undefined4 *)((int)this + 0x1c) = 0;
  *(undefined4 *)((int)this + 800) = 0xffffffff;
  return 1;
}



/*
 * Function: FUN_00466720
 * Address: 00466720
 */

undefined4 __thiscall FUN_00466720(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  
  if (param_1 != (undefined4 *)0x0) {
    puVar2 = (undefined4 *)((int)this + 0xec);
    iVar4 = 0x27;
    puVar3 = param_1;
    do {
      uVar1 = *puVar2;
      puVar2 = puVar2 + 3;
      *puVar3 = uVar1;
      puVar3 = puVar3 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    puVar2 = param_1 + 0x27;
    puVar3 = (undefined4 *)((int)this + 0x2c0);
    iVar4 = 8;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 3;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    param_1[0x2f] = *(undefined4 *)((int)this + 0xbc);
    param_1[0x30] = *(undefined4 *)((int)this + 0x1c);
    param_1[0x31] = *(undefined4 *)((int)this + 800);
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_004667a0
 * Address: 004667a0
 */

int __fastcall FUN_004667a0(void *param_1)

{
  int iVar1;
  
  if (*(int *)((int)param_1 + 0xb8) == *(int *)((int)param_1 + 0xbc)) {
    return 0;
  }
  iVar1 = FUN_004661c0(param_1,0);
  iVar1 = ((*(int *)((int)param_1 + 0xb8) - *(int *)((int)param_1 + 0xbc)) * (iVar1 / 10)) /
          *(int *)((int)param_1 + 0xb8);
  if (iVar1 == 0) {
    iVar1 = 1;
  }
  return iVar1;
}



/*
 * Function: FUN_00466800
 * Address: 00466800
 */

void __fastcall FUN_00466800(int param_1)

{
  *(undefined4 *)(param_1 + 0xbc) = *(undefined4 *)(param_1 + 0xb8);
  return;
}



/*
 * Function: FUN_00466810
 * Address: 00466810
 */

undefined4 __thiscall FUN_00466810(void *this,int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  int local_4;
  
  FUN_00465ad0(this,param_1);
  puVar2 = (undefined4 *)(param_1 + 0x90);
  puVar4 = (undefined4 *)((int)this + 0x90);
  for (iVar3 = 10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar4 = puVar4 + 1;
  }
  *(undefined4 *)((int)this + 0xb8) = *(undefined4 *)(param_1 + 0xb8);
  *(undefined4 *)((int)this + 0xc0) = *(undefined4 *)(param_1 + 0xc0);
  *(undefined4 *)((int)this + 0xc4) = *(undefined4 *)(param_1 + 0xc4);
  *(undefined4 *)((int)this + 0xe8) = *(undefined4 *)(param_1 + 0xe8);
  iVar5 = param_1 - (int)this;
  iVar3 = 0x27;
  puVar2 = (undefined4 *)((int)this + 0xec);
  do {
    puVar4 = (undefined4 *)(iVar5 + (int)puVar2);
    iVar3 = iVar3 + -1;
    *puVar2 = *puVar4;
    puVar2[1] = puVar4[1];
    puVar2[2] = puVar4[2];
    puVar2 = puVar2 + 3;
  } while (iVar3 != 0);
  puVar2 = (undefined4 *)((int)this + 200);
  local_4 = 8;
  puVar4 = (undefined4 *)((int)this + 0x2c0);
  do {
    *puVar2 = *(undefined4 *)((int)puVar2 + iVar5);
    puVar1 = (undefined4 *)((int)puVar4 + iVar5);
    puVar2 = puVar2 + 1;
    *puVar4 = *puVar1;
    puVar4[1] = puVar1[1];
    puVar4[2] = puVar1[2];
    local_4 = local_4 + -1;
    puVar4 = puVar4 + 3;
  } while (local_4 != 0);
  *(undefined4 *)((int)this + 0x50) = *(undefined4 *)(param_1 + 0x50);
  *(undefined4 *)((int)this + 0x54) = *(undefined4 *)(param_1 + 0x54);
  *(undefined4 *)((int)this + 0x58) = *(undefined4 *)(param_1 + 0x58);
  *(undefined4 *)((int)this + 800) = *(undefined4 *)(param_1 + 800);
  return 1;
}



/*
 * Function: FUN_00466900
 * Address: 00466900
 */

int __thiscall FUN_00466900(void *this,int param_1)

{
  return (int)this + param_1 * 0xc + 0xec;
}



/*
 * Function: FUN_00466920
 * Address: 00466920
 */

int __thiscall FUN_00466920(void *this,int param_1)

{
  return (int)this + param_1 * 0xc + 0x2c0;
}



/*
 * Function: FUN_00466940
 * Address: 00466940
 */

undefined4 __fastcall FUN_00466940(int param_1)

{
  return *(undefined4 *)(param_1 + 800);
}



/*
 * Function: FUN_00466950
 * Address: 00466950
 */

void __thiscall FUN_00466950(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 800) = param_1;
  return;
}



/*
 * Function: FUN_00466960
 * Address: 00466960
 */

undefined4 * __fastcall FUN_00466960(undefined4 *param_1)

{
  FUN_004659e0(param_1);
  *param_1 = &PTR_FUN_00476e6c;
  param_1[0x24] = 0;
  return param_1;
}



/*
 * Function: FUN_00466980
 * Address: 00466980
 */

undefined4 * __thiscall FUN_00466980(void *this,byte param_1)

{
  FUN_004669a0((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_004669a0
 * Address: 004669a0
 */

void __fastcall FUN_004669a0(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e6c;
  FUN_00465a90(param_1);
  return;
}



/*
 * Function: FUN_004669b0
 * Address: 004669b0
 */

undefined4 __thiscall FUN_004669b0(void *this,int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  FUN_00465ad0(this,param_1);
  *(undefined4 *)((int)this + 0x90) = *(undefined4 *)(param_1 + 0x90);
  puVar2 = (undefined4 *)(param_1 + 0x94);
  puVar3 = (undefined4 *)((int)this + 0x94);
  for (iVar1 = 9; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  return 1;
}



/*
 * Function: FUN_004669f0
 * Address: 004669f0
 */

int __fastcall FUN_004669f0(int param_1)

{
  return param_1 + 0x94;
}



/*
 * Function: FUN_00466a00
 * Address: 00466a00
 */

undefined4 * __fastcall FUN_00466a00(undefined4 *param_1)

{
  FUN_004659e0(param_1);
  *param_1 = &PTR_FUN_00476e70;
  return param_1;
}



/*
 * Function: FUN_00466a20
 * Address: 00466a20
 */

undefined4 * __thiscall FUN_00466a20(void *this,byte param_1)

{
  FUN_00466a40((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_00466a40
 * Address: 00466a40
 */

void __fastcall FUN_00466a40(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e70;
  FUN_00465a90(param_1);
  return;
}



/*
 * Function: FUN_00466a50
 * Address: 00466a50
 */

undefined4 __thiscall FUN_00466a50(void *this,int param_1)

{
  FUN_00465ad0(this,param_1);
  return 1;
}



/*
 * Function: FUN_00466a70
 * Address: 00466a70
 */

undefined4 __thiscall FUN_00466a70(void *this,undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    *(undefined4 *)((int)this + 0x40) = *param_1;
  }
  return 1;
}



/*
 * Function: FUN_00466a90
 * Address: 00466a90
 */

undefined4 __thiscall FUN_00466a90(void *this,undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    *param_1 = *(undefined4 *)((int)this + 0x40);
  }
  return 1;
}



/*
 * Function: thunk_FUN_00466ac0
 * Address: 00466ab0
 */

void __fastcall thunk_FUN_00466ac0(int *param_1)

{
  int iVar1;
  int iStack_4;
  
  iStack_4 = *param_1;
  if (iStack_4 != 0) {
    do {
      iVar1 = *(int *)(iStack_4 + 0x8c);
      FUN_00465640(&iStack_4);
      iStack_4 = iVar1;
    } while (iVar1 != 0);
    *param_1 = 0;
  }
  return;
}



/*
 * Function: FUN_00466ac0
 * Address: 00466ac0
 */

void __fastcall FUN_00466ac0(int *param_1)

{
  int iVar1;
  int local_4;
  
  local_4 = *param_1;
  if (local_4 != 0) {
    do {
      iVar1 = *(int *)(local_4 + 0x8c);
      FUN_00465640(&local_4);
      local_4 = iVar1;
    } while (iVar1 != 0);
    *param_1 = 0;
  }
  return;
}



/*
 * Function: FUN_00466b00
 * Address: 00466b00
 */

void __thiscall FUN_00466b00(void *this,int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  
  if (param_3 == -1) {
    param_3 = param_1;
  }
  if (param_4 == -1) {
    param_4 = param_2;
  }
                    /* WARNING: Load size is inaccurate */
  for (iVar1 = *this;
      (iVar1 != 0 &&
      ((((*(int *)(iVar1 + 0x48) + -1 + *(int *)(iVar1 + 0x20) < param_1 ||
         (param_3 < *(int *)(iVar1 + 0x48))) ||
        (*(int *)(iVar1 + 0x4c) + -1 + *(int *)(iVar1 + 0x24) < param_2)) ||
       (param_4 < *(int *)(iVar1 + 0x4c))))); iVar1 = *(int *)(iVar1 + 0x8c)) {
  }
  return;
}



/*
 * Function: FUN_00466b60
 * Address: 00466b60
 */

int __thiscall FUN_00466b60(void *this,int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  if (param_3 == -1) {
    param_3 = param_1;
  }
  if (param_4 == -1) {
    param_4 = param_2;
  }
                    /* WARNING: Load size is inaccurate */
  for (iVar1 = *this; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    if ((((param_1 <= *(int *)(iVar1 + 0x48) + -1 + *(int *)(iVar1 + 0x20)) &&
         (*(int *)(iVar1 + 0x48) <= param_3)) &&
        (param_2 <= *(int *)(iVar1 + 0x4c) + -1 + *(int *)(iVar1 + 0x24))) &&
       (*(int *)(iVar1 + 0x4c) <= param_4)) {
      iVar2 = iVar2 + 1;
    }
  }
  return iVar2;
}



/*
 * Function: FUN_00466bc0
 * Address: 00466bc0
 */

undefined4 __thiscall FUN_00466bc0(void *this,int param_1)

{
                    /* WARNING: Load size is inaccurate */
  *(undefined4 *)(param_1 + 0x8c) = *this;
  *(int *)this = param_1;
  return 1;
}



/*
 * Function: FUN_00466be0
 * Address: 00466be0
 */

undefined4 __thiscall FUN_00466be0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
                    /* WARNING: Load size is inaccurate */
  iVar3 = 0;
  iVar1 = *this;
  if (*this != 0) {
    while (iVar2 = iVar1, iVar2 != param_1) {
      iVar1 = *(int *)(iVar2 + 0x8c);
      iVar3 = iVar2;
      if (*(int *)(iVar2 + 0x8c) == 0) {
        return 1;
      }
    }
    if (iVar2 != 0) {
      if (iVar3 != 0) {
        *(undefined4 *)(iVar3 + 0x8c) = *(undefined4 *)(iVar2 + 0x8c);
        return 1;
      }
      *(undefined4 *)this = *(undefined4 *)(iVar2 + 0x8c);
    }
  }
  return 1;
}



/*
 * Function: FUN_00466c40
 * Address: 00466c40
 */

undefined4 __thiscall FUN_00466c40(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  int local_4;
  
                    /* WARNING: Load size is inaccurate */
  iVar2 = 0;
  iVar1 = *this;
  if (*this != 0) {
    while (local_4 = iVar1, local_4 != param_1) {
      iVar1 = *(int *)(local_4 + 0x8c);
      iVar2 = local_4;
      if (*(int *)(local_4 + 0x8c) == 0) {
        return 1;
      }
    }
    if (iVar2 == 0) {
      *(undefined4 *)this = *(undefined4 *)(local_4 + 0x8c);
    }
    else {
      *(undefined4 *)(iVar2 + 0x8c) = *(undefined4 *)(local_4 + 0x8c);
    }
    FUN_00465640(&local_4);
  }
  return 1;
}



/*
 * Function: FUN_00466cb0
 * Address: 00466cb0
 */

void __thiscall FUN_00466cb0(void *this,int param_1)

{
  int iVar1;
  int iVar2;
  
                    /* WARNING: Load size is inaccurate */
  iVar1 = *this;
  for (iVar2 = 0; (iVar1 != 0 && (iVar2 != param_1)); iVar2 = iVar2 + 1) {
    iVar1 = *(int *)(iVar1 + 0x8c);
  }
  return;
}



/*
 * Function: FUN_00466cd0
 * Address: 00466cd0
 */

int __fastcall FUN_00466cd0(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = -1;
  iVar3 = 0;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    if ((((*(int *)(iVar1 + 0xc) == 4) && (*(int *)(iVar1 + 0x14) == 0)) &&
        (iVar2 = *(int *)(iVar1 + 0x40), iVar2 != 10000)) && (iVar4 < iVar2)) {
      iVar3 = iVar1;
      iVar4 = iVar2;
    }
  }
  return iVar3;
}



/*
 * Function: FUN_00466d10
 * Address: 00466d10
 */

int __fastcall FUN_00466d10(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0;
  iVar3 = 0x2711;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    if (((*(int *)(iVar1 + 0xc) == 4) && (*(int *)(iVar1 + 0x14) == 0)) &&
       (*(int *)(iVar1 + 0x40) < iVar3)) {
      iVar2 = iVar1;
      iVar3 = *(int *)(iVar1 + 0x40);
    }
  }
  return iVar2;
}



/*
 * Function: FUN_00466d50
 * Address: 00466d50
 */

int __fastcall FUN_00466d50(int *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: FUN_00466d70
 * Address: 00466d70
 */

int __fastcall FUN_00466d70(int *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    if ((*(int *)(iVar1 + 0xc) == 4) && (*(int *)(iVar1 + 0x14) == 0)) {
      iVar2 = iVar2 + *(int *)(iVar1 + 0x40);
    }
  }
  return iVar2;
}



/*
 * Function: FUN_00466da0
 * Address: 00466da0
 */

undefined4 __thiscall FUN_00466da0(void *this,int param_1)

{
  int iVar1;
  void *this_00;
  
  iVar1 = FUN_00466d70((int *)this);
  if (iVar1 < param_1) {
    return 0;
  }
  this_00 = (void *)FUN_00466d10((int *)this);
  if (this_00 != (void *)0x0) {
    while (iVar1 = FUN_004661c0(this_00,0), iVar1 <= param_1) {
      iVar1 = FUN_004661c0(this_00,0);
      param_1 = param_1 - iVar1;
      FUN_00466c40(this,(int)this_00);
      if (param_1 == 0) {
        return 1;
      }
      this_00 = (void *)FUN_00466d10((int *)this);
      if (this_00 == (void *)0x0) {
        return 1;
      }
    }
    *(int *)((int)this_00 + 0x40) = *(int *)((int)this_00 + 0x40) - param_1;
  }
  return 1;
}



/*
 * Function: FUN_00466e10
 * Address: 00466e10
 */

undefined4 __thiscall FUN_00466e10(void *this,int param_1,int param_2,int param_3)

{
  int iVar1;
  undefined4 *this_00;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar3 = 0;
                    /* WARNING: Load size is inaccurate */
  for (iVar2 = *this; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x8c)) {
    if ((*(int *)(iVar2 + 0xc) == 4) && (*(int *)(iVar2 + 0x14) == 0)) {
      iVar3 = iVar3 + (10000 - *(int *)(iVar2 + 0x40));
    }
  }
  iVar2 = 0;
  if (0 < param_3) {
    do {
      iVar4 = 0;
      if (0 < param_2) {
        do {
          iVar1 = FUN_00466b60(this,iVar4,iVar2,iVar4,iVar2);
          if (iVar1 == 0) {
            iVar3 = iVar3 + 10000;
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < param_2);
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_3);
  }
  if (iVar3 < param_1) {
    return 0;
  }
                    /* WARNING: Load size is inaccurate */
  for (iVar2 = *this; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x8c)) {
    if ((*(int *)(iVar2 + 0xc) == 4) && (*(int *)(iVar2 + 0x14) == 0)) {
      if (param_1 <= 10000 - *(int *)(iVar2 + 0x40)) {
        *(int *)(iVar2 + 0x40) = *(int *)(iVar2 + 0x40) + param_1;
        return 1;
      }
      param_1 = *(int *)(iVar2 + 0x40) + -10000 + param_1;
      *(undefined4 *)(iVar2 + 0x40) = 10000;
    }
  }
  iVar2 = 0;
  if (param_3 < 1) {
    return 1;
  }
  do {
    iVar3 = 0;
    if (0 < param_2) {
      do {
        iVar4 = FUN_00466b60(this,iVar3,iVar2,iVar3,iVar2);
        if (iVar4 == 0) {
          this_00 = FUN_00462d30(DAT_0048ce14,4,0,(undefined4 *)0x0);
          FUN_00466bc0(this,(int)this_00);
          FUN_004663e0(this_00,iVar3,iVar2);
          if (param_1 < 0x2711) {
            FUN_00466440(this_00,param_1);
            return 1;
          }
          FUN_00466440(this_00,10000);
          param_1 = param_1 + -10000;
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < param_2);
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < param_3);
  return 1;
}



/*
 * Function: FUN_00466f80
 * Address: 00466f80
 */

undefined4 __thiscall
FUN_00466f80(void *this,int param_1,int param_2,int param_3,int param_4,int *param_5,int param_6,
            int *param_7)

{
  int iVar1;
  int iVar2;
  int local_c;
  int local_8;
  
  local_8 = 0;
  local_c = 0;
  if (param_7 != (int *)0x0) {
    if (-1 < *param_7) {
      local_c = *param_7;
    }
    if (-1 < param_7[1]) {
      local_8 = param_7[1];
    }
  }
  if (param_6 == 0) {
    if (local_8 <= param_2 - param_4) {
      do {
        if (local_c <= param_1 - param_3) {
          iVar2 = local_c;
          do {
            iVar1 = FUN_00466b60(this,iVar2,local_8,iVar2 + -1 + param_3,param_4 + -1 + local_8);
            if (iVar1 == 0) {
              *param_5 = iVar2;
              param_5[1] = local_8;
              return 1;
            }
            iVar2 = iVar2 + 1;
          } while (iVar2 <= param_1 - param_3);
        }
        local_8 = local_8 + 1;
      } while (local_8 <= param_2 - param_4);
    }
  }
  else if (local_c <= param_1 - param_3) {
    do {
      if (local_8 <= param_2 - param_4) {
        iVar2 = local_8;
        do {
          iVar1 = FUN_00466b60(this,local_c,iVar2,param_3 + -1 + local_c,iVar2 + -1 + param_4);
          if (iVar1 == 0) {
            *param_5 = local_c;
            param_5[1] = iVar2;
            return 1;
          }
          iVar2 = iVar2 + 1;
        } while (iVar2 <= param_2 - param_4);
      }
      local_c = local_c + 1;
    } while (local_c <= param_1 - param_3);
    return 0;
  }
  return 0;
}



/*
 * Function: FUN_004670d0
 * Address: 004670d0
 */

undefined4 __thiscall FUN_004670d0(void *this,undefined4 param_1)

{
  void *this_00;
  
                    /* WARNING: Load size is inaccurate */
  this_00 = *this;
  if (this_00 == (void *)0x0) {
    return 1;
  }
  do {
    FUN_004663c0(this_00,param_1);
    this_00 = *(void **)((int)this_00 + 0x8c);
  } while (this_00 != (void *)0x0);
  return 1;
}



/*
 * Function: FUN_00467110
 * Address: 00467110
 */

undefined4 __fastcall FUN_00467110(int *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *param_1;
  while( true ) {
    if (iVar1 == 0) {
      return 0;
    }
    iVar2 = FUN_00427b40(iVar1);
    if (iVar2 == 0) break;
    iVar1 = *(int *)(iVar1 + 0x8c);
  }
  return 1;
}



/*
 * Function: FUN_00467140
 * Address: 00467140
 */

undefined4 __fastcall FUN_00467140(int *param_1)

{
  int iVar1;
  
  for (iVar1 = *param_1; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x8c)) {
    if (*(int *)(iVar1 + 0xc) == 0) {
      FUN_00466800(iVar1);
    }
    else if (*(int *)(iVar1 + 0xc) == 1) {
      FUN_00466800(iVar1);
    }
  }
  return 1;
}



/*
 * Function: FUN_00467180
 * Address: 00467180
 */

int __fastcall FUN_00467180(undefined4 *param_1)

{
  void *pvVar1;
  int iVar2;
  int iVar3;
  
  pvVar1 = (void *)*param_1;
  iVar3 = 0;
  do {
    if (pvVar1 == (void *)0x0) {
      return iVar3;
    }
    if (*(int *)((int)pvVar1 + 0xc) == 0) {
      iVar2 = FUN_004667a0(pvVar1);
LAB_004671a5:
      iVar3 = iVar3 + iVar2;
    }
    else if (*(int *)((int)pvVar1 + 0xc) == 1) {
      iVar2 = FUN_004667a0(pvVar1);
      goto LAB_004671a5;
    }
    pvVar1 = *(void **)((int)pvVar1 + 0x8c);
  } while( true );
}



/*
 * Function: FUN_004671c0
 * Address: 004671c0
 */

void __thiscall FUN_004671c0(void *this,int param_1,int param_2)

{
  int iVar1;
  
                    /* WARNING: Load size is inaccurate */
  for (iVar1 = *this;
      (iVar1 != 0 && ((*(int *)(iVar1 + 0xc) != param_1 || (*(int *)(iVar1 + 0x14) != param_2))));
      iVar1 = *(int *)(iVar1 + 0x8c)) {
  }
  return;
}



/*
 * Function: FUN_004671f0
 * Address: 004671f0
 */

undefined4 * __fastcall FUN_004671f0(undefined4 *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  FUN_004659e0(param_1);
  param_1[0x3b] = 0xffffffff;
  param_1[0x3c] = 1000;
  param_1[0x3d] = 1000;
  param_1[0x3e] = 1000;
  param_1[0x3f] = 0xffffffff;
  *param_1 = &PTR_FUN_00476e74;
  param_1[0x2e] = 0;
  param_1[0x30] = 0;
  param_1[0x31] = 0;
  param_1[0x3a] = 1;
  param_1[0x40] = 0;
  param_1[0x41] = 100;
  param_1[0x42] = 5;
  param_1[0x43] = 0;
  puVar1 = param_1 + 0x45;
  for (iVar2 = 0x75; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
  }
  puVar1 = param_1 + 0x32;
  iVar2 = 8;
  puVar3 = param_1 + 0xba;
  do {
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
    *puVar3 = 0;
    iVar2 = iVar2 + -1;
    puVar3[1] = 0;
    puVar3[2] = 0;
    puVar3 = puVar3 + 3;
  } while (iVar2 != 0);
  param_1[0xd2] = 0xffffffff;
  param_1[0x44] = 0;
  return param_1;
}



/*
 * Function: FUN_004672c0
 * Address: 004672c0
 */

undefined4 * __thiscall FUN_004672c0(void *this,byte param_1)

{
  FUN_004672e0((undefined4 *)this);
  if ((param_1 & 1) != 0) {
    FUN_0046787e(this);
  }
  return (undefined4 *)this;
}



/*
 * Function: FUN_004672e0
 * Address: 004672e0
 */

void __fastcall FUN_004672e0(undefined4 *param_1)

{
  *param_1 = &PTR_FUN_00476e74;
  FUN_00465a90(param_1);
  return;
}



/*
 * Function: FUN_004672f0
 * Address: 004672f0
 */

undefined4 __fastcall FUN_004672f0(int param_1)

{
  if ((*(int *)(param_1 + 0x10) != 3) && (*(int *)(param_1 + 0x10) != 1)) {
    return *(undefined4 *)(param_1 + 0x110);
  }
  return 1;
}



/*
 * Function: FUN_00467310
 * Address: 00467310
 */

undefined4 __thiscall FUN_00467310(void *this,int param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  int *piVar6;
  undefined4 *puVar7;
  int *piVar8;
  int iVar9;
  
  if (param_1 != 0) {
    iVar3 = FUN_00462b60(DAT_0048ce14,*(undefined4 *)((int)this + 0xc),*(int *)((int)this + 0x14));
    piVar6 = (int *)(param_1 + 0x9c);
    piVar8 = (int *)(iVar3 + 0x2ec);
    iVar9 = 8;
    do {
      if (*piVar6 < piVar8[-1]) {
        *piVar6 = piVar8[-1];
      }
      if (*piVar8 < *piVar6) {
        *piVar6 = *piVar8;
      }
      piVar6 = piVar6 + 1;
      piVar8 = piVar8 + 3;
      iVar9 = iVar9 + -1;
    } while (iVar9 != 0);
    iVar9 = 0;
    do {
      if (iVar9 == 0x10) {
        if (*(int *)(iVar3 + 0x1d4) != *(int *)(param_1 + 0x40)) {
          *(int *)(param_1 + 0x40) = *(int *)(iVar3 + 0x1d4);
        }
      }
      else {
        iVar5 = *(int *)(iVar3 + (iVar9 * 3 + 0x45) * 4);
        if (*(int *)(param_1 + iVar9 * 4) < iVar5) {
          *(int *)(param_1 + iVar9 * 4) = iVar5;
        }
        iVar5 = *(int *)(iVar3 + 0x118 + iVar9 * 0xc);
        if (iVar5 < *(int *)(param_1 + iVar9 * 4)) {
          *(int *)(param_1 + iVar9 * 4) = iVar5;
        }
      }
      iVar5 = iVar9 * 4;
      iVar2 = iVar9 * 3;
      iVar9 = iVar9 + 1;
      *(undefined4 *)((int)this + (iVar2 + 0x45) * 4) = *(undefined4 *)(param_1 + iVar5);
    } while (iVar9 < 0x27);
    puVar7 = (undefined4 *)((int)this + 0x2e8);
    puVar4 = (undefined4 *)(param_1 + 0x9c);
    iVar3 = 8;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      *puVar7 = uVar1;
      puVar7 = puVar7 + 3;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    iVar3 = *(int *)(param_1 + 0xbc);
    *(int *)((int)this + 0xbc) = iVar3;
    if (*(int *)((int)this + 0xb8) < iVar3) {
      *(int *)((int)this + 0xbc) = *(int *)((int)this + 0xb8);
    }
    *(undefined4 *)((int)this + 0x1c) = *(undefined4 *)(param_1 + 0xc0);
    *(undefined4 *)((int)this + 0x348) = *(undefined4 *)(param_1 + 0xc4);
    return 1;
  }
  piVar6 = (int *)((int)this + 0x114);
  iVar3 = 0x27;
  do {
    iVar9 = _rand();
    if (iVar9 % 100 < piVar6[2]) {
      iVar9 = *piVar6;
      if (piVar6[1] != iVar9) {
        iVar5 = _rand();
        *piVar6 = iVar5 % ((piVar6[1] - iVar9) + 1) + iVar9;
      }
    }
    else {
      *piVar6 = 0;
    }
    piVar6 = piVar6 + 3;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  piVar6 = (int *)((int)this + 0x2e8);
  iVar3 = 8;
  do {
    iVar9 = _rand();
    if (iVar9 % 100 < piVar6[2]) {
      iVar9 = *piVar6;
      if (piVar6[1] != iVar9) {
        iVar5 = _rand();
        *piVar6 = iVar5 % ((piVar6[1] - iVar9) + 1) + iVar9;
      }
    }
    else {
      *piVar6 = 0;
    }
    piVar6 = piVar6 + 3;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  *(undefined4 *)((int)this + 0xbc) = *(undefined4 *)((int)this + 0xb8);
  *(undefined4 *)((int)this + 0x1c) = 0;
  *(undefined4 *)((int)this + 0x348) = 0xffffffff;
  return 1;
}



/*
 * Function: FUN_004674d0
 * Address: 004674d0
 */

undefined4 __thiscall FUN_004674d0(void *this,undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  
  if (param_1 != (undefined4 *)0x0) {
    puVar2 = (undefined4 *)((int)this + 0x114);
    iVar4 = 0x27;
    puVar3 = param_1;
    do {
      uVar1 = *puVar2;
      puVar2 = puVar2 + 3;
      *puVar3 = uVar1;
      puVar3 = puVar3 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    puVar2 = param_1 + 0x27;
    puVar3 = (undefined4 *)((int)this + 0x2e8);
    iVar4 = 8;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 3;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    param_1[0x2f] = *(undefined4 *)((int)this + 0xbc);
    param_1[0x30] = *(undefined4 *)((int)this + 0x1c);
    param_1[0x31] = *(undefined4 *)((int)this + 0x348);
    return 1;
  }
  return 1;
}



/*
 * Function: FUN_00467550
 * Address: 00467550
 */

undefined4 __thiscall FUN_00467550(void *this,int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)this + 0xbc) - param_1;
  *(int *)((int)this + 0xbc) = iVar1;
  if (0 < iVar1) {
    return 1;
  }
  if (iVar1 < 0) {
    *(undefined4 *)((int)this + 0xbc) = 0;
  }
  return 0;
}



/*
 * Function: FUN_00467590
 * Address: 00467590
 */

undefined4 __thiscall FUN_00467590(void *this,int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  iVar1 = param_1;
  FUN_00465ad0(this,param_1);
  puVar2 = (undefined4 *)(param_1 + 0x90);
  param_1 = 0x27;
  puVar4 = (undefined4 *)((int)this + 0x90);
  for (iVar3 = 10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar4 = puVar4 + 1;
  }
  *(undefined4 *)((int)this + 0xb8) = *(undefined4 *)(iVar1 + 0xb8);
  *(undefined4 *)((int)this + 0xc0) = *(undefined4 *)(iVar1 + 0xc0);
  *(undefined4 *)((int)this + 0xc4) = *(undefined4 *)(iVar1 + 0xc4);
  *(undefined4 *)((int)this + 0xe8) = *(undefined4 *)(iVar1 + 0xe8);
  *(undefined4 *)((int)this + 0xec) = *(undefined4 *)(iVar1 + 0xec);
  *(undefined4 *)((int)this + 0xf0) = *(undefined4 *)(iVar1 + 0xf0);
  *(undefined4 *)((int)this + 0xf4) = *(undefined4 *)(iVar1 + 0xf4);
  iVar3 = iVar1 - (int)this;
  *(undefined4 *)((int)this + 0xf8) = *(undefined4 *)(iVar1 + 0xf8);
  puVar2 = (undefined4 *)((int)this + 0x114);
  do {
    puVar4 = (undefined4 *)(iVar3 + (int)puVar2);
    *puVar2 = *puVar4;
    puVar2[1] = puVar4[1];
    puVar2[2] = puVar4[2];
    param_1 = param_1 + -1;
    puVar2 = puVar2 + 3;
  } while (param_1 != 0);
  puVar2 = (undefined4 *)((int)this + 200);
  param_1 = 8;
  puVar4 = (undefined4 *)((int)this + 0x2e8);
  do {
    puVar5 = (undefined4 *)(iVar3 + (int)puVar4);
    *puVar2 = *(undefined4 *)((int)puVar2 + iVar3);
    puVar2 = puVar2 + 1;
    *puVar4 = *puVar5;
    puVar4[1] = puVar5[1];
    puVar4[2] = puVar5[2];
    param_1 = param_1 + -1;
    puVar4 = puVar4 + 3;
  } while (param_1 != 0);
  *(undefined4 *)((int)this + 0x50) = *(undefined4 *)(iVar1 + 0x50);
  *(undefined4 *)((int)this + 0x54) = *(undefined4 *)(iVar1 + 0x54);
  *(undefined4 *)((int)this + 0x58) = *(undefined4 *)(iVar1 + 0x58);
  *(undefined4 *)((int)this + 0xfc) = *(undefined4 *)(iVar1 + 0xfc);
  *(undefined4 *)((int)this + 0x100) = *(undefined4 *)(iVar1 + 0x100);
  *(undefined4 *)((int)this + 0x104) = *(undefined4 *)(iVar1 + 0x104);
  *(undefined4 *)((int)this + 0x108) = *(undefined4 *)(iVar1 + 0x108);
  *(undefined4 *)((int)this + 0x10c) = *(undefined4 *)(iVar1 + 0x10c);
  *(undefined4 *)((int)this + 0x348) = *(undefined4 *)(iVar1 + 0x348);
  *(undefined4 *)((int)this + 0x110) = *(undefined4 *)(iVar1 + 0x110);
  return 1;
}



/*
 * Function: FUN_00467710
 * Address: 00467710
 */

undefined4 __fastcall FUN_00467710(int param_1)

{
  return *(undefined4 *)(param_1 + 0xb8);
}



/*
 * Function: FUN_00467720
 * Address: 00467720
 */

undefined4 __fastcall FUN_00467720(int param_1)

{
  return *(undefined4 *)(param_1 + 0xbc);
}



/*
 * Function: FUN_00467730
 * Address: 00467730
 */

undefined4 __fastcall FUN_00467730(int param_1)

{
  return *(undefined4 *)(param_1 + 0xc4);
}



/*
 * Function: FUN_00467740
 * Address: 00467740
 */

int __thiscall FUN_00467740(void *this,int param_1)

{
  return (int)(void *)((int)this + (param_1 * 3 + 0x45) * 4);
}



/*
 * Function: FUN_00467750
 * Address: 00467750
 */

undefined4 __thiscall FUN_00467750(void *this,int param_1)

{
  return *(undefined4 *)((int)this + param_1 * 4 + 200);
}



/*
 * Function: FUN_00467760
 * Address: 00467760
 */

int __thiscall FUN_00467760(void *this,int param_1)

{
  return (int)(void *)((int)this + (param_1 * 3 + 0xba) * 4);
}



/*
 * Function: FUN_00467780
 * Address: 00467780
 */

undefined4 __fastcall FUN_00467780(int param_1)

{
  return *(undefined4 *)(param_1 + 0xe8);
}



/*
 * Function: FUN_00467790
 * Address: 00467790
 */

undefined4 __fastcall FUN_00467790(int param_1)

{
  return *(undefined4 *)(param_1 + 0xec);
}



/*
 * Function: FUN_004677a0
 * Address: 004677a0
 */

int __fastcall FUN_004677a0(int param_1)

{
  return param_1 + 0x90;
}



/*
 * Function: FUN_004677b0
 * Address: 004677b0
 */

int __fastcall FUN_004677b0(int param_1)

{
  return param_1 + 0xf0;
}



/*
 * Function: FUN_004677c0
 * Address: 004677c0
 */

undefined4 __fastcall FUN_004677c0(int param_1)

{
  return *(undefined4 *)(param_1 + 0xfc);
}



/*
 * Function: FUN_004677d0
 * Address: 004677d0
 */

undefined4 __fastcall FUN_004677d0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x100);
}



/*
 * Function: FUN_004677e0
 * Address: 004677e0
 */

undefined4 __fastcall FUN_004677e0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x104);
}



/*
 * Function: FUN_004677f0
 * Address: 004677f0
 */

undefined4 __fastcall FUN_004677f0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x108);
}



/*
 * Function: FUN_00467800
 * Address: 00467800
 */

undefined4 __fastcall FUN_00467800(int param_1)

{
  return *(undefined4 *)(param_1 + 0x348);
}



/*
 * Function: FUN_00467810
 * Address: 00467810
 */

void __thiscall FUN_00467810(void *this,undefined4 param_1)

{
  *(undefined4 *)((int)this + 0x348) = param_1;
  return;
}



/*
 * Function: FUN_00467820
 * Address: 00467820
 */

undefined4 __fastcall FUN_00467820(int param_1)

{
  return *(undefined4 *)(param_1 + 0x10c);
}



/*
 * Function: RK_CheckSJIS
 * Address: 00467830
 */

void RK_CheckSJIS(void)

{
                    /* WARNING: Could not recover jumptable at 0x00467830. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CheckSJIS();
  return;
}



/*
 * Function: RK_CheckFileExist
 * Address: 00467836
 */

void RK_CheckFileExist(void)

{
                    /* WARNING: Could not recover jumptable at 0x00467836. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CheckFileExist();
  return;
}



/*
 * Function: RK_ReleaseFilesExist
 * Address: 0046783c
 */

void RK_ReleaseFilesExist(void)

{
                    /* WARNING: Could not recover jumptable at 0x0046783c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_ReleaseFilesExist();
  return;
}



/*
 * Function: RK_CheckFilesExist
 * Address: 00467842
 */

void RK_CheckFilesExist(void)

{
                    /* WARNING: Could not recover jumptable at 0x00467842. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CheckFilesExist();
  return;
}



/*
 * Function: RK_SetLastRoot
 * Address: 00467848
 */

void RK_SetLastRoot(void)

{
                    /* WARNING: Could not recover jumptable at 0x00467848. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_SetLastRoot();
  return;
}



/*
 * Function: RK_CheckStringSJIS
 * Address: 0046784e
 */

void RK_CheckStringSJIS(void)

{
                    /* WARNING: Could not recover jumptable at 0x0046784e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CheckStringSJIS();
  return;
}



/*
 * Function: RK_LzDecodeMemoryToMemory
 * Address: 00467854
 */

void RK_LzDecodeMemoryToMemory(void)

{
                    /* WARNING: Could not recover jumptable at 0x00467854. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_LzDecodeMemoryToMemory();
  return;
}



/*
 * Function: ImmSetCompositionFontA
 * Address: 0046785a
 */

BOOL ImmSetCompositionFontA(HIMC param_1,LPLOGFONTA lplf)

{
  BOOL BVar1;
  
                    /* WARNING: Could not recover jumptable at 0x0046785a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  BVar1 = ImmSetCompositionFontA(param_1,lplf);
  return BVar1;
}



/*
 * Function: ImmAssociateContext
 * Address: 00467860
 */

HIMC ImmAssociateContext(HWND param_1,HIMC param_2)

{
  HIMC pHVar1;
  
                    /* WARNING: Could not recover jumptable at 0x00467860. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  pHVar1 = ImmAssociateContext(param_1,param_2);
  return pHVar1;
}



/*
 * Function: ImmCreateContext
 * Address: 00467866
 */

HIMC ImmCreateContext(void)

{
  HIMC pHVar1;
  
                    /* WARNING: Could not recover jumptable at 0x00467866. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  pHVar1 = ImmCreateContext();
  return pHVar1;
}



/*
 * Function: ImmReleaseContext
 * Address: 0046786c
 */

BOOL ImmReleaseContext(HWND param_1,HIMC param_2)

{
  BOOL BVar1;
  
                    /* WARNING: Could not recover jumptable at 0x0046786c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  BVar1 = ImmReleaseContext(param_1,param_2);
  return BVar1;
}



/*
 * Function: ImmSetOpenStatus
 * Address: 00467872
 */

BOOL ImmSetOpenStatus(HIMC param_1,BOOL param_2)

{
  BOOL BVar1;
  
                    /* WARNING: Could not recover jumptable at 0x00467872. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  BVar1 = ImmSetOpenStatus(param_1,param_2);
  return BVar1;
}



/*
 * Function: ImmSetCompositionWindow
 * Address: 00467878
 */

BOOL ImmSetCompositionWindow(HIMC param_1,LPCOMPOSITIONFORM lpCompForm)

{
  BOOL BVar1;
  
                    /* WARNING: Could not recover jumptable at 0x00467878. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  BVar1 = ImmSetCompositionWindow(param_1,lpCompForm);
  return BVar1;
}



/*
 * Function: FUN_0046787e
 * Address: 0046787e
 */

void __cdecl FUN_0046787e(LPVOID param_1)

{
  FUN_0046878d(param_1);
  return;
}



/*
 * Function: operator_new
 * Address: 00467889
 */

/* Library Function - Single Match
    void * __cdecl operator new(unsigned int)
   
   Library: Visual Studio 2003 Release */

void * __cdecl operator_new(uint param_1)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(param_1,1);
  return pvVar1;
}



/*
 * Function: FUN_00467897
 * Address: 00467897
 */

void FUN_00467897(undefined *UNRECOVERED_JUMPTABLE)

{
                    /* WARNING: Load size is inaccurate */
  ExceptionList = *ExceptionList;
                    /* WARNING: Could not recover jumptable at 0x004678c2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_004678cb
 * Address: 004678cb
 */

void FUN_004678cb(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x004678d0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_004678d2
 * Address: 004678d2
 */

void FUN_004678d2(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x004678d7. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_004678d9
 * Address: 004678d9
 */

void FUN_004678d9(PVOID param_1,PEXCEPTION_RECORD param_2)

{
  void *pvVar1;
  
  pvVar1 = ExceptionList;
  RtlUnwind(param_1,(PVOID)0x467901,param_2,(PVOID)0x0);
  param_2->ExceptionFlags = param_2->ExceptionFlags & 0xfffffffd;
  *(void **)pvVar1 = ExceptionList;
  ExceptionList = pvVar1;
  return;
}



/*
 * Function: FUN_00467928
 * Address: 00467928
 */

undefined4 __cdecl
FUN_00467928(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4)

{
  int *in_EAX;
  undefined4 uVar1;
  
  uVar1 = FUN_00468861(param_1,param_2,param_3,param_4,in_EAX,0,(PVOID)0x0,'\0');
  return uVar1;
}



/*
 * Function: FUN_0046795e
 * Address: 0046795e
 */

undefined4 __cdecl
FUN_0046795e(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  void *local_18;
  code *local_14;
  undefined4 local_10;
  undefined4 local_c;
  int local_8;
  
  local_10 = param_2;
  local_14 = FUN_004679b2;
  local_8 = param_4 + 1;
  local_c = param_1;
  local_18 = ExceptionList;
  ExceptionList = &local_18;
  uVar1 = __CallSettingFrame_12(param_3,param_1,param_5);
  ExceptionList = local_18;
  return uVar1;
}



/*
 * Function: FUN_004679b2
 * Address: 004679b2
 */

void __cdecl FUN_004679b2(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  FUN_00468861(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),param_2,'\0');
  return;
}



/*
 * Function: FUN_004679d7
 * Address: 004679d7
 */

undefined4 __cdecl
FUN_004679d7(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  undefined4 **ppuVar3;
  undefined4 *local_34;
  undefined4 local_30;
  undefined4 *local_2c;
  code *local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined *local_10;
  undefined *local_c;
  int local_8;
  
  local_c = &stack0xfffffffc;
  local_10 = &stack0xffffffbc;
  local_28 = FUN_00467a8d;
  local_24 = param_5;
  local_20 = param_2;
  local_1c = param_6;
  local_18 = param_7;
  local_8 = 0;
  local_14 = 0x467a5f;
  local_2c = (undefined4 *)ExceptionList;
  ExceptionList = &local_2c;
  local_34 = param_1;
  local_30 = param_3;
  ppuVar3 = &local_34;
  uVar2 = *param_1;
  pDVar1 = FUN_00469123();
  (*(code *)pDVar1[0x1a])(uVar2,ppuVar3);
  if (local_8 != 0) {
                    /* WARNING: Load size is inaccurate */
    *local_2c = *ExceptionList;
  }
  ExceptionList = local_2c;
  return 0;
}



/*
 * Function: FUN_00467a8d
 * Address: 00467a8d
 */

undefined4 __cdecl FUN_00467a8d(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  undefined4 uVar1;
  
  if ((param_1->ExceptionFlags & 0x66) != 0) {
    *(undefined4 *)((int)param_2 + 0x24) = 1;
    return 1;
  }
  FUN_00468861(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),*(PVOID *)((int)param_2 + 0x14),'\x01');
  if (*(int *)((int)param_2 + 0x24) == 0) {
    FUN_004678d9(param_2,param_1);
  }
                    /* WARNING: Could not recover jumptable at 0x00467af7. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  uVar1 = (**(code **)((int)param_2 + 0x18))();
  return uVar1;
}



/*
 * Function: FUN_00467b02
 * Address: 00467b02
 */

int __cdecl FUN_00467b02(uint param_1,int param_2,int param_3,uint *param_4,uint *param_5)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint local_8;
  
  uVar2 = param_1;
  local_8 = *(uint *)(param_1 + 0xc);
  iVar1 = *(int *)(param_1 + 0x10);
  uVar3 = local_8;
  param_1 = local_8;
  if (-1 < param_2) {
    do {
      if (uVar3 == 0xffffffff) {
        FUN_004691eb();
      }
      uVar3 = uVar3 - 1;
      if (((*(int *)(iVar1 + 4 + uVar3 * 0x14) < param_3) &&
          (param_3 <= *(int *)(iVar1 + uVar3 * 0x14 + 8))) || (uVar3 == 0xffffffff)) {
        param_2 = param_2 + -1;
        local_8 = param_1;
        param_1 = uVar3;
      }
    } while (-1 < param_2);
  }
  uVar3 = uVar3 + 1;
  *param_4 = uVar3;
  *param_5 = local_8;
  if ((*(uint *)(uVar2 + 0xc) < local_8) || (local_8 < uVar3)) {
    FUN_004691eb();
  }
  return iVar1 + uVar3 * 0x14;
}



/*
 * Function: __global_unwind2
 * Address: 00467b80
 */

/* Library Function - Single Match
    __global_unwind2
   
   Library: Visual Studio */

void __cdecl __global_unwind2(PVOID param_1)

{
  RtlUnwind(param_1,(PVOID)0x467b98,(PEXCEPTION_RECORD)0x0,(PVOID)0x0);
  return;
}



/*
 * Function: __local_unwind2
 * Address: 00467bc2
 */

/* Library Function - Single Match
    __local_unwind2
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release, Visual Studio 2003 Debug, Visual
   Studio 2003 Release */

void __cdecl __local_unwind2(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *pvStack_1c;
  undefined *puStack_18;
  undefined4 local_14;
  int iStack_10;
  
  iStack_10 = param_1;
  puStack_18 = &LAB_00467ba0;
  pvStack_1c = ExceptionList;
  ExceptionList = &pvStack_1c;
  while( true ) {
    iVar1 = *(int *)(param_1 + 8);
    iVar2 = *(int *)(param_1 + 0xc);
    if ((iVar2 == -1) || (iVar2 == param_2)) break;
    local_14 = *(undefined4 *)(iVar1 + iVar2 * 0xc);
    *(undefined4 *)(param_1 + 0xc) = local_14;
    if (*(int *)(iVar1 + 4 + iVar2 * 0xc) == 0) {
      FUN_00467c56();
      (**(code **)(iVar1 + 8 + iVar2 * 0xc))();
    }
  }
  ExceptionList = pvStack_1c;
  return;
}



/*
 * Function: __abnormal_termination
 * Address: 00467c2a
 */

/* Library Function - Single Match
    __abnormal_termination
   
   Library: Visual Studio */

int __cdecl __abnormal_termination(void)

{
  int iVar1;
  
  iVar1 = 0;
  if ((*(undefined **)((int)ExceptionList + 4) == &LAB_00467ba0) &&
     (*(int *)((int)ExceptionList + 8) == *(int *)(*(int *)((int)ExceptionList + 0xc) + 0xc))) {
    iVar1 = 1;
  }
  return iVar1;
}



/*
 * Function: __NLG_Notify1
 * Address: 00467c4d
 */

/* Library Function - Single Match
    __NLG_Notify1
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __fastcall __NLG_Notify1(undefined4 param_1)

{
  undefined4 in_EAX;
  undefined4 unaff_EBP;
  
  DAT_00481674 = param_1;
  DAT_00481670 = in_EAX;
  DAT_00481678 = unaff_EBP;
  return;
}



/*
 * Function: FUN_00467c56
 * Address: 00467c56
 */

void FUN_00467c56(void)

{
  undefined4 in_EAX;
  int unaff_EBP;
  
  DAT_00481674 = *(undefined4 *)(unaff_EBP + 8);
  DAT_00481670 = in_EAX;
  DAT_00481678 = unaff_EBP;
  return;
}



/*
 * Function: _rand
 * Address: 00467c6e
 */

/* Library Function - Single Match
    _rand
   
   Libraries: Visual Studio 2003 Release, Visual Studio 2005 Release, Visual Studio 2008 Release */

int __cdecl _rand(void)

{
  DWORD *pDVar1;
  uint uVar2;
  
  pDVar1 = FUN_00469123();
  uVar2 = pDVar1[5] * 0x343fd + 0x269ec3;
  pDVar1[5] = uVar2;
  return uVar2 >> 0x10 & 0x7fff;
}



/*
 * Function: FUN_00467c90
 * Address: 00467c90
 */

undefined4 __cdecl FUN_00467c90(FILE *param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0xffffffff;
  if ((*(byte *)&param_1->_flag & 0x40) == 0) {
    FUN_004692fd((uint)param_1);
    uVar1 = __fclose_lk(param_1);
    FUN_0046934f((uint)param_1);
  }
  else {
    param_1->_flag = 0;
  }
  return uVar1;
}



/*
 * Function: __fclose_lk
 * Address: 00467cc1
 */

/* Library Function - Single Match
    __fclose_lk
   
   Library: Visual Studio 2003 Release */

undefined4 __cdecl __fclose_lk(FILE *param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  uVar2 = 0xffffffff;
  if ((*(byte *)&param_1->_flag & 0x83) != 0) {
    uVar2 = FUN_004694da((int *)param_1);
    __freebuf(param_1);
    iVar1 = FUN_004693a1(param_1->_file);
    if (iVar1 < 0) {
      uVar2 = 0xffffffff;
    }
    else if (param_1->_tmpfname != (char *)0x0) {
      FUN_0046878d(param_1->_tmpfname);
      param_1->_tmpfname = (char *)0x0;
    }
  }
  param_1->_flag = 0;
  return uVar2;
}



/*
 * Function: FUN_00467d0d
 * Address: 00467d0d
 */

undefined4 * FUN_00467d0d(LPCSTR param_1,char *param_2,uint param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar1 = FUN_00469753();
  if (puVar1 == (undefined4 *)0x0) {
    return (undefined4 *)0x0;
  }
  puVar2 = FUN_004695e3(param_1,param_2,param_3,puVar1);
  FUN_0046934f((uint)puVar1);
  return puVar2;
}



/*
 * Function: FUN_00467d3e
 * Address: 00467d3e
 */

void __cdecl FUN_00467d3e(undefined4 param_1,undefined4 param_2)

{
  FUN_00467d0d(param_1,param_2,0x40);
  return;
}



/*
 * Function: FUN_00467d51
 * Address: 00467d51
 */

int __cdecl FUN_00467d51(undefined *param_1,byte *param_2)

{
  int iVar1;
  undefined *local_24;
  int local_20;
  undefined *local_1c;
  undefined4 local_18;
  
  local_1c = param_1;
  local_24 = param_1;
  local_18 = 0x42;
  local_20 = 0x7fffffff;
  iVar1 = FUN_00469933((int *)&local_24,param_2,(undefined4 *)&stack0x0000000c);
  local_20 = local_20 + -1;
  if (local_20 < 0) {
    FUN_0046981b(0,(int *)&local_24);
  }
  else {
    *local_24 = 0;
  }
  return iVar1;
}



/*
 * Function: __alldiv
 * Address: 00467e70
 */

/* Library Function - Single Match
    __alldiv
   
   Library: Visual Studio */

undefined8 __alldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  bool bVar10;
  char cVar11;
  uint uVar9;
  
  cVar11 = (int)param_2 < 0;
  if ((bool)cVar11) {
    bVar10 = param_1 != 0;
    param_1 = -param_1;
    param_2 = -(uint)bVar10 - param_2;
  }
  if ((int)param_4 < 0) {
    cVar11 = cVar11 + '\x01';
    bVar10 = param_3 != 0;
    param_3 = -param_3;
    param_4 = -(uint)bVar10 - param_4;
  }
  uVar3 = param_1;
  uVar5 = param_3;
  uVar6 = param_2;
  uVar9 = param_4;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar8 = uVar9 >> 1;
      uVar5 = uVar5 >> 1 | (uint)((uVar9 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar6 = uVar7;
      uVar9 = uVar8;
    } while (uVar8 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar5;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar5 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar5)) ||
       ((param_2 <= uVar5 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  if (cVar11 == '\x01') {
    bVar10 = iVar4 != 0;
    iVar4 = -iVar4;
    uVar3 = -(uint)bVar10 - uVar3;
  }
  return CONCAT44(uVar3,iVar4);
}



/*
 * Function: __allmul
 * Address: 00467f20
 */

/* Library Function - Single Match
    __allmul
   
   Library: Visual Studio */

longlong __allmul(uint param_1,int param_2,uint param_3,int param_4)

{
  if (param_4 == 0 && param_2 == 0) {
    return (ulonglong)param_1 * (ulonglong)param_3;
  }
  return CONCAT44((int)((ulonglong)param_1 * (ulonglong)param_3 >> 0x20) +
                  param_2 * param_3 + param_1 * param_4,
                  (int)((ulonglong)param_1 * (ulonglong)param_3));
}



/*
 * Function: FUN_00467f60
 * Address: 00467f60
 */

/* WARNING: Unable to track spacebase fully for stack */

void FUN_00467f60(undefined1 param_1)

{
  uint in_EAX;
  undefined1 *puVar1;
  undefined4 unaff_retaddr;
  
  puVar1 = &param_1;
  if (0xfff < in_EAX) {
    do {
      puVar1 = puVar1 + -0x1000;
      in_EAX = in_EAX - 0x1000;
    } while (0xfff < in_EAX);
  }
  *(undefined4 *)(puVar1 + (-4 - in_EAX)) = unaff_retaddr;
  return;
}



/*
 * Function: FUN_00467f8f
 * Address: 00467f8f
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00467f8f(void)

{
  void *extraout_ECX;
  
  FUN_00467fa7();
  _DAT_0048e2cc = FUN_0046a42a();
  FUN_0046a3da(extraout_ECX);
  return;
}



/*
 * Function: FUN_00467fa7
 * Address: 00467fa7
 */

void FUN_00467fa7(void)

{
  PTR_FUN_00481934 = &LAB_0046a4ad;
  PTR_FUN_00481930 = __cfltcvt;
  PTR_FUN_00481938 = __fassign;
  PTR_FUN_0048193c = FUN_0046a453;
  PTR_FUN_00481940 = &LAB_0046a4fb;
  PTR_FUN_00481944 = __cfltcvt;
  return;
}



/*
 * Function: __ftol
 * Address: 00467fe0
 */

/* Library Function - Single Match
    __ftol
   
   Library: Visual Studio */

longlong __ftol(void)

{
  float10 in_ST0;
  
  return (longlong)ROUND(in_ST0);
}



/*
 * Function: FUN_00468007
 * Address: 00468007
 */

void __cdecl FUN_00468007(undefined8 param_1,undefined8 param_2)

{
  FUN_00468024((int)param_1,(uint)((ulonglong)param_1 >> 0x20),(int)param_2,
               (uint)((ulonglong)param_2 >> 0x20),0x18);
  return;
}



/*
 * Function: FUN_00468024
 * Address: 00468024
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

float10 __cdecl FUN_00468024(int param_1,uint param_2,int param_3,uint param_4,uint param_5)

{
  double dVar1;
  uint uVar2;
  int iVar3;
  undefined4 unaff_EBX;
  undefined4 unaff_ESI;
  float10 extraout_ST0;
  float10 fVar4;
  float10 fVar5;
  uint in_stack_ffffffb4;
  uint in_stack_ffffffb8;
  undefined8 uVar6;
  double dVar7;
  double dVar8;
  undefined2 uVar9;
  undefined2 uVar10;
  int local_14;
  int local_10;
  undefined8 local_c;
  
  dVar8 = (double)CONCAT44(param_4,param_3);
  dVar7 = (double)CONCAT44(param_2,param_1);
  uVar9 = (undefined2)unaff_ESI;
  uVar10 = (undefined2)((uint)unaff_ESI >> 0x10);
  uVar2 = FUN_0046b127(0x133f,0xffff);
  local_c = (double)CONCAT44(uVar2,(undefined4)local_c);
  if (((param_2._2_2_ & 0x7ff0) == 0x7ff0) || ((param_4._2_2_ & 0x7ff0) == 0x7ff0)) {
    if ((((param_2._2_2_ & 0x7ff8) != 0x7ff0) || (((param_2 & 0x7ffff) == 0 && (param_1 == 0)))) &&
       (((param_4._2_2_ & 0x7ff8) != 0x7ff0 || (((param_4 & 0x7ffff) == 0 && (param_3 == 0)))))) {
      if (((param_2._2_2_ & 0x7ff8) != 0x7ff8) && ((param_4._2_2_ & 0x7ff8) != 0x7ff8)) {
        FUN_0046b127(uVar2,0xffff);
        return (float10)_DAT_00481a20;
      }
      fVar4 = FUN_0046a879(param_5,(double)CONCAT26(param_2._2_2_,
                                                    CONCAT24((undefined2)param_2,param_1)),
                           (double)CONCAT26(param_4._2_2_,CONCAT24((undefined2)param_4,param_3)));
      return fVar4;
    }
    dVar8 = (double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1)) +
            (double)CONCAT26(param_4._2_2_,CONCAT24((undefined2)param_4,param_3));
    dVar7 = (double)CONCAT26(param_4._2_2_,CONCAT24((undefined2)param_4,param_3));
    uVar6 = CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1));
    in_stack_ffffffb4 = 8;
    in_stack_ffffffb8 = param_5;
  }
  else {
    if ((double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1)) < _DAT_00475168) {
      dVar7 = -(double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1));
    }
    if ((double)CONCAT26(param_4._2_2_,CONCAT24((undefined2)param_4,param_3)) < _DAT_00475168) {
      dVar8 = -(double)CONCAT26(param_4._2_2_,CONCAT24((undefined2)param_4,param_3));
    }
    local_c = dVar7;
    if (dVar7 < dVar8) {
      local_c = dVar8;
    }
    if (local_c == _DAT_00475168) {
      FUN_0046b127(uVar2,0xffff);
      return (float10)_DAT_00475168;
    }
    dVar7 = dVar7 / local_c;
    dVar8 = dVar8 / local_c;
    dVar1 = dVar8 * dVar8 + dVar7 * dVar7;
    FUN_0046b064((void *)(CONCAT22((undefined2)param_5,param_4._2_2_) & 0xffff7ff0),SUB84(dVar1,0),
                 (uint)((ulonglong)dVar1 >> 0x20));
    fVar4 = FUN_0046af87(SUB84((double)extraout_ST0,0),
                         (uint)((ulonglong)(double)extraout_ST0 >> 0x20),
                         (int *)CONCAT22(uVar10,uVar9));
    fVar5 = FUN_0046af87(SUB84(local_c,0),(uint)((ulonglong)local_c >> 0x20),&local_10);
    local_c = (double)(fVar5 * (float10)(double)fVar4);
    iVar3 = FUN_0046af73(SUB84(local_c,0),CONCAT44(unaff_EBX,(int)((ulonglong)local_c >> 0x20)));
    iVar3 = iVar3 + local_10 + local_14;
    if (iVar3 < 0x401) {
      if (iVar3 < -0x3fd) {
        fVar4 = FUN_0046af4a(local_c,(short)(iVar3 + 0x600));
        local_c = (double)fVar4;
        uVar2 = SUB84(local_c,0);
        uVar6 = CONCAT44(param_5,0x12);
      }
      else {
        fVar4 = FUN_0046af4a(local_c,(short)iVar3);
        local_c = (double)fVar4;
        if ((uVar2 & 0x20) != 0) {
          FUN_0046b127(uVar2,0xffff);
          return (float10)local_c;
        }
        uVar2 = SUB84(local_c,0);
        uVar6 = CONCAT44(param_5,0x10);
      }
    }
    else {
      fVar4 = FUN_0046af4a(local_c,(short)(iVar3 + -0x600));
      local_c = (double)fVar4;
      uVar2 = SUB84(local_c,0);
      uVar6 = CONCAT44(param_5,0x11);
    }
  }
  fVar4 = FUN_0046a8d9(in_stack_ffffffb4,in_stack_ffffffb8,uVar6,dVar7,dVar8,uVar2);
  return fVar4;
}



/*
 * Function: FUN_004682a9
 * Address: 004682a9
 */

void FUN_004682a9(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476e78;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    (*(code *)param_4)();
  }
  local_8 = 0xffffffff;
  FUN_00468311();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_00468311
 * Address: 00468311
 */

void FUN_00468311(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x1c) == 0) {
    FUN_00468329(*(undefined4 *)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + 0xc),
                 *(int *)(unaff_EBP + 0x10),*(undefined **)(unaff_EBP + 0x14));
  }
  return;
}



/*
 * Function: FUN_00468329
 * Address: 00468329
 */

void FUN_00468329(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476e88;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    (*(code *)param_4)();
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_0046839d
 * Address: 0046839d
 */

void FUN_0046839d(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  int local_20;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476e98;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  for (local_20 = 0; local_20 < param_3; local_20 = local_20 + 1) {
    (*(code *)param_4)();
  }
  local_8 = 0xffffffff;
  FUN_00468407();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_00468407
 * Address: 00468407
 */

void FUN_00468407(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x20) == 0) {
    FUN_00468329(*(undefined4 *)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + 0xc),
                 *(int *)(unaff_EBP + -0x1c),*(undefined **)(unaff_EBP + 0x18));
  }
  return;
}



/*
 * Function: FUN_0046841f
 * Address: 0046841f
 */

uint __cdecl FUN_0046841f(char *param_1,uint param_2,uint param_3,int *param_4)

{
  uint uVar1;
  
  FUN_004692fd((uint)param_4);
  uVar1 = FUN_0046844e(param_1,param_2,param_3,param_4);
  FUN_0046934f((uint)param_4);
  return uVar1;
}



/*
 * Function: FUN_0046844e
 * Address: 0046844e
 */

uint __cdecl FUN_0046844e(char *param_1,uint param_2,uint param_3,int *param_4)

{
  int *piVar1;
  char *pcVar2;
  int iVar3;
  uint uVar4;
  char *pcVar5;
  char *pcVar6;
  char *pcVar7;
  
  piVar1 = param_4;
  pcVar6 = (char *)(param_2 * param_3);
  if (pcVar6 == (char *)0x0) {
    param_3 = 0;
  }
  else {
    pcVar5 = param_1;
    param_1 = pcVar6;
    if ((*(ushort *)(param_4 + 3) & 0x10c) == 0) {
      param_4 = (int *)0x1000;
    }
    else {
      param_4 = (int *)param_4[6];
    }
    do {
      if (((*(ushort *)(piVar1 + 3) & 0x10c) == 0) ||
         (pcVar2 = (char *)piVar1[1], pcVar2 == (char *)0x0)) {
        if (param_1 < param_4) {
          uVar4 = FUN_0046b280(piVar1);
          if (uVar4 == 0xffffffff) goto LAB_0046852a;
          *pcVar5 = (char)uVar4;
          param_4 = (int *)piVar1[6];
          pcVar5 = pcVar5 + 1;
          param_1 = param_1 + -1;
        }
        else {
          pcVar2 = param_1;
          if (param_4 != (int *)0x0) {
            pcVar2 = param_1 + -((uint)param_1 % (uint)param_4);
          }
          iVar3 = FUN_0046b35c(piVar1[4],pcVar5,pcVar2);
          if (iVar3 == 0) {
            piVar1[3] = piVar1[3] | 0x10;
LAB_0046852a:
            return (uint)((int)pcVar6 - (int)param_1) / param_2;
          }
          if (iVar3 == -1) {
            piVar1[3] = piVar1[3] | 0x20;
            goto LAB_0046852a;
          }
          param_1 = param_1 + -iVar3;
          pcVar5 = pcVar5 + iVar3;
        }
      }
      else {
        pcVar7 = param_1;
        if (pcVar2 <= param_1) {
          pcVar7 = pcVar2;
        }
        FUN_0046b5a0((undefined4 *)pcVar5,(undefined4 *)*piVar1,(uint)pcVar7);
        param_1 = param_1 + -(int)pcVar7;
        piVar1[1] = piVar1[1] - (int)pcVar7;
        *piVar1 = (int)(pcVar7 + *piVar1);
        pcVar5 = pcVar5 + (int)pcVar7;
      }
    } while (param_1 != (char *)0x0);
  }
  return param_3;
}



/*
 * Function: FUN_00468536
 * Address: 00468536
 */

void __cdecl FUN_00468536(char *param_1,byte *param_2)

{
  void *this;
  char *local_24;
  size_t local_20;
  char *local_1c;
  undefined4 local_18;
  
  local_18 = 0x49;
  local_1c = param_1;
  local_24 = param_1;
  local_20 = _strlen(param_1);
  FUN_0046b8d5(this,(int *)&local_24,param_2,(undefined4 *)&stack0x0000000c);
  return;
}



/*
 * Function: FUN_0046856a
 * Address: 0046856a
 */

int __thiscall FUN_0046856a(void *this,byte *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  byte *pbVar5;
  undefined *puVar6;
  
  while( true ) {
    if (DAT_00481c8c < 2) {
      uVar1 = (byte)PTR_DAT_00481a80[(uint)*param_1 * 2] & 8;
      this = PTR_DAT_00481a80;
    }
    else {
      puVar6 = (undefined *)0x8;
      uVar1 = FUN_0046c40b(this,(uint)*param_1,8);
      this = puVar6;
    }
    if (uVar1 == 0) break;
    param_1 = param_1 + 1;
  }
  uVar1 = (uint)*param_1;
  pbVar5 = param_1 + 1;
  if ((uVar1 == 0x2d) || (uVar4 = uVar1, uVar1 == 0x2b)) {
    uVar4 = (uint)*pbVar5;
    pbVar5 = param_1 + 2;
  }
  iVar3 = 0;
  while( true ) {
    if (DAT_00481c8c < 2) {
      uVar2 = (byte)PTR_DAT_00481a80[uVar4 * 2] & 4;
    }
    else {
      puVar6 = (undefined *)0x4;
      uVar2 = FUN_0046c40b(this,uVar4,4);
      this = puVar6;
    }
    if (uVar2 == 0) break;
    iVar3 = (uVar4 - 0x30) + iVar3 * 10;
    uVar4 = (uint)*pbVar5;
    pbVar5 = pbVar5 + 1;
  }
  if (uVar1 == 0x2d) {
    iVar3 = -iVar3;
  }
  return iVar3;
}



/*
 * Function: FUN_004685f5
 * Address: 004685f5
 */

void __thiscall FUN_004685f5(void *this,byte *param_1)

{
  FUN_0046856a(this,param_1);
  return;
}



/*
 * Function: FUN_00468600
 * Address: 00468600
 */

int __cdecl FUN_00468600(int *param_1,byte *param_2)

{
  int iVar1;
  int iVar2;
  
  FUN_004692fd((uint)param_1);
  iVar1 = FUN_0046c480(param_1);
  iVar2 = FUN_00469933(param_1,param_2,(undefined4 *)&stack0x0000000c);
  FUN_0046c50d(iVar1,param_1);
  FUN_0046934f((uint)param_1);
  return iVar2;
}



/*
 * Function: entry
 * Address: 0046863c
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void entry(void)

{
  DWORD DVar1;
  int iVar2;
  byte *pbVar3;
  uint uVar4;
  HMODULE pHVar5;
  UINT UVar6;
  undefined4 uVar7;
  _STARTUPINFOA local_60;
  undefined *local_1c;
  _EXCEPTION_POINTERS *local_18;
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00476ea8;
  puStack_10 = &LAB_0046b1a8;
  pvStack_14 = ExceptionList;
  local_1c = &stack0xffffff88;
  ExceptionList = &pvStack_14;
  DVar1 = GetVersion();
  _DAT_0048e2f0 = DVar1 >> 8 & 0xff;
  _DAT_0048e2ec = DVar1 & 0xff;
  _DAT_0048e2e8 = _DAT_0048e2ec * 0x100 + _DAT_0048e2f0;
  _DAT_0048e2e4 = DVar1 >> 0x10;
  iVar2 = FUN_0046ccfb(1);
  if (iVar2 == 0) {
    FUN_00468769(0x1c);
  }
  iVar2 = FUN_004690bc();
  if (iVar2 == 0) {
    FUN_00468769(0x10);
  }
  local_8 = 0;
  FUN_0046cb3f();
  DAT_0048f9c4 = GetCommandLineA();
  DAT_0048e2d0 = FUN_0046ca0d();
  FUN_0046c7c0();
  FUN_0046c707();
  FUN_0046a13d();
  local_60.dwFlags = 0;
  GetStartupInfoA(&local_60);
  pbVar3 = FUN_0046c6af();
  if ((local_60.dwFlags & 1) == 0) {
    uVar4 = 10;
  }
  else {
    uVar4 = (uint)local_60.wShowWindow;
  }
  uVar7 = 0;
  pHVar5 = GetModuleHandleA((LPCSTR)0x0);
  UVar6 = FUN_004022e0(pHVar5,uVar7,(char *)pbVar3,uVar4);
  FUN_0046a16a(UVar6);
  FUN_0046c537(local_18->ExceptionRecord->ExceptionCode,local_18);
  return;
}



/*
 * Function: __amsg_exit
 * Address: 00468744
 */

/* Library Function - Single Match
    __amsg_exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __amsg_exit(int param_1)

{
  if (DAT_0048e2d8 == 1) {
    FUN_0046cd37();
  }
  FUN_0046cd70(param_1);
  (*(code *)PTR___exit_00481694)(0xff);
  return;
}



/*
 * Function: FUN_00468769
 * Address: 00468769
 */

void __cdecl FUN_00468769(DWORD param_1)

{
  if (DAT_0048e2d8 == 1) {
    FUN_0046cd37();
  }
  FUN_0046cd70(param_1);
                    /* WARNING: Subroutine does not return */
  ExitProcess(0xff);
}



/*
 * Function: FUN_0046878d
 * Address: 0046878d
 */

void __cdecl FUN_0046878d(LPVOID param_1)

{
  uint *puVar1;
  
  if (param_1 != (LPVOID)0x0) {
    FUN_0046ceec(9);
    puVar1 = (uint *)FUN_0046cfa0((int)param_1);
    if (puVar1 != (uint *)0x0) {
      FUN_0046cfcb(puVar1,(uint)param_1);
      FUN_0046cf4d(9);
      return;
    }
    FUN_0046cf4d(9);
    HeapFree(DAT_0048e880,0,param_1);
  }
  return;
}



/*
 * Function: _malloc
 * Address: 004687d5
 */

/* Library Function - Single Match
    _malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl _malloc(size_t _Size)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(_Size,DAT_0048e498);
  return pvVar1;
}



/*
 * Function: __nh_malloc
 * Address: 004687e7
 */

/* Library Function - Single Match
    __nh_malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl __nh_malloc(size_t _Size,int _NhFlag)

{
  int *piVar1;
  int iVar2;
  
  if (_Size < 0xffffffe1) {
    do {
      piVar1 = FUN_00468813((uint *)_Size);
      if (piVar1 != (int *)0x0) {
        return piVar1;
      }
      if (_NhFlag == 0) {
        return (void *)0x0;
      }
      iVar2 = FUN_0046daa1(_Size);
    } while (iVar2 != 0);
  }
  return (void *)0x0;
}



/*
 * Function: FUN_00468813
 * Address: 00468813
 */

int * __cdecl FUN_00468813(uint *param_1)

{
  int *piVar1;
  
  if (param_1 <= DAT_00481e98) {
    FUN_0046ceec(9);
    piVar1 = FUN_0046d2f6(param_1);
    FUN_0046cf4d(9);
    if (piVar1 != (int *)0x0) {
      return piVar1;
    }
  }
  if (param_1 == (uint *)0x0) {
    param_1 = (uint *)0x1;
  }
  piVar1 = (int *)HeapAlloc(DAT_0048e880,0,(int)param_1 + 0xfU & 0xfffffff0);
  return piVar1;
}



/*
 * Function: FUN_00468861
 * Address: 00468861
 */

undefined4 __cdecl
FUN_00468861(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int *param_5,
            int param_6,PVOID param_7,char param_8)

{
  code *pcVar1;
  undefined4 uVar2;
  
  if (*param_5 != 0x19930520) {
    FUN_004691eb();
  }
  if ((*(byte *)&param_1->ExceptionFlags & 0x66) == 0) {
    if (param_5[3] != 0) {
      if (((param_1->ExceptionCode == 0xe06d7363) && (0x19930520 < param_1->ExceptionInformation[0])
          ) && (pcVar1 = *(code **)(param_1->ExceptionInformation[2] + 8), pcVar1 != (code *)0x0)) {
        uVar2 = (*pcVar1)(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8);
        return uVar2;
      }
      FUN_004688fc(param_1,param_2,param_3,param_4,(uint)param_5,param_8,param_6,param_7);
    }
  }
  else if ((param_5[1] != 0) && (param_6 == 0)) {
    FUN_00468bb6((int)param_2,param_4,(int)param_5,-1);
  }
  return 1;
}



/*
 * Function: FUN_004688fc
 * Address: 004688fc
 */

void __cdecl
FUN_004688fc(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            char param_6,int param_7,PVOID param_8)

{
  byte *pbVar1;
  bool bVar2;
  DWORD *pDVar3;
  undefined3 extraout_var;
  int *piVar4;
  int iVar5;
  int *piVar6;
  uint local_1c;
  uint local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  local_18 = local_18 & 0xffffff00;
  local_14 = *(int *)((int)param_2 + 8);
  if ((local_14 < -1) || (*(int *)(param_5 + 4) <= local_14)) {
    FUN_004691eb();
  }
  if (param_1->ExceptionCode == 0xe06d7363) {
    if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
       (param_1->ExceptionInformation[2] == 0)) {
      pDVar3 = FUN_00469123();
      if (pDVar3[0x1b] == 0) {
        return;
      }
      pDVar3 = FUN_00469123();
      param_1 = (PEXCEPTION_RECORD)pDVar3[0x1b];
      pDVar3 = FUN_00469123();
      param_3 = pDVar3[0x1c];
      local_18 = CONCAT31(local_18._1_3_,1);
      bVar2 = FUN_0046db20(param_1,1);
      if (CONCAT31(extraout_var,bVar2) == 0) {
        FUN_004691eb();
      }
      if (param_1->ExceptionCode != 0xe06d7363) goto LAB_00468a84;
      if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
         (param_1->ExceptionInformation[2] == 0)) {
        FUN_004691eb();
      }
    }
    iVar5 = local_14;
    if (((param_1->ExceptionCode == 0xe06d7363) && (param_1->NumberParameters == 3)) &&
       (param_1->ExceptionInformation[0] == 0x19930520)) {
      piVar4 = (int *)FUN_00467b02(param_5,param_7,local_14,&local_8,&local_1c);
      do {
        if (local_1c <= local_8) {
          if (param_6 == '\0') {
            return;
          }
          FUN_00468fd8((int)param_1);
          return;
        }
        if ((*piVar4 <= iVar5) && (iVar5 <= piVar4[1])) {
          pbVar1 = (byte *)piVar4[4];
          for (local_10 = piVar4[3]; iVar5 = local_14, 0 < local_10; local_10 = local_10 + -1) {
            piVar6 = *(int **)(param_1->ExceptionInformation[2] + 0xc);
            for (local_c = *piVar6; 0 < local_c; local_c = local_c + -1) {
              piVar6 = piVar6 + 1;
              iVar5 = FUN_00468b59(pbVar1,(byte *)*piVar6,(uint *)param_1->ExceptionInformation[2]);
              if (iVar5 != 0) {
                FUN_00468c54(param_1,param_2,param_3,param_4,param_5,pbVar1,(byte *)*piVar6,piVar4,
                             param_7,param_8);
                iVar5 = local_14;
                goto LAB_00468a64;
              }
            }
            pbVar1 = pbVar1 + 0x10;
          }
        }
LAB_00468a64:
        local_8 = local_8 + 1;
        piVar4 = piVar4 + 5;
      } while( true );
    }
  }
LAB_00468a84:
  if (param_6 == '\0') {
    FUN_00468aaf(param_1,param_2,param_3,param_4,param_5,local_14,param_7,param_8);
    return;
  }
  FUN_0046918a();
  return;
}



/*
 * Function: FUN_00468aaf
 * Address: 00468aaf
 */

void __cdecl
FUN_00468aaf(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            int param_6,int param_7,PVOID param_8)

{
  DWORD *pDVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  uint local_c;
  uint local_8;
  
  pDVar1 = FUN_00469123();
  if ((pDVar1[0x1a] != 0) &&
     (iVar2 = FUN_004679d7(&param_1->ExceptionCode,param_2,param_3,param_4,param_5,param_7,param_8),
     iVar2 != 0)) {
    return;
  }
  piVar3 = (int *)FUN_00467b02(param_5,param_7,param_6,&local_8,&local_c);
  for (; local_8 < local_c; local_8 = local_8 + 1) {
    if ((*piVar3 <= param_6) && (param_6 <= piVar3[1])) {
      iVar4 = piVar3[3] * 0x10 + piVar3[4];
      iVar2 = *(int *)(iVar4 + -0xc);
      if ((iVar2 == 0) || (*(char *)(iVar2 + 8) == '\0')) {
        FUN_00468c54(param_1,param_2,param_3,param_4,param_5,(byte *)(iVar4 + -0x10),(byte *)0x0,
                     piVar3,param_7,param_8);
      }
    }
    piVar3 = piVar3 + 5;
  }
  return;
}



/*
 * Function: FUN_00468b59
 * Address: 00468b59
 */

undefined4 __cdecl FUN_00468b59(byte *param_1,byte *param_2,uint *param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if ((iVar1 == 0) || (*(char *)(iVar1 + 8) == '\0')) {
LAB_00468bb0:
    uVar2 = 1;
  }
  else {
    if (iVar1 == *(int *)(param_2 + 4)) {
LAB_00468b8a:
      if (((((*param_2 & 2) == 0) || ((*param_1 & 8) != 0)) &&
          (((*param_3 & 1) == 0 || ((*param_1 & 1) != 0)))) &&
         (((*param_3 & 2) == 0 || ((*param_1 & 2) != 0)))) goto LAB_00468bb0;
    }
    else {
      iVar1 = _strcmp((char *)(iVar1 + 8),(char *)(*(int *)(param_2 + 4) + 8));
      if (iVar1 == 0) goto LAB_00468b8a;
    }
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_00468bb6
 * Address: 00468bb6
 */

void __cdecl FUN_00468bb6(int param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476eb8;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  for (iVar2 = *(int *)(param_1 + 8); local_8 = 0xffffffff, iVar2 != param_4;
      iVar2 = *(int *)(*(int *)(param_3 + 8) + iVar2 * 8)) {
    if ((iVar2 < 0) || (*(int *)(param_3 + 4) <= iVar2)) {
      FUN_004691eb();
    }
    local_8 = 0;
    iVar1 = *(int *)(*(int *)(param_3 + 8) + 4 + iVar2 * 8);
    if (iVar1 != 0) {
      __CallSettingFrame_12(iVar1,param_1,0x103);
    }
  }
  *(int *)(param_1 + 8) = iVar2;
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_00468c54
 * Address: 00468c54
 */

void __cdecl
FUN_00468c54(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int param_5,
            byte *param_6,byte *param_7,int *param_8,int param_9,PVOID param_10)

{
  undefined *UNRECOVERED_JUMPTABLE;
  
  if (param_7 != (byte *)0x0) {
    FUN_00468e14((int)param_1,(int)param_2,param_6,param_7);
  }
  if (param_10 == (PVOID)0x0) {
    param_10 = param_2;
  }
  FUN_004678d9(param_10,param_1);
  FUN_00468bb6((int)param_2,param_4,param_5,*param_8);
  *(int *)((int)param_2 + 8) = param_8[1] + 1;
  UNRECOVERED_JUMPTABLE =
       (undefined *)
       FUN_00468ccf((DWORD)param_1,param_2,param_3,param_5,*(undefined4 *)(param_6 + 0xc),param_9,
                    0x100);
  if (UNRECOVERED_JUMPTABLE != (undefined *)0x0) {
    FUN_00467897(UNRECOVERED_JUMPTABLE);
  }
  return;
}



/*
 * Function: FUN_00468ccf
 * Address: 00468ccf
 */

undefined4 __cdecl
FUN_00468ccf(DWORD param_1,undefined4 param_2,DWORD param_3,undefined4 param_4,undefined4 param_5,
            int param_6,int param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00476ec8;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  FUN_00469123();
  FUN_00469123();
  pDVar1 = FUN_00469123();
  pDVar1[0x1b] = param_1;
  pDVar1 = FUN_00469123();
  pDVar1[0x1c] = param_3;
  local_8 = 1;
  uVar2 = FUN_0046795e(param_2,param_4,param_5,param_6,param_7);
  local_8 = 0xffffffff;
  FUN_00468d9c();
  ExceptionList = local_14;
  return uVar2;
}



/*
 * Function: FUN_00468d9c
 * Address: 00468d9c
 */

void FUN_00468d9c(void)

{
  DWORD *pDVar1;
  int unaff_EBP;
  int unaff_ESI;
  int *unaff_EDI;
  
  *(undefined4 *)(unaff_ESI + -4) = *(undefined4 *)(unaff_EBP + -0x28);
  pDVar1 = FUN_00469123();
  pDVar1[0x1b] = *(DWORD *)(unaff_EBP + -0x1c);
  pDVar1 = FUN_00469123();
  pDVar1[0x1c] = *(DWORD *)(unaff_EBP + -0x20);
  if ((((*unaff_EDI == -0x1f928c9d) && (unaff_EDI[4] == 3)) && (unaff_EDI[5] == 0x19930520)) &&
     ((*(int *)(unaff_EBP + -0x24) == 0 && (*(int *)(unaff_EBP + -0x2c) != 0)))) {
    __abnormal_termination();
    FUN_00468fd8((int)unaff_EDI);
  }
  return;
}



/*
 * Function: FUN_00468e14
 * Address: 00468e14
 */

void __cdecl FUN_00468e14(int param_1,int param_2,byte *param_3,byte *param_4)

{
  int *piVar1;
  bool bVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar3;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined4 *puVar4;
  undefined3 extraout_var_05;
  undefined3 extraout_var_06;
  undefined3 extraout_var_07;
  uint uVar5;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476ee0;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  if (*(int *)(param_3 + 4) == 0) {
    return;
  }
  if (*(char *)(*(int *)(param_3 + 4) + 8) == '\0') {
    return;
  }
  if (*(int *)(param_3 + 8) == 0) {
    return;
  }
  piVar1 = (int *)(*(int *)(param_3 + 8) + 0xc + param_2);
  local_8 = 0;
  if ((*param_3 & 8) == 0) {
    if ((*param_4 & 1) == 0) {
      if (*(int *)(param_4 + 0x18) == 0) {
        ExceptionList = &local_14;
        bVar2 = FUN_0046db20(*(void **)(param_1 + 0x18),1);
        if ((CONCAT31(extraout_var_03,bVar2) != 0) &&
           (bVar2 = FUN_0046db3c(piVar1,1), CONCAT31(extraout_var_04,bVar2) != 0)) {
          uVar5 = *(uint *)(param_4 + 0x14);
          puVar4 = (undefined4 *)FUN_0046903f(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_0046dc00(piVar1,puVar4,uVar5);
          ExceptionList = local_14;
          return;
        }
      }
      else {
        ExceptionList = &local_14;
        bVar2 = FUN_0046db20(*(void **)(param_1 + 0x18),1);
        if (((CONCAT31(extraout_var_05,bVar2) != 0) &&
            (bVar2 = FUN_0046db3c(piVar1,1), CONCAT31(extraout_var_06,bVar2) != 0)) &&
           (bVar2 = FUN_0046db58(*(FARPROC *)(param_4 + 0x18)), CONCAT31(extraout_var_07,bVar2) != 0
           )) {
          if ((*param_4 & 4) != 0) {
            FUN_0046903f(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
            FUN_004678d2(piVar1,*(undefined **)(param_4 + 0x18));
            ExceptionList = local_14;
            return;
          }
          FUN_0046903f(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_004678cb(piVar1,*(undefined **)(param_4 + 0x18));
          ExceptionList = local_14;
          return;
        }
      }
    }
    else {
      ExceptionList = &local_14;
      bVar2 = FUN_0046db20(*(void **)(param_1 + 0x18),1);
      if ((CONCAT31(extraout_var_01,bVar2) != 0) &&
         (bVar2 = FUN_0046db3c(piVar1,1), CONCAT31(extraout_var_02,bVar2) != 0)) {
        FUN_0046dc00(piVar1,*(undefined4 **)(param_1 + 0x18),*(uint *)(param_4 + 0x14));
        if (*(int *)(param_4 + 0x14) != 4) {
          ExceptionList = local_14;
          return;
        }
        iVar3 = *piVar1;
        if (iVar3 == 0) {
          ExceptionList = local_14;
          return;
        }
        goto LAB_00468ea2;
      }
    }
  }
  else {
    ExceptionList = &local_14;
    bVar2 = FUN_0046db20(*(void **)(param_1 + 0x18),1);
    if ((CONCAT31(extraout_var,bVar2) != 0) &&
       (bVar2 = FUN_0046db3c(piVar1,1), CONCAT31(extraout_var_00,bVar2) != 0)) {
      iVar3 = *(int *)(param_1 + 0x18);
      *piVar1 = iVar3;
LAB_00468ea2:
      iVar3 = FUN_0046903f(iVar3,(int *)(param_4 + 8));
      *piVar1 = iVar3;
      ExceptionList = local_14;
      return;
    }
  }
  FUN_004691eb();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_00468fd8
 * Address: 00468fd8
 */

void __cdecl FUN_00468fd8(int param_1)

{
  undefined *UNRECOVERED_JUMPTABLE;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476ef0;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  if ((param_1 != 0) &&
     (UNRECOVERED_JUMPTABLE = *(undefined **)(*(int *)(param_1 + 0x1c) + 4),
     UNRECOVERED_JUMPTABLE != (undefined *)0x0)) {
    local_8 = 0;
    ExceptionList = &local_14;
    FUN_004678cb(*(undefined4 *)(param_1 + 0x18),UNRECOVERED_JUMPTABLE);
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_0046903f
 * Address: 0046903f
 */

int __cdecl FUN_0046903f(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = param_2[1];
  iVar2 = *param_2 + param_1;
  if (-1 < iVar1) {
    iVar2 = iVar2 + *(int *)(*(int *)(iVar1 + param_1) + param_2[2]) + iVar1;
  }
  return iVar2;
}



/*
 * Function: __CallSettingFrame@12
 * Address: 00469070
 */

/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* Library Function - Single Match
    __CallSettingFrame@12
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __CallSettingFrame_12(undefined4 param_1,undefined4 param_2,int param_3)

{
  code *pcVar1;
  
  pcVar1 = (code *)__NLG_Notify1(param_3);
  (*pcVar1)();
  if (param_3 == 0x100) {
    param_3 = 2;
  }
  __NLG_Notify1(param_3);
  return;
}



/*
 * Function: FUN_004690bc
 * Address: 004690bc
 */

undefined4 FUN_004690bc(void)

{
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  FUN_0046cec3();
  DAT_004816a0 = TlsAlloc();
  if (DAT_004816a0 != 0xffffffff) {
    lpTlsValue = (DWORD *)FUN_0046df35(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_004816a0,lpTlsValue);
      if (BVar1 != 0) {
        FUN_00469110((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        return 1;
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_00469110
 * Address: 00469110
 */

void __cdecl FUN_00469110(int param_1)

{
  *(undefined **)(param_1 + 0x50) = &DAT_00481c98;
  *(undefined4 *)(param_1 + 0x14) = 1;
  return;
}



/*
 * Function: FUN_00469123
 * Address: 00469123
 */

DWORD * FUN_00469123(void)

{
  DWORD dwErrCode;
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  dwErrCode = GetLastError();
  lpTlsValue = (DWORD *)TlsGetValue(DAT_004816a0);
  if (lpTlsValue == (DWORD *)0x0) {
    lpTlsValue = (DWORD *)FUN_0046df35(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_004816a0,lpTlsValue);
      if (BVar1 != 0) {
        FUN_00469110((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        goto LAB_0046917e;
      }
    }
    __amsg_exit(0x10);
  }
LAB_0046917e:
  SetLastError(dwErrCode);
  return lpTlsValue;
}



/*
 * Function: FUN_0046918a
 * Address: 0046918a
 */

void FUN_0046918a(void)

{
  DWORD *pDVar1;
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476f00;
  puStack_10 = &LAB_0046b1a8;
  pvStack_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &pvStack_14;
  pDVar1 = FUN_00469123();
  if (pDVar1[0x18] != 0) {
    local_8 = 1;
    pDVar1 = FUN_00469123();
    (*(code *)pDVar1[0x18])();
  }
  local_8 = 0xffffffff;
  FUN_0046dfc2();
  return;
}



/*
 * Function: FUN_004691eb
 * Address: 004691eb
 */

void FUN_004691eb(void)

{
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_00476f18;
  puStack_10 = &LAB_0046b1a8;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  if (PTR_FUN_004816a4 != (undefined *)0x0) {
    local_8 = 1;
    ExceptionList = &pvStack_14;
    (*(code *)PTR_FUN_004816a4)();
  }
  local_8 = 0xffffffff;
  FUN_0046918a();
  return;
}



/*
 * Function: FUN_004692fd
 * Address: 004692fd
 */

void __cdecl FUN_004692fd(uint param_1)

{
  if ((0x4816a7 < param_1) && (param_1 < 0x481909)) {
    FUN_0046ceec(((int)(param_1 - 0x4816a8) >> 5) + 0x1c);
    return;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x20));
  return;
}



/*
 * Function: FUN_0046932c
 * Address: 0046932c
 */

void __cdecl FUN_0046932c(int param_1,int param_2)

{
  if (param_1 < 0x14) {
    FUN_0046ceec(param_1 + 0x1c);
    return;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_2 + 0x20));
  return;
}



/*
 * Function: FUN_0046934f
 * Address: 0046934f
 */

void __cdecl FUN_0046934f(uint param_1)

{
  if ((0x4816a7 < param_1) && (param_1 < 0x481909)) {
    FUN_0046cf4d(((int)(param_1 - 0x4816a8) >> 5) + 0x1c);
    return;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x20));
  return;
}



/*
 * Function: FUN_0046937e
 * Address: 0046937e
 */

void __cdecl FUN_0046937e(int param_1,int param_2)

{
  if (param_1 < 0x14) {
    FUN_0046cf4d(param_1 + 0x1c);
    return;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_2 + 0x20));
  return;
}



/*
 * Function: FUN_004693a1
 * Address: 004693a1
 */

undefined4 __cdecl FUN_004693a1(uint param_1)

{
  undefined4 uVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_0048e9a0) &&
     ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_0046e33f(param_1);
    uVar1 = FUN_004693fe(param_1);
    FUN_0046e39e(param_1);
    return uVar1;
  }
  pDVar2 = FUN_0046e0cd();
  *pDVar2 = 9;
  pDVar2 = FUN_0046e0d6();
  *pDVar2 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_004693fe
 * Address: 004693fe
 */

undefined4 __cdecl FUN_004693fe(uint param_1)

{
  int iVar1;
  int iVar2;
  HANDLE hObject;
  BOOL BVar3;
  DWORD DVar4;
  undefined4 uVar5;
  
  iVar1 = FUN_0046e2fd(param_1);
  if (iVar1 != -1) {
    if ((param_1 == 1) || (param_1 == 2)) {
      iVar1 = FUN_0046e2fd(2);
      iVar2 = FUN_0046e2fd(1);
      if (iVar2 == iVar1) goto LAB_0046944c;
    }
    hObject = (HANDLE)FUN_0046e2fd(param_1);
    BVar3 = CloseHandle(hObject);
    if (BVar3 == 0) {
      DVar4 = GetLastError();
      goto LAB_0046944e;
    }
  }
LAB_0046944c:
  DVar4 = 0;
LAB_0046944e:
  FUN_0046e27e(param_1);
  *(undefined *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) = 0;
  if (DVar4 == 0) {
    uVar5 = 0;
  }
  else {
    FUN_0046e05a(DVar4);
    uVar5 = 0xffffffff;
  }
  return uVar5;
}



/*
 * Function: __freebuf
 * Address: 00469481
 */

/* Library Function - Single Match
    __freebuf
   
   Library: Visual Studio 2003 Release */

void __cdecl __freebuf(FILE *_File)

{
  if (((_File->_flag & 0x83U) != 0) && ((_File->_flag & 8U) != 0)) {
    FUN_0046878d(_File->_base);
    *(ushort *)&_File->_flag = *(ushort *)&_File->_flag & 0xfbf7;
    _File->_ptr = (char *)0x0;
    _File->_base = (char *)0x0;
    _File->_cnt = 0;
  }
  return;
}



/*
 * Function: FUN_004694ac
 * Address: 004694ac
 */

int __cdecl FUN_004694ac(int *param_1)

{
  int iVar1;
  DWORD DVar2;
  
  iVar1 = FUN_004694da(param_1);
  if (iVar1 != 0) {
    return -1;
  }
  if ((*(byte *)((int)param_1 + 0xd) & 0x40) != 0) {
    DVar2 = FUN_0046e3c0(param_1[4]);
    return -(uint)(DVar2 != 0);
  }
  return 0;
}



/*
 * Function: FUN_004694da
 * Address: 004694da
 */

undefined4 __cdecl FUN_004694da(int *param_1)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  
  uVar2 = 0;
  if ((((byte)param_1[3] & 3) == 2) && ((param_1[3] & 0x108U) != 0)) {
    uVar3 = *param_1 - param_1[2];
    if (0 < (int)uVar3) {
      uVar1 = FUN_0046e453(param_1[4],(char *)param_1[2],uVar3);
      if (uVar1 == uVar3) {
        if ((param_1[3] & 0x80U) != 0) {
          param_1[3] = param_1[3] & 0xfffffffd;
        }
      }
      else {
        param_1[3] = param_1[3] | 0x20;
        uVar2 = 0xffffffff;
      }
    }
  }
  param_1[1] = 0;
  *param_1 = param_1[2];
  return uVar2;
}



/*
 * Function: FUN_0046953f
 * Address: 0046953f
 */

int __cdecl FUN_0046953f(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar3 = 0;
  iVar5 = 0;
  FUN_0046ceec(2);
  iVar4 = 0;
  if (0 < DAT_0048f9c0) {
    do {
      iVar2 = *(int *)(DAT_0048e9b4 + iVar4 * 4);
      if ((iVar2 != 0) && ((*(byte *)(iVar2 + 0xc) & 0x83) != 0)) {
        FUN_0046932c(iVar4,iVar2);
        piVar1 = *(int **)(DAT_0048e9b4 + iVar4 * 4);
        if ((piVar1[3] & 0x83U) != 0) {
          if (param_1 == 1) {
            iVar2 = FUN_004694ac(piVar1);
            if (iVar2 != -1) {
              iVar3 = iVar3 + 1;
            }
          }
          else if ((param_1 == 0) && ((piVar1[3] & 2U) != 0)) {
            iVar2 = FUN_004694ac(piVar1);
            if (iVar2 == -1) {
              iVar5 = -1;
            }
          }
        }
        FUN_0046937e(iVar4,*(int *)(DAT_0048e9b4 + iVar4 * 4));
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < DAT_0048f9c0);
  }
  FUN_0046cf4d(2);
  if (param_1 != 1) {
    iVar3 = iVar5;
  }
  return iVar3;
}



/*
 * Function: FUN_004695e3
 * Address: 004695e3
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * __cdecl FUN_004695e3(LPCSTR param_1,char *param_2,uint param_3,undefined4 *param_4)

{
  char cVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  uint uVar5;
  uint uVar6;
  
  bVar4 = false;
  bVar3 = false;
  cVar1 = *param_2;
  if (cVar1 == 'a') {
    uVar5 = 0x109;
  }
  else {
    if (cVar1 == 'r') {
      uVar5 = 0;
      uVar6 = DAT_0048e4a4 | 1;
      goto LAB_00469624;
    }
    if (cVar1 != 'w') {
      return (undefined4 *)0x0;
    }
    uVar5 = 0x301;
  }
  uVar6 = DAT_0048e4a4 | 2;
LAB_00469624:
  bVar2 = true;
LAB_00469627:
  cVar1 = param_2[1];
  param_2 = param_2 + 1;
  if ((cVar1 == '\0') || (!bVar2)) {
    uVar5 = FUN_0046e643(param_1,uVar5,param_3,0x1a4);
    if ((int)uVar5 < 0) {
      return (undefined4 *)0x0;
    }
    _DAT_0048e2dc = _DAT_0048e2dc + 1;
    param_4[3] = uVar6;
    param_4[1] = 0;
    *param_4 = 0;
    param_4[2] = 0;
    param_4[7] = 0;
    param_4[4] = uVar5;
    return param_4;
  }
  if (cVar1 < 'U') {
    if (cVar1 == 'T') {
      if ((uVar5 & 0x1000) == 0) {
        uVar5 = uVar5 | 0x1000;
        goto LAB_00469627;
      }
    }
    else if (cVar1 == '+') {
      if ((uVar5 & 2) == 0) {
        uVar5 = uVar5 & 0xfffffffe | 2;
        uVar6 = uVar6 & 0xfffffffc | 0x80;
        goto LAB_00469627;
      }
    }
    else if (cVar1 == 'D') {
      if ((uVar5 & 0x40) == 0) {
        uVar5 = uVar5 | 0x40;
        goto LAB_00469627;
      }
    }
    else if (cVar1 == 'R') {
      if (!bVar3) {
        bVar3 = true;
        uVar5 = uVar5 | 0x10;
        goto LAB_00469627;
      }
    }
    else if ((cVar1 == 'S') && (!bVar3)) {
      bVar3 = true;
      uVar5 = uVar5 | 0x20;
      goto LAB_00469627;
    }
  }
  else {
    if (cVar1 == 'b') {
      if ((uVar5 & 0xc000) != 0) goto LAB_00469707;
      uVar5 = uVar5 | 0x8000;
      goto LAB_00469627;
    }
    if (cVar1 == 'c') {
      if (!bVar4) {
        bVar4 = true;
        uVar6 = uVar6 | 0x4000;
        goto LAB_00469627;
      }
    }
    else {
      if (cVar1 != 'n') {
        if ((cVar1 != 't') || ((uVar5 & 0xc000) != 0)) goto LAB_00469707;
        uVar5 = uVar5 | 0x4000;
        goto LAB_00469627;
      }
      if (!bVar4) {
        bVar4 = true;
        uVar6 = uVar6 & 0xffffbfff;
        goto LAB_00469627;
      }
    }
  }
LAB_00469707:
  bVar2 = false;
  goto LAB_00469627;
}



/*
 * Function: FUN_00469753
 * Address: 00469753
 */

undefined4 * FUN_00469753(void)

{
  int iVar1;
  void *pvVar2;
  int iVar3;
  undefined4 *puVar4;
  
  puVar4 = (undefined4 *)0x0;
  FUN_0046ceec(2);
  iVar3 = 0;
  if (0 < DAT_0048f9c0) {
    do {
      iVar1 = *(int *)(DAT_0048e9b4 + iVar3 * 4);
      if (iVar1 == 0) {
        iVar3 = iVar3 * 4;
        pvVar2 = _malloc(0x38);
        *(void **)(iVar3 + DAT_0048e9b4) = pvVar2;
        if (*(int *)(iVar3 + DAT_0048e9b4) != 0) {
          InitializeCriticalSection((LPCRITICAL_SECTION)(*(int *)(iVar3 + DAT_0048e9b4) + 0x20));
          EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(iVar3 + DAT_0048e9b4) + 0x20));
          puVar4 = *(undefined4 **)(iVar3 + DAT_0048e9b4);
LAB_004697f7:
          if (puVar4 != (undefined4 *)0x0) {
            puVar4[4] = 0xffffffff;
            puVar4[1] = 0;
            puVar4[3] = 0;
            puVar4[2] = 0;
            *puVar4 = 0;
            puVar4[7] = 0;
          }
        }
        break;
      }
      if ((*(byte *)(iVar1 + 0xc) & 0x83) == 0) {
        FUN_0046932c(iVar3,iVar1);
        iVar1 = *(int *)(DAT_0048e9b4 + iVar3 * 4);
        if ((*(byte *)(iVar1 + 0xc) & 0x83) == 0) {
          puVar4 = *(undefined4 **)(DAT_0048e9b4 + iVar3 * 4);
          goto LAB_004697f7;
        }
        FUN_0046937e(iVar3,iVar1);
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < DAT_0048f9c0);
  }
  FUN_0046cf4d(2);
  return puVar4;
}



/*
 * Function: FUN_0046981b
 * Address: 0046981b
 */

uint __cdecl FUN_0046981b(uint param_1,int *param_2)

{
  uint uVar1;
  uint uVar2;
  char *pcVar3;
  int *piVar4;
  byte bVar5;
  undefined3 extraout_var;
  undefined *puVar6;
  int *piVar7;
  
  piVar4 = param_2;
  uVar1 = param_2[3];
  uVar2 = param_2[4];
  if (((uVar1 & 0x82) == 0) || ((uVar1 & 0x40) != 0)) {
LAB_00469927:
    param_2[3] = uVar1 | 0x20;
  }
  else {
    if ((uVar1 & 1) != 0) {
      param_2[1] = 0;
      if ((uVar1 & 0x10) == 0) goto LAB_00469927;
      *param_2 = param_2[2];
      param_2[3] = uVar1 & 0xfffffffe;
    }
    uVar1 = param_2[3];
    param_2[1] = 0;
    param_2 = (int *)0x0;
    piVar4[3] = uVar1 & 0xffffffef | 2;
    if (((uVar1 & 0x10c) == 0) &&
       (((piVar4 != (int *)&DAT_004816c8 && (piVar4 != (int *)&DAT_004816e8)) ||
        (bVar5 = FUN_0046ea2e(uVar2), CONCAT31(extraout_var,bVar5) == 0)))) {
      FUN_0046e9ea(piVar4);
    }
    if ((*(ushort *)(piVar4 + 3) & 0x108) == 0) {
      piVar7 = (int *)0x1;
      param_2 = (int *)FUN_0046e453(uVar2,(char *)&param_1,1);
    }
    else {
      pcVar3 = (char *)piVar4[2];
      piVar7 = (int *)(*piVar4 - (int)pcVar3);
      *piVar4 = (int)(pcVar3 + 1);
      piVar4[1] = piVar4[6] + -1;
      if ((int)piVar7 < 1) {
        if (uVar2 == 0xffffffff) {
          puVar6 = &DAT_00481d20;
        }
        else {
          puVar6 = (undefined *)((&DAT_0048e8a0)[(int)uVar2 >> 5] + (uVar2 & 0x1f) * 0x24);
        }
        if ((puVar6[4] & 0x20) != 0) {
          FUN_0046e912(uVar2,0,2);
        }
      }
      else {
        param_2 = (int *)FUN_0046e453(uVar2,pcVar3,(uint)piVar7);
      }
      *(undefined *)piVar4[2] = (undefined)param_1;
    }
    if (param_2 == piVar7) {
      return param_1 & 0xff;
    }
    piVar4[3] = piVar4[3] | 0x20;
  }
  return 0xffffffff;
}



/*
 * Function: FUN_00469933
 * Address: 00469933
 */

int __cdecl FUN_00469933(int *param_1,byte *param_2,undefined4 *param_3)

{
  int iVar1;
  uint uVar2;
  WCHAR *pWVar3;
  WCHAR *pWVar4;
  undefined4 uVar5;
  short *psVar6;
  int *piVar7;
  LPSTR pCVar8;
  byte bVar9;
  int iVar10;
  uint uVar11;
  LPSTR pCVar12;
  ulonglong uVar13;
  undefined8 uVar14;
  ulonglong uVar15;
  undefined local_24c [511];
  undefined local_4d;
  undefined4 local_4c;
  undefined4 local_48;
  uint local_44;
  uint local_40;
  CHAR local_3c [4];
  undefined4 local_38;
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  char local_1a;
  char local_19;
  int local_18;
  int local_14;
  LPSTR local_10;
  WCHAR *local_c;
  uint local_8;
  
  local_34 = 0;
  bVar9 = *param_2;
  param_2 = param_2 + 1;
  local_10 = (LPSTR)0x0;
  local_18 = 0;
  do {
    if ((bVar9 == 0) || (local_18 < 0)) {
      return local_18;
    }
    if (((char)bVar9 < ' ') || ('x' < (char)bVar9)) {
      uVar2 = 0;
    }
    else {
      uVar2 = *(byte *)((int)&PTR_LAB_00476f10 + (int)(char)bVar9) & 0xf;
    }
    local_34 = (int)(char)(&DAT_00476f30)[uVar2 * 8 + local_34] >> 4;
    switch(local_34) {
    case 0:
switchD_004699a1_caseD_0:
      local_28 = 0;
      if ((PTR_DAT_00481a80[(uint)bVar9 * 2 + 1] & 0x80) != 0) {
        FUN_0046a074((int)(char)bVar9,param_1,&local_18);
        bVar9 = *param_2;
        param_2 = param_2 + 1;
      }
      FUN_0046a074((int)(char)bVar9,param_1,&local_18);
      break;
    case 1:
      local_14 = -1;
      local_38 = 0;
      local_2c = 0;
      local_24 = 0;
      local_20 = 0;
      local_8 = 0;
      local_28 = 0;
      break;
    case 2:
      if (bVar9 == 0x20) {
        local_8 = local_8 | 2;
      }
      else if (bVar9 == 0x23) {
        local_8 = local_8 | 0x80;
      }
      else if (bVar9 == 0x2b) {
        local_8 = local_8 | 1;
      }
      else if (bVar9 == 0x2d) {
        local_8 = local_8 | 4;
      }
      else if (bVar9 == 0x30) {
        local_8 = local_8 | 8;
      }
      break;
    case 3:
      if (bVar9 == 0x2a) {
        local_24 = FUN_0046a112((int *)&param_3);
        if (local_24 < 0) {
          local_8 = local_8 | 4;
          local_24 = -local_24;
        }
      }
      else {
        local_24 = (char)bVar9 + -0x30 + local_24 * 10;
      }
      break;
    case 4:
      local_14 = 0;
      break;
    case 5:
      if (bVar9 == 0x2a) {
        local_14 = FUN_0046a112((int *)&param_3);
        if (local_14 < 0) {
          local_14 = -1;
        }
      }
      else {
        local_14 = (char)bVar9 + -0x30 + local_14 * 10;
      }
      break;
    case 6:
      if (bVar9 == 0x49) {
        if ((*param_2 != 0x36) || (param_2[1] != 0x34)) {
          local_34 = 0;
          goto switchD_004699a1_caseD_0;
        }
        param_2 = param_2 + 2;
        local_8 = local_8 | 0x8000;
      }
      else if (bVar9 == 0x68) {
        local_8 = local_8 | 0x20;
      }
      else if (bVar9 == 0x6c) {
        local_8 = local_8 | 0x10;
      }
      else if (bVar9 == 0x77) {
        local_8 = local_8 | 0x800;
      }
      break;
    case 7:
      pWVar4 = local_c;
      if ((char)bVar9 < 'h') {
        if ((char)bVar9 < 'e') {
          if ((char)bVar9 < 'Y') {
            if (bVar9 == 0x58) {
LAB_00469db2:
              local_30 = 7;
LAB_00469db9:
              local_10 = (LPSTR)0x10;
              if ((local_8 & 0x80) != 0) {
                local_1a = '0';
                local_19 = (char)local_30 + 'Q';
                local_20 = 2;
              }
              goto LAB_00469e23;
            }
            if (bVar9 != 0x43) {
              if ((bVar9 != 0x45) && (bVar9 != 0x47)) {
                if (bVar9 == 0x53) {
                  if ((local_8 & 0x830) == 0) {
                    local_8 = local_8 | 0x800;
                  }
                  goto LAB_00469b60;
                }
                goto LAB_00469f3d;
              }
              local_38 = 1;
              bVar9 = bVar9 + 0x20;
              goto LAB_00469bc1;
            }
            if ((local_8 & 0x830) == 0) {
              local_8 = local_8 | 0x800;
            }
LAB_00469bee:
            if ((local_8 & 0x810) == 0) {
              uVar5 = FUN_0046a112((int *)&param_3);
              local_24c[0] = (char)uVar5;
              local_10 = (LPSTR)0x1;
            }
            else {
              uVar5 = FUN_0046a12f((int *)&param_3);
              local_10 = FUN_0046ea57(local_24c,(WCHAR)uVar5);
              if ((int)local_10 < 0) {
                local_2c = 1;
              }
            }
            pWVar4 = (WCHAR *)local_24c;
          }
          else if (bVar9 == 0x5a) {
            psVar6 = (short *)FUN_0046a112((int *)&param_3);
            if ((psVar6 == (short *)0x0) ||
               (pWVar4 = *(WCHAR **)(psVar6 + 2), pWVar4 == (WCHAR *)0x0)) {
              local_c = (WCHAR *)PTR_s__null__00481928;
              pWVar4 = (WCHAR *)PTR_s__null__00481928;
              goto LAB_00469d33;
            }
            if ((local_8 & 0x800) == 0) {
              local_28 = 0;
              local_10 = (LPSTR)(int)*psVar6;
            }
            else {
              local_28 = 1;
              local_10 = (LPSTR)((uint)(int)*psVar6 >> 1);
            }
          }
          else {
            if (bVar9 == 99) goto LAB_00469bee;
            if (bVar9 == 100) goto LAB_00469e18;
          }
        }
        else {
LAB_00469bc1:
          local_8 = local_8 | 0x40;
          pWVar4 = (WCHAR *)local_24c;
          if (local_14 < 0) {
            local_14 = 6;
          }
          else if ((local_14 == 0) && (bVar9 == 0x67)) {
            local_14 = 1;
          }
          local_4c = *param_3;
          local_48 = param_3[1];
          param_3 = param_3 + 2;
          local_c = pWVar4;
          (*(code *)PTR_FUN_00481930)(&local_4c,local_24c,(int)(char)bVar9,local_14,local_38);
          uVar2 = local_8 & 0x80;
          if ((uVar2 != 0) && (local_14 == 0)) {
            (*(code *)PTR_FUN_0048193c)(local_24c);
          }
          if ((bVar9 == 0x67) && (uVar2 == 0)) {
            (*(code *)PTR_FUN_00481934)(local_24c);
          }
          if (local_24c[0] == '-') {
            local_8 = local_8 | 0x100;
            pWVar4 = (WCHAR *)(local_24c + 1);
            local_c = pWVar4;
          }
LAB_00469d33:
          local_10 = (LPSTR)_strlen((char *)pWVar4);
          pWVar4 = local_c;
        }
      }
      else {
        if (bVar9 == 0x69) {
LAB_00469e18:
          local_8 = local_8 | 0x40;
        }
        else {
          if (bVar9 == 0x6e) {
            piVar7 = (int *)FUN_0046a112((int *)&param_3);
            if ((local_8 & 0x20) == 0) {
              *piVar7 = local_18;
            }
            else {
              *(undefined2 *)piVar7 = (undefined2)local_18;
            }
            local_2c = 1;
            break;
          }
          if (bVar9 == 0x6f) {
            local_10 = (LPSTR)0x8;
            if ((local_8 & 0x80) != 0) {
              local_8 = local_8 | 0x200;
            }
            goto LAB_00469e23;
          }
          if (bVar9 == 0x70) {
            local_14 = 8;
            goto LAB_00469db2;
          }
          if (bVar9 == 0x73) {
LAB_00469b60:
            iVar10 = local_14;
            if (local_14 == -1) {
              iVar10 = 0x7fffffff;
            }
            pWVar3 = (WCHAR *)FUN_0046a112((int *)&param_3);
            if ((local_8 & 0x810) == 0) {
              pWVar4 = pWVar3;
              if (pWVar3 == (WCHAR *)0x0) {
                pWVar3 = (WCHAR *)PTR_s__null__00481928;
                pWVar4 = (WCHAR *)PTR_s__null__00481928;
              }
              for (; (iVar10 != 0 && (*(char *)pWVar3 != '\0')); pWVar3 = (WCHAR *)((int)pWVar3 + 1)
                  ) {
                iVar10 = iVar10 + -1;
              }
              local_10 = (LPSTR)((int)pWVar3 - (int)pWVar4);
            }
            else {
              if (pWVar3 == (WCHAR *)0x0) {
                pWVar3 = (WCHAR *)PTR_DAT_0048192c;
              }
              local_28 = 1;
              for (pWVar4 = pWVar3; (iVar10 != 0 && (*pWVar4 != L'\0')); pWVar4 = pWVar4 + 1) {
                iVar10 = iVar10 + -1;
              }
              local_10 = (LPSTR)((int)pWVar4 - (int)pWVar3 >> 1);
              pWVar4 = pWVar3;
            }
            goto LAB_00469f3d;
          }
          if (bVar9 != 0x75) {
            if (bVar9 != 0x78) goto LAB_00469f3d;
            local_30 = 0x27;
            goto LAB_00469db9;
          }
        }
        local_10 = (LPSTR)0xa;
LAB_00469e23:
        if ((local_8 & 0x8000) == 0) {
          if ((local_8 & 0x20) == 0) {
            if ((local_8 & 0x40) == 0) {
              uVar2 = FUN_0046a112((int *)&param_3);
              uVar13 = (ulonglong)uVar2;
              goto LAB_00469e76;
            }
            uVar2 = FUN_0046a112((int *)&param_3);
          }
          else if ((local_8 & 0x40) == 0) {
            uVar2 = FUN_0046a112((int *)&param_3);
            uVar2 = uVar2 & 0xffff;
          }
          else {
            uVar5 = FUN_0046a112((int *)&param_3);
            uVar2 = (uint)(short)uVar5;
          }
          uVar13 = (ulonglong)(int)uVar2;
        }
        else {
          uVar13 = FUN_0046a11f((int *)&param_3);
        }
LAB_00469e76:
        iVar10 = (int)(uVar13 >> 0x20);
        if ((((local_8 & 0x40) != 0) && (iVar10 == 0 || (longlong)uVar13 < 0)) &&
           ((longlong)uVar13 < 0)) {
          local_8 = local_8 | 0x100;
          uVar13 = CONCAT44(-(iVar10 + (uint)((int)uVar13 != 0)),-(int)uVar13);
        }
        uVar2 = (uint)(uVar13 >> 0x20);
        uVar15 = uVar13 & 0xffffffff;
        if ((local_8 & 0x8000) == 0) {
          uVar2 = 0;
        }
        if (local_14 < 0) {
          local_14 = 1;
        }
        else {
          local_8 = local_8 & 0xfffffff7;
        }
        if ((int)uVar13 == 0 && uVar2 == 0) {
          local_20 = 0;
        }
        local_c = (WCHAR *)&local_4d;
        while( true ) {
          uVar11 = (uint)uVar15;
          iVar10 = local_14 + -1;
          if ((local_14 < 1) && (uVar11 == 0 && uVar2 == 0)) break;
          local_40 = (int)local_10 >> 0x1f;
          local_44 = (uint)local_10;
          local_14 = iVar10;
          uVar14 = __aullrem(uVar11,uVar2,(uint)local_10,local_40);
          iVar10 = (int)uVar14 + 0x30;
          uVar15 = __aulldiv(uVar11,uVar2,local_44,local_40);
          uVar2 = (uint)(uVar15 >> 0x20);
          if (0x39 < iVar10) {
            iVar10 = iVar10 + local_30;
          }
          pWVar4 = (WCHAR *)((int)local_c + -1);
          *(char *)local_c = (char)iVar10;
          local_c = pWVar4;
        }
        iVar1 = -(int)local_c;
        local_10 = &local_4d + iVar1;
        pWVar4 = (WCHAR *)((int)local_c + 1);
        local_14 = iVar10;
        if (((local_8 & 0x200) != 0) && ((*(char *)pWVar4 != '0' || (local_10 == (LPSTR)0x0)))) {
          *(char *)local_c = '0';
          local_10 = (LPSTR)((int)&local_4c + iVar1);
          pWVar4 = local_c;
        }
      }
LAB_00469f3d:
      local_c = pWVar4;
      uVar2 = local_8;
      if (local_2c == 0) {
        if ((local_8 & 0x40) != 0) {
          if ((local_8 & 0x100) == 0) {
            if ((local_8 & 1) == 0) {
              if ((local_8 & 2) == 0) goto LAB_00469f75;
              local_1a = ' ';
            }
            else {
              local_1a = '+';
            }
          }
          else {
            local_1a = '-';
          }
          local_20 = 1;
        }
LAB_00469f75:
        iVar10 = (local_24 - local_20) - (int)local_10;
        if ((local_8 & 0xc) == 0) {
          FUN_0046a0a9(0x20,iVar10,param_1,&local_18);
        }
        FUN_0046a0da(&local_1a,local_20,param_1,&local_18);
        if (((uVar2 & 8) != 0) && ((uVar2 & 4) == 0)) {
          FUN_0046a0a9(0x30,iVar10,param_1,&local_18);
        }
        if ((local_28 == 0) || (pCVar12 = local_10, pWVar4 = local_c, (int)local_10 < 1)) {
          FUN_0046a0da((char *)local_c,(int)local_10,param_1,&local_18);
        }
        else {
          do {
            pCVar12 = pCVar12 + -1;
            pCVar8 = FUN_0046ea57(local_3c,*pWVar4);
            if ((int)pCVar8 < 1) break;
            FUN_0046a0da(local_3c,(int)pCVar8,param_1,&local_18);
            pWVar4 = pWVar4 + 1;
          } while (pCVar12 != (LPSTR)0x0);
        }
        if ((local_8 & 4) != 0) {
          FUN_0046a0a9(0x20,iVar10,param_1,&local_18);
        }
      }
    }
    bVar9 = *param_2;
    param_2 = param_2 + 1;
  } while( true );
}



/*
 * Function: FUN_0046a074
 * Address: 0046a074
 */

void __cdecl FUN_0046a074(uint param_1,int *param_2,int *param_3)

{
  int *piVar1;
  uint uVar2;
  
  piVar1 = param_2 + 1;
  *piVar1 = *piVar1 + -1;
  if (*piVar1 < 0) {
    uVar2 = FUN_0046981b(param_1,param_2);
  }
  else {
    *(undefined *)*param_2 = (undefined)param_1;
    *param_2 = *param_2 + 1;
    uVar2 = param_1 & 0xff;
  }
  if (uVar2 == 0xffffffff) {
    *param_3 = -1;
    return;
  }
  *param_3 = *param_3 + 1;
  return;
}



/*
 * Function: FUN_0046a0a9
 * Address: 0046a0a9
 */

void __cdecl FUN_0046a0a9(uint param_1,int param_2,int *param_3,int *param_4)

{
  if (0 < param_2) {
    do {
      param_2 = param_2 + -1;
      FUN_0046a074(param_1,param_3,param_4);
      if (*param_4 == -1) {
        return;
      }
    } while (0 < param_2);
  }
  return;
}



/*
 * Function: FUN_0046a0da
 * Address: 0046a0da
 */

void __cdecl FUN_0046a0da(char *param_1,int param_2,int *param_3,int *param_4)

{
  char cVar1;
  
  if (0 < param_2) {
    do {
      param_2 = param_2 + -1;
      cVar1 = *param_1;
      param_1 = param_1 + 1;
      FUN_0046a074((int)cVar1,param_3,param_4);
      if (*param_4 == -1) {
        return;
      }
    } while (0 < param_2);
  }
  return;
}



/*
 * Function: FUN_0046a112
 * Address: 0046a112
 */

undefined4 __cdecl FUN_0046a112(int *param_1)

{
  *param_1 = *param_1 + 4;
  return *(undefined4 *)(*param_1 + -4);
}



/*
 * Function: FUN_0046a11f
 * Address: 0046a11f
 */

undefined8 __cdecl FUN_0046a11f(int *param_1)

{
  *param_1 = *param_1 + 8;
  return *(undefined8 *)(*param_1 + -8);
}



/*
 * Function: FUN_0046a12f
 * Address: 0046a12f
 */

undefined4 __cdecl FUN_0046a12f(int *param_1)

{
  *param_1 = *param_1 + 4;
  return CONCAT22((short)((uint)*param_1 >> 0x10),*(undefined2 *)(*param_1 + -4));
}



/*
 * Function: FUN_0046a13d
 * Address: 0046a13d
 */

void FUN_0046a13d(void)

{
  if (PTR_FUN_00481688 != (undefined *)0x0) {
    (*(code *)PTR_FUN_00481688)();
  }
  FUN_0046a243((undefined4 *)&DAT_0047d00c,(undefined4 *)&DAT_0047d020);
  FUN_0046a243((undefined4 *)&DAT_0047d000,(undefined4 *)&DAT_0047d008);
  return;
}



/*
 * Function: FUN_0046a16a
 * Address: 0046a16a
 */

void __cdecl FUN_0046a16a(UINT param_1)

{
  FUN_0046a18c(param_1,0,0);
  return;
}



/*
 * Function: __exit
 * Address: 0046a17b
 */

/* Library Function - Single Match
    __exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __exit(int _Code)

{
  FUN_0046a18c(_Code,1,0);
  return;
}



/*
 * Function: FUN_0046a18c
 * Address: 0046a18c
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl FUN_0046a18c(UINT param_1,int param_2,int param_3)

{
  HANDLE hProcess;
  undefined4 *puVar1;
  UINT uExitCode;
  
  FUN_0046a231();
  if (DAT_0048e320 == 1) {
    uExitCode = param_1;
    hProcess = GetCurrentProcess();
    TerminateProcess(hProcess,uExitCode);
  }
  _DAT_0048e31c = 1;
  DAT_0048e318 = (undefined)param_3;
  if (param_2 == 0) {
    if ((DAT_0048e9b0 != (undefined4 *)0x0) &&
       (puVar1 = (undefined4 *)(DAT_0048e9ac - 4), DAT_0048e9b0 <= puVar1)) {
      do {
        if ((code *)*puVar1 != (code *)0x0) {
          (*(code *)*puVar1)();
        }
        puVar1 = puVar1 + -1;
      } while (DAT_0048e9b0 <= puVar1);
    }
    FUN_0046a243((undefined4 *)&DAT_0047d024,(undefined4 *)&DAT_0047d02c);
  }
  FUN_0046a243((undefined4 *)&DAT_0047d030,(undefined4 *)&DAT_0047d038);
  if (param_3 == 0) {
    DAT_0048e320 = 1;
                    /* WARNING: Subroutine does not return */
    ExitProcess(param_1);
  }
  FUN_0046a23a();
  return;
}



/*
 * Function: FUN_0046a231
 * Address: 0046a231
 */

void FUN_0046a231(void)

{
  FUN_0046ceec(0xd);
  return;
}



/*
 * Function: FUN_0046a23a
 * Address: 0046a23a
 */

void FUN_0046a23a(void)

{
  FUN_0046cf4d(0xd);
  return;
}



/*
 * Function: FUN_0046a243
 * Address: 0046a243
 */

void __cdecl FUN_0046a243(undefined4 *param_1,undefined4 *param_2)

{
  for (; param_1 < param_2; param_1 = param_1 + 1) {
    if ((code *)*param_1 != (code *)0x0) {
      (*(code *)*param_1)();
    }
  }
  return;
}



/*
 * Function: FUN_0046a25d
 * Address: 0046a25d
 */

int * __cdecl FUN_0046a25d(int *param_1,uint *param_2)

{
  int *piVar1;
  uint *puVar2;
  int iVar3;
  uint *puVar4;
  
  if (param_1 == (int *)0x0) {
    piVar1 = (int *)_malloc((size_t)param_2);
  }
  else {
    if (param_2 == (uint *)0x0) {
      FUN_0046878d(param_1);
    }
    else {
      do {
        piVar1 = (int *)0x0;
        if (param_2 < (uint *)0xffffffe1) {
          FUN_0046ceec(9);
          puVar2 = (uint *)FUN_0046cfa0((int)param_1);
          if (puVar2 == (uint *)0x0) {
            FUN_0046cf4d(9);
            if (param_2 == (uint *)0x0) {
              param_2 = (uint *)0x1;
            }
            param_2 = (uint *)((int)param_2 + 0xfU & 0xfffffff0);
            piVar1 = (int *)HeapReAlloc(DAT_0048e880,0,param_1,(SIZE_T)param_2);
          }
          else {
            if (DAT_00481e98 < param_2) {
LAB_0046a2fc:
              if (param_2 == (uint *)0x0) {
                param_2 = (uint *)0x1;
              }
              param_2 = (uint *)((int)param_2 + 0xfU & 0xfffffff0);
              piVar1 = (int *)HeapAlloc(DAT_0048e880,0,(SIZE_T)param_2);
              if (piVar1 != (int *)0x0) {
                puVar4 = (uint *)(param_1[-1] - 1U);
                if (param_2 <= (uint *)(param_1[-1] - 1U)) {
                  puVar4 = param_2;
                }
                FUN_0046b5a0(piVar1,param_1,(uint)puVar4);
                FUN_0046cfcb(puVar2,(uint)param_1);
              }
            }
            else {
              iVar3 = FUN_0046d7ab(puVar2,(int)param_1,(int)param_2);
              piVar1 = param_1;
              if (iVar3 == 0) {
                piVar1 = FUN_0046d2f6(param_2);
                if (piVar1 == (int *)0x0) goto LAB_0046a2fc;
                puVar4 = (uint *)(param_1[-1] - 1U);
                if (param_2 <= (uint *)(param_1[-1] - 1U)) {
                  puVar4 = param_2;
                }
                FUN_0046b5a0(piVar1,param_1,(uint)puVar4);
                FUN_0046cfcb(puVar2,(uint)param_1);
              }
              if (piVar1 == (int *)0x0) goto LAB_0046a2fc;
            }
            FUN_0046cf4d(9);
          }
          if (piVar1 != (int *)0x0) {
            return piVar1;
          }
        }
        if (DAT_0048e498 == 0) {
          return piVar1;
        }
        iVar3 = FUN_0046daa1(param_2);
      } while (iVar3 != 0);
    }
    piVar1 = (int *)0x0;
  }
  return piVar1;
}



/*
 * Function: FUN_0046a3da
 * Address: 0046a3da
 */

void __fastcall FUN_0046a3da(void *param_1)

{
  FUN_0046ec3a(param_1,0x10000,0x30000);
  return;
}



/*
 * Function: FUN_0046a3ec
 * Address: 0046a3ec
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_0046a3ec(void)

{
  if (_DAT_004751c0 < _DAT_00476fa8 - (_DAT_00476fa8 / _DAT_00476fb0) * _DAT_00476fb0) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_0046a42a
 * Address: 0046a42a
 */

void FUN_0046a42a(void)

{
  HMODULE hModule;
  FARPROC pFVar1;
  
  hModule = GetModuleHandleA("KERNEL32");
  if (hModule != (HMODULE)0x0) {
    pFVar1 = GetProcAddress(hModule,"IsProcessorFeaturePresent");
    if (pFVar1 != (FARPROC)0x0) {
      (*pFVar1)(0);
      return;
    }
  }
  FUN_0046a3ec();
  return;
}



/*
 * Function: FUN_0046a453
 * Address: 0046a453
 */

void __cdecl FUN_0046a453(char *param_1)

{
  char cVar1;
  char cVar2;
  undefined *this;
  uint uVar3;
  undefined *puVar4;
  
  this = (undefined *)(int)*param_1;
  uVar3 = FUN_0046ed6b((uint)this);
  if (uVar3 != 0x65) {
    do {
      param_1 = param_1 + 1;
      if (DAT_00481c8c < 2) {
        uVar3 = (byte)PTR_DAT_00481a80[*param_1 * 2] & 4;
        this = PTR_DAT_00481a80;
      }
      else {
        puVar4 = (undefined *)0x4;
        uVar3 = FUN_0046c40b(this,(int)*param_1,4);
        this = puVar4;
      }
    } while (uVar3 != 0);
  }
  cVar2 = *param_1;
  *param_1 = DAT_00481c90;
  do {
    param_1 = param_1 + 1;
    cVar1 = *param_1;
    *param_1 = cVar2;
    cVar2 = cVar1;
  } while (*param_1 != '\0');
  return;
}



/*
 * Function: __fassign
 * Address: 0046a513
 */

/* Library Function - Single Match
    __fassign
   
   Library: Visual Studio 2003 Release */

void __cdecl __fassign(int flag,char *argument,char *number)

{
  void *in_ECX;
  void *local_c;
  void *local_8;
  
  if (flag != 0) {
    local_c = in_ECX;
    local_8 = in_ECX;
    FUN_0046f237(in_ECX,(uint *)&local_c,(byte *)number);
    *(void **)argument = local_c;
    *(void **)(argument + 4) = local_8;
    return;
  }
  FUN_0046f264(in_ECX,(uint *)&number,(byte *)number);
  *(char **)argument = number;
  return;
}



/*
 * Function: FUN_0046a551
 * Address: 0046a551
 */

undefined * __cdecl FUN_0046a551(undefined8 *param_1,undefined *param_2,int param_3,int param_4)

{
  uint local_2c [6];
  int local_14 [4];
  
  FUN_0046f308((int)*param_1,(int)((ulonglong)*param_1 >> 0x20),local_14,local_2c);
  FUN_0046f291(param_2 + (uint)(0 < param_3) + (uint)(local_14[0] == 0x2d),param_3 + 1,(int)local_14
              );
  FUN_0046a5b2(param_2,param_3,param_4,local_14,'\0');
  return param_2;
}



/*
 * Function: FUN_0046a5b2
 * Address: 0046a5b2
 */

undefined * __cdecl
FUN_0046a5b2(undefined *param_1,int param_2,int param_3,int *param_4,char param_5)

{
  undefined *puVar1;
  undefined *puVar2;
  uint *puVar3;
  int iVar4;
  
  if (param_5 != '\0') {
    FUN_0046a854(param_1 + (*param_4 == 0x2d),(uint)(0 < param_2));
  }
  puVar1 = param_1;
  if (*param_4 == 0x2d) {
    *param_1 = 0x2d;
    puVar1 = param_1 + 1;
  }
  puVar2 = puVar1;
  if (0 < param_2) {
    puVar2 = puVar1 + 1;
    *puVar1 = puVar1[1];
    *puVar2 = DAT_00481c90;
  }
  puVar3 = FUN_0046f420((uint *)(puVar2 + param_2 + (uint)(param_5 == '\0')),(uint *)"e+000");
  if (param_3 != 0) {
    *(undefined *)puVar3 = 0x45;
  }
  if (*(char *)param_4[3] != '0') {
    iVar4 = param_4[1] + -1;
    if (iVar4 < 0) {
      iVar4 = -iVar4;
      *(undefined *)((int)puVar3 + 1) = 0x2d;
    }
    if (99 < iVar4) {
      *(char *)((int)puVar3 + 2) = *(char *)((int)puVar3 + 2) + (char)(iVar4 / 100);
      iVar4 = iVar4 % 100;
    }
    if (9 < iVar4) {
      *(char *)((int)puVar3 + 3) = *(char *)((int)puVar3 + 3) + (char)(iVar4 / 10);
      iVar4 = iVar4 % 10;
    }
    *(char *)(puVar3 + 1) = *(char *)(puVar3 + 1) + (char)iVar4;
  }
  return param_1;
}



/*
 * Function: FUN_0046a674
 * Address: 0046a674
 */

char * __cdecl FUN_0046a674(undefined8 *param_1,char *param_2,size_t param_3)

{
  uint local_2c [6];
  int local_14;
  int local_10;
  
  FUN_0046f308((int)*param_1,(int)((ulonglong)*param_1 >> 0x20),&local_14,local_2c);
  FUN_0046f291(param_2 + (local_14 == 0x2d),local_10 + param_3,(int)&local_14);
  FUN_0046a6c9(param_2,param_3,&local_14,'\0');
  return param_2;
}



/*
 * Function: FUN_0046a6c9
 * Address: 0046a6c9
 */

char * __cdecl FUN_0046a6c9(char *param_1,size_t param_2,int *param_3,char param_4)

{
  int iVar1;
  int iVar2;
  char *pcVar3;
  
  iVar1 = param_3[1];
  if ((param_4 != '\0') && (iVar1 - 1U == param_2)) {
    iVar2 = *param_3;
    param_1[(uint)(iVar2 == 0x2d) + (iVar1 - 1U)] = '0';
    (param_1 + (uint)(iVar2 == 0x2d) + (iVar1 - 1U))[1] = '\0';
  }
  pcVar3 = param_1;
  if (*param_3 == 0x2d) {
    *param_1 = '-';
    pcVar3 = param_1 + 1;
  }
  if (param_3[1] < 1) {
    FUN_0046a854(pcVar3,1);
    *pcVar3 = '0';
    pcVar3 = pcVar3 + 1;
  }
  else {
    pcVar3 = pcVar3 + param_3[1];
  }
  if (0 < (int)param_2) {
    FUN_0046a854(pcVar3,1);
    *pcVar3 = DAT_00481c90;
    iVar1 = param_3[1];
    if (iVar1 < 0) {
      if ((param_4 != '\0') || (SBORROW4(param_2,-iVar1) == (int)(param_2 + iVar1) < 0)) {
        param_2 = -iVar1;
      }
      FUN_0046a854(pcVar3 + 1,param_2);
      _memset(pcVar3 + 1,0x30,param_2);
    }
  }
  return param_1;
}



/*
 * Function: FUN_0046a770
 * Address: 0046a770
 */

void __cdecl FUN_0046a770(undefined8 *param_1,char *param_2,size_t param_3,int param_4)

{
  int iVar1;
  char *pcVar2;
  char *pcVar3;
  uint local_2c [6];
  int local_14;
  int local_10;
  
  FUN_0046f308((int)*param_1,(int)((ulonglong)*param_1 >> 0x20),&local_14,local_2c);
  iVar1 = local_10 + -1;
  FUN_0046f291(param_2 + (local_14 == 0x2d),param_3,(int)&local_14);
  local_10 = local_10 + -1;
  if ((local_10 < -4) || ((int)param_3 <= local_10)) {
    FUN_0046a5b2(param_2,param_3,param_4,&local_14,'\x01');
  }
  else {
    pcVar2 = param_2 + (local_14 == 0x2d);
    if (iVar1 < local_10) {
      do {
        pcVar3 = pcVar2;
        pcVar2 = pcVar3 + 1;
      } while (*pcVar3 != '\0');
      pcVar3[-1] = '\0';
    }
    FUN_0046a6c9(param_2,param_3,&local_14,'\x01');
  }
  return;
}



/*
 * Function: __cfltcvt
 * Address: 0046a803
 */

/* Library Function - Single Match
    __cfltcvt
   
   Library: Visual Studio 2003 Release */

errno_t __cdecl
__cfltcvt(double *arg,char *buffer,size_t sizeInBytes,int format,int precision,int caps)

{
  char *pcVar1;
  undefined *puVar2;
  
  if ((sizeInBytes == 0x65) || (sizeInBytes == 0x45)) {
    puVar2 = FUN_0046a551(arg,buffer,format,precision);
  }
  else {
    if (sizeInBytes == 0x66) {
      pcVar1 = FUN_0046a674(arg,buffer,format);
      return (errno_t)pcVar1;
    }
    puVar2 = (undefined *)FUN_0046a770(arg,buffer,format,precision);
  }
  return (errno_t)puVar2;
}



/*
 * Function: FUN_0046a854
 * Address: 0046a854
 */

void __cdecl FUN_0046a854(char *param_1,int param_2)

{
  size_t sVar1;
  
  if (param_2 != 0) {
    sVar1 = _strlen(param_1);
    FUN_0046dc00((undefined4 *)(param_1 + param_2),(undefined4 *)param_1,sVar1 + 1);
  }
  return;
}



/*
 * Function: FUN_0046a879
 * Address: 0046a879
 */

float10 __cdecl FUN_0046a879(int param_1,double param_2,double param_3)

{
  DWORD *pDVar1;
  float10 fVar2;
  undefined4 in_stack_00000018;
  
  if (DAT_00482040 == 0) {
    fVar2 = FUN_0046ae48(1,param_1);
    return fVar2;
  }
  pDVar1 = FUN_0046e0cd();
  *pDVar1 = 0x21;
  FUN_0046b127(in_stack_00000018,0xffff);
  return (float10)(param_2 + param_3);
}



/*
 * Function: FUN_0046a8d9
 * Address: 0046a8d9
 */

float10 __cdecl
FUN_0046a8d9(uint param_1,uint param_2,undefined8 param_3,undefined8 param_4,double param_5,
            uint param_6)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  float10 fVar3;
  uint local_5c [10];
  undefined8 local_34;
  uint local_24;
  
  bVar1 = FUN_0046ac31(param_1,&param_5,param_6);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    local_24 = local_24 & 0xffffffe3 | 3;
    local_34 = param_4;
    FUN_0046a97e(local_5c,&param_6,param_1,param_2,&param_3,&param_5);
  }
  iVar2 = FUN_0046af1d((byte)param_1);
  if ((DAT_00482040 == 0) && (iVar2 != 0)) {
    fVar3 = FUN_0046ae48(iVar2,param_2);
    return fVar3;
  }
  FUN_0046aed0(iVar2);
  FUN_0046b127(param_6,0xffff);
  return (float10)param_5;
}



/*
 * Function: FUN_0046a97e
 * Address: 0046a97e
 */

void __cdecl
FUN_0046a97e(uint *param_1,uint *param_2,uint param_3,uint param_4,undefined8 *param_5,
            undefined8 *param_6)

{
  uint *puVar1;
  undefined8 *puVar2;
  uint uVar3;
  
  uVar3 = param_3;
  puVar1 = param_2;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  if ((param_3 & 0x10) != 0) {
    param_3 = 0xc000008f;
    param_1[1] = param_1[1] | 1;
  }
  if ((uVar3 & 2) != 0) {
    param_3 = 0xc0000093;
    param_1[1] = param_1[1] | 2;
  }
  if ((uVar3 & 1) != 0) {
    param_3 = 0xc0000091;
    param_1[1] = param_1[1] | 4;
  }
  if ((uVar3 & 4) != 0) {
    param_3 = 0xc000008e;
    param_1[1] = param_1[1] | 8;
  }
  if ((uVar3 & 8) != 0) {
    param_3 = 0xc0000090;
    param_1[1] = param_1[1] | 0x10;
  }
  param_1[2] = (~*param_2 & 1) << 4 | param_1[2] & 0xffffffef;
  param_1[2] = (~*param_2 & 4) << 1 | param_1[2] & 0xfffffff7;
  param_1[2] = ~*param_2 >> 1 & 4 | param_1[2] & 0xfffffffb;
  param_1[2] = ~*param_2 >> 3 & 2 | param_1[2] & 0xfffffffd;
  param_1[2] = ~*param_2 >> 5 & 1 | param_1[2] & 0xfffffffe;
  uVar3 = FUN_0046b10a();
  puVar2 = param_6;
  if ((uVar3 & 1) != 0) {
    param_1[3] = param_1[3] | 0x10;
  }
  if ((uVar3 & 4) != 0) {
    param_1[3] = param_1[3] | 8;
  }
  if ((uVar3 & 8) != 0) {
    param_1[3] = param_1[3] | 4;
  }
  if ((uVar3 & 0x10) != 0) {
    param_1[3] = param_1[3] | 2;
  }
  if ((uVar3 & 0x20) != 0) {
    param_1[3] = param_1[3] | 1;
  }
  uVar3 = *puVar1 & 0xc00;
  if (uVar3 == 0) {
    *param_1 = *param_1 & 0xfffffffc;
  }
  else {
    if (uVar3 == 0x400) {
      uVar3 = *param_1 & 0xfffffffd | 1;
    }
    else {
      if (uVar3 != 0x800) {
        if (uVar3 == 0xc00) {
          *param_1 = *param_1 | 3;
        }
        goto LAB_0046aaf3;
      }
      uVar3 = *param_1 & 0xfffffffe | 2;
    }
    *param_1 = uVar3;
  }
LAB_0046aaf3:
  uVar3 = *puVar1 & 0x300;
  if (uVar3 == 0) {
    uVar3 = *param_1 & 0xffffffeb | 8;
LAB_0046ab29:
    *param_1 = uVar3;
  }
  else {
    if (uVar3 == 0x200) {
      uVar3 = *param_1 & 0xffffffe7 | 4;
      goto LAB_0046ab29;
    }
    if (uVar3 == 0x300) {
      *param_1 = *param_1 & 0xffffffe3;
    }
  }
  *param_1 = (param_4 & 0xfff) << 5 | *param_1 & 0xfffe001f;
  param_1[8] = param_1[8] | 1;
  param_1[8] = param_1[8] & 0xffffffe3 | 2;
  *(undefined8 *)(param_1 + 4) = *param_5;
  param_1[0x14] = param_1[0x14] | 1;
  param_1[0x14] = param_1[0x14] & 0xffffffe3 | 2;
  *(undefined8 *)(param_1 + 0x10) = *param_6;
  FUN_0046b118();
  RaiseException(param_3,0,1,(ULONG_PTR *)&param_1);
  if ((*(byte *)(param_1 + 2) & 0x10) != 0) {
    *puVar1 = *puVar1 & 0xfffffffe;
  }
  if ((*(byte *)(param_1 + 2) & 8) != 0) {
    *puVar1 = *puVar1 & 0xfffffffb;
  }
  if ((*(byte *)(param_1 + 2) & 4) != 0) {
    *puVar1 = *puVar1 & 0xfffffff7;
  }
  if ((*(byte *)(param_1 + 2) & 2) != 0) {
    *puVar1 = *puVar1 & 0xffffffef;
  }
  if ((*(byte *)(param_1 + 2) & 1) != 0) {
    *puVar1 = *puVar1 & 0xffffffdf;
  }
  uVar3 = *param_1 & 3;
  if (uVar3 == 0) {
    *puVar1 = *puVar1 & 0xfffff3ff;
  }
  else {
    if (uVar3 == 1) {
      uVar3 = *puVar1 & 0xfffff7ff | 0x400;
    }
    else {
      if (uVar3 != 2) {
        if (uVar3 == 3) {
          *(byte *)((int)puVar1 + 1) = *(byte *)((int)puVar1 + 1) | 0xc;
        }
        goto LAB_0046abfe;
      }
      uVar3 = *puVar1 & 0xfffffbff | 0x800;
    }
    *puVar1 = uVar3;
  }
LAB_0046abfe:
  uVar3 = *param_1 >> 2 & 7;
  if (uVar3 == 0) {
    uVar3 = *puVar1 & 0xfffff3ff | 0x300;
  }
  else {
    if (uVar3 != 1) {
      if (uVar3 == 2) {
        *puVar1 = *puVar1 & 0xfffff3ff;
      }
      goto LAB_0046ac27;
    }
    uVar3 = *puVar1 & 0xfffff3ff | 0x200;
  }
  *puVar1 = uVar3;
LAB_0046ac27:
  *puVar2 = *(undefined8 *)(param_1 + 0x10);
  return;
}



/*
 * Function: FUN_0046ac31
 * Address: 0046ac31
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

bool __cdecl FUN_0046ac31(uint param_1,double *param_2,uint param_3)

{
  double dVar1;
  bool bVar2;
  uint uVar3;
  bool bVar4;
  float10 fVar5;
  undefined8 local_10;
  int local_8;
  
  uVar3 = param_1 & 0x1f;
  bVar2 = true;
  if (((param_1 & 8) != 0) && ((param_3 & 1) != 0)) {
    FUN_0046b14a(1);
    uVar3 = param_1 & 0x17;
    goto LAB_0046ae26;
  }
  if (((param_1 & 4) != 0) && ((param_3 & 4) != 0)) {
    FUN_0046b14a(4);
    uVar3 = param_1 & 0x1b;
    goto LAB_0046ae26;
  }
  if (((param_1 & 1) == 0) || ((param_3 & 8) == 0)) {
    if (((param_1 & 2) != 0) && ((param_3 & 0x10) != 0)) {
      bVar4 = (param_1 & 0x10) != 0;
      dVar1 = *param_2;
      if (dVar1 != _DAT_00475168) {
        fVar5 = FUN_0046af87(SUB84(dVar1,0),(uint)((ulonglong)dVar1 >> 0x20),&local_8);
        local_8 = local_8 + -0x600;
        if (local_8 < -0x432) {
          local_10 = 0.0;
          bVar4 = bVar2;
        }
        else {
          local_10 = (double)(ulonglong)
                             (SUB87((double)fVar5,0) & 0xfffffffffffff | 0x10000000000000);
          if (local_8 < -0x3fd) {
            local_8 = -0x3fd - local_8;
            do {
              if ((((ulonglong)local_10 & 1) != 0) && (!bVar4)) {
                bVar4 = bVar2;
              }
              uVar3 = (uint)local_10 >> 1;
              if (((ulonglong)local_10 & 0x100000000) != 0) {
                local_10._3_1_ = (byte)((ulonglong)local_10 >> 0x18) >> 1;
                local_10._0_3_ = (undefined3)uVar3;
                local_10._0_4_ = CONCAT13(local_10._3_1_,(undefined3)local_10) | 0x80000000;
                uVar3 = (uint)local_10;
              }
              local_10._0_4_ = uVar3;
              local_10 = (double)CONCAT44(local_10._4_4_ >> 1,(uint)local_10);
              local_8 = local_8 + -1;
            } while (local_8 != 0);
          }
          if ((double)fVar5 < _DAT_00475168) {
            local_10 = -local_10;
          }
        }
        *param_2 = local_10;
        bVar2 = bVar4;
      }
      if (bVar2) {
        FUN_0046b14a(0x10);
      }
      uVar3 = param_1 & 0x1d;
    }
    goto LAB_0046ae26;
  }
  FUN_0046b14a(8);
  uVar3 = param_3 & 0xc00;
  dVar1 = _DAT_00481a20;
  if (uVar3 == 0) {
    if (*param_2 <= _DAT_00475168) {
      dVar1 = -_DAT_00481a20;
    }
LAB_0046ad46:
    *param_2 = dVar1;
  }
  else {
    if (uVar3 == 0x400) {
      dVar1 = _DAT_00481a30;
      if (*param_2 <= _DAT_00475168) {
        dVar1 = -_DAT_00481a20;
      }
      goto LAB_0046ad46;
    }
    if (uVar3 == 0x800) {
      if (*param_2 <= _DAT_00475168) {
        dVar1 = -_DAT_00481a30;
      }
      goto LAB_0046ad46;
    }
    if (uVar3 == 0xc00) {
      dVar1 = _DAT_00481a30;
      if (*param_2 <= _DAT_00475168) {
        dVar1 = -_DAT_00481a30;
      }
      goto LAB_0046ad46;
    }
  }
  uVar3 = param_1 & 0x1e;
LAB_0046ae26:
  if (((param_1 & 0x10) != 0) && ((param_3 & 0x20) != 0)) {
    FUN_0046b14a(0x20);
    uVar3 = uVar3 & 0xffffffef;
  }
  return uVar3 == 0;
}



/*
 * Function: FUN_0046ae48
 * Address: 0046ae48
 */

float10 __cdecl FUN_0046ae48(int param_1,int param_2)

{
  undefined *puVar1;
  int iVar2;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  
  puVar1 = FUN_0046aef8(param_2);
  if (puVar1 != (undefined *)0x0) {
    FUN_0046b127(in_stack_00000024,0xffff);
    iVar2 = FUN_0046f571();
    if (iVar2 == 0) {
      FUN_0046aed0(param_1);
    }
    return (float10)(double)CONCAT44(in_stack_00000020,in_stack_0000001c);
  }
  FUN_0046b127(in_stack_00000024,0xffff);
  FUN_0046aed0(param_1);
  return (float10)(double)CONCAT44(in_stack_00000020,in_stack_0000001c);
}



/*
 * Function: FUN_0046aed0
 * Address: 0046aed0
 */

void __cdecl FUN_0046aed0(int param_1)

{
  DWORD *pDVar1;
  
  if (param_1 == 1) {
    pDVar1 = FUN_0046e0cd();
    *pDVar1 = 0x21;
  }
  else if ((1 < param_1) && (param_1 < 4)) {
    pDVar1 = FUN_0046e0cd();
    *pDVar1 = 0x22;
    return;
  }
  return;
}



/*
 * Function: FUN_0046aef8
 * Address: 0046aef8
 */

undefined * __cdecl FUN_0046aef8(int param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = &DAT_00481948;
  do {
    if (*piVar1 == param_1) {
      return (&PTR_DAT_0048194c)[iVar2 * 2];
    }
    piVar1 = piVar1 + 2;
    iVar2 = iVar2 + 1;
  } while ((int)piVar1 < 0x481a20);
  return (undefined *)0x0;
}



/*
 * Function: FUN_0046af1d
 * Address: 0046af1d
 */

int __cdecl FUN_0046af1d(byte param_1)

{
  undefined4 uStack_4;
  
  if ((param_1 & 0x20) == 0) {
    if ((param_1 & 8) == 0) {
      if ((param_1 & 4) == 0) {
        if ((param_1 & 1) == 0) {
          return (param_1 & 2) << 1;
        }
        uStack_4 = 3;
      }
      else {
        uStack_4 = 2;
      }
    }
    else {
      uStack_4 = 1;
    }
  }
  else {
    uStack_4 = 5;
  }
  return uStack_4;
}



/*
 * Function: FUN_0046af4a
 * Address: 0046af4a
 */

float10 __cdecl FUN_0046af4a(undefined8 param_1,short param_2)

{
  undefined8 local_c;
  
  local_c = (double)CONCAT26((param_2 + 0x3fe) * 0x10 | param_1._6_2_ & 0x800f,(int6)param_1);
  return (float10)local_c;
}



/*
 * Function: FUN_0046af73
 * Address: 0046af73
 */

int __cdecl FUN_0046af73(undefined4 param_1,undefined8 param_2)

{
  return (int)(short)(((ushort)(param_2._2_4_ >> 4) & 0x7ff) - 0x3fe);
}



/*
 * Function: FUN_0046af87
 * Address: 0046af87
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

float10 __cdecl FUN_0046af87(uint param_1,uint param_2,int *param_3)

{
  ushort uVar1;
  int iVar2;
  bool bVar3;
  int iVar4;
  float10 fVar5;
  undefined8 local_c;
  
  if ((double)CONCAT17(param_2._3_1_,CONCAT16(param_2._2_1_,CONCAT24((ushort)param_2,param_1))) ==
      _DAT_00475168) {
    iVar4 = 0;
    local_c = 0.0;
  }
  else if (((param_2 & 0x7ff00000) == 0) && (((param_2 & 0xfffff) != 0 || (param_1 != 0)))) {
    iVar4 = -0x3fd;
    if (_DAT_00475168 <=
        (double)CONCAT17(param_2._3_1_,CONCAT16(param_2._2_1_,CONCAT24((ushort)param_2,param_1)))) {
      bVar3 = false;
    }
    else {
      bVar3 = true;
    }
    while ((param_2._2_1_ & 0x10) == 0) {
      iVar2 = CONCAT13(param_2._3_1_,CONCAT12(param_2._2_1_,(ushort)param_2)) << 1;
      param_2._0_2_ = (ushort)iVar2;
      param_2._2_1_ = (byte)((uint)iVar2 >> 0x10);
      param_2._3_1_ = (byte)((uint)iVar2 >> 0x18);
      if ((param_1 & 0x80000000) != 0) {
        param_2._0_2_ = (ushort)param_2 | 1;
      }
      param_1 = param_1 << 1;
      iVar4 = iVar4 + -1;
    }
    uVar1 = CONCAT11(param_2._3_1_,param_2._2_1_) & 0xffef;
    param_2._2_1_ = (byte)uVar1;
    param_2._3_1_ = (byte)(uVar1 >> 8);
    if (bVar3) {
      param_2._3_1_ = param_2._3_1_ | 0x80;
    }
    fVar5 = FUN_0046af4a(CONCAT17(param_2._3_1_,
                                  CONCAT16(param_2._2_1_,CONCAT24((ushort)param_2,param_1))),0);
    local_c = (double)fVar5;
  }
  else {
    fVar5 = FUN_0046af4a(CONCAT17(param_2._3_1_,
                                  CONCAT16(param_2._2_1_,CONCAT24((ushort)param_2,param_1))),0);
    local_c = (double)fVar5;
    iVar4 = (short)((ushort)(param_2 >> 0x14) & 0x7ff) + -0x3fe;
  }
  *param_3 = iVar4;
  return (float10)local_c;
}



/*
 * Function: FUN_0046b050
 * Address: 0046b050
 */

void FUN_0046b050(void)

{
  float10 in_ST0;
  double dVar1;
  
  dVar1 = (double)in_ST0;
  FUN_0046f838(SUB84(dVar1,0),(uint)((ulonglong)dVar1 >> 0x20));
  FUN_0046b06d(SUB84(dVar1,0),(uint)((ulonglong)dVar1 >> 0x20));
  return;
}



/*
 * Function: FUN_0046b064
 * Address: 0046b064
 */

uint __thiscall FUN_0046b064(void *this,uint param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  undefined2 extraout_var;
  undefined in_ZF;
  short in_FPUControlWord;
  undefined4 unaff_retaddr;
  ushort uVar3;
  undefined4 uVar4;
  
  __fload_withFB(this,(int)&param_1);
  uVar4 = CONCAT22(extraout_var,in_FPUControlWord);
  if ((bool)in_ZF) {
    if (((param_2 & 0xfffff) != 0) || (param_1 != 0)) {
      uVar2 = FUN_0046f7dc();
      uVar3 = (ushort)uVar4;
      goto LAB_0046b0eb;
    }
    uVar2 = param_2 & 0x80000000;
    uVar1 = uVar2;
joined_r0x0046b0dc:
    uVar3 = (ushort)uVar4;
    if (uVar1 == 0) {
LAB_0046b08e:
      if (DAT_0048e2c8 != 0) {
        return uVar2;
      }
      uVar2 = __math_exit(&DAT_00481a50,5,unaff_retaddr,param_1,param_2);
      return uVar2;
    }
  }
  else {
    uVar2 = param_2;
    if (in_FPUControlWord != 0x27f) {
      uVar2 = FUN_0046f7c5(uVar4);
    }
    uVar3 = (ushort)uVar4;
    if ((uVar2 & 0x80000000) == 0) goto LAB_0046b08e;
    if (((uVar2 & 0x7ff00000) == 0) && (uVar1 = param_1, (uVar2 & 0xfffff) == 0))
    goto joined_r0x0046b0dc;
  }
  uVar2 = 1;
LAB_0046b0eb:
  if (DAT_0048e2c8 != 0) {
    return uVar2;
  }
  __startOneArgErrorHandling(&DAT_00481a50,5,uVar3,unaff_retaddr,param_1,param_2);
  return uVar2;
}



/*
 * Function: FUN_0046b06d
 * Address: 0046b06d
 */

uint __cdecl FUN_0046b06d(int param_1,uint param_2)

{
  uint uVar1;
  undefined4 in_EDX;
  bool in_ZF;
  short in_FPUControlWord;
  undefined4 unaff_retaddr;
  ushort uVar2;
  undefined4 uVar3;
  
  uVar3 = CONCAT22((short)((uint)in_EDX >> 0x10),in_FPUControlWord);
  if (in_ZF) {
    if (((param_2 & 0xfffff) != 0) || (param_1 != 0)) {
      uVar1 = FUN_0046f7dc();
      uVar2 = (ushort)uVar3;
      goto LAB_0046b0eb;
    }
    uVar1 = param_2 & 0x80000000;
    if (uVar1 == 0) goto LAB_0046b08e;
  }
  else {
    uVar1 = param_2;
    if (in_FPUControlWord != 0x27f) {
      uVar1 = FUN_0046f7c5(uVar3);
    }
    if (((uVar1 & 0x80000000) == 0) ||
       ((((uVar1 & 0x7ff00000) == 0 && ((uVar1 & 0xfffff) == 0)) && (param_1 == 0)))) {
LAB_0046b08e:
      if (DAT_0048e2c8 != 0) {
        return uVar1;
      }
      uVar1 = __math_exit(&DAT_00481a50,5,unaff_retaddr,param_1,param_2);
      return uVar1;
    }
  }
  uVar2 = (ushort)uVar3;
  uVar1 = 1;
LAB_0046b0eb:
  if (DAT_0048e2c8 != 0) {
    return uVar1;
  }
  __startOneArgErrorHandling(&DAT_00481a50,5,uVar2,unaff_retaddr,param_1,param_2);
  return uVar1;
}



/*
 * Function: FUN_0046b10a
 * Address: 0046b10a
 */

int FUN_0046b10a(void)

{
  short in_FPUStatusWord;
  
  return (int)in_FPUStatusWord;
}



/*
 * Function: FUN_0046b118
 * Address: 0046b118
 */

int FUN_0046b118(void)

{
  short in_FPUStatusWord;
  
  return (int)in_FPUStatusWord;
}



/*
 * Function: FUN_0046b127
 * Address: 0046b127
 */

int FUN_0046b127(undefined4 param_1,undefined4 param_2)

{
  short in_FPUControlWord;
  
  return (int)in_FPUControlWord;
}



/*
 * Function: FUN_0046b14a
 * Address: 0046b14a
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0046b14a(undefined4 param_1)

{
  return;
}



/*
 * Function: FUN_0046b265
 * Address: 0046b265
 */

void FUN_0046b265(int param_1)

{
  __local_unwind2(*(int *)(param_1 + 0x18),*(int *)(param_1 + 0x1c));
  return;
}



/*
 * Function: FUN_0046b280
 * Address: 0046b280
 */

uint __cdecl FUN_0046b280(undefined4 *param_1)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  undefined *puVar4;
  
  uVar2 = param_1[3];
  if (((uVar2 & 0x83) != 0) && ((uVar2 & 0x40) == 0)) {
    if ((uVar2 & 2) == 0) {
      param_1[3] = uVar2 | 1;
      if ((uVar2 & 0x10c) == 0) {
        FUN_0046e9ea(param_1);
      }
      else {
        *param_1 = param_1[2];
      }
      iVar3 = FUN_0046b35c(param_1[4],(char *)param_1[2],(char *)param_1[6]);
      param_1[1] = iVar3;
      if ((iVar3 != 0) && (iVar3 != -1)) {
        if ((param_1[3] & 0x82) == 0) {
          uVar2 = param_1[4];
          if (uVar2 == 0xffffffff) {
            puVar4 = &DAT_00481d20;
          }
          else {
            puVar4 = (undefined *)((&DAT_0048e8a0)[(int)uVar2 >> 5] + (uVar2 & 0x1f) * 0x24);
          }
          if ((puVar4[4] & 0x82) == 0x82) {
            param_1[3] = param_1[3] | 0x2000;
          }
        }
        if (((param_1[6] == 0x200) && ((param_1[3] & 8) != 0)) && ((param_1[3] & 0x400) == 0)) {
          param_1[6] = 0x1000;
        }
        param_1[1] = iVar3 + -1;
        bVar1 = *(byte *)*param_1;
        *param_1 = (byte *)*param_1 + 1;
        return (uint)bVar1;
      }
      param_1[3] = param_1[3] | (-(uint)(iVar3 != 0) & 0x10) + 0x10;
      param_1[1] = 0;
    }
    else {
      param_1[3] = uVar2 | 0x20;
    }
  }
  return 0xffffffff;
}



/*
 * Function: FUN_0046b35c
 * Address: 0046b35c
 */

int __cdecl FUN_0046b35c(uint param_1,char *param_2,char *param_3)

{
  int iVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_0048e9a0) &&
     ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_0046e33f(param_1);
    iVar1 = FUN_0046b3c1(param_1,param_2,param_3);
    FUN_0046e39e(param_1);
    return iVar1;
  }
  pDVar2 = FUN_0046e0cd();
  *pDVar2 = 9;
  pDVar2 = FUN_0046e0d6();
  *pDVar2 = 0;
  return -1;
}



/*
 * Function: FUN_0046b3c1
 * Address: 0046b3c1
 */

int __cdecl FUN_0046b3c1(uint param_1,char *param_2,char *param_3)

{
  int *piVar1;
  byte *pbVar2;
  char cVar3;
  byte bVar4;
  BOOL BVar5;
  DWORD DVar6;
  DWORD *pDVar7;
  char *pcVar8;
  int iVar9;
  DWORD local_10;
  char *local_c;
  char local_5;
  
  local_c = (char *)0x0;
  if (param_3 != (char *)0x0) {
    piVar1 = &DAT_0048e8a0 + ((int)param_1 >> 5);
    iVar9 = (param_1 & 0x1f) * 0x24;
    bVar4 = *(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + iVar9 + 4);
    if ((bVar4 & 2) == 0) {
      pcVar8 = param_2;
      if (((bVar4 & 0x48) != 0) &&
         (cVar3 = *(char *)((&DAT_0048e8a0)[(int)param_1 >> 5] + iVar9 + 5), cVar3 != '\n')) {
        param_3 = param_3 + -1;
        *param_2 = cVar3;
        pcVar8 = param_2 + 1;
        local_c = (char *)0x1;
        *(undefined *)(*piVar1 + 5 + iVar9) = 10;
      }
      BVar5 = ReadFile(*(HANDLE *)(*piVar1 + iVar9),pcVar8,(DWORD)param_3,&local_10,
                       (LPOVERLAPPED)0x0);
      if (BVar5 == 0) {
        DVar6 = GetLastError();
        if (DVar6 == 5) {
          pDVar7 = FUN_0046e0cd();
          *pDVar7 = 9;
          pDVar7 = FUN_0046e0d6();
          *pDVar7 = 5;
        }
        else {
          if (DVar6 == 0x6d) {
            return 0;
          }
          FUN_0046e05a(DVar6);
        }
        return -1;
      }
      bVar4 = *(byte *)(*piVar1 + 4 + iVar9);
      if ((bVar4 & 0x80) == 0) {
        return (int)local_c + local_10;
      }
      if ((local_10 == 0) || (*param_2 != '\n')) {
        bVar4 = bVar4 & 0xfb;
      }
      else {
        bVar4 = bVar4 | 4;
      }
      *(byte *)(*piVar1 + 4 + iVar9) = bVar4;
      param_3 = param_2;
      local_c = param_2 + (int)local_c + local_10;
      pcVar8 = param_2;
      if (param_2 < local_c) {
        do {
          cVar3 = *param_3;
          if (cVar3 == '\x1a') {
            pbVar2 = (byte *)(*piVar1 + 4 + iVar9);
            bVar4 = *pbVar2;
            if ((bVar4 & 0x40) == 0) {
              *pbVar2 = bVar4 | 2;
            }
            break;
          }
          if (cVar3 == '\r') {
            if (param_3 < local_c + -1) {
              if (param_3[1] == '\n') {
                param_3 = param_3 + 2;
                goto LAB_0046b54c;
              }
              *pcVar8 = '\r';
              pcVar8 = pcVar8 + 1;
              param_3 = param_3 + 1;
            }
            else {
              param_3 = param_3 + 1;
              BVar5 = ReadFile(*(HANDLE *)(*piVar1 + iVar9),&local_5,1,&local_10,(LPOVERLAPPED)0x0);
              if (((BVar5 == 0) && (DVar6 = GetLastError(), DVar6 != 0)) || (local_10 == 0)) {
LAB_0046b566:
                *pcVar8 = '\r';
LAB_0046b569:
                pcVar8 = pcVar8 + 1;
              }
              else if ((*(byte *)(*piVar1 + 4 + iVar9) & 0x48) == 0) {
                if ((pcVar8 == param_2) && (local_5 == '\n')) {
LAB_0046b54c:
                  *pcVar8 = '\n';
                  goto LAB_0046b569;
                }
                FUN_0046e977(param_1,-1,1);
                if (local_5 != '\n') goto LAB_0046b566;
              }
              else {
                if (local_5 == '\n') goto LAB_0046b54c;
                *pcVar8 = '\r';
                pcVar8 = pcVar8 + 1;
                *(char *)(*piVar1 + 5 + iVar9) = local_5;
              }
            }
          }
          else {
            *pcVar8 = cVar3;
            pcVar8 = pcVar8 + 1;
            param_3 = param_3 + 1;
          }
        } while (param_3 < local_c);
      }
      return (int)pcVar8 - (int)param_2;
    }
  }
  return 0;
}



/*
 * Function: FUN_0046b5a0
 * Address: 0046b5a0
 */

undefined4 * __cdecl FUN_0046b5a0(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_0046b757_caseD_2;
        case 3:
          goto switchD_0046b757_caseD_3;
        }
        goto switchD_0046b757_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_0046b757_caseD_0;
      case 1:
        goto switchD_0046b757_caseD_1;
      case 2:
        goto switchD_0046b757_caseD_2;
      case 3:
        goto switchD_0046b757_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_0046b757_caseD_2;
            case 3:
              goto switchD_0046b757_caseD_3;
            }
            goto switchD_0046b757_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_0046b757_caseD_2;
            case 3:
              goto switchD_0046b757_caseD_3;
            }
            goto switchD_0046b757_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_0046b757_caseD_2;
            case 3:
              goto switchD_0046b757_caseD_3;
            }
            goto switchD_0046b757_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_0046b757_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_0046b757_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_0046b757_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_0046b757_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_0046b5d5_caseD_2;
      case 3:
        goto switchD_0046b5d5_caseD_3;
      }
      goto switchD_0046b5d5_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_0046b5d5_caseD_0;
    case 1:
      goto switchD_0046b5d5_caseD_1;
    case 2:
      goto switchD_0046b5d5_caseD_2;
    case 3:
      goto switchD_0046b5d5_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_0046b5d5_caseD_2;
          case 3:
            goto switchD_0046b5d5_caseD_3;
          }
          goto switchD_0046b5d5_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_0046b5d5_caseD_2;
          case 3:
            goto switchD_0046b5d5_caseD_3;
          }
          goto switchD_0046b5d5_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_0046b5d5_caseD_2;
          case 3:
            goto switchD_0046b5d5_caseD_3;
          }
          goto switchD_0046b5d5_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_0046b5d5_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_0046b5d5_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_0046b5d5_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_0046b5d5_caseD_0:
  return param_1;
}



/*
 * Function: FUN_0046b8d5
 * Address: 0046b8d5
 */

int __thiscall FUN_0046b8d5(void *this,int *param_1,byte *param_2,undefined4 *param_3)

{
  byte bVar1;
  undefined4 *puVar2;
  int *piVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  void *this_00;
  int *extraout_ECX;
  int *extraout_ECX_00;
  int *extraout_ECX_01;
  void *this_01;
  int *extraout_ECX_02;
  int *extraout_ECX_03;
  int *piVar7;
  byte bVar8;
  byte *pbVar9;
  byte *pbVar10;
  char *pcVar11;
  char *pcVar12;
  WCHAR *pWVar13;
  undefined *puVar14;
  int iVar15;
  bool bVar16;
  int *piVar17;
  char local_1c8;
  char local_1c7 [351];
  byte local_68 [32];
  undefined4 *local_48;
  WCHAR local_42;
  uint local_40;
  byte local_3c;
  undefined local_3b;
  byte local_39;
  int local_38;
  WCHAR *local_34;
  WCHAR *local_30;
  undefined8 local_2c;
  int local_24;
  int local_20;
  byte local_1c;
  char local_1b;
  char local_1a;
  char local_19;
  int *local_18;
  char local_13;
  char local_12;
  char local_11;
  int local_10;
  char local_9;
  undefined *local_8;
  
  local_19 = '\0';
  bVar1 = *param_2;
  local_8 = (undefined *)0x0;
  local_38 = 0;
  pbVar9 = param_2;
  piVar7 = (int *)PTR_DAT_00481a80;
  do {
    PTR_DAT_00481a80 = (undefined *)piVar7;
    if (bVar1 == 0) {
LAB_0046c2db:
      if (local_18 == (int *)0xffffffff) {
LAB_0046c2e1:
        if ((local_38 == 0) && (local_19 == '\0')) {
          local_38 = -1;
        }
      }
      return local_38;
    }
    if ((int)DAT_00481c8c < 2) {
      uVar5 = *(byte *)((int)piVar7 + (uint)bVar1 * 2) & 8;
    }
    else {
      piVar7 = (int *)0x8;
      uVar5 = FUN_0046c40b(this,(uint)bVar1,8);
    }
    if (uVar5 != 0) {
      local_8 = local_8 + -1;
      piVar7 = param_1;
      uVar5 = FUN_0046c362((int *)&local_8,param_1);
      FUN_0046c34b(uVar5,piVar7);
      uVar5 = FUN_0046fa62(this_00,(uint)pbVar9[1]);
      piVar7 = extraout_ECX;
      pbVar10 = pbVar9;
      while (pbVar9 = pbVar10 + 1, uVar5 != 0) {
        piVar17 = (int *)(uint)pbVar10[2];
        uVar5 = FUN_0046fa62(piVar7,(int)(uint)pbVar10[2]);
        piVar7 = piVar17;
        pbVar10 = pbVar9;
      }
    }
    if (*pbVar9 == 0x25) {
      local_39 = 0;
      local_1c = 0;
      local_1b = '\0';
      local_12 = '\0';
      local_13 = '\0';
      local_1a = '\0';
      puVar14 = (undefined *)0x0;
      local_9 = '\0';
      local_20 = 0;
      local_24 = 0;
      local_10 = 0;
      local_11 = '\x01';
      local_34 = (WCHAR *)0x0;
      do {
        uVar5 = (uint)pbVar9[1];
        param_2 = pbVar9 + 1;
        if ((int)DAT_00481c8c < 2) {
          uVar6 = (byte)PTR_DAT_00481a80[uVar5 * 2] & 4;
          piVar7 = (int *)PTR_DAT_00481a80;
        }
        else {
          piVar17 = (int *)0x4;
          uVar6 = FUN_0046c40b(piVar7,uVar5,4);
          piVar7 = piVar17;
        }
        if (uVar6 == 0) {
          if (uVar5 < 0x4f) {
            if (uVar5 != 0x4e) {
              if (uVar5 == 0x2a) {
                local_12 = local_12 + '\x01';
              }
              else if (uVar5 != 0x46) {
                if (uVar5 == 0x49) {
                  if ((pbVar9[2] != 0x36) || (pbVar9[3] != 0x34)) goto LAB_0046ba30;
                  local_34 = (WCHAR *)((int)local_34 + 1);
                  local_2c = 0;
                  param_2 = pbVar9 + 3;
                }
                else if (uVar5 == 0x4c) {
                  local_11 = local_11 + '\x01';
                }
                else {
LAB_0046ba30:
                  local_13 = local_13 + '\x01';
                }
              }
            }
          }
          else if (uVar5 == 0x68) {
            local_11 = local_11 + -1;
            local_9 = local_9 + -1;
          }
          else {
            if (uVar5 == 0x6c) {
              local_11 = local_11 + '\x01';
            }
            else if (uVar5 != 0x77) goto LAB_0046ba30;
            local_9 = local_9 + '\x01';
          }
        }
        else {
          local_24 = local_24 + 1;
          local_10 = (uVar5 - 0x30) + local_10 * 10;
        }
        pbVar9 = param_2;
      } while (local_13 == '\0');
      puVar2 = param_3;
      if (local_12 == '\0') {
        local_30 = (WCHAR *)*param_3;
        puVar2 = param_3 + 1;
        local_48 = param_3;
      }
      param_3 = puVar2;
      local_13 = '\0';
      if (local_9 == '\0') {
        if ((*param_2 == 0x53) || (*param_2 == 0x43)) {
          local_9 = '\x01';
        }
        else {
          local_9 = -1;
        }
      }
      uVar5 = *param_2 | 0x20;
      local_40 = uVar5;
      if (uVar5 != 0x6e) {
        if ((uVar5 == 99) || (uVar5 == 0x7b)) {
          local_8 = local_8 + 1;
          piVar7 = param_1;
          local_18 = (int *)FUN_0046c331(param_1);
        }
        else {
          piVar7 = param_1;
          local_18 = (int *)FUN_0046c362((int *)&local_8,param_1);
        }
      }
      if ((local_24 != 0) && (local_10 == 0)) {
LAB_0046c2bb:
        local_8 = local_8 + -1;
        FUN_0046c34b((uint)local_18,param_1);
        goto LAB_0046c2db;
      }
      if (uVar5 < 0x70) {
        if (uVar5 == 0x6f) {
LAB_0046bfe8:
          if (local_18 == (int *)0x2d) {
            local_1b = '\x01';
          }
          else if (local_18 != (int *)0x2b) goto LAB_0046c01d;
          local_10 = local_10 + -1;
          if ((local_10 == 0) && (local_24 != 0)) {
            local_13 = '\x01';
          }
          else {
            local_8 = local_8 + 1;
            piVar7 = param_1;
            local_18 = (int *)FUN_0046c331(param_1);
          }
          goto LAB_0046c01d;
        }
        if (uVar5 != 99) {
          if (uVar5 == 100) goto LAB_0046bfe8;
          if (uVar5 < 0x65) {
LAB_0046bd60:
            if ((int *)(uint)*param_2 != local_18) goto LAB_0046c2bb;
            local_19 = local_19 + -1;
            if (local_12 == '\0') {
              param_3 = local_48;
            }
            goto LAB_0046c23c;
          }
          if (0x67 < uVar5) {
            if (uVar5 == 0x69) {
              uVar5 = 100;
              goto LAB_0046bb1e;
            }
            if (uVar5 != 0x6e) goto LAB_0046bd60;
            puVar14 = local_8;
            if (local_12 != '\0') goto LAB_0046c23c;
            goto LAB_0046c216;
          }
          pcVar11 = &local_1c8;
          if (local_18 == (int *)0x2d) {
            local_1c8 = '-';
            pcVar11 = local_1c7;
LAB_0046bb54:
            local_10 = local_10 + -1;
            local_8 = local_8 + 1;
            piVar7 = param_1;
            local_18 = (int *)FUN_0046c331(param_1);
          }
          else if (local_18 == (int *)0x2b) goto LAB_0046bb54;
          if ((local_24 == 0) || (0x15d < local_10)) {
            local_10 = 0x15d;
          }
          while( true ) {
            piVar17 = local_18;
            if ((int)DAT_00481c8c < 2) {
              uVar5 = (byte)PTR_DAT_00481a80[(int)local_18 * 2] & 4;
            }
            else {
              uVar5 = FUN_0046c40b(piVar7,(int)local_18,4);
            }
            if ((uVar5 == 0) ||
               (iVar15 = local_10 + -1, bVar16 = local_10 == 0, local_10 = iVar15, bVar16)) break;
            local_20 = local_20 + 1;
            *pcVar11 = (char)piVar17;
            pcVar11 = pcVar11 + 1;
            local_8 = local_8 + 1;
            piVar7 = param_1;
            local_18 = (int *)FUN_0046c331(param_1);
          }
          if ((DAT_00481c90 == (char)piVar17) &&
             (iVar15 = local_10 + -1, bVar16 = local_10 != 0, local_10 = iVar15, bVar16)) {
            local_8 = local_8 + 1;
            piVar7 = param_1;
            piVar17 = (int *)FUN_0046c331(param_1);
            *pcVar11 = DAT_00481c90;
            while( true ) {
              pcVar11 = pcVar11 + 1;
              local_18 = piVar17;
              if ((int)DAT_00481c8c < 2) {
                uVar5 = (byte)PTR_DAT_00481a80[(int)piVar17 * 2] & 4;
              }
              else {
                uVar5 = FUN_0046c40b(piVar7,(int)piVar17,4);
              }
              if ((uVar5 == 0) ||
                 (iVar15 = local_10 + -1, bVar16 = local_10 == 0, local_10 = iVar15, bVar16)) break;
              local_20 = local_20 + 1;
              *pcVar11 = (char)piVar17;
              local_8 = local_8 + 1;
              piVar7 = param_1;
              piVar17 = (int *)FUN_0046c331(param_1);
            }
          }
          pcVar12 = pcVar11;
          if ((local_20 != 0) &&
             (((piVar17 == (int *)0x65 || (piVar17 == (int *)0x45)) &&
              (iVar15 = local_10 + -1, bVar16 = local_10 != 0, local_10 = iVar15, bVar16)))) {
            *pcVar11 = 'e';
            pcVar12 = pcVar11 + 1;
            local_8 = local_8 + 1;
            piVar7 = param_1;
            piVar17 = (int *)FUN_0046c331(param_1);
            local_18 = piVar17;
            if (piVar17 == (int *)0x2d) {
              *pcVar12 = '-';
              pcVar12 = pcVar11 + 2;
LAB_0046bc7b:
              bVar16 = local_10 != 0;
              local_10 = local_10 + -1;
              if (bVar16) goto LAB_0046bc8a;
              local_10 = 0;
            }
            else if (piVar17 == (int *)0x2b) goto LAB_0046bc7b;
            while( true ) {
              if ((int)DAT_00481c8c < 2) {
                uVar5 = (byte)PTR_DAT_00481a80[(int)piVar17 * 2] & 4;
              }
              else {
                uVar5 = FUN_0046c40b(piVar7,(int)piVar17,4);
              }
              if ((uVar5 == 0) ||
                 (iVar15 = local_10 + -1, bVar16 = local_10 == 0, local_10 = iVar15, bVar16)) break;
              local_20 = local_20 + 1;
              *pcVar12 = (char)piVar17;
              pcVar12 = pcVar12 + 1;
LAB_0046bc8a:
              local_8 = local_8 + 1;
              piVar7 = param_1;
              piVar17 = (int *)FUN_0046c331(param_1);
              local_18 = piVar17;
            }
          }
          local_8 = local_8 + -1;
          piVar7 = param_1;
          FUN_0046c34b((uint)piVar17,param_1);
          if (local_20 != 0) {
            if (local_12 == '\0') {
              local_38 = local_38 + 1;
              *pcVar12 = '\0';
              (*(code *)PTR_FUN_00481938)(local_11 + -1,local_30,&local_1c8);
              piVar7 = extraout_ECX_00;
            }
            goto LAB_0046c23c;
          }
          goto LAB_0046c2db;
        }
        if (local_24 == 0) {
          local_10 = local_10 + 1;
          local_24 = 1;
        }
        if ('\0' < local_9) {
          local_1a = '\x01';
        }
        pcVar11 = &DAT_00481a78;
LAB_0046be41:
        local_1c = 0xff;
        pbVar9 = (byte *)pcVar11;
        pbVar10 = param_2;
LAB_0046be45:
        param_2 = pbVar10;
        _memset(local_68,0,0x20);
        if ((local_40 == 0x7b) && (*pbVar9 == 0x5d)) {
          uVar5 = 0x5d;
          local_68[0xb] = 0x20;
          pbVar9 = pbVar9 + 1;
        }
        else {
          uVar5 = (uint)local_39;
        }
        while (pWVar13 = local_30, bVar1 = *pbVar9, bVar1 != 0x5d) {
          if (((bVar1 == 0x2d) && (bVar8 = (byte)uVar5, bVar8 != 0)) &&
             (bVar4 = pbVar9[1], bVar4 != 0x5d)) {
            if (bVar4 <= bVar8) {
              uVar5 = (uint)bVar4;
              bVar4 = bVar8;
            }
            if ((byte)uVar5 <= bVar4) {
              iVar15 = (bVar4 - uVar5) + 1;
              do {
                local_68[uVar5 >> 3] = local_68[uVar5 >> 3] | '\x01' << ((byte)uVar5 & 7);
                uVar5 = uVar5 + 1;
                iVar15 = iVar15 + -1;
              } while (iVar15 != 0);
            }
            uVar5 = 0;
            pbVar9 = pbVar9 + 2;
          }
          else {
            uVar5 = (uint)bVar1;
            local_68[bVar1 >> 3] = local_68[bVar1 >> 3] | '\x01' << (bVar1 & 7);
            pbVar9 = pbVar9 + 1;
          }
        }
        if (*pbVar9 == 0) goto LAB_0046c2db;
        if (local_40 == 0x7b) {
          param_2 = pbVar9;
        }
        local_8 = local_8 + -1;
        local_34 = local_30;
        piVar7 = param_1;
        FUN_0046c34b((uint)local_18,param_1);
        while( true ) {
          if ((local_24 != 0) &&
             (iVar15 = local_10 + -1, bVar16 = local_10 == 0, local_10 = iVar15, bVar16))
          goto LAB_0046bfaa;
          local_8 = local_8 + 1;
          local_18 = (int *)FUN_0046c331(param_1);
          if (local_18 == (int *)0xffffffff) break;
          bVar1 = (byte)local_18;
          piVar7 = (int *)(int)(char)(local_68[(int)local_18 >> 3] ^ local_1c);
          if (((uint)piVar7 & 1 << (bVar1 & 7)) == 0) break;
          if (local_12 == '\0') {
            if (local_1a == '\0') {
              *(byte *)pWVar13 = bVar1;
              pWVar13 = (WCHAR *)((int)pWVar13 + 1);
              local_30 = pWVar13;
            }
            else {
              local_3c = bVar1;
              if ((PTR_DAT_00481a80[((uint)local_18 & 0xff) * 2 + 1] & 0x80) != 0) {
                local_8 = local_8 + 1;
                uVar5 = FUN_0046c331(param_1);
                local_3b = (undefined)uVar5;
              }
              FUN_0046f93c(&local_42,&local_3c,DAT_00481c8c);
              *pWVar13 = local_42;
              pWVar13 = pWVar13 + 1;
              piVar7 = extraout_ECX_01;
              local_30 = pWVar13;
            }
          }
          else {
            local_34 = (WCHAR *)((int)local_34 + 1);
          }
        }
        local_8 = local_8 + -1;
        piVar7 = param_1;
        FUN_0046c34b((uint)local_18,param_1);
LAB_0046bfaa:
        if (local_34 == pWVar13) goto LAB_0046c2db;
        if ((local_12 == '\0') && (local_38 = local_38 + 1, local_40 != 99)) {
          if (local_1a == '\0') {
            *(byte *)local_30 = 0;
          }
          else {
            *local_30 = L'\0';
          }
        }
      }
      else {
        if (uVar5 == 0x70) {
          local_11 = '\x01';
          goto LAB_0046bfe8;
        }
        if (uVar5 == 0x73) {
          if ('\0' < local_9) {
            local_1a = '\x01';
          }
          pcVar11 = s_____00481a70;
          goto LAB_0046be41;
        }
        if (uVar5 == 0x75) goto LAB_0046bfe8;
        if (uVar5 != 0x78) {
          if (uVar5 != 0x7b) goto LAB_0046bd60;
          if ('\0' < local_9) {
            local_1a = '\x01';
          }
          pbVar9 = param_2 + 1;
          pbVar10 = pbVar9;
          if (*pbVar9 == 0x5e) {
            pcVar11 = (char *)(param_2 + 2);
            param_2 = pbVar9;
            goto LAB_0046be41;
          }
          goto LAB_0046be45;
        }
LAB_0046bb1e:
        if (local_18 == (int *)0x2d) {
          local_1b = '\x01';
LAB_0046bdad:
          local_10 = local_10 + -1;
          if ((local_10 == 0) && (local_24 != 0)) {
            local_13 = '\x01';
          }
          else {
            local_8 = local_8 + 1;
            piVar7 = param_1;
            local_18 = (int *)FUN_0046c331(param_1);
          }
        }
        else if (local_18 == (int *)0x2b) goto LAB_0046bdad;
        if (local_18 == (int *)0x30) {
          local_8 = local_8 + 1;
          piVar7 = param_1;
          local_18 = (int *)FUN_0046c331(param_1);
          if (((char)local_18 == 'x') || ((char)local_18 == 'X')) {
            local_8 = local_8 + 1;
            piVar7 = param_1;
            local_18 = (int *)FUN_0046c331(param_1);
            uVar5 = 0x78;
          }
          else {
            local_20 = 1;
            if (uVar5 == 0x78) {
              local_8 = local_8 + -1;
              piVar7 = param_1;
              FUN_0046c34b((uint)local_18,param_1);
              local_18 = (int *)0x30;
            }
            else {
              uVar5 = 0x6f;
            }
          }
        }
LAB_0046c01d:
        if (local_34 == (WCHAR *)0x0) {
          if (local_13 == '\0') {
            while ((piVar17 = local_18, uVar5 != 0x78 && (uVar5 != 0x70))) {
              if ((int)DAT_00481c8c < 2) {
                uVar6 = (byte)PTR_DAT_00481a80[(int)local_18 * 2] & 4;
              }
              else {
                piVar3 = (int *)0x4;
                uVar6 = FUN_0046c40b(piVar7,(int)local_18,4);
                piVar7 = piVar3;
              }
              if (uVar6 == 0) goto LAB_0046c1e4;
              if (uVar5 == 0x6f) {
                if (0x37 < (int)piVar17) goto LAB_0046c1e4;
                iVar15 = (int)puVar14 << 3;
              }
              else {
                iVar15 = (int)puVar14 * 10;
              }
LAB_0046c1bc:
              local_20 = local_20 + 1;
              puVar14 = (undefined *)(iVar15 + -0x30 + (int)piVar17);
              if ((local_24 != 0) && (local_10 = local_10 + -1, local_10 == 0)) goto LAB_0046c1f2;
              local_8 = local_8 + 1;
              piVar7 = param_1;
              local_18 = (int *)FUN_0046c331(param_1);
            }
            if ((int)DAT_00481c8c < 2) {
              uVar6 = (byte)PTR_DAT_00481a80[(int)local_18 * 2] & 0x80;
            }
            else {
              piVar3 = (int *)0x80;
              uVar6 = FUN_0046c40b(piVar7,(int)local_18,0x80);
              piVar7 = piVar3;
            }
            if (uVar6 != 0) {
              iVar15 = (int)puVar14 << 4;
              piVar3 = piVar17;
              piVar17 = (int *)FUN_0046c2fa(piVar7,(uint)piVar17);
              piVar7 = piVar3;
              local_18 = piVar17;
              goto LAB_0046c1bc;
            }
LAB_0046c1e4:
            local_8 = local_8 + -1;
            piVar7 = param_1;
            FUN_0046c34b((uint)piVar17,param_1);
          }
LAB_0046c1f2:
          if (local_1b != '\0') {
            puVar14 = (undefined *)-(int)puVar14;
          }
        }
        else {
          if (local_13 == '\0') {
            while (piVar17 = local_18, uVar5 != 0x78) {
              if ((int)DAT_00481c8c < 2) {
                uVar6 = (byte)PTR_DAT_00481a80[(int)local_18 * 2] & 4;
              }
              else {
                uVar6 = FUN_0046c40b(piVar7,(int)local_18,4);
              }
              if (uVar6 == 0) goto LAB_0046c106;
              if (uVar5 == 0x6f) {
                if (0x37 < (int)piVar17) goto LAB_0046c106;
                local_2c = __allshl(3,(int)local_2c._4_4_);
                piVar7 = extraout_ECX_02;
              }
              else {
                local_2c = __allmul((uint)local_2c,(int)local_2c._4_4_,10,0);
                piVar7 = extraout_ECX_03;
              }
LAB_0046c0d8:
              local_20 = local_20 + 1;
              piVar17 = piVar17 + -0xc;
              local_2c = CONCAT44((int)local_2c._4_4_ + ((int)piVar17 >> 0x1f) +
                                  (uint)CARRY4((uint)local_2c,(uint)piVar17),
                                  (undefined *)((uint)local_2c + (int)piVar17));
              if ((local_24 != 0) && (local_10 = local_10 + -1, local_10 == 0)) goto LAB_0046c114;
              local_8 = local_8 + 1;
              piVar7 = param_1;
              local_18 = (int *)FUN_0046c331(param_1);
            }
            if ((int)DAT_00481c8c < 2) {
              uVar6 = (byte)PTR_DAT_00481a80[(int)local_18 * 2] & 0x80;
            }
            else {
              uVar6 = FUN_0046c40b(piVar7,(int)local_18,0x80);
            }
            if (uVar6 != 0) {
              local_2c = __allshl(4,(int)local_2c._4_4_);
              piVar7 = piVar17;
              piVar17 = (int *)FUN_0046c2fa(this_01,(uint)piVar17);
              local_18 = piVar17;
              goto LAB_0046c0d8;
            }
LAB_0046c106:
            local_8 = local_8 + -1;
            piVar7 = param_1;
            FUN_0046c34b((uint)piVar17,param_1);
          }
LAB_0046c114:
          if (local_1b != '\0') {
            piVar7 = (int *)-((int)local_2c._4_4_ + (uint)((uint)local_2c != 0));
            local_2c = CONCAT44(piVar7,-(uint)local_2c);
          }
        }
        if (uVar5 == 0x46) {
          local_20 = 0;
        }
        if (local_20 == 0) goto LAB_0046c2db;
        if (local_12 == '\0') {
          local_38 = local_38 + 1;
LAB_0046c216:
          if (local_34 == (WCHAR *)0x0) {
            if (local_11 == '\0') {
              *local_30 = (WCHAR)puVar14;
            }
            else {
              *(undefined **)local_30 = puVar14;
            }
          }
          else {
            *(uint *)local_30 = (uint)local_2c;
            *(int **)(local_30 + 2) = local_2c._4_4_;
            piVar7 = local_2c._4_4_;
          }
        }
      }
LAB_0046c23c:
      local_19 = local_19 + '\x01';
      param_2 = param_2 + 1;
      this = piVar7;
    }
    else {
      local_8 = local_8 + 1;
      piVar7 = (int *)FUN_0046c331(param_1);
      param_2 = pbVar9 + 1;
      local_18 = piVar7;
      if ((int *)(uint)*pbVar9 != piVar7) goto LAB_0046c2bb;
      this = PTR_DAT_00481a80;
      if ((PTR_DAT_00481a80[((uint)piVar7 & 0xff) * 2 + 1] & 0x80) != 0) {
        local_8 = local_8 + 1;
        piVar17 = (int *)FUN_0046c331(param_1);
        this = (void *)(uint)*param_2;
        param_2 = pbVar9 + 2;
        if ((int *)this != piVar17) {
          local_8 = local_8 + -1;
          FUN_0046c34b((uint)piVar17,param_1);
          local_8 = local_8 + -1;
          FUN_0046c34b((uint)piVar7,param_1);
          goto LAB_0046c2db;
        }
        local_8 = local_8 + -1;
      }
    }
    if ((local_18 == (int *)0xffffffff) && ((*param_2 != 0x25 || (param_2[1] != 0x6e))))
    goto LAB_0046c2e1;
    bVar1 = *param_2;
    pbVar9 = param_2;
    piVar7 = (int *)PTR_DAT_00481a80;
  } while( true );
}



/*
 * Function: FUN_0046c2fa
 * Address: 0046c2fa
 */

uint __thiscall FUN_0046c2fa(void *this,uint param_1)

{
  uint uVar1;
  
  if (DAT_00481c8c < 2) {
    uVar1 = (byte)PTR_DAT_00481a80[param_1 * 2] & 4;
  }
  else {
    uVar1 = FUN_0046c40b(this,param_1,4);
  }
  if (uVar1 == 0) {
    param_1 = (param_1 & 0xffffffdf) - 7;
  }
  return param_1;
}



/*
 * Function: FUN_0046c331
 * Address: 0046c331
 */

uint __cdecl FUN_0046c331(undefined4 *param_1)

{
  int *piVar1;
  byte bVar2;
  uint uVar3;
  
  piVar1 = param_1 + 1;
  *piVar1 = *piVar1 + -1;
  if (-1 < *piVar1) {
    bVar2 = *(byte *)*param_1;
    *param_1 = (byte *)*param_1 + 1;
    return (uint)bVar2;
  }
  uVar3 = FUN_0046b280(param_1);
  return uVar3;
}



/*
 * Function: FUN_0046c34b
 * Address: 0046c34b
 */

void __cdecl FUN_0046c34b(uint param_1,int *param_2)

{
  if (param_1 != 0xffffffff) {
    FUN_0046faaf(param_1,param_2);
  }
  return;
}



/*
 * Function: FUN_0046c362
 * Address: 0046c362
 */

uint __cdecl FUN_0046c362(int *param_1,undefined4 *param_2)

{
  uint uVar1;
  uint uVar2;
  void *this;
  
  do {
    *param_1 = *param_1 + 1;
    uVar1 = FUN_0046c331(param_2);
    uVar2 = FUN_0046fa62(this,uVar1);
  } while (uVar2 != 0);
  return uVar1;
}



/*
 * Function: _strlen
 * Address: 0046c390
 */

/* Library Function - Single Match
    _strlen
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

size_t __cdecl _strlen(char *_Str)

{
  char cVar1;
  uint uVar2;
  uint *puVar3;
  uint *puVar4;
  
  uVar2 = (uint)_Str & 3;
  puVar3 = (uint *)_Str;
  while (uVar2 != 0) {
    cVar1 = *(char *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (cVar1 == '\0') goto LAB_0046c3e3;
    uVar2 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar4 = puVar3;
      puVar3 = puVar4 + 1;
    } while (((*puVar4 ^ 0xffffffff ^ *puVar4 + 0x7efefeff) & 0x81010100) == 0);
    uVar2 = *puVar4;
    if ((char)uVar2 == '\0') {
      return (int)puVar4 - (int)_Str;
    }
    if ((char)(uVar2 >> 8) == '\0') {
      return (size_t)((int)puVar4 + (1 - (int)_Str));
    }
    if ((uVar2 & 0xff0000) == 0) {
      return (size_t)((int)puVar4 + (2 - (int)_Str));
    }
  } while ((uVar2 & 0xff000000) != 0);
LAB_0046c3e3:
  return (size_t)((int)puVar3 + (-1 - (int)_Str));
}



/*
 * Function: FUN_0046c40b
 * Address: 0046c40b
 */

uint __thiscall FUN_0046c40b(void *this,int param_1,uint param_2)

{
  BOOL BVar1;
  int iVar2;
  undefined4 local_8;
  
  if (param_1 + 1U < 0x101) {
    param_1._2_2_ = *(ushort *)(PTR_DAT_00481a80 + param_1 * 2);
  }
  else {
    if ((PTR_DAT_00481a80[(param_1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      local_8 = CONCAT31((int3)((uint)this >> 8),(char)param_1) & 0xffff00ff;
      iVar2 = 1;
    }
    else {
      local_8._0_2_ = CONCAT11((char)param_1,(char)((uint)param_1 >> 8));
      local_8 = CONCAT22((short)((uint)this >> 0x10),(undefined2)local_8) & 0xff00ffff;
      iVar2 = 2;
    }
    BVar1 = FUN_0046fb1d(1,(LPCSTR)&local_8,iVar2,(LPWORD)((int)&param_1 + 2),0,0,1);
    if (BVar1 == 0) {
      return 0;
    }
  }
  return param_1._2_2_ & param_2;
}



/*
 * Function: FUN_0046c480
 * Address: 0046c480
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __cdecl FUN_0046c480(undefined4 *param_1)

{
  undefined4 uVar1;
  byte bVar2;
  undefined3 extraout_var;
  int iVar3;
  void *pvVar4;
  
  bVar2 = FUN_0046ea2e(param_1[4]);
  if (CONCAT31(extraout_var,bVar2) == 0) {
    return 0;
  }
  if (param_1 == (undefined4 *)&DAT_004816c8) {
    iVar3 = 0;
  }
  else {
    if (param_1 != (undefined4 *)&DAT_004816e8) {
      return 0;
    }
    iVar3 = 1;
  }
  _DAT_0048e2dc = _DAT_0048e2dc + 1;
  if ((*(ushort *)(param_1 + 3) & 0x10c) != 0) {
    return 0;
  }
  if ((&DAT_0048e324)[iVar3] == 0) {
    pvVar4 = _malloc(0x1000);
    (&DAT_0048e324)[iVar3] = pvVar4;
    if (pvVar4 == (void *)0x0) {
      param_1[2] = param_1 + 5;
      *param_1 = param_1 + 5;
      param_1[6] = 2;
      param_1[1] = 2;
      goto LAB_0046c4fc;
    }
  }
  uVar1 = (&DAT_0048e324)[iVar3];
  param_1[6] = 0x1000;
  param_1[2] = uVar1;
  *param_1 = uVar1;
  param_1[1] = 0x1000;
LAB_0046c4fc:
  *(ushort *)(param_1 + 3) = *(ushort *)(param_1 + 3) | 0x1102;
  return 1;
}



/*
 * Function: FUN_0046c50d
 * Address: 0046c50d
 */

void __cdecl FUN_0046c50d(int param_1,int *param_2)

{
  if ((param_1 != 0) && ((*(byte *)((int)param_2 + 0xd) & 0x10) != 0)) {
    FUN_004694da(param_2);
    *(byte *)((int)param_2 + 0xd) = *(byte *)((int)param_2 + 0xd) & 0xee;
    param_2[6] = 0;
    *param_2 = 0;
    param_2[2] = 0;
  }
  return;
}



/*
 * Function: FUN_0046c537
 * Address: 0046c537
 */

LONG __cdecl FUN_0046c537(int param_1,_EXCEPTION_POINTERS *param_2)

{
  code *pcVar1;
  DWORD DVar2;
  DWORD DVar3;
  DWORD *pDVar4;
  int *piVar5;
  LONG LVar6;
  int iVar7;
  int iVar8;
  
  pDVar4 = FUN_00469123();
  piVar5 = FUN_0046c675(param_1,(int *)pDVar4[0x14]);
  if ((piVar5 == (int *)0x0) || (pcVar1 = (code *)piVar5[2], pcVar1 == (code *)0x0)) {
    LVar6 = UnhandledExceptionFilter(param_2);
  }
  else if (pcVar1 == (code *)0x5) {
    piVar5[2] = 0;
    LVar6 = 1;
  }
  else {
    if (pcVar1 != (code *)0x1) {
      DVar2 = pDVar4[0x15];
      pDVar4[0x15] = (DWORD)param_2;
      if (piVar5[1] == 8) {
        if (DAT_00481d10 < DAT_00481d14 + DAT_00481d10) {
          iVar7 = DAT_00481d10 * 0xc;
          iVar8 = DAT_00481d10;
          do {
            *(undefined4 *)(iVar7 + 8 + pDVar4[0x14]) = 0;
            iVar8 = iVar8 + 1;
            iVar7 = iVar7 + 0xc;
          } while (iVar8 < DAT_00481d14 + DAT_00481d10);
        }
        iVar7 = *piVar5;
        DVar3 = pDVar4[0x16];
        if (iVar7 == -0x3fffff72) {
          pDVar4[0x16] = 0x83;
        }
        else if (iVar7 == -0x3fffff70) {
          pDVar4[0x16] = 0x81;
        }
        else if (iVar7 == -0x3fffff6f) {
          pDVar4[0x16] = 0x84;
        }
        else if (iVar7 == -0x3fffff6d) {
          pDVar4[0x16] = 0x85;
        }
        else if (iVar7 == -0x3fffff73) {
          pDVar4[0x16] = 0x82;
        }
        else if (iVar7 == -0x3fffff71) {
          pDVar4[0x16] = 0x86;
        }
        else if (iVar7 == -0x3fffff6e) {
          pDVar4[0x16] = 0x8a;
        }
        (*pcVar1)(8,pDVar4[0x16]);
        pDVar4[0x16] = DVar3;
      }
      else {
        piVar5[2] = 0;
        (*pcVar1)(piVar5[1]);
      }
      pDVar4[0x15] = DVar2;
    }
    LVar6 = -1;
  }
  return LVar6;
}



/*
 * Function: FUN_0046c675
 * Address: 0046c675
 */

int * __cdecl FUN_0046c675(int param_1,int *param_2)

{
  int *piVar1;
  
  piVar1 = param_2;
  if (*param_2 != param_1) {
    do {
      piVar1 = piVar1 + 3;
      if (param_2 + DAT_00481d1c * 3 <= piVar1) break;
    } while (*piVar1 != param_1);
  }
  if ((param_2 + DAT_00481d1c * 3 <= piVar1) || (*piVar1 != param_1)) {
    piVar1 = (int *)0x0;
  }
  return piVar1;
}



/*
 * Function: FUN_0046c6af
 * Address: 0046c6af
 */

byte * FUN_0046c6af(void)

{
  byte bVar1;
  int iVar2;
  byte *pbVar3;
  byte *pbVar4;
  
  if (DAT_0048e9a8 == 0) {
    FUN_00470080();
  }
  bVar1 = *DAT_0048f9c4;
  pbVar4 = DAT_0048f9c4;
  if (bVar1 == 0x22) {
    while( true ) {
      pbVar3 = pbVar4;
      bVar1 = pbVar3[1];
      pbVar4 = pbVar3 + 1;
      if ((bVar1 == 0x22) || (bVar1 == 0)) break;
      iVar2 = FUN_0046fc66((uint)bVar1);
      if (iVar2 != 0) {
        pbVar4 = pbVar3 + 2;
      }
    }
    if (*pbVar4 == 0x22) goto LAB_0046c6ec;
  }
  else {
    while (0x20 < bVar1) {
      bVar1 = pbVar4[1];
      pbVar4 = pbVar4 + 1;
    }
  }
  for (; (*pbVar4 != 0 && (*pbVar4 < 0x21)); pbVar4 = pbVar4 + 1) {
LAB_0046c6ec:
  }
  return pbVar4;
}



/*
 * Function: FUN_0046c707
 * Address: 0046c707
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0046c707(void)

{
  char cVar1;
  size_t sVar2;
  undefined4 *puVar3;
  void *pvVar4;
  int iVar5;
  uint *puVar6;
  
  if (DAT_0048e9a8 == 0) {
    FUN_00470080();
  }
  iVar5 = 0;
  for (puVar6 = DAT_0048e2d0; *(char *)puVar6 != '\0'; puVar6 = (uint *)((int)puVar6 + sVar2 + 1)) {
    if (*(char *)puVar6 != '=') {
      iVar5 = iVar5 + 1;
    }
    sVar2 = _strlen((char *)puVar6);
  }
  puVar3 = (undefined4 *)_malloc(iVar5 * 4 + 4);
  _DAT_0048e300 = puVar3;
  if (puVar3 == (undefined4 *)0x0) {
    __amsg_exit(9);
  }
  cVar1 = *(char *)DAT_0048e2d0;
  puVar6 = DAT_0048e2d0;
  while (cVar1 != '\0') {
    sVar2 = _strlen((char *)puVar6);
    if (*(char *)puVar6 != '=') {
      pvVar4 = _malloc(sVar2 + 1);
      *puVar3 = pvVar4;
      if (pvVar4 == (void *)0x0) {
        __amsg_exit(9);
      }
      FUN_0046f420((uint *)*puVar3,puVar6);
      puVar3 = puVar3 + 1;
    }
    puVar6 = (uint *)((int)puVar6 + sVar2 + 1);
    cVar1 = *(char *)puVar6;
  }
  FUN_0046878d(DAT_0048e2d0);
  DAT_0048e2d0 = (uint *)0x0;
  *puVar3 = 0;
  _DAT_0048e9a4 = 1;
  return;
}



/*
 * Function: FUN_0046c7c0
 * Address: 0046c7c0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0046c7c0(void)

{
  undefined4 *puVar1;
  byte *pbVar2;
  int local_c;
  int local_8;
  
  if (DAT_0048e9a8 == 0) {
    FUN_00470080();
  }
  GetModuleFileNameA((HMODULE)0x0,&DAT_0048e32c,0x104);
  _DAT_0048e310 = &DAT_0048e32c;
  pbVar2 = &DAT_0048e32c;
  if (*DAT_0048f9c4 != 0) {
    pbVar2 = DAT_0048f9c4;
  }
  FUN_0046c859(pbVar2,(undefined4 *)0x0,(byte *)0x0,&local_8,&local_c);
  puVar1 = (undefined4 *)_malloc(local_c + local_8 * 4);
  if (puVar1 == (undefined4 *)0x0) {
    __amsg_exit(8);
  }
  FUN_0046c859(pbVar2,puVar1,(byte *)(puVar1 + local_8),&local_8,&local_c);
  _DAT_0048e2f8 = puVar1;
  _DAT_0048e2f4 = local_8 + -1;
  return;
}



/*
 * Function: FUN_0046c859
 * Address: 0046c859
 */

void __cdecl FUN_0046c859(byte *param_1,undefined4 *param_2,byte *param_3,int *param_4,int *param_5)

{
  byte bVar1;
  bool bVar2;
  bool bVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  undefined4 *puVar7;
  
  *param_5 = 0;
  *param_4 = 1;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = param_3;
    param_2 = param_2 + 1;
  }
  if (*param_1 == 0x22) {
    while( true ) {
      bVar1 = param_1[1];
      pbVar4 = param_1 + 1;
      if ((bVar1 == 0x22) || (bVar1 == 0)) break;
      if ((((&DAT_0048e761)[bVar1] & 4) != 0) && (*param_5 = *param_5 + 1, param_3 != (byte *)0x0))
      {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
        pbVar4 = param_1 + 2;
      }
      *param_5 = *param_5 + 1;
      param_1 = pbVar4;
      if (param_3 != (byte *)0x0) {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
      }
    }
    *param_5 = *param_5 + 1;
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    if (*pbVar4 == 0x22) {
      pbVar4 = param_1 + 2;
    }
  }
  else {
    do {
      *param_5 = *param_5 + 1;
      if (param_3 != (byte *)0x0) {
        *param_3 = *param_1;
        param_3 = param_3 + 1;
      }
      bVar1 = *param_1;
      pbVar4 = param_1 + 1;
      if (((&DAT_0048e761)[bVar1] & 4) != 0) {
        *param_5 = *param_5 + 1;
        if (param_3 != (byte *)0x0) {
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        pbVar4 = param_1 + 2;
      }
      if (bVar1 == 0x20) break;
      if (bVar1 == 0) goto LAB_0046c904;
      param_1 = pbVar4;
    } while (bVar1 != 9);
    if (bVar1 == 0) {
LAB_0046c904:
      pbVar4 = pbVar4 + -1;
    }
    else if (param_3 != (byte *)0x0) {
      param_3[-1] = 0;
    }
  }
  bVar2 = false;
  puVar7 = param_2;
  while (*pbVar4 != 0) {
    for (; (*pbVar4 == 0x20 || (*pbVar4 == 9)); pbVar4 = pbVar4 + 1) {
    }
    if (*pbVar4 == 0) break;
    if (puVar7 != (undefined4 *)0x0) {
      *puVar7 = param_3;
      puVar7 = puVar7 + 1;
      param_2 = puVar7;
    }
    *param_4 = *param_4 + 1;
    while( true ) {
      bVar3 = true;
      uVar6 = 0;
      for (; *pbVar4 == 0x5c; pbVar4 = pbVar4 + 1) {
        uVar6 = uVar6 + 1;
      }
      if (*pbVar4 == 0x22) {
        pbVar5 = pbVar4;
        if ((uVar6 & 1) == 0) {
          if ((!bVar2) || (pbVar5 = pbVar4 + 1, pbVar4[1] != 0x22)) {
            bVar3 = false;
            pbVar5 = pbVar4;
          }
          bVar2 = !bVar2;
          puVar7 = param_2;
        }
        uVar6 = uVar6 >> 1;
        pbVar4 = pbVar5;
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        if (param_3 != (byte *)0x0) {
          *param_3 = 0x5c;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      bVar1 = *pbVar4;
      if ((bVar1 == 0) || ((!bVar2 && ((bVar1 == 0x20 || (bVar1 == 9)))))) break;
      if (bVar3) {
        if (param_3 == (byte *)0x0) {
          if (((&DAT_0048e761)[bVar1] & 4) != 0) {
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
        }
        else {
          if (((&DAT_0048e761)[bVar1] & 4) != 0) {
            *param_3 = bVar1;
            param_3 = param_3 + 1;
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      pbVar4 = pbVar4 + 1;
    }
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    *param_5 = *param_5 + 1;
  }
  if (puVar7 != (undefined4 *)0x0) {
    *puVar7 = 0;
  }
  *param_4 = *param_4 + 1;
  return;
}



/*
 * Function: FUN_0046ca0d
 * Address: 0046ca0d
 */

LPSTR FUN_0046ca0d(void)

{
  char cVar1;
  WCHAR WVar2;
  WCHAR *pWVar3;
  WCHAR *pWVar4;
  int iVar5;
  size_t _Size;
  LPSTR pCVar6;
  char *pcVar7;
  LPWCH lpWideCharStr;
  LPCH pCVar9;
  LPSTR local_8;
  char *pcVar8;
  
  lpWideCharStr = (LPWCH)0x0;
  pCVar9 = (LPCH)0x0;
  if (DAT_0048e430 == 0) {
    lpWideCharStr = GetEnvironmentStringsW();
    if (lpWideCharStr != (LPWCH)0x0) {
      DAT_0048e430 = 1;
LAB_0046ca64:
      if ((lpWideCharStr == (LPWCH)0x0) &&
         (lpWideCharStr = GetEnvironmentStringsW(), lpWideCharStr == (LPWCH)0x0)) {
        return (LPSTR)0x0;
      }
      WVar2 = *lpWideCharStr;
      pWVar4 = lpWideCharStr;
      while (WVar2 != L'\0') {
        do {
          pWVar3 = pWVar4;
          pWVar4 = pWVar3 + 1;
        } while (*pWVar4 != L'\0');
        pWVar4 = pWVar3 + 2;
        WVar2 = *pWVar4;
      }
      iVar5 = ((int)pWVar4 - (int)lpWideCharStr >> 1) + 1;
      _Size = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0);
      local_8 = (LPSTR)0x0;
      if (((_Size != 0) && (pCVar6 = (LPSTR)_malloc(_Size), pCVar6 != (LPSTR)0x0)) &&
         (iVar5 = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,pCVar6,_Size,(LPCSTR)0x0,(LPBOOL)0x0),
         local_8 = pCVar6, iVar5 == 0)) {
        FUN_0046878d(pCVar6);
        local_8 = (LPSTR)0x0;
      }
      FreeEnvironmentStringsW(lpWideCharStr);
      return local_8;
    }
    pCVar9 = GetEnvironmentStrings();
    if (pCVar9 == (LPCH)0x0) {
      return (LPSTR)0x0;
    }
    DAT_0048e430 = 2;
  }
  else {
    if (DAT_0048e430 == 1) goto LAB_0046ca64;
    if (DAT_0048e430 != 2) {
      return (LPSTR)0x0;
    }
  }
  if ((pCVar9 == (LPCH)0x0) && (pCVar9 = GetEnvironmentStrings(), pCVar9 == (LPCH)0x0)) {
    return (LPSTR)0x0;
  }
  cVar1 = *pCVar9;
  pcVar7 = pCVar9;
  while (cVar1 != '\0') {
    do {
      pcVar8 = pcVar7;
      pcVar7 = pcVar8 + 1;
    } while (*pcVar7 != '\0');
    pcVar7 = pcVar8 + 2;
    cVar1 = *pcVar7;
  }
  pCVar6 = (LPSTR)_malloc((size_t)(pcVar7 + (1 - (int)pCVar9)));
  if (pCVar6 == (LPSTR)0x0) {
    pCVar6 = (LPSTR)0x0;
  }
  else {
    FUN_0046b5a0((undefined4 *)pCVar6,(undefined4 *)pCVar9,(uint)(pcVar7 + (1 - (int)pCVar9)));
  }
  FreeEnvironmentStringsA(pCVar9);
  return pCVar6;
}



/*
 * Function: FUN_0046cb3f
 * Address: 0046cb3f
 */

void FUN_0046cb3f(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  DWORD DVar4;
  HANDLE hFile;
  UINT *pUVar5;
  int iVar6;
  uint uVar7;
  UINT UVar8;
  UINT UVar9;
  _STARTUPINFOA local_4c;
  byte *local_8;
  
  puVar2 = (undefined4 *)_malloc(0x480);
  if (puVar2 == (undefined4 *)0x0) {
    __amsg_exit(0x1b);
  }
  DAT_0048e9a0 = 0x20;
  DAT_0048e8a0 = puVar2;
  for (; puVar2 < DAT_0048e8a0 + 0x120; puVar2 = puVar2 + 9) {
    *(undefined *)(puVar2 + 1) = 0;
    *puVar2 = 0xffffffff;
    puVar2[2] = 0;
    *(undefined *)((int)puVar2 + 5) = 10;
  }
  GetStartupInfoA(&local_4c);
  if ((local_4c.cbReserved2 != 0) && ((UINT *)local_4c.lpReserved2 != (UINT *)0x0)) {
    UVar8 = *(UINT *)local_4c.lpReserved2;
    pUVar5 = (UINT *)((int)local_4c.lpReserved2 + 4);
    local_8 = (byte *)((int)pUVar5 + UVar8);
    if (0x7ff < (int)UVar8) {
      UVar8 = 0x800;
    }
    UVar9 = UVar8;
    if ((int)DAT_0048e9a0 < (int)UVar8) {
      puVar2 = &DAT_0048e8a4;
      do {
        puVar3 = (undefined4 *)_malloc(0x480);
        UVar9 = DAT_0048e9a0;
        if (puVar3 == (undefined4 *)0x0) break;
        DAT_0048e9a0 = DAT_0048e9a0 + 0x20;
        *puVar2 = puVar3;
        puVar1 = puVar3;
        for (; puVar3 < puVar1 + 0x120; puVar3 = puVar3 + 9) {
          *(undefined *)(puVar3 + 1) = 0;
          *puVar3 = 0xffffffff;
          puVar3[2] = 0;
          *(undefined *)((int)puVar3 + 5) = 10;
          puVar1 = (undefined4 *)*puVar2;
        }
        puVar2 = puVar2 + 1;
        UVar9 = UVar8;
      } while ((int)DAT_0048e9a0 < (int)UVar8);
    }
    uVar7 = 0;
    if (0 < (int)UVar9) {
      do {
        if (((*(HANDLE *)local_8 != (HANDLE)0xffffffff) && ((*(byte *)pUVar5 & 1) != 0)) &&
           (((*(byte *)pUVar5 & 8) != 0 || (DVar4 = GetFileType(*(HANDLE *)local_8), DVar4 != 0))))
        {
          puVar2 = (undefined4 *)((int)(&DAT_0048e8a0)[(int)uVar7 >> 5] + (uVar7 & 0x1f) * 0x24);
          *puVar2 = *(undefined4 *)local_8;
          *(byte *)(puVar2 + 1) = *(byte *)pUVar5;
        }
        local_8 = local_8 + 4;
        uVar7 = uVar7 + 1;
        pUVar5 = (UINT *)((int)pUVar5 + 1);
      } while ((int)uVar7 < (int)UVar9);
    }
  }
  iVar6 = 0;
  do {
    puVar2 = DAT_0048e8a0 + iVar6 * 9;
    if (DAT_0048e8a0[iVar6 * 9] == -1) {
      *(undefined *)(puVar2 + 1) = 0x81;
      if (iVar6 == 0) {
        DVar4 = 0xfffffff6;
      }
      else {
        DVar4 = 0xfffffff5 - (iVar6 != 1);
      }
      hFile = GetStdHandle(DVar4);
      if ((hFile != (HANDLE)0xffffffff) && (DVar4 = GetFileType(hFile), DVar4 != 0)) {
        *puVar2 = hFile;
        if ((DVar4 & 0xff) != 2) {
          if ((DVar4 & 0xff) == 3) {
            *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 8;
          }
          goto LAB_0046cce4;
        }
      }
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x40;
    }
    else {
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x80;
    }
LAB_0046cce4:
    iVar6 = iVar6 + 1;
    if (2 < iVar6) {
      SetHandleCount(DAT_0048e9a0);
      return;
    }
  } while( true );
}



/*
 * Function: FUN_0046ccfb
 * Address: 0046ccfb
 */

undefined4 __cdecl FUN_0046ccfb(int param_1)

{
  int iVar1;
  
  DAT_0048e880 = HeapCreate((uint)(param_1 == 0),0x1000,0);
  if (DAT_0048e880 != (HANDLE)0x0) {
    iVar1 = FUN_0046cf62();
    if (iVar1 != 0) {
      return 1;
    }
    HeapDestroy(DAT_0048e880);
  }
  return 0;
}



/*
 * Function: FUN_0046cd37
 * Address: 0046cd37
 */

void FUN_0046cd37(void)

{
  if ((DAT_0048e2d8 == 1) || ((DAT_0048e2d8 == 0 && (DAT_00481698 == 1)))) {
    FUN_0046cd70(0xfc);
    if (DAT_0048e434 != (code *)0x0) {
      (*DAT_0048e434)();
    }
    FUN_0046cd70(0xff);
  }
  return;
}



/*
 * Function: FUN_0046cd70
 * Address: 0046cd70
 */

void __cdecl FUN_0046cd70(DWORD param_1)

{
  undefined4 *puVar1;
  DWORD *pDVar2;
  DWORD DVar3;
  size_t sVar4;
  HANDLE hFile;
  int iVar5;
  uint *_Dest;
  undefined auStackY_1e3 [7];
  LPCVOID lpBuffer;
  LPOVERLAPPED lpOverlapped;
  uint local_1a8 [65];
  uint local_a4 [40];
  
  iVar5 = 0;
  pDVar2 = &DAT_00481d48;
  do {
    if (param_1 == *pDVar2) break;
    pDVar2 = pDVar2 + 2;
    iVar5 = iVar5 + 1;
  } while ((int)pDVar2 < 0x481dd8);
  if (param_1 == (&DAT_00481d48)[iVar5 * 2]) {
    if ((DAT_0048e2d8 == 1) || ((DAT_0048e2d8 == 0 && (DAT_00481698 == 1)))) {
      pDVar2 = &param_1;
      puVar1 = (undefined4 *)(iVar5 * 8 + 0x481d4c);
      lpOverlapped = (LPOVERLAPPED)0x0;
      sVar4 = _strlen((char *)*puVar1);
      lpBuffer = (LPCVOID)*puVar1;
      hFile = GetStdHandle(0xfffffff4);
      WriteFile(hFile,lpBuffer,sVar4,pDVar2,lpOverlapped);
    }
    else if (param_1 != 0xfc) {
      DVar3 = GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_1a8,0x104);
      if (DVar3 == 0) {
        FUN_0046f420(local_1a8,(uint *)"<program name unknown>");
      }
      _Dest = local_1a8;
      sVar4 = _strlen((char *)local_1a8);
      if (0x3c < sVar4 + 1) {
        sVar4 = _strlen((char *)local_1a8);
        _Dest = (uint *)(auStackY_1e3 + sVar4);
        _strncpy((char *)_Dest,"...",3);
      }
      FUN_0046f420(local_a4,(uint *)"Runtime Error!\n\nProgram: ");
      FUN_0046f430(local_a4,_Dest);
      FUN_0046f430(local_a4,(uint *)&DAT_00477350);
      FUN_0046f430(local_a4,*(uint **)(iVar5 * 8 + 0x481d4c));
      auStackY_1e3._3_4_ = 0x46ce94;
      FUN_0047009c(local_a4,"Microsoft Visual C++ Runtime Library",0x12010);
    }
  }
  return;
}



/*
 * Function: FUN_0046cec3
 * Address: 0046cec3
 */

void FUN_0046cec3(void)

{
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_00481e1c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_00481e0c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_00481dfc);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_00481ddc);
  return;
}



/*
 * Function: FUN_0046ceec
 * Address: 0046ceec
 */

void __cdecl FUN_0046ceec(int param_1)

{
  int *piVar1;
  LPCRITICAL_SECTION lpCriticalSection;
  
  piVar1 = (int *)(&DAT_00481dd8 + param_1 * 4);
  if (*(int *)(&DAT_00481dd8 + param_1 * 4) == 0) {
    lpCriticalSection = (LPCRITICAL_SECTION)_malloc(0x18);
    if (lpCriticalSection == (LPCRITICAL_SECTION)0x0) {
      __amsg_exit(0x11);
    }
    FUN_0046ceec(0x11);
    if (*piVar1 == 0) {
      InitializeCriticalSection(lpCriticalSection);
      *piVar1 = (int)lpCriticalSection;
    }
    else {
      FUN_0046878d(lpCriticalSection);
    }
    FUN_0046cf4d(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)*piVar1);
  return;
}



/*
 * Function: FUN_0046cf4d
 * Address: 0046cf4d
 */

void __cdecl FUN_0046cf4d(int param_1)

{
  LeaveCriticalSection(*(LPCRITICAL_SECTION *)(&DAT_00481dd8 + param_1 * 4));
  return;
}



/*
 * Function: FUN_0046cf62
 * Address: 0046cf62
 */

undefined4 FUN_0046cf62(void)

{
  DAT_0048e87c = HeapAlloc(DAT_0048e880,0,0x140);
  if (DAT_0048e87c == (LPVOID)0x0) {
    return 0;
  }
  DAT_0048e874 = 0;
  DAT_0048e878 = 0;
  DAT_0048e870 = DAT_0048e87c;
  DAT_0048e868 = 0x10;
  return 1;
}



/*
 * Function: FUN_0046cfa0
 * Address: 0046cfa0
 */

uint __cdecl FUN_0046cfa0(int param_1)

{
  uint uVar1;
  
  uVar1 = DAT_0048e87c;
  while( true ) {
    if (DAT_0048e87c + DAT_0048e878 * 0x14 <= uVar1) {
      return 0;
    }
    if ((uint)(param_1 - *(int *)(uVar1 + 0xc)) < 0x100000) break;
    uVar1 = uVar1 + 0x14;
  }
  return uVar1;
}



/*
 * Function: FUN_0046cfcb
 * Address: 0046cfcb
 */

void __cdecl FUN_0046cfcb(uint *param_1,uint param_2)

{
  char *pcVar1;
  uint *puVar2;
  int *piVar3;
  char cVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte bVar8;
  int *piVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int local_10;
  
  uVar5 = param_1[4];
  iVar6 = *(int *)(param_2 - 4);
  piVar9 = (int *)(param_2 - 4);
  uVar10 = param_2 - param_1[3] >> 0xf;
  uVar7 = *(uint *)(param_2 - 8);
  local_10 = iVar6 + -1;
  piVar3 = (int *)(uVar10 * 0x204 + 0x144 + uVar5);
  uVar12 = *(uint *)(local_10 + (int)piVar9);
  if ((uVar12 & 1) == 0) {
    param_2 = ((int)uVar12 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    if (*(int *)(iVar6 + 3 + (int)piVar9) == *(int *)(iVar6 + 7 + (int)piVar9)) {
      if (param_2 < 0x20) {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar11;
        }
      }
      else {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar11;
        }
      }
    }
    *(undefined4 *)(*(int *)(iVar6 + 7 + (int)piVar9) + 4) =
         *(undefined4 *)(iVar6 + 3 + (int)piVar9);
    local_10 = local_10 + uVar12;
    *(undefined4 *)(*(int *)(iVar6 + 3 + (int)piVar9) + 8) =
         *(undefined4 *)(iVar6 + 7 + (int)piVar9);
  }
  uVar12 = (local_10 >> 4) - 1;
  if (0x3f < uVar12) {
    uVar12 = 0x3f;
  }
  if ((uVar7 & 1) == 0) {
    piVar9 = (int *)((int)piVar9 - uVar7);
    param_2 = ((int)uVar7 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    local_10 = local_10 + uVar7;
    uVar12 = (local_10 >> 4) - 1;
    if (0x3f < uVar12) {
      uVar12 = 0x3f;
    }
    if (param_2 != uVar12) {
      if (piVar9[1] == piVar9[2]) {
        if (param_2 < 0x20) {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            *param_1 = *param_1 & uVar11;
          }
        }
        else {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            param_1[1] = param_1[1] & uVar11;
          }
        }
      }
      *(int *)(piVar9[2] + 4) = piVar9[1];
      *(int *)(piVar9[1] + 8) = piVar9[2];
    }
  }
  if (((uVar7 & 1) != 0) || (param_2 != uVar12)) {
    piVar9[1] = piVar3[uVar12 * 2 + 1];
    piVar9[2] = (int)(piVar3 + uVar12 * 2);
    (piVar3 + uVar12 * 2)[1] = (int)piVar9;
    *(int **)(piVar9[1] + 8) = piVar9;
    if (piVar9[1] == piVar9[2]) {
      cVar4 = *(char *)(uVar12 + 4 + uVar5);
      *(char *)(uVar12 + 4 + uVar5) = cVar4 + '\x01';
      bVar8 = (byte)uVar12;
      if (uVar12 < 0x20) {
        if (cVar4 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar8 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 & 0x1f);
      }
      else {
        if (cVar4 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
      }
    }
  }
  *piVar9 = local_10;
  *(int *)(local_10 + -4 + (int)piVar9) = local_10;
  *piVar3 = *piVar3 + -1;
  uVar5 = DAT_0048e86c;
  puVar2 = DAT_0048e874;
  if ((*piVar3 == 0) && (uVar5 = uVar10, puVar2 = param_1, DAT_0048e874 != (uint *)0x0)) {
    VirtualFree((LPVOID)(DAT_0048e86c * 0x8000 + DAT_0048e874[3]),0x8000,0x4000);
    DAT_0048e874[2] = DAT_0048e874[2] | 0x80000000U >> ((byte)DAT_0048e86c & 0x1f);
    *(undefined4 *)(DAT_0048e874[4] + 0xc4 + DAT_0048e86c * 4) = 0;
    *(char *)(DAT_0048e874[4] + 0x43) = *(char *)(DAT_0048e874[4] + 0x43) + -1;
    if (*(char *)(DAT_0048e874[4] + 0x43) == '\0') {
      DAT_0048e874[1] = DAT_0048e874[1] & 0xfffffffe;
    }
    puVar2 = param_1;
    if (DAT_0048e874[2] == 0xffffffff) {
      VirtualFree((LPVOID)DAT_0048e874[3],0,0x8000);
      HeapFree(DAT_0048e880,0,(LPVOID)DAT_0048e874[4]);
      FUN_0046dc00(DAT_0048e874,DAT_0048e874 + 5,
                   (DAT_0048e878 * 0x14 - (int)DAT_0048e874) + -0x14 + DAT_0048e87c);
      DAT_0048e878 = DAT_0048e878 + -1;
      if (DAT_0048e874 < param_1) {
        param_1 = param_1 + -5;
      }
      DAT_0048e870 = DAT_0048e87c;
      puVar2 = param_1;
    }
  }
  DAT_0048e874 = puVar2;
  DAT_0048e86c = uVar5;
  return;
}



/*
 * Function: FUN_0046d2f6
 * Address: 0046d2f6
 */

int * __cdecl FUN_0046d2f6(uint *param_1)

{
  char *pcVar1;
  int *piVar2;
  char cVar3;
  int *piVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  uint *puVar8;
  int iVar9;
  int *piVar10;
  uint *puVar11;
  uint *puVar12;
  uint uVar13;
  int iVar14;
  uint local_10;
  uint local_c;
  int local_8;
  
  puVar8 = DAT_0048e87c + DAT_0048e878 * 5;
  uVar6 = (int)param_1 + 0x17U & 0xfffffff0;
  iVar7 = ((int)((int)param_1 + 0x17U) >> 4) + -1;
  bVar5 = (byte)iVar7;
  if (iVar7 < 0x20) {
    local_10 = 0xffffffff >> (bVar5 & 0x1f);
    local_c = 0xffffffff;
  }
  else {
    local_c = 0xffffffff >> (bVar5 - 0x20 & 0x1f);
    local_10 = 0;
  }
  param_1 = DAT_0048e870;
  if (DAT_0048e870 < puVar8) {
    do {
      if ((param_1[1] & local_c) != 0 || (*param_1 & local_10) != 0) break;
      param_1 = param_1 + 5;
    } while (param_1 < puVar8);
  }
  puVar11 = DAT_0048e87c;
  if (param_1 == puVar8) {
    for (; (puVar11 < DAT_0048e870 && ((puVar11[1] & local_c) == 0 && (*puVar11 & local_10) == 0));
        puVar11 = puVar11 + 5) {
    }
    param_1 = puVar11;
    if (puVar11 == DAT_0048e870) {
      for (; (puVar11 < puVar8 && (puVar11[2] == 0)); puVar11 = puVar11 + 5) {
      }
      puVar12 = DAT_0048e87c;
      param_1 = puVar11;
      if (puVar11 == puVar8) {
        for (; (puVar12 < DAT_0048e870 && (puVar12[2] == 0)); puVar12 = puVar12 + 5) {
        }
        param_1 = puVar12;
        if ((puVar12 == DAT_0048e870) && (param_1 = FUN_0046d5ff(), param_1 == (uint *)0x0)) {
          return (int *)0x0;
        }
      }
      iVar7 = FUN_0046d6b0((int)param_1);
      *(int *)param_1[4] = iVar7;
      if (*(int *)param_1[4] == -1) {
        return (int *)0x0;
      }
    }
  }
  piVar4 = (int *)param_1[4];
  local_8 = *piVar4;
  if ((local_8 == -1) ||
     ((piVar4[local_8 + 0x31] & local_c) == 0 && (piVar4[local_8 + 0x11] & local_10) == 0)) {
    local_8 = 0;
    puVar8 = (uint *)(piVar4 + 0x11);
    if ((piVar4[0x31] & local_c) == 0 && (piVar4[0x11] & local_10) == 0) {
      do {
        puVar11 = puVar8 + 0x21;
        local_8 = local_8 + 1;
        puVar8 = puVar8 + 1;
      } while ((*puVar11 & local_c) == 0 && (local_10 & *puVar8) == 0);
    }
  }
  iVar7 = 0;
  piVar2 = piVar4 + local_8 * 0x81 + 0x51;
  local_10 = piVar4[local_8 + 0x11] & local_10;
  if (local_10 == 0) {
    local_10 = piVar4[local_8 + 0x31] & local_c;
    iVar7 = 0x20;
  }
  for (; -1 < (int)local_10; local_10 = local_10 << 1) {
    iVar7 = iVar7 + 1;
  }
  piVar10 = (int *)piVar2[iVar7 * 2 + 1];
  iVar9 = *piVar10 - uVar6;
  iVar14 = (iVar9 >> 4) + -1;
  if (0x3f < iVar14) {
    iVar14 = 0x3f;
  }
  DAT_0048e870 = param_1;
  if (iVar14 != iVar7) {
    if (piVar10[1] == piVar10[2]) {
      if (iVar7 < 0x20) {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 & 0x1f));
        piVar4[local_8 + 0x11] = uVar13 & piVar4[local_8 + 0x11];
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar13;
        }
      }
      else {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 - 0x20 & 0x1f));
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] & uVar13;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar13;
        }
      }
    }
    *(int *)(piVar10[2] + 4) = piVar10[1];
    *(int *)(piVar10[1] + 8) = piVar10[2];
    if (iVar9 == 0) goto LAB_0046d5bc;
    piVar10[1] = piVar2[iVar14 * 2 + 1];
    piVar10[2] = (int)(piVar2 + iVar14 * 2);
    (piVar2 + iVar14 * 2)[1] = (int)piVar10;
    *(int **)(piVar10[1] + 8) = piVar10;
    if (piVar10[1] == piVar10[2]) {
      cVar3 = *(char *)(iVar14 + 4 + (int)piVar4);
      bVar5 = (byte)iVar14;
      if (iVar14 < 0x20) {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar5 & 0x1f);
        }
        piVar4[local_8 + 0x11] = piVar4[local_8 + 0x11] | 0x80000000U >> (bVar5 & 0x1f);
      }
      else {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
        }
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
      }
    }
  }
  if (iVar9 != 0) {
    *piVar10 = iVar9;
    *(int *)(iVar9 + -4 + (int)piVar10) = iVar9;
  }
LAB_0046d5bc:
  piVar10 = (int *)((int)piVar10 + iVar9);
  *piVar10 = uVar6 + 1;
  *(uint *)((int)piVar10 + (uVar6 - 4)) = uVar6 + 1;
  iVar7 = *piVar2;
  *piVar2 = iVar7 + 1;
  if (((iVar7 == 0) && (param_1 == DAT_0048e874)) && (local_8 == DAT_0048e86c)) {
    DAT_0048e874 = (uint *)0x0;
  }
  *piVar4 = local_8;
  return piVar10 + 1;
}



/*
 * Function: FUN_0046d5ff
 * Address: 0046d5ff
 */

undefined4 * FUN_0046d5ff(void)

{
  undefined4 *puVar1;
  LPVOID pvVar2;
  
  if (DAT_0048e878 == DAT_0048e868) {
    pvVar2 = HeapReAlloc(DAT_0048e880,0,DAT_0048e87c,(DAT_0048e868 * 5 + 0x50) * 4);
    if (pvVar2 == (LPVOID)0x0) {
      return (undefined4 *)0x0;
    }
    DAT_0048e868 = DAT_0048e868 + 0x10;
    DAT_0048e87c = pvVar2;
  }
  puVar1 = (undefined4 *)((int)DAT_0048e87c + DAT_0048e878 * 0x14);
  pvVar2 = HeapAlloc(DAT_0048e880,8,0x41c4);
  puVar1[4] = pvVar2;
  if (pvVar2 != (LPVOID)0x0) {
    pvVar2 = VirtualAlloc((LPVOID)0x0,0x100000,0x2000,4);
    puVar1[3] = pvVar2;
    if (pvVar2 != (LPVOID)0x0) {
      puVar1[2] = 0xffffffff;
      *puVar1 = 0;
      puVar1[1] = 0;
      DAT_0048e878 = DAT_0048e878 + 1;
      *(undefined4 *)puVar1[4] = 0xffffffff;
      return puVar1;
    }
    HeapFree(DAT_0048e880,0,(LPVOID)puVar1[4]);
  }
  return (undefined4 *)0x0;
}



/*
 * Function: FUN_0046d6b0
 * Address: 0046d6b0
 */

int __cdecl FUN_0046d6b0(int param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  LPVOID pvVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int *lpAddress;
  
  iVar3 = *(int *)(param_1 + 0x10);
  iVar9 = 0;
  for (iVar4 = *(int *)(param_1 + 8); -1 < iVar4; iVar4 = iVar4 << 1) {
    iVar9 = iVar9 + 1;
  }
  iVar8 = 0x3f;
  iVar4 = iVar9 * 0x204 + 0x144 + iVar3;
  iVar5 = iVar4;
  do {
    *(int *)(iVar5 + 8) = iVar5;
    *(int *)(iVar5 + 4) = iVar5;
    iVar5 = iVar5 + 8;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  lpAddress = (int *)(iVar9 * 0x8000 + *(int *)(param_1 + 0xc));
  pvVar6 = VirtualAlloc(lpAddress,0x8000,0x1000,4);
  if (pvVar6 == (LPVOID)0x0) {
    iVar9 = -1;
  }
  else {
    if (lpAddress <= lpAddress + 0x1c00) {
      piVar7 = lpAddress + 4;
      do {
        piVar7[-2] = -1;
        piVar7[0x3fb] = -1;
        piVar7[-1] = 0xff0;
        *piVar7 = (int)(piVar7 + 0x3ff);
        piVar7[1] = (int)(piVar7 + -0x401);
        piVar7[0x3fa] = 0xff0;
        piVar1 = piVar7 + 0x3fc;
        piVar7 = piVar7 + 0x400;
      } while (piVar1 <= lpAddress + 0x1c00);
    }
    *(int **)(iVar4 + 0x1fc) = lpAddress + 3;
    lpAddress[5] = iVar4 + 0x1f8;
    *(int **)(iVar4 + 0x200) = lpAddress + 0x1c03;
    lpAddress[0x1c04] = iVar4 + 0x1f8;
    *(undefined4 *)(iVar3 + 0x44 + iVar9 * 4) = 0;
    *(undefined4 *)(iVar3 + 0xc4 + iVar9 * 4) = 1;
    cVar2 = *(char *)(iVar3 + 0x43);
    *(char *)(iVar3 + 0x43) = cVar2 + '\x01';
    if (cVar2 == '\0') {
      *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 1;
    }
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) & ~(0x80000000U >> ((byte)iVar9 & 0x1f));
  }
  return iVar9;
}



/*
 * Function: FUN_0046d7ab
 * Address: 0046d7ab
 */

undefined4 __cdecl FUN_0046d7ab(uint *param_1,int param_2,int param_3)

{
  char *pcVar1;
  int *piVar2;
  int iVar3;
  char cVar4;
  uint uVar5;
  int iVar6;
  uint *puVar7;
  byte bVar8;
  int iVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  uint local_c;
  
  uVar5 = param_1[4];
  uVar12 = param_3 + 0x17U & 0xfffffff0;
  uVar10 = param_2 - param_1[3] >> 0xf;
  iVar3 = uVar10 * 0x204 + 0x144 + uVar5;
  iVar6 = *(int *)(param_2 + -4);
  iVar9 = iVar6 + -1;
  uVar13 = *(uint *)(iVar6 + -5 + param_2);
  iVar6 = iVar6 + -5 + param_2;
  if (iVar9 < (int)uVar12) {
    if (((uVar13 & 1) != 0) || ((int)(uVar13 + iVar9) < (int)uVar12)) {
      return 0;
    }
    local_c = ((int)uVar13 >> 4) - 1;
    if (0x3f < local_c) {
      local_c = 0x3f;
    }
    if (*(int *)(iVar6 + 4) == *(int *)(iVar6 + 8)) {
      if (local_c < 0x20) {
        pcVar1 = (char *)(local_c + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)local_c & 0x1f));
        puVar7 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar7 = *puVar7 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar11;
        }
      }
      else {
        pcVar1 = (char *)(local_c + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)local_c - 0x20 & 0x1f));
        puVar7 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar7 = *puVar7 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar11;
        }
      }
    }
    *(undefined4 *)(*(int *)(iVar6 + 8) + 4) = *(undefined4 *)(iVar6 + 4);
    *(undefined4 *)(*(int *)(iVar6 + 4) + 8) = *(undefined4 *)(iVar6 + 8);
    iVar6 = uVar13 + (iVar9 - uVar12);
    if (0 < iVar6) {
      uVar13 = (iVar6 >> 4) - 1;
      iVar9 = param_2 + -4 + uVar12;
      if (0x3f < uVar13) {
        uVar13 = 0x3f;
      }
      iVar3 = iVar3 + uVar13 * 8;
      *(undefined4 *)(iVar9 + 4) = *(undefined4 *)(iVar3 + 4);
      *(int *)(iVar9 + 8) = iVar3;
      *(int *)(iVar3 + 4) = iVar9;
      *(int *)(*(int *)(iVar9 + 4) + 8) = iVar9;
      if (*(int *)(iVar9 + 4) == *(int *)(iVar9 + 8)) {
        cVar4 = *(char *)(uVar13 + 4 + uVar5);
        *(char *)(uVar13 + 4 + uVar5) = cVar4 + '\x01';
        bVar8 = (byte)uVar13;
        if (uVar13 < 0x20) {
          if (cVar4 == '\0') {
            *param_1 = *param_1 | 0x80000000U >> (bVar8 & 0x1f);
          }
          puVar7 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        }
        else {
          if (cVar4 == '\0') {
            param_1[1] = param_1[1] | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
          }
          puVar7 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
          bVar8 = bVar8 - 0x20;
        }
        *puVar7 = *puVar7 | 0x80000000U >> (bVar8 & 0x1f);
      }
      piVar2 = (int *)(param_2 + -4 + uVar12);
      *piVar2 = iVar6;
      *(int *)(iVar6 + -4 + (int)piVar2) = iVar6;
    }
    *(uint *)(param_2 + -4) = uVar12 + 1;
    *(uint *)(param_2 + -8 + uVar12) = uVar12 + 1;
  }
  else if ((int)uVar12 < iVar9) {
    param_3 = iVar9 - uVar12;
    *(uint *)(param_2 + -4) = uVar12 + 1;
    piVar2 = (int *)(param_2 + -4 + uVar12);
    uVar11 = (param_3 >> 4) - 1;
    piVar2[-1] = uVar12 + 1;
    if (0x3f < uVar11) {
      uVar11 = 0x3f;
    }
    if ((uVar13 & 1) == 0) {
      uVar12 = ((int)uVar13 >> 4) - 1;
      if (0x3f < uVar12) {
        uVar12 = 0x3f;
      }
      if (*(int *)(iVar6 + 4) == *(int *)(iVar6 + 8)) {
        if (uVar12 < 0x20) {
          pcVar1 = (char *)(uVar12 + 4 + uVar5);
          uVar12 = ~(0x80000000U >> ((byte)uVar12 & 0x1f));
          puVar7 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
          *puVar7 = *puVar7 & uVar12;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            *param_1 = *param_1 & uVar12;
          }
        }
        else {
          pcVar1 = (char *)(uVar12 + 4 + uVar5);
          uVar12 = ~(0x80000000U >> ((byte)uVar12 - 0x20 & 0x1f));
          puVar7 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
          *puVar7 = *puVar7 & uVar12;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            param_1[1] = param_1[1] & uVar12;
          }
        }
      }
      *(undefined4 *)(*(int *)(iVar6 + 8) + 4) = *(undefined4 *)(iVar6 + 4);
      *(undefined4 *)(*(int *)(iVar6 + 4) + 8) = *(undefined4 *)(iVar6 + 8);
      param_3 = param_3 + uVar13;
      uVar11 = (param_3 >> 4) - 1;
      if (0x3f < uVar11) {
        uVar11 = 0x3f;
      }
    }
    iVar6 = iVar3 + uVar11 * 8;
    piVar2[1] = *(int *)(iVar3 + 4 + uVar11 * 8);
    piVar2[2] = iVar6;
    *(int **)(iVar6 + 4) = piVar2;
    *(int **)(piVar2[1] + 8) = piVar2;
    if (piVar2[1] == piVar2[2]) {
      cVar4 = *(char *)(uVar11 + 4 + uVar5);
      *(char *)(uVar11 + 4 + uVar5) = cVar4 + '\x01';
      bVar8 = (byte)uVar11;
      if (uVar11 < 0x20) {
        if (cVar4 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar8 & 0x1f);
        }
        puVar7 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
      }
      else {
        if (cVar4 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
        }
        puVar7 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        bVar8 = bVar8 - 0x20;
      }
      *puVar7 = *puVar7 | 0x80000000U >> (bVar8 & 0x1f);
    }
    *piVar2 = param_3;
    *(int *)(param_3 + -4 + (int)piVar2) = param_3;
  }
  return 1;
}



/*
 * Function: FUN_0046daa1
 * Address: 0046daa1
 */

undefined4 __cdecl FUN_0046daa1(undefined4 param_1)

{
  int iVar1;
  
  if (DAT_0048e49c != (code *)0x0) {
    iVar1 = (*DAT_0048e49c)(param_1);
    if (iVar1 != 0) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_0046dabc
 * Address: 0046dabc
 */

int FUN_0046dabc(int *param_1)

{
  int *piVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  
  piVar1 = (int *)*param_1;
  if (((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) {
    iVar3 = FUN_0046918a();
    return iVar3;
  }
  if ((DAT_0048e4a0 != (FARPROC)0x0) &&
     (bVar2 = FUN_0046db58(DAT_0048e4a0), CONCAT31(extraout_var,bVar2) != 0)) {
    iVar3 = (*DAT_0048e4a0)(param_1);
    return iVar3;
  }
  return 0;
}



/*
 * Function: FUN_0046db20
 * Address: 0046db20
 */

bool __cdecl FUN_0046db20(void *param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadReadPtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_0046db3c
 * Address: 0046db3c
 */

bool __cdecl FUN_0046db3c(LPVOID param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadWritePtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_0046db58
 * Address: 0046db58
 */

bool __cdecl FUN_0046db58(FARPROC param_1)

{
  BOOL BVar1;
  
  BVar1 = IsBadCodePtr(param_1);
  return BVar1 == 0;
}



/*
 * Function: _strcmp
 * Address: 0046db70
 */

/* Library Function - Single Match
    _strcmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strcmp(char *_Str1,char *_Str2)

{
  undefined2 uVar1;
  undefined4 uVar2;
  byte bVar3;
  byte bVar4;
  bool bVar5;
  
  if (((uint)_Str1 & 3) != 0) {
    if (((uint)_Str1 & 1) != 0) {
      bVar4 = *_Str1;
      _Str1 = _Str1 + 1;
      bVar5 = bVar4 < (byte)*_Str2;
      if (bVar4 != *_Str2) goto LAB_0046dbb4;
      _Str2 = _Str2 + 1;
      if (bVar4 == 0) {
        return 0;
      }
      if (((uint)_Str1 & 2) == 0) goto LAB_0046db80;
    }
    uVar1 = *(undefined2 *)_Str1;
    _Str1 = _Str1 + 2;
    bVar4 = (byte)uVar1;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) goto LAB_0046dbb4;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((ushort)uVar1 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) goto LAB_0046dbb4;
    if (bVar4 == 0) {
      return 0;
    }
    _Str2 = (char *)((byte *)_Str2 + 2);
  }
LAB_0046db80:
  while( true ) {
    uVar2 = *(undefined4 *)_Str1;
    bVar4 = (byte)uVar2;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 0x10);
    bVar5 = bVar4 < ((byte *)_Str2)[2];
    if (bVar4 != ((byte *)_Str2)[2]) break;
    bVar3 = (byte)((uint)uVar2 >> 0x18);
    if (bVar4 == 0) {
      return 0;
    }
    bVar5 = bVar3 < ((byte *)_Str2)[3];
    if (bVar3 != ((byte *)_Str2)[3]) break;
    _Str2 = (char *)((byte *)_Str2 + 4);
    _Str1 = _Str1 + 4;
    if (bVar3 == 0) {
      return 0;
    }
  }
LAB_0046dbb4:
  return (uint)bVar5 * -2 + 1;
}



/*
 * Function: FUN_0046dc00
 * Address: 0046dc00
 */

undefined4 * __cdecl FUN_0046dc00(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_0046ddb7_caseD_2;
        case 3:
          goto switchD_0046ddb7_caseD_3;
        }
        goto switchD_0046ddb7_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_0046ddb7_caseD_0;
      case 1:
        goto switchD_0046ddb7_caseD_1;
      case 2:
        goto switchD_0046ddb7_caseD_2;
      case 3:
        goto switchD_0046ddb7_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_0046ddb7_caseD_2;
            case 3:
              goto switchD_0046ddb7_caseD_3;
            }
            goto switchD_0046ddb7_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_0046ddb7_caseD_2;
            case 3:
              goto switchD_0046ddb7_caseD_3;
            }
            goto switchD_0046ddb7_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_0046ddb7_caseD_2;
            case 3:
              goto switchD_0046ddb7_caseD_3;
            }
            goto switchD_0046ddb7_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_0046ddb7_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_0046ddb7_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_0046ddb7_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_0046ddb7_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_0046dc35_caseD_2;
      case 3:
        goto switchD_0046dc35_caseD_3;
      }
      goto switchD_0046dc35_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_0046dc35_caseD_0;
    case 1:
      goto switchD_0046dc35_caseD_1;
    case 2:
      goto switchD_0046dc35_caseD_2;
    case 3:
      goto switchD_0046dc35_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_0046dc35_caseD_2;
          case 3:
            goto switchD_0046dc35_caseD_3;
          }
          goto switchD_0046dc35_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_0046dc35_caseD_2;
          case 3:
            goto switchD_0046dc35_caseD_3;
          }
          goto switchD_0046dc35_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_0046dc35_caseD_2;
          case 3:
            goto switchD_0046dc35_caseD_3;
          }
          goto switchD_0046dc35_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_0046dc35_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_0046dc35_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_0046dc35_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_0046dc35_caseD_0:
  return param_1;
}



/*
 * Function: FUN_0046df35
 * Address: 0046df35
 */

int * __cdecl FUN_0046df35(int param_1,int param_2)

{
  int iVar1;
  uint *_Size;
  uint *puVar2;
  int *piVar3;
  
  _Size = (uint *)(param_1 * param_2);
  puVar2 = _Size;
  if (_Size < (uint *)0xffffffe1) {
    if (_Size == (uint *)0x0) {
      puVar2 = (uint *)0x1;
    }
    puVar2 = (uint *)((int)puVar2 + 0xfU & 0xfffffff0);
  }
  do {
    piVar3 = (int *)0x0;
    if (puVar2 < (uint *)0xffffffe1) {
      if (_Size < DAT_00481e98 || (int)_Size - (int)DAT_00481e98 == 0) {
        FUN_0046ceec(9);
        piVar3 = FUN_0046d2f6(_Size);
        FUN_0046cf4d(9);
        if (piVar3 != (int *)0x0) {
          _memset(piVar3,0,(size_t)_Size);
          return piVar3;
        }
      }
      piVar3 = (int *)HeapAlloc(DAT_0048e880,8,(SIZE_T)puVar2);
      if (piVar3 != (int *)0x0) {
        return piVar3;
      }
    }
    if (DAT_0048e498 == 0) {
      return piVar3;
    }
    iVar1 = FUN_0046daa1(puVar2);
  } while (iVar1 != 0);
  return (int *)0x0;
}



/*
 * Function: FUN_0046dfc2
 * Address: 0046dfc2
 */

void FUN_0046dfc2(void)

{
  FUN_0046cd70(10);
  FUN_0047022e((DWORD *)0x16);
                    /* WARNING: Subroutine does not return */
  __exit(3);
}



/*
 * Function: FUN_0046e05a
 * Address: 0046e05a
 */

void __cdecl FUN_0046e05a(uint param_1)

{
  DWORD *pDVar1;
  uint *puVar2;
  int iVar3;
  
  pDVar1 = FUN_0046e0d6();
  iVar3 = 0;
  *pDVar1 = param_1;
  puVar2 = &DAT_00481ea0;
  do {
    if (param_1 == *puVar2) {
      pDVar1 = FUN_0046e0cd();
      *pDVar1 = (&DAT_00481ea4)[iVar3 * 2];
      return;
    }
    puVar2 = puVar2 + 2;
    iVar3 = iVar3 + 1;
  } while ((int)puVar2 < 0x482008);
  if ((0x12 < param_1) && (param_1 < 0x25)) {
    pDVar1 = FUN_0046e0cd();
    *pDVar1 = 0xd;
    return;
  }
  if ((0xbb < param_1) && (param_1 < 0xcb)) {
    pDVar1 = FUN_0046e0cd();
    *pDVar1 = 8;
    return;
  }
  pDVar1 = FUN_0046e0cd();
  *pDVar1 = 0x16;
  return;
}



/*
 * Function: FUN_0046e0cd
 * Address: 0046e0cd
 */

DWORD * FUN_0046e0cd(void)

{
  DWORD *pDVar1;
  
  pDVar1 = FUN_00469123();
  return pDVar1 + 2;
}



/*
 * Function: FUN_0046e0d6
 * Address: 0046e0d6
 */

DWORD * FUN_0046e0d6(void)

{
  DWORD *pDVar1;
  
  pDVar1 = FUN_00469123();
  return pDVar1 + 3;
}



/*
 * Function: FUN_0046e0df
 * Address: 0046e0df
 */

uint FUN_0046e0df(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int local_8;
  int local_4;
  
  uVar4 = 0xffffffff;
  FUN_0046ceec(0x12);
  local_8 = 0;
  local_4 = 0;
  piVar3 = &DAT_0048e8a0;
  while (puVar2 = (undefined4 *)*piVar3, puVar1 = puVar2, puVar2 != (undefined4 *)0x0) {
    for (; puVar2 < puVar1 + 0x120; puVar2 = puVar2 + 9) {
      if ((*(byte *)(puVar2 + 1) & 1) == 0) {
        if (puVar2[2] == 0) {
          FUN_0046ceec(0x11);
          if (puVar2[2] == 0) {
            InitializeCriticalSection((LPCRITICAL_SECTION)(puVar2 + 3));
            puVar2[2] = puVar2[2] + 1;
          }
          FUN_0046cf4d(0x11);
        }
        EnterCriticalSection((LPCRITICAL_SECTION)(puVar2 + 3));
        if ((*(byte *)(puVar2 + 1) & 1) == 0) {
          *puVar2 = 0xffffffff;
          uVar4 = ((int)puVar2 - *piVar3) / 0x24 + local_4;
          if (uVar4 != 0xffffffff) goto LAB_0046e1f1;
          break;
        }
        LeaveCriticalSection((LPCRITICAL_SECTION)(puVar2 + 3));
      }
      puVar1 = (undefined4 *)*piVar3;
    }
    local_4 = local_4 + 0x20;
    piVar3 = piVar3 + 1;
    local_8 = local_8 + 1;
    if (0x48e99f < (int)piVar3) goto LAB_0046e1f1;
  }
  puVar2 = (undefined4 *)_malloc(0x480);
  if (puVar2 != (undefined4 *)0x0) {
    DAT_0048e9a0 = DAT_0048e9a0 + 0x20;
    (&DAT_0048e8a0)[local_8] = puVar2;
    puVar1 = puVar2;
    for (; puVar2 < puVar1 + 0x120; puVar2 = puVar2 + 9) {
      *(undefined *)(puVar2 + 1) = 0;
      *puVar2 = 0xffffffff;
      puVar2[2] = 0;
      *(undefined *)((int)puVar2 + 5) = 10;
      puVar1 = (undefined4 *)(&DAT_0048e8a0)[local_8];
    }
    uVar4 = local_8 << 5;
    FUN_0046e33f(uVar4);
  }
LAB_0046e1f1:
  FUN_0046cf4d(0x12);
  return uVar4;
}



/*
 * Function: FUN_0046e202
 * Address: 0046e202
 */

undefined4 __cdecl FUN_0046e202(uint param_1,HANDLE param_2)

{
  DWORD *pDVar1;
  int iVar2;
  DWORD nStdHandle;
  
  if (param_1 < DAT_0048e9a0) {
    iVar2 = (param_1 & 0x1f) * 0x24;
    if (*(int *)((&DAT_0048e8a0)[(int)param_1 >> 5] + iVar2) == -1) {
      if (DAT_00481698 == 1) {
        if (param_1 == 0) {
          nStdHandle = 0xfffffff6;
        }
        else if (param_1 == 1) {
          nStdHandle = 0xfffffff5;
        }
        else {
          if (param_1 != 2) goto LAB_0046e25b;
          nStdHandle = 0xfffffff4;
        }
        SetStdHandle(nStdHandle,param_2);
      }
LAB_0046e25b:
      *(HANDLE *)((&DAT_0048e8a0)[(int)param_1 >> 5] + iVar2) = param_2;
      return 0;
    }
  }
  pDVar1 = FUN_0046e0cd();
  *pDVar1 = 9;
  pDVar1 = FUN_0046e0d6();
  *pDVar1 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_0046e27e
 * Address: 0046e27e
 */

undefined4 __cdecl FUN_0046e27e(uint param_1)

{
  int *piVar1;
  DWORD *pDVar2;
  int iVar3;
  DWORD nStdHandle;
  
  if (param_1 < DAT_0048e9a0) {
    iVar3 = (param_1 & 0x1f) * 0x24;
    piVar1 = (int *)((&DAT_0048e8a0)[(int)param_1 >> 5] + iVar3);
    if (((*(byte *)(piVar1 + 1) & 1) != 0) && (*piVar1 != -1)) {
      if (DAT_00481698 == 1) {
        if (param_1 == 0) {
          nStdHandle = 0xfffffff6;
        }
        else if (param_1 == 1) {
          nStdHandle = 0xfffffff5;
        }
        else {
          if (param_1 != 2) goto LAB_0046e2da;
          nStdHandle = 0xfffffff4;
        }
        SetStdHandle(nStdHandle,(HANDLE)0x0);
      }
LAB_0046e2da:
      *(undefined4 *)((&DAT_0048e8a0)[(int)param_1 >> 5] + iVar3) = 0xffffffff;
      return 0;
    }
  }
  pDVar2 = FUN_0046e0cd();
  *pDVar2 = 9;
  pDVar2 = FUN_0046e0d6();
  *pDVar2 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_0046e2fd
 * Address: 0046e2fd
 */

undefined4 __cdecl FUN_0046e2fd(uint param_1)

{
  DWORD *pDVar1;
  
  if ((param_1 < DAT_0048e9a0) &&
     ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    return *(undefined4 *)((&DAT_0048e8a0)[(int)param_1 >> 5] + (param_1 & 0x1f) * 0x24);
  }
  pDVar1 = FUN_0046e0cd();
  *pDVar1 = 9;
  pDVar1 = FUN_0046e0d6();
  *pDVar1 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_0046e33f
 * Address: 0046e33f
 */

void __cdecl FUN_0046e33f(uint param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = (param_1 & 0x1f) * 0x24;
  iVar1 = (&DAT_0048e8a0)[(int)param_1 >> 5] + iVar2;
  if (*(int *)(iVar1 + 8) == 0) {
    FUN_0046ceec(0x11);
    if (*(int *)(iVar1 + 8) == 0) {
      InitializeCriticalSection((LPCRITICAL_SECTION)(iVar1 + 0xc));
      *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
    }
    FUN_0046cf4d(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)((&DAT_0048e8a0)[(int)param_1 >> 5] + 0xc + iVar2));
  return;
}



/*
 * Function: FUN_0046e39e
 * Address: 0046e39e
 */

void __cdecl FUN_0046e39e(uint param_1)

{
  LeaveCriticalSection
            ((LPCRITICAL_SECTION)
             ((&DAT_0048e8a0)[(int)param_1 >> 5] + 0xc + (param_1 & 0x1f) * 0x24));
  return;
}



/*
 * Function: FUN_0046e3c0
 * Address: 0046e3c0
 */

DWORD __cdecl FUN_0046e3c0(uint param_1)

{
  HANDLE hFile;
  BOOL BVar1;
  DWORD DVar2;
  DWORD *pDVar3;
  int iVar4;
  
  if (DAT_0048e9a0 <= param_1) {
LAB_0046e441:
    pDVar3 = FUN_0046e0cd();
    *pDVar3 = 9;
    return 0xffffffff;
  }
  iVar4 = (param_1 & 0x1f) * 0x24;
  if ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + iVar4) & 1) == 0) goto LAB_0046e441;
  FUN_0046e33f(param_1);
  if ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + iVar4) & 1) != 0) {
    hFile = (HANDLE)FUN_0046e2fd(param_1);
    BVar1 = FlushFileBuffers(hFile);
    if (BVar1 == 0) {
      DVar2 = GetLastError();
    }
    else {
      DVar2 = 0;
    }
    if (DVar2 == 0) goto LAB_0046e436;
    pDVar3 = FUN_0046e0d6();
    *pDVar3 = DVar2;
  }
  pDVar3 = FUN_0046e0cd();
  *pDVar3 = 9;
  DVar2 = 0xffffffff;
LAB_0046e436:
  FUN_0046e39e(param_1);
  return DVar2;
}



/*
 * Function: FUN_0046e453
 * Address: 0046e453
 */

int __cdecl FUN_0046e453(uint param_1,char *param_2,uint param_3)

{
  int iVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_0048e9a0) &&
     ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_0046e33f(param_1);
    iVar1 = FUN_0046e4b8(param_1,param_2,param_3);
    FUN_0046e39e(param_1);
    return iVar1;
  }
  pDVar2 = FUN_0046e0cd();
  *pDVar2 = 9;
  pDVar2 = FUN_0046e0d6();
  *pDVar2 = 0;
  return -1;
}



/*
 * Function: FUN_0046e4b8
 * Address: 0046e4b8
 */

int __cdecl FUN_0046e4b8(DWORD param_1,char *param_2,uint param_3)

{
  int *piVar1;
  char *pcVar2;
  char cVar3;
  int iVar4;
  char *pcVar5;
  BOOL BVar6;
  DWORD *pDVar7;
  char local_418 [1028];
  int local_14;
  DWORD local_10;
  DWORD local_c;
  char *local_8;
  
  local_c = 0;
  local_14 = 0;
  if (param_3 == 0) {
LAB_0046e4d1:
    iVar4 = 0;
  }
  else {
    piVar1 = &DAT_0048e8a0 + ((int)param_1 >> 5);
    iVar4 = (param_1 & 0x1f) * 0x24;
    if ((*(byte *)(*piVar1 + 4 + iVar4) & 0x20) != 0) {
      FUN_0046e977(param_1,0,2);
    }
    if ((*(byte *)((undefined4 *)(*piVar1 + iVar4) + 1) & 0x80) == 0) {
      BVar6 = WriteFile(*(HANDLE *)(*piVar1 + iVar4),param_2,param_3,&local_10,(LPOVERLAPPED)0x0);
      if (BVar6 == 0) {
        param_1 = GetLastError();
      }
      else {
        local_c = local_10;
        param_1 = 0;
      }
LAB_0046e5a0:
      if (local_c != 0) {
        return local_c - local_14;
      }
      if (param_1 == 0) goto LAB_0046e612;
      if (param_1 == 5) {
        pDVar7 = FUN_0046e0cd();
        *pDVar7 = 9;
        pDVar7 = FUN_0046e0d6();
        *pDVar7 = 5;
      }
      else {
        FUN_0046e05a(param_1);
      }
    }
    else {
      local_8 = param_2;
      param_1 = 0;
      if (param_3 != 0) {
        do {
          pcVar5 = local_418;
          do {
            if (param_3 <= (uint)((int)local_8 - (int)param_2)) break;
            pcVar2 = local_8 + 1;
            cVar3 = *local_8;
            local_8 = pcVar2;
            if (cVar3 == '\n') {
              local_14 = local_14 + 1;
              *pcVar5 = '\r';
              pcVar5 = pcVar5 + 1;
            }
            *pcVar5 = cVar3;
            pcVar5 = pcVar5 + 1;
          } while ((int)pcVar5 - (int)local_418 < 0x400);
          BVar6 = WriteFile(*(HANDLE *)(*piVar1 + iVar4),local_418,(int)pcVar5 - (int)local_418,
                            &local_10,(LPOVERLAPPED)0x0);
          if (BVar6 == 0) {
            param_1 = GetLastError();
            goto LAB_0046e5a0;
          }
          local_c = local_c + local_10;
          if (((int)local_10 < (int)pcVar5 - (int)local_418) ||
             (param_3 <= (uint)((int)local_8 - (int)param_2))) goto LAB_0046e5a0;
        } while( true );
      }
LAB_0046e612:
      if (((*(byte *)(*piVar1 + 4 + iVar4) & 0x40) != 0) && (*param_2 == '\x1a')) goto LAB_0046e4d1;
      pDVar7 = FUN_0046e0cd();
      *pDVar7 = 0x1c;
      pDVar7 = FUN_0046e0d6();
      *pDVar7 = 0;
    }
    iVar4 = -1;
  }
  return iVar4;
}



/*
 * Function: FUN_0046e643
 * Address: 0046e643
 */

uint __cdecl FUN_0046e643(LPCSTR param_1,uint param_2,uint param_3,uint param_4)

{
  byte *pbVar1;
  uint uVar2;
  uint uVar3;
  DWORD *pDVar4;
  HANDLE hFile;
  DWORD DVar5;
  int iVar6;
  int iVar7;
  bool bVar8;
  _SECURITY_ATTRIBUTES local_20;
  DWORD local_14;
  DWORD local_10;
  DWORD local_c;
  byte local_5;
  
  bVar8 = (param_2 & 0x80) == 0;
  local_20.nLength = 0xc;
  local_20.lpSecurityDescriptor = (LPVOID)0x0;
  if (bVar8) {
    local_5 = 0;
  }
  else {
    local_5 = 0x10;
  }
  local_20.bInheritHandle = (BOOL)bVar8;
  if (((param_2 & 0x8000) == 0) && (((param_2 & 0x4000) != 0 || (DAT_0048e4d0 != 0x8000)))) {
    local_5 = local_5 | 0x80;
  }
  uVar2 = param_2 & 3;
  if (uVar2 == 0) {
    local_10 = 0x80000000;
  }
  else if (uVar2 == 1) {
    local_10 = 0x40000000;
  }
  else {
    if (uVar2 != 2) goto LAB_0046e747;
    local_10 = 0xc0000000;
  }
  if (param_3 == 0x10) {
    local_14 = 0;
  }
  else if (param_3 == 0x20) {
    local_14 = 1;
  }
  else if (param_3 == 0x30) {
    local_14 = 2;
  }
  else {
    if (param_3 != 0x40) goto LAB_0046e747;
    local_14 = 3;
  }
  uVar2 = param_2 & 0x700;
  if (uVar2 < 0x401) {
    if ((uVar2 == 0x400) || (uVar2 == 0)) {
      local_c = 3;
    }
    else if (uVar2 == 0x100) {
      local_c = 4;
    }
    else {
      if (uVar2 == 0x200) goto LAB_0046e761;
      if (uVar2 != 0x300) goto LAB_0046e747;
      local_c = 2;
    }
  }
  else {
    if (uVar2 != 0x500) {
      if (uVar2 == 0x600) {
LAB_0046e761:
        local_c = 5;
        goto LAB_0046e771;
      }
      if (uVar2 != 0x700) {
LAB_0046e747:
        pDVar4 = FUN_0046e0cd();
        *pDVar4 = 0x16;
        pDVar4 = FUN_0046e0d6();
        *pDVar4 = 0;
        return 0xffffffff;
      }
    }
    local_c = 1;
  }
LAB_0046e771:
  uVar2 = 0x80;
  if (((param_2 & 0x100) != 0) && ((~DAT_0048e2e0 & param_4 & 0x80) == 0)) {
    uVar2 = 1;
  }
  if ((param_2 & 0x40) != 0) {
    uVar2 = uVar2 | 0x4000000;
    local_10 = CONCAT13(local_10._3_1_,0x10000);
  }
  if ((param_2 & 0x1000) != 0) {
    uVar2 = uVar2 | 0x100;
  }
  if ((param_2 & 0x20) == 0) {
    if ((param_2 & 0x10) != 0) {
      uVar2 = uVar2 | 0x10000000;
    }
  }
  else {
    uVar2 = uVar2 | 0x8000000;
  }
  uVar3 = FUN_0046e0df();
  if (uVar3 == 0xffffffff) {
    pDVar4 = FUN_0046e0cd();
    *pDVar4 = 0x18;
    pDVar4 = FUN_0046e0d6();
    *pDVar4 = 0;
    return 0xffffffff;
  }
  hFile = CreateFileA(param_1,local_10,local_14,&local_20,local_c,uVar2,(HANDLE)0x0);
  if (hFile != (HANDLE)0xffffffff) {
    DVar5 = GetFileType(hFile);
    if (DVar5 != 0) {
      if (DVar5 == 2) {
        local_5 = local_5 | 0x40;
      }
      else if (DVar5 == 3) {
        local_5 = local_5 | 8;
      }
      FUN_0046e202(uVar3,hFile);
      iVar7 = (uVar3 & 0x1f) * 0x24;
      param_1._3_1_ = local_5 & 0x48;
      *(byte *)((&DAT_0048e8a0)[(int)uVar3 >> 5] + 4 + iVar7) = local_5 | 1;
      if ((((local_5 & 0x48) == 0) && ((local_5 & 0x80) != 0)) && ((param_2 & 2) != 0)) {
        local_14 = FUN_0046e977(uVar3,-1,2);
        if (local_14 == 0xffffffff) {
          pDVar4 = FUN_0046e0d6();
          if (*pDVar4 == 0x83) goto LAB_0046e8eb;
        }
        else {
          param_3 = param_3 & 0xffffff;
          iVar6 = FUN_0046b3c1(uVar3,(char *)((int)&param_3 + 3),(char *)0x1);
          if ((((iVar6 != 0) || (param_3._3_1_ != '\x1a')) ||
              (iVar6 = FUN_004703ed(uVar3,local_14), iVar6 != -1)) &&
             (DVar5 = FUN_0046e977(uVar3,0,0), DVar5 != 0xffffffff)) goto LAB_0046e8eb;
        }
        FUN_004693a1(uVar3);
        uVar2 = 0xffffffff;
      }
      else {
LAB_0046e8eb:
        uVar2 = uVar3;
        if ((param_1._3_1_ == 0) && ((param_2 & 8) != 0)) {
          pbVar1 = (byte *)((&DAT_0048e8a0)[(int)uVar3 >> 5] + 4 + iVar7);
          *pbVar1 = *pbVar1 | 0x20;
        }
      }
      goto LAB_0046e904;
    }
    CloseHandle(hFile);
  }
  DVar5 = GetLastError();
  FUN_0046e05a(DVar5);
  uVar2 = 0xffffffff;
LAB_0046e904:
  FUN_0046e39e(uVar3);
  return uVar2;
}



/*
 * Function: FUN_0046e912
 * Address: 0046e912
 */

DWORD __cdecl FUN_0046e912(uint param_1,LONG param_2,DWORD param_3)

{
  DWORD DVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_0048e9a0) &&
     ((*(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_0046e33f(param_1);
    DVar1 = FUN_0046e977(param_1,param_2,param_3);
    FUN_0046e39e(param_1);
    return DVar1;
  }
  pDVar2 = FUN_0046e0cd();
  *pDVar2 = 9;
  pDVar2 = FUN_0046e0d6();
  *pDVar2 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_0046e977
 * Address: 0046e977
 */

DWORD __cdecl FUN_0046e977(uint param_1,LONG param_2,DWORD param_3)

{
  byte *pbVar1;
  HANDLE hFile;
  DWORD *pDVar2;
  DWORD DVar3;
  uint uVar4;
  
  hFile = (HANDLE)FUN_0046e2fd(param_1);
  if (hFile == (HANDLE)0xffffffff) {
    pDVar2 = FUN_0046e0cd();
    *pDVar2 = 9;
  }
  else {
    DVar3 = SetFilePointer(hFile,param_2,(PLONG)0x0,param_3);
    if (DVar3 == 0xffffffff) {
      uVar4 = GetLastError();
    }
    else {
      uVar4 = 0;
    }
    if (uVar4 == 0) {
      pbVar1 = (byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24);
      *pbVar1 = *pbVar1 & 0xfd;
      return DVar3;
    }
    FUN_0046e05a(uVar4);
  }
  return 0xffffffff;
}



/*
 * Function: FUN_0046e9ea
 * Address: 0046e9ea
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl FUN_0046e9ea(undefined4 *param_1)

{
  void *pvVar1;
  
  _DAT_0048e2dc = _DAT_0048e2dc + 1;
  pvVar1 = _malloc(0x1000);
  param_1[2] = pvVar1;
  if (pvVar1 == (void *)0x0) {
    param_1[3] = param_1[3] | 4;
    param_1[2] = param_1 + 5;
    param_1[6] = 2;
  }
  else {
    param_1[3] = param_1[3] | 8;
    param_1[6] = 0x1000;
  }
  param_1[1] = 0;
  *param_1 = param_1[2];
  return;
}



/*
 * Function: FUN_0046ea2e
 * Address: 0046ea2e
 */

byte __cdecl FUN_0046ea2e(uint param_1)

{
  if (DAT_0048e9a0 <= param_1) {
    return 0;
  }
  return *(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 0x40;
}



/*
 * Function: FUN_0046ea57
 * Address: 0046ea57
 */

LPSTR __cdecl FUN_0046ea57(LPSTR param_1,WCHAR param_2)

{
  LPSTR pCVar1;
  bool bVar2;
  
  InterlockedIncrement((LONG *)&DAT_0048e644);
  bVar2 = DAT_0048e640 != 0;
  if (bVar2) {
    InterlockedDecrement((LONG *)&DAT_0048e644);
    FUN_0046ceec(0x13);
  }
  pCVar1 = FUN_0046eab0(param_1,param_2);
  if (bVar2) {
    FUN_0046cf4d(0x13);
  }
  else {
    InterlockedDecrement((LONG *)&DAT_0048e644);
  }
  return pCVar1;
}



/*
 * Function: FUN_0046eab0
 * Address: 0046eab0
 */

LPSTR __cdecl FUN_0046eab0(LPSTR param_1,WCHAR param_2)

{
  LPSTR pCVar1;
  DWORD *pDVar2;
  
  pCVar1 = param_1;
  if (param_1 == (LPSTR)0x0) {
    return param_1;
  }
  if (DAT_0048e4e8 == 0) {
    if ((ushort)param_2 < 0x100) {
      *param_1 = (CHAR)param_2;
      return (LPSTR)0x1;
    }
  }
  else {
    param_1 = (LPSTR)0x0;
    pCVar1 = (LPSTR)WideCharToMultiByte(DAT_0048e4f8,0x220,&param_2,1,pCVar1,DAT_00481c8c,
                                        (LPCSTR)0x0,(LPBOOL)&param_1);
    if ((pCVar1 != (LPSTR)0x0) && (param_1 == (LPSTR)0x0)) {
      return pCVar1;
    }
  }
  pDVar2 = FUN_0046e0cd();
  *pDVar2 = 0x2a;
  return (LPSTR)0xffffffff;
}



/*
 * Function: __aulldiv
 * Address: 0046eb20
 */

/* Library Function - Single Match
    __aulldiv
   
   Library: Visual Studio */

undefined8 __aulldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  
  uVar3 = param_1;
  uVar8 = param_4;
  uVar6 = param_2;
  uVar9 = param_3;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar5 = uVar8 >> 1;
      uVar9 = uVar9 >> 1 | (uint)((uVar8 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar8 = uVar5;
      uVar6 = uVar7;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar9;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar8 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar8)) ||
       ((param_2 <= uVar8 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  return CONCAT44(uVar3,iVar4);
}



/*
 * Function: __aullrem
 * Address: 0046eb90
 */

/* Library Function - Single Match
    __aullrem
   
   Library: Visual Studio */

undefined8 __aullrem(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  bool bVar11;
  
  uVar3 = param_1;
  uVar4 = param_4;
  uVar9 = param_2;
  uVar10 = param_3;
  if (param_4 == 0) {
    iVar6 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) %
                 (ulonglong)param_3);
    iVar7 = 0;
  }
  else {
    do {
      uVar5 = uVar4 >> 1;
      uVar10 = uVar10 >> 1 | (uint)((uVar4 & 1) != 0) << 0x1f;
      uVar8 = uVar9 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar9 & 1) != 0) << 0x1f;
      uVar4 = uVar5;
      uVar9 = uVar8;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar8,uVar3) / (ulonglong)uVar10;
    uVar3 = (int)uVar1 * param_4;
    lVar2 = (uVar1 & 0xffffffff) * (ulonglong)param_3;
    uVar9 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar4 = (uint)lVar2;
    uVar10 = uVar9 + uVar3;
    if (((CARRY4(uVar9,uVar3)) || (param_2 < uVar10)) || ((param_2 <= uVar10 && (param_1 < uVar4))))
    {
      bVar11 = uVar4 < param_3;
      uVar4 = uVar4 - param_3;
      uVar10 = (uVar10 - param_4) - (uint)bVar11;
    }
    iVar6 = -(uVar4 - param_1);
    iVar7 = -(uint)(uVar4 - param_1 != 0) - ((uVar10 - param_2) - (uint)(uVar4 < param_1));
  }
  return CONCAT44(iVar7,iVar6);
}



/*
 * Function: FUN_0046ec05
 * Address: 0046ec05
 */

uint __thiscall FUN_0046ec05(void *this,uint param_1,uint param_2)

{
  uint uVar1;
  undefined2 in_FPUControlWord;
  undefined4 local_8;
  
  local_8 = CONCAT22((short)((uint)this >> 0x10),in_FPUControlWord);
  uVar1 = FUN_0046ec50(local_8);
  uVar1 = uVar1 & ~param_2 | param_1 & param_2;
  FUN_0046ece2(uVar1);
  return uVar1;
}



/*
 * Function: FUN_0046ec3a
 * Address: 0046ec3a
 */

void __thiscall FUN_0046ec3a(void *this,uint param_1,uint param_2)

{
  FUN_0046ec05(this,param_1,param_2 & 0xfff7ffff);
  return;
}



/*
 * Function: FUN_0046ec50
 * Address: 0046ec50
 */

uint __cdecl FUN_0046ec50(uint param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = 0;
  if ((param_1 & 1) != 0) {
    uVar1 = 0x10;
  }
  if ((param_1 & 4) != 0) {
    uVar1 = uVar1 | 8;
  }
  if ((param_1 & 8) != 0) {
    uVar1 = uVar1 | 4;
  }
  if ((param_1 & 0x10) != 0) {
    uVar1 = uVar1 | 2;
  }
  if ((param_1 & 0x20) != 0) {
    uVar1 = uVar1 | 1;
  }
  if ((param_1 & 2) != 0) {
    uVar1 = uVar1 | 0x80000;
  }
  uVar2 = param_1 & 0xc00;
  if (uVar2 != 0) {
    if (uVar2 == 0x400) {
      uVar1 = uVar1 | 0x100;
    }
    else if (uVar2 == 0x800) {
      uVar1 = uVar1 | 0x200;
    }
    else if (uVar2 == 0xc00) {
      uVar1 = uVar1 | 0x300;
    }
  }
  if ((param_1 & 0x300) == 0) {
    uVar1 = uVar1 | 0x20000;
  }
  else if ((param_1 & 0x300) == 0x200) {
    uVar1 = uVar1 | 0x10000;
  }
  if ((param_1 & 0x1000) != 0) {
    uVar1 = uVar1 | 0x40000;
  }
  return uVar1;
}



/*
 * Function: FUN_0046ece2
 * Address: 0046ece2
 */

uint __cdecl FUN_0046ece2(uint param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = (uint)((param_1 & 0x10) != 0);
  if ((param_1 & 8) != 0) {
    uVar1 = uVar1 | 4;
  }
  if ((param_1 & 4) != 0) {
    uVar1 = uVar1 | 8;
  }
  if ((param_1 & 2) != 0) {
    uVar1 = uVar1 | 0x10;
  }
  if ((param_1 & 1) != 0) {
    uVar1 = uVar1 | 0x20;
  }
  if ((param_1 & 0x80000) != 0) {
    uVar1 = uVar1 | 2;
  }
  uVar2 = param_1 & 0x300;
  if (uVar2 != 0) {
    if (uVar2 == 0x100) {
      uVar1 = uVar1 | 0x400;
    }
    else if (uVar2 == 0x200) {
      uVar1 = uVar1 | 0x800;
    }
    else if (uVar2 == 0x300) {
      uVar1 = uVar1 | 0xc00;
    }
  }
  if ((param_1 & 0x30000) == 0) {
    uVar1 = uVar1 | 0x300;
  }
  else if ((param_1 & 0x30000) == 0x10000) {
    uVar1 = uVar1 | 0x200;
  }
  if ((param_1 & 0x40000) != 0) {
    uVar1 = uVar1 | 0x1000;
  }
  return uVar1;
}



/*
 * Function: FUN_0046ed6b
 * Address: 0046ed6b
 */

uint __cdecl FUN_0046ed6b(uint param_1)

{
  void *extraout_ECX;
  bool bVar1;
  void *this;
  
  if (DAT_0048e4e8 == 0) {
    if ((0x40 < (int)param_1) && ((int)param_1 < 0x5b)) {
      return param_1 + 0x20;
    }
  }
  else {
    InterlockedIncrement((LONG *)&DAT_0048e644);
    bVar1 = DAT_0048e640 != 0;
    this = extraout_ECX;
    if (bVar1) {
      InterlockedDecrement((LONG *)&DAT_0048e644);
      this = (void *)0x13;
      FUN_0046ceec(0x13);
    }
    param_1 = FUN_0046edda(this,param_1);
    if (bVar1) {
      FUN_0046cf4d(0x13);
    }
    else {
      InterlockedDecrement((LONG *)&DAT_0048e644);
    }
  }
  return param_1;
}



/*
 * Function: FUN_0046edda
 * Address: 0046edda
 */

uint __thiscall FUN_0046edda(void *this,uint param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  void *local_8;
  
  uVar1 = param_1;
  if (DAT_0048e4e8 == 0) {
    if ((0x40 < (int)param_1) && ((int)param_1 < 0x5b)) {
      uVar1 = param_1 + 0x20;
    }
  }
  else {
    iVar3 = 1;
    local_8 = this;
    if ((int)param_1 < 0x100) {
      if (DAT_00481c8c < 2) {
        uVar2 = (byte)PTR_DAT_00481a80[param_1 * 2] & 1;
      }
      else {
        uVar2 = FUN_0046c40b(this,param_1,1);
      }
      if (uVar2 == 0) {
        return uVar1;
      }
    }
    if ((PTR_DAT_00481a80[((int)uVar1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      param_1 = CONCAT31((int3)(param_1 >> 8),(char)uVar1) & 0xffff00ff;
    }
    else {
      uVar2 = param_1 >> 0x10;
      param_1._0_2_ = CONCAT11((char)uVar1,(char)(uVar1 >> 8));
      param_1 = CONCAT22((short)uVar2,(undefined2)param_1) & 0xff00ffff;
      iVar3 = 2;
    }
    iVar3 = FUN_00470512(DAT_0048e4e8,0x100,(char *)&param_1,iVar3,(LPWSTR)&local_8,3,0,1);
    if (iVar3 != 0) {
      if (iVar3 == 1) {
        uVar1 = (uint)local_8 & 0xff;
      }
      else {
        uVar1 = (uint)local_8 & 0xffff;
      }
    }
  }
  return uVar1;
}



/*
 * Function: FUN_0046eea5
 * Address: 0046eea5
 */

undefined4 __cdecl FUN_0046eea5(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  
  if ((*(uint *)(param_1 + (param_2 / 0x20) * 4) & ~(-1 << (0x1fU - (char)(param_2 % 0x20) & 0x1f)))
      != 0) {
    return 0;
  }
  iVar2 = param_2 / 0x20 + 1;
  if (iVar2 < 3) {
    piVar1 = (int *)(param_1 + iVar2 * 4);
    do {
      if (*piVar1 != 0) {
        return 0;
      }
      iVar2 = iVar2 + 1;
      piVar1 = piVar1 + 1;
    } while (iVar2 < 3);
  }
  return 1;
}



/*
 * Function: FUN_0046eeee
 * Address: 0046eeee
 */

void __cdecl FUN_0046eeee(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  uint *puVar3;
  
  puVar3 = (uint *)(param_1 + (param_2 / 0x20) * 4);
  iVar1 = FUN_00470761(*puVar3,1 << (0x1fU - (char)(param_2 % 0x20) & 0x1f),puVar3);
  iVar2 = param_2 / 0x20 + -1;
  if (-1 < iVar2) {
    puVar3 = (uint *)(param_1 + iVar2 * 4);
    do {
      if (iVar1 == 0) {
        return;
      }
      iVar1 = FUN_00470761(*puVar3,1,puVar3);
      iVar2 = iVar2 + -1;
      puVar3 = puVar3 + -1;
    } while (-1 < iVar2);
  }
  return;
}



/*
 * Function: FUN_0046ef44
 * Address: 0046ef44
 */

undefined4 __cdecl FUN_0046ef44(int param_1,int param_2)

{
  uint *puVar1;
  int iVar2;
  byte bVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 local_8;
  
  local_8 = 0;
  puVar1 = (uint *)(param_1 + (param_2 / 0x20) * 4);
  bVar3 = 0x1f - (char)(param_2 % 0x20);
  if (((*puVar1 & 1 << (bVar3 & 0x1f)) != 0) &&
     (iVar2 = FUN_0046eea5(param_1,param_2 + 1), iVar2 == 0)) {
    local_8 = FUN_0046eeee(param_1,param_2 + -1);
  }
  *puVar1 = *puVar1 & -1 << (bVar3 & 0x1f);
  iVar2 = param_2 / 0x20 + 1;
  if (iVar2 < 3) {
    puVar5 = (undefined4 *)(param_1 + iVar2 * 4);
    for (iVar4 = 3 - iVar2; iVar4 != 0; iVar4 = iVar4 + -1) {
      *puVar5 = 0;
      puVar5 = puVar5 + 1;
    }
  }
  return local_8;
}



/*
 * Function: FUN_0046efd0
 * Address: 0046efd0
 */

void __cdecl FUN_0046efd0(int param_1,undefined4 *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = param_1 - (int)param_2;
  iVar2 = 3;
  do {
    *(undefined4 *)(iVar1 + (int)param_2) = *param_2;
    param_2 = param_2 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/*
 * Function: FUN_0046efeb
 * Address: 0046efeb
 */

void __cdecl FUN_0046efeb(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  return;
}



/*
 * Function: FUN_0046eff7
 * Address: 0046eff7
 */

undefined4 __cdecl FUN_0046eff7(int *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    if (*param_1 != 0) {
      return 0;
    }
    iVar1 = iVar1 + 1;
    param_1 = param_1 + 1;
  } while (iVar1 < 3);
  return 1;
}



/*
 * Function: FUN_0046f012
 * Address: 0046f012
 */

void __cdecl FUN_0046f012(uint *param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  byte bVar3;
  int iVar4;
  int iVar5;
  uint *puVar6;
  int local_8;
  
  local_8 = 3;
  iVar2 = (int)param_2 / 0x20;
  iVar5 = (int)param_2 % 0x20;
  param_2 = 0;
  bVar3 = (byte)iVar5;
  puVar6 = param_1;
  do {
    uVar1 = *puVar6;
    *puVar6 = uVar1 >> (bVar3 & 0x1f) | param_2;
    puVar6 = puVar6 + 1;
    param_2 = (uVar1 & ~(-1 << (bVar3 & 0x1f))) << (0x20 - bVar3 & 0x1f);
    local_8 = local_8 + -1;
  } while (local_8 != 0);
  iVar5 = 2;
  iVar4 = 8;
  do {
    if (iVar5 < iVar2) {
      *(undefined4 *)(iVar4 + (int)param_1) = 0;
    }
    else {
      *(undefined4 *)(iVar4 + (int)param_1) = *(undefined4 *)(iVar4 + iVar2 * -4 + (int)param_1);
    }
    iVar5 = iVar5 + -1;
    iVar4 = iVar4 + -4;
  } while (-1 < iVar4);
  return;
}



/*
 * Function: FUN_0046f09f
 * Address: 0046f09f
 */

undefined4 __cdecl FUN_0046f09f(ushort *param_1,uint *param_2,int *param_3)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 local_1c [3];
  uint local_10;
  uint local_c;
  int local_8;
  
  uVar1 = param_1[5];
  local_10 = *(uint *)(param_1 + 3);
  local_c = *(uint *)(param_1 + 1);
  uVar3 = uVar1 & 0x7fff;
  iVar4 = uVar3 - 0x3fff;
  local_8 = (uint)*param_1 << 0x10;
  if (iVar4 == -0x3fff) {
    iVar4 = 0;
    iVar2 = FUN_0046eff7((int *)&local_10);
    if (iVar2 != 0) {
LAB_0046f1cb:
      uVar5 = 0;
      goto LAB_0046f1cd;
    }
    FUN_0046efeb(&local_10);
  }
  else {
    FUN_0046efd0((int)local_1c,&local_10);
    iVar2 = FUN_0046ef44((int)&local_10,param_3[2]);
    if (iVar2 != 0) {
      iVar4 = uVar3 - 0x3ffe;
    }
    iVar2 = param_3[1];
    if (iVar4 < iVar2 - param_3[2]) {
      FUN_0046efeb(&local_10);
    }
    else {
      if (iVar2 < iVar4) {
        if (*param_3 <= iVar4) {
          FUN_0046efeb(&local_10);
          local_10 = local_10 | 0x80000000;
          FUN_0046f012(&local_10,param_3[3]);
          iVar4 = param_3[5] + *param_3;
          uVar5 = 1;
          goto LAB_0046f1cd;
        }
        local_10 = local_10 & 0x7fffffff;
        iVar4 = param_3[5] + iVar4;
        FUN_0046f012(&local_10,param_3[3]);
        goto LAB_0046f1cb;
      }
      FUN_0046efd0((int)&local_10,local_1c);
      FUN_0046f012(&local_10,iVar2 - iVar4);
      FUN_0046ef44((int)&local_10,param_3[2]);
      FUN_0046f012(&local_10,param_3[3] + 1);
    }
  }
  iVar4 = 0;
  uVar5 = 2;
LAB_0046f1cd:
  local_10 = iVar4 << (0x1fU - (char)param_3[3] & 0x1f) |
             -(uint)((uVar1 & 0x8000) != 0) & 0x80000000 | local_10;
  if (param_3[4] == 0x40) {
    param_2[1] = local_10;
    *param_2 = local_c;
  }
  else if (param_3[4] == 0x20) {
    *param_2 = local_10;
  }
  return uVar5;
}



/*
 * Function: FUN_0046f20b
 * Address: 0046f20b
 */

void __cdecl FUN_0046f20b(ushort *param_1,uint *param_2)

{
  FUN_0046f09f(param_1,param_2,(int *)&DAT_00482010);
  return;
}



/*
 * Function: FUN_0046f221
 * Address: 0046f221
 */

void __cdecl FUN_0046f221(ushort *param_1,uint *param_2)

{
  FUN_0046f09f(param_1,param_2,(int *)&DAT_00482028);
  return;
}



/*
 * Function: FUN_0046f237
 * Address: 0046f237
 */

void __thiscall FUN_0046f237(void *this,uint *param_1,byte *param_2)

{
  ushort local_10 [6];
  
  FUN_00470902(this,local_10,(int *)&param_2,param_2,0,0,0,0);
  FUN_0046f20b(local_10,param_1);
  return;
}



/*
 * Function: FUN_0046f264
 * Address: 0046f264
 */

void __thiscall FUN_0046f264(void *this,uint *param_1,byte *param_2)

{
  ushort local_10 [6];
  
  FUN_00470902(this,local_10,(int *)&param_2,param_2,0,0,0,0);
  FUN_0046f221(local_10,param_1);
  return;
}



/*
 * Function: FUN_0046f291
 * Address: 0046f291
 */

void __cdecl FUN_0046f291(char *param_1,int param_2,int param_3)

{
  char *_Str;
  char *pcVar1;
  char *pcVar2;
  size_t sVar3;
  char *pcVar4;
  char cVar5;
  
  pcVar1 = param_1;
  pcVar4 = *(char **)(param_3 + 0xc);
  _Str = param_1 + 1;
  *param_1 = '0';
  pcVar2 = _Str;
  if (0 < param_2) {
    param_1 = (char *)param_2;
    param_2 = 0;
    do {
      cVar5 = *pcVar4;
      if (cVar5 == '\0') {
        cVar5 = '0';
      }
      else {
        pcVar4 = pcVar4 + 1;
      }
      *pcVar2 = cVar5;
      pcVar2 = pcVar2 + 1;
      param_1 = param_1 + -1;
    } while (param_1 != (char *)0x0);
  }
  *pcVar2 = '\0';
  if ((-1 < param_2) && ('4' < *pcVar4)) {
    while (pcVar2 = pcVar2 + -1, *pcVar2 == '9') {
      *pcVar2 = '0';
    }
    *pcVar2 = *pcVar2 + '\x01';
  }
  if (*pcVar1 == '1') {
    *(int *)(param_3 + 4) = *(int *)(param_3 + 4) + 1;
  }
  else {
    sVar3 = _strlen(_Str);
    FUN_0046dc00((undefined4 *)pcVar1,(undefined4 *)_Str,sVar3 + 1);
  }
  return;
}



/*
 * Function: FUN_0046f308
 * Address: 0046f308
 */

int * __cdecl FUN_0046f308(undefined4 param_1,undefined4 param_2,int *param_3,uint *param_4)

{
  int *piVar1;
  uint *puVar2;
  int iVar3;
  undefined4 in_stack_ffffffbc;
  undefined2 uVar4;
  short local_2c;
  char local_2a;
  uint local_28 [6];
  uint local_10;
  uint uStack_c;
  undefined2 uStack_8;
  
  uVar4 = (undefined2)((uint)in_stack_ffffffbc >> 0x10);
  FUN_0046f364(&local_10,&param_1);
  iVar3 = FUN_00470dd3(local_10,uStack_c,CONCAT22(uVar4,uStack_8),0x11,0,&local_2c);
  puVar2 = param_4;
  piVar1 = param_3;
  param_3[2] = iVar3;
  *param_3 = (int)local_2a;
  param_3[1] = (int)local_2c;
  FUN_0046f420(param_4,local_28);
  piVar1[3] = (int)puVar2;
  return piVar1;
}



/*
 * Function: FUN_0046f364
 * Address: 0046f364
 */

void __cdecl FUN_0046f364(uint *param_1,uint *param_2)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint local_8;
  
  uVar1 = *(ushort *)((int)param_2 + 6);
  uVar3 = (uVar1 & 0x7ff0) >> 4;
  uVar2 = *param_2;
  local_8 = 0x80000000;
  if (uVar3 == 0) {
    if (((param_2[1] & 0xfffff) == 0) && (uVar2 == 0)) {
      param_1[1] = 0;
      *param_1 = 0;
      *(undefined2 *)(param_1 + 2) = 0;
      return;
    }
    iVar4 = 0x3c01;
    local_8 = 0;
  }
  else if (uVar3 == 0x7ff) {
    iVar4 = 0x7fff;
  }
  else {
    iVar4 = uVar3 + 0x3c00;
  }
  local_8 = uVar2 >> 0x15 | (param_2[1] & 0xfffff) << 0xb | local_8;
  param_1[1] = local_8;
  *param_1 = uVar2 << 0xb;
  while ((local_8 & 0x80000000) == 0) {
    local_8 = *param_1 >> 0x1f | local_8 * 2;
    *param_1 = *param_1 * 2;
    param_1[1] = local_8;
    iVar4 = iVar4 + 0xffff;
  }
  *(ushort *)(param_1 + 2) = uVar1 & 0x8000 | (ushort)iVar4;
  return;
}



/*
 * Function: FUN_0046f420
 * Address: 0046f420
 */

uint * __cdecl FUN_0046f420(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  
  uVar3 = (uint)param_2 & 3;
  puVar4 = param_1;
  while (uVar3 != 0) {
    bVar1 = *(byte *)param_2;
    uVar3 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_0046f508;
    *(byte *)puVar4 = bVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    uVar3 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar3 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar3 == '\0') {
LAB_0046f508:
        *(byte *)puVar4 = (byte)uVar3;
        return param_1;
      }
      if ((char)(uVar3 >> 8) == '\0') {
        *(short *)puVar4 = (short)uVar3;
        return param_1;
      }
      if ((uVar3 & 0xff0000) == 0) {
        *(short *)puVar4 = (short)uVar3;
        *(byte *)((int)puVar4 + 2) = 0;
        return param_1;
      }
      if ((uVar3 & 0xff000000) == 0) {
        *puVar4 = uVar3;
        return param_1;
      }
    }
    *puVar4 = uVar3;
    puVar4 = puVar4 + 1;
  } while( true );
}



/*
 * Function: FUN_0046f430
 * Address: 0046f430
 */

uint * __cdecl FUN_0046f430(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint *puVar5;
  
  uVar4 = (uint)param_1 & 3;
  puVar3 = param_1;
  while (uVar4 != 0) {
    bVar1 = *(byte *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (bVar1 == 0) goto LAB_0046f47f;
    uVar4 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar5 = puVar3;
      puVar3 = puVar5 + 1;
    } while (((*puVar5 ^ 0xffffffff ^ *puVar5 + 0x7efefeff) & 0x81010100) == 0);
    uVar4 = *puVar5;
    if ((char)uVar4 == '\0') goto LAB_0046f491;
    if ((char)(uVar4 >> 8) == '\0') {
      puVar5 = (uint *)((int)puVar5 + 1);
      goto LAB_0046f491;
    }
    if ((uVar4 & 0xff0000) == 0) {
      puVar5 = (uint *)((int)puVar5 + 2);
      goto LAB_0046f491;
    }
  } while ((uVar4 & 0xff000000) != 0);
LAB_0046f47f:
  puVar5 = (uint *)((int)puVar3 + -1);
LAB_0046f491:
  uVar4 = (uint)param_2 & 3;
  while (uVar4 != 0) {
    bVar1 = *(byte *)param_2;
    uVar4 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_0046f508;
    *(byte *)puVar5 = bVar1;
    puVar5 = (uint *)((int)puVar5 + 1);
    uVar4 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar4 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar4 == '\0') {
LAB_0046f508:
        *(byte *)puVar5 = (byte)uVar4;
        return param_1;
      }
      if ((char)(uVar4 >> 8) == '\0') {
        *(short *)puVar5 = (short)uVar4;
        return param_1;
      }
      if ((uVar4 & 0xff0000) == 0) {
        *(short *)puVar5 = (short)uVar4;
        *(byte *)((int)puVar5 + 2) = 0;
        return param_1;
      }
      if ((uVar4 & 0xff000000) == 0) {
        *puVar5 = uVar4;
        return param_1;
      }
    }
    *puVar5 = uVar4;
    puVar5 = puVar5 + 1;
  } while( true );
}



/*
 * Function: _memset
 * Address: 0046f510
 */

/* Library Function - Single Match
    _memset
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

void * __cdecl _memset(void *_Dst,int _Val,size_t _Size)

{
  uint uVar1;
  uint uVar2;
  size_t sVar3;
  uint *puVar4;
  
  if (_Size == 0) {
    return _Dst;
  }
  uVar1 = _Val & 0xff;
  puVar4 = (uint *)_Dst;
  if (3 < _Size) {
    uVar2 = -(int)_Dst & 3;
    sVar3 = _Size;
    if (uVar2 != 0) {
      sVar3 = _Size - uVar2;
      do {
        *(undefined *)puVar4 = (undefined)_Val;
        puVar4 = (uint *)((int)puVar4 + 1);
        uVar2 = uVar2 - 1;
      } while (uVar2 != 0);
    }
    uVar1 = uVar1 * 0x1010101;
    _Size = sVar3 & 3;
    uVar2 = sVar3 >> 2;
    if (uVar2 != 0) {
      for (; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
      }
      if (_Size == 0) {
        return _Dst;
      }
    }
  }
  do {
    *(char *)puVar4 = (char)uVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    _Size = _Size - 1;
  } while (_Size != 0);
  return _Dst;
}



/*
 * Function: FUN_0046f568
 * Address: 0046f568
 */

void FUN_0046f568(void)

{
  __amsg_exit(2);
  return;
}



/*
 * Function: FUN_0046f571
 * Address: 0046f571
 */

undefined4 FUN_0046f571(void)

{
  return 0;
}



/*
 * Function: FUN_0046f750
 * Address: 0046f750
 */

float10 __fastcall
FUN_0046f750(undefined4 param_1,uint param_2,undefined2 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  float10 in_ST0;
  int local_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 local_14;
  undefined4 local_10;
  double dStack_c;
  
  local_14 = param_7;
  local_10 = param_8;
  dStack_c = (double)in_ST0;
  uStack_1c = param_5;
  uStack_18 = param_6;
  uStack_20 = param_1;
  FUN_00471066(param_2,&local_24,&param_3);
  return (float10)dStack_c;
}



/*
 * Function: __startOneArgErrorHandling
 * Address: 0046f767
 */

/* Library Function - Single Match
    __startOneArgErrorHandling
   
   Library: Visual Studio */

float10 __fastcall
__startOneArgErrorHandling
          (undefined4 param_1,uint param_2,ushort param_3,undefined4 param_4,undefined4 param_5,
          undefined4 param_6)

{
  float10 in_ST0;
  int local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  double local_c;
  
  local_c = (double)in_ST0;
  local_1c = param_5;
  local_18 = param_6;
  local_20 = param_1;
  FUN_00471066(param_2,&local_24,&param_3);
  return (float10)local_c;
}



/*
 * Function: FUN_0046f7c5
 * Address: 0046f7c5
 */

void FUN_0046f7c5(undefined4 param_1)

{
  return;
}



/*
 * Function: FUN_0046f7dc
 * Address: 0046f7dc
 */

undefined4 FUN_0046f7dc(void)

{
  uint in_EAX;
  
  if ((in_EAX & 0x80000) != 0) {
    return 7;
  }
  return 1;
}



/*
 * Function: __fload_withFB
 * Address: 0046f7f5
 */

/* Library Function - Single Match
    __fload_withFB
   
   Library: Visual Studio */

uint __fastcall __fload_withFB(undefined4 param_1,int param_2)

{
  uint uVar1;
  
  uVar1 = *(uint *)(param_2 + 4) & 0x7ff00000;
  if (uVar1 != 0x7ff00000) {
    return uVar1;
  }
  return *(uint *)(param_2 + 4);
}



/*
 * Function: FUN_0046f838
 * Address: 0046f838
 */

uint __cdecl FUN_0046f838(undefined4 param_1,uint param_2)

{
  if ((param_2 & 0x7ff00000) != 0x7ff00000) {
    return param_2 & 0x7ff00000;
  }
  return param_2;
}



/*
 * Function: __math_exit
 * Address: 0046f85b
 */

/* Library Function - Single Match
    __math_exit
   
   Library: Visual Studio */

void __fastcall
__math_exit(undefined4 param_1,uint param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5
           )

{
  ushort in_FPUStatusWord;
  ushort unaff_retaddr;
  
  if (((unaff_retaddr != 0x27f) && ((unaff_retaddr & 0x20) != 0)) &&
     ((in_FPUStatusWord & 0x20) != 0)) {
    __startOneArgErrorHandling(param_1,param_2,unaff_retaddr,param_3,param_4,param_5);
    return;
  }
  return;
}



/*
 * Function: FUN_0046f93c
 * Address: 0046f93c
 */

uint __cdecl FUN_0046f93c(LPWSTR param_1,byte *param_2,uint param_3)

{
  uint uVar1;
  bool bVar2;
  
  InterlockedIncrement((LONG *)&DAT_0048e644);
  bVar2 = DAT_0048e640 != 0;
  if (bVar2) {
    InterlockedDecrement((LONG *)&DAT_0048e644);
    FUN_0046ceec(0x13);
  }
  uVar1 = FUN_0046f999(param_1,param_2,param_3);
  if (bVar2) {
    FUN_0046cf4d(0x13);
  }
  else {
    InterlockedDecrement((LONG *)&DAT_0048e644);
  }
  return uVar1;
}



/*
 * Function: FUN_0046f999
 * Address: 0046f999
 */

uint __cdecl FUN_0046f999(LPWSTR param_1,byte *param_2,uint param_3)

{
  byte bVar1;
  int iVar2;
  DWORD *pDVar3;
  
  if ((param_2 != (byte *)0x0) && (param_3 != 0)) {
    bVar1 = *param_2;
    if (bVar1 != 0) {
      if (DAT_0048e4e8 == 0) {
        if (param_1 != (LPWSTR)0x0) {
          *param_1 = (ushort)bVar1;
        }
        return 1;
      }
      if ((PTR_DAT_00481a80[(uint)bVar1 * 2 + 1] & 0x80) == 0) {
        iVar2 = MultiByteToWideChar(DAT_0048e4f8,9,(LPCSTR)param_2,1,param_1,
                                    (uint)(param_1 != (LPWSTR)0x0));
        if (iVar2 != 0) {
          return 1;
        }
      }
      else {
        if (1 < (int)DAT_00481c8c) {
          if ((int)param_3 < (int)DAT_00481c8c) goto LAB_0046fa2b;
          iVar2 = MultiByteToWideChar(DAT_0048e4f8,9,(LPCSTR)param_2,DAT_00481c8c,param_1,
                                      (uint)(param_1 != (LPWSTR)0x0));
          if (iVar2 != 0) {
            return DAT_00481c8c;
          }
        }
        if ((DAT_00481c8c <= param_3) && (param_2[1] != 0)) {
          return DAT_00481c8c;
        }
      }
LAB_0046fa2b:
      pDVar3 = FUN_0046e0cd();
      *pDVar3 = 0x2a;
      return 0xffffffff;
    }
    if (param_1 != (LPWSTR)0x0) {
      *param_1 = L'\0';
    }
  }
  return 0;
}



/*
 * Function: FUN_0046fa62
 * Address: 0046fa62
 */

uint __thiscall FUN_0046fa62(void *this,int param_1)

{
  uint uVar1;
  
  if (1 < DAT_00481c8c) {
    uVar1 = FUN_0046c40b(this,param_1,8);
    return uVar1;
  }
  return (byte)PTR_DAT_00481a80[param_1 * 2] & 8;
}



/*
 * Function: __allshl
 * Address: 0046fa90
 */

/* Library Function - Single Match
    __allshl
   
   Library: Visual Studio */

longlong __fastcall __allshl(byte param_1,int param_2)

{
  uint in_EAX;
  
  if (0x3f < param_1) {
    return 0;
  }
  if (param_1 < 0x20) {
    return CONCAT44(param_2 << (param_1 & 0x1f) | in_EAX >> 0x20 - (param_1 & 0x1f),
                    in_EAX << (param_1 & 0x1f));
  }
  return (ulonglong)(in_EAX << (param_1 & 0x1f)) << 0x20;
}



/*
 * Function: FUN_0046faaf
 * Address: 0046faaf
 */

uint __cdecl FUN_0046faaf(uint param_1,int *param_2)

{
  uint uVar1;
  
  if ((param_1 != 0xffffffff) &&
     ((uVar1 = param_2[3], (uVar1 & 1) != 0 || (((uVar1 & 0x80) != 0 && ((uVar1 & 2) == 0)))))) {
    if (param_2[2] == 0) {
      FUN_0046e9ea(param_2);
    }
    if (*param_2 == param_2[2]) {
      if (param_2[1] != 0) {
        return 0xffffffff;
      }
      *param_2 = *param_2 + 1;
    }
    if ((*(byte *)(param_2 + 3) & 0x40) == 0) {
      *param_2 = *param_2 + -1;
      *(char *)*param_2 = (char)param_1;
    }
    else {
      *param_2 = *param_2 + -1;
      if (*(char *)*param_2 != (char)param_1) {
        *param_2 = (int)((char *)*param_2 + 1);
        return 0xffffffff;
      }
    }
    param_2[1] = param_2[1] + 1;
    param_2[3] = param_2[3] & 0xffffffefU | 1;
    return param_1 & 0xff;
  }
  return 0xffffffff;
}



/*
 * Function: FUN_0046fb1d
 * Address: 0046fb1d
 */

BOOL __cdecl
FUN_0046fb1d(DWORD param_1,LPCSTR param_2,int param_3,LPWORD param_4,UINT param_5,LCID param_6,
            int param_7)

{
  undefined *puVar1;
  BOOL BVar2;
  int iVar3;
  undefined unaff_DI;
  WORD local_20 [2];
  undefined *local_1c;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_004773e0;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  local_1c = &stack0xffffffc8;
  iVar3 = DAT_0048e4a8;
  ExceptionList = &local_14;
  puVar1 = &stack0xffffffc8;
  if (DAT_0048e4a8 == 0) {
    ExceptionList = &local_14;
    BVar2 = GetStringTypeW(1,L"",1,local_20);
    iVar3 = 1;
    puVar1 = local_1c;
    if (BVar2 == 0) {
      BVar2 = GetStringTypeA(0,1,"",1,local_20);
      if (BVar2 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      iVar3 = 2;
      puVar1 = local_1c;
    }
  }
  local_1c = puVar1;
  DAT_0048e4a8 = iVar3;
  if (DAT_0048e4a8 != 2) {
    if (DAT_0048e4a8 == 1) {
      if (param_5 == 0) {
        param_5 = DAT_0048e4f8;
      }
      iVar3 = MultiByteToWideChar(param_5,(-(uint)(param_7 != 0) & 8) + 1,param_2,param_3,
                                  (LPWSTR)0x0,0);
      if (iVar3 != 0) {
        local_8 = 0;
        FUN_00467f60(unaff_DI);
        local_1c = &stack0xffffffc8;
        _memset(&stack0xffffffc8,0,iVar3 * 2);
        local_8 = 0xffffffff;
        if ((&stack0x00000000 != (undefined *)0x38) &&
           (iVar3 = MultiByteToWideChar(param_5,1,param_2,param_3,(LPWSTR)&stack0xffffffc8,iVar3),
           iVar3 != 0)) {
          BVar2 = GetStringTypeW(param_1,(LPCWSTR)&stack0xffffffc8,iVar3,param_4);
          ExceptionList = local_14;
          return BVar2;
        }
      }
    }
    ExceptionList = local_14;
    return 0;
  }
  if (param_6 == 0) {
    param_6 = DAT_0048e4e8;
  }
  BVar2 = GetStringTypeA(param_6,param_1,param_2,param_3,param_4);
  ExceptionList = local_14;
  return BVar2;
}



/*
 * Function: FUN_0046fc66
 * Address: 0046fc66
 */

void __cdecl FUN_0046fc66(undefined4 param_1)

{
  FUN_0046fc77(param_1,0,4);
  return;
}



/*
 * Function: FUN_0046fc77
 * Address: 0046fc77
 */

undefined4 FUN_0046fc77(byte param_1,uint param_2,byte param_3)

{
  if (((&DAT_0048e761)[param_1] & param_3) == 0) {
    if (param_2 == 0) {
      param_2 = 0;
    }
    else {
      param_2 = *(ushort *)(&DAT_00481a8a + (uint)param_1 * 2) & param_2;
    }
    if (param_2 == 0) {
      return 0;
    }
  }
  return 1;
}



/*
 * Function: FUN_0046fca8
 * Address: 0046fca8
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __cdecl FUN_0046fca8(int param_1)

{
  BYTE *pBVar1;
  byte bVar2;
  byte bVar3;
  UINT CodePage;
  UINT *pUVar4;
  BOOL BVar5;
  uint uVar6;
  uint uVar7;
  BYTE *pBVar8;
  int iVar9;
  byte *pbVar10;
  int iVar11;
  byte *pbVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  _cpinfo local_1c;
  uint local_8;
  
  FUN_0046ceec(0x19);
  CodePage = FUN_0046fe55(param_1);
  if (CodePage != DAT_0048e648) {
    if (CodePage != 0) {
      iVar11 = 0;
      pUVar4 = &DAT_00482088;
LAB_0046fce5:
      if (*pUVar4 != CodePage) goto code_r0x0046fce9;
      local_8 = 0;
      puVar14 = (undefined4 *)&DAT_0048e760;
      for (iVar9 = 0x40; iVar9 != 0; iVar9 = iVar9 + -1) {
        *puVar14 = 0;
        puVar14 = puVar14 + 1;
      }
      *(undefined *)puVar14 = 0;
      pbVar12 = &DAT_00482098 + iVar11 * 0x30;
      do {
        bVar2 = *pbVar12;
        pbVar10 = pbVar12;
        while ((bVar2 != 0 && (bVar2 = pbVar10[1], bVar2 != 0))) {
          uVar7 = (uint)*pbVar10;
          if (uVar7 <= bVar2) {
            bVar3 = (&DAT_00482080)[local_8];
            do {
              (&DAT_0048e761)[uVar7] = (&DAT_0048e761)[uVar7] | bVar3;
              uVar7 = uVar7 + 1;
            } while (uVar7 <= bVar2);
          }
          pbVar10 = pbVar10 + 2;
          bVar2 = *pbVar10;
        }
        local_8 = local_8 + 1;
        pbVar12 = pbVar12 + 8;
      } while (local_8 < 4);
      _DAT_0048e65c = 1;
      DAT_0048e648 = CodePage;
      DAT_0048e864 = FUN_0046fe9f(CodePage);
      DAT_0048e650 = (&DAT_0048208c)[iVar11 * 0xc];
      DAT_0048e654 = (&DAT_00482090)[iVar11 * 0xc];
      DAT_0048e658 = (&DAT_00482094)[iVar11 * 0xc];
      goto LAB_0046fe39;
    }
    goto LAB_0046fe34;
  }
  goto LAB_0046fccf;
code_r0x0046fce9:
  pUVar4 = pUVar4 + 0xc;
  iVar11 = iVar11 + 1;
  if (0x482177 < (int)pUVar4) goto code_r0x0046fcf4;
  goto LAB_0046fce5;
code_r0x0046fcf4:
  BVar5 = GetCPInfo(CodePage,&local_1c);
  uVar7 = 1;
  if (BVar5 == 1) {
    DAT_0048e864 = 0;
    puVar14 = (undefined4 *)&DAT_0048e760;
    for (iVar11 = 0x40; iVar11 != 0; iVar11 = iVar11 + -1) {
      *puVar14 = 0;
      puVar14 = puVar14 + 1;
    }
    *(undefined *)puVar14 = 0;
    if (local_1c.MaxCharSize < 2) {
      _DAT_0048e65c = 0;
      DAT_0048e648 = CodePage;
    }
    else {
      DAT_0048e648 = CodePage;
      if (local_1c.LeadByte[0] != '\0') {
        pBVar8 = local_1c.LeadByte + 1;
        do {
          bVar2 = *pBVar8;
          if (bVar2 == 0) break;
          for (uVar6 = (uint)pBVar8[-1]; uVar6 <= bVar2; uVar6 = uVar6 + 1) {
            (&DAT_0048e761)[uVar6] = (&DAT_0048e761)[uVar6] | 4;
          }
          pBVar1 = pBVar8 + 1;
          pBVar8 = pBVar8 + 2;
        } while (*pBVar1 != 0);
      }
      do {
        (&DAT_0048e761)[uVar7] = (&DAT_0048e761)[uVar7] | 8;
        uVar7 = uVar7 + 1;
      } while (uVar7 < 0xff);
      DAT_0048e864 = FUN_0046fe9f(CodePage);
      _DAT_0048e65c = 1;
    }
    DAT_0048e650 = 0;
    DAT_0048e654 = 0;
    DAT_0048e658 = 0;
  }
  else {
    if (DAT_0048e4ac == 0) {
      uVar13 = 0xffffffff;
      goto LAB_0046fe46;
    }
LAB_0046fe34:
    FUN_0046fed2();
  }
LAB_0046fe39:
  FUN_0046fefb();
LAB_0046fccf:
  uVar13 = 0;
LAB_0046fe46:
  FUN_0046cf4d(0x19);
  return uVar13;
}



/*
 * Function: FUN_0046fe55
 * Address: 0046fe55
 */

int __cdecl FUN_0046fe55(int param_1)

{
  int iVar1;
  bool bVar2;
  
  if (param_1 == -2) {
    DAT_0048e4ac = 1;
                    /* WARNING: Could not recover jumptable at 0x0046fe6f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetOEMCP();
    return iVar1;
  }
  if (param_1 == -3) {
    DAT_0048e4ac = 1;
                    /* WARNING: Could not recover jumptable at 0x0046fe84. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetACP();
    return iVar1;
  }
  bVar2 = param_1 == -4;
  if (bVar2) {
    param_1 = DAT_0048e4f8;
  }
  DAT_0048e4ac = (uint)bVar2;
  return param_1;
}



/*
 * Function: FUN_0046fe9f
 * Address: 0046fe9f
 */

undefined4 __cdecl FUN_0046fe9f(int param_1)

{
  if (param_1 == 0x3a4) {
    return 0x411;
  }
  if (param_1 == 0x3a8) {
    return 0x804;
  }
  if (param_1 == 0x3b5) {
    return 0x412;
  }
  if (param_1 != 0x3b6) {
    return 0;
  }
  return 0x404;
}



/*
 * Function: FUN_0046fed2
 * Address: 0046fed2
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0046fed2(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)&DAT_0048e760;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  *(undefined *)puVar2 = 0;
  DAT_0048e648 = 0;
  _DAT_0048e65c = 0;
  DAT_0048e864 = 0;
  DAT_0048e650 = 0;
  DAT_0048e654 = 0;
  DAT_0048e658 = 0;
  return;
}



/*
 * Function: FUN_0046fefb
 * Address: 0046fefb
 */

void FUN_0046fefb(void)

{
  BOOL BVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  ushort *puVar6;
  undefined uVar7;
  BYTE *pBVar8;
  CHAR *pCVar9;
  WORD local_518 [256];
  WCHAR local_318 [128];
  WCHAR local_218 [128];
  CHAR local_118 [256];
  _cpinfo local_18;
  
  BVar1 = GetCPInfo(DAT_0048e648,&local_18);
  if (BVar1 == 1) {
    uVar2 = 0;
    do {
      local_118[uVar2] = (CHAR)uVar2;
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
    local_118[0] = ' ';
    if (local_18.LeadByte[0] != 0) {
      pBVar8 = local_18.LeadByte + 1;
      do {
        uVar2 = (uint)local_18.LeadByte[0];
        if (uVar2 <= *pBVar8) {
          uVar4 = (*pBVar8 - uVar2) + 1;
          uVar5 = uVar4 >> 2;
          pCVar9 = local_118 + uVar2;
          while (uVar5 != 0) {
            uVar5 = uVar5 - 1;
            builtin_memcpy(pCVar9,"    ",4);
            pCVar9 = pCVar9 + 4;
          }
          for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
            *pCVar9 = ' ';
            pCVar9 = pCVar9 + 1;
          }
        }
        local_18.LeadByte[0] = pBVar8[1];
        pBVar8 = pBVar8 + 2;
      } while (local_18.LeadByte[0] != 0);
    }
    FUN_0046fb1d(1,local_118,0x100,local_518,DAT_0048e648,DAT_0048e864,0);
    FUN_00470512(DAT_0048e864,0x100,local_118,0x100,local_218,0x100,DAT_0048e648,0);
    FUN_00470512(DAT_0048e864,0x200,local_118,0x100,local_318,0x100,DAT_0048e648,0);
    uVar2 = 0;
    puVar6 = local_518;
    do {
      if ((*puVar6 & 1) == 0) {
        if ((*puVar6 & 2) != 0) {
          (&DAT_0048e761)[uVar2] = (&DAT_0048e761)[uVar2] | 0x20;
          uVar7 = *(undefined *)((int)local_318 + uVar2);
          goto LAB_00470007;
        }
        (&DAT_0048e660)[uVar2] = 0;
      }
      else {
        (&DAT_0048e761)[uVar2] = (&DAT_0048e761)[uVar2] | 0x10;
        uVar7 = *(undefined *)((int)local_218 + uVar2);
LAB_00470007:
        (&DAT_0048e660)[uVar2] = uVar7;
      }
      uVar2 = uVar2 + 1;
      puVar6 = puVar6 + 1;
    } while (uVar2 < 0x100);
  }
  else {
    uVar2 = 0;
    do {
      if ((uVar2 < 0x41) || (0x5a < uVar2)) {
        if ((0x60 < uVar2) && (uVar2 < 0x7b)) {
          (&DAT_0048e761)[uVar2] = (&DAT_0048e761)[uVar2] | 0x20;
          cVar3 = (char)uVar2 + -0x20;
          goto LAB_00470051;
        }
        (&DAT_0048e660)[uVar2] = 0;
      }
      else {
        (&DAT_0048e761)[uVar2] = (&DAT_0048e761)[uVar2] | 0x10;
        cVar3 = (char)uVar2 + ' ';
LAB_00470051:
        (&DAT_0048e660)[uVar2] = cVar3;
      }
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
  }
  return;
}



/*
 * Function: FUN_00470080
 * Address: 00470080
 */

void FUN_00470080(void)

{
  if (DAT_0048e9a8 == 0) {
    FUN_0046fca8(-3);
    DAT_0048e9a8 = 1;
  }
  return;
}



/*
 * Function: FUN_0047009c
 * Address: 0047009c
 */

int __cdecl FUN_0047009c(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  HMODULE hModule;
  int iVar1;
  
  iVar1 = 0;
  if (DAT_0048e4b0 == (FARPROC)0x0) {
    hModule = LoadLibraryA("user32.dll");
    if (hModule != (HMODULE)0x0) {
      DAT_0048e4b0 = GetProcAddress(hModule,"MessageBoxA");
      if (DAT_0048e4b0 != (FARPROC)0x0) {
        DAT_0048e4b4 = GetProcAddress(hModule,"GetActiveWindow");
        DAT_0048e4b8 = GetProcAddress(hModule,"GetLastActivePopup");
        goto LAB_004700eb;
      }
    }
    iVar1 = 0;
  }
  else {
LAB_004700eb:
    if (DAT_0048e4b4 != (FARPROC)0x0) {
      iVar1 = (*DAT_0048e4b4)();
      if ((iVar1 != 0) && (DAT_0048e4b8 != (FARPROC)0x0)) {
        iVar1 = (*DAT_0048e4b8)(iVar1);
      }
    }
    iVar1 = (*DAT_0048e4b0)(iVar1,param_1,param_2,param_3);
  }
  return iVar1;
}



/*
 * Function: _strncpy
 * Address: 00470130
 */

/* Library Function - Single Match
    _strncpy
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

char * __cdecl _strncpy(char *_Dest,char *_Source,size_t _Count)

{
  uint uVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint *puVar5;
  
  if (_Count == 0) {
    return _Dest;
  }
  puVar5 = (uint *)_Dest;
  if (((uint)_Source & 3) != 0) {
    while( true ) {
      cVar3 = *_Source;
      _Source = (char *)((int)_Source + 1);
      *(char *)puVar5 = cVar3;
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
      if (_Count == 0) {
        return _Dest;
      }
      if (cVar3 == '\0') break;
      if (((uint)_Source & 3) == 0) {
        uVar4 = _Count >> 2;
        goto joined_r0x0047016e;
      }
    }
    do {
      if (((uint)puVar5 & 3) == 0) {
        uVar4 = _Count >> 2;
        cVar3 = '\0';
        if (uVar4 == 0) goto LAB_004701ab;
        goto LAB_00470219;
      }
      *(char *)puVar5 = '\0';
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
    } while (_Count != 0);
    return _Dest;
  }
  uVar4 = _Count >> 2;
  if (uVar4 != 0) {
    do {
      uVar1 = *(uint *)_Source;
      uVar2 = *(uint *)_Source;
      _Source = (char *)((int)_Source + 4);
      if (((uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff) & 0x81010100) != 0) {
        if ((char)uVar2 == '\0') {
          *puVar5 = 0;
joined_r0x00470215:
          while( true ) {
            uVar4 = uVar4 - 1;
            puVar5 = puVar5 + 1;
            if (uVar4 == 0) break;
LAB_00470219:
            *puVar5 = 0;
          }
          cVar3 = '\0';
          _Count = _Count & 3;
          if (_Count != 0) goto LAB_004701ab;
          return _Dest;
        }
        if ((char)(uVar2 >> 8) == '\0') {
          *puVar5 = uVar2 & 0xff;
          goto joined_r0x00470215;
        }
        if ((uVar2 & 0xff0000) == 0) {
          *puVar5 = uVar2 & 0xffff;
          goto joined_r0x00470215;
        }
        if ((uVar2 & 0xff000000) == 0) {
          *puVar5 = uVar2;
          goto joined_r0x00470215;
        }
      }
      *puVar5 = uVar2;
      puVar5 = puVar5 + 1;
      uVar4 = uVar4 - 1;
joined_r0x0047016e:
    } while (uVar4 != 0);
    _Count = _Count & 3;
    if (_Count == 0) {
      return _Dest;
    }
  }
  do {
    cVar3 = *_Source;
    _Source = (char *)((int)_Source + 1);
    *(char *)puVar5 = cVar3;
    puVar5 = (uint *)((int)puVar5 + 1);
    if (cVar3 == '\0') {
      while (_Count = _Count - 1, _Count != 0) {
LAB_004701ab:
        *(char *)puVar5 = cVar3;
        puVar5 = (uint *)((int)puVar5 + 1);
      }
      return _Dest;
    }
    _Count = _Count - 1;
  } while (_Count != 0);
  return _Dest;
}



/*
 * Function: FUN_0047022e
 * Address: 0047022e
 */

undefined4 __cdecl FUN_0047022e(DWORD *param_1)

{
  bool bVar1;
  DWORD *pDVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  undefined4 *puVar7;
  DWORD local_10;
  DWORD local_c;
  
  bVar1 = false;
  if (param_1 == (DWORD *)0x2) {
    puVar7 = &DAT_0048e4bc;
    pcVar6 = DAT_0048e4bc;
LAB_004702b4:
    bVar1 = true;
    FUN_0046ceec(1);
    pDVar2 = param_1;
  }
  else {
    if (((param_1 != (DWORD *)0x4) && (param_1 != (DWORD *)0x8)) && (param_1 != (DWORD *)0xb)) {
      if (param_1 == (DWORD *)0xf) {
        puVar7 = &DAT_0048e4c8;
        pcVar6 = DAT_0048e4c8;
      }
      else if (param_1 == (DWORD *)0x15) {
        puVar7 = &DAT_0048e4c0;
        pcVar6 = DAT_0048e4c0;
      }
      else {
        if (param_1 != (DWORD *)0x16) {
          return 0xffffffff;
        }
        puVar7 = &DAT_0048e4c4;
        pcVar6 = DAT_0048e4c4;
      }
      goto LAB_004702b4;
    }
    pDVar2 = FUN_00469123();
    uVar3 = FUN_004703b0((int)param_1,pDVar2[0x14]);
    puVar7 = (undefined4 *)(uVar3 + 8);
    pcVar6 = (code *)*puVar7;
  }
  if (pcVar6 == (code *)0x1) {
    if (!bVar1) {
      return 0;
    }
    FUN_0046cf4d(1);
    return 0;
  }
  if (pcVar6 == (code *)0x0) {
    if (bVar1) {
      FUN_0046cf4d(1);
    }
                    /* WARNING: Subroutine does not return */
    __exit(3);
  }
  if (((param_1 == (DWORD *)0x8) || (param_1 == (DWORD *)0xb)) || (param_1 == (DWORD *)0x4)) {
    local_c = pDVar2[0x15];
    pDVar2[0x15] = 0;
    if (param_1 == (DWORD *)0x8) {
      local_10 = pDVar2[0x16];
      pDVar2[0x16] = 0x8c;
      goto LAB_00470328;
    }
  }
  else {
LAB_00470328:
    if (param_1 == (DWORD *)0x8) {
      if (DAT_00481d10 < DAT_00481d14 + DAT_00481d10) {
        iVar4 = DAT_00481d10 * 0xc;
        iVar5 = DAT_00481d10;
        do {
          iVar4 = iVar4 + 0xc;
          *(undefined4 *)((pDVar2[0x14] - 4) + iVar4) = 0;
          iVar5 = iVar5 + 1;
        } while (iVar5 < DAT_00481d14 + DAT_00481d10);
      }
      goto LAB_00470366;
    }
  }
  *puVar7 = 0;
LAB_00470366:
  if (bVar1) {
    FUN_0046cf4d(1);
  }
  if (param_1 == (DWORD *)0x8) {
    (*pcVar6)(8,pDVar2[0x16]);
  }
  else {
    (*pcVar6)(param_1);
    if ((param_1 != (DWORD *)0xb) && (param_1 != (DWORD *)0x4)) {
      return 0;
    }
  }
  pDVar2[0x15] = local_c;
  if (param_1 == (DWORD *)0x8) {
    pDVar2[0x16] = local_10;
  }
  return 0;
}



/*
 * Function: FUN_004703b0
 * Address: 004703b0
 */

uint __cdecl FUN_004703b0(int param_1,uint param_2)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = param_2;
  if (*(int *)(param_2 + 4) != param_1) {
    uVar3 = param_2;
    do {
      uVar2 = uVar3 + 0xc;
      if (param_2 + DAT_00481d1c * 0xc <= uVar2) break;
      piVar1 = (int *)(uVar3 + 0x10);
      uVar3 = uVar2;
    } while (*piVar1 != param_1);
  }
  if ((param_2 + DAT_00481d1c * 0xc <= uVar2) || (*(int *)(uVar2 + 4) != param_1)) {
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_004703ed
 * Address: 004703ed
 */

int __cdecl FUN_004703ed(uint param_1,int param_2)

{
  DWORD DVar1;
  DWORD DVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  DWORD *pDVar6;
  HANDLE hFile;
  BOOL BVar7;
  undefined1 unaff_BP;
  int iVar8;
  uint uVar9;
  char local_1008 [4064];
  undefined4 uStackY_28;
  
  FUN_00467f60(unaff_BP);
  iVar8 = 0;
  DVar1 = FUN_0046e977(param_1,0,1);
  if ((DVar1 == 0xffffffff) || (DVar2 = FUN_0046e977(param_1,0,2), DVar2 == 0xffffffff)) {
    iVar8 = -1;
  }
  else {
    uVar9 = param_2 - DVar2;
    if ((int)uVar9 < 1) {
      if ((int)uVar9 < 0) {
        FUN_0046e977(param_1,param_2,0);
        hFile = (HANDLE)FUN_0046e2fd(param_1);
        BVar7 = SetEndOfFile(hFile);
        iVar8 = (BVar7 != 0) - 1;
        if (iVar8 == -1) {
          pDVar6 = FUN_0046e0cd();
          *pDVar6 = 0xd;
          DVar2 = GetLastError();
          pDVar6 = FUN_0046e0d6();
          *pDVar6 = DVar2;
        }
      }
    }
    else {
      _memset(local_1008,0,0x1000);
      uStackY_28 = 0x47045a;
      iVar3 = FUN_00471136(param_1,0x8000);
      do {
        uVar4 = 0x1000;
        if ((int)uVar9 < 0x1000) {
          uVar4 = uVar9;
        }
        iVar5 = FUN_0046e4b8(param_1,local_1008,uVar4);
        if (iVar5 == -1) {
          pDVar6 = FUN_0046e0d6();
          if (*pDVar6 == 5) {
            pDVar6 = FUN_0046e0cd();
            *pDVar6 = 0xd;
          }
          iVar8 = -1;
          break;
        }
        uVar9 = uVar9 - iVar5;
      } while (0 < (int)uVar9);
      FUN_00471136(param_1,iVar3);
    }
    FUN_0046e977(param_1,DVar1,0);
  }
  return iVar8;
}



/*
 * Function: FUN_00470512
 * Address: 00470512
 */

int __cdecl
FUN_00470512(LCID param_1,uint param_2,char *param_3,int param_4,LPWSTR param_5,int param_6,
            UINT param_7,int param_8)

{
  int iVar1;
  int iVar2;
  undefined unaff_DI;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_00477428;
  puStack_10 = &LAB_0046b1a8;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (DAT_0048e500 == 0) {
    ExceptionList = &local_14;
    iVar1 = LCMapStringW(0,0x100,L"",1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = LCMapStringA(0,0x100,"",1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      DAT_0048e500 = 2;
    }
    else {
      DAT_0048e500 = 1;
    }
  }
  if (0 < param_4) {
    param_4 = FUN_00470736(param_3,param_4);
  }
  if (DAT_0048e500 == 2) {
    iVar1 = LCMapStringA(param_1,param_2,param_3,param_4,(LPSTR)param_5,param_6);
    ExceptionList = local_14;
    return iVar1;
  }
  if (DAT_0048e500 == 1) {
    if (param_7 == 0) {
      param_7 = DAT_0048e4f8;
    }
    iVar1 = MultiByteToWideChar(param_7,(-(uint)(param_8 != 0) & 8) + 1,param_3,param_4,(LPWSTR)0x0,
                                0);
    if (iVar1 != 0) {
      local_8 = 0;
      FUN_00467f60(unaff_DI);
      local_8 = 0xffffffff;
      if ((&stack0x00000000 != (undefined *)0x3c) &&
         (iVar2 = MultiByteToWideChar(param_7,1,param_3,param_4,(LPWSTR)&stack0xffffffc4,iVar1),
         iVar2 != 0)) {
        iVar2 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,(LPWSTR)0x0,0);
        if (iVar2 != 0) {
          if ((param_2 & 0x400) == 0) {
            local_8 = 1;
            FUN_00467f60(unaff_DI);
            local_8 = 0xffffffff;
            if (&stack0x00000000 == (undefined *)0x3c) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,
                                 (LPWSTR)&stack0xffffffc4,iVar2);
            if (iVar1 == 0) {
              ExceptionList = local_14;
              return 0;
            }
            if (param_6 == 0) {
              param_6 = 0;
              param_5 = (LPWSTR)0x0;
            }
            iVar2 = WideCharToMultiByte(param_7,0x220,(LPCWSTR)&stack0xffffffc4,iVar2,(LPSTR)param_5
                                        ,param_6,(LPCSTR)0x0,(LPBOOL)0x0);
            iVar1 = iVar2;
          }
          else {
            if (param_6 == 0) {
              ExceptionList = local_14;
              return iVar2;
            }
            if (param_6 < iVar2) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,param_5,param_6);
          }
          if (iVar1 != 0) {
            ExceptionList = local_14;
            return iVar2;
          }
        }
      }
    }
  }
  ExceptionList = local_14;
  return 0;
}



/*
 * Function: FUN_00470736
 * Address: 00470736
 */

int __cdecl FUN_00470736(char *param_1,int param_2)

{
  char *pcVar1;
  int iVar2;
  
  pcVar1 = param_1;
  iVar2 = param_2;
  if (param_2 != 0) {
    do {
      iVar2 = iVar2 + -1;
      if (*pcVar1 == '\0') break;
      pcVar1 = pcVar1 + 1;
    } while (iVar2 != 0);
  }
  if (*pcVar1 == '\0') {
    return (int)pcVar1 - (int)param_1;
  }
  return param_2;
}



/*
 * Function: FUN_00470761
 * Address: 00470761
 */

undefined4 __cdecl FUN_00470761(uint param_1,uint param_2,uint *param_3)

{
  uint uVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  uVar1 = param_1 + param_2;
  if ((uVar1 < param_1) || (uVar1 < param_2)) {
    uVar2 = 1;
  }
  *param_3 = uVar1;
  return uVar2;
}



/*
 * Function: ___add_12
 * Address: 00470782
 */

/* Library Function - Single Match
    ___add_12
   
   Library: Visual Studio 2003 Release */

void __cdecl ___add_12(uint *param_1,uint *param_2)

{
  int iVar1;
  
  iVar1 = FUN_00470761(*param_1,*param_2,param_1);
  if (iVar1 != 0) {
    iVar1 = FUN_00470761(param_1[1],1,param_1 + 1);
    if (iVar1 != 0) {
      param_1[2] = param_1[2] + 1;
    }
  }
  iVar1 = FUN_00470761(param_1[1],param_2[1],param_1 + 1);
  if (iVar1 != 0) {
    param_1[2] = param_1[2] + 1;
  }
  FUN_00470761(param_1[2],param_2[2],param_1 + 2);
  return;
}



/*
 * Function: FUN_004707e0
 * Address: 004707e0
 */

void __cdecl FUN_004707e0(uint *param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = *param_1;
  uVar2 = param_1[1];
  *param_1 = uVar1 * 2;
  param_1[1] = uVar2 * 2 | uVar1 >> 0x1f;
  param_1[2] = param_1[2] << 1 | uVar2 >> 0x1f;
  return;
}



/*
 * Function: FUN_0047080e
 * Address: 0047080e
 */

void __cdecl FUN_0047080e(uint *param_1)

{
  uint uVar1;
  
  uVar1 = param_1[1];
  param_1[1] = uVar1 >> 1 | param_1[2] << 0x1f;
  param_1[2] = param_1[2] >> 1;
  *param_1 = *param_1 >> 1 | uVar1 << 0x1f;
  return;
}



/*
 * Function: FUN_0047083b
 * Address: 0047083b
 */

void __cdecl FUN_0047083b(char *param_1,int param_2,uint *param_3)

{
  uint *puVar1;
  uint local_14;
  uint local_10;
  uint local_c;
  int local_8;
  
  puVar1 = param_3;
  local_8 = 0x404e;
  *param_3 = 0;
  param_3[1] = 0;
  param_3[2] = 0;
  if (param_2 != 0) {
    param_3 = (uint *)param_2;
    do {
      local_14 = *puVar1;
      local_10 = puVar1[1];
      local_c = puVar1[2];
      FUN_004707e0(puVar1);
      FUN_004707e0(puVar1);
      ___add_12(puVar1,&local_14);
      FUN_004707e0(puVar1);
      local_10 = 0;
      local_c = 0;
      local_14 = (uint)*param_1;
      ___add_12(puVar1,&local_14);
      param_1 = param_1 + 1;
      param_3 = (uint *)((int)param_3 + -1);
    } while (param_3 != (uint *)0x0);
  }
  while (puVar1[2] == 0) {
    puVar1[2] = puVar1[1] >> 0x10;
    local_8 = local_8 + 0xfff0;
    puVar1[1] = *puVar1 >> 0x10 | puVar1[1] << 0x10;
    *puVar1 = *puVar1 << 0x10;
  }
  while ((puVar1[2] & 0x8000) == 0) {
    FUN_004707e0(puVar1);
    local_8 = local_8 + 0xffff;
  }
  *(undefined2 *)((int)puVar1 + 10) = (undefined2)local_8;
  return;
}



/*
 * Function: FUN_00470902
 * Address: 00470902
 */

undefined4 __thiscall
FUN_00470902(void *this,ushort *param_1,int *param_2,byte *param_3,int param_4,int param_5,
            int param_6,int param_7)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  char *pcVar4;
  int iVar5;
  byte bVar6;
  byte *pbVar7;
  byte *pbVar8;
  int iVar9;
  byte *pbVar10;
  char local_60 [23];
  char local_49;
  ushort local_44;
  undefined2 uStack_42;
  undefined2 uStack_40;
  byte *local_3e;
  ushort local_3a;
  int local_34;
  int local_30;
  undefined4 local_2c;
  int local_28;
  int local_24;
  byte *local_20;
  int local_1c;
  undefined4 local_18;
  int local_14;
  char *local_10;
  int local_c;
  uint local_8;
  
  local_10 = local_60;
  local_2c = 0;
  local_1c = 1;
  local_8 = 0;
  local_14 = 0;
  local_28 = 0;
  local_24 = 0;
  local_30 = 0;
  local_34 = 0;
  local_20 = (byte *)0x0;
  local_c = 0;
  local_18 = 0;
  pbVar8 = param_3;
  while( true ) {
    bVar6 = *pbVar8;
    this = (void *)CONCAT31((int3)((uint)this >> 8),bVar6);
    if ((((bVar6 != 0x20) && (bVar6 != 9)) && (bVar6 != 10)) && (bVar6 != 0xd)) break;
    pbVar8 = pbVar8 + 1;
  }
  iVar1 = 4;
  iVar9 = 0;
  iVar5 = local_14;
LAB_00470959:
  local_14 = iVar5;
  pbVar7 = pbVar8;
  iVar5 = 1;
  bVar6 = *pbVar7;
  pbVar8 = pbVar7 + 1;
  iVar2 = local_14;
  switch(iVar9) {
  case 0:
    if (('0' < (char)bVar6) && ((char)bVar6 < ':')) {
LAB_00470976:
      local_14 = iVar2;
      iVar9 = 3;
      goto LAB_00470b9b;
    }
    if (bVar6 == DAT_00481c90) goto LAB_00470985;
    if (bVar6 == 0x2b) {
      local_2c = 0;
      iVar9 = 2;
      iVar5 = local_14;
    }
    else if (bVar6 == 0x2d) {
      local_2c = 0x8000;
      iVar9 = 2;
      iVar5 = local_14;
    }
    else {
      iVar9 = iVar5;
      iVar5 = local_14;
      if (bVar6 != 0x30) goto LAB_00470c75;
    }
    goto LAB_00470959;
  case 1:
    local_14 = 1;
    if (('0' < (char)bVar6) && (iVar2 = iVar5, (char)bVar6 < ':')) goto LAB_00470976;
    iVar9 = iVar1;
    if (bVar6 != DAT_00481c90) {
      iVar9 = iVar5;
      if ((bVar6 == 0x2b) || (iVar9 = local_14, bVar6 == 0x2d)) goto LAB_00470a0a;
      iVar9 = iVar5;
      local_14 = iVar5;
      if (bVar6 != 0x30) goto LAB_004709e3;
    }
    goto LAB_00470959;
  case 2:
    if (('0' < (char)bVar6) && ((char)bVar6 < ':')) goto LAB_00470976;
    if (bVar6 == DAT_00481c90) {
LAB_00470985:
      iVar9 = 5;
      iVar5 = local_14;
    }
    else {
      iVar9 = iVar5;
      pbVar7 = param_3;
      iVar5 = local_14;
      if (bVar6 != 0x30) goto LAB_00470c7a;
    }
    goto LAB_00470959;
  case 3:
    local_14 = iVar5;
    while( true ) {
      if (DAT_00481c8c < 2) {
        uVar3 = (byte)PTR_DAT_00481a80[(uint)bVar6 * 2] & 4;
        this = PTR_DAT_00481a80;
      }
      else {
        pbVar7 = (byte *)0x4;
        uVar3 = FUN_0046c40b(this,(uint)bVar6,4);
        this = pbVar7;
      }
      if (uVar3 == 0) break;
      if (local_8 < 0x19) {
        local_8 = local_8 + 1;
        pcVar4 = local_10 + 1;
        *local_10 = bVar6 - 0x30;
        local_10 = pcVar4;
      }
      else {
        local_c = local_c + 1;
      }
      bVar6 = *pbVar8;
      pbVar8 = pbVar8 + 1;
    }
    iVar9 = iVar1;
    iVar5 = local_14;
    if (bVar6 != DAT_00481c90) goto LAB_00470af7;
    goto LAB_00470959;
  case 4:
    local_14 = 1;
    local_28 = 1;
    iVar9 = iVar5;
    if (local_8 == 0) {
      while (iVar5 = local_28, iVar9 = local_14, bVar6 == 0x30) {
        local_c = local_c + -1;
        bVar6 = *pbVar8;
        pbVar8 = pbVar8 + 1;
      }
    }
    while( true ) {
      local_14 = iVar9;
      local_28 = iVar5;
      if (DAT_00481c8c < 2) {
        uVar3 = (byte)PTR_DAT_00481a80[(uint)bVar6 * 2] & 4;
        this = PTR_DAT_00481a80;
      }
      else {
        pbVar7 = (byte *)0x4;
        uVar3 = FUN_0046c40b(this,(uint)bVar6,4);
        this = pbVar7;
      }
      if (uVar3 == 0) break;
      if (local_8 < 0x19) {
        local_8 = local_8 + 1;
        local_c = local_c + -1;
        pcVar4 = local_10 + 1;
        *local_10 = bVar6 - 0x30;
        local_10 = pcVar4;
      }
      bVar6 = *pbVar8;
      pbVar8 = pbVar8 + 1;
      iVar5 = local_28;
      iVar9 = local_14;
    }
LAB_00470af7:
    iVar9 = local_14;
    if ((bVar6 == 0x2b) || (bVar6 == 0x2d)) {
LAB_00470a0a:
      local_14 = iVar9;
      iVar9 = 0xb;
      pbVar8 = pbVar8 + -1;
      iVar5 = local_14;
    }
    else {
LAB_004709e3:
      if (((char)bVar6 < 'D') ||
         (('E' < (char)bVar6 && (((char)bVar6 < 'd' || ('e' < (char)bVar6)))))) goto LAB_00470c75;
      iVar9 = 6;
      iVar5 = local_14;
    }
    goto LAB_00470959;
  case 5:
    local_28 = iVar5;
    if (DAT_00481c8c < 2) {
      uVar3 = (byte)PTR_DAT_00481a80[(uint)bVar6 * 2] & 4;
      this = PTR_DAT_00481a80;
    }
    else {
      pbVar7 = (byte *)0x4;
      uVar3 = FUN_0046c40b(this,(uint)bVar6,4);
      this = pbVar7;
    }
    iVar9 = iVar1;
    pbVar7 = param_3;
    if (uVar3 != 0) goto LAB_00470b9b;
    goto LAB_00470c7a;
  case 6:
    pbVar7 = pbVar7 + -1;
    this = pbVar7;
    param_3 = pbVar7;
    if (((char)bVar6 < '1') || ('9' < (char)bVar6)) {
      if (bVar6 == 0x2b) goto LAB_00470bd0;
      if (bVar6 == 0x2d) goto LAB_00470bc4;
      if (bVar6 != 0x30) goto LAB_00470c7a;
LAB_00470b69:
      iVar9 = 8;
      iVar5 = local_14;
      goto LAB_00470959;
    }
    break;
  case 7:
    if (((char)bVar6 < '1') || ('9' < (char)bVar6)) {
      pbVar7 = param_3;
      if (bVar6 == 0x30) goto LAB_00470b69;
      goto LAB_00470c7a;
    }
    break;
  case 8:
    local_24 = 1;
    while (bVar6 == 0x30) {
      bVar6 = *pbVar8;
      pbVar8 = pbVar8 + 1;
    }
    if (((char)bVar6 < '1') || ('9' < (char)bVar6)) goto LAB_00470c75;
    break;
  case 9:
    local_24 = 1;
    pbVar7 = (byte *)0x0;
    goto LAB_00470bfb;
  default:
    goto switchD_00470965_caseD_a;
  case 0xb:
    if (param_7 != 0) {
      if (bVar6 == 0x2b) {
LAB_00470bd0:
        iVar9 = 7;
        this = pbVar7;
        param_3 = pbVar7;
        iVar5 = local_14;
      }
      else {
        param_3 = pbVar7;
        if (bVar6 != 0x2d) goto LAB_00470c7a;
LAB_00470bc4:
        local_1c = -1;
        iVar9 = 7;
        this = pbVar7;
        param_3 = pbVar7;
        iVar5 = local_14;
      }
      goto LAB_00470959;
    }
    iVar9 = 10;
    pbVar8 = pbVar7;
switchD_00470965_caseD_a:
    pbVar7 = pbVar8;
    iVar5 = local_14;
    if (iVar9 != 10) goto LAB_00470959;
    goto LAB_00470c7a;
  }
  iVar9 = 9;
LAB_00470b9b:
  pbVar8 = pbVar8 + -1;
  iVar5 = local_14;
  goto LAB_00470959;
LAB_00470bfb:
  if (DAT_00481c8c < 2) {
    uVar3 = (byte)PTR_DAT_00481a80[(uint)bVar6 * 2] & 4;
    this = PTR_DAT_00481a80;
  }
  else {
    pbVar10 = (byte *)0x4;
    uVar3 = FUN_0046c40b(this,(uint)bVar6,4);
    this = pbVar10;
  }
  if (uVar3 == 0) goto LAB_00470c45;
  this = (void *)(int)(char)bVar6;
  pbVar7 = (byte *)((int)this + (int)pbVar7 * 10 + -0x30);
  if (0x1450 < (int)pbVar7) goto LAB_00470c3d;
  bVar6 = *pbVar8;
  pbVar8 = pbVar8 + 1;
  goto LAB_00470bfb;
LAB_00470c3d:
  pbVar7 = (byte *)0x1451;
LAB_00470c45:
  while( true ) {
    local_20 = pbVar7;
    if (DAT_00481c8c < 2) {
      uVar3 = (byte)PTR_DAT_00481a80[(uint)bVar6 * 2] & 4;
      this = PTR_DAT_00481a80;
    }
    else {
      pbVar7 = (byte *)0x4;
      uVar3 = FUN_0046c40b(this,(uint)bVar6,4);
      this = pbVar7;
    }
    if (uVar3 == 0) break;
    bVar6 = *pbVar8;
    pbVar8 = pbVar8 + 1;
    pbVar7 = local_20;
  }
LAB_00470c75:
  pbVar7 = pbVar8 + -1;
LAB_00470c7a:
  *param_2 = (int)pbVar7;
  if (local_14 == 0) {
    local_44 = 0;
    local_3a = 0;
    local_3e = (byte *)0x0;
    param_3 = (byte *)0x0;
    local_18 = 4;
    goto LAB_00470d88;
  }
  pcVar4 = local_10;
  if (0x18 < local_8) {
    if ('\x04' < local_49) {
      local_49 = local_49 + '\x01';
    }
    local_8 = 0x18;
    local_c = local_c + 1;
    pcVar4 = local_10 + -1;
  }
  if (local_8 == 0) {
    local_44 = 0;
    local_3a = 0;
    local_3e = (byte *)0x0;
    param_3 = (byte *)0x0;
  }
  else {
    while (pcVar4 = pcVar4 + -1, *pcVar4 == '\0') {
      local_8 = local_8 - 1;
      local_c = local_c + 1;
    }
    FUN_0047083b(local_60,local_8,(uint *)&local_44);
    pbVar8 = local_20;
    if (local_1c < 0) {
      pbVar8 = (byte *)-(int)local_20;
    }
    pbVar8 = pbVar8 + local_c;
    if (local_24 == 0) {
      pbVar8 = pbVar8 + param_5;
    }
    if (local_28 == 0) {
      pbVar8 = pbVar8 + -param_6;
    }
    if ((int)pbVar8 < 0x1451) {
      if (-0x1451 < (int)pbVar8) {
        FUN_0047147a((int *)&local_44,(uint)pbVar8,param_4);
        param_3 = (byte *)CONCAT22(uStack_40,uStack_42);
        goto LAB_00470d0d;
      }
      local_34 = 1;
    }
    else {
      local_30 = 1;
    }
    local_3a = (ushort)param_3;
    local_3e = param_3;
    local_44 = local_3a;
  }
LAB_00470d0d:
  if (local_30 == 0) {
    if (local_34 != 0) {
      local_44 = 0;
      local_3a = 0;
      local_3e = (byte *)0x0;
      param_3 = (byte *)0x0;
      local_18 = 1;
    }
  }
  else {
    param_3 = (byte *)0x0;
    local_3a = 0x7fff;
    local_3e = (byte *)0x80000000;
    local_44 = 0;
    local_18 = 2;
  }
LAB_00470d88:
  *(byte **)(param_1 + 3) = local_3e;
  *(byte **)(param_1 + 1) = param_3;
  param_1[5] = local_3a | (ushort)local_2c;
  *param_1 = local_44;
  return local_18;
}



/*
 * Function: FUN_00470dd3
 * Address: 00470dd3
 */

undefined4 __cdecl
FUN_00470dd3(uint param_1,uint param_2,uint param_3,int param_4,byte param_5,short *param_6)

{
  short *psVar1;
  uint uVar2;
  short *psVar3;
  char cVar4;
  uint uVar5;
  short *psVar6;
  short *psVar7;
  short sVar8;
  int iVar9;
  int iVar10;
  char *pcVar11;
  undefined local_20;
  undefined local_1f;
  undefined local_1e;
  undefined local_1d;
  undefined local_1c;
  undefined local_1b;
  undefined local_1a;
  undefined local_19;
  undefined local_18;
  undefined local_17;
  undefined local_16;
  undefined local_15;
  undefined2 local_14;
  undefined4 local_12;
  undefined4 local_e;
  undefined local_a;
  char cStack_9;
  undefined4 local_8;
  
  psVar3 = param_6;
  uVar5 = param_3 & 0x7fff;
  local_20 = 0xcc;
  local_1f = 0xcc;
  local_1e = 0xcc;
  local_1d = 0xcc;
  local_1c = 0xcc;
  local_1b = 0xcc;
  local_1a = 0xcc;
  local_19 = 0xcc;
  local_18 = 0xcc;
  local_17 = 0xcc;
  local_16 = 0xfb;
  local_15 = 0x3f;
  local_8 = 1;
  if ((param_3 & 0x8000) == 0) {
    *(undefined *)(param_6 + 1) = 0x20;
  }
  else {
    *(undefined *)(param_6 + 1) = 0x2d;
  }
  if ((((short)uVar5 != 0) || (param_2 != 0)) || (param_1 != 0)) {
    if ((short)uVar5 == 0x7fff) {
      *param_6 = 1;
      if (((param_2 == 0x80000000) && (param_1 == 0)) || ((param_2 & 0x40000000) != 0)) {
        if (((param_3 & 0x8000) == 0) || (param_2 != 0xc0000000)) {
          if ((param_2 != 0x80000000) || (param_1 != 0)) goto LAB_00470ec8;
          pcVar11 = "1#INF";
        }
        else {
          if (param_1 != 0) {
LAB_00470ec8:
            pcVar11 = "1#QNAN";
            goto LAB_00470ecd;
          }
          pcVar11 = "1#IND";
        }
        FUN_0046f420((uint *)(param_6 + 2),(uint *)pcVar11);
        *(undefined *)((int)psVar3 + 3) = 5;
      }
      else {
        pcVar11 = "1#SNAN";
LAB_00470ecd:
        FUN_0046f420((uint *)(param_6 + 2),(uint *)pcVar11);
        *(undefined *)((int)psVar3 + 3) = 6;
      }
      return 0;
    }
    local_14 = 0;
    local_a = (undefined)uVar5;
    cStack_9 = (char)(uVar5 >> 8);
    sVar8 = (short)(((uVar5 >> 8) + (param_2 >> 0x18) * 2) * 0x4d + -0x134312f4 + uVar5 * 0x4d10 >>
                   0x10);
    local_e = param_2;
    local_12 = param_1;
    FUN_0047147a((int *)&local_14,-(int)sVar8,1);
    if (0x3ffe < CONCAT11(cStack_9,local_a)) {
      sVar8 = sVar8 + 1;
      FUN_0047125a((int *)&local_14,(int *)&local_20);
    }
    *psVar3 = sVar8;
    iVar10 = param_4;
    if (((param_5 & 1) == 0) || (iVar10 = param_4 + sVar8, 0 < param_4 + sVar8)) {
      if (0x15 < iVar10) {
        iVar10 = 0x15;
      }
      iVar9 = CONCAT11(cStack_9,local_a) - 0x3ffe;
      local_a = 0;
      cStack_9 = '\0';
      param_6 = (short *)0x8;
      do {
        FUN_004707e0((uint *)&local_14);
        param_6 = (short *)((int)param_6 + -1);
      } while (param_6 != (short *)0x0);
      if (iVar9 < 0) {
        param_6 = (short *)0x0;
        for (uVar5 = -iVar9 & 0xff; uVar5 != 0; uVar5 = uVar5 - 1) {
          FUN_0047080e((uint *)&local_14);
        }
      }
      param_4 = iVar10 + 1;
      psVar6 = psVar3 + 2;
      param_6 = psVar6;
      uVar5 = local_12;
      uVar2 = local_e;
      if (0 < param_4) {
        do {
          local_e._2_2_ = (undefined2)(uVar2 >> 0x10);
          local_e._0_2_ = (undefined2)uVar2;
          local_12._2_2_ = (undefined2)(uVar5 >> 0x10);
          local_12._0_2_ = (undefined2)uVar5;
          param_1 = CONCAT22((undefined2)local_12,local_14);
          param_2 = CONCAT22((undefined2)local_e,local_12._2_2_);
          param_3 = CONCAT13(cStack_9,CONCAT12(local_a,local_e._2_2_));
          local_12 = uVar5;
          local_e = uVar2;
          FUN_004707e0((uint *)&local_14);
          FUN_004707e0((uint *)&local_14);
          ___add_12((uint *)&local_14,&param_1);
          FUN_004707e0((uint *)&local_14);
          cVar4 = cStack_9;
          cStack_9 = '\0';
          psVar6 = (short *)((int)param_6 + 1);
          param_4 = param_4 + -1;
          *(char *)param_6 = cVar4 + '0';
          param_6 = psVar6;
          uVar5 = local_12;
          uVar2 = local_e;
        } while (param_4 != 0);
      }
      psVar7 = psVar6 + -1;
      psVar1 = psVar3 + 2;
      if ('4' < *(char *)((int)psVar6 + -1)) {
        for (; psVar1 <= psVar7; psVar7 = (short *)((int)psVar7 + -1)) {
          if (*(char *)psVar7 != '9') {
            if (psVar1 <= psVar7) goto LAB_00471025;
            break;
          }
          *(char *)psVar7 = '0';
        }
        psVar7 = (short *)((int)psVar7 + 1);
        *psVar3 = *psVar3 + 1;
LAB_00471025:
        *(char *)psVar7 = *(char *)psVar7 + '\x01';
LAB_00471027:
        cVar4 = ((char)psVar7 - (char)psVar3) + -3;
        *(char *)((int)psVar3 + 3) = cVar4;
        *(undefined *)(cVar4 + 4 + (int)psVar3) = 0;
        return local_8;
      }
      for (; psVar1 <= psVar7; psVar7 = (short *)((int)psVar7 + -1)) {
        if (*(char *)psVar7 != '0') {
          if (psVar1 <= psVar7) goto LAB_00471027;
          break;
        }
      }
      *psVar3 = 0;
      *(undefined *)(psVar3 + 1) = 0x20;
      *(undefined *)((int)psVar3 + 3) = 1;
      *(char *)psVar1 = '0';
      goto LAB_0047105d;
    }
  }
  *psVar3 = 0;
  *(undefined *)(psVar3 + 1) = 0x20;
  *(undefined *)((int)psVar3 + 3) = 1;
  *(undefined *)(psVar3 + 2) = 0x30;
LAB_0047105d:
  *(undefined *)((int)psVar3 + 5) = 0;
  return 1;
}



/*
 * Function: FUN_00471066
 * Address: 00471066
 */

void __cdecl FUN_00471066(uint param_1,int *param_2,ushort *param_3)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  uint uVar3;
  uint local_5c [10];
  undefined8 local_34;
  uint local_24;
  
  param_3 = (ushort *)(uint)*param_3;
  iVar2 = *param_2;
  if (iVar2 == 1) {
LAB_004710ab:
    uVar3 = 8;
  }
  else if (iVar2 == 2) {
    uVar3 = 4;
  }
  else if (iVar2 == 3) {
    uVar3 = 0x11;
  }
  else if (iVar2 == 4) {
    uVar3 = 0x12;
  }
  else {
    if (iVar2 == 5) goto LAB_004710ab;
    if (iVar2 == 7) {
      *param_2 = 1;
      goto LAB_00471101;
    }
    if (iVar2 != 8) goto LAB_00471101;
    uVar3 = 0x10;
  }
  bVar1 = FUN_0046ac31(uVar3,(double *)(param_2 + 6),(uint)param_3);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    if (((param_1 == 0x10) || (param_1 == 0x16)) || (param_1 == 0x1d)) {
      local_34 = *(undefined8 *)(param_2 + 4);
      local_24 = local_24 & 0xffffffe3 | 3;
    }
    else {
      local_24 = local_24 & 0xfffffffe;
    }
    FUN_0046a97e(local_5c,(uint *)&param_3,uVar3,param_1,(undefined8 *)(param_2 + 2),
                 (undefined8 *)(param_2 + 6));
  }
LAB_00471101:
  FUN_0046b127(param_3,0xffff);
  if (((*param_2 != 8) && (DAT_00482040 == 0)) && (iVar2 = FUN_0046f571(), iVar2 != 0)) {
    return;
  }
  FUN_0046aed0(*param_2);
  return;
}



/*
 * Function: FUN_00471136
 * Address: 00471136
 */

int __cdecl FUN_00471136(uint param_1,int param_2)

{
  byte bVar1;
  DWORD *pDVar2;
  byte bVar3;
  
  bVar1 = *(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24);
  if (param_2 == 0x8000) {
    bVar3 = bVar1 & 0x7f;
  }
  else {
    if (param_2 != 0x4000) {
      pDVar2 = FUN_0046e0cd();
      *pDVar2 = 0x16;
      return -1;
    }
    bVar3 = bVar1 | 0x80;
  }
  *(byte *)((&DAT_0048e8a0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) = bVar3;
  return (-(uint)((bVar1 & 0x80) != 0) & 0xffffc000) + 0x8000;
}



/*
 * Function: FUN_004711a0
 * Address: 004711a0
 */

int __cdecl FUN_004711a0(byte *param_1,byte *param_2)

{
  byte bVar1;
  int iVar2;
  byte abStack_28 [32];
  
  abStack_28[0x1c] = 0;
  abStack_28[0x1d] = 0;
  abStack_28[0x1e] = 0;
  abStack_28[0x1f] = 0;
  abStack_28[0x18] = 0;
  abStack_28[0x19] = 0;
  abStack_28[0x1a] = 0;
  abStack_28[0x1b] = 0;
  abStack_28[0x14] = 0;
  abStack_28[0x15] = 0;
  abStack_28[0x16] = 0;
  abStack_28[0x17] = 0;
  abStack_28[0x10] = 0;
  abStack_28[0x11] = 0;
  abStack_28[0x12] = 0;
  abStack_28[0x13] = 0;
  abStack_28[0xc] = 0;
  abStack_28[0xd] = 0;
  abStack_28[0xe] = 0;
  abStack_28[0xf] = 0;
  abStack_28[8] = 0;
  abStack_28[9] = 0;
  abStack_28[10] = 0;
  abStack_28[0xb] = 0;
  abStack_28[4] = 0;
  abStack_28[5] = 0;
  abStack_28[6] = 0;
  abStack_28[7] = 0;
  abStack_28[0] = 0;
  abStack_28[1] = 0;
  abStack_28[2] = 0;
  abStack_28[3] = 0;
  while( true ) {
    bVar1 = *param_2;
    if (bVar1 == 0) break;
    param_2 = param_2 + 1;
    abStack_28[(int)(uint)bVar1 >> 3] = abStack_28[(int)(uint)bVar1 >> 3] | '\x01' << (bVar1 & 7);
  }
  iVar2 = -1;
  do {
    iVar2 = iVar2 + 1;
    bVar1 = *param_1;
    if (bVar1 == 0) {
      return iVar2;
    }
    param_1 = param_1 + 1;
  } while ((abStack_28[(int)(uint)bVar1 >> 3] >> (bVar1 & 7) & 1) == 0);
  return iVar2;
}



/*
 * Function: _strncmp
 * Address: 004711e0
 */

/* Library Function - Single Match
    _strncmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strncmp(char *_Str1,char *_Str2,size_t _MaxCount)

{
  char cVar1;
  char cVar2;
  size_t sVar3;
  int iVar4;
  uint uVar5;
  char *pcVar6;
  char *pcVar7;
  
  sVar3 = _MaxCount;
  pcVar6 = _Str1;
  if (_MaxCount != 0) {
    do {
      if (sVar3 == 0) break;
      sVar3 = sVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    iVar4 = _MaxCount - sVar3;
    do {
      pcVar6 = _Str2;
      pcVar7 = _Str1;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar7 = _Str1 + 1;
      pcVar6 = _Str2 + 1;
      cVar2 = *_Str1;
      cVar1 = *_Str2;
      _Str2 = pcVar6;
      _Str1 = pcVar7;
    } while (cVar1 == cVar2);
    uVar5 = 0;
    if ((byte)pcVar6[-1] <= (byte)pcVar7[-1]) {
      if (pcVar6[-1] == pcVar7[-1]) {
        return 0;
      }
      uVar5 = 0xfffffffe;
    }
    _MaxCount = ~uVar5;
  }
  return _MaxCount;
}



/*
 * Function: FUN_00471220
 * Address: 00471220
 */

byte * __cdecl FUN_00471220(byte *param_1,byte *param_2)

{
  byte bVar1;
  byte *pbVar2;
  byte abStack_28 [32];
  
  abStack_28[0x1c] = 0;
  abStack_28[0x1d] = 0;
  abStack_28[0x1e] = 0;
  abStack_28[0x1f] = 0;
  abStack_28[0x18] = 0;
  abStack_28[0x19] = 0;
  abStack_28[0x1a] = 0;
  abStack_28[0x1b] = 0;
  abStack_28[0x14] = 0;
  abStack_28[0x15] = 0;
  abStack_28[0x16] = 0;
  abStack_28[0x17] = 0;
  abStack_28[0x10] = 0;
  abStack_28[0x11] = 0;
  abStack_28[0x12] = 0;
  abStack_28[0x13] = 0;
  abStack_28[0xc] = 0;
  abStack_28[0xd] = 0;
  abStack_28[0xe] = 0;
  abStack_28[0xf] = 0;
  abStack_28[8] = 0;
  abStack_28[9] = 0;
  abStack_28[10] = 0;
  abStack_28[0xb] = 0;
  abStack_28[4] = 0;
  abStack_28[5] = 0;
  abStack_28[6] = 0;
  abStack_28[7] = 0;
  abStack_28[0] = 0;
  abStack_28[1] = 0;
  abStack_28[2] = 0;
  abStack_28[3] = 0;
  while( true ) {
    bVar1 = *param_2;
    if (bVar1 == 0) break;
    param_2 = param_2 + 1;
    abStack_28[(int)(uint)bVar1 >> 3] = abStack_28[(int)(uint)bVar1 >> 3] | '\x01' << (bVar1 & 7);
  }
  do {
    pbVar2 = param_1;
    bVar1 = *pbVar2;
    if (bVar1 == 0) {
      return (byte *)(uint)bVar1;
    }
    param_1 = pbVar2 + 1;
  } while ((abStack_28[(int)(uint)bVar1 >> 3] >> (bVar1 & 7) & 1) == 0);
  return pbVar2;
}



/*
 * Function: FUN_0047125a
 * Address: 0047125a
 */

void __cdecl FUN_0047125a(int *param_1,int *param_2)

{
  int *piVar1;
  short sVar2;
  int iVar3;
  int *piVar4;
  int *piVar5;
  ushort uVar6;
  uint uVar7;
  int iVar8;
  ushort uVar9;
  uint uVar10;
  ushort uVar11;
  byte local_28;
  undefined uStack_27;
  undefined2 uStack_26;
  short local_24;
  undefined2 uStack_22;
  undefined2 local_20;
  undefined uStack_1e;
  byte bStack_1d;
  int *local_1c;
  int local_18;
  int local_14;
  ushort *local_10;
  ushort *local_c;
  short *local_8;
  
  piVar5 = param_2;
  piVar4 = param_1;
  local_18 = 0;
  local_28 = 0;
  uStack_27 = 0;
  uStack_26 = 0;
  local_24 = 0;
  uStack_22 = 0;
  local_20 = 0;
  uStack_1e = 0;
  bStack_1d = 0;
  uVar7 = *(ushort *)((int)param_1 + 10) & 0x7fff;
  uVar10 = *(ushort *)((int)param_2 + 10) & 0x7fff;
  uVar11 = (*(ushort *)((int)param_2 + 10) ^ *(ushort *)((int)param_1 + 10)) & 0x8000;
  uVar6 = (ushort)uVar7;
  piVar1 = (int *)(uVar10 + uVar7);
  if (((uVar6 < 0x7fff) && (uVar9 = (ushort)uVar10, uVar9 < 0x7fff)) && ((ushort)piVar1 < 0xbffe)) {
    if ((ushort)piVar1 < 0x3fc0) {
LAB_004712fd:
      piVar4[2] = 0;
      piVar4[1] = 0;
      *piVar4 = 0;
      return;
    }
    if (((uVar6 != 0) || (piVar1 = (int *)((int)piVar1 + 1), (param_1[2] & 0x7fffffffU) != 0)) ||
       ((uVar6 = 0, param_1[1] != 0 || (*param_1 != 0)))) {
      param_1 = piVar1;
      if (((uVar9 == 0) && (param_1 = (int *)((int)param_1 + 1), (param_2[2] & 0x7fffffffU) == 0))
         && ((param_2[1] == 0 && (*param_2 == 0)))) goto LAB_004712fd;
      local_14 = 0;
      local_8 = &local_24;
      param_2 = (int *)0x5;
      do {
        if (0 < (int)param_2) {
          local_c = (ushort *)(local_14 * 2 + (int)piVar4);
          local_10 = (ushort *)(piVar5 + 2);
          local_1c = param_2;
          do {
            iVar8 = FUN_00470761(*(uint *)(local_8 + -2),(uint)*local_c * (uint)*local_10,
                                 (uint *)(local_8 + -2));
            if (iVar8 != 0) {
              *local_8 = *local_8 + 1;
            }
            local_c = local_c + 1;
            local_10 = local_10 + -1;
            local_1c = (int *)((int)local_1c + -1);
          } while (local_1c != (int *)0x0);
        }
        local_8 = local_8 + 1;
        local_14 = local_14 + 1;
        param_2 = (int *)((int)param_2 + -1);
      } while (0 < (int)param_2);
      param_1 = (int *)((int)param_1 + 0xc002);
      if ((short)(ushort)param_1 < 1) {
LAB_004713b1:
        param_1._0_2_ = (ushort)param_1 - 1;
        if ((short)(ushort)param_1 < 0) {
          iVar8 = -(int)(short)(ushort)param_1;
          param_1._0_2_ = (ushort)param_1 + (short)iVar8;
          do {
            if ((local_28 & 1) != 0) {
              local_18 = local_18 + 1;
            }
            FUN_0047080e((uint *)&local_28);
            iVar8 = iVar8 + -1;
          } while (iVar8 != 0);
          if (local_18 != 0) {
            local_28 = local_28 | 1;
          }
        }
      }
      else {
        do {
          if ((bStack_1d & 0x80) != 0) break;
          FUN_004707e0((uint *)&local_28);
          param_1 = (int *)((int)param_1 + 0xffff);
        } while (0 < (short)(ushort)param_1);
        if ((short)(ushort)param_1 < 1) goto LAB_004713b1;
      }
      if ((0x8000 < CONCAT11(uStack_27,local_28)) ||
         (sVar2 = CONCAT11(bStack_1d,uStack_1e), iVar3 = CONCAT22(local_20,uStack_22),
         iVar8 = CONCAT22(local_24,uStack_26),
         (CONCAT22(uStack_26,CONCAT11(uStack_27,local_28)) & 0x1ffff) == 0x18000)) {
        if (CONCAT22(local_24,uStack_26) == -1) {
          iVar8 = 0;
          if (CONCAT22(local_20,uStack_22) == -1) {
            if (CONCAT11(bStack_1d,uStack_1e) == -1) {
              param_1._0_2_ = (ushort)param_1 + 1;
              sVar2 = -0x8000;
              iVar3 = 0;
              iVar8 = 0;
            }
            else {
              sVar2 = CONCAT11(bStack_1d,uStack_1e) + 1;
              iVar3 = 0;
              iVar8 = 0;
            }
          }
          else {
            sVar2 = CONCAT11(bStack_1d,uStack_1e);
            iVar3 = CONCAT22(local_20,uStack_22) + 1;
          }
        }
        else {
          iVar8 = CONCAT22(local_24,uStack_26) + 1;
          sVar2 = CONCAT11(bStack_1d,uStack_1e);
          iVar3 = CONCAT22(local_20,uStack_22);
        }
      }
      local_24 = (short)((uint)iVar8 >> 0x10);
      uStack_26 = (undefined2)iVar8;
      local_20 = (undefined2)((uint)iVar3 >> 0x10);
      uStack_22 = (undefined2)iVar3;
      bStack_1d = (byte)((ushort)sVar2 >> 8);
      uStack_1e = (undefined)sVar2;
      if (0x7ffe < (ushort)param_1) goto LAB_0047145a;
      uVar6 = (ushort)param_1 | uVar11;
      *(undefined2 *)piVar4 = uStack_26;
      *(uint *)((int)piVar4 + 2) = CONCAT22(uStack_22,local_24);
      *(uint *)((int)piVar4 + 6) = CONCAT13(bStack_1d,CONCAT12(uStack_1e,local_20));
    }
    *(ushort *)((int)piVar4 + 10) = uVar6;
  }
  else {
LAB_0047145a:
    piVar4[1] = 0;
    *piVar4 = 0;
    piVar4[2] = (-(uint)(uVar11 != 0) & 0x80000000) + 0x7fff8000;
  }
  return;
}



/*
 * Function: FUN_0047147a
 * Address: 0047147a
 */

void __cdecl FUN_0047147a(int *param_1,uint param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  undefined **ppuVar3;
  undefined **ppuVar4;
  undefined2 local_10;
  undefined4 local_e;
  undefined2 uStack_a;
  undefined *puStack_8;
  
  ppuVar3 = &PTR_DAT_00482330;
  if (param_2 != 0) {
    if ((int)param_2 < 0) {
      param_2 = -param_2;
      ppuVar3 = (undefined **)0x482490;
    }
    if (param_3 == 0) {
      *(undefined2 *)param_1 = 0;
    }
    while (param_2 != 0) {
      ppuVar3 = ppuVar3 + 0x15;
      uVar1 = (int)param_2 >> 3;
      uVar2 = param_2 & 7;
      param_2 = uVar1;
      if (uVar2 != 0) {
        ppuVar4 = ppuVar3 + uVar2 * 3;
        if (0x7fff < *(ushort *)(ppuVar3 + uVar2 * 3)) {
          local_10 = SUB42(*ppuVar4,0);
          local_e._0_2_ = (undefined2)((uint)*ppuVar4 >> 0x10);
          local_e._2_2_ = SUB42(ppuVar4[1],0);
          uStack_a = (undefined2)((uint)ppuVar4[1] >> 0x10);
          puStack_8 = ppuVar4[2];
          local_e = CONCAT22(local_e._2_2_,(undefined2)local_e) + -1;
          ppuVar4 = (undefined **)&local_10;
        }
        FUN_0047125a(param_1,(int *)ppuVar4);
      }
    }
  }
  return;
}



/*
 * Function: FUN_00471500
 * Address: 00471500
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint __thiscall FUN_00471500(void *this,byte *param_1,byte *param_2)

{
  bool bVar1;
  int iVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  uint uVar6;
  void *extraout_ECX;
  void *this_00;
  void *extraout_ECX_00;
  uint uVar7;
  uint uVar8;
  
  iVar2 = _DAT_0048e644;
  if (DAT_0048e4e8 == 0) {
    bVar5 = 0xff;
    do {
      do {
        if (bVar5 == 0) goto LAB_0047154e;
        bVar5 = *param_2;
        param_2 = param_2 + 1;
        bVar4 = *param_1;
        param_1 = param_1 + 1;
      } while (bVar4 == bVar5);
      bVar3 = bVar5 + 0xbf + (-((byte)(bVar5 + 0xbf) < 0x1a) & 0x20U) + 0x41;
      bVar4 = bVar4 + 0xbf;
      bVar5 = bVar4 + (-(bVar4 < 0x1a) & 0x20U) + 0x41;
    } while (bVar5 == bVar3);
    bVar5 = (bVar5 < bVar3) * -2 + 1;
LAB_0047154e:
    uVar6 = (uint)(char)bVar5;
  }
  else {
    LOCK();
    _DAT_0048e644 = _DAT_0048e644 + 1;
    UNLOCK();
    bVar1 = 0 < DAT_0048e640;
    if (bVar1) {
      LOCK();
      UNLOCK();
      _DAT_0048e644 = iVar2;
      FUN_0046ceec(0x13);
      this = extraout_ECX;
    }
    uVar8 = (uint)bVar1;
    uVar6 = 0xff;
    uVar7 = 0;
    do {
      do {
        if ((char)uVar6 == '\0') goto LAB_004715af;
        bVar5 = *param_2;
        uVar6 = CONCAT31((int3)(uVar6 >> 8),bVar5);
        param_2 = param_2 + 1;
        bVar4 = *param_1;
        uVar7 = CONCAT31((int3)(uVar7 >> 8),bVar4);
        param_1 = param_1 + 1;
      } while (bVar5 == bVar4);
      uVar7 = FUN_0046edda(this,uVar7);
      uVar6 = FUN_0046edda(this_00,uVar6);
      this = extraout_ECX_00;
    } while ((byte)uVar7 == (byte)uVar6);
    uVar7 = (uint)((byte)uVar7 < (byte)uVar6);
    uVar6 = (1 - uVar7) - (uint)(uVar7 != 0);
LAB_004715af:
    if (uVar8 == 0) {
      LOCK();
      _DAT_0048e644 = _DAT_0048e644 + -1;
      UNLOCK();
    }
    else {
      FUN_0046cf4d(0x13);
    }
  }
  return uVar6;
}



/*
 * Function: FUN_004715d0
 * Address: 004715d0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void * __cdecl FUN_004715d0(byte *param_1,char *param_2,void *param_3)

{
  char cVar1;
  int iVar2;
  byte bVar3;
  ushort uVar4;
  uint uVar5;
  void *this;
  uint uVar6;
  bool bVar7;
  uint uVar8;
  
  iVar2 = _DAT_0048e644;
  if (param_3 != (void *)0x0) {
    if (DAT_0048e4e8 == 0) {
      do {
        bVar3 = *param_1;
        cVar1 = *param_2;
        uVar4 = CONCAT11(bVar3,cVar1);
        if (bVar3 == 0) break;
        uVar4 = CONCAT11(bVar3,cVar1);
        uVar6 = (uint)uVar4;
        if (cVar1 == '\0') break;
        param_1 = param_1 + 1;
        param_2 = param_2 + 1;
        if ((0x40 < bVar3) && (bVar3 < 0x5b)) {
          uVar6 = (uint)CONCAT11(bVar3 + 0x20,cVar1);
        }
        uVar4 = (ushort)uVar6;
        bVar3 = (byte)uVar6;
        if ((0x40 < bVar3) && (bVar3 < 0x5b)) {
          uVar4 = (ushort)CONCAT31((int3)(uVar6 >> 8),bVar3 + 0x20);
        }
        bVar3 = (byte)(uVar4 >> 8);
        bVar7 = bVar3 < (byte)uVar4;
        if (bVar3 != (byte)uVar4) goto LAB_0047162f;
        param_3 = (void *)((int)param_3 + -1);
      } while (param_3 != (void *)0x0);
      param_3 = (void *)0x0;
      bVar3 = (byte)(uVar4 >> 8);
      bVar7 = bVar3 < (byte)uVar4;
      if (bVar3 != (byte)uVar4) {
LAB_0047162f:
        param_3 = (void *)0xffffffff;
        if (!bVar7) {
          param_3 = (void *)0x1;
        }
      }
    }
    else {
      LOCK();
      _DAT_0048e644 = _DAT_0048e644 + 1;
      UNLOCK();
      bVar7 = 0 < DAT_0048e640;
      if (bVar7) {
        LOCK();
        UNLOCK();
        _DAT_0048e644 = iVar2;
        FUN_0046ceec(0x13);
      }
      uVar8 = (uint)bVar7;
      uVar5 = 0;
      uVar6 = 0;
      do {
        uVar5 = CONCAT31((int3)(uVar5 >> 8),*param_1);
        uVar6 = CONCAT31((int3)(uVar6 >> 8),*param_2);
        if ((uVar5 == 0) || (uVar6 == 0)) break;
        param_1 = param_1 + 1;
        param_2 = param_2 + 1;
        uVar6 = FUN_0046edda(param_3,uVar6);
        uVar5 = FUN_0046edda(this,uVar5);
        bVar7 = uVar5 < uVar6;
        if (uVar5 != uVar6) goto LAB_004716a5;
        param_3 = (void *)((int)param_3 + -1);
      } while (param_3 != (void *)0x0);
      param_3 = (void *)0x0;
      bVar7 = uVar5 < uVar6;
      if (uVar5 != uVar6) {
LAB_004716a5:
        param_3 = (void *)0xffffffff;
        if (!bVar7) {
          param_3 = (void *)0x1;
        }
      }
      if (uVar8 == 0) {
        LOCK();
        _DAT_0048e644 = _DAT_0048e644 + -1;
        UNLOCK();
      }
      else {
        FUN_0046cf4d(0x13);
      }
    }
  }
  return param_3;
}



/*
 * Function: RtlUnwind
 * Address: 004717b0
 */

void RtlUnwind(PVOID TargetFrame,PVOID TargetIp,PEXCEPTION_RECORD ExceptionRecord,PVOID ReturnValue)

{
                    /* WARNING: Could not recover jumptable at 0x004717b0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RtlUnwind(TargetFrame,TargetIp,ExceptionRecord,ReturnValue);
  return;
}



/*
 * Function: Unwind@004717c0
 * Address: 004717c0
 */

void Unwind_004717c0(void)

{
  int unaff_EBP;
  
  RKC_WINDOW::~RKC_WINDOW((RKC_WINDOW *)(*(int *)(unaff_EBP + -0x218) + 8));
  return;
}



/*
 * Function: Unwind@004717ce
 * Address: 004717ce
 */

void Unwind_004717ce(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004717da. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x218) + 0x56c));
  return;
}



/*
 * Function: Unwind@004717e0
 * Address: 004717e0
 */

void Unwind_004717e0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004717ec. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x218) + 0x578));
  return;
}



/*
 * Function: Unwind@004717f2
 * Address: 004717f2
 */

void Unwind_004717f2(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004717fe. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x218) + 0x584));
  return;
}



/*
 * Function: Unwind@00471804
 * Address: 00471804
 */

void Unwind_00471804(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471810. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x218) + 0x590));
  return;
}



/*
 * Function: Unwind@00471816
 * Address: 00471816
 */

void Unwind_00471816(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471827
 * Address: 00471827
 */

void Unwind_00471827(void)

{
  int unaff_EBP;
  
  FUN_004219c0(*(int *)(unaff_EBP + -0x218) + 0x620);
  return;
}



/*
 * Function: Unwind@00471838
 * Address: 00471838
 */

void Unwind_00471838(void)

{
  int unaff_EBP;
  
  FUN_0041d1b0(*(int *)(unaff_EBP + -0x218) + 0x684);
  return;
}



/*
 * Function: Unwind@00471849
 * Address: 00471849
 */

void Unwind_00471849(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@00471857
 * Address: 00471857
 */

void Unwind_00471857(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@00471865
 * Address: 00471865
 */

void Unwind_00471865(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@00471873
 * Address: 00471873
 */

void Unwind_00471873(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@00471881
 * Address: 00471881
 */

void Unwind_00471881(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@0047188f
 * Address: 0047188f
 */

void Unwind_0047188f(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@0047189d
 * Address: 0047189d
 */

void Unwind_0047189d(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x228));
  return;
}



/*
 * Function: Unwind@004718c0
 * Address: 004718c0
 */

void Unwind_004718c0(void)

{
  int unaff_EBP;
  
  RKC_WINDOW::~RKC_WINDOW((RKC_WINDOW *)(*(int *)(unaff_EBP + -0x10) + 8));
  return;
}



/*
 * Function: Unwind@004718cb
 * Address: 004718cb
 */

void Unwind_004718cb(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004718d4. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x10) + 0x56c));
  return;
}



/*
 * Function: Unwind@004718da
 * Address: 004718da
 */

void Unwind_004718da(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004718e3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x10) + 0x578));
  return;
}



/*
 * Function: Unwind@004718e9
 * Address: 004718e9
 */

void Unwind_004718e9(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004718f2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x10) + 0x584));
  return;
}



/*
 * Function: Unwind@004718f8
 * Address: 004718f8
 */

void Unwind_004718f8(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471901. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x10) + 0x590));
  return;
}



/*
 * Function: Unwind@00471907
 * Address: 00471907
 */

void Unwind_00471907(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471915
 * Address: 00471915
 */

void Unwind_00471915(void)

{
  int unaff_EBP;
  
  FUN_004219c0(*(int *)(unaff_EBP + -0x10) + 0x620);
  return;
}



/*
 * Function: Unwind@00471930
 * Address: 00471930
 */

void Unwind_00471930(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471933. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FONTMAKER::~RKC_FONTMAKER((RKC_FONTMAKER *)(unaff_EBP + -0x74));
  return;
}



/*
 * Function: Unwind@00471950
 * Address: 00471950
 */

void Unwind_00471950(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471953. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471970
 * Address: 00471970
 */

void Unwind_00471970(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471973. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x3c));
  return;
}



/*
 * Function: Unwind@00471990
 * Address: 00471990
 */

void Unwind_00471990(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471993. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x18));
  return;
}



/*
 * Function: Unwind@004719b0
 * Address: 004719b0
 */

void Unwind_004719b0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004719b3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x1c));
  return;
}



/*
 * Function: Unwind@004719b9
 * Address: 004719b9
 */

void Unwind_004719b9(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004719bc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@004719d0
 * Address: 004719d0
 */

void Unwind_004719d0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004719d3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x2c));
  return;
}



/*
 * Function: Unwind@004719f0
 * Address: 004719f0
 */

void Unwind_004719f0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004719f3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x44));
  return;
}



/*
 * Function: Unwind@00471a10
 * Address: 00471a10
 */

void Unwind_00471a10(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471a13. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x6c));
  return;
}



/*
 * Function: Unwind@00471a30
 * Address: 00471a30
 */

void Unwind_00471a30(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471a33. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x60));
  return;
}



/*
 * Function: Unwind@00471a39
 * Address: 00471a39
 */

void Unwind_00471a39(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471a3c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00471a50
 * Address: 00471a50
 */

void Unwind_00471a50(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471a53. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x34));
  return;
}



/*
 * Function: Unwind@00471a70
 * Address: 00471a70
 */

void Unwind_00471a70(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471a76. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x134));
  return;
}



/*
 * Function: Unwind@00471a7c
 * Address: 00471a7c
 */

void Unwind_00471a7c(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471a82. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x124));
  return;
}



/*
 * Function: Unwind@00471a88
 * Address: 00471a88
 */

void Unwind_00471a88(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x114));
  return;
}



/*
 * Function: Unwind@00471aa0
 * Address: 00471aa0
 */

void Unwind_00471aa0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471aa6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x11c));
  return;
}



/*
 * Function: Unwind@00471ac0
 * Address: 00471ac0
 */

void Unwind_00471ac0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471ae0
 * Address: 00471ae0
 */

void Unwind_00471ae0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471ae6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x111c));
  return;
}



/*
 * Function: Unwind@00471b00
 * Address: 00471b00
 */

void Unwind_00471b00(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471b06. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x814));
  return;
}



/*
 * Function: Unwind@00471b20
 * Address: 00471b20
 */

void Unwind_00471b20(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471b23. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00471b40
 * Address: 00471b40
 */

void Unwind_00471b40(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471b43. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00471b60
 * Address: 00471b60
 */

void Unwind_00471b60(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471b6e
 * Address: 00471b6e
 */

void Unwind_00471b6e(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471b77. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP
            ((RKC_RPGSCRN_OBJECTDISP *)(*(int *)(unaff_EBP + -0x14) + 0xa758));
  return;
}



/*
 * Function: Unwind@00471b7d
 * Address: 00471b7d
 */

void Unwind_00471b7d(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471b86. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x14) + 0xa91c));
  return;
}



/*
 * Function: Unwind@00471b8c
 * Address: 00471b8c
 */

void Unwind_00471b8c(void)

{
  int unaff_EBP;
  
  thunk_FUN_0041fdf0(*(int *)(unaff_EBP + -0x14) + 0xa9ac);
  return;
}



/*
 * Function: Unwind@00471b9a
 * Address: 00471b9a
 */

void Unwind_00471b9a(void)

{
  int unaff_EBP;
  
  thunk_FUN_00417ed0((int *)(*(int *)(unaff_EBP + -0x14) + 0xa9bc));
  return;
}



/*
 * Function: Unwind@00471ba8
 * Address: 00471ba8
 */

void Unwind_00471ba8(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471bb6
 * Address: 00471bb6
 */

void Unwind_00471bb6(void)

{
  int unaff_EBP;
  
  FUN_004682a9(*(int *)(unaff_EBP + -0x14) + 0xaaa8,0xc,2,~RKC_DIB_exref);
  return;
}



/*
 * Function: Unwind@00471bd0
 * Address: 00471bd0
 */

void Unwind_00471bd0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471bdb
 * Address: 00471bdb
 */

void Unwind_00471bdb(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471be6
 * Address: 00471be6
 */

void Unwind_00471be6(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471bf1
 * Address: 00471bf1
 */

void Unwind_00471bf1(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471bfc
 * Address: 00471bfc
 */

void Unwind_00471bfc(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471c07
 * Address: 00471c07
 */

void Unwind_00471c07(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471c12
 * Address: 00471c12
 */

void Unwind_00471c12(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471c1d
 * Address: 00471c1d
 */

void Unwind_00471c1d(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471c40
 * Address: 00471c40
 */

void Unwind_00471c40(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471c4e
 * Address: 00471c4e
 */

void Unwind_00471c4e(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471c57. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP
            ((RKC_RPGSCRN_OBJECTDISP *)(*(int *)(unaff_EBP + -0x10) + 0xa758));
  return;
}



/*
 * Function: Unwind@00471c5d
 * Address: 00471c5d
 */

void Unwind_00471c5d(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471c66. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x10) + 0xa91c));
  return;
}



/*
 * Function: Unwind@00471c6c
 * Address: 00471c6c
 */

void Unwind_00471c6c(void)

{
  int unaff_EBP;
  
  thunk_FUN_0041fdf0(*(int *)(unaff_EBP + -0x10) + 0xa9ac);
  return;
}



/*
 * Function: Unwind@00471c7a
 * Address: 00471c7a
 */

void Unwind_00471c7a(void)

{
  int unaff_EBP;
  
  thunk_FUN_00417ed0((int *)(*(int *)(unaff_EBP + -0x10) + 0xa9bc));
  return;
}



/*
 * Function: Unwind@00471c88
 * Address: 00471c88
 */

void Unwind_00471c88(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471c96
 * Address: 00471c96
 */

void Unwind_00471c96(void)

{
  int unaff_EBP;
  
  FUN_004682a9(*(int *)(unaff_EBP + -0x10) + 0xaaa8,0xc,2,~RKC_DIB_exref);
  return;
}



/*
 * Function: Unwind@00471cc0
 * Address: 00471cc0
 */

void Unwind_00471cc0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471cc6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x184));
  return;
}



/*
 * Function: Unwind@00471ce0
 * Address: 00471ce0
 */

void Unwind_00471ce0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471ce6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECT::~RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)(unaff_EBP + -0x290));
  return;
}



/*
 * Function: Unwind@00471cec
 * Address: 00471cec
 */

void Unwind_00471cec(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471cf2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x2ec));
  return;
}



/*
 * Function: Unwind@00471cf8
 * Address: 00471cf8
 */

void Unwind_00471cf8(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471cfe. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x2e0));
  return;
}



/*
 * Function: Unwind@00471d10
 * Address: 00471d10
 */

void Unwind_00471d10(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x7c));
  return;
}



/*
 * Function: Unwind@00471d30
 * Address: 00471d30
 */

void Unwind_00471d30(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471d50
 * Address: 00471d50
 */

void Unwind_00471d50(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x114));
  return;
}



/*
 * Function: Unwind@00471d70
 * Address: 00471d70
 */

void Unwind_00471d70(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x128));
  return;
}



/*
 * Function: Unwind@00471d7e
 * Address: 00471d7e
 */

void Unwind_00471d7e(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x128));
  return;
}



/*
 * Function: Unwind@00471da0
 * Address: 00471da0
 */

void Unwind_00471da0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471dc0
 * Address: 00471dc0
 */

void Unwind_00471dc0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471dcb
 * Address: 00471dcb
 */

void Unwind_00471dcb(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471dd6
 * Address: 00471dd6
 */

void Unwind_00471dd6(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471de1
 * Address: 00471de1
 */

void Unwind_00471de1(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471dec
 * Address: 00471dec
 */

void Unwind_00471dec(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471e10
 * Address: 00471e10
 */

void Unwind_00471e10(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471e16. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0xc5f0));
  return;
}



/*
 * Function: Unwind@00471e30
 * Address: 00471e30
 */

void Unwind_00471e30(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471e3b
 * Address: 00471e3b
 */

void Unwind_00471e3b(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471e46
 * Address: 00471e46
 */

void Unwind_00471e46(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471e51
 * Address: 00471e51
 */

void Unwind_00471e51(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471e5c
 * Address: 00471e5c
 */

void Unwind_00471e5c(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471e67
 * Address: 00471e67
 */

void Unwind_00471e67(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471e80
 * Address: 00471e80
 */

void Unwind_00471e80(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471ea0
 * Address: 00471ea0
 */

void Unwind_00471ea0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@00471eab
 * Address: 00471eab
 */

void Unwind_00471eab(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@00471ec0
 * Address: 00471ec0
 */

void Unwind_00471ec0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471ee0
 * Address: 00471ee0
 */

void Unwind_00471ee0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@00471f00
 * Address: 00471f00
 */

void Unwind_00471f00(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471f06. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x1a8));
  return;
}



/*
 * Function: Unwind@00471f20
 * Address: 00471f20
 */

void Unwind_00471f20(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471f2e
 * Address: 00471f2e
 */

void Unwind_00471f2e(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471f37. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(*(int *)(unaff_EBP + -0x14) + 0x430));
  return;
}



/*
 * Function: Unwind@00471f3d
 * Address: 00471f3d
 */

void Unwind_00471f3d(void)

{
  int unaff_EBP;
  
  thunk_FUN_00466ac0((int *)(*(int *)(unaff_EBP + -0x14) + 0x514));
  return;
}



/*
 * Function: Unwind@00471f4b
 * Address: 00471f4b
 */

void Unwind_00471f4b(void)

{
  int unaff_EBP;
  
  thunk_FUN_00466ac0((int *)(*(int *)(unaff_EBP + -0x14) + 0x518));
  return;
}



/*
 * Function: Unwind@00471f59
 * Address: 00471f59
 */

void Unwind_00471f59(void)

{
  int unaff_EBP;
  
  thunk_FUN_00466ac0((int *)(*(int *)(unaff_EBP + -0x14) + 0x51c));
  return;
}



/*
 * Function: Unwind@00471f67
 * Address: 00471f67
 */

void Unwind_00471f67(void)

{
  int unaff_EBP;
  
  FUN_004682a9(*(int *)(unaff_EBP + -0x14) + 0x520,4,10,thunk_FUN_00466ac0);
  return;
}



/*
 * Function: Unwind@00471f7f
 * Address: 00471f7f
 */

void Unwind_00471f7f(void)

{
  int unaff_EBP;
  
  FUN_004682a9(*(int *)(unaff_EBP + -0x14) + 0x548,4,4,thunk_FUN_00466ac0);
  return;
}



/*
 * Function: Unwind@00471f97
 * Address: 00471f97
 */

void Unwind_00471f97(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471fa2
 * Address: 00471fa2
 */

void Unwind_00471fa2(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00471fc0
 * Address: 00471fc0
 */

void Unwind_00471fc0(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00471fce
 * Address: 00471fce
 */

void Unwind_00471fce(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00471fd7. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(*(int *)(unaff_EBP + -0x10) + 0x430));
  return;
}



/*
 * Function: Unwind@00471fdd
 * Address: 00471fdd
 */

void Unwind_00471fdd(void)

{
  int unaff_EBP;
  
  thunk_FUN_00466ac0((int *)(*(int *)(unaff_EBP + -0x10) + 0x514));
  return;
}



/*
 * Function: Unwind@00471feb
 * Address: 00471feb
 */

void Unwind_00471feb(void)

{
  int unaff_EBP;
  
  thunk_FUN_00466ac0((int *)(*(int *)(unaff_EBP + -0x10) + 0x518));
  return;
}



/*
 * Function: Unwind@00471ff9
 * Address: 00471ff9
 */

void Unwind_00471ff9(void)

{
  int unaff_EBP;
  
  thunk_FUN_00466ac0((int *)(*(int *)(unaff_EBP + -0x10) + 0x51c));
  return;
}



/*
 * Function: Unwind@00472007
 * Address: 00472007
 */

void Unwind_00472007(void)

{
  int unaff_EBP;
  
  FUN_004682a9(*(int *)(unaff_EBP + -0x10) + 0x520,4,10,thunk_FUN_00466ac0);
  return;
}



/*
 * Function: Unwind@0047201f
 * Address: 0047201f
 */

void Unwind_0047201f(void)

{
  int unaff_EBP;
  
  FUN_004682a9(*(int *)(unaff_EBP + -0x10) + 0x548,4,4,thunk_FUN_00466ac0);
  return;
}



/*
 * Function: Unwind@00472050
 * Address: 00472050
 */

void Unwind_00472050(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472053. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x60));
  return;
}



/*
 * Function: Unwind@00472070
 * Address: 00472070
 */

void Unwind_00472070(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472076. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x160));
  return;
}



/*
 * Function: Unwind@0047207c
 * Address: 0047207c
 */

void Unwind_0047207c(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472082. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x178));
  return;
}



/*
 * Function: Unwind@004720a0
 * Address: 004720a0
 */

void Unwind_004720a0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004720a6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x364));
  return;
}



/*
 * Function: Unwind@004720ac
 * Address: 004720ac
 */

void Unwind_004720ac(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004720b2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x370));
  return;
}



/*
 * Function: Unwind@004720d0
 * Address: 004720d0
 */

void Unwind_004720d0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004720d6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x11c));
  return;
}



/*
 * Function: Unwind@004720f0
 * Address: 004720f0
 */

void Unwind_004720f0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004720f3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00472110
 * Address: 00472110
 */

void Unwind_00472110(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472113. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00472130
 * Address: 00472130
 */

void Unwind_00472130(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472133. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x20));
  return;
}



/*
 * Function: Unwind@00472150
 * Address: 00472150
 */

void Unwind_00472150(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472156. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x724));
  return;
}



/*
 * Function: Unwind@00472170
 * Address: 00472170
 */

void Unwind_00472170(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472176. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x8cc));
  return;
}



/*
 * Function: Unwind@00472190
 * Address: 00472190
 */

void Unwind_00472190(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472193. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x4c));
  return;
}



/*
 * Function: Unwind@004721b0
 * Address: 004721b0
 */

void Unwind_004721b0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004721d0
 * Address: 004721d0
 */

void Unwind_004721d0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004721f0
 * Address: 004721f0
 */

void Unwind_004721f0(void)

{
  int unaff_EBP;
  
  thunk_FUN_00457880((void *)(*(int *)(unaff_EBP + -0x10) + 0x3c));
  return;
}



/*
 * Function: Unwind@00472210
 * Address: 00472210
 */

void Unwind_00472210(void)

{
  int unaff_EBP;
  
  thunk_FUN_00457880((void *)(*(int *)(unaff_EBP + -0x10) + 0x3c));
  return;
}



/*
 * Function: Unwind@00472230
 * Address: 00472230
 */

void Unwind_00472230(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472233. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00472250
 * Address: 00472250
 */

void Unwind_00472250(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00472270
 * Address: 00472270
 */

void Unwind_00472270(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00472290
 * Address: 00472290
 */

void Unwind_00472290(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004722b0
 * Address: 004722b0
 */

void Unwind_004722b0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004722d0
 * Address: 004722d0
 */

void Unwind_004722d0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004722d6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x118));
  return;
}



/*
 * Function: Unwind@004722f0
 * Address: 004722f0
 */

void Unwind_004722f0(void)

{
  int unaff_EBP;
  
  FUN_004539d0(*(undefined4 **)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004722f8
 * Address: 004722f8
 */

void Unwind_004722f8(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472301. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPG_AIDATA::~RKC_RPG_AIDATA((RKC_RPG_AIDATA *)(*(int *)(unaff_EBP + -0x10) + 0x20c));
  return;
}



/*
 * Function: Unwind@00472320
 * Address: 00472320
 */

void Unwind_00472320(void)

{
  int unaff_EBP;
  
  FUN_004539d0(*(undefined4 **)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00472328
 * Address: 00472328
 */

void Unwind_00472328(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472331. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPG_AIDATA::~RKC_RPG_AIDATA((RKC_RPG_AIDATA *)(*(int *)(unaff_EBP + -0x10) + 0x20c));
  return;
}



/*
 * Function: Unwind@00472350
 * Address: 00472350
 */

void Unwind_00472350(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472353. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPG_AIEVENT::~RKC_RPG_AIEVENT((RKC_RPG_AIEVENT *)(unaff_EBP + -0x20));
  return;
}



/*
 * Function: Unwind@00472370
 * Address: 00472370
 */

void Unwind_00472370(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472373. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x2c));
  return;
}



/*
 * Function: Unwind@00472390
 * Address: 00472390
 */

void Unwind_00472390(void)

{
  int unaff_EBP;
  
  FUN_004539d0(*(undefined4 **)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004723b0
 * Address: 004723b0
 */

void Unwind_004723b0(void)

{
  int unaff_EBP;
  
  FUN_004539d0(*(undefined4 **)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004723d0
 * Address: 004723d0
 */

void Unwind_004723d0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x004723d3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x2c));
  return;
}



/*
 * Function: Unwind@004723f0
 * Address: 004723f0
 */

void Unwind_004723f0(void)

{
  int unaff_EBP;
  
  FUN_004539d0(*(undefined4 **)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@004723f8
 * Address: 004723f8
 */

void Unwind_004723f8(void)

{
  FUN_00403040();
  return;
}



/*
 * Function: Unwind@00472410
 * Address: 00472410
 */

void Unwind_00472410(void)

{
  int unaff_EBP;
  
  FUN_004539d0(*(undefined4 **)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@00472430
 * Address: 00472430
 */

void Unwind_00472430(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472436. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x160));
  return;
}



/*
 * Function: Unwind@00472450
 * Address: 00472450
 */

void Unwind_00472450(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472456. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x184));
  return;
}



/*
 * Function: Unwind@00472470
 * Address: 00472470
 */

void Unwind_00472470(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472473. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x14));
  return;
}



/*
 * Function: Unwind@00472490
 * Address: 00472490
 */

void Unwind_00472490(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472496. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP((RKC_RPGSCRN_OBJECTDISP *)(unaff_EBP + -0x15c));
  return;
}



/*
 * Function: Unwind@004724b0
 * Address: 004724b0
 */

void Unwind_004724b0(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@004724bb
 * Address: 004724bb
 */

void Unwind_004724bb(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@004724c6
 * Address: 004724c6
 */

void Unwind_004724c6(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@004724d1
 * Address: 004724d1
 */

void Unwind_004724d1(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@004724dc
 * Address: 004724dc
 */

void Unwind_004724dc(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@00472500
 * Address: 00472500
 */

void Unwind_00472500(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472506. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x178));
  return;
}



/*
 * Function: Unwind@0047250c
 * Address: 0047250c
 */

void Unwind_0047250c(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x00472512. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x184));
  return;
}



/*
 * Function: Unwind@00472518
 * Address: 00472518
 */

void Unwind_00472518(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x0047251e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x16c));
  return;
}



/*
 * Function: Unwind@00472524
 * Address: 00472524
 */

void Unwind_00472524(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x160));
  return;
}



/*
 * Function: Unwind@00472532
 * Address: 00472532
 */

void Unwind_00472532(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x160));
  return;
}



/*
 * Function: Unwind@00472540
 * Address: 00472540
 */

void Unwind_00472540(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x160));
  return;
}



/*
 * Function: Unwind@0047254e
 * Address: 0047254e
 */

void Unwind_0047254e(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x160));
  return;
}



/*
 * Function: Unwind@0047255c
 * Address: 0047255c
 */

void Unwind_0047255c(void)

{
  int unaff_EBP;
  
  FUN_0046787e(*(LPVOID *)(unaff_EBP + -0x160));
  return;
}



