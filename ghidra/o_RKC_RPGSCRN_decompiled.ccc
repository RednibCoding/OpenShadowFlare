/*
 * Decompiled from: o_RKC_RPGSCRN.dll
 * Generated by Ghidra
 */

/*
 * Function: RKC_RPGSCRN
 * Address: 10001000
 */

/* public: __thiscall RKC_RPGSCRN::RKC_RPGSCRN(void) */

RKC_RPGSCRN * __thiscall RKC_RPGSCRN::RKC_RPGSCRN(RKC_RPGSCRN *this)

{
                    /* 0x1000  1  ??0RKC_RPGSCRN@@QAE@XZ */
  RKC_RPGSCRN_CHARANIMBLOCK::RKC_RPGSCRN_CHARANIMBLOCK((RKC_RPGSCRN_CHARANIMBLOCK *)(this + 0xc));
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x24) = 0;
  *(undefined4 *)(this + 0x18) = 0xf;
  *(undefined4 *)(this + 0x1c) = 10;
  *(undefined4 *)(this + 0x20) = 10;
  *(undefined4 *)(this + 0x28) = 1;
  return this;
}



/*
 * Function: ~RKC_RPGSCRN
 * Address: 10001040
 */

/* public: __thiscall RKC_RPGSCRN::~RKC_RPGSCRN(void) */

void __thiscall RKC_RPGSCRN::~RKC_RPGSCRN(RKC_RPGSCRN *this)

{
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1040  13  ??1RKC_RPGSCRN@@QAE@XZ */
  puStack_8 = &LAB_1000ac5b;
  local_c = ExceptionList;
  local_4 = 0;
  ExceptionList = &local_c;
  Release(this);
  local_4 = 0xffffffff;
  RKC_RPGSCRN_CHARANIMBLOCK::~RKC_RPGSCRN_CHARANIMBLOCK((RKC_RPGSCRN_CHARANIMBLOCK *)(this + 0xc));
  ExceptionList = local_c;
  return;
}



/*
 * Function: SetUpdibHost
 * Address: 10001090
 */

/* public: int __thiscall RKC_RPGSCRN::SetUpdibHost(class RKC_UPDIB *) */

int __thiscall RKC_RPGSCRN::SetUpdibHost(RKC_RPGSCRN *this,RKC_UPDIB *param_1)

{
                    /* 0x1090  182  ?SetUpdibHost@RKC_RPGSCRN@@QAEHPAVRKC_UPDIB@@@Z */
  if (param_1 != (RKC_UPDIB *)0x0) {
    *(RKC_UPDIB **)this = param_1;
    return 1;
  }
  return 0;
}



/*
 * Function: Release
 * Address: 100010b0
 */

/* public: void __thiscall RKC_RPGSCRN::Release(void) */

void __thiscall RKC_RPGSCRN::Release(RKC_RPGSCRN *this)

{
  int iVar1;
  
                    /* 0x10b0  129  ?Release@RKC_RPGSCRN@@QAEXXZ */
  iVar1 = DeleteGroundBlock(this,0);
  while (iVar1 == 1) {
    iVar1 = DeleteGroundBlock(this,0);
  }
  iVar1 = DeleteObjectBlock(this,0);
  while (iVar1 == 1) {
    iVar1 = DeleteObjectBlock(this,0);
  }
  RKC_RPGSCRN_CHARANIMBLOCK::Release((RKC_RPGSCRN_CHARANIMBLOCK *)(this + 0xc),-1);
  return;
}



/*
 * Function: InsertObjectBlock
 * Address: 10001100
 */

/* public: class RKC_RPGSCRN_OBJECTBLOCK * __thiscall RKC_RPGSCRN::InsertObjectBlock(long) */

RKC_RPGSCRN_OBJECTBLOCK * __thiscall RKC_RPGSCRN::InsertObjectBlock(RKC_RPGSCRN *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1100  121
                       ?InsertObjectBlock@RKC_RPGSCRN@@QAEPAVRKC_RPGSCRN_OBJECTBLOCK@@J@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000ac7b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  lVar2 = GetObjectBlockCount(this);
  if ((lVar2 < param_1) || (param_1 < 0)) {
    ExceptionList = local_c;
    return (RKC_RPGSCRN_OBJECTBLOCK *)0x0;
  }
  pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)operator_new(0x10);
  local_4 = 0;
  if (pRVar3 == (RKC_RPGSCRN_OBJECTBLOCK *)0x0) {
    pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)0x0;
  }
  else {
    pRVar3 = (RKC_RPGSCRN_OBJECTBLOCK *)RKC_RPGSCRN_OBJECTBLOCK::RKC_RPGSCRN_OBJECTBLOCK(pRVar3);
  }
  local_4 = 0xffffffff;
  *(RKC_RPGSCRN **)pRVar3 = this;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar3 + 0xc) = *(undefined4 *)(this + 4);
    if (*(int *)(this + 4) != 0) {
      *(RKC_RPGSCRN_OBJECTBLOCK **)(*(int *)(this + 4) + 8) = pRVar3;
    }
    *(RKC_RPGSCRN_OBJECTBLOCK **)(this + 4) = pRVar3;
    ExceptionList = local_c;
    return pRVar3;
  }
  pRVar4 = GetObjectBlock(this,param_1 + -1);
  iVar1 = *(int *)(pRVar4 + 0xc);
  *(RKC_RPGSCRN_OBJECTBLOCK **)(pRVar3 + 8) = pRVar4;
  *(int *)(pRVar3 + 0xc) = iVar1;
  if (iVar1 != 0) {
    *(RKC_RPGSCRN_OBJECTBLOCK **)(iVar1 + 8) = pRVar3;
  }
  *(RKC_RPGSCRN_OBJECTBLOCK **)(pRVar4 + 0xc) = pRVar3;
  ExceptionList = local_c;
  return pRVar3;
}



/*
 * Function: DeleteObjectBlock
 * Address: 100011e0
 */

/* public: int __thiscall RKC_RPGSCRN::DeleteObjectBlock(long) */

int __thiscall RKC_RPGSCRN::DeleteObjectBlock(RKC_RPGSCRN *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_OBJECTBLOCK *pRVar3;
  RKC_RPGSCRN_OBJECTBLOCK *this_00;
  
                    /* 0x11e0  51  ?DeleteObjectBlock@RKC_RPGSCRN@@QAEHJ@Z */
  lVar2 = GetObjectBlockCount(this);
  if (lVar2 <= param_1) {
    return 0;
  }
  if (param_1 == 0) {
    this_00 = *(RKC_RPGSCRN_OBJECTBLOCK **)(this + 4);
    iVar1 = *(int *)(this_00 + 0xc);
    *(int *)(this + 4) = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 8) = 0;
    }
  }
  else {
    pRVar3 = GetObjectBlock(this,param_1 + -1);
    this_00 = *(RKC_RPGSCRN_OBJECTBLOCK **)(pRVar3 + 0xc);
    if (*(int *)(this_00 + 0xc) != 0) {
      *(RKC_RPGSCRN_OBJECTBLOCK **)(*(int *)(this_00 + 0xc) + 8) = pRVar3;
    }
    *(undefined4 *)(pRVar3 + 0xc) = *(undefined4 *)(this_00 + 0xc);
  }
  if (this_00 != (RKC_RPGSCRN_OBJECTBLOCK *)0x0) {
    RKC_RPGSCRN_OBJECTBLOCK::~RKC_RPGSCRN_OBJECTBLOCK(this_00);
    FUN_100072ee(this_00);
  }
  return 1;
}



/*
 * Function: GetObjectBlockNo
 * Address: 10001250
 */

/* public: long __thiscall RKC_RPGSCRN::GetObjectBlockNo(class RKC_RPGSCRN_OBJECTBLOCK *) */

long __thiscall RKC_RPGSCRN::GetObjectBlockNo(RKC_RPGSCRN *this,RKC_RPGSCRN_OBJECTBLOCK *param_1)

{
  RKC_RPGSCRN_OBJECTBLOCK *pRVar1;
  int iVar2;
  
                    /* 0x1250  98  ?GetObjectBlockNo@RKC_RPGSCRN@@QAEJPAVRKC_RPGSCRN_OBJECTBLOCK@@@Z
                        */
  pRVar1 = *(RKC_RPGSCRN_OBJECTBLOCK **)(this + 4);
  iVar2 = 0;
  while( true ) {
    if (pRVar1 == (RKC_RPGSCRN_OBJECTBLOCK *)0x0) {
      return -1;
    }
    if (param_1 == pRVar1) break;
    pRVar1 = *(RKC_RPGSCRN_OBJECTBLOCK **)(pRVar1 + 0xc);
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: GetObjectBlock
 * Address: 10001270
 */

/* public: class RKC_RPGSCRN_OBJECTBLOCK * __thiscall RKC_RPGSCRN::GetObjectBlock(long) */

RKC_RPGSCRN_OBJECTBLOCK * __thiscall RKC_RPGSCRN::GetObjectBlock(RKC_RPGSCRN *this,long param_1)

{
  RKC_RPGSCRN_OBJECTBLOCK *pRVar1;
  int iVar2;
  
                    /* 0x1270  96  ?GetObjectBlock@RKC_RPGSCRN@@QAEPAVRKC_RPGSCRN_OBJECTBLOCK@@J@Z
                        */
  pRVar1 = *(RKC_RPGSCRN_OBJECTBLOCK **)(this + 4);
  for (iVar2 = 0; (pRVar1 != (RKC_RPGSCRN_OBJECTBLOCK *)0x0 && (param_1 != iVar2));
      iVar2 = iVar2 + 1) {
    pRVar1 = *(RKC_RPGSCRN_OBJECTBLOCK **)(pRVar1 + 0xc);
  }
  return pRVar1;
}



/*
 * Function: GetObjectBlockCount
 * Address: 10001290
 */

/* public: long __thiscall RKC_RPGSCRN::GetObjectBlockCount(void) */

long __thiscall RKC_RPGSCRN::GetObjectBlockCount(RKC_RPGSCRN *this)

{
  int iVar1;
  int iVar2;
  
                    /* 0x1290  97  ?GetObjectBlockCount@RKC_RPGSCRN@@QAEJXZ */
  iVar2 = 0;
  for (iVar1 = *(int *)(this + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0xc)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: InsertGroundBlock
 * Address: 100012b0
 */

/* public: class RKC_RPGSCRN_GROUNDBLOCK * __thiscall RKC_RPGSCRN::InsertGroundBlock(long) */

RKC_RPGSCRN_GROUNDBLOCK * __thiscall RKC_RPGSCRN::InsertGroundBlock(RKC_RPGSCRN *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar3;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x12b0  120
                       ?InsertGroundBlock@RKC_RPGSCRN@@QAEPAVRKC_RPGSCRN_GROUNDBLOCK@@J@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000ac9b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  lVar2 = GetGroundBlockCount(this);
  if ((lVar2 < param_1) || (param_1 < 0)) {
    ExceptionList = local_c;
    return (RKC_RPGSCRN_GROUNDBLOCK *)0x0;
  }
  pRVar3 = (RKC_RPGSCRN_GROUNDBLOCK *)operator_new(0x3c);
  local_4 = 0;
  if (pRVar3 == (RKC_RPGSCRN_GROUNDBLOCK *)0x0) {
    pRVar3 = (RKC_RPGSCRN_GROUNDBLOCK *)0x0;
  }
  else {
    pRVar3 = (RKC_RPGSCRN_GROUNDBLOCK *)RKC_RPGSCRN_GROUNDBLOCK::RKC_RPGSCRN_GROUNDBLOCK(pRVar3);
  }
  local_4 = 0xffffffff;
  *(RKC_RPGSCRN **)pRVar3 = this;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar3 + 0x38) = *(undefined4 *)(this + 8);
    if (*(int *)(this + 8) != 0) {
      *(RKC_RPGSCRN_GROUNDBLOCK **)(*(int *)(this + 8) + 0x34) = pRVar3;
    }
    *(RKC_RPGSCRN_GROUNDBLOCK **)(this + 8) = pRVar3;
    ExceptionList = local_c;
    return pRVar3;
  }
  pRVar4 = GetGroundBlock(this,param_1 + -1);
  iVar1 = *(int *)(pRVar4 + 0x38);
  *(RKC_RPGSCRN_GROUNDBLOCK **)(pRVar3 + 0x34) = pRVar4;
  *(int *)(pRVar3 + 0x38) = iVar1;
  if (iVar1 != 0) {
    *(RKC_RPGSCRN_GROUNDBLOCK **)(iVar1 + 0x34) = pRVar3;
  }
  *(RKC_RPGSCRN_GROUNDBLOCK **)(pRVar4 + 0x38) = pRVar3;
  ExceptionList = local_c;
  return pRVar3;
}



/*
 * Function: DeleteGroundBlock
 * Address: 10001390
 */

/* public: int __thiscall RKC_RPGSCRN::DeleteGroundBlock(long) */

int __thiscall RKC_RPGSCRN::DeleteGroundBlock(RKC_RPGSCRN *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar3;
  RKC_RPGSCRN_GROUNDBLOCK *this_00;
  
                    /* 0x1390  50  ?DeleteGroundBlock@RKC_RPGSCRN@@QAEHJ@Z */
  lVar2 = GetGroundBlockCount(this);
  if (lVar2 <= param_1) {
    return 0;
  }
  if (param_1 == 0) {
    this_00 = *(RKC_RPGSCRN_GROUNDBLOCK **)(this + 8);
    iVar1 = *(int *)(this_00 + 0x38);
    *(int *)(this + 8) = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x34) = 0;
    }
  }
  else {
    pRVar3 = GetGroundBlock(this,param_1 + -1);
    this_00 = *(RKC_RPGSCRN_GROUNDBLOCK **)(pRVar3 + 0x38);
    if (*(int *)(this_00 + 0x38) != 0) {
      *(RKC_RPGSCRN_GROUNDBLOCK **)(*(int *)(this_00 + 0x38) + 0x34) = pRVar3;
    }
    *(undefined4 *)(pRVar3 + 0x38) = *(undefined4 *)(this_00 + 0x38);
  }
  if (this_00 != (RKC_RPGSCRN_GROUNDBLOCK *)0x0) {
    RKC_RPGSCRN_GROUNDBLOCK::~RKC_RPGSCRN_GROUNDBLOCK(this_00);
    FUN_100072ee(this_00);
  }
  return 1;
}



/*
 * Function: GetGroundBlockNo
 * Address: 10001400
 */

/* public: long __thiscall RKC_RPGSCRN::GetGroundBlockNo(class RKC_RPGSCRN_GROUNDBLOCK *) */

long __thiscall RKC_RPGSCRN::GetGroundBlockNo(RKC_RPGSCRN *this,RKC_RPGSCRN_GROUNDBLOCK *param_1)

{
  RKC_RPGSCRN_GROUNDBLOCK *pRVar1;
  int iVar2;
  
                    /* 0x1400  82  ?GetGroundBlockNo@RKC_RPGSCRN@@QAEJPAVRKC_RPGSCRN_GROUNDBLOCK@@@Z
                        */
  pRVar1 = *(RKC_RPGSCRN_GROUNDBLOCK **)(this + 8);
  iVar2 = 0;
  while( true ) {
    if (pRVar1 == (RKC_RPGSCRN_GROUNDBLOCK *)0x0) {
      return -1;
    }
    if (param_1 == pRVar1) break;
    pRVar1 = *(RKC_RPGSCRN_GROUNDBLOCK **)(pRVar1 + 0x38);
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: operator=
 * Address: 10001420
 */

/* public: class RKC_RPGSCRN_OBJECT & __thiscall RKC_RPGSCRN_OBJECT::operator=(class
   RKC_RPGSCRN_OBJECT const &) */

RKC_RPGSCRN_OBJECT * __thiscall
RKC_RPGSCRN_OBJECT::operator=(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_OBJECT *param_1)

{
  int iVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  
                    /* 0x1420  31  ??4RKC_RPGSCRN_OBJECT@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: GetGroundBlock
 * Address: 10001440
 */

/* public: class RKC_RPGSCRN_GROUNDBLOCK * __thiscall RKC_RPGSCRN::GetGroundBlock(long) */

RKC_RPGSCRN_GROUNDBLOCK * __thiscall RKC_RPGSCRN::GetGroundBlock(RKC_RPGSCRN *this,long param_1)

{
  RKC_RPGSCRN_GROUNDBLOCK *pRVar1;
  int iVar2;
  
                    /* 0x1440  80  ?GetGroundBlock@RKC_RPGSCRN@@QAEPAVRKC_RPGSCRN_GROUNDBLOCK@@J@Z
                        */
  pRVar1 = *(RKC_RPGSCRN_GROUNDBLOCK **)(this + 8);
  for (iVar2 = 0; (pRVar1 != (RKC_RPGSCRN_GROUNDBLOCK *)0x0 && (param_1 != iVar2));
      iVar2 = iVar2 + 1) {
    pRVar1 = *(RKC_RPGSCRN_GROUNDBLOCK **)(pRVar1 + 0x38);
  }
  return pRVar1;
}



/*
 * Function: operator=
 * Address: 10001460
 */

/* public: class RKC_RPGSCRN_OBJECTDISPCELL & __thiscall RKC_RPGSCRN_OBJECTDISPCELL::operator=(class
   RKC_RPGSCRN_OBJECTDISPCELL const &) */

RKC_RPGSCRN_OBJECTDISPCELL * __thiscall
RKC_RPGSCRN_OBJECTDISPCELL::operator=
          (RKC_RPGSCRN_OBJECTDISPCELL *this,RKC_RPGSCRN_OBJECTDISPCELL *param_1)

{
  int iVar1;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar2;
  
                    /* 0x1460  34  ??4RKC_RPGSCRN_OBJECTDISPCELL@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 10001480
 */

/* public: class RKC_RPGSCRN_CHARANIMCELLBLOCK & __thiscall
   RKC_RPGSCRN_CHARANIMCELLBLOCK::operator=(class RKC_RPGSCRN_CHARANIMCELLBLOCK const &) */

RKC_RPGSCRN_CHARANIMCELLBLOCK * __thiscall
RKC_RPGSCRN_CHARANIMCELLBLOCK::operator=
          (RKC_RPGSCRN_CHARANIMCELLBLOCK *this,RKC_RPGSCRN_CHARANIMCELLBLOCK *param_1)

{
                    /* 0x1480  28  ??4RKC_RPGSCRN_CHARANIMCELLBLOCK@@QAEAAV0@ABV0@@Z
                       0x1480  33  ??4RKC_RPGSCRN_OBJECTDISP@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  return this;
}



/*
 * Function: operator=
 * Address: 100014a0
 */

/* public: class RKC_RPGSCRN_OBJECTBLOCK & __thiscall RKC_RPGSCRN_OBJECTBLOCK::operator=(class
   RKC_RPGSCRN_OBJECTBLOCK const &) */

RKC_RPGSCRN_OBJECTBLOCK * __thiscall
RKC_RPGSCRN_OBJECTBLOCK::operator=(RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECTBLOCK *param_1)

{
                    /* 0x14a0  32  ??4RKC_RPGSCRN_OBJECTBLOCK@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)(this + 8) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)(this + 0xc) = *(undefined4 *)(param_1 + 0xc);
  return this;
}



/*
 * Function: GetGroundBlockCount
 * Address: 100014d0
 */

/* public: long __thiscall RKC_RPGSCRN::GetGroundBlockCount(void) */

long __thiscall RKC_RPGSCRN::GetGroundBlockCount(RKC_RPGSCRN *this)

{
  int iVar1;
  int iVar2;
  
                    /* 0x14d0  81  ?GetGroundBlockCount@RKC_RPGSCRN@@QAEJXZ */
  iVar2 = 0;
  for (iVar1 = *(int *)(this + 8); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x38)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: operator=
 * Address: 100014f0
 */

/* public: class RKC_RPGSCRN_GROUNDBLOCK & __thiscall RKC_RPGSCRN_GROUNDBLOCK::operator=(class
   RKC_RPGSCRN_GROUNDBLOCK const &) */

RKC_RPGSCRN_GROUNDBLOCK * __thiscall
RKC_RPGSCRN_GROUNDBLOCK::operator=(RKC_RPGSCRN_GROUNDBLOCK *this,RKC_RPGSCRN_GROUNDBLOCK *param_1)

{
  int iVar1;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar2;
  
                    /* 0x14f0  30  ??4RKC_RPGSCRN_GROUNDBLOCK@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0xf; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: CalcWorldPos
 * Address: 10001510
 */

/* public: void __thiscall RKC_RPGSCRN::CalcWorldPos(long,long,long *,long *) */

void __thiscall
RKC_RPGSCRN::CalcWorldPos(RKC_RPGSCRN *this,long param_1,long param_2,long *param_3,long *param_4)

{
                    /* 0x1510  39  ?CalcWorldPos@RKC_RPGSCRN@@QAEXJJPAJ0@Z */
  *param_3 = ((*(int *)(this + 0x18) * param_2 + *(int *)(this + 0x1c) * param_1) * 100) /
             (*(int *)(this + 0x18) * *(int *)(this + 0x1c) * 2);
  *param_4 = ((*(int *)(this + 0x18) * param_2 - *(int *)(this + 0x1c) * param_1) * 100) /
             (*(int *)(this + 0x18) * *(int *)(this + 0x1c) * 2);
  if (param_1 * *(int *)(this + 0x1c) + param_2 * *(int *)(this + 0x18) < 0) {
    *param_3 = *param_3 + -1;
  }
  if (param_2 * *(int *)(this + 0x18) - param_1 * *(int *)(this + 0x1c) < 0) {
    *param_4 = *param_4 + -1;
  }
  return;
}



/*
 * Function: operator=
 * Address: 100015a0
 */

/* public: class RKC_RPGSCRN_CHARANIMCHART & __thiscall RKC_RPGSCRN_CHARANIMCHART::operator=(class
   RKC_RPGSCRN_CHARANIMCHART const &) */

RKC_RPGSCRN_CHARANIMCHART * __thiscall
RKC_RPGSCRN_CHARANIMCHART::operator=
          (RKC_RPGSCRN_CHARANIMCHART *this,RKC_RPGSCRN_CHARANIMCHART *param_1)

{
  int iVar1;
  RKC_RPGSCRN_CHARANIMCHART *pRVar2;
  
                    /* 0x15a0  29  ??4RKC_RPGSCRN_CHARANIMCHART@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0x18; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 100015c0
 */

/* public: class RKC_RPGSCRN_CHARANIM & __thiscall RKC_RPGSCRN_CHARANIM::operator=(class
   RKC_RPGSCRN_CHARANIM const &) */

RKC_RPGSCRN_CHARANIM * __thiscall
RKC_RPGSCRN_CHARANIM::operator=(RKC_RPGSCRN_CHARANIM *this,RKC_RPGSCRN_CHARANIM *param_1)

{
  int iVar1;
  RKC_RPGSCRN_CHARANIM *pRVar2;
  
                    /* 0x15c0  25  ??4RKC_RPGSCRN_CHARANIM@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 6; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 100015e0
 */

/* public: class RKC_RPGSCRN_CHARANIMBLOCK & __thiscall RKC_RPGSCRN_CHARANIMBLOCK::operator=(class
   RKC_RPGSCRN_CHARANIMBLOCK const &) */

RKC_RPGSCRN_CHARANIMBLOCK * __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::operator=
          (RKC_RPGSCRN_CHARANIMBLOCK *this,RKC_RPGSCRN_CHARANIMBLOCK *param_1)

{
                    /* 0x15e0  26  ??4RKC_RPGSCRN_CHARANIMBLOCK@@QAEAAV0@ABV0@@Z
                       0x15e0  27  ??4RKC_RPGSCRN_CHARANIMCELL@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)(this + 8) = *(undefined4 *)(param_1 + 8);
  return this;
}



/*
 * Function: CalcRealPos
 * Address: 10001600
 */

/* public: void __thiscall RKC_RPGSCRN::CalcRealPos(long,long,long *,long *) */

void __thiscall
RKC_RPGSCRN::CalcRealPos(RKC_RPGSCRN *this,long param_1,long param_2,long *param_3,long *param_4)

{
                    /* 0x1600  37  ?CalcRealPos@RKC_RPGSCRN@@QAEXJJPAJ0@Z */
  *param_3 = ((param_1 - param_2) * *(int *)(this + 0x18)) / 100;
  *param_4 = ((param_1 + param_2) * *(int *)(this + 0x1c)) / 100;
  return;
}



/*
 * Function: operator=
 * Address: 10001650
 */

/* public: class RKC_RPGSCRN & __thiscall RKC_RPGSCRN::operator=(class RKC_RPGSCRN const &) */

RKC_RPGSCRN * __thiscall RKC_RPGSCRN::operator=(RKC_RPGSCRN *this,RKC_RPGSCRN *param_1)

{
  int iVar1;
  RKC_RPGSCRN *pRVar2;
  
                    /* 0x1650  24  ??4RKC_RPGSCRN@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0xb; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: SetBaseParam
 * Address: 10001670
 */

/* public: void __thiscall RKC_RPGSCRN::SetBaseParam(long,long,long) */

void __thiscall RKC_RPGSCRN::SetBaseParam(RKC_RPGSCRN *this,long param_1,long param_2,long param_3)

{
                    /* 0x1670  146  ?SetBaseParam@RKC_RPGSCRN@@QAEXJJJ@Z */
  *(long *)(this + 0x18) = param_1;
  *(long *)(this + 0x1c) = param_2;
  *(long *)(this + 0x20) = param_3;
  return;
}



/*
 * Function: GetBaseParam
 * Address: 10001690
 */

/* public: void __thiscall RKC_RPGSCRN::GetBaseParam(long *,long *,long *) */

void __thiscall
RKC_RPGSCRN::GetBaseParam(RKC_RPGSCRN *this,long *param_1,long *param_2,long *param_3)

{
                    /* 0x1690  66  ?GetBaseParam@RKC_RPGSCRN@@QAEXPAJ00@Z */
  *param_1 = *(long *)(this + 0x18);
  *param_2 = *(long *)(this + 0x1c);
  *param_3 = *(long *)(this + 0x20);
  return;
}



/*
 * Function: GetShadowTransFlag
 * Address: 100016b0
 */

/* public: int __thiscall RKC_RPGSCRN::GetShadowTransFlag(void) */

int __thiscall RKC_RPGSCRN::GetShadowTransFlag(RKC_RPGSCRN *this)

{
                    /* 0x16b0  107  ?GetShadowTransFlag@RKC_RPGSCRN@@QAEHXZ */
  return *(int *)(this + 0x28);
}



/*
 * Function: SetShadowTransFlag
 * Address: 100016c0
 */

/* public: void __thiscall RKC_RPGSCRN::SetShadowTransFlag(int) */

void __thiscall RKC_RPGSCRN::SetShadowTransFlag(RKC_RPGSCRN *this,int param_1)

{
                    /* 0x16c0  173  ?SetShadowTransFlag@RKC_RPGSCRN@@QAEXH@Z */
  *(int *)(this + 0x28) = param_1;
  return;
}



/*
 * Function: GetCharAnimBlock
 * Address: 100016d0
 */

/* public: class RKC_RPGSCRN_CHARANIMBLOCK * __thiscall RKC_RPGSCRN::GetCharAnimBlock(void) */

RKC_RPGSCRN_CHARANIMBLOCK * __thiscall RKC_RPGSCRN::GetCharAnimBlock(RKC_RPGSCRN *this)

{
                    /* 0x16d0  68
                       ?GetCharAnimBlock@RKC_RPGSCRN@@QAEPAVRKC_RPGSCRN_CHARANIMBLOCK@@XZ */
  return (RKC_RPGSCRN_CHARANIMBLOCK *)(this + 0xc);
}



/*
 * Function: RKC_RPGSCRN_CHARANIM
 * Address: 100016e0
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIM::RKC_RPGSCRN_CHARANIM(void) */

void __thiscall RKC_RPGSCRN_CHARANIM::RKC_RPGSCRN_CHARANIM(RKC_RPGSCRN_CHARANIM *this)

{
                    /* 0x16e0  2  ??0RKC_RPGSCRN_CHARANIM@@QAE@XZ */
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 8) = 0xffffffff;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_CHARANIM
 * Address: 10001700
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIM::~RKC_RPGSCRN_CHARANIM(void) */

void __thiscall RKC_RPGSCRN_CHARANIM::~RKC_RPGSCRN_CHARANIM(RKC_RPGSCRN_CHARANIM *this)

{
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  int iVar1;
  
                    /* 0x1700  14  ??1RKC_RPGSCRN_CHARANIM@@QAE@XZ */
  if (*(int *)(this + 0x14) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0x10)) {
      do {
        this_00 = *(RKC_RPGSCRN_CHARANIMCHART **)(*(int *)(this + 0x14) + iVar1 * 4);
        if (this_00 != (RKC_RPGSCRN_CHARANIMCHART *)0x0) {
          RKC_RPGSCRN_CHARANIMCHART::~RKC_RPGSCRN_CHARANIMCHART(this_00);
          FUN_100072ee(this_00);
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 0x10));
    }
    GlobalFree(*(HGLOBAL *)(this + 0x14));
    *(undefined4 *)(this + 0x14) = 0;
  }
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 8) = 0xffffffff;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Release
 * Address: 10001710
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIM::Release(void) */

void __thiscall RKC_RPGSCRN_CHARANIM::Release(RKC_RPGSCRN_CHARANIM *this)

{
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  int iVar1;
  
                    /* 0x1710  130  ?Release@RKC_RPGSCRN_CHARANIM@@QAEXXZ */
  if (*(int *)(this + 0x14) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0x10)) {
      do {
        this_00 = *(RKC_RPGSCRN_CHARANIMCHART **)(*(int *)(this + 0x14) + iVar1 * 4);
        if (this_00 != (RKC_RPGSCRN_CHARANIMCHART *)0x0) {
          RKC_RPGSCRN_CHARANIMCHART::~RKC_RPGSCRN_CHARANIMCHART(this_00);
          FUN_100072ee(this_00);
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 0x10));
    }
    GlobalFree(*(HGLOBAL *)(this + 0x14));
    *(undefined4 *)(this + 0x14) = 0;
  }
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 8) = 0xffffffff;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Get
 * Address: 10001770
 */

/* public: class RKC_RPGSCRN_CHARANIMCHART * __thiscall RKC_RPGSCRN_CHARANIM::Get(long) */

RKC_RPGSCRN_CHARANIMCHART * __thiscall
RKC_RPGSCRN_CHARANIM::Get(RKC_RPGSCRN_CHARANIM *this,long param_1)

{
                    /* 0x1770  52  ?Get@RKC_RPGSCRN_CHARANIM@@QAEPAVRKC_RPGSCRN_CHARANIMCHART@@J@Z
                        */
  if ((-1 < param_1) && (param_1 < *(int *)(this + 0x10))) {
    return *(RKC_RPGSCRN_CHARANIMCHART **)(*(int *)(this + 0x14) + param_1 * 4);
  }
  return (RKC_RPGSCRN_CHARANIMCHART *)0x0;
}



/*
 * Function: ReadCafFile
 * Address: 10001790
 */

/* public: int __thiscall RKC_RPGSCRN_CHARANIM::ReadCafFile(char *,long) */

int __thiscall
RKC_RPGSCRN_CHARANIM::ReadCafFile(RKC_RPGSCRN_CHARANIM *this,char *param_1,long param_2)

{
  int iVar1;
  HGLOBAL pvVar2;
  RKC_RPGSCRN_CHARANIMCHART *pRVar3;
  undefined4 uVar4;
  int iVar5;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_00;
  RKC_RPGSCRN_CHARANIMCELL *this_01;
  void *this_02;
  int *piVar6;
  RKC_RPGSCRN_OBJECT *pRVar7;
  RKC_FILE local_60 [4];
  short asStack_5c [2];
  int iStack_58;
  int iStack_54;
  int iStack_50;
  RKC_RPGSCRN_CHARANIMCHART *pRStack_4c;
  RKC_RPGSCRN_CHARANIMCHART *pRStack_48;
  int *piStack_44;
  int iStack_40;
  RKC_RPGSCRN_CHARANIM *local_3c;
  int iStack_38;
  RKC_RPGSCRN_OBJECT *pRStack_34;
  int *piStack_30;
  char acStack_2c [12];
  uint uStack_20;
  char local_1c [4];
  char local_18 [4];
  char local_14 [4];
  char local_10 [4];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x1790  124  ?ReadCafFile@RKC_RPGSCRN_CHARANIM@@QAEHPADJ@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000acda;
  pvStack_c = ExceptionList;
  local_1c = (char  [4])s_CHRAnimation000_1000f030._0_4_;
  local_18 = (char  [4])s_CHRAnimation000_1000f030._4_4_;
  local_14 = (char  [4])s_CHRAnimation000_1000f030._8_4_;
  local_10 = (char  [4])s_CHRAnimation000_1000f030._12_4_;
  ExceptionList = &pvStack_c;
  local_3c = this;
  RKC_FILE::RKC_FILE(local_60);
  uStack_4._0_1_ = 0;
  uStack_4._1_3_ = 0;
  iVar1 = RKC_FILE::Create(local_60,param_1,0);
  if (iVar1 != 0) {
    acStack_2c[0] = '\0';
    acStack_2c[1] = '\0';
    acStack_2c[2] = '\0';
    acStack_2c[3] = '\0';
    acStack_2c[4] = '\0';
    acStack_2c[5] = '\0';
    acStack_2c[6] = '\0';
    acStack_2c[7] = '\0';
    acStack_2c[8] = '\0';
    acStack_2c[9] = '\0';
    acStack_2c[10] = '\0';
    acStack_2c[0xb] = '\0';
    uStack_20 = 0;
    iVar1 = RKC_FILE::Read(local_60,acStack_2c,0x10);
    if (iVar1 != 0) {
      uStack_20 = uStack_20 & 0xffffff;
      iVar1 = _strncmp(acStack_2c,local_1c,0xc);
      if (iVar1 == 0) {
        iStack_38 = FUN_10007414(this_02,(byte *)&uStack_20);
        iVar1 = RKC_FILE::Read(local_60,&iStack_50,4);
        if (iVar1 != 0) {
          Release(this);
          if (iStack_50 != 0) {
            pvVar2 = GlobalAlloc(0x40,iStack_50 * 4);
            *(HGLOBAL *)(this + 0x14) = pvVar2;
            iVar1 = 0;
            if (0 < iStack_50) {
              do {
                pRVar3 = (RKC_RPGSCRN_CHARANIMCHART *)operator_new(0x60);
                uStack_4._0_1_ = 1;
                if (pRVar3 == (RKC_RPGSCRN_CHARANIMCHART *)0x0) {
                  uVar4 = 0;
                }
                else {
                  uVar4 = RKC_RPGSCRN_CHARANIMCHART::RKC_RPGSCRN_CHARANIMCHART(pRVar3);
                }
                iVar1 = iVar1 + 1;
                uStack_4._0_1_ = 0;
                *(undefined4 *)(*(int *)(this + 0x14) + -4 + iVar1 * 4) = uVar4;
              } while (iVar1 < iStack_50);
            }
            *(int *)(this + 0x10) = iStack_50;
          }
          iStack_40 = 0;
          if (0 < iStack_50) {
            do {
              pRVar3 = Get(this,iStack_40);
              pRStack_48 = pRVar3;
              iVar1 = RKC_FILE::Read(local_60,asStack_5c,2);
              if (iVar1 == 0) goto LAB_10001bbf;
              RKC_RPGSCRN_CHARANIMCELL::SetStatus((RKC_RPGSCRN_CHARANIMCELL *)pRVar3,asStack_5c[0]);
              pRStack_4c = pRVar3 + 4;
              param_1 = (char *)0x0;
              do {
                iVar5 = RKC_FILE::Read(local_60,&iStack_54,4);
                iVar1 = iStack_54;
                if (iVar5 == 0) goto LAB_10001bbf;
                if (iStack_54 != 0) {
                  piStack_44 = (int *)operator_new(iStack_54 * 8 + 4);
                  uStack_4._0_1_ = 2;
                  if (piStack_44 == (int *)0x0) {
                    piVar6 = (int *)0x0;
                  }
                  else {
                    piVar6 = piStack_44 + 1;
                    *piStack_44 = iVar1;
                    FUN_10007307(piVar6,8,iVar1,
                                 RKC_RPGSCRN_CHARANIMCELLBLOCK::RKC_RPGSCRN_CHARANIMCELLBLOCK);
                  }
                  uStack_4._0_1_ = 0;
                  *(int **)(pRStack_4c + 0x24) = piVar6;
                  *(int *)pRStack_4c = iStack_54;
                }
                iVar1 = RKC_FILE::Read(local_60,asStack_5c,2);
                if (iVar1 == 0) goto LAB_10001bbf;
                RKC_RPGSCRN_CHARANIMCHART::SetMaxFrameCount(pRStack_48,(long)param_1,asStack_5c[0]);
                piStack_44 = (int *)0x0;
                if (0 < iStack_54) {
                  do {
                    this_00 = RKC_RPGSCRN_CHARANIMCHART::Get
                                        (pRStack_48,(long)param_1,(long)piStack_44);
                    iVar5 = RKC_FILE::Read(local_60,&iStack_58,4);
                    iVar1 = iStack_58;
                    if (iVar5 == 0) goto LAB_10001bbf;
                    if (iStack_58 != 0) {
                      piStack_30 = (int *)operator_new(iStack_58 * 0xc + 4);
                      uStack_4._0_1_ = 3;
                      if (piStack_30 == (int *)0x0) {
                        piVar6 = (int *)0x0;
                      }
                      else {
                        piVar6 = piStack_30 + 1;
                        *piStack_30 = iVar1;
                        FUN_10007307(piVar6,0xc,iVar1,
                                     RKC_RPGSCRN_CHARANIMCELL::RKC_RPGSCRN_CHARANIMCELL);
                      }
                      *(int **)(this_00 + 4) = piVar6;
                      *(int *)this_00 = iStack_58;
                      uStack_4._0_1_ = 0;
                    }
                    iVar1 = 0;
                    if (0 < iStack_58) {
                      do {
                        this_01 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_00,iVar1);
                        iVar5 = RKC_FILE::Read(local_60,asStack_5c,2);
                        if (iVar5 == 0) goto LAB_10001bbf;
                        RKC_RPGSCRN_CHARANIMCELL::SetStatus(this_01,asStack_5c[0]);
                        iVar5 = RKC_FILE::Read(local_60,asStack_5c,2);
                        if (iVar5 == 0) goto LAB_10001bbf;
                        RKC_RPGSCRN_CHARANIMCELL::SetTrans(this_01,asStack_5c[0]);
                        if (iStack_38 < 2) {
                          iVar5 = RKC_FILE::Read(local_60,asStack_5c,2);
                          if (iVar5 == 0) goto LAB_10001bbf;
                          pRVar7 = (RKC_RPGSCRN_OBJECT *)(int)asStack_5c[0];
                        }
                        else {
                          iVar5 = RKC_FILE::Read(local_60,&pRStack_34,4);
                          pRVar7 = pRStack_34;
                          if (iVar5 == 0) goto LAB_10001bbf;
                        }
                        RKC_RPGSCRN_OBJECTDISPCELL::Set
                                  ((RKC_RPGSCRN_OBJECTDISPCELL *)this_01,pRVar7);
                        iVar5 = RKC_FILE::Read(local_60,asStack_5c,2);
                        if (iVar5 == 0) goto LAB_10001bbf;
                        RKC_RPGSCRN_CHARANIMCELL::SetPriority(this_01,asStack_5c[0]);
                        iVar1 = iVar1 + 1;
                      } while (iVar1 < iStack_58);
                    }
                    piStack_44 = (int *)((int)piStack_44 + 1);
                  } while ((int)piStack_44 < iStack_54);
                }
                param_1 = param_1 + 1;
                pRStack_4c = pRStack_4c + 4;
              } while ((int)param_1 < 9);
              iStack_40 = iStack_40 + 1;
              this = local_3c;
            } while (iStack_40 < iStack_50);
          }
          if (iStack_38 == 0) {
            *(undefined4 *)(this + 4) = 0;
          }
          else {
            iVar1 = RKC_FILE::Read(local_60,this + 4,4);
            if ((iVar1 == 0) || (iVar1 = RKC_FILE::Read(local_60,this + 0xc,4), iVar1 == 0))
            goto LAB_10001bbf;
          }
          RKC_FILE::Close(local_60);
          *(long *)(this + 8) = param_2;
          uStack_4 = 0xffffffff;
          RKC_FILE::~RKC_FILE(local_60);
          ExceptionList = pvStack_c;
          return 1;
        }
      }
    }
  }
LAB_10001bbf:
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_60);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: GetMaxPartsCount
 * Address: 10001be0
 */

/* public: long __thiscall RKC_RPGSCRN_CHARANIM::GetMaxPartsCount(void) */

long __thiscall RKC_RPGSCRN_CHARANIM::GetMaxPartsCount(RKC_RPGSCRN_CHARANIM *this)

{
  RKC_RPGSCRN_CHARANIMCHART *this_00;
  long lVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
                    /* 0x1be0  91  ?GetMaxPartsCount@RKC_RPGSCRN_CHARANIM@@QAEJXZ */
  iVar2 = 0;
  iVar3 = 0;
  if (*(int *)(this + 0x10) < 1) {
    return 0;
  }
  do {
    this_00 = Get(this,iVar3);
    if (this_00 != (RKC_RPGSCRN_CHARANIMCHART *)0x0) {
      iVar4 = 0;
      do {
        lVar1 = RKC_RPGSCRN_CHARANIMCHART::GetCount(this_00,iVar4);
        if (iVar2 < lVar1) {
          iVar2 = lVar1;
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < 9);
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < *(int *)(this + 0x10));
  return iVar2;
}



/*
 * Function: RKC_RPGSCRN_CHARANIMBLOCK
 * Address: 10001c40
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMBLOCK::RKC_RPGSCRN_CHARANIMBLOCK(void) */

void __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::RKC_RPGSCRN_CHARANIMBLOCK(RKC_RPGSCRN_CHARANIMBLOCK *this)

{
                    /* 0x1c40  3  ??0RKC_RPGSCRN_CHARANIMBLOCK@@QAE@XZ */
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_CHARANIMBLOCK
 * Address: 10001c50
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMBLOCK::~RKC_RPGSCRN_CHARANIMBLOCK(void) */

void __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::~RKC_RPGSCRN_CHARANIMBLOCK(RKC_RPGSCRN_CHARANIMBLOCK *this)

{
                    /* 0x1c50  15  ??1RKC_RPGSCRN_CHARANIMBLOCK@@QAE@XZ */
  Release(this,-1);
  return;
}



/*
 * Function: Release
 * Address: 10001c60
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMBLOCK::Release(long) */

void __thiscall RKC_RPGSCRN_CHARANIMBLOCK::Release(RKC_RPGSCRN_CHARANIMBLOCK *this,long param_1)

{
  void **ppvVar1;
  RKC_RPGSCRN_CHARANIM *pRVar2;
  undefined4 uVar3;
  int iVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1c60  131  ?Release@RKC_RPGSCRN_CHARANIMBLOCK@@QAEXJ@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000acfb;
  local_c = ExceptionList;
  if (param_1 < 0) {
    if (*(int *)(this + 8) != 0) {
      iVar4 = 0;
      ExceptionList = &local_c;
      ppvVar1 = &local_c;
      if (0 < *(int *)(this + 4)) {
        do {
          pRVar2 = *(RKC_RPGSCRN_CHARANIM **)(*(int *)(this + 8) + iVar4 * 4);
          if (pRVar2 != (RKC_RPGSCRN_CHARANIM *)0x0) {
            RKC_RPGSCRN_CHARANIM::~RKC_RPGSCRN_CHARANIM(pRVar2);
            FUN_100072ee(pRVar2);
          }
          iVar4 = iVar4 + 1;
          ppvVar1 = (void **)ExceptionList;
        } while (iVar4 < *(int *)(this + 4));
      }
      ExceptionList = ppvVar1;
      GlobalFree(*(HGLOBAL *)(this + 8));
      *(undefined4 *)(this + 8) = 0;
      *(undefined4 *)(this + 4) = 0;
      ExceptionList = local_c;
      return;
    }
  }
  else if ((param_1 < *(int *)(this + 4)) &&
          (pRVar2 = *(RKC_RPGSCRN_CHARANIM **)(*(int *)(this + 8) + param_1 * 4),
          pRVar2 != (RKC_RPGSCRN_CHARANIM *)0x0)) {
    ExceptionList = &local_c;
    RKC_RPGSCRN_CHARANIM::~RKC_RPGSCRN_CHARANIM(pRVar2);
    FUN_100072ee(pRVar2);
    pRVar2 = (RKC_RPGSCRN_CHARANIM *)operator_new(0x18);
    local_4 = 0;
    if (pRVar2 == (RKC_RPGSCRN_CHARANIM *)0x0) {
      uVar3 = 0;
    }
    else {
      uVar3 = RKC_RPGSCRN_CHARANIM::RKC_RPGSCRN_CHARANIM(pRVar2);
    }
    *(undefined4 *)(*(int *)(this + 8) + param_1 * 4) = uVar3;
    **(undefined4 **)(*(int *)(this + 8) + param_1 * 4) = *(undefined4 *)this;
  }
  ExceptionList = local_c;
  return;
}



/*
 * Function: CreateIndex
 * Address: 10001d50
 */

/* public: int __thiscall RKC_RPGSCRN_CHARANIMBLOCK::CreateIndex(long,class RKC_RPGSCRN *) */

int __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::CreateIndex
          (RKC_RPGSCRN_CHARANIMBLOCK *this,long param_1,RKC_RPGSCRN *param_2)

{
  HGLOBAL pvVar1;
  RKC_RPGSCRN_CHARANIM *this_00;
  undefined4 uVar2;
  int iVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x1d50  47  ?CreateIndex@RKC_RPGSCRN_CHARANIMBLOCK@@QAEHJPAVRKC_RPGSCRN@@@Z
                        */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000ad1b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  if (*(int *)(this + 8) != 0) {
    ExceptionList = &local_c;
    Release(this,-1);
  }
  if (param_1 < 0) {
    ExceptionList = local_c;
    return 0;
  }
  pvVar1 = GlobalAlloc(0x40,param_1 * 4);
  iVar3 = 0;
  *(HGLOBAL *)(this + 8) = pvVar1;
  if (0 < param_1) {
    do {
      this_00 = (RKC_RPGSCRN_CHARANIM *)operator_new(0x18);
      uStack_4 = 0;
      if (this_00 == (RKC_RPGSCRN_CHARANIM *)0x0) {
        uVar2 = 0;
      }
      else {
        uVar2 = RKC_RPGSCRN_CHARANIM::RKC_RPGSCRN_CHARANIM(this_00);
      }
      iVar3 = iVar3 + 1;
      uStack_4 = 0xffffffff;
      *(undefined4 *)(*(int *)(this + 8) + -4 + iVar3 * 4) = uVar2;
      **(undefined4 **)(*(int *)(this + 8) + -4 + iVar3 * 4) = *(undefined4 *)this;
    } while (iVar3 < param_1);
  }
  *(long *)(this + 4) = param_1;
  *(RKC_RPGSCRN **)this = param_2;
  ExceptionList = local_c;
  return 1;
}



/*
 * Function: Get
 * Address: 10001e20
 */

/* public: class RKC_RPGSCRN_CHARANIM * __thiscall RKC_RPGSCRN_CHARANIMBLOCK::Get(long) */

RKC_RPGSCRN_CHARANIM * __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::Get(RKC_RPGSCRN_CHARANIMBLOCK *this,long param_1)

{
                    /* 0x1e20  53  ?Get@RKC_RPGSCRN_CHARANIMBLOCK@@QAEPAVRKC_RPGSCRN_CHARANIM@@J@Z
                        */
  if ((-1 < param_1) && (param_1 < *(int *)(this + 4))) {
    return *(RKC_RPGSCRN_CHARANIM **)(*(int *)(this + 8) + param_1 * 4);
  }
  return (RKC_RPGSCRN_CHARANIM *)0x0;
}



/*
 * Function: GetCount
 * Address: 10001e40
 */

/* public: long __thiscall RKC_RPGSCRN_CHARANIMBLOCK::GetCount(void) */

long __thiscall RKC_RPGSCRN_CHARANIMBLOCK::GetCount(RKC_RPGSCRN_CHARANIMBLOCK *this)

{
                    /* 0x1e40  73  ?GetCount@RKC_RPGSCRN_CHARANIMBLOCK@@QAEJXZ
                       0x1e40  116  ?GetX@RKC_RPGSCRN_OBJECT@@QAEJXZ */
  return *(long *)(this + 4);
}



/*
 * Function: SetObject
 * Address: 10001e50
 */

/* public: class RKC_RPGSCRN_OBJECT * __thiscall
   RKC_RPGSCRN_CHARANIMBLOCK::SetObject(long,long,long,long,long,long,short,class
   RKC_RPGSCRN_OBJECTBLOCK *,struct RKC_RPGSCRN_RECT *,int *,short *,short *,short
   *,long,long,long,struct RKC_RPGSCRN_RECT *,long,long,long) */

RKC_RPGSCRN_OBJECT * __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::SetObject
          (RKC_RPGSCRN_CHARANIMBLOCK *this,long param_1,long param_2,long param_3,long param_4,
          long param_5,long param_6,short param_7,RKC_RPGSCRN_OBJECTBLOCK *param_8,
          RKC_RPGSCRN_RECT *param_9,int *param_10,short *param_11,short *param_12,short *param_13,
          long param_14,long param_15,long param_16,RKC_RPGSCRN_RECT *param_17,long param_18,
          long param_19,long param_20)

{
  ushort *puVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  long lVar4;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_02;
  RKC_RPGSCRN_CHARANIMCELL *pRVar5;
  int iVar6;
  RKC_RPGSCRN_CHARANIMBLOCK *this_03;
  int iVar7;
  RKC_RPGSCRN_RECT *pRVar8;
  RKC_RPGSCRN_OBJECT *pRVar9;
  undefined4 *puVar10;
  int *piVar11;
  void *in_stack_00001f84;
  long in_stack_00001f94;
  long in_stack_00001f98;
  long in_stack_00001f9c;
  int in_stack_00001fa0;
  long in_stack_00001fa4;
  long in_stack_00001fa8;
  undefined2 in_stack_00001fac;
  RKC_RPGSCRN_OBJECTBLOCK *in_stack_00001fb0;
  undefined4 *in_stack_00001fb4;
  int *in_stack_00001fb8;
  int in_stack_00001fbc;
  int in_stack_00001fc0;
  int in_stack_00001fc4;
  undefined4 in_stack_00001fc8;
  ushort in_stack_00001fcc;
  int in_stack_00001fd0;
  RKC_RPGSCRN_RECT *in_stack_00001fd4;
  int in_stack_00001fd8;
  int in_stack_00001fdc;
  int in_stack_00001fe0;
  undefined uVar12;
  long lVar13;
  int local_8;
  
                    /* 0x1e50  160
                       ?SetObject@RKC_RPGSCRN_CHARANIMBLOCK@@QAEPAVRKC_RPGSCRN_OBJECT@@JJJJJJFPAVRKC_RPGSCRN_OBJECTBLOCK@@PAURKC_RPGSCRN_RECT@@PAHPAF33JJJ1JJJ@Z
                        */
  uVar12 = SUB41(ExceptionList,0);
  ExceptionList = &stack0xfffffff4;
  FUN_10007540(uVar12);
  RKC_RPGSCRN_OBJECT::RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&param_1);
  lVar13 = 0;
  this_00 = Get(this_03,in_stack_00001f94);
  if ((this_00 != (RKC_RPGSCRN_CHARANIM *)0x0) &&
     (this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,in_stack_00001f98),
     this_01 != (RKC_RPGSCRN_CHARANIMCHART *)0x0)) {
    lVar4 = RKC_RPGSCRN_CHARANIMCHART::GetCount(this_01,in_stack_00001f9c);
    lVar13 = lVar4;
    uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus((RKC_RPGSCRN_CHARANIMCELL *)this_01);
    if (((uVar2 & 1) != 0) &&
       (sVar3 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,in_stack_00001f9c), sVar3 != 0))
    {
      sVar3 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,in_stack_00001f9c);
      in_stack_00001fa0 = in_stack_00001fa0 % (int)sVar3;
    }
    if (0 < lVar4) {
      puVar10 = (undefined4 *)&stack0x00000fe4;
      for (; lVar4 != 0; lVar4 = lVar4 + -1) {
        *puVar10 = 0;
        puVar10 = puVar10 + 1;
      }
    }
    pRVar8 = (RKC_RPGSCRN_RECT *)0x0;
    piVar11 = in_stack_00001fb8;
    if (0 < lVar13) {
      do {
        this_02 = RKC_RPGSCRN_CHARANIMCHART::Get(this_01,in_stack_00001f9c,(long)pRVar8);
        if (((this_02 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
            (pRVar5 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_02,in_stack_00001fa0),
            pRVar5 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) &&
           ((in_stack_00001fb8 == (int *)0x0 || (*piVar11 == 1)))) {
          sVar3 = *(short *)(pRVar5 + 2);
          *(RKC_RPGSCRN_CHARANIMCELL **)(&stack0x00000fe4 + sVar3 * 4) = pRVar5;
          (&param_17)[sVar3] = pRVar8;
        }
        pRVar8 = pRVar8 + 1;
        piVar11 = piVar11 + 1;
      } while ((int)pRVar8 < lVar13);
    }
  }
  pRVar9 = (RKC_RPGSCRN_OBJECT *)0x0;
  local_8 = 0;
  if (0 < lVar13) {
    do {
      puVar1 = *(ushort **)(&stack0x00000fe4 + local_8 * 4);
      if (puVar1 != (ushort *)0x0) {
        if (in_stack_00001fd4 != (RKC_RPGSCRN_RECT *)0x0) {
          param_1 = *(long *)this_03;
          param_8 = (RKC_RPGSCRN_OBJECTBLOCK *)CONCAT22(in_stack_00001fac,param_8._0_2_);
          param_6 = *(long *)(puVar1 + 4);
          param_5 = CONCAT22(param_5._2_2_,*(undefined2 *)(this_00 + 8));
          param_2 = in_stack_00001fa4;
          param_3 = in_stack_00001fa8;
          iVar6 = RKC_RPGSCRN_OBJECT::CheckClip((RKC_RPGSCRN_OBJECT *)&param_1,in_stack_00001fd4,1);
          if (iVar6 == 0) goto LAB_1000218b;
        }
        pRVar9 = RKC_RPGSCRN_OBJECTBLOCK::Insert(in_stack_00001fb0,0);
        if (pRVar9 != (RKC_RPGSCRN_OBJECT *)0x0) {
          *(undefined2 *)(pRVar9 + 0x1e) = in_stack_00001fac;
          *(undefined4 *)(pRVar9 + 0x14) = *(undefined4 *)(puVar1 + 4);
          *(undefined2 *)(pRVar9 + 0x10) = *(undefined2 *)(this_00 + 8);
          *(long *)(pRVar9 + 4) = in_stack_00001fa4;
          *(long *)(pRVar9 + 8) = in_stack_00001fa8;
          if (*(int *)(this_00 + 4) == 0) {
            *(undefined2 *)(pRVar9 + 0x18) = 0xffff;
          }
          else {
            *(short *)(pRVar9 + 0x18) =
                 *(short *)(this_00 + 0xc) * (short)in_stack_00001f98 + (short)local_8;
          }
          iVar6 = (short)puVar1[2] * in_stack_00001fd0;
          *(short *)(pRVar9 + 0x1a) =
               ((short)(iVar6 / 1000) + (short)(iVar6 >> 0x1f)) -
               (short)((longlong)iVar6 * 0x10624dd3 >> 0x3f);
          *(ushort *)(pRVar9 + 0x1c) = in_stack_00001fcc | *puVar1;
          if (in_stack_00001fbc != 0) {
            *(undefined2 *)(pRVar9 + 0x20) =
                 *(undefined2 *)(in_stack_00001fbc + (int)(&param_17)[local_8] * 2);
          }
          if (in_stack_00001fc0 != 0) {
            *(undefined2 *)(pRVar9 + 0x22) =
                 *(undefined2 *)(in_stack_00001fc0 + (int)(&param_17)[local_8] * 2);
          }
          if (in_stack_00001fc4 != 0) {
            *(undefined2 *)(pRVar9 + 0x24) =
                 *(undefined2 *)(in_stack_00001fc4 + (int)(&param_17)[local_8] * 2);
          }
          iVar6 = *(short *)(pRVar9 + 0x20) * in_stack_00001fd8;
          iVar7 = *(short *)(pRVar9 + 0x22) * in_stack_00001fdc;
          *(short *)(pRVar9 + 0x20) =
               ((short)(iVar6 / 1000) + (short)(iVar6 >> 0x1f)) -
               (short)((longlong)iVar6 * 0x10624dd3 >> 0x3f);
          iVar6 = *(short *)(pRVar9 + 0x24) * in_stack_00001fe0;
          *(short *)(pRVar9 + 0x22) =
               ((short)(iVar7 / 1000) + (short)(iVar7 >> 0x1f)) -
               (short)((longlong)iVar7 * 0x10624dd3 >> 0x3f);
          *(short *)(pRVar9 + 0x24) =
               ((short)(iVar6 / 1000) + (short)(iVar6 >> 0x1f)) -
               (short)((longlong)iVar6 * 0x10624dd3 >> 0x3f);
          *(undefined4 *)(pRVar9 + 0xc) = in_stack_00001fc8;
          if (in_stack_00001fb4 == (undefined4 *)0x0) {
            *(undefined4 *)(pRVar9 + 0x28) = 0;
            *(undefined4 *)(pRVar9 + 0x2c) = 0;
            *(undefined4 *)(pRVar9 + 0x30) = 0;
            *(undefined4 *)(pRVar9 + 0x34) = 0;
          }
          else {
            *(undefined4 *)(pRVar9 + 0x28) = *in_stack_00001fb4;
            *(undefined4 *)(pRVar9 + 0x2c) = in_stack_00001fb4[1];
            *(undefined4 *)(pRVar9 + 0x30) = in_stack_00001fb4[2];
            *(undefined4 *)(pRVar9 + 0x34) = in_stack_00001fb4[3];
          }
        }
      }
LAB_1000218b:
      local_8 = local_8 + 1;
    } while (local_8 < lVar13);
  }
  RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL((RKC_RPGSCRN_CHARANIMCELL *)&param_1);
  ExceptionList = in_stack_00001f84;
  return pRVar9;
}



/*
 * Function: GetMaxPartsCountFromFile
 * Address: 100021e0
 */

/* public: long __thiscall RKC_RPGSCRN_CHARANIMBLOCK::GetMaxPartsCountFromFile(char *) */

long __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::GetMaxPartsCountFromFile(RKC_RPGSCRN_CHARANIMBLOCK *this,char *param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_CHARANIM local_24 [24];
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x21e0  92  ?GetMaxPartsCountFromFile@RKC_RPGSCRN_CHARANIMBLOCK@@QAEJPAD@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000ad58;
  local_c = ExceptionList;
  lVar2 = 0;
  ExceptionList = &local_c;
  RKC_RPGSCRN_CHARANIM::RKC_RPGSCRN_CHARANIM(local_24);
  local_4 = 0;
  iVar1 = RKC_RPGSCRN_CHARANIM::ReadCafFile(local_24,param_1,0);
  if (iVar1 == 1) {
    lVar2 = RKC_RPGSCRN_CHARANIM::GetMaxPartsCount(local_24);
  }
  RKC_RPGSCRN_CHARANIM::Release(local_24);
  local_4 = 0xffffffff;
  RKC_RPGSCRN_CHARANIM::~RKC_RPGSCRN_CHARANIM(local_24);
  ExceptionList = local_c;
  return lVar2;
}



/*
 * Function: SetPacket
 * Address: 10002260
 */

/* public: void __thiscall
   RKC_RPGSCRN_CHARANIMBLOCK::SetPacket(long,long,long,long,long,long,long,long,int *,short *,short
   *,short *,long,long) */

void __thiscall
RKC_RPGSCRN_CHARANIMBLOCK::SetPacket
          (RKC_RPGSCRN_CHARANIMBLOCK *this,long param_1,long param_2,long param_3,long param_4,
          long param_5,long param_6,long param_7,long param_8,int *param_9,short *param_10,
          short *param_11,short *param_12,long param_13,long param_14)

{
  ushort *puVar1;
  ushort uVar2;
  short sVar3;
  RKC_RPGSCRN_CHARANIM *this_00;
  RKC_RPGSCRN_CHARANIMCHART *this_01;
  RKC_RPGSCRN_CHARANIMCELLBLOCK *this_02;
  RKC_RPGSCRN_CHARANIMCELL *pRVar4;
  RKC_RPGSCRN_CHARANIMBLOCK *this_03;
  long lVar5;
  long lVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  int *piVar10;
  void *in_stack_00001f88;
  long in_stack_00001f98;
  long in_stack_00001f9c;
  long in_stack_00001fa0;
  long in_stack_00001fa4;
  long in_stack_00001fa8;
  int in_stack_00001fac;
  long in_stack_00001fb0;
  long in_stack_00001fb4;
  int *in_stack_00001fb8;
  int in_stack_00001fbc;
  int in_stack_00001fc0;
  int in_stack_00001fc4;
  ushort in_stack_00001fc8;
  short in_stack_00001fcc;
  RKC_RPGSCRN_POSITION RVar11;
  
                    /* 0x2260  161  ?SetPacket@RKC_RPGSCRN_CHARANIMBLOCK@@QAEXJJJJJJJJPAHPAF11JJ@Z
                        */
  RVar11 = SUB41(ExceptionList,0);
  ExceptionList = &stack0xfffffff4;
  FUN_10007540(RVar11);
  RKC_RPGSCRN_OBJECT::RKC_RPGSCRN_OBJECT((RKC_RPGSCRN_OBJECT *)&param_2);
  lVar6 = 0;
  this_00 = Get(this_03,in_stack_00001fa0);
  if ((this_00 != (RKC_RPGSCRN_CHARANIM *)0x0) &&
     (this_01 = RKC_RPGSCRN_CHARANIM::Get(this_00,in_stack_00001fa4),
     this_01 != (RKC_RPGSCRN_CHARANIMCHART *)0x0)) {
    lVar6 = RKC_RPGSCRN_CHARANIMCHART::GetCount(this_01,in_stack_00001fa8);
    uVar2 = RKC_RPGSCRN_CHARANIMCELL::GetStatus((RKC_RPGSCRN_CHARANIMCELL *)this_01);
    if (((uVar2 & 1) != 0) &&
       (sVar3 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,in_stack_00001fa8), sVar3 != 0))
    {
      sVar3 = RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(this_01,in_stack_00001fa8);
      in_stack_00001fac = in_stack_00001fac % (int)sVar3;
    }
    if (0 < lVar6) {
      puVar9 = (undefined4 *)&stack0x00000fe8;
      for (lVar5 = lVar6; lVar5 != 0; lVar5 = lVar5 + -1) {
        *puVar9 = 0;
        puVar9 = puVar9 + 1;
      }
    }
    iVar7 = 0;
    piVar10 = in_stack_00001fb8;
    if (0 < lVar6) {
      do {
        this_02 = RKC_RPGSCRN_CHARANIMCHART::Get(this_01,in_stack_00001fa8,iVar7);
        if (((this_02 != (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0) &&
            (pRVar4 = RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(this_02,in_stack_00001fac),
            pRVar4 != (RKC_RPGSCRN_CHARANIMCELL *)0x0)) &&
           ((in_stack_00001fb8 == (int *)0x0 || (*piVar10 == 1)))) {
          sVar3 = *(short *)(pRVar4 + 2);
          *(RKC_RPGSCRN_CHARANIMCELL **)(&stack0x00000fe8 + sVar3 * 4) = pRVar4;
          *(int *)(&stack0x00000048 + sVar3 * 4) = iVar7;
        }
        iVar7 = iVar7 + 1;
        piVar10 = piVar10 + 1;
      } while (iVar7 < lVar6);
    }
  }
  iVar7 = lVar6 + -1;
  for (iVar8 = iVar7; -1 < iVar8; iVar8 = iVar8 + -1) {
    puVar1 = *(ushort **)(&stack0x00000fe8 + iVar8 * 4);
    if (puVar1 != (ushort *)0x0) {
      param_2 = *(long *)this_03;
      param_7 = *(long *)(puVar1 + 4);
      param_6._2_2_ = (undefined2)((uint)param_6 >> 0x10);
      param_6 = CONCAT22(param_6._2_2_,*(undefined2 *)(this_00 + 8));
      param_8 = CONCAT22(puVar1[2],0xffff);
      param_9 = (int *)(uint)(*puVar1 | in_stack_00001fc8);
      if (in_stack_00001fbc != 0) {
        param_10._2_2_ = (undefined2)((uint)param_10 >> 0x10);
        param_10 = (short *)CONCAT22(param_10._2_2_,
                                     *(undefined2 *)
                                      (in_stack_00001fbc +
                                      *(int *)(&stack0x00000048 + iVar8 * 4) * 2));
      }
      if (in_stack_00001fc0 != 0) {
        param_10 = (short *)CONCAT22(*(undefined2 *)
                                      (in_stack_00001fc0 +
                                      *(int *)(&stack0x00000048 + iVar8 * 4) * 2),param_10._0_2_);
      }
      if (in_stack_00001fc4 != 0) {
        param_11._2_2_ = (undefined2)((uint)param_11 >> 0x10);
        param_11 = (short *)CONCAT22(param_11._2_2_,
                                     *(undefined2 *)
                                      (in_stack_00001fc4 +
                                      *(int *)(&stack0x00000048 + iVar8 * 4) * 2));
      }
      param_3 = in_stack_00001fb0;
      param_4 = in_stack_00001fb4;
      if (((*puVar1 | in_stack_00001fc8) & 8) != 0) {
        RKC_RPGSCRN_OBJECT::SetPacket
                  ((RKC_RPGSCRN_OBJECT *)&param_2,in_stack_00001f98,in_stack_00001f9c,0,0,1,
                   in_stack_00001fcc,(RKC_RPGSCRN_POSITION *)&stack0xfffffff4);
      }
    }
  }
  for (; -1 < iVar7; iVar7 = iVar7 + -1) {
    puVar1 = *(ushort **)(&stack0x00000fe8 + iVar7 * 4);
    if (puVar1 != (ushort *)0x0) {
      param_2 = *(long *)this_03;
      param_7 = *(long *)(puVar1 + 4);
      param_6._2_2_ = (undefined2)((uint)param_6 >> 0x10);
      param_6 = CONCAT22(param_6._2_2_,*(undefined2 *)(this_00 + 8));
      param_8 = CONCAT22(puVar1[2],0xffff);
      param_9 = (int *)(uint)(*puVar1 | in_stack_00001fc8);
      if (in_stack_00001fbc != 0) {
        param_10._2_2_ = (undefined2)((uint)param_10 >> 0x10);
        param_10 = (short *)CONCAT22(param_10._2_2_,
                                     *(undefined2 *)
                                      (in_stack_00001fbc +
                                      *(int *)(&stack0x00000048 + iVar7 * 4) * 2));
      }
      if (in_stack_00001fc0 != 0) {
        param_10 = (short *)CONCAT22(*(undefined2 *)
                                      (in_stack_00001fc0 +
                                      *(int *)(&stack0x00000048 + iVar7 * 4) * 2),param_10._0_2_);
      }
      if (in_stack_00001fc4 != 0) {
        param_11._2_2_ = (undefined2)((uint)param_11 >> 0x10);
        param_11 = (short *)CONCAT22(param_11._2_2_,
                                     *(undefined2 *)
                                      (in_stack_00001fc4 +
                                      *(int *)(&stack0x00000048 + iVar7 * 4) * 2));
      }
      param_3 = in_stack_00001fb0;
      param_4 = in_stack_00001fb4;
      RKC_RPGSCRN_OBJECT::SetPacket
                ((RKC_RPGSCRN_OBJECT *)&param_2,in_stack_00001f98,in_stack_00001f9c,0,0,0,
                 in_stack_00001fcc,(RKC_RPGSCRN_POSITION *)&stack0xfffffff4);
    }
  }
  RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL((RKC_RPGSCRN_CHARANIMCELL *)&param_2);
  ExceptionList = in_stack_00001f88;
  return;
}



/*
 * Function: RKC_RPGSCRN_CHARANIMCELL
 * Address: 100025a0
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMCELL::RKC_RPGSCRN_CHARANIMCELL(void) */

void __thiscall RKC_RPGSCRN_CHARANIMCELL::RKC_RPGSCRN_CHARANIMCELL(RKC_RPGSCRN_CHARANIMCELL *this)

{
                    /* 0x25a0  4  ??0RKC_RPGSCRN_CHARANIMCELL@@QAE@XZ */
  *(undefined2 *)this = 0;
  *(undefined2 *)(this + 2) = 0;
  *(undefined2 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  return;
}



/*
 * Function: SetStatus
 * Address: 100025c0
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMCELL::SetStatus(short) */

void __thiscall RKC_RPGSCRN_CHARANIMCELL::SetStatus(RKC_RPGSCRN_CHARANIMCELL *this,short param_1)

{
                    /* 0x25c0  174  ?SetStatus@RKC_RPGSCRN_CHARANIMCELL@@QAEXF@Z
                       0x25c0  175  ?SetStatus@RKC_RPGSCRN_CHARANIMCHART@@QAEXF@Z
                       0x25c0  177  ?SetStatus@RKC_RPGSCRN_OBJECTDISPCELL@@QAEXF@Z */
  *(short *)this = param_1;
  return;
}



/*
 * Function: SetPriority
 * Address: 100025d0
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMCELL::SetPriority(short) */

void __thiscall RKC_RPGSCRN_CHARANIMCELL::SetPriority(RKC_RPGSCRN_CHARANIMCELL *this,short param_1)

{
                    /* 0x25d0  170  ?SetPriority@RKC_RPGSCRN_CHARANIMCELL@@QAEXF@Z */
  *(short *)(this + 2) = param_1;
  return;
}



/*
 * Function: SetTrans
 * Address: 100025e0
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMCELL::SetTrans(short) */

void __thiscall RKC_RPGSCRN_CHARANIMCELL::SetTrans(RKC_RPGSCRN_CHARANIMCELL *this,short param_1)

{
                    /* 0x25e0  178  ?SetTrans@RKC_RPGSCRN_CHARANIMCELL@@QAEXF@Z */
  *(short *)(this + 4) = param_1;
  return;
}



/*
 * Function: Set
 * Address: 100025f0
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECTDISPCELL::Set(class RKC_RPGSCRN_OBJECT *) */

void __thiscall
RKC_RPGSCRN_OBJECTDISPCELL::Set(RKC_RPGSCRN_OBJECTDISPCELL *this,RKC_RPGSCRN_OBJECT *param_1)

{
                    /* 0x25f0  141  ?Set@RKC_RPGSCRN_OBJECTDISPCELL@@QAEXPAVRKC_RPGSCRN_OBJECT@@@Z
                       0x25f0  167  ?SetPatternNo@RKC_RPGSCRN_CHARANIMCELL@@QAEXJ@Z */
  *(RKC_RPGSCRN_OBJECT **)(this + 8) = param_1;
  return;
}



/*
 * Function: GetStatus
 * Address: 10002600
 */

/* public: short __thiscall RKC_RPGSCRN_CHARANIMCELL::GetStatus(void) */

short __thiscall RKC_RPGSCRN_CHARANIMCELL::GetStatus(RKC_RPGSCRN_CHARANIMCELL *this)

{
                    /* 0x2600  108  ?GetStatus@RKC_RPGSCRN_CHARANIMCELL@@QAEFXZ
                       0x2600  109  ?GetStatus@RKC_RPGSCRN_CHARANIMCHART@@QAEFXZ
                       0x2600  111  ?GetStatus@RKC_RPGSCRN_OBJECTDISPCELL@@QAEFXZ */
  return *(short *)this;
}



/*
 * Function: GetPriority
 * Address: 10002610
 */

/* public: short __thiscall RKC_RPGSCRN_CHARANIMCELL::GetPriority(void) */

short __thiscall RKC_RPGSCRN_CHARANIMCELL::GetPriority(RKC_RPGSCRN_CHARANIMCELL *this)

{
                    /* 0x2610  105  ?GetPriority@RKC_RPGSCRN_CHARANIMCELL@@QAEFXZ */
  return *(short *)(this + 2);
}



/*
 * Function: RKC_RPGSCRN_CHARANIMCELLBLOCK
 * Address: 10002620
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::RKC_RPGSCRN_CHARANIMCELLBLOCK(void) */

void __thiscall
RKC_RPGSCRN_CHARANIMCELLBLOCK::RKC_RPGSCRN_CHARANIMCELLBLOCK(RKC_RPGSCRN_CHARANIMCELLBLOCK *this)

{
                    /* 0x2620  5  ??0RKC_RPGSCRN_CHARANIMCELLBLOCK@@QAE@XZ */
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_CHARANIMCELLBLOCK
 * Address: 10002630
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::~RKC_RPGSCRN_CHARANIMCELLBLOCK(void) */

void __thiscall
RKC_RPGSCRN_CHARANIMCELLBLOCK::~RKC_RPGSCRN_CHARANIMCELLBLOCK(RKC_RPGSCRN_CHARANIMCELLBLOCK *this)

{
  int iVar1;
  
                    /* 0x2630  17  ??1RKC_RPGSCRN_CHARANIMCELLBLOCK@@QAE@XZ */
  iVar1 = *(int *)(this + 4);
  if (iVar1 != 0) {
    FUN_10007458(iVar1,0xc,*(int *)(iVar1 + -4),RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL)
    ;
    FUN_100072ee((LPVOID)(iVar1 + -4));
    *(undefined4 *)(this + 4) = 0;
  }
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Release
 * Address: 10002640
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::Release(void) */

void __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::Release(RKC_RPGSCRN_CHARANIMCELLBLOCK *this)

{
  int iVar1;
  
                    /* 0x2640  132  ?Release@RKC_RPGSCRN_CHARANIMCELLBLOCK@@QAEXXZ */
  iVar1 = *(int *)(this + 4);
  if (iVar1 != 0) {
    FUN_10007458(iVar1,0xc,*(int *)(iVar1 + -4),RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL)
    ;
    FUN_100072ee((LPVOID)(iVar1 + -4));
    *(undefined4 *)(this + 4) = 0;
  }
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Get
 * Address: 10002680
 */

/* public: class RKC_RPGSCRN_CHARANIMCELL * __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(long) */

RKC_RPGSCRN_CHARANIMCELL * __thiscall
RKC_RPGSCRN_CHARANIMCELLBLOCK::Get(RKC_RPGSCRN_CHARANIMCELLBLOCK *this,long param_1)

{
                    /* 0x2680  54
                       ?Get@RKC_RPGSCRN_CHARANIMCELLBLOCK@@QAEPAVRKC_RPGSCRN_CHARANIMCELL@@J@Z */
  if ((-1 < param_1) && (param_1 < *(int *)this)) {
    return (RKC_RPGSCRN_CHARANIMCELL *)(*(int *)(this + 4) + param_1 * 0xc);
  }
  return (RKC_RPGSCRN_CHARANIMCELL *)0x0;
}



/*
 * Function: GetCount
 * Address: 100026a0
 */

/* public: long __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::GetCount(void) */

long __thiscall RKC_RPGSCRN_CHARANIMCELLBLOCK::GetCount(RKC_RPGSCRN_CHARANIMCELLBLOCK *this)

{
                    /* 0x26a0  74  ?GetCount@RKC_RPGSCRN_CHARANIMCELLBLOCK@@QAEJXZ
                       0x26a0  85  ?GetHostScreen@RKC_RPGSCRN_OBJECTDISP@@QAEPAVRKC_RPGSCRN@@XZ */
  return *(long *)this;
}



/*
 * Function: RKC_RPGSCRN_CHARANIMCHART
 * Address: 100026b0
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMCHART::RKC_RPGSCRN_CHARANIMCHART(void) */

void __thiscall
RKC_RPGSCRN_CHARANIMCHART::RKC_RPGSCRN_CHARANIMCHART(RKC_RPGSCRN_CHARANIMCHART *this)

{
  RKC_RPGSCRN_CHARANIMCHART *pRVar1;
  int iVar2;
  
                    /* 0x26b0  6  ??0RKC_RPGSCRN_CHARANIMCHART@@QAE@XZ */
  iVar2 = 9;
  pRVar1 = this + 0x28;
  do {
    *(undefined4 *)(pRVar1 + -0x24) = 0;
    *(undefined4 *)pRVar1 = 0;
    pRVar1 = pRVar1 + 4;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/*
 * Function: ~RKC_RPGSCRN_CHARANIMCHART
 * Address: 100026d0
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMCHART::~RKC_RPGSCRN_CHARANIMCHART(void) */

void __thiscall
RKC_RPGSCRN_CHARANIMCHART::~RKC_RPGSCRN_CHARANIMCHART(RKC_RPGSCRN_CHARANIMCHART *this)

{
  int iVar1;
  int iVar2;
  RKC_RPGSCRN_CHARANIMCHART *pRVar3;
  
                    /* 0x26d0  18  ??1RKC_RPGSCRN_CHARANIMCHART@@QAE@XZ */
  pRVar3 = this + 0x28;
  iVar2 = 9;
  do {
    iVar1 = *(int *)pRVar3;
    if (iVar1 != 0) {
      FUN_10007458(iVar1,8,*(int *)(iVar1 + -4),
                   RKC_RPGSCRN_CHARANIMCELLBLOCK::~RKC_RPGSCRN_CHARANIMCELLBLOCK);
      FUN_100072ee((LPVOID)(iVar1 + -4));
      *(int *)pRVar3 = 0;
    }
    pRVar3 = pRVar3 + 4;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/*
 * Function: Release
 * Address: 100026e0
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMCHART::Release(void) */

void __thiscall RKC_RPGSCRN_CHARANIMCHART::Release(RKC_RPGSCRN_CHARANIMCHART *this)

{
  int iVar1;
  int iVar2;
  RKC_RPGSCRN_CHARANIMCHART *pRVar3;
  
                    /* 0x26e0  133  ?Release@RKC_RPGSCRN_CHARANIMCHART@@QAEXXZ */
  pRVar3 = this + 0x28;
  iVar2 = 9;
  do {
    iVar1 = *(int *)pRVar3;
    if (iVar1 != 0) {
      FUN_10007458(iVar1,8,*(int *)(iVar1 + -4),
                   RKC_RPGSCRN_CHARANIMCELLBLOCK::~RKC_RPGSCRN_CHARANIMCELLBLOCK);
      FUN_100072ee((LPVOID)(iVar1 + -4));
      *(int *)pRVar3 = 0;
    }
    pRVar3 = pRVar3 + 4;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/*
 * Function: Get
 * Address: 10002720
 */

/* public: class RKC_RPGSCRN_CHARANIMCELLBLOCK * __thiscall
   RKC_RPGSCRN_CHARANIMCHART::Get(long,long) */

RKC_RPGSCRN_CHARANIMCELLBLOCK * __thiscall
RKC_RPGSCRN_CHARANIMCHART::Get(RKC_RPGSCRN_CHARANIMCHART *this,long param_1,long param_2)

{
                    /* 0x2720  55
                       ?Get@RKC_RPGSCRN_CHARANIMCHART@@QAEPAVRKC_RPGSCRN_CHARANIMCELLBLOCK@@JJ@Z */
  if ((((-1 < param_1) && (param_1 < 9)) && (-1 < param_2)) &&
     (param_2 < *(int *)(this + param_1 * 4 + 4))) {
    return (RKC_RPGSCRN_CHARANIMCELLBLOCK *)(*(int *)(this + param_1 * 4 + 0x28) + param_2 * 8);
  }
  return (RKC_RPGSCRN_CHARANIMCELLBLOCK *)0x0;
}



/*
 * Function: GetCount
 * Address: 10002750
 */

/* public: long __thiscall RKC_RPGSCRN_CHARANIMCHART::GetCount(long) */

long __thiscall RKC_RPGSCRN_CHARANIMCHART::GetCount(RKC_RPGSCRN_CHARANIMCHART *this,long param_1)

{
                    /* 0x2750  75  ?GetCount@RKC_RPGSCRN_CHARANIMCHART@@QAEJJ@Z */
  return *(long *)(this + param_1 * 4 + 4);
}



/*
 * Function: SetMaxFrameCount
 * Address: 10002760
 */

/* public: void __thiscall RKC_RPGSCRN_CHARANIMCHART::SetMaxFrameCount(long,short) */

void __thiscall
RKC_RPGSCRN_CHARANIMCHART::SetMaxFrameCount
          (RKC_RPGSCRN_CHARANIMCHART *this,long param_1,short param_2)

{
                    /* 0x2760  159  ?SetMaxFrameCount@RKC_RPGSCRN_CHARANIMCHART@@QAEXJF@Z */
  *(short *)(this + param_1 * 2 + 0x4c) = param_2;
  return;
}



/*
 * Function: GetMaxFrameCount
 * Address: 10002780
 */

/* public: short __thiscall RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(long) */

short __thiscall
RKC_RPGSCRN_CHARANIMCHART::GetMaxFrameCount(RKC_RPGSCRN_CHARANIMCHART *this,long param_1)

{
                    /* 0x2780  90  ?GetMaxFrameCount@RKC_RPGSCRN_CHARANIMCHART@@QAEFJ@Z */
  return *(short *)(this + param_1 * 2 + 0x4c);
}



/*
 * Function: ReadMapFile
 * Address: 10002790
 */

/* public: int __thiscall RKC_RPGSCRN::ReadMapFile(char *,long,long,long,int,unsigned short) */

int __thiscall
RKC_RPGSCRN::ReadMapFile
          (RKC_RPGSCRN *this,char *param_1,long param_2,long param_3,long param_4,int param_5,
          ushort param_6)

{
  char cVar1;
  byte bVar2;
  byte *pbVar3;
  RKC_RPGSCRN_GROUNDBLOCK *this_00;
  RKC_RPGSCRN_OBJECTBLOCK *this_01;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  byte *pbVar8;
  char *pcVar9;
  char *pcVar10;
  char *pcVar11;
  bool bVar12;
  RKC_FILE local_680 [4];
  RKC_RPGSCRN *local_67c;
  char *pcStack_678;
  int local_674 [4];
  undefined *local_664 [4];
  byte abStack_654 [8];
  char acStack_64c [4];
  char acStack_648 [4];
  char *local_644 [4];
  byte abStack_634 [15];
  undefined uStack_625;
  char acStack_624 [260];
  char acStack_520 [260];
  char acStack_41c [260];
  char acStack_318 [260];
  char acStack_214 [260];
  char acStack_110 [260];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x2790  127  ?ReadMapFile@RKC_RPGSCRN@@QAEHPADJJJHG@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000ad9c;
  pvStack_c = ExceptionList;
  iVar7 = 0;
  local_644[0] = s_Pattern_1000f090;
  local_644[1] = s_Object_1000f088;
  local_644[2] = s_Animation_1000f07c;
  local_644[3] = s_Ground_1000f074;
  local_664[0] = &DAT_1000f06c;
  local_664[1] = &DAT_1000f064;
  local_664[2] = &DAT_1000f05c;
  local_664[3] = &DAT_1000f054;
  local_674[0] = 0;
  local_674[1] = 0;
  local_674[2] = 0;
  local_674[3] = 0;
  ExceptionList = &pvStack_c;
  local_67c = this;
  RKC_FILE::RKC_FILE(local_680);
  abStack_654[0] = s_MAPED_FILE_v000_1000f044[0];
  abStack_654[1] = s_MAPED_FILE_v000_1000f044[1];
  abStack_654[2] = s_MAPED_FILE_v000_1000f044[2];
  abStack_654[3] = s_MAPED_FILE_v000_1000f044[3];
  acStack_64c[0] = s_MAPED_FILE_v000_1000f044[8];
  acStack_64c[1] = s_MAPED_FILE_v000_1000f044[9];
  acStack_64c[2] = s_MAPED_FILE_v000_1000f044[10];
  acStack_64c[3] = s_MAPED_FILE_v000_1000f044[0xb];
  abStack_654[4] = s_MAPED_FILE_v000_1000f044[4];
  abStack_654[5] = s_MAPED_FILE_v000_1000f044[5];
  abStack_654[6] = s_MAPED_FILE_v000_1000f044[6];
  abStack_654[7] = s_MAPED_FILE_v000_1000f044[7];
  acStack_648[0] = s_MAPED_FILE_v000_1000f044[0xc];
  acStack_648[1] = s_MAPED_FILE_v000_1000f044[0xd];
  acStack_648[2] = s_MAPED_FILE_v000_1000f044[0xe];
  acStack_648[3] = s_MAPED_FILE_v000_1000f044[0xf];
  uVar4 = 0xffffffff;
  pcStack_678 = acStack_520;
  pcVar9 = param_1;
  do {
    pcVar11 = pcVar9;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar11 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar11;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  uStack_4 = 0;
  pcVar9 = pcVar11 + -uVar4;
  pcVar11 = pcStack_678;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar11 = pcVar11 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar11 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar11 = pcVar11 + 1;
  }
  uVar4 = 0xffffffff;
  do {
    pcVar9 = param_1;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar9 = param_1 + 1;
    cVar1 = *param_1;
    param_1 = pcVar9;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  pcVar9 = pcVar9 + -uVar4;
  pcVar11 = acStack_318;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar11 = pcVar11 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar11 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar11 = pcVar11 + 1;
  }
  RK_CutDirectoryFromFullPath(acStack_318);
  RK_CutFilenameFromFullPath(acStack_520);
  RK_AnalyzeFilename(acStack_318,acStack_214,acStack_110);
  uVar4 = 0xffffffff;
  pcVar9 = acStack_520;
  do {
    pcVar11 = pcVar9;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar11 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar11;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  pcVar9 = pcVar11 + -uVar4;
  pcVar11 = acStack_624;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar11 = pcVar11 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar11 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar11 = pcVar11 + 1;
  }
  RK_SetLastRoot(acStack_624);
  uVar4 = 0xffffffff;
  pcVar9 = acStack_214;
  do {
    pcVar11 = pcVar9;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar11 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar11;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  iVar6 = -1;
  pcVar9 = acStack_624;
  do {
    pcVar10 = pcVar9;
    if (iVar6 == 0) break;
    iVar6 = iVar6 + -1;
    pcVar10 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar10;
  } while (cVar1 != '\0');
  pcVar9 = pcVar11 + -uVar4;
  pcVar11 = pcVar10 + -1;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar11 = pcVar11 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar11 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar11 = pcVar11 + 1;
  }
  uVar4 = 0xffffffff;
  pcVar9 = &DAT_1000f040;
  do {
    pcVar11 = pcVar9;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar11 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar11;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  iVar6 = -1;
  pcVar9 = acStack_624;
  do {
    pcVar10 = pcVar9;
    if (iVar6 == 0) break;
    iVar6 = iVar6 + -1;
    pcVar10 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar10;
  } while (cVar1 != '\0');
  pcVar9 = pcVar11 + -uVar4;
  pcVar11 = pcVar10 + -1;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar11 = pcVar11 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar11 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar11 = pcVar11 + 1;
  }
  uVar4 = 0xffffffff;
  pcVar9 = acStack_110;
  do {
    pcVar11 = pcVar9;
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar11 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar11;
  } while (cVar1 != '\0');
  uVar4 = ~uVar4;
  iVar6 = -1;
  pcVar9 = acStack_624;
  do {
    pcVar10 = pcVar9;
    if (iVar6 == 0) break;
    iVar6 = iVar6 + -1;
    pcVar10 = pcVar9 + 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar10;
  } while (cVar1 != '\0');
  pcVar9 = pcVar11 + -uVar4;
  pcVar11 = pcVar10 + -1;
  for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
    pcVar9 = pcVar9 + 4;
    pcVar11 = pcVar11 + 4;
  }
  for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pcVar11 = *pcVar9;
    pcVar9 = pcVar9 + 1;
    pcVar11 = pcVar11 + 1;
  }
  iVar6 = RKC_FILE::Create(local_680,acStack_624,0);
  if ((iVar6 != 0) && (iVar6 = RKC_FILE::Read(local_680,abStack_634,0x10), iVar6 != 0)) {
    uStack_625 = 0;
    pbVar8 = abStack_654;
    pbVar3 = abStack_634;
    do {
      bVar2 = *pbVar3;
      bVar12 = bVar2 < *pbVar8;
      if (bVar2 != *pbVar8) {
LAB_100029e9:
        iVar6 = (1 - (uint)bVar12) - (uint)(bVar12 != 0);
        goto LAB_100029ed;
      }
      if (bVar2 == 0) break;
      bVar2 = pbVar3[1];
      bVar12 = bVar2 < pbVar8[1];
      if (bVar2 != pbVar8[1]) goto LAB_100029e9;
      pbVar3 = pbVar3 + 2;
      pbVar8 = pbVar8 + 2;
    } while (bVar2 != 0);
    iVar6 = 0;
LAB_100029ed:
    if ((iVar6 == 0) && (iVar6 = RKC_FILE::Read(local_680,local_674,0x10), iVar6 != 0)) {
      RKC_FILE::Close(local_680);
      do {
        uVar4 = 0xffffffff;
        pcVar9 = acStack_520;
        do {
          pcVar11 = pcVar9;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar11 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar11;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        pcVar9 = pcVar11 + -uVar4;
        pcVar11 = acStack_624;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
          pcVar9 = pcVar9 + 4;
          pcVar11 = pcVar11 + 4;
        }
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pcVar11 = *pcVar9;
          pcVar9 = pcVar9 + 1;
          pcVar11 = pcVar11 + 1;
        }
        RK_SetLastRoot(acStack_624);
        uVar4 = 0xffffffff;
        pcVar9 = local_644[iVar7];
        do {
          pcVar11 = pcVar9;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar11 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar11;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        iVar6 = -1;
        pcVar9 = acStack_624;
        do {
          pcVar10 = pcVar9;
          if (iVar6 == 0) break;
          iVar6 = iVar6 + -1;
          pcVar10 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar10;
        } while (cVar1 != '\0');
        pcVar9 = pcVar11 + -uVar4;
        pcVar11 = pcVar10 + -1;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
          pcVar9 = pcVar9 + 4;
          pcVar11 = pcVar11 + 4;
        }
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pcVar11 = *pcVar9;
          pcVar9 = pcVar9 + 1;
          pcVar11 = pcVar11 + 1;
        }
        RK_SetLastRoot(acStack_624);
        uVar4 = 0xffffffff;
        pcVar9 = acStack_214;
        do {
          pcVar11 = pcVar9;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar11 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar11;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        iVar6 = -1;
        pcVar9 = acStack_624;
        do {
          pcVar10 = pcVar9;
          if (iVar6 == 0) break;
          iVar6 = iVar6 + -1;
          pcVar10 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar10;
        } while (cVar1 != '\0');
        pcVar9 = pcVar11 + -uVar4;
        pcVar11 = pcVar10 + -1;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
          pcVar9 = pcVar9 + 4;
          pcVar11 = pcVar11 + 4;
        }
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pcVar11 = *pcVar9;
          pcVar9 = pcVar9 + 1;
          pcVar11 = pcVar11 + 1;
        }
        uVar4 = 0xffffffff;
        pcVar9 = local_664[iVar7];
        do {
          pcVar11 = pcVar9;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar11 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar11;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        iVar6 = -1;
        pcVar9 = acStack_624;
        do {
          pcVar10 = pcVar9;
          if (iVar6 == 0) break;
          iVar6 = iVar6 + -1;
          pcVar10 = pcVar9 + 1;
          cVar1 = *pcVar9;
          pcVar9 = pcVar10;
        } while (cVar1 != '\0');
        pcVar9 = pcVar11 + -uVar4;
        pcVar11 = pcVar10 + -1;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
          pcVar9 = pcVar9 + 4;
          pcVar11 = pcVar11 + 4;
        }
        iVar6 = local_674[iVar7];
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pcVar11 = *pcVar9;
          pcVar9 = pcVar9 + 1;
          pcVar11 = pcVar11 + 1;
        }
        if (iVar6 != 0) {
          if (iVar7 == 0) {
            if ((param_6 & 8) != 0) {
              uVar4 = 0xffffffff;
              pcVar9 = acStack_520;
              do {
                pcVar11 = pcVar9;
                if (uVar4 == 0) break;
                uVar4 = uVar4 - 1;
                pcVar11 = pcVar9 + 1;
                cVar1 = *pcVar9;
                pcVar9 = pcVar11;
              } while (cVar1 != '\0');
              uVar4 = ~uVar4;
              pcVar9 = pcVar11 + -uVar4;
              pcVar11 = acStack_41c;
              for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
                *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
                pcVar9 = pcVar9 + 4;
                pcVar11 = pcVar11 + 4;
              }
              for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
                *pcVar11 = *pcVar9;
                pcVar9 = pcVar9 + 1;
                pcVar11 = pcVar11 + 1;
              }
              RK_SetLastRoot(acStack_41c);
              uVar4 = 0xffffffff;
              pcVar9 = s_Pattern_1000f090;
              do {
                pcVar11 = pcVar9;
                if (uVar4 == 0) break;
                uVar4 = uVar4 - 1;
                pcVar11 = pcVar9 + 1;
                cVar1 = *pcVar9;
                pcVar9 = pcVar11;
              } while (cVar1 != '\0');
              uVar4 = ~uVar4;
              iVar6 = -1;
              pcVar9 = acStack_41c;
              do {
                pcVar10 = pcVar9;
                if (iVar6 == 0) break;
                iVar6 = iVar6 + -1;
                pcVar10 = pcVar9 + 1;
                cVar1 = *pcVar9;
                pcVar9 = pcVar10;
              } while (cVar1 != '\0');
              pcVar9 = pcVar11 + -uVar4;
              pcVar11 = pcVar10 + -1;
              for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
                *(undefined4 *)pcVar11 = *(undefined4 *)pcVar9;
                pcVar9 = pcVar9 + 4;
                pcVar11 = pcVar11 + 4;
              }
              for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
                *pcVar11 = *pcVar9;
                pcVar9 = pcVar9 + 1;
                pcVar11 = pcVar11 + 1;
              }
              iVar6 = ReadUpdList(local_67c,acStack_41c,acStack_624,param_4,param_5);
              goto joined_r0x10002b90;
            }
          }
          else if (iVar7 == 1) {
            if (((param_6 & 2) != 0) &&
               (this_01 = GetObjectBlock(local_67c,param_3),
               this_01 != (RKC_RPGSCRN_OBJECTBLOCK *)0x0)) {
              iVar6 = RKC_RPGSCRN_OBJECTBLOCK::ReadFile
                                (this_01,acStack_624,(RKC_RPGSCRN_OBJECTDISP *)0x0,0,param_4);
              goto joined_r0x10002b90;
            }
          }
          else if (((iVar7 == 3) && ((param_6 & 1) != 0)) &&
                  (this_00 = GetGroundBlock(local_67c,param_2),
                  this_00 != (RKC_RPGSCRN_GROUNDBLOCK *)0x0)) {
            iVar6 = RKC_RPGSCRN_GROUNDBLOCK::ReadFile(this_00,acStack_624,param_4);
joined_r0x10002b90:
            if (iVar6 == 0) {
              uStack_4 = 0xffffffff;
              RKC_FILE::~RKC_FILE(local_680);
              ExceptionList = pvStack_c;
              return 0;
            }
          }
        }
        iVar7 = iVar7 + 1;
        if (3 < iVar7) {
          uStack_4 = 0xffffffff;
          RKC_FILE::~RKC_FILE(local_680);
          ExceptionList = pvStack_c;
          return 1;
        }
      } while( true );
    }
  }
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_680);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: ReadUpdList
 * Address: 10002c90
 */

/* public: int __thiscall RKC_RPGSCRN::ReadUpdList(char *,char *,long,int) */

int __thiscall
RKC_RPGSCRN::ReadUpdList(RKC_RPGSCRN *this,char *param_1,char *param_2,long param_3,int param_4)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  SIZE_T dwBytes;
  byte *hMem;
  int iVar4;
  byte *pbVar5;
  undefined3 extraout_var;
  undefined3 uVar8;
  undefined3 extraout_var_00;
  uint uVar6;
  uint uVar7;
  int iVar9;
  byte *pbVar10;
  char *pcVar11;
  char *pcVar12;
  bool bVar13;
  RKC_FILE local_120 [4];
  int iStack_11c;
  byte *pbStack_118;
  RKC_RPGSCRN *local_114;
  char acStack_110 [260];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x2c90  128  ?ReadUpdList@RKC_RPGSCRN@@QAEHPAD0JH@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000adbc;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  local_114 = this;
  RKC_FILE::RKC_FILE(local_120);
  iVar9 = 0;
  uStack_4 = 0;
  iVar3 = RKC_FILE::Create(local_120,param_2,0);
  if ((iVar3 != 0) && (dwBytes = RKC_FILE::GetSize(local_120), dwBytes != 0)) {
    hMem = (byte *)GlobalAlloc(0x40,dwBytes);
    pbStack_118 = hMem;
    iVar3 = RKC_FILE::Read(local_120,hMem,dwBytes);
    if (iVar3 != 0) {
      RKC_FILE::Close(local_120);
      iVar3 = 0;
      iStack_11c = 0;
      uVar8 = extraout_var;
      if (0 < (int)dwBytes) {
        do {
          iVar4 = RK_CheckSJIS(CONCAT31(uVar8,hMem[iVar9]));
          if (iVar4 == 1) {
            iVar9 = iVar9 + 1;
          }
          else {
            if (hMem[iVar9] == 10) {
              iVar3 = iVar3 + 1;
            }
            if (hMem[iVar9] < 0x20) {
              hMem[iVar9] = 0;
            }
          }
          iVar9 = iVar9 + 1;
          uVar8 = extraout_var_00;
        } while (iVar9 < (int)dwBytes);
        iStack_11c = iVar3;
        if (iVar3 != 0) {
          iVar9 = 0;
          if (0 < iVar3) {
            do {
              bVar2 = *hMem;
              while (bVar2 == 0) {
                pbVar5 = hMem + 1;
                hMem = hMem + 1;
                bVar2 = *pbVar5;
              }
              pbVar10 = &DAT_1000f0a4;
              pbVar5 = hMem;
              do {
                bVar2 = *pbVar5;
                bVar13 = bVar2 < *pbVar10;
                if (bVar2 != *pbVar10) {
LAB_10002dac:
                  iVar3 = (1 - (uint)bVar13) - (uint)(bVar13 != 0);
                  goto LAB_10002db1;
                }
                if (bVar2 == 0) break;
                bVar2 = pbVar5[1];
                bVar13 = bVar2 < pbVar10[1];
                if (bVar2 != pbVar10[1]) goto LAB_10002dac;
                pbVar5 = pbVar5 + 2;
                pbVar10 = pbVar10 + 2;
              } while (bVar2 != 0);
              iVar3 = 0;
LAB_10002db1:
              if (iVar3 != 0) {
                uVar6 = 0xffffffff;
                pcVar11 = param_1;
                do {
                  pcVar12 = pcVar11;
                  if (uVar6 == 0) break;
                  uVar6 = uVar6 - 1;
                  pcVar12 = pcVar11 + 1;
                  cVar1 = *pcVar11;
                  pcVar11 = pcVar12;
                } while (cVar1 != '\0');
                uVar6 = ~uVar6;
                pcVar11 = pcVar12 + -uVar6;
                pcVar12 = acStack_110;
                for (uVar7 = uVar6 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
                  *(undefined4 *)pcVar12 = *(undefined4 *)pcVar11;
                  pcVar11 = pcVar11 + 4;
                  pcVar12 = pcVar12 + 4;
                }
                for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
                  *pcVar12 = *pcVar11;
                  pcVar11 = pcVar11 + 1;
                  pcVar12 = pcVar12 + 1;
                }
                RK_SetLastRoot(acStack_110);
                uVar6 = 0xffffffff;
                pbVar5 = hMem;
                do {
                  pbVar10 = pbVar5;
                  if (uVar6 == 0) break;
                  uVar6 = uVar6 - 1;
                  pbVar10 = pbVar5 + 1;
                  bVar2 = *pbVar5;
                  pbVar5 = pbVar10;
                } while (bVar2 != 0);
                uVar6 = ~uVar6;
                iVar3 = -1;
                pcVar11 = acStack_110;
                do {
                  pcVar12 = pcVar11;
                  if (iVar3 == 0) break;
                  iVar3 = iVar3 + -1;
                  pcVar12 = pcVar11 + 1;
                  cVar1 = *pcVar11;
                  pcVar11 = pcVar12;
                } while (cVar1 != '\0');
                pbVar5 = pbVar10 + -uVar6;
                pbVar10 = (byte *)(pcVar12 + -1);
                for (uVar7 = uVar6 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
                  *(undefined4 *)pbVar10 = *(undefined4 *)pbVar5;
                  pbVar5 = pbVar5 + 4;
                  pbVar10 = pbVar10 + 4;
                }
                for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
                  *pbVar10 = *pbVar5;
                  pbVar5 = pbVar5 + 1;
                  pbVar10 = pbVar10 + 1;
                }
                iVar3 = RKC_UPDIB::ReadUpd(*(RKC_UPDIB **)local_114,iVar9 + param_3,acStack_110,0,0,
                                           param_4,1);
                if (iVar3 == 0) {
                  MessageBoxA((HWND)0x0,acStack_110,&DAT_1000f098,0);
                  hMem = pbStack_118;
                  goto LAB_10002ed1;
                }
              }
              bVar2 = *hMem;
              while (bVar2 != 0) {
                pbVar5 = hMem + 1;
                hMem = hMem + 1;
                bVar2 = *pbVar5;
              }
              iVar9 = iVar9 + 1;
            } while (iVar9 < iStack_11c);
          }
          GlobalFree(pbStack_118);
          if (param_4 == 1) {
            RKC_UPDIB::CreateTemporaryDIB(*(RKC_UPDIB **)local_114);
          }
          uStack_4 = 0xffffffff;
          RKC_FILE::~RKC_FILE(local_120);
          ExceptionList = pvStack_c;
          return 1;
        }
      }
    }
LAB_10002ed1:
    GlobalFree(hMem);
  }
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_120);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: RKC_RPGSCRN_GROUNDBLOCK
 * Address: 10002ef0
 */

/* public: __thiscall RKC_RPGSCRN_GROUNDBLOCK::RKC_RPGSCRN_GROUNDBLOCK(void) */

void __thiscall RKC_RPGSCRN_GROUNDBLOCK::RKC_RPGSCRN_GROUNDBLOCK(RKC_RPGSCRN_GROUNDBLOCK *this)

{
                    /* 0x2ef0  7  ??0RKC_RPGSCRN_GROUNDBLOCK@@QAE@XZ */
  *(undefined4 *)(this + 0x18) = 0x10;
  *(undefined4 *)(this + 0x1c) = 0x10;
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  *(undefined4 *)(this + 0x34) = 0;
  *(undefined4 *)(this + 0x38) = 0;
  *(undefined4 *)(this + 0xc) = 0x40;
  *(undefined4 *)(this + 0x10) = 0x40;
  *(undefined4 *)(this + 0x20) = 0;
  *(undefined4 *)(this + 0x24) = 0;
  *(undefined4 *)(this + 0x28) = 0;
  *(undefined4 *)(this + 0x2c) = 0;
  *(undefined4 *)(this + 0x30) = 0;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_GROUNDBLOCK
 * Address: 10002f30
 */

/* public: __thiscall RKC_RPGSCRN_GROUNDBLOCK::~RKC_RPGSCRN_GROUNDBLOCK(void) */

void __thiscall RKC_RPGSCRN_GROUNDBLOCK::~RKC_RPGSCRN_GROUNDBLOCK(RKC_RPGSCRN_GROUNDBLOCK *this)

{
                    /* 0x2f30  19  ??1RKC_RPGSCRN_GROUNDBLOCK@@QAE@XZ */
  ReleaseMap(this);
  ReleaseJudge(this);
  return;
}



/*
 * Function: Release
 * Address: 10002f40
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::Release(void) */

void __thiscall RKC_RPGSCRN_GROUNDBLOCK::Release(RKC_RPGSCRN_GROUNDBLOCK *this)

{
                    /* 0x2f40  134  ?Release@RKC_RPGSCRN_GROUNDBLOCK@@QAEXXZ */
  ReleaseMap(this);
  ReleaseJudge(this);
  return;
}



/*
 * Function: ReleaseMap
 * Address: 10002f60
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::ReleaseMap(void) */

void __thiscall RKC_RPGSCRN_GROUNDBLOCK::ReleaseMap(RKC_RPGSCRN_GROUNDBLOCK *this)

{
  int iVar1;
  
                    /* 0x2f60  139  ?ReleaseMap@RKC_RPGSCRN_GROUNDBLOCK@@QAEXXZ */
  if (*(int *)(this + 0x14) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 8)) {
      do {
        GlobalFree(*(HGLOBAL *)(*(int *)(this + 0x14) + iVar1 * 4));
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 8));
    }
    GlobalFree(*(HGLOBAL *)(this + 0x14));
    *(undefined4 *)(this + 4) = 0;
    *(undefined4 *)(this + 8) = 0;
    *(undefined4 *)(this + 0x14) = 0;
  }
  return;
}



/*
 * Function: ReleaseJudge
 * Address: 10002fb0
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::ReleaseJudge(void) */

void __thiscall RKC_RPGSCRN_GROUNDBLOCK::ReleaseJudge(RKC_RPGSCRN_GROUNDBLOCK *this)

{
  int iVar1;
  
                    /* 0x2fb0  138  ?ReleaseJudge@RKC_RPGSCRN_GROUNDBLOCK@@QAEXXZ */
  if (*(int *)(this + 0x30) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0x24)) {
      do {
        GlobalFree(*(HGLOBAL *)(*(int *)(this + 0x30) + iVar1 * 4));
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 0x24));
    }
    GlobalFree(*(HGLOBAL *)(this + 0x30));
    *(undefined4 *)(this + 0x20) = 0;
    *(undefined4 *)(this + 0x24) = 0;
    *(undefined4 *)(this + 0x28) = 0;
    *(undefined4 *)(this + 0x2c) = 0;
    *(undefined4 *)(this + 0x30) = 0;
  }
  return;
}



/*
 * Function: SetAreaSize
 * Address: 10003000
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetAreaSize(long,long) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::SetAreaSize(RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2)

{
  int *piVar1;
  HGLOBAL pvVar2;
  int iVar3;
  int iVar4;
  long lVar5;
  uint uVar6;
  int iVar7;
  int *piVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  long lStack_1c;
  long lStack_10;
  long lStack_c;
  long lStack_8;
  long lStack_4;
  
                    /* 0x3000  143  ?SetAreaSize@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJJ@Z */
  if ((*(int *)(this + 4) != param_1) || (*(int *)(this + 8) != param_2)) {
    if ((param_1 != 0) && (param_2 != 0)) {
      piVar1 = (int *)GlobalAlloc(0x40,param_2 * 4);
      if (0 < param_2) {
        lStack_1c = param_2;
        piVar8 = piVar1;
        do {
          pvVar2 = GlobalAlloc(0x40,param_1 * 6);
          *piVar8 = (int)pvVar2;
          if (0 < param_1) {
            iVar3 = 0;
            lVar5 = param_1;
            do {
              iVar3 = iVar3 + 6;
              lVar5 = lVar5 + -1;
              *(undefined2 *)(*piVar8 + -4 + iVar3) = 0xffff;
            } while (lVar5 != 0);
          }
          piVar8 = piVar8 + 1;
          lStack_1c = lStack_1c + -1;
        } while (lStack_1c != 0);
      }
      if (*(int *)(this + 0x14) != 0) {
        iVar3 = *(int *)(this + 4);
        if (param_1 < *(int *)(this + 4)) {
          iVar3 = param_1;
        }
        iVar7 = *(int *)(this + 8);
        if (param_2 < *(int *)(this + 8)) {
          iVar7 = param_2;
        }
        iVar4 = 0;
        if (0 < iVar7) {
          do {
            puVar9 = *(undefined4 **)(*(int *)(this + 0x14) + iVar4 * 4);
            puVar10 = (undefined4 *)piVar1[iVar4];
            for (uVar6 = (uint)(iVar3 * 6) >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
              *puVar10 = *puVar9;
              puVar9 = puVar9 + 1;
              puVar10 = puVar10 + 1;
            }
            iVar4 = iVar4 + 1;
            for (uVar6 = iVar3 * 6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
              *(undefined *)puVar10 = *(undefined *)puVar9;
              puVar9 = (undefined4 *)((int)puVar9 + 1);
              puVar10 = (undefined4 *)((int)puVar10 + 1);
            }
          } while (iVar4 < iVar7);
        }
        ReleaseMap(this);
      }
      *(int **)(this + 0x14) = piVar1;
      *(long *)(this + 4) = param_1;
      *(long *)(this + 8) = param_2;
      CalcAreaJudgeFromMap(this,&lStack_4,&lStack_8,&lStack_c,&lStack_10);
      SetAreaJudgeSize(this,lStack_4,lStack_8,lStack_c,lStack_10);
      return;
    }
    ReleaseMap(this);
  }
  return;
}



/*
 * Function: SetAreaJudgeSize
 * Address: 10003150
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetAreaJudgeSize(long,long,long,long) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::SetAreaJudgeSize
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,long param_3,long param_4)

{
  undefined4 *puVar1;
  HGLOBAL pvVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  int iStack_18;
  int iStack_14;
  
                    /* 0x3150  142  ?SetAreaJudgeSize@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJJJJ@Z */
  if ((((*(int *)(this + 0x20) != param_1) || (*(int *)(this + 0x24) != param_2)) ||
      (*(int *)(this + 0x28) != param_3)) || (*(int *)(this + 0x2c) != param_4)) {
    if ((param_1 != 0) && (param_2 != 0)) {
      puVar1 = (undefined4 *)GlobalAlloc(0x40,param_2 * 4);
      iVar4 = param_2;
      puVar6 = puVar1;
      if (0 < param_2) {
        do {
          pvVar2 = GlobalAlloc(0x40,param_1 * 2);
          *puVar6 = pvVar2;
          iVar4 = iVar4 + -1;
          puVar6 = puVar6 + 1;
        } while (iVar4 != 0);
      }
      if (*(int *)(this + 0x30) != 0) {
        iVar4 = *(int *)(this + 0x2c);
        if (iVar4 < iVar4 + *(int *)(this + 0x24)) {
          iStack_14 = iVar4 * 4;
          do {
            iVar3 = *(int *)(this + 0x28);
            if (iVar3 < iVar3 + *(int *)(this + 0x20)) {
              iStack_18 = iVar3 * 2;
              iVar5 = iVar3;
              do {
                if (((-1 < iVar3 - param_3) && (iVar3 - param_3 < param_1)) &&
                   ((-1 < iVar4 - param_4 && (iVar4 - param_4 < param_2)))) {
                  *(undefined2 *)
                   (*(int *)(iStack_14 + param_4 * -4 + (int)puVar1) + iStack_18 + param_3 * -2) =
                       *(undefined2 *)
                        (*(int *)(*(int *)(this + 0x30) + (iVar4 - *(int *)(this + 0x2c)) * 4) +
                        (iVar3 - iVar5) * 2);
                }
                iStack_18 = iStack_18 + 2;
                iVar3 = iVar3 + 1;
                iVar5 = *(int *)(this + 0x28);
              } while (iVar3 < iVar5 + *(int *)(this + 0x20));
            }
            iVar4 = iVar4 + 1;
            iStack_14 = iStack_14 + 4;
          } while (iVar4 < *(int *)(this + 0x24) + *(int *)(this + 0x2c));
        }
        ReleaseJudge(this);
      }
      *(long *)(this + 0x20) = param_1;
      *(long *)(this + 0x24) = param_2;
      *(long *)(this + 0x28) = param_3;
      *(long *)(this + 0x2c) = param_4;
      *(undefined4 **)(this + 0x30) = puVar1;
      return;
    }
    ReleaseJudge(this);
  }
  return;
}



/*
 * Function: GetAreaSize
 * Address: 10003300
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetAreaSize(long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetAreaSize(RKC_RPGSCRN_GROUNDBLOCK *this,long *param_1,long *param_2)

{
                    /* 0x3300  63  ?GetAreaSize@RKC_RPGSCRN_GROUNDBLOCK@@QAEXPAJ0@Z */
  *param_1 = *(long *)(this + 4);
  *param_2 = *(long *)(this + 8);
  return;
}



/*
 * Function: GetAreaJudgeSize
 * Address: 10003320
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudgeSize(long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudgeSize(RKC_RPGSCRN_GROUNDBLOCK *this,long *param_1,long *param_2)

{
                    /* 0x3320  62  ?GetAreaJudgeSize@RKC_RPGSCRN_GROUNDBLOCK@@QAEXPAJ0@Z */
  *param_1 = *(long *)(this + 0x20);
  *param_2 = *(long *)(this + 0x24);
  return;
}



/*
 * Function: GetArea
 * Address: 10003340
 */

/* public: struct RKC_RPGSCRN_GROUNDCELL * * __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetArea(void) */

RKC_RPGSCRN_GROUNDCELL ** __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetArea(RKC_RPGSCRN_GROUNDBLOCK *this)

{
                    /* 0x3340  60
                       ?GetArea@RKC_RPGSCRN_GROUNDBLOCK@@QAEPAPAURKC_RPGSCRN_GROUNDCELL@@XZ
                       0x3340  102  ?GetPatternNo@RKC_RPGSCRN_OBJECT@@QAEJXZ */
  return *(RKC_RPGSCRN_GROUNDCELL ***)(this + 0x14);
}



/*
 * Function: GetAreaJudge
 * Address: 10003350
 */

/* public: short * * __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudge(void) */

short ** __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetAreaJudge(RKC_RPGSCRN_GROUNDBLOCK *this)

{
                    /* 0x3350  61  ?GetAreaJudge@RKC_RPGSCRN_GROUNDBLOCK@@QAEPAPAFXZ */
  return *(short ***)(this + 0x30);
}



/*
 * Function: Set
 * Address: 10003360
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::Set(long,long,short,short,short) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::Set
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,short param_3,short param_4,
          short param_5)

{
  int iVar1;
  
                    /* 0x3360  140  ?Set@RKC_RPGSCRN_GROUNDBLOCK@@QAEHJJFFF@Z */
  if (param_1 < 0) {
    return 0;
  }
  if (*(int *)(this + 4) <= param_1) {
    return 0;
  }
  if (param_2 < 0) {
    return 0;
  }
  if (*(int *)(this + 8) <= param_2) {
    return 0;
  }
  iVar1 = param_1 * 6;
  *(short *)(*(int *)(*(int *)(this + 0x14) + param_2 * 4) + 2 + iVar1) = param_3;
  *(short *)(*(int *)(*(int *)(this + 0x14) + param_2 * 4) + 4 + iVar1) = param_4;
  *(short *)(*(int *)(*(int *)(this + 0x14) + param_2 * 4) + iVar1) = param_5;
  return 1;
}



/*
 * Function: SetJudge
 * Address: 100033e0
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetJudge(long,long,short) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::SetJudge
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,short param_3)

{
                    /* 0x33e0  155  ?SetJudge@RKC_RPGSCRN_GROUNDBLOCK@@QAEHJJF@Z */
  if (param_1 < 0) {
    return 0;
  }
  if (*(int *)(this + 0x20) <= param_1) {
    return 0;
  }
  if (param_2 < 0) {
    return 0;
  }
  if (*(int *)(this + 0x24) <= param_2) {
    return 0;
  }
  *(short *)(*(int *)(*(int *)(this + 0x30) + param_2 * 4) + param_1 * 2) = param_3;
  return 1;
}



/*
 * Function: Get
 * Address: 10003430
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::Get(long,long,short *,short *,short *) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::Get
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,short *param_3,short *param_4,
          short *param_5)

{
  int iVar1;
  
                    /* 0x3430  56  ?Get@RKC_RPGSCRN_GROUNDBLOCK@@QAEHJJPAF00@Z */
  if (param_1 < 0) {
    return 0;
  }
  if (*(int *)(this + 4) <= param_1) {
    return 0;
  }
  if (param_2 < 0) {
    return 0;
  }
  if (*(int *)(this + 8) <= param_2) {
    return 0;
  }
  iVar1 = param_1 * 6;
  *param_3 = *(short *)(*(int *)(*(int *)(this + 0x14) + param_2 * 4) + 2 + iVar1);
  *param_4 = *(short *)(*(int *)(*(int *)(this + 0x14) + param_2 * 4) + 4 + iVar1);
  *param_5 = *(short *)(*(int *)(*(int *)(this + 0x14) + param_2 * 4) + iVar1);
  return 1;
}



/*
 * Function: GetJudge
 * Address: 100034b0
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetJudge(long,long,short *) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetJudge
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,short *param_3)

{
                    /* 0x34b0  86  ?GetJudge@RKC_RPGSCRN_GROUNDBLOCK@@QAEHJJPAF@Z */
  if (param_1 < 0) {
    return 0;
  }
  if (*(int *)(this + 4) <= param_1) {
    return 0;
  }
  if (param_2 < 0) {
    return 0;
  }
  if (*(int *)(this + 8) <= param_2) {
    return 0;
  }
  *param_3 = *(short *)(*(int *)(*(int *)(this + 0x30) + param_2 * 4) + param_1 * 2);
  return 1;
}



/*
 * Function: CalcGroundPos
 * Address: 10003500
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::CalcGroundPos(long,long,long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::CalcGroundPos
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,long *param_3,long *param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int local_8;
  int local_4;
  
                    /* 0x3500  36  ?CalcGroundPos@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJJPAJ0@Z */
  GetBaseParam(this,&local_4,&local_8);
  iVar1 = local_4 * param_2 + local_8 * param_1;
  iVar2 = local_4 * param_2 - local_8 * param_1;
  iVar4 = local_4 * local_8 * 2;
  iVar3 = iVar1 + 1;
  if (-1 < iVar1) {
    iVar3 = iVar1;
  }
  *param_3 = iVar3 / iVar4;
  iVar3 = iVar2 + 1;
  if (-1 < iVar2) {
    iVar3 = iVar2;
  }
  *param_4 = iVar3 / iVar4;
  if (iVar1 < 0) {
    *param_3 = *param_3 + -1;
  }
  if (iVar2 < 0) {
    *param_4 = *param_4 + -1;
  }
  return;
}



/*
 * Function: CalcRealPos
 * Address: 10003580
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::CalcRealPos(long,long,long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::CalcRealPos
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,long *param_3,long *param_4)

{
  int local_8;
  int local_4;
  
                    /* 0x3580  38  ?CalcRealPos@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJJPAJ0@Z */
  GetBaseParam(this,&local_8,&local_4);
  *param_3 = (param_1 - param_2) * local_8;
  *param_4 = (param_1 + param_2) * local_4;
  return;
}



/*
 * Function: SetPacket
 * Address: 100035c0
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetPacket(long,long,struct tagRECT
   *,long,long,struct tagRECT *) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::SetPacket
          (RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2,tagRECT *param_3,long param_4,
          long param_5,tagRECT *param_6)

{
  RKC_UPDIB *this_00;
  int iVar1;
  int iVar2;
  int iVar3;
  RKC_UPDIB_VSBLOCK *this_01;
  RKC_UPDIB_VS *this_02;
  RKC_UPDIB_UPD *this_03;
  RKC_UPDIB_PATTERN *this_04;
  tagRECT *ptVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iStack_10;
  int iStack_8;
  int iStack_4;
  
                    /* 0x35c0  162  ?SetPacket@RKC_RPGSCRN_GROUNDBLOCK@@QAEHJJPAUtagRECT@@JJ0@Z */
  if (*(undefined4 **)this == (undefined4 *)0x0) {
    return 0;
  }
  this_00 = (RKC_UPDIB *)**(undefined4 **)this;
  if (this_00 == (RKC_UPDIB *)0x0) {
    return 0;
  }
  this_01 = RKC_UPDIB::GetVSBlock(this_00,param_1);
  if (this_01 == (RKC_UPDIB_VSBLOCK *)0x0) {
    return 0;
  }
  this_02 = RKC_UPDIB_VSBLOCK::GetVScreen(this_01,param_2);
  if (this_02 == (RKC_UPDIB_VS *)0x0) {
    return 0;
  }
  if (*(int *)param_3 < 0) {
    iStack_10 = 0;
  }
  else {
    iStack_10 = *(int *)param_3 / *(int *)(this + 0xc);
  }
  if (*(int *)(param_3 + 4) < 0) {
    ptVar4 = (tagRECT *)0x0;
  }
  else {
    ptVar4 = (tagRECT *)(*(int *)(param_3 + 4) / *(int *)(this + 0x10));
  }
  if (*(int *)(param_3 + 8) < 0) {
    iStack_8 = 0;
  }
  else {
    iStack_8 = *(int *)(param_3 + 8) / *(int *)(this + 0xc);
  }
  if (*(int *)(param_3 + 0xc) < 0) {
    iStack_4 = 0;
  }
  else {
    iStack_4 = *(int *)(param_3 + 0xc) / *(int *)(this + 0x10);
  }
  iVar5 = *(int *)(this + 4);
  if (iVar5 <= iStack_10) {
    iStack_10 = iVar5 + -1;
  }
  if (iVar5 <= iStack_8) {
    iStack_8 = iVar5 + -1;
  }
  iVar5 = *(int *)(this + 8);
  if (iVar5 <= (int)ptVar4) {
    ptVar4 = (tagRECT *)(iVar5 + -1);
  }
  if (iVar5 <= iStack_4) {
    iStack_4 = iVar5 + -1;
  }
  if (iStack_10 < 0) {
    return 0;
  }
  if ((int)ptVar4 < 0) {
    return 0;
  }
  if (iStack_8 < 0) {
    return 0;
  }
  if (iStack_4 < 0) {
    return 0;
  }
  if ((int)ptVar4 <= iStack_4) {
    param_1 = (int)ptVar4 << 2;
    param_3 = ptVar4;
    do {
      if (iStack_10 <= iStack_8) {
        iVar6 = iStack_10 * 6;
        iVar5 = iStack_10;
        do {
          if (-1 < *(short *)(*(int *)(param_1 + *(int *)(this + 0x14)) + 2 + iVar6)) {
            iVar8 = *(int *)(this + 0x10) * (int)param_3;
            iVar7 = *(int *)(this + 0xc) * iVar5;
            if (((param_6 != (tagRECT *)0x0) &&
                (this_03 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,
                                             (int)*(short *)(*(int *)(param_1 +
                                                                     *(int *)(this + 0x14)) + 2 +
                                                            iVar6)), this_03 != (RKC_UPDIB_UPD *)0x0
                )) && (this_04 = RKC_UPDIB_UPD::GetPattern
                                           (this_03,(int)*(short *)(*(int *)(param_1 +
                                                                            *(int *)(this + 0x14)) +
                                                                    4 + iVar6)),
                      this_04 != (RKC_UPDIB_PATTERN *)0x0)) {
              ptVar4 = RKC_UPDIB_PATTERN::GetBuildRect(this_04);
              iVar1 = *(int *)ptVar4;
              ptVar4 = RKC_UPDIB_PATTERN::GetBuildRect(this_04);
              iVar2 = *(int *)(ptVar4 + 4);
              ptVar4 = RKC_UPDIB_PATTERN::GetBuildRect(this_04);
              iVar3 = *(int *)(ptVar4 + 8);
              ptVar4 = RKC_UPDIB_PATTERN::GetBuildRect(this_04);
              if (((*(int *)(param_6 + 8) < iVar1 + (iVar7 - param_4)) ||
                  ((iVar3 - param_4) + iVar7 < *(int *)param_6)) ||
                 ((*(int *)(param_6 + 0xc) < (iVar2 - param_5) + iVar8 ||
                  ((*(int *)(ptVar4 + 0xc) - param_5) + iVar8 < *(int *)(param_6 + 4)))))
              goto LAB_1000387e;
            }
            RKC_UPDIB_VS::SetPacket
                      (this_02,0,
                       (int)*(short *)(*(int *)(param_1 + *(int *)(this + 0x14)) + iVar6 + 2),
                       (int)*(short *)(*(int *)(param_1 + *(int *)(this + 0x14)) + 4 + iVar6),-1,1,
                       iVar7 - param_4,iVar8 - param_5,1000,1000,1000,1000,0,1000,1000,1000,
                       (tagRECT *)0x0,(RKC_DIB *)0x0);
          }
LAB_1000387e:
          iVar5 = iVar5 + 1;
          iVar6 = iVar6 + 6;
        } while (iVar5 <= iStack_8);
      }
      param_3 = param_3 + 1;
      param_1 = param_1 + 4;
    } while ((int)param_3 <= iStack_4);
  }
  return 1;
}



/*
 * Function: GetGroundRect
 * Address: 100038d0
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetGroundRect(struct tagRECT *,struct
   RKC_RPGSCRN_RECT *,int,int) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetGroundRect
          (RKC_RPGSCRN_GROUNDBLOCK *this,tagRECT *param_1,RKC_RPGSCRN_RECT *param_2,int param_3,
          int param_4)

{
  long lVar1;
  long lVar2;
  long lVar3;
  long lVar4;
  tagRECT *ptVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int *piVar10;
  long local_28;
  long local_24;
  tagRECT *local_20;
  int local_1c;
  int local_18 [2];
  tagRECT *local_10;
  int local_c;
  int local_8;
  int local_4;
  
                    /* 0x38d0  83
                       ?GetGroundRect@RKC_RPGSCRN_GROUNDBLOCK@@QAEHPAUtagRECT@@PAURKC_RPGSCRN_RECT@@HH@Z
                        */
  GetBaseParam(this,&local_24,&local_28);
  if (param_4 == 1) {
    lVar1 = *(long *)param_1;
    lVar2 = *(long *)(param_1 + 4);
    lVar3 = *(long *)(param_1 + 8);
    lVar4 = *(long *)(param_1 + 0xc);
    CalcGroundPos(this,lVar1,lVar2,(long *)&local_20,&local_1c);
    CalcGroundPos(this,lVar3,lVar2,local_18,local_18 + 1);
    CalcGroundPos(this,lVar1,lVar4,(long *)&local_10,&local_c);
    CalcGroundPos(this,lVar3,lVar4,&local_8,&local_4);
  }
  else {
    local_20 = (tagRECT *)(*(int *)param_1 / *(int *)(this + 0x18));
    local_1c = *(int *)(param_1 + 4) / *(int *)(this + 0x1c);
    local_10 = local_20;
    local_18[0] = *(int *)(param_1 + 8) / *(int *)(this + 0x18);
    local_c = *(int *)(param_1 + 0xc) / *(int *)(this + 0x1c);
    local_18[1] = local_1c;
    local_8 = local_18[0];
    local_4 = local_c;
  }
  piVar10 = local_18 + 1;
  local_28 = 3;
  param_1 = local_20;
  param_4 = local_1c;
  do {
    ptVar5 = (tagRECT *)piVar10[-1];
    if ((int)ptVar5 < (int)local_20) {
      local_20 = ptVar5;
    }
    iVar9 = *piVar10;
    if (iVar9 < local_1c) {
      local_1c = iVar9;
    }
    if ((int)param_1 < (int)ptVar5) {
      param_1 = ptVar5;
    }
    if (param_4 < iVar9) {
      param_4 = iVar9;
    }
    piVar10 = piVar10 + 2;
    local_28 = local_28 + -1;
  } while (local_28 != 0);
  local_20 = local_20 + -1;
  local_1c = local_1c + -1;
  param_1 = param_1 + 1;
  iVar9 = param_4 + 1;
  if (param_3 == 1) {
    ptVar5 = *(tagRECT **)(this + 0x28);
    iVar6 = *(int *)(this + 0x20);
    if (iVar6 <= (int)local_20 - (int)ptVar5) {
      local_20 = ptVar5 + iVar6 + -1;
    }
    iVar7 = *(int *)(this + 0x2c);
    iVar8 = *(int *)(this + 0x24);
    if (iVar8 <= local_1c - iVar7) {
      local_1c = iVar8 + -1 + iVar7;
    }
    if (iVar6 <= (int)param_1 - (int)ptVar5) {
      param_1 = ptVar5 + iVar6 + -1;
    }
    if (iVar8 <= iVar9 - iVar7) {
      iVar9 = iVar8 + -1 + iVar7;
    }
    if ((int)local_20 - (int)ptVar5 < 0) {
      local_20 = ptVar5;
    }
    if (local_1c - iVar7 < 0) {
      local_1c = iVar7;
    }
    if ((int)param_1 - (int)ptVar5 < 0) {
      param_1 = ptVar5;
    }
    if (iVar9 - iVar7 < 0) {
      iVar9 = iVar7;
    }
  }
  *(int *)(param_2 + 4) = local_1c;
  *(tagRECT **)param_2 = local_20;
  *(tagRECT **)(param_2 + 8) = param_1;
  *(int *)(param_2 + 0xc) = iVar9;
  return 1;
}



/*
 * Function: Copy
 * Address: 10003aa0
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::Copy(class RKC_RPGSCRN_GROUNDBLOCK *) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::Copy(RKC_RPGSCRN_GROUNDBLOCK *this,RKC_RPGSCRN_GROUNDBLOCK *param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
                    /* 0x3aa0  43  ?Copy@RKC_RPGSCRN_GROUNDBLOCK@@QAEHPAV1@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  SetChipHeight(this,*(long *)(param_1 + 0x10));
  RKC_RPGSCRN_OBJECT::SetCharacterNo((RKC_RPGSCRN_OBJECT *)this,*(long *)(param_1 + 0xc));
  SetBaseMag(this,*(long *)(param_1 + 0x18),*(long *)(param_1 + 0x1c));
  SetAreaSize(this,*(long *)(param_1 + 4),*(long *)(param_1 + 8));
  iVar2 = 0;
  if (0 < *(int *)(this + 8)) {
    do {
      iVar1 = *(int *)(this + 4);
      puVar4 = *(undefined4 **)(*(int *)(param_1 + 0x14) + iVar2 * 4);
      puVar5 = *(undefined4 **)(*(int *)(this + 0x14) + iVar2 * 4);
      for (uVar3 = (uint)(iVar1 * 6) >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
        *puVar5 = *puVar4;
        puVar4 = puVar4 + 1;
        puVar5 = puVar5 + 1;
      }
      iVar2 = iVar2 + 1;
      for (uVar3 = iVar1 * 6 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
        *(undefined *)puVar5 = *(undefined *)puVar4;
        puVar4 = (undefined4 *)((int)puVar4 + 1);
        puVar5 = (undefined4 *)((int)puVar5 + 1);
      }
    } while (iVar2 < *(int *)(this + 8));
  }
  iVar2 = 0;
  if (0 < *(int *)(this + 0x24)) {
    do {
      iVar1 = *(int *)(this + 0x20);
      puVar4 = *(undefined4 **)(*(int *)(param_1 + 0x30) + iVar2 * 4);
      puVar5 = *(undefined4 **)(*(int *)(this + 0x30) + iVar2 * 4);
      for (uVar3 = (uint)(iVar1 << 1) >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
        *puVar5 = *puVar4;
        puVar4 = puVar4 + 1;
        puVar5 = puVar5 + 1;
      }
      iVar2 = iVar2 + 1;
      for (uVar3 = iVar1 << 1 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
        *(undefined *)puVar5 = *(undefined *)puVar4;
        puVar4 = (undefined4 *)((int)puVar4 + 1);
        puVar5 = (undefined4 *)((int)puVar5 + 1);
      }
    } while (iVar2 < *(int *)(this + 0x24));
  }
  return 1;
}



/*
 * Function: WriteFile
 * Address: 10003b50
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::WriteFile(char *) */

int __thiscall RKC_RPGSCRN_GROUNDBLOCK::WriteFile(RKC_RPGSCRN_GROUNDBLOCK *this,char *param_1)

{
  RKC_RPGSCRN_GROUNDBLOCK *pRVar1;
  RKC_RPGSCRN_GROUNDBLOCK *pRVar2;
  int iVar3;
  char *pcVar4;
  char *pcVar5;
  undefined4 uVar6;
  void *pvVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  int iVar11;
  code *pcVar12;
  int iVar13;
  char *pcVar14;
  undefined *puVar15;
  undefined uStack_41;
  RKC_FILE local_40 [4];
  RKC_MEMORY aRStack_3c [8];
  RKC_MEMORY aRStack_34 [8];
  char local_2c [4];
  char local_28 [4];
  char local_24 [4];
  char local_20 [3];
  undefined uStack_1d;
  undefined auStack_1c [12];
  int iStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  int iStack_4;
  
                    /* 0x3b50  184  ?WriteFile@RKC_RPGSCRN_GROUNDBLOCK@@QAEHPAD@Z */
  iStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000adeb;
  pvStack_c = ExceptionList;
  local_2c = (char  [4])s_RPGSCRN_GNDv000_1000f0a8._0_4_;
  local_28 = (char  [4])s_RPGSCRN_GNDv000_1000f0a8._4_4_;
  local_24 = (char  [4])s_RPGSCRN_GNDv000_1000f0a8._8_4_;
  _local_20 = s_RPGSCRN_GNDv000_1000f0a8._12_4_;
  ExceptionList = &pvStack_c;
  RKC_FILE::RKC_FILE(local_40);
  iStack_4 = 0;
  RKC_MEMORY::RKC_MEMORY(aRStack_3c);
  iStack_4._0_1_ = 1;
  RKC_MEMORY::RKC_MEMORY(aRStack_34);
  iStack_4._0_1_ = 2;
  iVar3 = RKC_FILE::Create(local_40,param_1,1);
  if (iVar3 == 0) {
    iStack_4._0_1_ = 1;
    RKC_MEMORY::~RKC_MEMORY(aRStack_34);
    iStack_4 = (uint)iStack_4._1_3_ << 8;
    RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
    iStack_4 = 0xffffffff;
    RKC_FILE::~RKC_FILE(local_40);
    iVar3 = 0;
  }
  else {
    _local_20 = CONCAT13(0x1a,local_20);
    iVar3 = RKC_FILE::Write(local_40,local_2c,0x10);
    if (iVar3 == 0) {
      iStack_4._0_1_ = 1;
      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
      iStack_4 = (uint)iStack_4._1_3_ << 8;
      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
      iStack_4 = 0xffffffff;
      RKC_FILE::~RKC_FILE(local_40);
      iVar3 = 0;
    }
    else {
      pRVar1 = this + 4;
      iVar3 = RKC_FILE::Write(local_40,pRVar1,4);
      if (iVar3 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_34);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_40);
        iVar3 = 0;
      }
      else {
        pRVar2 = this + 8;
        iVar3 = RKC_FILE::Write(local_40,pRVar2,4);
        if (iVar3 == 0) {
          iStack_4._0_1_ = 1;
          RKC_MEMORY::~RKC_MEMORY(aRStack_34);
          iStack_4 = (uint)iStack_4._1_3_ << 8;
          RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
          iStack_4 = 0xffffffff;
          RKC_FILE::~RKC_FILE(local_40);
          iVar3 = 0;
        }
        else {
          iVar3 = RKC_FILE::Write(local_40,this + 0xc,4);
          if (iVar3 == 0) {
            iStack_4._0_1_ = 1;
            RKC_MEMORY::~RKC_MEMORY(aRStack_34);
            iStack_4 = (uint)iStack_4._1_3_ << 8;
            RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
            iStack_4 = 0xffffffff;
            RKC_FILE::~RKC_FILE(local_40);
            iVar3 = 0;
          }
          else {
            iVar3 = RKC_FILE::Write(local_40,this + 0x10,4);
            if (iVar3 == 0) {
              iStack_4._0_1_ = 1;
              RKC_MEMORY::~RKC_MEMORY(aRStack_34);
              iStack_4 = (uint)iStack_4._1_3_ << 8;
              RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
              iStack_4 = 0xffffffff;
              RKC_FILE::~RKC_FILE(local_40);
              iVar3 = 0;
            }
            else {
              iVar3 = RKC_FILE::Write(local_40,this + 0x18,4);
              if (iVar3 == 0) {
                iStack_4._0_1_ = 1;
                RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                iStack_4 = (uint)iStack_4._1_3_ << 8;
                RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                iStack_4 = 0xffffffff;
                RKC_FILE::~RKC_FILE(local_40);
                iVar3 = 0;
              }
              else {
                iVar3 = RKC_FILE::Write(local_40,this + 0x1c,4);
                if (iVar3 == 0) {
                  iStack_4._0_1_ = 1;
                  RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                  iStack_4 = (uint)iStack_4._1_3_ << 8;
                  RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                  iStack_4 = 0xffffffff;
                  RKC_FILE::~RKC_FILE(local_40);
                  iVar3 = 0;
                }
                else {
                  iVar3 = *(int *)pRVar1 * *(int *)pRVar2 * 6;
                  RKC_MEMORY::Allocation(aRStack_3c,iVar3,1);
                  RKC_MEMORY::Allocation(aRStack_34,iVar3,1);
                  pcVar4 = RKC_MEMORY::Get(aRStack_3c);
                  iVar13 = 0;
                  if (0 < *(int *)pRVar2) {
                    do {
                      iVar8 = 0;
                      if (0 < *(int *)pRVar1) {
                        iVar11 = 0;
                        pcVar5 = pcVar4;
                        do {
                          pcVar4 = pcVar5 + 2;
                          iVar8 = iVar8 + 1;
                          iVar11 = iVar11 + 6;
                          *(undefined2 *)pcVar5 =
                               *(undefined2 *)
                                (*(int *)(*(int *)(this + 0x14) + iVar13 * 4) + -6 + iVar11);
                          pcVar5 = pcVar4;
                        } while (iVar8 < *(int *)pRVar1);
                      }
                      iVar13 = iVar13 + 1;
                    } while (iVar13 < *(int *)(this + 8));
                  }
                  iVar13 = 0;
                  if (0 < *(int *)(this + 8)) {
                    do {
                      iVar8 = 0;
                      if (0 < *(int *)pRVar1) {
                        iVar11 = 0;
                        pcVar5 = pcVar4;
                        do {
                          pcVar4 = pcVar5 + 2;
                          iVar8 = iVar8 + 1;
                          iVar11 = iVar11 + 6;
                          *(undefined2 *)pcVar5 =
                               *(undefined2 *)
                                (*(int *)(*(int *)(this + 0x14) + iVar13 * 4) + -4 + iVar11);
                          pcVar5 = pcVar4;
                        } while (iVar8 < *(int *)pRVar1);
                      }
                      iVar13 = iVar13 + 1;
                    } while (iVar13 < *(int *)(this + 8));
                  }
                  iVar13 = 0;
                  if (0 < *(int *)(this + 8)) {
                    do {
                      iVar8 = 0;
                      if (0 < *(int *)pRVar1) {
                        iVar11 = 0;
                        pcVar5 = pcVar4;
                        do {
                          pcVar4 = pcVar5 + 2;
                          iVar8 = iVar8 + 1;
                          iVar11 = iVar11 + 6;
                          *(undefined2 *)pcVar5 =
                               *(undefined2 *)
                                (*(int *)(*(int *)(this + 0x14) + iVar13 * 4) + -2 + iVar11);
                          pcVar5 = pcVar4;
                        } while (iVar8 < *(int *)pRVar1);
                      }
                      iVar13 = iVar13 + 1;
                    } while (iVar13 < *(int *)(this + 8));
                  }
                  pcVar12 = Get_exref;
                  puVar15 = auStack_1c;
                  iVar8 = iVar3;
                  pcVar4 = RKC_MEMORY::Get(aRStack_34);
                  iVar13 = iVar3;
                  pcVar5 = RKC_MEMORY::Get(aRStack_3c);
                  iVar13 = RK_LzEncodeMemoryToMemory(pcVar5,iVar13,pcVar4,iVar8,puVar15);
                  if (iVar13 == 1) {
                    uStack_41 = 1;
                    iVar3 = RKC_FILE::Write(local_40,&uStack_41,1);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                    iVar3 = iStack_10 + 0x10;
                    pcVar4 = RKC_MEMORY::Get(aRStack_34);
                    iVar3 = RKC_FILE::Write(local_40,pcVar4,iVar3);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                  }
                  else {
                    uStack_41 = 0;
                    iVar13 = RKC_FILE::Write(local_40,&uStack_41,1);
                    if (iVar13 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                    pcVar4 = RKC_MEMORY::Get(aRStack_3c);
                    iVar3 = RKC_FILE::Write(local_40,pcVar4,iVar3);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                  }
                  RKC_MEMORY::Release(aRStack_3c);
                  RKC_MEMORY::Release(aRStack_34);
                  iVar13 = *(int *)(this + 0x24) * *(int *)(this + 0x20) * 2;
                  RKC_MEMORY::Allocation(aRStack_3c,iVar13,0);
                  RKC_MEMORY::Allocation(aRStack_34,iVar13,0);
                  pcVar4 = RKC_MEMORY::Get(aRStack_3c);
                  iVar3 = 0;
                  if (0 < *(int *)(this + 0x24)) {
                    do {
                      uVar10 = *(int *)(this + 0x20) * 2;
                      pcVar5 = *(char **)(*(int *)(this + 0x30) + iVar3 * 4);
                      pcVar14 = pcVar4 + *(int *)(this + 0x20) * iVar3 * 2;
                      for (uVar9 = uVar10 >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
                        *(undefined4 *)pcVar14 = *(undefined4 *)pcVar5;
                        pcVar5 = pcVar5 + 4;
                        pcVar14 = pcVar14 + 4;
                      }
                      iVar3 = iVar3 + 1;
                      for (uVar10 = uVar10 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
                        *pcVar14 = *pcVar5;
                        pcVar5 = pcVar5 + 1;
                        pcVar14 = pcVar14 + 1;
                      }
                      pcVar12 = Get_exref;
                    } while (iVar3 < *(int *)(this + 0x24));
                  }
                  uVar6 = (*pcVar12)(iVar13,auStack_1c);
                  uVar6 = (*pcVar12)(iVar13,uVar6);
                  iVar3 = RK_LzEncodeMemoryToMemory(uVar6);
                  if (iVar3 == 1) {
                    uStack_41 = 1;
                    iVar3 = RKC_FILE::Write(local_40,&uStack_41,1);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                    iVar3 = iStack_10 + 0x10;
                    pvVar7 = (void *)(*pcVar12)();
                    iVar3 = RKC_FILE::Write(local_40,pvVar7,iVar3);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                  }
                  else {
                    uStack_41 = 0;
                    iVar3 = RKC_FILE::Write(local_40,&uStack_41,1);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                    pvVar7 = (void *)(*pcVar12)();
                    iVar3 = RKC_FILE::Write(local_40,pvVar7,iVar13);
                    if (iVar3 == 0) {
                      iStack_4._0_1_ = 1;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                      iStack_4 = (uint)iStack_4._1_3_ << 8;
                      RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                      iStack_4 = 0xffffffff;
                      RKC_FILE::~RKC_FILE(local_40);
                      ExceptionList = pvStack_c;
                      return 0;
                    }
                  }
                  RKC_FILE::Close(local_40);
                  iStack_4._0_1_ = 1;
                  RKC_MEMORY::~RKC_MEMORY(aRStack_34);
                  iStack_4 = (uint)iStack_4._1_3_ << 8;
                  RKC_MEMORY::~RKC_MEMORY(aRStack_3c);
                  iStack_4 = 0xffffffff;
                  RKC_FILE::~RKC_FILE(local_40);
                  iVar3 = 1;
                }
              }
            }
          }
        }
      }
    }
  }
  ExceptionList = pvStack_c;
  return iVar3;
}



/*
 * Function: ReadFile
 * Address: 10004270
 */

/* public: int __thiscall RKC_RPGSCRN_GROUNDBLOCK::ReadFile(char *,long) */

int __thiscall
RKC_RPGSCRN_GROUNDBLOCK::ReadFile(RKC_RPGSCRN_GROUNDBLOCK *this,char *param_1,long param_2)

{
  short *psVar1;
  byte bVar2;
  undefined2 uVar3;
  int iVar4;
  byte *pbVar5;
  char *pcVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  code *pcVar10;
  byte *pbVar11;
  int iVar12;
  char *pcVar13;
  char *pcVar14;
  bool bVar15;
  char **ppcVar16;
  long lVar17;
  undefined4 *puVar18;
  char cStack_6d;
  RKC_FILE local_6c [4];
  char *pcStack_68;
  int iStack_64;
  int iStack_60;
  int iStack_5c;
  int iStack_58;
  int iStack_54;
  int iStack_50;
  RKC_MEMORY aRStack_4c [8];
  RKC_MEMORY aRStack_44 [8];
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  long lStack_30;
  byte abStack_2c [12];
  uint uStack_20;
  byte local_1c [8];
  char local_14 [4];
  char local_10 [4];
  void *pvStack_c;
  undefined *puStack_8;
  int iStack_4;
  
                    /* 0x4270  125  ?ReadFile@RKC_RPGSCRN_GROUNDBLOCK@@QAEHPADJ@Z */
  iStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000ae1b;
  pvStack_c = ExceptionList;
  local_1c._0_4_ = s_RPGSCRN_GNDv000_1000f0a8._0_4_;
  local_1c._4_4_ = s_RPGSCRN_GNDv000_1000f0a8._4_4_;
  local_14 = (char  [4])s_RPGSCRN_GNDv000_1000f0a8._8_4_;
  local_10 = (char  [4])s_RPGSCRN_GNDv000_1000f0a8._12_4_;
  ExceptionList = &pvStack_c;
  RKC_FILE::RKC_FILE(local_6c);
  iStack_4 = 0;
  RKC_MEMORY::RKC_MEMORY(aRStack_44);
  iStack_4._0_1_ = 1;
  RKC_MEMORY::RKC_MEMORY(aRStack_4c);
  iStack_4._0_1_ = 2;
  iVar4 = RKC_FILE::Create(local_6c,param_1,0);
  pcVar10 = Read_exref;
  if (iVar4 != 0) {
    abStack_2c[0] = 0;
    abStack_2c[1] = 0;
    abStack_2c[2] = 0;
    abStack_2c[3] = 0;
    abStack_2c[4] = 0;
    abStack_2c[5] = 0;
    abStack_2c[6] = 0;
    abStack_2c[7] = 0;
    abStack_2c[8] = 0;
    abStack_2c[9] = 0;
    abStack_2c[10] = 0;
    abStack_2c[0xb] = 0;
    uStack_20 = 0;
    iVar4 = RKC_FILE::Read(local_6c,abStack_2c,0x10);
    if (iVar4 != 0) {
      uStack_20 = uStack_20 & 0xffffff;
      pbVar11 = local_1c;
      pbVar5 = abStack_2c;
      do {
        bVar2 = *pbVar5;
        bVar15 = bVar2 < *pbVar11;
        if (bVar2 != *pbVar11) {
LAB_10004362:
          iVar4 = (1 - (uint)bVar15) - (uint)(bVar15 != 0);
          goto LAB_10004366;
        }
        if (bVar2 == 0) break;
        bVar2 = pbVar5[1];
        bVar15 = bVar2 < pbVar11[1];
        if (bVar2 != pbVar11[1]) goto LAB_10004362;
        pbVar5 = pbVar5 + 2;
        pbVar11 = pbVar11 + 2;
      } while (bVar2 != 0);
      iVar4 = 0;
LAB_10004366:
      if (iVar4 != 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      iVar4 = RKC_FILE::Read(local_6c,&iStack_60,4);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      if (iStack_60 < 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      iVar4 = RKC_FILE::Read(local_6c,&iStack_64,4);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      if (iStack_64 < 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      iVar4 = RKC_FILE::Read(local_6c,&iStack_54,4);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      if (iStack_54 < 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      iVar4 = RKC_FILE::Read(local_6c,&iStack_50,4);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      if (iStack_50 < 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      iVar4 = RKC_FILE::Read(local_6c,&iStack_58,4);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      if (iStack_58 < 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      iVar4 = RKC_FILE::Read(local_6c,&iStack_5c,4);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      if (iStack_5c < 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      Release(this);
      SetBaseMag(this,iStack_58,iStack_5c);
      RKC_RPGSCRN_OBJECT::SetCharacterNo((RKC_RPGSCRN_OBJECT *)this,iStack_54);
      SetChipHeight(this,iStack_50);
      SetAreaSize(this,iStack_60,iStack_64);
      iVar12 = iStack_64 * iStack_60 * 6;
      iVar4 = RKC_FILE::Read(local_6c,&cStack_6d,1);
      if (iVar4 == 0) {
        iStack_4._0_1_ = 1;
        RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
        iStack_4 = (uint)iStack_4._1_3_ << 8;
        RKC_MEMORY::~RKC_MEMORY(aRStack_44);
        iStack_4 = 0xffffffff;
        RKC_FILE::~RKC_FILE(local_6c);
        ExceptionList = pvStack_c;
        return 0;
      }
      pcStack_68 = (char *)0x0;
      if (cStack_6d == '\0') {
        RKC_MEMORY::Allocation(aRStack_4c,iVar12,1);
        pcVar6 = RKC_MEMORY::Get(aRStack_4c);
        iVar4 = RKC_FILE::Read(local_6c,pcVar6,iVar12);
        if (iVar4 == 0) {
          iStack_4._0_1_ = 1;
          RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
          iStack_4 = (uint)iStack_4._1_3_ << 8;
          RKC_MEMORY::~RKC_MEMORY(aRStack_44);
          iStack_4 = 0xffffffff;
          RKC_FILE::~RKC_FILE(local_6c);
          ExceptionList = pvStack_c;
          return 0;
        }
        pcVar6 = RKC_MEMORY::Get(aRStack_4c);
      }
      else {
        RKC_MEMORY::Allocation(aRStack_4c,iVar12,1);
        RKC_MEMORY::Allocation(aRStack_44,iVar12,1);
        iVar4 = RKC_FILE::Read(local_6c,&uStack_3c,0x10);
        if (iVar4 == 0) goto LAB_100049ef;
        pcVar6 = RKC_MEMORY::Get(aRStack_44);
        *(undefined4 *)pcVar6 = uStack_3c;
        *(undefined4 *)(pcVar6 + 4) = uStack_38;
        *(undefined4 *)(pcVar6 + 8) = uStack_34;
        *(long *)(pcVar6 + 0xc) = lStack_30;
        lVar17 = lStack_30;
        pcVar6 = RKC_MEMORY::Get(aRStack_44);
        iVar4 = RKC_FILE::Read(local_6c,pcVar6 + 0x10,lVar17);
        if (iVar4 == 0) goto LAB_100049ef;
        puVar18 = &uStack_3c;
        ppcVar16 = &pcStack_68;
        iVar4 = lStack_30 + 0x10;
        pcVar6 = RKC_MEMORY::Get(aRStack_44);
        iVar4 = RK_LzDecodeMemoryToMemory(pcVar6,iVar4,ppcVar16,puVar18);
        pcVar6 = pcStack_68;
        if (iVar4 == 0) goto LAB_100049ef;
      }
      iVar4 = 0;
      if (0 < *(int *)(this + 8)) {
        do {
          iVar12 = 0;
          if (0 < *(int *)(this + 4)) {
            iVar9 = 0;
            do {
              uVar3 = *(undefined2 *)pcVar6;
              pcVar6 = pcVar6 + 2;
              iVar12 = iVar12 + 1;
              iVar9 = iVar9 + 6;
              *(undefined2 *)(*(int *)(*(int *)(this + 0x14) + iVar4 * 4) + -6 + iVar9) = uVar3;
              pcVar10 = Read_exref;
            } while (iVar12 < *(int *)(this + 4));
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < *(int *)(this + 8));
      }
      iVar4 = 0;
      if (0 < *(int *)(this + 8)) {
        do {
          iVar12 = 0;
          if (0 < *(int *)(this + 4)) {
            iVar9 = 0;
            do {
              uVar3 = *(undefined2 *)pcVar6;
              pcVar6 = pcVar6 + 2;
              *(undefined2 *)(*(int *)(*(int *)(this + 0x14) + iVar4 * 4) + 2 + iVar9) = uVar3;
              psVar1 = (short *)(*(int *)(*(int *)(this + 0x14) + iVar4 * 4) + 2 + iVar9);
              *psVar1 = *psVar1 + (short)param_2;
              iVar12 = iVar12 + 1;
              iVar9 = iVar9 + 6;
              pcVar10 = Read_exref;
            } while (iVar12 < *(int *)(this + 4));
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < *(int *)(this + 8));
      }
      iVar4 = 0;
      if (0 < *(int *)(this + 8)) {
        do {
          iVar12 = 0;
          if (0 < *(int *)(this + 4)) {
            iVar9 = 0;
            do {
              uVar3 = *(undefined2 *)pcVar6;
              pcVar6 = pcVar6 + 2;
              iVar12 = iVar12 + 1;
              iVar9 = iVar9 + 6;
              *(undefined2 *)(*(int *)(*(int *)(this + 0x14) + iVar4 * 4) + -2 + iVar9) = uVar3;
              pcVar10 = Read_exref;
            } while (iVar12 < *(int *)(this + 4));
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < *(int *)(this + 8));
      }
      if (pcStack_68 != (char *)0x0) {
        GlobalFree(pcStack_68);
      }
      RKC_MEMORY::Release(aRStack_4c);
      RKC_MEMORY::Release(aRStack_44);
      iVar12 = *(int *)(this + 0x20) * *(int *)(this + 0x24) * 2;
      iVar4 = (*pcVar10)(&cStack_6d,1);
      if (iVar4 != 0) {
        pcStack_68 = (char *)0x0;
        if (cStack_6d == '\0') {
          RKC_MEMORY::Allocation(aRStack_4c,iVar12,1);
          pcVar6 = RKC_MEMORY::Get(aRStack_4c);
          iVar4 = (*pcVar10)(pcVar6,iVar12);
          if (iVar4 != 0) {
            pcVar6 = RKC_MEMORY::Get(aRStack_4c);
LAB_10004a2c:
            RKC_FILE::Close(local_6c);
            iVar4 = 0;
            if (0 < *(int *)(this + 0x24)) {
              do {
                uVar8 = *(int *)(this + 0x20) * 2;
                pcVar13 = pcVar6 + *(int *)(this + 0x20) * iVar4 * 2;
                pcVar14 = *(char **)(*(int *)(this + 0x30) + iVar4 * 4);
                for (uVar7 = uVar8 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
                  *(undefined4 *)pcVar14 = *(undefined4 *)pcVar13;
                  pcVar13 = pcVar13 + 4;
                  pcVar14 = pcVar14 + 4;
                }
                iVar4 = iVar4 + 1;
                for (uVar8 = uVar8 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
                  *pcVar14 = *pcVar13;
                  pcVar13 = pcVar13 + 1;
                  pcVar14 = pcVar14 + 1;
                }
              } while (iVar4 < *(int *)(this + 0x24));
            }
            if (pcStack_68 != (char *)0x0) {
              GlobalFree(pcStack_68);
            }
            iStack_4._0_1_ = 1;
            RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
            iStack_4 = (uint)iStack_4._1_3_ << 8;
            RKC_MEMORY::~RKC_MEMORY(aRStack_44);
            iStack_4 = 0xffffffff;
            RKC_FILE::~RKC_FILE(local_6c);
            ExceptionList = pvStack_c;
            return 1;
          }
        }
        else {
          RKC_MEMORY::Allocation(aRStack_4c,iVar12,1);
          RKC_MEMORY::Allocation(aRStack_44,iVar12,1);
          iVar4 = (*pcVar10)(&uStack_3c,0x10);
          if (iVar4 != 0) {
            pcVar6 = RKC_MEMORY::Get(aRStack_44);
            *(undefined4 *)pcVar6 = uStack_3c;
            *(undefined4 *)(pcVar6 + 4) = uStack_38;
            *(undefined4 *)(pcVar6 + 8) = uStack_34;
            *(long *)(pcVar6 + 0xc) = lStack_30;
            lVar17 = lStack_30;
            pcVar6 = RKC_MEMORY::Get(aRStack_44);
            iVar4 = (*pcVar10)(pcVar6 + 0x10,lVar17);
            if (iVar4 != 0) {
              puVar18 = &uStack_3c;
              ppcVar16 = &pcStack_68;
              iVar4 = lStack_30 + 0x10;
              pcVar6 = RKC_MEMORY::Get(aRStack_44);
              iVar4 = RK_LzDecodeMemoryToMemory(pcVar6,iVar4,ppcVar16,puVar18);
              pcVar6 = pcStack_68;
              if (iVar4 != 0) goto LAB_10004a2c;
            }
          }
        }
      }
    }
  }
LAB_100049ef:
  iStack_4._0_1_ = 1;
  RKC_MEMORY::~RKC_MEMORY(aRStack_4c);
  iStack_4 = (uint)iStack_4._1_3_ << 8;
  RKC_MEMORY::~RKC_MEMORY(aRStack_44);
  iStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_6c);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: SetJudgeOffset
 * Address: 10004ac0
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetJudgeOffset(long,long) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::SetJudgeOffset(RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2)

{
                    /* 0x4ac0  156  ?SetJudgeOffset@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJJ@Z */
  *(long *)(this + 0x28) = param_1;
  *(long *)(this + 0x2c) = param_2;
  return;
}



/*
 * Function: GetJudgeOffset
 * Address: 10004ae0
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetJudgeOffset(long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetJudgeOffset(RKC_RPGSCRN_GROUNDBLOCK *this,long *param_1,long *param_2)

{
                    /* 0x4ae0  87  ?GetJudgeOffset@RKC_RPGSCRN_GROUNDBLOCK@@QAEXPAJ0@Z */
  *param_1 = *(long *)(this + 0x28);
  *param_2 = *(long *)(this + 0x2c);
  return;
}



/*
 * Function: CalcAreaJudgeFromMap
 * Address: 10004b00
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::CalcAreaJudgeFromMap(long *,long *,long *,long
   *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::CalcAreaJudgeFromMap
          (RKC_RPGSCRN_GROUNDBLOCK *this,long *param_1,long *param_2,long *param_3,long *param_4)

{
  int iVar1;
  int iVar2;
  long lVar3;
  long lVar4;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  long local_10;
  long local_c;
  long local_8;
  long local_4;
  
                    /* 0x4b00  35  ?CalcAreaJudgeFromMap@RKC_RPGSCRN_GROUNDBLOCK@@QAEXPAJ000@Z */
  lVar3 = RKC_RPGSCRN_OBJECT::GetCharacterNo((RKC_RPGSCRN_OBJECT *)this);
  iVar1 = *(int *)(this + 4);
  lVar4 = GetChipHeight(this);
  iVar2 = *(int *)(this + 8);
  CalcGroundPos(this,0,0,&local_20,&local_10);
  CalcGroundPos(this,lVar3 * iVar1,0,&local_c,&local_1c);
  CalcGroundPos(this,0,lVar4 * iVar2,&local_8,&local_14);
  CalcGroundPos(this,lVar3 * iVar1,lVar4 * iVar2,&local_18,&local_4);
  *param_1 = (local_18 - (local_20 + -1)) + 1;
  *param_2 = (local_14 - (local_1c + -1)) + 1;
  *param_3 = local_20 + -1;
  *param_4 = local_1c + -1;
  return;
}



/*
 * Function: SetBaseMag
 * Address: 10004bb0
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetBaseMag(long,long) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::SetBaseMag(RKC_RPGSCRN_GROUNDBLOCK *this,long param_1,long param_2)

{
                    /* 0x4bb0  145  ?SetBaseMag@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJJ@Z */
  *(long *)(this + 0x18) = param_1;
  *(long *)(this + 0x1c) = param_2;
  return;
}



/*
 * Function: GetBaseMag
 * Address: 10004bd0
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetBaseMag(long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetBaseMag(RKC_RPGSCRN_GROUNDBLOCK *this,long *param_1,long *param_2)

{
                    /* 0x4bd0  65  ?GetBaseMag@RKC_RPGSCRN_GROUNDBLOCK@@QAEXPAJ0@Z */
  *param_1 = *(long *)(this + 0x18);
  *param_2 = *(long *)(this + 0x1c);
  return;
}



/*
 * Function: GetBaseParam
 * Address: 10004bf0
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetBaseParam(long *,long *) */

void __thiscall
RKC_RPGSCRN_GROUNDBLOCK::GetBaseParam(RKC_RPGSCRN_GROUNDBLOCK *this,long *param_1,long *param_2)

{
                    /* 0x4bf0  67  ?GetBaseParam@RKC_RPGSCRN_GROUNDBLOCK@@QAEXPAJ0@Z */
  *param_1 = (*(int *)(*(int *)this + 0x18) * *(int *)(this + 0x18)) / 100;
  *param_2 = (*(int *)(*(int *)this + 0x1c) * *(int *)(this + 0x1c)) / 100;
  return;
}



/*
 * Function: GetCharacterNo
 * Address: 10004c40
 */

/* public: long __thiscall RKC_RPGSCRN_OBJECT::GetCharacterNo(void) */

long __thiscall RKC_RPGSCRN_OBJECT::GetCharacterNo(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x4c40  69  ?GetCharacterNo@RKC_RPGSCRN_OBJECT@@QAEJXZ
                       0x4c40  71  ?GetChipWidth@RKC_RPGSCRN_GROUNDBLOCK@@QAEJXZ */
  return *(long *)(this + 0xc);
}



/*
 * Function: SetChipHeight
 * Address: 10004c50
 */

/* public: void __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetChipHeight(long) */

void __thiscall RKC_RPGSCRN_GROUNDBLOCK::SetChipHeight(RKC_RPGSCRN_GROUNDBLOCK *this,long param_1)

{
                    /* 0x4c50  148  ?SetChipHeight@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJ@Z */
  *(long *)(this + 0x10) = param_1;
  return;
}



/*
 * Function: GetChipHeight
 * Address: 10004c60
 */

/* public: long __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetChipHeight(void) */

long __thiscall RKC_RPGSCRN_GROUNDBLOCK::GetChipHeight(RKC_RPGSCRN_GROUNDBLOCK *this)

{
                    /* 0x4c60  70  ?GetChipHeight@RKC_RPGSCRN_GROUNDBLOCK@@QAEJXZ
                       0x4c60  72  ?GetCount@RKC_RPGSCRN_CHARANIM@@QAEJXZ */
  return *(long *)(this + 0x10);
}



/*
 * Function: RKC_RPGSCRN_OBJECT
 * Address: 10004c70
 */

/* public: __thiscall RKC_RPGSCRN_OBJECT::RKC_RPGSCRN_OBJECT(void) */

void __thiscall RKC_RPGSCRN_OBJECT::RKC_RPGSCRN_OBJECT(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x4c70  8  ??0RKC_RPGSCRN_OBJECT@@QAE@XZ */
  *(undefined2 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  *(undefined2 *)(this + 0x18) = 0xffff;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined2 *)(this + 0x1a) = 1000;
  *(undefined4 *)(this + 0x38) = 0;
  *(undefined4 *)(this + 0x3c) = 0;
  *(undefined4 *)(this + 0x28) = 0;
  *(undefined4 *)(this + 0x2c) = 0;
  *(undefined4 *)(this + 0x30) = 0;
  *(undefined4 *)(this + 0x34) = 0;
  *(undefined2 *)(this + 0x1c) = 0;
  *(undefined2 *)(this + 0x1e) = 0;
  *(undefined2 *)(this + 0x20) = 1000;
  *(undefined2 *)(this + 0x22) = 1000;
  *(undefined2 *)(this + 0x24) = 1000;
  *(undefined4 *)(this + 0xc) = 0xffffffff;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_CHARANIMCELL
 * Address: 10004cc0
 */

/* public: __thiscall RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(void) */

void __thiscall RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(RKC_RPGSCRN_CHARANIMCELL *this)

{
                    /* 0x4cc0  16  ??1RKC_RPGSCRN_CHARANIMCELL@@QAE@XZ
                       0x4cc0  20  ??1RKC_RPGSCRN_OBJECT@@QAE@XZ
                       0x4cc0  23  ??1RKC_RPGSCRN_OBJECTDISPCELL@@QAE@XZ
                       0x4cc0  135  ?Release@RKC_RPGSCRN_OBJECT@@QAEXXZ */
  return;
}



/*
 * Function: SetParam
 * Address: 10004cd0
 */

/* public: void __thiscall
   RKC_RPGSCRN_OBJECT::SetParam(short,long,short,long,long,short,short,short,struct RKC_RPGSCRN_RECT
   *,class RKC_RPGSCRN *,short,short,short,long) */

void __thiscall
RKC_RPGSCRN_OBJECT::SetParam
          (RKC_RPGSCRN_OBJECT *this,short param_1,long param_2,short param_3,long param_4,
          long param_5,short param_6,short param_7,short param_8,RKC_RPGSCRN_RECT *param_9,
          RKC_RPGSCRN *param_10,short param_11,short param_12,short param_13,long param_14)

{
                    /* 0x4cd0  166
                       ?SetParam@RKC_RPGSCRN_OBJECT@@QAEXFJFJJFFFPAURKC_RPGSCRN_RECT@@PAVRKC_RPGSCRN@@FFFJ@Z
                        */
  *(short *)(this + 0x10) = param_1;
  *(short *)(this + 0x18) = param_3;
  *(long *)(this + 0x14) = param_2;
  *(long *)(this + 8) = param_5;
  *(long *)(this + 4) = param_4;
  *(short *)(this + 0x1c) = param_7;
  *(short *)(this + 0x1a) = param_6;
  *(short *)(this + 0x20) = param_11;
  *(short *)(this + 0x1e) = param_8;
  *(short *)(this + 0x24) = param_13;
  *(short *)(this + 0x22) = param_12;
  *(long *)(this + 0xc) = param_14;
  if (param_9 != (RKC_RPGSCRN_RECT *)0x0) {
    *(undefined4 *)(this + 0x28) = *(undefined4 *)param_9;
    *(undefined4 *)(this + 0x2c) = *(undefined4 *)(param_9 + 4);
    *(undefined4 *)(this + 0x30) = *(undefined4 *)(param_9 + 8);
    *(undefined4 *)(this + 0x34) = *(undefined4 *)(param_9 + 0xc);
  }
  if (param_10 != (RKC_RPGSCRN *)0x0) {
    *(RKC_RPGSCRN **)this = param_10;
  }
  return;
}



/*
 * Function: GetParam
 * Address: 10004d70
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::GetParam(short *,long *,short *,long *,long *,short
   *,short *,short *,struct RKC_RPGSCRN_RECT *,class RKC_RPGSCRN * *,short *,short *,short *,long *)
    */

void __thiscall
RKC_RPGSCRN_OBJECT::GetParam
          (RKC_RPGSCRN_OBJECT *this,short *param_1,long *param_2,short *param_3,long *param_4,
          long *param_5,short *param_6,short *param_7,short *param_8,RKC_RPGSCRN_RECT *param_9,
          RKC_RPGSCRN **param_10,short *param_11,short *param_12,short *param_13,long *param_14)

{
                    /* 0x4d70  100
                       ?GetParam@RKC_RPGSCRN_OBJECT@@QAEXPAFPAJ011000PAURKC_RPGSCRN_RECT@@PAPAVRKC_RPGSCRN@@0001@Z
                        */
  *param_1 = *(short *)(this + 0x10);
  *param_2 = *(long *)(this + 0x14);
  *param_3 = *(short *)(this + 0x18);
  *param_4 = *(long *)(this + 4);
  *param_5 = *(long *)(this + 8);
  if (param_6 != (short *)0x0) {
    *param_6 = *(short *)(this + 0x1a);
  }
  if (param_7 != (short *)0x0) {
    *param_7 = *(short *)(this + 0x1c);
  }
  if (param_8 != (short *)0x0) {
    *param_8 = *(short *)(this + 0x1e);
  }
  if (param_9 != (RKC_RPGSCRN_RECT *)0x0) {
    *(undefined4 *)param_9 = *(undefined4 *)(this + 0x28);
    *(undefined4 *)(param_9 + 4) = *(undefined4 *)(this + 0x2c);
    *(undefined4 *)(param_9 + 8) = *(undefined4 *)(this + 0x30);
    *(undefined4 *)(param_9 + 0xc) = *(undefined4 *)(this + 0x34);
  }
  if (param_10 != (RKC_RPGSCRN **)0x0) {
    *param_10 = *(RKC_RPGSCRN **)this;
  }
  if (param_11 != (short *)0x0) {
    *param_11 = *(short *)(this + 0x20);
  }
  if (param_12 != (short *)0x0) {
    *param_12 = *(short *)(this + 0x22);
  }
  if (param_13 != (short *)0x0) {
    *param_13 = *(short *)(this + 0x24);
  }
  if (param_14 != (long *)0x0) {
    *param_14 = *(long *)(this + 0xc);
  }
  return;
}



/*
 * Function: SetPacket
 * Address: 10004e40
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::SetPacket(long,long,long,long,int,short,struct
   RKC_RPGSCRN_POSITION *) */

int __thiscall
RKC_RPGSCRN_OBJECT::SetPacket
          (RKC_RPGSCRN_OBJECT *this,long param_1,long param_2,long param_3,long param_4,int param_5,
          short param_6,RKC_RPGSCRN_POSITION *param_7)

{
  ushort uVar1;
  RKC_UPDIB *this_00;
  int iVar2;
  short sVar3;
  RKC_UPDIB_VSBLOCK *this_01;
  short sVar4;
  int iVar5;
  short sVar6;
  long lVar7;
  short sVar8;
  uint local_8;
  int iStack_4;
  
                    /* 0x4e40  163
                       ?SetPacket@RKC_RPGSCRN_OBJECT@@QAEHJJJJHFPAURKC_RPGSCRN_POSITION@@@Z */
  local_8 = 0;
  if (*(undefined4 **)this == (undefined4 *)0x0) {
    return 0;
  }
  this_00 = (RKC_UPDIB *)**(undefined4 **)this;
  if (this_00 == (RKC_UPDIB *)0x0) {
    return 0;
  }
  this_01 = RKC_UPDIB::GetVSBlock(this_00,param_1);
  if (this_01 == (RKC_UPDIB_VSBLOCK *)0x0) {
    return 0;
  }
  param_2 = (long)RKC_UPDIB_VSBLOCK::GetVScreen(this_01,param_2);
  iVar2 = param_5;
  if ((RKC_UPDIB_VS *)param_2 == (RKC_UPDIB_VS *)0x0) {
    return 0;
  }
  if (*(short *)(this + 0x10) < 0) {
    return 1;
  }
  if (param_7 == (RKC_RPGSCRN_POSITION *)0x0) {
    if (param_5 == 1) {
      RKC_RPGSCRN::CalcRealPos
                (*(RKC_RPGSCRN **)this,*(long *)(this + 4),*(long *)(this + 8),&iStack_4,&param_1);
    }
    else {
      param_5 = 0;
      RKC_RPGSCRN::CalcRealPos
                (*(RKC_RPGSCRN **)this,*(long *)(this + 4),*(long *)(this + 8),&iStack_4,&param_1);
      iVar5 = (int)((ulonglong)
                    ((longlong)((int)*(short *)(this + 0x1e) * *(int *)(*(int *)this + 0x20)) *
                    -0x51eb851f) >> 0x20);
      param_1 = param_1 + ((iVar5 >> 5) - (iVar5 >> 0x1f));
    }
  }
  else {
    iStack_4 = *(int *)param_7;
    param_1 = *(long *)(param_7 + 4);
    param_5 = (int)(param_5 == 1);
  }
  uVar1 = *(ushort *)(this + 0x1c);
  if ((uVar1 & 0x200) != 0) {
    local_8 = 4;
  }
  if (iVar2 == 0) {
    if ((uVar1 & 0x10) != 0) {
      local_8 = local_8 | 2;
    }
    if ((uVar1 & 4) != 0) {
      local_8 = local_8 | 8;
    }
    if ((uVar1 & 0x4000) != 0) {
      local_8 = local_8 | 0x2000;
    }
    sVar8 = *(short *)(this + 0x22);
    sVar4 = (short)(((int)*(short *)(this + 0x1a) * (int)param_6) / 1000);
    sVar3 = *(short *)(this + 0x20);
    sVar6 = *(short *)(this + 0x24);
  }
  else {
    sVar4 = 500;
    if (*(int *)(*(int *)this + 0x28) != 1) {
      sVar4 = 1000;
    }
    sVar8 = 1000;
    sVar3 = sVar8;
    sVar6 = sVar8;
    if (iVar2 == 1) {
      lVar7 = -1;
      goto LAB_10004fc6;
    }
  }
  lVar7 = (long)*(short *)(this + 0x18);
LAB_10004fc6:
  RKC_UPDIB_VS::SetPacket
            ((RKC_UPDIB_VS *)param_2,0,*(short *)(this + 0x10) + param_5,*(long *)(this + 0x14),
             lVar7,local_8,iStack_4 - param_3,param_1 - param_4,1000,1000,(int)sVar4,1000,0,sVar3,
             sVar8,sVar6,(tagRECT *)0x0,(RKC_DIB *)0x0);
  return 1;
}



/*
 * Function: Copy
 * Address: 10005060
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::Copy(class RKC_RPGSCRN_OBJECT *) */

int __thiscall RKC_RPGSCRN_OBJECT::Copy(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_OBJECT *param_1)

{
                    /* 0x5060  44  ?Copy@RKC_RPGSCRN_OBJECT@@QAEHPAV1@@Z */
  *(undefined2 *)(this + 0x10) = *(undefined2 *)(param_1 + 0x10);
  *(undefined4 *)(this + 0x14) = *(undefined4 *)(param_1 + 0x14);
  *(undefined2 *)(this + 0x18) = *(undefined2 *)(param_1 + 0x18);
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)(this + 8) = *(undefined4 *)(param_1 + 8);
  *(undefined2 *)(this + 0x1a) = *(undefined2 *)(param_1 + 0x1a);
  *(undefined2 *)(this + 0x1c) = *(undefined2 *)(param_1 + 0x1c);
  *(undefined2 *)(this + 0x1e) = *(undefined2 *)(param_1 + 0x1e);
  *(undefined4 *)(this + 0x28) = *(undefined4 *)(param_1 + 0x28);
  *(undefined4 *)(this + 0x2c) = *(undefined4 *)(param_1 + 0x2c);
  *(undefined4 *)(this + 0x30) = *(undefined4 *)(param_1 + 0x30);
  *(undefined4 *)(this + 0x34) = *(undefined4 *)(param_1 + 0x34);
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined2 *)(this + 0x20) = *(undefined2 *)(param_1 + 0x20);
  *(undefined2 *)(this + 0x22) = *(undefined2 *)(param_1 + 0x22);
  *(undefined2 *)(this + 0x24) = *(undefined2 *)(param_1 + 0x24);
  *(undefined4 *)(this + 0xc) = *(undefined4 *)(param_1 + 0xc);
  return 1;
}



/*
 * Function: CheckDisplayObject
 * Address: 100050f0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::CheckDisplayObject(long,long,int) */

int __thiscall
RKC_RPGSCRN_OBJECT::CheckDisplayObject
          (RKC_RPGSCRN_OBJECT *this,long param_1,long param_2,int param_3)

{
  long lVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  byte bVar6;
  RKC_UPDIB_UPD *this_00;
  RKC_UPDIB_PATTERN *this_01;
  tagRECT *ptVar7;
  RKC_UPDIB_PARTSLIST *pRVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  byte local_2e [2];
  int iStack_2c;
  int iStack_28;
  int iStack_24;
  RKC_RPGSCRN_OBJECT *local_20;
  int iStack_1c;
  long lStack_18;
  int iStack_14;
  long lStack_10;
  RKC_UPDIB_PATTERN *pRStack_c;
  byte local_8 [8];
  
                    /* 0x50f0  41  ?CheckDisplayObject@RKC_RPGSCRN_OBJECT@@QAEHJJH@Z */
  local_8[0] = 0x80;
  local_8[1] = 0x40;
  local_8[2] = 0x20;
  local_8[3] = 0x10;
  local_8[4] = 8;
  local_8[5] = 4;
  local_8[6] = 2;
  local_8[7] = 1;
  local_2e[0] = 0xf0;
  local_2e[1] = 0xf;
  if (*(undefined4 **)this != (undefined4 *)0x0) {
    lVar1 = *(long *)(this + 0x14);
    if ((((-1 < *(short *)(this + 0x10)) &&
         (local_20 = this,
         this_00 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,(int)*(short *)(this + 0x10)
                                    ), this_00 != (RKC_UPDIB_UPD *)0x0)) &&
        (this_01 = RKC_UPDIB_UPD::GetPattern(this_00,lVar1), this_01 != (RKC_UPDIB_PATTERN *)0x0))
       && ((pRStack_c = this_01, ptVar7 = RKC_UPDIB_PATTERN::GetBuildRect(this_01),
           *(int *)(ptVar7 + 8) != 0 && (*(int *)(ptVar7 + 0xc) != 0)))) {
      RKC_RPGSCRN::CalcRealPos
                (*(RKC_RPGSCRN **)this,*(long *)(this + 4),*(long *)(this + 8),&iStack_14,&iStack_1c
                );
      lStack_10 = RKC_UPDIB_PATTERN::GetPartsListCount(this_01);
      lStack_18 = 0;
      if (0 < lStack_10) {
        do {
          pRVar8 = RKC_UPDIB_PATTERN::GetPartsList(this_01,lStack_18);
          if ((pRVar8 != (RKC_UPDIB_PARTSLIST *)0x0) &&
             (piVar2 = *(int **)(pRVar8 + 0x18), piVar2 != (int *)0x0)) {
            iStack_24 = piVar2[3];
            if (iStack_24 != 0) {
              iVar3 = piVar2[1];
              iStack_2c = *(int *)(pRVar8 + 4) + iStack_14;
              iStack_28 = *(int *)(pRVar8 + 4) + iVar3 + -1 + iStack_14;
              iVar9 = ((int)*(short *)(this + 0x1e) * *(int *)(*(int *)this + 0x20)) / 100;
              iVar4 = piVar2[2];
              iVar5 = *piVar2;
              iVar10 = (*(int *)(pRVar8 + 8) - iVar9) + iStack_1c;
              iVar9 = iStack_1c + -1 + (iVar4 - iVar9) + *(int *)(pRVar8 + 8);
              this = local_20;
              if (iVar5 == 1) {
                if ((((iStack_2c <= param_1) && (param_1 <= iStack_28)) && (iVar10 <= param_2)) &&
                   (param_2 <= iVar9)) {
                  if (param_3 != 1) {
                    return 1;
                  }
                  uVar11 = param_1 - iStack_2c;
                  iVar9 = ((int)(iVar3 + 7 + (iVar3 + 7 >> 0x1f & 7U)) >> 3) + 3;
                  uVar12 = uVar11 & 0x80000007;
                  if ((int)uVar12 < 0) {
                    uVar12 = (uVar12 - 1 | 0xfffffff8) + 1;
                  }
                  bVar6 = local_8[uVar12] &
                          *(byte *)(iStack_24 + ((int)(((int)uVar11 >> 0x1f & 7U) + uVar11) >> 3) +
                                   ((iVar4 - param_2) + -1 + iVar10) *
                                   ((int)(iVar9 + (iVar9 >> 0x1f & 3U)) >> 2) * 4);
                  goto joined_r0x10005364;
                }
              }
              else if (iVar5 == 4) {
                if (((iStack_2c <= param_1) && (param_1 <= iStack_28)) &&
                   ((iVar10 <= param_2 && (param_2 <= iVar9)))) {
                  if (param_3 != 1) {
                    return 1;
                  }
                  iVar9 = (iVar3 + 1) / 2 + 3;
                  uVar11 = param_1 - iStack_2c & 0x80000001;
                  if ((int)uVar11 < 0) {
                    uVar11 = (uVar11 - 1 | 0xfffffffe) + 1;
                  }
                  bVar6 = local_2e[uVar11] &
                          *(byte *)(iStack_24 + (param_1 - iStack_2c) / 2 +
                                   ((iVar4 - param_2) + -1 + iVar10) *
                                   ((int)(iVar9 + (iVar9 >> 0x1f & 3U)) >> 2) * 4);
joined_r0x10005364:
                  if (bVar6 != 0) {
                    return 1;
                  }
                }
              }
              else if ((((iVar5 == 8) && (iStack_2c <= param_1)) && (param_1 <= iStack_28)) &&
                      ((iVar10 <= param_2 && (param_2 <= iVar9)))) {
                if (param_3 != 1) {
                  return 1;
                }
                bVar6 = *(byte *)((((iVar4 - param_2) + -1 + iVar10) *
                                   ((int)(iVar3 + 3 + (iVar3 + 3 >> 0x1f & 3U)) >> 2) * 4 -
                                  iStack_2c) + iStack_24 + param_1);
                goto joined_r0x10005364;
              }
            }
          }
          lStack_18 = lStack_18 + 1;
          this_01 = pRStack_c;
        } while (lStack_18 < lStack_10);
      }
    }
  }
  return 0;
}



/*
 * Function: GetUpdNo
 * Address: 10005400
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetUpdNo(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetUpdNo(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5400  115  ?GetUpdNo@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x10);
}



/*
 * Function: GetPaletteNo
 * Address: 10005410
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetPaletteNo(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetPaletteNo(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5410  99  ?GetPaletteNo@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x18);
}



/*
 * Function: GetTrans
 * Address: 10005420
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetTrans(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetTrans(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5420  113  ?GetTrans@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x1a);
}



/*
 * Function: GetStatus
 * Address: 10005430
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetStatus(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetStatus(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5430  110  ?GetStatus@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x1c);
}



/*
 * Function: GetHeight
 * Address: 10005440
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetHeight(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetHeight(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5440  84  ?GetHeight@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x1e);
}



/*
 * Function: GetRStrong
 * Address: 10005450
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetRStrong(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetRStrong(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5450  106  ?GetRStrong@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x20);
}



/*
 * Function: GetGStrong
 * Address: 10005460
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetGStrong(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetGStrong(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5460  79  ?GetGStrong@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x22);
}



/*
 * Function: GetBStrong
 * Address: 10005470
 */

/* public: short __thiscall RKC_RPGSCRN_OBJECT::GetBStrong(void) */

short __thiscall RKC_RPGSCRN_OBJECT::GetBStrong(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x5470  64  ?GetBStrong@RKC_RPGSCRN_OBJECT@@QAEFXZ */
  return *(short *)(this + 0x24);
}



/*
 * Function: GetJudgement
 * Address: 10005480
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::GetJudgement(struct RKC_RPGSCRN_RECT *) */

int __thiscall RKC_RPGSCRN_OBJECT::GetJudgement(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_RECT *param_1)

{
                    /* 0x5480  88  ?GetJudgement@RKC_RPGSCRN_OBJECT@@QAEHPAURKC_RPGSCRN_RECT@@@Z */
  *(undefined4 *)param_1 = *(undefined4 *)(this + 0x28);
  *(undefined4 *)(param_1 + 4) = *(undefined4 *)(this + 0x2c);
  *(undefined4 *)(param_1 + 8) = *(undefined4 *)(this + 0x30);
  *(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(this + 0x34);
  return 1;
}



/*
 * Function: GetPosition
 * Address: 100054b0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::GetPosition(struct RKC_RPGSCRN_POSITION *) */

int __thiscall
RKC_RPGSCRN_OBJECT::GetPosition(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_POSITION *param_1)

{
                    /* 0x54b0  103  ?GetPosition@RKC_RPGSCRN_OBJECT@@QAEHPAURKC_RPGSCRN_POSITION@@@Z
                        */
  *(undefined4 *)param_1 = *(undefined4 *)(this + 4);
  *(undefined4 *)(param_1 + 4) = *(undefined4 *)(this + 8);
  return 1;
}



/*
 * Function: GetPositionAddr
 * Address: 100054d0
 */

/* public: struct RKC_RPGSCRN_POSITION * __thiscall RKC_RPGSCRN_OBJECT::GetPositionAddr(void) */

RKC_RPGSCRN_POSITION * __thiscall RKC_RPGSCRN_OBJECT::GetPositionAddr(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x54d0  104
                       ?GetPositionAddr@RKC_RPGSCRN_OBJECT@@QAEPAURKC_RPGSCRN_POSITION@@XZ */
  return (RKC_RPGSCRN_POSITION *)(this + 4);
}



/*
 * Function: GetJudgementAddr
 * Address: 100054e0
 */

/* public: struct RKC_RPGSCRN_RECT * __thiscall RKC_RPGSCRN_OBJECT::GetJudgementAddr(void) */

RKC_RPGSCRN_RECT * __thiscall RKC_RPGSCRN_OBJECT::GetJudgementAddr(RKC_RPGSCRN_OBJECT *this)

{
                    /* 0x54e0  89  ?GetJudgementAddr@RKC_RPGSCRN_OBJECT@@QAEPAURKC_RPGSCRN_RECT@@XZ
                        */
  return (RKC_RPGSCRN_RECT *)(this + 0x28);
}



/*
 * Function: SetUpdNo
 * Address: 100054f0
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetUpdNo(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetUpdNo(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x54f0  181  ?SetUpdNo@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x10) = param_1;
  return;
}



/*
 * Function: SetPatternNo
 * Address: 10005500
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetPatternNo(long) */

void __thiscall RKC_RPGSCRN_OBJECT::SetPatternNo(RKC_RPGSCRN_OBJECT *this,long param_1)

{
                    /* 0x5500  168  ?SetPatternNo@RKC_RPGSCRN_OBJECT@@QAEXJ@Z */
  *(long *)(this + 0x14) = param_1;
  return;
}



/*
 * Function: SetPaletteNo
 * Address: 10005510
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetPaletteNo(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetPaletteNo(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5510  165  ?SetPaletteNo@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x18) = param_1;
  return;
}



/*
 * Function: SetTrans
 * Address: 10005520
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetTrans(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetTrans(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5520  179  ?SetTrans@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x1a) = param_1;
  return;
}



/*
 * Function: SetStatus
 * Address: 10005530
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetStatus(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetStatus(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5530  176  ?SetStatus@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x1c) = param_1;
  return;
}



/*
 * Function: SetHeight
 * Address: 10005540
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetHeight(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetHeight(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5540  153  ?SetHeight@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x1e) = param_1;
  return;
}



/*
 * Function: SetRStrong
 * Address: 10005550
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetRStrong(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetRStrong(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5550  171  ?SetRStrong@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x20) = param_1;
  return;
}



/*
 * Function: SetGStrong
 * Address: 10005560
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetGStrong(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetGStrong(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5560  152  ?SetGStrong@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x22) = param_1;
  return;
}



/*
 * Function: SetBStrong
 * Address: 10005570
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetBStrong(short) */

void __thiscall RKC_RPGSCRN_OBJECT::SetBStrong(RKC_RPGSCRN_OBJECT *this,short param_1)

{
                    /* 0x5570  144  ?SetBStrong@RKC_RPGSCRN_OBJECT@@QAEXF@Z */
  *(short *)(this + 0x24) = param_1;
  return;
}



/*
 * Function: SetCharacterNo
 * Address: 10005580
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECT::SetCharacterNo(long) */

void __thiscall RKC_RPGSCRN_OBJECT::SetCharacterNo(RKC_RPGSCRN_OBJECT *this,long param_1)

{
                    /* 0x5580  147  ?SetCharacterNo@RKC_RPGSCRN_OBJECT@@QAEXJ@Z
                       0x5580  149  ?SetChipWidth@RKC_RPGSCRN_GROUNDBLOCK@@QAEXJ@Z */
  *(long *)(this + 0xc) = param_1;
  return;
}



/*
 * Function: SetJudgement
 * Address: 10005590
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::SetJudgement(struct RKC_RPGSCRN_RECT *) */

int __thiscall RKC_RPGSCRN_OBJECT::SetJudgement(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_RECT *param_1)

{
                    /* 0x5590  157  ?SetJudgement@RKC_RPGSCRN_OBJECT@@QAEHPAURKC_RPGSCRN_RECT@@@Z */
  *(undefined4 *)(this + 0x28) = *(undefined4 *)param_1;
  *(undefined4 *)(this + 0x2c) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)(this + 0x30) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)(this + 0x34) = *(undefined4 *)(param_1 + 0xc);
  return 1;
}



/*
 * Function: SetPosition
 * Address: 100055c0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::SetPosition(struct RKC_RPGSCRN_POSITION *) */

int __thiscall
RKC_RPGSCRN_OBJECT::SetPosition(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_POSITION *param_1)

{
                    /* 0x55c0  169  ?SetPosition@RKC_RPGSCRN_OBJECT@@QAEHPAURKC_RPGSCRN_POSITION@@@Z
                        */
  *(undefined4 *)(this + 4) = *(undefined4 *)param_1;
  *(undefined4 *)(this + 8) = *(undefined4 *)(param_1 + 4);
  return 1;
}



/*
 * Function: CheckClip
 * Address: 100055e0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECT::CheckClip(struct RKC_RPGSCRN_RECT *,int) */

int __thiscall
RKC_RPGSCRN_OBJECT::CheckClip(RKC_RPGSCRN_OBJECT *this,RKC_RPGSCRN_RECT *param_1,int param_2)

{
  long lVar1;
  int iVar2;
  RKC_UPDIB_UPD *pRVar3;
  RKC_UPDIB_PATTERN *pRVar4;
  tagRECT *ptVar5;
  int iVar6;
  int iStack_c;
  int iStack_8;
  long local_4;
  
                    /* 0x55e0  40  ?CheckClip@RKC_RPGSCRN_OBJECT@@QAEHPAURKC_RPGSCRN_RECT@@H@Z */
  if (*(undefined4 **)this != (undefined4 *)0x0) {
    iVar6 = (int)*(short *)(this + 0x10);
    lVar1 = *(long *)(this + 0x14);
    if (-1 < iVar6) {
      local_4 = lVar1;
      pRVar3 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,iVar6);
      if (pRVar3 != (RKC_UPDIB_UPD *)0x0) {
        pRVar4 = RKC_UPDIB_UPD::GetPattern(pRVar3,lVar1);
        if (pRVar4 != (RKC_UPDIB_PATTERN *)0x0) {
          ptVar5 = RKC_UPDIB_PATTERN::GetBuildRect(pRVar4);
          if ((*(int *)(ptVar5 + 8) != 0) && (*(int *)(ptVar5 + 0xc) != 0)) {
            RKC_RPGSCRN::CalcRealPos
                      (*(RKC_RPGSCRN **)this,*(long *)(this + 4),*(long *)(this + 8),&iStack_8,
                       &iStack_c);
            if ((*(int *)ptVar5 + iStack_8 <= *(int *)(param_1 + 8)) &&
               (*(int *)param_1 <= *(int *)(ptVar5 + 8) + *(int *)ptVar5 + -1 + iStack_8)) {
              iVar2 = ((int)*(short *)(this + 0x1e) * *(int *)(*(int *)this + 0x20)) / 100;
              if (((*(int *)(ptVar5 + 4) - iVar2) + iStack_c <= *(int *)(param_1 + 0xc)) &&
                 (*(int *)(param_1 + 4) <=
                  (*(int *)(ptVar5 + 0xc) - iVar2) + *(int *)(ptVar5 + 4) + -1 + iStack_c)) {
                return 1;
              }
            }
          }
        }
      }
      if (param_2 == 1) {
        pRVar3 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,iVar6 + 1);
        if (pRVar3 != (RKC_UPDIB_UPD *)0x0) {
          pRVar4 = RKC_UPDIB_UPD::GetPattern(pRVar3,local_4);
          if (pRVar4 != (RKC_UPDIB_PATTERN *)0x0) {
            ptVar5 = RKC_UPDIB_PATTERN::GetBuildRect(pRVar4);
            if ((*(int *)(ptVar5 + 8) != 0) && (*(int *)(ptVar5 + 0xc) != 0)) {
              RKC_RPGSCRN::CalcRealPos
                        (*(RKC_RPGSCRN **)this,*(long *)(this + 4),*(long *)(this + 8),&iStack_8,
                         &iStack_c);
              if ((*(int *)ptVar5 + iStack_8 <= *(int *)(param_1 + 8)) &&
                 (*(int *)param_1 <= *(int *)(ptVar5 + 8) + *(int *)ptVar5 + -1 + iStack_8)) {
                iVar6 = ((int)*(short *)(this + 0x1e) * *(int *)(*(int *)this + 0x20)) / 100;
                if (((*(int *)(ptVar5 + 4) - iVar6) + iStack_c <= *(int *)(param_1 + 0xc)) &&
                   (*(int *)(param_1 + 4) <=
                    (*(int *)(ptVar5 + 0xc) - iVar6) + *(int *)(ptVar5 + 4) + -1 + iStack_c)) {
                  return 1;
                }
              }
            }
          }
        }
      }
    }
  }
  return 0;
}



/*
 * Function: RKC_RPGSCRN_OBJECTBLOCK
 * Address: 100057c0
 */

/* public: __thiscall RKC_RPGSCRN_OBJECTBLOCK::RKC_RPGSCRN_OBJECTBLOCK(void) */

void __thiscall RKC_RPGSCRN_OBJECTBLOCK::RKC_RPGSCRN_OBJECTBLOCK(RKC_RPGSCRN_OBJECTBLOCK *this)

{
                    /* 0x57c0  9  ??0RKC_RPGSCRN_OBJECTBLOCK@@QAE@XZ */
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_OBJECTBLOCK
 * Address: 100057d0
 */

/* public: __thiscall RKC_RPGSCRN_OBJECTBLOCK::~RKC_RPGSCRN_OBJECTBLOCK(void) */

void __thiscall RKC_RPGSCRN_OBJECTBLOCK::~RKC_RPGSCRN_OBJECTBLOCK(RKC_RPGSCRN_OBJECTBLOCK *this)

{
  RKC_RPGSCRN_CHARANIMCELL *pRVar1;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  
                    /* 0x57d0  21  ??1RKC_RPGSCRN_OBJECTBLOCK@@QAE@XZ */
  this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(this + 4);
  if (this_00 == (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
    *(undefined4 *)(this + 4) = 0;
    return;
  }
  do {
    pRVar1 = *(RKC_RPGSCRN_CHARANIMCELL **)(this_00 + 0x3c);
    if (this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
      RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(this_00);
      FUN_100072ee(this_00);
    }
    this_00 = pRVar1;
  } while (pRVar1 != (RKC_RPGSCRN_CHARANIMCELL *)0x0);
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: Release
 * Address: 100057e0
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECTBLOCK::Release(void) */

void __thiscall RKC_RPGSCRN_OBJECTBLOCK::Release(RKC_RPGSCRN_OBJECTBLOCK *this)

{
  RKC_RPGSCRN_CHARANIMCELL *pRVar1;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  
                    /* 0x57e0  136  ?Release@RKC_RPGSCRN_OBJECTBLOCK@@QAEXXZ */
  this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(this + 4);
  if (this_00 == (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
    *(undefined4 *)(this + 4) = 0;
    return;
  }
  do {
    pRVar1 = *(RKC_RPGSCRN_CHARANIMCELL **)(this_00 + 0x3c);
    if (this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
      RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(this_00);
      FUN_100072ee(this_00);
    }
    this_00 = pRVar1;
  } while (pRVar1 != (RKC_RPGSCRN_CHARANIMCELL *)0x0);
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: Insert
 * Address: 10005820
 */

/* public: class RKC_RPGSCRN_OBJECT * __thiscall RKC_RPGSCRN_OBJECTBLOCK::Insert(long) */

RKC_RPGSCRN_OBJECT * __thiscall
RKC_RPGSCRN_OBJECTBLOCK::Insert(RKC_RPGSCRN_OBJECTBLOCK *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_OBJECT *pRVar3;
  RKC_RPGSCRN_OBJECT *pRVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x5820  118  ?Insert@RKC_RPGSCRN_OBJECTBLOCK@@QAEPAVRKC_RPGSCRN_OBJECT@@J@Z
                        */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000ae3b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  lVar2 = GetCount(this);
  if ((lVar2 < param_1) || (param_1 < 0)) {
    ExceptionList = local_c;
    return (RKC_RPGSCRN_OBJECT *)0x0;
  }
  pRVar3 = (RKC_RPGSCRN_OBJECT *)operator_new(0x40);
  local_4 = 0;
  if (pRVar3 == (RKC_RPGSCRN_OBJECT *)0x0) {
    pRVar3 = (RKC_RPGSCRN_OBJECT *)0x0;
  }
  else {
    pRVar3 = (RKC_RPGSCRN_OBJECT *)RKC_RPGSCRN_OBJECT::RKC_RPGSCRN_OBJECT(pRVar3);
  }
  local_4 = 0xffffffff;
  *(undefined4 *)pRVar3 = *(undefined4 *)this;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar3 + 0x3c) = *(undefined4 *)(this + 4);
    if (*(int *)(this + 4) != 0) {
      *(RKC_RPGSCRN_OBJECT **)(*(int *)(this + 4) + 0x38) = pRVar3;
    }
    *(RKC_RPGSCRN_OBJECT **)(this + 4) = pRVar3;
    ExceptionList = local_c;
    return pRVar3;
  }
  pRVar4 = Get(this,param_1 + -1);
  iVar1 = *(int *)(pRVar4 + 0x3c);
  *(RKC_RPGSCRN_OBJECT **)(pRVar3 + 0x38) = pRVar4;
  *(int *)(pRVar3 + 0x3c) = iVar1;
  if (iVar1 != 0) {
    *(RKC_RPGSCRN_OBJECT **)(iVar1 + 0x38) = pRVar3;
  }
  *(RKC_RPGSCRN_OBJECT **)(pRVar4 + 0x3c) = pRVar3;
  ExceptionList = local_c;
  return pRVar3;
}



/*
 * Function: Delete
 * Address: 10005900
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::Delete(long) */

int __thiscall RKC_RPGSCRN_OBJECTBLOCK::Delete(RKC_RPGSCRN_OBJECTBLOCK *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_OBJECT *pRVar3;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  
                    /* 0x5900  48  ?Delete@RKC_RPGSCRN_OBJECTBLOCK@@QAEHJ@Z */
  lVar2 = GetCount(this);
  if (lVar2 <= param_1) {
    return 0;
  }
  if (param_1 == 0) {
    this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(this + 4);
    iVar1 = *(int *)(this_00 + 0x3c);
    *(int *)(this + 4) = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x38) = 0;
    }
  }
  else {
    pRVar3 = Get(this,param_1 + -1);
    this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(pRVar3 + 0x3c);
    if (*(int *)(this_00 + 0x3c) != 0) {
      *(RKC_RPGSCRN_OBJECT **)(*(int *)(this_00 + 0x3c) + 0x38) = pRVar3;
    }
    *(undefined4 *)(pRVar3 + 0x3c) = *(undefined4 *)(this_00 + 0x3c);
  }
  if (this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
    RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(this_00);
    FUN_100072ee(this_00);
  }
  return 1;
}



/*
 * Function: GetNo
 * Address: 10005970
 */

/* public: long __thiscall RKC_RPGSCRN_OBJECTBLOCK::GetNo(class RKC_RPGSCRN_OBJECT *) */

long __thiscall
RKC_RPGSCRN_OBJECTBLOCK::GetNo(RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECT *param_1)

{
  RKC_RPGSCRN_OBJECT *pRVar1;
  int iVar2;
  
                    /* 0x5970  93  ?GetNo@RKC_RPGSCRN_OBJECTBLOCK@@QAEJPAVRKC_RPGSCRN_OBJECT@@@Z */
  pRVar1 = *(RKC_RPGSCRN_OBJECT **)(this + 4);
  iVar2 = 0;
  while( true ) {
    if (pRVar1 == (RKC_RPGSCRN_OBJECT *)0x0) {
      return -1;
    }
    if (param_1 == pRVar1) break;
    pRVar1 = *(RKC_RPGSCRN_OBJECT **)(pRVar1 + 0x3c);
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: Get
 * Address: 10005990
 */

/* public: class RKC_RPGSCRN_OBJECT * __thiscall RKC_RPGSCRN_OBJECTBLOCK::Get(long) */

RKC_RPGSCRN_OBJECT * __thiscall
RKC_RPGSCRN_OBJECTBLOCK::Get(RKC_RPGSCRN_OBJECTBLOCK *this,long param_1)

{
  RKC_RPGSCRN_OBJECT *pRVar1;
  int iVar2;
  
                    /* 0x5990  57  ?Get@RKC_RPGSCRN_OBJECTBLOCK@@QAEPAVRKC_RPGSCRN_OBJECT@@J@Z */
  pRVar1 = *(RKC_RPGSCRN_OBJECT **)(this + 4);
  for (iVar2 = 0; (pRVar1 != (RKC_RPGSCRN_OBJECT *)0x0 && (param_1 != iVar2)); iVar2 = iVar2 + 1) {
    pRVar1 = *(RKC_RPGSCRN_OBJECT **)(pRVar1 + 0x3c);
  }
  return pRVar1;
}



/*
 * Function: GetFromCharacterNo
 * Address: 100059b0
 */

/* public: class RKC_RPGSCRN_OBJECT * __thiscall RKC_RPGSCRN_OBJECTBLOCK::GetFromCharacterNo(long)
    */

RKC_RPGSCRN_OBJECT * __thiscall
RKC_RPGSCRN_OBJECTBLOCK::GetFromCharacterNo(RKC_RPGSCRN_OBJECTBLOCK *this,long param_1)

{
  RKC_RPGSCRN_OBJECT *this_00;
  long lVar1;
  
                    /* 0x59b0  78
                       ?GetFromCharacterNo@RKC_RPGSCRN_OBJECTBLOCK@@QAEPAVRKC_RPGSCRN_OBJECT@@J@Z */
  this_00 = *(RKC_RPGSCRN_OBJECT **)(this + 4);
  while ((this_00 != (RKC_RPGSCRN_OBJECT *)0x0 &&
         (lVar1 = RKC_RPGSCRN_OBJECT::GetCharacterNo(this_00), lVar1 != param_1))) {
    this_00 = *(RKC_RPGSCRN_OBJECT **)(this_00 + 0x3c);
  }
  return this_00;
}



/*
 * Function: GetCount
 * Address: 100059e0
 */

/* public: long __thiscall RKC_RPGSCRN_OBJECTBLOCK::GetCount(void) */

long __thiscall RKC_RPGSCRN_OBJECTBLOCK::GetCount(RKC_RPGSCRN_OBJECTBLOCK *this)

{
  int iVar1;
  int iVar2;
  
                    /* 0x59e0  76  ?GetCount@RKC_RPGSCRN_OBJECTBLOCK@@QAEJXZ */
  iVar2 = 0;
  for (iVar1 = *(int *)(this + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x3c)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: SetDisplayObject
 * Address: 10005a00
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject(class RKC_RPGSCRN_OBJECTDISP
   *,struct tagRECT *,int) */

int __thiscall
RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
          (RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECTDISP *param_1,tagRECT *param_2,
          int param_3)

{
  RKC_RPGSCRN_OBJECT *pRVar1;
  long lVar2;
  int iVar3;
  RKC_UPDIB_UPD *this_00;
  RKC_UPDIB_PATTERN *this_01;
  tagRECT *ptVar4;
  RKC_RPGSCRN_OBJECTDISPCELL *this_02;
  int iStack_c;
  RKC_RPGSCRN_OBJECTBLOCK *local_8;
  int iStack_4;
  
                    /* 0x5a00  151
                       ?SetDisplayObject@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPAVRKC_RPGSCRN_OBJECTDISP@@PAUtagRECT@@H@Z
                        */
  if (*(int *)this == 0) {
    return 0;
  }
  local_8 = this;
  for (pRVar1 = *(RKC_RPGSCRN_OBJECT **)(this + 4); pRVar1 != (RKC_RPGSCRN_OBJECT *)0x0;
      pRVar1 = *(RKC_RPGSCRN_OBJECT **)(pRVar1 + 0x3c)) {
    lVar2 = *(long *)(pRVar1 + 0x14);
    if ((((-1 < *(short *)(pRVar1 + 0x10)) &&
         (this_00 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,
                                      (int)*(short *)(pRVar1 + 0x10)),
         this_00 != (RKC_UPDIB_UPD *)0x0)) &&
        (this_01 = RKC_UPDIB_UPD::GetPattern(this_00,lVar2), this_01 != (RKC_UPDIB_PATTERN *)0x0))
       && ((ptVar4 = RKC_UPDIB_PATTERN::GetBuildRect(this_01), *(int *)(ptVar4 + 8) != 0 &&
           (*(int *)(ptVar4 + 0xc) != 0)))) {
      RKC_RPGSCRN::CalcRealPos
                (*(RKC_RPGSCRN **)this,*(long *)(pRVar1 + 4),*(long *)(pRVar1 + 8),&iStack_4,
                 &iStack_c);
      if ((*(int *)ptVar4 + iStack_4 < *(int *)(param_2 + 8)) &&
         (*(int *)param_2 <= *(int *)(ptVar4 + 8) + *(int *)ptVar4 + -1 + iStack_4)) {
        iVar3 = (*(int *)(*(int *)this + 0x20) * (int)*(short *)(pRVar1 + 0x1e)) / 100;
        this = local_8;
        if (((*(int *)(ptVar4 + 4) - iVar3) + iStack_c < *(int *)(param_2 + 0xc)) &&
           (*(int *)(param_2 + 4) <=
            (*(int *)(ptVar4 + 0xc) - iVar3) + *(int *)(ptVar4 + 4) + -1 + iStack_c)) {
          if (param_3 == 1) {
            this_02 = RKC_RPGSCRN_OBJECTDISP::InsertSort
                                (param_1,(RKC_RPGSCRN_POSITION *)(pRVar1 + 4),
                                 (RKC_RPGSCRN_RECT *)(pRVar1 + 0x28),*(short *)(pRVar1 + 0x1c),
                                 *(short *)(pRVar1 + 0x1e));
          }
          else {
            this_02 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,0);
          }
          RKC_RPGSCRN_OBJECTDISPCELL::Set(this_02,pRVar1);
          this = local_8;
        }
      }
    }
  }
  return 1;
}



/*
 * Function: SetShadowObject
 * Address: 10005b60
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::SetShadowObject(class RKC_RPGSCRN_OBJECTDISP
   *,struct tagRECT *,int) */

int __thiscall
RKC_RPGSCRN_OBJECTBLOCK::SetShadowObject
          (RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECTDISP *param_1,tagRECT *param_2,
          int param_3)

{
  RKC_RPGSCRN_OBJECT *pRVar1;
  long lVar2;
  RKC_UPDIB_UPD *this_00;
  uint uVar3;
  RKC_UPDIB_PATTERN *this_01;
  tagRECT *ptVar4;
  RKC_RPGSCRN_OBJECTDISPCELL *this_02;
  int iStack_8;
  int iStack_4;
  
                    /* 0x5b60  172
                       ?SetShadowObject@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPAVRKC_RPGSCRN_OBJECTDISP@@PAUtagRECT@@H@Z
                        */
  if (*(int *)this == 0) {
    return 0;
  }
  for (pRVar1 = *(RKC_RPGSCRN_OBJECT **)(this + 4); pRVar1 != (RKC_RPGSCRN_OBJECT *)0x0;
      pRVar1 = *(RKC_RPGSCRN_OBJECT **)(pRVar1 + 0x3c)) {
    if (((byte)pRVar1[0x1c] & 8) != 0) {
      lVar2 = *(long *)(pRVar1 + 0x14);
      if (((((-1 < *(short *)(pRVar1 + 0x10)) &&
            (this_00 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,
                                         *(short *)(pRVar1 + 0x10) + 1),
            this_00 != (RKC_UPDIB_UPD *)0x0)) &&
           (uVar3 = RKC_UPDIB_UPD::GetType(this_00), (uVar3 & 4) != 0)) &&
          ((this_01 = RKC_UPDIB_UPD::GetPattern(this_00,lVar2), this_01 != (RKC_UPDIB_PATTERN *)0x0
           && (ptVar4 = RKC_UPDIB_PATTERN::GetBuildRect(this_01), *(int *)(ptVar4 + 8) != 0)))) &&
         (*(int *)(ptVar4 + 0xc) != 0)) {
        RKC_RPGSCRN::CalcRealPos
                  (*(RKC_RPGSCRN **)this,*(long *)(pRVar1 + 4),*(long *)(pRVar1 + 8),&iStack_8,
                   &iStack_4);
        if (((*(int *)ptVar4 + iStack_8 < *(int *)(param_2 + 8)) &&
            (*(int *)param_2 <= *(int *)(ptVar4 + 8) + *(int *)ptVar4 + -1 + iStack_8)) &&
           ((*(int *)(ptVar4 + 4) + iStack_4 < *(int *)(param_2 + 0xc) &&
            (*(int *)(param_2 + 4) <= *(int *)(ptVar4 + 0xc) + *(int *)(ptVar4 + 4) + -1 + iStack_4)
            ))) {
          if (param_3 == 1) {
            this_02 = RKC_RPGSCRN_OBJECTDISP::InsertSort
                                (param_1,(RKC_RPGSCRN_POSITION *)(pRVar1 + 4),
                                 (RKC_RPGSCRN_RECT *)(pRVar1 + 0x28),*(short *)(pRVar1 + 0x1c),
                                 *(short *)(pRVar1 + 0x1e));
          }
          else {
            this_02 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,0);
          }
          RKC_RPGSCRN_OBJECTDISPCELL::Set(this_02,pRVar1);
        }
      }
    }
  }
  return 1;
}



/*
 * Function: SetJudgementObject
 * Address: 10005cb0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject(class RKC_RPGSCRN_OBJECTDISP
   *,struct tagRECT *,int,int,int,int) */

int __thiscall
RKC_RPGSCRN_OBJECTBLOCK::SetJudgementObject
          (RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECTDISP *param_1,tagRECT *param_2,
          int param_3,int param_4,int param_5,int param_6)

{
  RKC_RPGSCRN_POSITION *pRVar1;
  ushort uVar2;
  RKC_RPGSCRN_OBJECT *pRVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar4;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  RKC_RPGSCRN_OBJECTBLOCK *local_4;
  
                    /* 0x5cb0  158
                       ?SetJudgementObject@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPAVRKC_RPGSCRN_OBJECTDISP@@PAUtagRECT@@HHHH@Z
                        */
  if (*(int *)this == 0) {
    return 0;
  }
  local_4 = this;
  for (pRVar3 = *(RKC_RPGSCRN_OBJECT **)(this + 4); pRVar3 != (RKC_RPGSCRN_OBJECT *)0x0;
      pRVar3 = *(RKC_RPGSCRN_OBJECT **)(pRVar3 + 0x3c)) {
    uVar2 = *(ushort *)(pRVar3 + 0x1c);
    if (((((uVar2 & 1) != 0) && (param_5 == 1)) || (param_5 == 0)) &&
       ((((uVar2 & 1) == 0 || ((uVar2 & 2) == 0)) || (param_6 != 1)))) {
      if (param_2 == (tagRECT *)0x0) {
        if (param_4 == 1) {
          pRVar4 = RKC_RPGSCRN_OBJECTDISP::InsertSort
                             (param_1,(RKC_RPGSCRN_POSITION *)(pRVar3 + 4),
                              (RKC_RPGSCRN_RECT *)(pRVar3 + 0x28),uVar2,*(short *)(pRVar3 + 0x1e));
          RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar4,pRVar3);
        }
        else {
          pRVar4 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,0);
          RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar4,pRVar3);
        }
      }
      else {
        pRVar1 = (RKC_RPGSCRN_POSITION *)(pRVar3 + 4);
        if (param_3 == 1) {
          RKC_RPGSCRN::CalcRealPos
                    (*(RKC_RPGSCRN **)this,*(long *)pRVar1,*(long *)(pRVar3 + 8),&local_1c,&local_18
                    );
          RKC_RPGSCRN::CalcRealPos
                    (*(RKC_RPGSCRN **)this,*(long *)(pRVar3 + 0x28),*(long *)(pRVar3 + 0x2c),
                     &local_14,&local_c);
          RKC_RPGSCRN::CalcRealPos
                    (*(RKC_RPGSCRN **)this,*(long *)(pRVar3 + 0x30),*(long *)(pRVar3 + 0x34),
                     &local_10,&local_8);
        }
        else {
          local_1c = *(int *)pRVar1;
          local_18 = *(int *)(pRVar3 + 8);
          local_14 = *(int *)(pRVar3 + 0x28);
          local_c = *(int *)(pRVar3 + 0x2c);
          local_10 = *(int *)(pRVar3 + 0x30);
          local_8 = *(int *)(pRVar3 + 0x34);
        }
        this = local_4;
        if (((local_14 + local_1c <= *(int *)(param_2 + 8)) &&
            (*(int *)param_2 <= local_10 + local_1c)) &&
           ((local_c + local_18 <= *(int *)(param_2 + 0xc) &&
            (*(int *)(param_2 + 4) <= local_8 + local_18)))) {
          if (param_4 == 1) {
            pRVar4 = RKC_RPGSCRN_OBJECTDISP::InsertSort
                               (param_1,pRVar1,(RKC_RPGSCRN_RECT *)(pRVar3 + 0x28),
                                *(short *)(pRVar3 + 0x1c),*(short *)(pRVar3 + 0x1e));
            RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar4,pRVar3);
            this = local_4;
          }
          else {
            pRVar4 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,0);
            RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar4,pRVar3);
            this = local_4;
          }
        }
      }
    }
  }
  return 1;
}



/*
 * Function: Copy
 * Address: 10005ea0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::Copy(class RKC_RPGSCRN_OBJECTBLOCK *) */

int __thiscall
RKC_RPGSCRN_OBJECTBLOCK::Copy(RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECTBLOCK *param_1)

{
  RKC_RPGSCRN_OBJECT *pRVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  
                    /* 0x5ea0  45  ?Copy@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPAV1@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  pRVar1 = *(RKC_RPGSCRN_OBJECT **)(param_1 + 4);
  if (pRVar1 != (RKC_RPGSCRN_OBJECT *)0x0) {
    for (pRVar2 = *(RKC_RPGSCRN_OBJECT **)(pRVar1 + 0x3c); pRVar2 != (RKC_RPGSCRN_OBJECT *)0x0;
        pRVar2 = *(RKC_RPGSCRN_OBJECT **)(pRVar2 + 0x3c)) {
      pRVar1 = pRVar2;
    }
    for (; pRVar1 != (RKC_RPGSCRN_OBJECT *)0x0; pRVar1 = *(RKC_RPGSCRN_OBJECT **)(pRVar1 + 0x38)) {
      pRVar2 = Insert(this,0);
      RKC_RPGSCRN_OBJECT::Copy(pRVar2,pRVar1);
    }
  }
  return 1;
}



/*
 * Function: WriteFile
 * Address: 10005ef0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::WriteFile(char *) */

int __thiscall RKC_RPGSCRN_OBJECTBLOCK::WriteFile(RKC_RPGSCRN_OBJECTBLOCK *this,char *param_1)

{
  int iVar1;
  int iVar2;
  RKC_FILE local_24 [4];
  long lStack_20;
  char local_1c [4];
  char local_18 [4];
  char local_14 [4];
  char local_10 [3];
  char cStack_d;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x5ef0  185  ?WriteFile@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPAD@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000ae59;
  pvStack_c = ExceptionList;
  local_1c = (char  [4])s_RPGSCRN_OBJv001_1000f0b8._0_4_;
  local_18 = (char  [4])s_RPGSCRN_OBJv001_1000f0b8._4_4_;
  local_14 = (char  [4])s_RPGSCRN_OBJv001_1000f0b8._8_4_;
  _local_10 = s_RPGSCRN_OBJv001_1000f0b8._12_4_;
  ExceptionList = &pvStack_c;
  RKC_FILE::RKC_FILE(local_24);
  uStack_4 = 0;
  iVar1 = RKC_FILE::Create(local_24,param_1,1);
  if (iVar1 != 0) {
    cStack_d = '\x1a';
    iVar1 = RKC_FILE::Write(local_24,local_1c,0x10);
    if (iVar1 != 0) {
      lStack_20 = GetCount(this);
      iVar1 = RKC_FILE::Write(local_24,&lStack_20,4);
      if (iVar1 != 0) {
        iVar1 = *(int *)(this + 4);
        while( true ) {
          if (iVar1 == 0) {
            uStack_4 = 0xffffffff;
            RKC_FILE::~RKC_FILE(local_24);
            ExceptionList = pvStack_c;
            return 1;
          }
          iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 4),8);
          if ((((((iVar2 == 0) ||
                 (iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x10),2), iVar2 == 0)) ||
                (iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x14),2), iVar2 == 0)) ||
               ((iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x18),2), iVar2 == 0 ||
                (iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x1a),2), iVar2 == 0)))) ||
              ((iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x1c),2), iVar2 == 0 ||
               ((iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x1e),2), iVar2 == 0 ||
                (iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x20),2), iVar2 == 0)))))) ||
             ((iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x22),2), iVar2 == 0 ||
              ((iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x24),2), iVar2 == 0 ||
               (iVar2 = RKC_FILE::Write(local_24,(void *)(iVar1 + 0x28),0x10), iVar2 == 0))))))
          break;
          iVar1 = *(int *)(iVar1 + 0x3c);
        }
      }
    }
  }
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_24);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: ReadFile
 * Address: 100060d0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::ReadFile(char *,class RKC_RPGSCRN_OBJECTDISP
   *,int,long) */

int __thiscall
RKC_RPGSCRN_OBJECTBLOCK::ReadFile
          (RKC_RPGSCRN_OBJECTBLOCK *this,char *param_1,RKC_RPGSCRN_OBJECTDISP *param_2,int param_3,
          long param_4)

{
  int iVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  void *this_01;
  int iVar3;
  RKC_RPGSCRN_OBJECT *pRVar4;
  RKC_FILE local_3c [4];
  int iStack_38;
  RKC_RPGSCRN_OBJECTBLOCK *local_34;
  int iStack_30;
  char acStack_2c [12];
  uint uStack_20;
  char local_1c [4];
  char local_18 [4];
  char local_14 [4];
  char local_10 [4];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x60d0  126
                       ?ReadFile@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPADPAVRKC_RPGSCRN_OBJECTDISP@@HJ@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000ae79;
  pvStack_c = ExceptionList;
  local_1c = (char  [4])s_RPGSCRN_OBJv000_1000f0c8._0_4_;
  local_18 = (char  [4])s_RPGSCRN_OBJv000_1000f0c8._4_4_;
  local_14 = (char  [4])s_RPGSCRN_OBJv000_1000f0c8._8_4_;
  local_10 = (char  [4])s_RPGSCRN_OBJv000_1000f0c8._12_4_;
  ExceptionList = &pvStack_c;
  local_34 = this;
  RKC_FILE::RKC_FILE(local_3c);
  iVar3 = 0;
  uStack_4 = 0;
  iVar1 = RKC_FILE::Create(local_3c,param_1,0);
  if (iVar1 != 0) {
    acStack_2c[0] = '\0';
    acStack_2c[1] = '\0';
    acStack_2c[2] = '\0';
    acStack_2c[3] = '\0';
    acStack_2c[4] = '\0';
    acStack_2c[5] = '\0';
    acStack_2c[6] = '\0';
    acStack_2c[7] = '\0';
    acStack_2c[8] = '\0';
    acStack_2c[9] = '\0';
    acStack_2c[10] = '\0';
    acStack_2c[0xb] = '\0';
    uStack_20 = 0;
    iVar1 = RKC_FILE::Read(local_3c,acStack_2c,0x10);
    if (iVar1 != 0) {
      uStack_20 = uStack_20 & 0xffffff;
      iVar1 = _strncmp(acStack_2c,local_1c,0xc);
      if (iVar1 == 0) {
        iStack_30 = FUN_10007414(this_01,(byte *)&uStack_20);
        iVar1 = RKC_FILE::Read(local_3c,&iStack_38,4);
        if ((iVar1 != 0) && (-1 < iStack_38)) {
          if (param_3 == 1) {
            param_1 = (char *)GetCount(this);
          }
          else {
            Release(this);
            param_1 = (char *)0x0;
          }
          if (param_2 != (RKC_RPGSCRN_OBJECTDISP *)0x0) {
            RKC_RPGSCRN_OBJECTDISP::Release(param_2);
          }
          if (0 < iStack_38) {
            do {
              pRVar2 = Insert(this,(long)(param_1 + iVar3));
              if (param_2 != (RKC_RPGSCRN_OBJECTDISP *)0x0) {
                pRVar4 = pRVar2;
                this_00 = RKC_RPGSCRN_OBJECTDISP::Insert(param_2,iVar3);
                RKC_RPGSCRN_OBJECTDISPCELL::Set(this_00,pRVar4);
              }
              iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 4,8);
              if (iVar1 == 0) goto LAB_100061a9;
              pRVar4 = pRVar2 + 0x10;
              iVar1 = RKC_FILE::Read(local_3c,pRVar4,2);
              if ((((((iVar1 == 0) || (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x14,2), iVar1 == 0)
                     ) || (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x18,2), iVar1 == 0)) ||
                   ((iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x1a,2), iVar1 == 0 ||
                    (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x1c,2), iVar1 == 0)))) ||
                  (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x1e,2), iVar1 == 0)) ||
                 (((0 < iStack_30 &&
                   (((iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x20,2), iVar1 == 0 ||
                     (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x22,2), iVar1 == 0)) ||
                    (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x24,2), iVar1 == 0)))) ||
                  (iVar1 = RKC_FILE::Read(local_3c,pRVar2 + 0x28,0x10), iVar1 == 0))))
              goto LAB_100061a9;
              *(short *)pRVar4 = *(short *)pRVar4 + (short)param_4;
              iVar3 = iVar3 + 1;
              this = local_34;
            } while (iVar3 < iStack_38);
          }
          uStack_4 = 0xffffffff;
          RKC_FILE::~RKC_FILE(local_3c);
          ExceptionList = pvStack_c;
          return 1;
        }
      }
    }
  }
LAB_100061a9:
  uStack_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_3c);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: SetDisplayObject
 * Address: 10006350
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject(class RKC_RPGSCRN_OBJECTDISP
   *,long,long,long,long,int,int,int) */

int __thiscall
RKC_RPGSCRN_OBJECTBLOCK::SetDisplayObject
          (RKC_RPGSCRN_OBJECTBLOCK *this,RKC_RPGSCRN_OBJECTDISP *param_1,long param_2,long param_3,
          long param_4,long param_5,int param_6,int param_7,int param_8)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  bool bVar4;
  RKC_RPGSCRN_OBJECT *pRVar5;
  int iVar6;
  RKC_UPDIB_UPD *this_00;
  RKC_UPDIB_PATTERN *pRVar7;
  tagRECT *ptVar8;
  RKC_UPDIB_PARTSLIST *pRVar9;
  RKC_RPGSCRN_OBJECTDISPCELL *this_01;
  uint uVar10;
  uint uVar11;
  int iVar12;
  long lVar13;
  RKC_RPGSCRN_OBJECT *pRVar14;
  long lVar15;
  byte local_4e [2];
  int iStack_4c;
  RKC_RPGSCRN_OBJECT *local_48;
  int iStack_44;
  int iStack_40;
  int iStack_3c;
  RKC_RPGSCRN_OBJECTBLOCK *local_38;
  int iStack_34;
  int iStack_30;
  int iStack_2c;
  int iStack_28;
  int iStack_24;
  RKC_UPDIB_PATTERN *pRStack_20;
  long lStack_1c;
  byte local_18 [8];
  long local_10;
  long local_c;
  int local_8;
  int local_4;
  
                    /* 0x6350  150
                       ?SetDisplayObject@RKC_RPGSCRN_OBJECTBLOCK@@QAEHPAVRKC_RPGSCRN_OBJECTDISP@@JJJJHHH@Z
                        */
  local_18[0] = 0x80;
  local_18[1] = 0x40;
  local_18[2] = 0x20;
  local_18[3] = 0x10;
  local_18[4] = 8;
  local_18[5] = 4;
  local_18[6] = 2;
  local_18[7] = 1;
  local_4e[0] = 0xf0;
  local_4e[1] = 0xf;
  if (*(int *)this == 0) {
    return 0;
  }
  local_38 = this;
  if (param_7 == 0) {
    local_10 = param_2;
    local_8 = (param_4 - param_2) + 1;
    local_c = param_3;
    local_4 = (param_5 - param_3) + 1;
    iVar6 = SetDisplayObject(this,param_1,(tagRECT *)&local_10,param_6);
    return iVar6;
  }
  pRVar14 = *(RKC_RPGSCRN_OBJECT **)(this + 4);
  do {
    if (pRVar14 == (RKC_RPGSCRN_OBJECT *)0x0) {
      return 1;
    }
    if (param_8 == 0) {
      iVar6 = *(int *)(param_1 + 4);
      if (iVar6 != 0) {
        do {
          if (*(int *)(pRVar14 + 0xc) == *(int *)(*(int *)(iVar6 + 8) + 0xc)) goto LAB_100067e3;
          iVar6 = *(int *)(iVar6 + 0x10);
        } while (iVar6 != 0);
      }
LAB_1000642f:
      lVar13 = *(long *)(pRVar14 + 0x14);
      if ((((-1 < *(short *)(pRVar14 + 0x10)) &&
           (local_48 = pRVar14,
           this_00 = RKC_UPDIB::GetUpd((RKC_UPDIB *)**(undefined4 **)this,
                                       (int)*(short *)(pRVar14 + 0x10)),
           this_00 != (RKC_UPDIB_UPD *)0x0)) &&
          (pRVar7 = RKC_UPDIB_UPD::GetPattern(this_00,lVar13), pRStack_20 = pRVar7,
          pRVar7 != (RKC_UPDIB_PATTERN *)0x0)) &&
         ((ptVar8 = RKC_UPDIB_PATTERN::GetBuildRect(pRVar7), *(int *)(ptVar8 + 8) != 0 &&
          (*(int *)(ptVar8 + 0xc) != 0)))) {
        RKC_RPGSCRN::CalcRealPos
                  (*(RKC_RPGSCRN **)this,*(long *)(pRVar14 + 4),*(long *)(pRVar14 + 8),&iStack_2c,
                   &iStack_28);
        lStack_1c = RKC_UPDIB_PATTERN::GetPartsListCount(pRVar7);
        iStack_30 = 0;
        if (0 < lStack_1c) {
          do {
            pRVar9 = RKC_UPDIB_PATTERN::GetPartsList(pRVar7,iStack_30);
            pRVar5 = local_48;
            if ((pRVar9 != (RKC_UPDIB_PARTSLIST *)0x0) &&
               (piVar1 = *(int **)(pRVar9 + 0x18), piVar1 != (int *)0x0)) {
              iStack_44 = piVar1[3];
              if (iStack_44 != 0) {
                iVar6 = piVar1[1];
                bVar4 = false;
                iStack_40 = *(int *)(pRVar9 + 4) + iStack_2c;
                iStack_3c = *(int *)(pRVar9 + 4) + iVar6 + -1 + iStack_2c;
                iVar3 = ((int)*(short *)(pRVar14 + 0x1e) * *(int *)(*(int *)local_38 + 0x20)) / 100;
                iStack_4c = (*(int *)(pRVar9 + 8) - iVar3) + iStack_28;
                iVar12 = piVar1[2];
                iVar2 = *piVar1;
                iStack_34 = iStack_28 + -1 + (iVar12 - iVar3) + *(int *)(pRVar9 + 8);
                pRVar14 = local_48;
                pRVar7 = pRStack_20;
                if (iVar2 == 1) {
                  iVar6 = ((int)(iVar6 + 7 + (iVar6 + 7 >> 0x1f & 7U)) >> 3) + 3;
                  iVar6 = (int)(iVar6 + (iVar6 >> 0x1f & 3U)) >> 2;
                  if (param_3 <= param_5) {
                    iStack_24 = iVar6 * -4;
                    iVar6 = ((iVar12 - param_3) + -1 + iStack_4c) * iVar6 * 4 + iStack_44;
                    lVar13 = param_3;
                    do {
                      if (bVar4) break;
                      lVar15 = param_2;
                      if (param_2 <= param_4) {
                        do {
                          if ((((iStack_40 <= lVar15) && (lVar15 <= iStack_3c)) &&
                              (iStack_4c <= lVar13)) && (lVar13 <= iStack_34)) {
                            uVar10 = lVar15 - iStack_40;
                            uVar11 = uVar10 & 0x80000007;
                            if ((int)uVar11 < 0) {
                              uVar11 = (uVar11 - 1 | 0xfffffff8) + 1;
                            }
                            if ((local_18[uVar11] &
                                *(byte *)(((int)(uVar10 + ((int)uVar10 >> 0x1f & 7U)) >> 3) + iVar6)
                                ) != 0) {
                              bVar4 = true;
                              break;
                            }
                          }
                          lVar15 = lVar15 + 1;
                        } while (lVar15 <= param_4);
                      }
                      lVar13 = lVar13 + 1;
                      iVar6 = iVar6 + iStack_24;
                    } while (lVar13 <= param_5);
LAB_10006775:
                    if (bVar4) {
                      if (param_6 == 1) {
                        this_01 = RKC_RPGSCRN_OBJECTDISP::InsertSort
                                            (param_1,(RKC_RPGSCRN_POSITION *)(local_48 + 4),
                                             (RKC_RPGSCRN_RECT *)(local_48 + 0x28),
                                             *(short *)(local_48 + 0x1c),*(short *)(local_48 + 0x1e)
                                            );
                        pRVar14 = pRVar5;
                      }
                      else {
                        this_01 = RKC_RPGSCRN_OBJECTDISP::Insert(param_1,0);
                        pRVar14 = local_48;
                      }
                      RKC_RPGSCRN_OBJECTDISPCELL::Set(this_01,pRVar14);
                      this = local_38;
                      break;
                    }
                  }
                }
                else if (iVar2 == 4) {
                  iVar6 = (iVar6 + 1) / 2 + 3;
                  iVar6 = (int)(iVar6 + (iVar6 >> 0x1f & 3U)) >> 2;
                  if (param_3 <= param_5) {
                    iStack_24 = iVar6 * -4;
                    iVar6 = ((iVar12 - param_3) + -1 + iStack_4c) * iVar6 * 4 + iStack_44;
                    lVar13 = param_3;
                    do {
                      if (bVar4) break;
                      lVar15 = param_2;
                      if (param_2 <= param_4) {
                        do {
                          if (((iStack_40 <= lVar15) && (lVar15 <= iStack_3c)) &&
                             ((iStack_4c <= lVar13 && (lVar13 <= iStack_34)))) {
                            uVar10 = lVar15 - iStack_40 & 0x80000001;
                            if ((int)uVar10 < 0) {
                              uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                            }
                            if ((local_4e[uVar10] & *(byte *)((lVar15 - iStack_40) / 2 + iVar6)) !=
                                0) {
                              bVar4 = true;
                              break;
                            }
                          }
                          lVar15 = lVar15 + 1;
                        } while (lVar15 <= param_4);
                      }
                      lVar13 = lVar13 + 1;
                      iVar6 = iVar6 + iStack_24;
                    } while (lVar13 <= param_5);
                    goto LAB_10006775;
                  }
                }
                else if (iVar2 == 8) {
                  iVar6 = (int)(iVar6 + 3 + (iVar6 + 3 >> 0x1f & 3U)) >> 2;
                  if (param_3 <= param_5) {
                    iVar12 = ((iVar12 - param_3) + -1 + iStack_4c) * iVar6 * 4 + iStack_44;
                    lVar13 = param_3;
                    do {
                      if (bVar4) break;
                      lVar15 = param_2;
                      if (param_2 <= param_4) {
                        do {
                          if ((((iStack_40 <= lVar15) && (lVar15 <= iStack_3c)) &&
                              (iStack_4c <= lVar13)) &&
                             ((lVar13 <= iStack_34 &&
                              (*(char *)(lVar15 + (iVar12 - iStack_40)) != '\0')))) {
                            bVar4 = true;
                            break;
                          }
                          lVar15 = lVar15 + 1;
                        } while (lVar15 <= param_4);
                      }
                      lVar13 = lVar13 + 1;
                      iVar12 = iVar12 + iVar6 * -4;
                    } while (lVar13 <= param_5);
                    goto LAB_10006775;
                  }
                }
              }
            }
            iStack_30 = iStack_30 + 1;
            this = local_38;
          } while (iStack_30 < lStack_1c);
        }
      }
    }
    else if (param_8 == 1) goto LAB_1000642f;
LAB_100067e3:
    pRVar14 = *(RKC_RPGSCRN_OBJECT **)(pRVar14 + 0x3c);
  } while( true );
}



/*
 * Function: RKC_RPGSCRN_OBJECTDISP
 * Address: 10006810
 */

/* public: __thiscall RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(void) */

void __thiscall RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(RKC_RPGSCRN_OBJECTDISP *this)

{
                    /* 0x6810  11  ??0RKC_RPGSCRN_OBJECTDISP@@QAE@XZ */
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: RKC_RPGSCRN_OBJECTDISP
 * Address: 10006820
 */

/* public: __thiscall RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(class RKC_RPGSCRN *) */

void __thiscall
RKC_RPGSCRN_OBJECTDISP::RKC_RPGSCRN_OBJECTDISP(RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN *param_1)

{
                    /* 0x6820  10  ??0RKC_RPGSCRN_OBJECTDISP@@QAE@PAVRKC_RPGSCRN@@@Z */
  *(undefined4 *)(this + 4) = 0;
  *(RKC_RPGSCRN **)this = param_1;
  return;
}



/*
 * Function: ~RKC_RPGSCRN_OBJECTDISP
 * Address: 10006840
 */

/* public: __thiscall RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(void) */

void __thiscall RKC_RPGSCRN_OBJECTDISP::~RKC_RPGSCRN_OBJECTDISP(RKC_RPGSCRN_OBJECTDISP *this)

{
  RKC_RPGSCRN_CHARANIMCELL *pRVar1;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  
                    /* 0x6840  22  ??1RKC_RPGSCRN_OBJECTDISP@@QAE@XZ */
  this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(this + 4);
  if (this_00 == (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
    *(undefined4 *)(this + 4) = 0;
    return;
  }
  do {
    pRVar1 = *(RKC_RPGSCRN_CHARANIMCELL **)(this_00 + 0x10);
    if (this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
      RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(this_00);
      FUN_100072ee(this_00);
    }
    this_00 = pRVar1;
  } while (pRVar1 != (RKC_RPGSCRN_CHARANIMCELL *)0x0);
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: Release
 * Address: 10006850
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECTDISP::Release(void) */

void __thiscall RKC_RPGSCRN_OBJECTDISP::Release(RKC_RPGSCRN_OBJECTDISP *this)

{
  RKC_RPGSCRN_CHARANIMCELL *pRVar1;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  
                    /* 0x6850  137  ?Release@RKC_RPGSCRN_OBJECTDISP@@QAEXXZ */
  this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(this + 4);
  if (this_00 == (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
    *(undefined4 *)(this + 4) = 0;
    return;
  }
  do {
    pRVar1 = *(RKC_RPGSCRN_CHARANIMCELL **)(this_00 + 0x10);
    if (this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
      RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(this_00);
      FUN_100072ee(this_00);
    }
    this_00 = pRVar1;
  } while (pRVar1 != (RKC_RPGSCRN_CHARANIMCELL *)0x0);
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: Insert
 * Address: 10006890
 */

/* public: class RKC_RPGSCRN_OBJECTDISPCELL * __thiscall RKC_RPGSCRN_OBJECTDISP::Insert(long) */

RKC_RPGSCRN_OBJECTDISPCELL * __thiscall
RKC_RPGSCRN_OBJECTDISP::Insert(RKC_RPGSCRN_OBJECTDISP *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x6890  119
                       ?Insert@RKC_RPGSCRN_OBJECTDISP@@QAEPAVRKC_RPGSCRN_OBJECTDISPCELL@@J@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000ae9b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  lVar2 = GetCount(this);
  if ((lVar2 < param_1) || (param_1 < 0)) {
    ExceptionList = local_c;
    return (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
  }
  pRVar3 = (RKC_RPGSCRN_OBJECTDISPCELL *)operator_new(0x14);
  local_4 = 0;
  if (pRVar3 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
    pRVar3 = (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
  }
  else {
    pRVar3 = (RKC_RPGSCRN_OBJECTDISPCELL *)
             RKC_RPGSCRN_OBJECTDISPCELL::RKC_RPGSCRN_OBJECTDISPCELL(pRVar3);
  }
  local_4 = 0xffffffff;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar3 + 0x10) = *(undefined4 *)(this + 4);
    if (*(int *)(this + 4) != 0) {
      *(RKC_RPGSCRN_OBJECTDISPCELL **)(*(int *)(this + 4) + 0xc) = pRVar3;
    }
    *(RKC_RPGSCRN_OBJECTDISPCELL **)(this + 4) = pRVar3;
    ExceptionList = local_c;
    return pRVar3;
  }
  pRVar4 = Get(this,param_1 + -1);
  iVar1 = *(int *)(pRVar4 + 0x10);
  *(RKC_RPGSCRN_OBJECTDISPCELL **)(pRVar3 + 0xc) = pRVar4;
  *(int *)(pRVar3 + 0x10) = iVar1;
  if (iVar1 != 0) {
    *(RKC_RPGSCRN_OBJECTDISPCELL **)(iVar1 + 0xc) = pRVar3;
  }
  *(RKC_RPGSCRN_OBJECTDISPCELL **)(pRVar4 + 0x10) = pRVar3;
  ExceptionList = local_c;
  return pRVar3;
}



/*
 * Function: Delete
 * Address: 10006970
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTDISP::Delete(long) */

int __thiscall RKC_RPGSCRN_OBJECTDISP::Delete(RKC_RPGSCRN_OBJECTDISP *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar3;
  RKC_RPGSCRN_CHARANIMCELL *this_00;
  
                    /* 0x6970  49  ?Delete@RKC_RPGSCRN_OBJECTDISP@@QAEHJ@Z */
  lVar2 = GetCount(this);
  if (lVar2 <= param_1) {
    return 0;
  }
  if (param_1 == 0) {
    this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(this + 4);
    iVar1 = *(int *)(this_00 + 0x10);
    *(int *)(this + 4) = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0xc) = 0;
    }
  }
  else {
    pRVar3 = Get(this,param_1 + -1);
    this_00 = *(RKC_RPGSCRN_CHARANIMCELL **)(pRVar3 + 0x10);
    if (*(int *)(this_00 + 0x10) != 0) {
      *(RKC_RPGSCRN_OBJECTDISPCELL **)(*(int *)(this_00 + 0x10) + 0xc) = pRVar3;
    }
    *(undefined4 *)(pRVar3 + 0x10) = *(undefined4 *)(this_00 + 0x10);
  }
  if (this_00 != (RKC_RPGSCRN_CHARANIMCELL *)0x0) {
    RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL(this_00);
    FUN_100072ee(this_00);
  }
  return 1;
}



/*
 * Function: GetNo
 * Address: 100069e0
 */

/* public: long __thiscall RKC_RPGSCRN_OBJECTDISP::GetNo(class RKC_RPGSCRN_OBJECTDISPCELL *) */

long __thiscall
RKC_RPGSCRN_OBJECTDISP::GetNo(RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN_OBJECTDISPCELL *param_1)

{
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar1;
  int iVar2;
  
                    /* 0x69e0  95
                       ?GetNo@RKC_RPGSCRN_OBJECTDISP@@QAEJPAVRKC_RPGSCRN_OBJECTDISPCELL@@@Z */
  pRVar1 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this + 4);
  iVar2 = 0;
  while( true ) {
    if (pRVar1 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
      return -1;
    }
    if (param_1 == pRVar1) break;
    pRVar1 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(pRVar1 + 0x10);
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: Get
 * Address: 10006a00
 */

/* public: class RKC_RPGSCRN_OBJECTDISPCELL * __thiscall RKC_RPGSCRN_OBJECTDISP::Get(long) */

RKC_RPGSCRN_OBJECTDISPCELL * __thiscall
RKC_RPGSCRN_OBJECTDISP::Get(RKC_RPGSCRN_OBJECTDISP *this,long param_1)

{
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar1;
  int iVar2;
  
                    /* 0x6a00  58
                       ?Get@RKC_RPGSCRN_OBJECTDISP@@QAEPAVRKC_RPGSCRN_OBJECTDISPCELL@@J@Z */
  pRVar1 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this + 4);
  for (iVar2 = 0; (pRVar1 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0 && (param_1 != iVar2));
      iVar2 = iVar2 + 1) {
    pRVar1 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(pRVar1 + 0x10);
  }
  return pRVar1;
}



/*
 * Function: GetCount
 * Address: 10006a20
 */

/* public: long __thiscall RKC_RPGSCRN_OBJECTDISP::GetCount(void) */

long __thiscall RKC_RPGSCRN_OBJECTDISP::GetCount(RKC_RPGSCRN_OBJECTDISP *this)

{
  int iVar1;
  int iVar2;
  
                    /* 0x6a20  77  ?GetCount@RKC_RPGSCRN_OBJECTDISP@@QAEJXZ */
  iVar2 = 0;
  for (iVar1 = *(int *)(this + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x10)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: InsertSort
 * Address: 10006a40
 */

/* public: class RKC_RPGSCRN_OBJECTDISPCELL * __thiscall RKC_RPGSCRN_OBJECTDISP::InsertSort(struct
   RKC_RPGSCRN_POSITION *,struct RKC_RPGSCRN_RECT *,short,short) */

RKC_RPGSCRN_OBJECTDISPCELL * __thiscall
RKC_RPGSCRN_OBJECTDISP::InsertSort
          (RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN_POSITION *param_1,RKC_RPGSCRN_RECT *param_2,
          short param_3,short param_4)

{
  ushort uVar1;
  ushort *puVar2;
  int iVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar4;
  int iVar5;
  byte bVar6;
  byte bVar7;
  undefined2 in_stack_0000000e;
  long local_8;
  long local_4;
  
                    /* 0x6a40  122
                       ?InsertSort@RKC_RPGSCRN_OBJECTDISP@@QAEPAVRKC_RPGSCRN_OBJECTDISPCELL@@PAURKC_RPGSCRN_POSITION@@PAURKC_RPGSCRN_RECT@@FF@Z
                        */
  RKC_RPGSCRN::CalcRealPos
            (*(RKC_RPGSCRN **)this,*(int *)param_1 + *(int *)param_2,
             *(int *)(param_1 + 4) + *(int *)(param_2 + 4),&local_8,(long *)&param_2);
  bVar6 = (_param_3 & 0x100) != 0;
  if ((_param_3 & 0x80) != 0) {
    bVar6 = 2;
  }
  if ((_param_3 & 0x20) != 0) {
    bVar6 = 3;
  }
  iVar5 = 0;
  for (puVar2 = *(ushort **)(this + 4); puVar2 != (ushort *)0x0; puVar2 = *(ushort **)(puVar2 + 8))
  {
    uVar1 = *puVar2;
    bVar7 = (uVar1 & 0x100) != 0;
    if ((uVar1 & 0x80) != 0) {
      bVar7 = 2;
    }
    if ((uVar1 & 0x20) != 0) {
      bVar7 = 3;
    }
    if (bVar6 < bVar7) break;
    if (bVar7 == bVar6) {
      iVar3 = *(int *)(puVar2 + 4);
      RKC_RPGSCRN::CalcRealPos
                (*(RKC_RPGSCRN **)this,*(int *)(iVar3 + 0x28) + *(int *)(iVar3 + 4),
                 *(int *)(iVar3 + 0x2c) + *(int *)(iVar3 + 8),&local_4,(long *)&param_1);
      if ((int)param_2 < (int)param_1) break;
    }
    iVar5 = iVar5 + 1;
  }
  pRVar4 = Insert(this,iVar5);
  return pRVar4;
}



/*
 * Function: SetPacket
 * Address: 10006b30
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTDISP::SetPacket(long,long,long,long,int,unsigned short)
    */

int __thiscall
RKC_RPGSCRN_OBJECTDISP::SetPacket
          (RKC_RPGSCRN_OBJECTDISP *this,long param_1,long param_2,long param_3,long param_4,
          int param_5,ushort param_6)

{
  ushort uVar1;
  bool bVar2;
  RKC_RPGSCRN_OBJECT *pRVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  int iVar8;
  short sVar9;
  RKC_RPGSCRN_POSITION *pRVar10;
  
                    /* 0x6b30  164  ?SetPacket@RKC_RPGSCRN_OBJECTDISP@@QAEHJJJJHG@Z */
  this_00 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this + 4);
  if (this_00 == (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
    return 1;
  }
  do {
    bVar2 = false;
    pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
    uVar1 = *(ushort *)(pRVar3 + 0x1c);
    if (((uVar1 & 0x20) != 0) && ((param_6 & 2) != 0)) {
      bVar2 = true;
    }
    if (((uVar1 & 0x80) != 0) && ((param_6 & 4) != 0)) {
      bVar2 = true;
    }
    if (((uVar1 & 0x100) != 0) && ((param_6 & 8) != 0)) {
      bVar2 = true;
    }
    if ((((uVar1 & 0x1a0) == 0) && ((param_6 & 1) != 0)) || (bVar2)) {
      sVar9 = *(short *)(this_00 + 4);
      pRVar10 = (RKC_RPGSCRN_POSITION *)0x0;
      lVar4 = param_1;
      lVar5 = param_2;
      lVar6 = param_3;
      lVar7 = param_4;
      iVar8 = param_5;
      pRVar3 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_00);
      RKC_RPGSCRN_OBJECT::SetPacket(pRVar3,lVar4,lVar5,lVar6,lVar7,iVar8,sVar9,pRVar10);
    }
    this_00 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this_00 + 0x10);
  } while (this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0);
  return 1;
}



/*
 * Function: CheckExistStatus
 * Address: 10006be0
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTDISP::CheckExistStatus(short) */

int __thiscall RKC_RPGSCRN_OBJECTDISP::CheckExistStatus(RKC_RPGSCRN_OBJECTDISP *this,short param_1)

{
  ushort *puVar1;
  
                    /* 0x6be0  42  ?CheckExistStatus@RKC_RPGSCRN_OBJECTDISP@@QAEHF@Z */
  puVar1 = *(ushort **)(this + 4);
  while( true ) {
    if (puVar1 == (ushort *)0x0) {
      return 0;
    }
    if ((*puVar1 & param_1) != 0) break;
    puVar1 = *(ushort **)(puVar1 + 8);
  }
  return 1;
}



/*
 * Function: Copy
 * Address: 10006c10
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTDISP::Copy(class RKC_RPGSCRN_OBJECTDISP *) */

int __thiscall
RKC_RPGSCRN_OBJECTDISP::Copy(RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN_OBJECTDISP *param_1)

{
  RKC_RPGSCRN_OBJECTDISPCELL *this_00;
  RKC_RPGSCRN_OBJECTDISPCELL *this_01;
  long lVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  
                    /* 0x6c10  46  ?Copy@RKC_RPGSCRN_OBJECTDISP@@QAEHPAV1@@Z */
  lVar1 = GetCount(param_1);
  if ((lVar1 != 0) && (0 < lVar1)) {
    do {
      Insert(this,0);
      lVar1 = lVar1 + -1;
    } while (lVar1 != 0);
  }
  this_01 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(param_1 + 4);
  for (this_00 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this + 4);
      this_00 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
      this_00 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this_00 + 0x10)) {
    pRVar2 = RKC_RPGSCRN_OBJECTDISPCELL::Get(this_01);
    RKC_RPGSCRN_OBJECTDISPCELL::Set(this_00,pRVar2);
    this_01 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this_01 + 0x10);
  }
  return 1;
}



/*
 * Function: GetNo
 * Address: 10006c70
 */

/* public: long __thiscall RKC_RPGSCRN_OBJECTDISP::GetNo(class RKC_RPGSCRN_OBJECT *) */

long __thiscall
RKC_RPGSCRN_OBJECTDISP::GetNo(RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN_OBJECT *param_1)

{
  int iVar1;
  int iVar2;
  
                    /* 0x6c70  94  ?GetNo@RKC_RPGSCRN_OBJECTDISP@@QAEJPAVRKC_RPGSCRN_OBJECT@@@Z */
  iVar1 = *(int *)(this + 4);
  iVar2 = 0;
  while( true ) {
    if (iVar1 == 0) {
      return -1;
    }
    if (*(RKC_RPGSCRN_OBJECT **)(iVar1 + 8) == param_1) break;
    iVar1 = *(int *)(iVar1 + 0x10);
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: InsertSortObjectNo
 * Address: 10006c90
 */

/* public: class RKC_RPGSCRN_OBJECTDISPCELL * __thiscall
   RKC_RPGSCRN_OBJECTDISP::InsertSortObjectNo(class RKC_RPGSCRN_OBJECT *,class
   RKC_RPGSCRN_OBJECTBLOCK *) */

RKC_RPGSCRN_OBJECTDISPCELL * __thiscall
RKC_RPGSCRN_OBJECTDISP::InsertSortObjectNo
          (RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN_OBJECT *param_1,RKC_RPGSCRN_OBJECTBLOCK *param_2
          )

{
  long lVar1;
  RKC_RPGSCRN_OBJECT *pRVar2;
  long lVar3;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar4;
  int iVar5;
  
                    /* 0x6c90  123
                       ?InsertSortObjectNo@RKC_RPGSCRN_OBJECTDISP@@QAEPAVRKC_RPGSCRN_OBJECTDISPCELL@@PAVRKC_RPGSCRN_OBJECT@@PAVRKC_RPGSCRN_OBJECTBLOCK@@@Z
                        */
  lVar1 = RKC_RPGSCRN_OBJECTBLOCK::GetNo(param_2,param_1);
  if (lVar1 == -1) {
    return (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
  }
  iVar5 = 0;
  for (pRVar4 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(this + 4);
      pRVar4 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
      pRVar4 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(pRVar4 + 0x10)) {
    pRVar2 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
    if (pRVar2 == param_1) {
      return (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
    }
    pRVar2 = RKC_RPGSCRN_OBJECTDISPCELL::Get(pRVar4);
    lVar3 = RKC_RPGSCRN_OBJECTBLOCK::GetNo(param_2,pRVar2);
    if (lVar1 <= lVar3) break;
    iVar5 = iVar5 + 1;
  }
  pRVar4 = Insert(this,iVar5);
  return pRVar4;
}



/*
 * Function: SortDisplayObject
 * Address: 10006d00
 */

/* public: int __thiscall RKC_RPGSCRN_OBJECTDISP::SortDisplayObject(void) */

int __thiscall RKC_RPGSCRN_OBJECTDISP::SortDisplayObject(RKC_RPGSCRN_OBJECTDISP *this)

{
  ushort uVar1;
  int iVar2;
  RKC_RPGSCRN_OBJECT *pRVar3;
  int iVar4;
  long lVar5;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar6;
  RKC_RPGSCRN_OBJECTDISPCELL *pRVar7;
  int iVar8;
  int iVar9;
  byte bVar10;
  byte bVar11;
  int local_14;
  
                    /* 0x6d00  183  ?SortDisplayObject@RKC_RPGSCRN_OBJECTDISP@@QAEHXZ */
  lVar5 = GetCount(this);
  local_14 = 0;
  iVar4 = local_14;
  if (lVar5 < 1) {
    return 1;
  }
joined_r0x10006d28:
  do {
    if (iVar4 < lVar5) {
      pRVar6 = Get(this,iVar4);
      iVar8 = *(int *)(pRVar6 + 8);
      uVar1 = *(ushort *)(iVar8 + 0x1c);
      bVar10 = (uVar1 & 0x100) != 0;
      if ((uVar1 & 0x80) != 0) {
        bVar10 = 2;
      }
      if ((uVar1 & 0x20) != 0) {
        bVar10 = 3;
      }
      iVar9 = *(int *)(iVar8 + 0x30) + *(int *)(iVar8 + 4);
      iVar8 = *(int *)(iVar8 + 0x34) + *(int *)(iVar8 + 8);
      for (pRVar7 = Get(this,local_14); pRVar7 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0;
          pRVar7 = *(RKC_RPGSCRN_OBJECTDISPCELL **)(pRVar7 + 0x10)) {
        if (pRVar7 != pRVar6) {
          iVar2 = *(int *)(pRVar7 + 8);
          uVar1 = *(ushort *)(iVar2 + 0x1c);
          bVar11 = (uVar1 & 0x100) != 0;
          if ((uVar1 & 0x80) != 0) {
            bVar11 = 2;
          }
          if ((uVar1 & 0x20) != 0) {
            bVar11 = 3;
          }
          if (bVar11 == bVar10) {
            if (((*(int *)(iVar2 + 0x28) + *(int *)(iVar2 + 4) < iVar9) &&
                (*(int *)(iVar2 + 0x2c) + *(int *)(iVar2 + 8) < iVar8)) &&
               ((*(int *)(iVar2 + 0x30) + *(int *)(iVar2 + 4) < iVar9 ||
                (*(int *)(iVar2 + 0x34) + *(int *)(iVar2 + 8) < iVar8)))) {
LAB_10006e13:
              if (pRVar7 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
                iVar4 = iVar4 + 1;
                goto joined_r0x10006d28;
              }
              break;
            }
          }
          else if (bVar10 < bVar11) goto LAB_10006e13;
        }
      }
      if (local_14 != iVar4) {
        pRVar3 = *(RKC_RPGSCRN_OBJECT **)(pRVar6 + 8);
        Delete(this,iVar4);
        pRVar6 = Insert(this,local_14);
        if (pRVar6 != (RKC_RPGSCRN_OBJECTDISPCELL *)0x0) {
          RKC_RPGSCRN_OBJECTDISPCELL::Set(pRVar6,pRVar3);
        }
      }
    }
    local_14 = local_14 + 1;
    iVar4 = local_14;
    if (lVar5 <= local_14) {
      return 1;
    }
  } while( true );
}



/*
 * Function: SetHostScreen
 * Address: 10006e90
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECTDISP::SetHostScreen(class RKC_RPGSCRN *) */

void __thiscall
RKC_RPGSCRN_OBJECTDISP::SetHostScreen(RKC_RPGSCRN_OBJECTDISP *this,RKC_RPGSCRN *param_1)

{
                    /* 0x6e90  154  ?SetHostScreen@RKC_RPGSCRN_OBJECTDISP@@QAEXPAVRKC_RPGSCRN@@@Z */
  *(RKC_RPGSCRN **)this = param_1;
  return;
}



/*
 * Function: RKC_RPGSCRN_OBJECTDISPCELL
 * Address: 10006ea0
 */

/* public: __thiscall RKC_RPGSCRN_OBJECTDISPCELL::RKC_RPGSCRN_OBJECTDISPCELL(void) */

void __thiscall
RKC_RPGSCRN_OBJECTDISPCELL::RKC_RPGSCRN_OBJECTDISPCELL(RKC_RPGSCRN_OBJECTDISPCELL *this)

{
                    /* 0x6ea0  12  ??0RKC_RPGSCRN_OBJECTDISPCELL@@QAE@XZ */
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined2 *)this = 0;
  *(undefined4 *)(this + 4) = 1000;
  return;
}



/*
 * Function: Get
 * Address: 10006ec0
 */

/* public: class RKC_RPGSCRN_OBJECT * __thiscall RKC_RPGSCRN_OBJECTDISPCELL::Get(void) */

RKC_RPGSCRN_OBJECT * __thiscall RKC_RPGSCRN_OBJECTDISPCELL::Get(RKC_RPGSCRN_OBJECTDISPCELL *this)

{
                    /* 0x6ec0  59  ?Get@RKC_RPGSCRN_OBJECTDISPCELL@@QAEPAVRKC_RPGSCRN_OBJECT@@XZ
                       0x6ec0  101  ?GetPatternNo@RKC_RPGSCRN_CHARANIMCELL@@QAEJXZ
                       0x6ec0  117  ?GetY@RKC_RPGSCRN_OBJECT@@QAEJXZ */
  return *(RKC_RPGSCRN_OBJECT **)(this + 8);
}



/*
 * Function: SetTrans
 * Address: 10006ed0
 */

/* public: void __thiscall RKC_RPGSCRN_OBJECTDISPCELL::SetTrans(short) */

void __thiscall RKC_RPGSCRN_OBJECTDISPCELL::SetTrans(RKC_RPGSCRN_OBJECTDISPCELL *this,short param_1)

{
                    /* 0x6ed0  180  ?SetTrans@RKC_RPGSCRN_OBJECTDISPCELL@@QAEXF@Z */
  *(int *)(this + 4) = (int)param_1;
  return;
}



/*
 * Function: GetTrans
 * Address: 10006ee0
 */

/* public: short __thiscall RKC_RPGSCRN_CHARANIMCELL::GetTrans(void) */

short __thiscall RKC_RPGSCRN_CHARANIMCELL::GetTrans(RKC_RPGSCRN_CHARANIMCELL *this)

{
                    /* 0x6ee0  112  ?GetTrans@RKC_RPGSCRN_CHARANIMCELL@@QAEFXZ
                       0x6ee0  114  ?GetTrans@RKC_RPGSCRN_OBJECTDISPCELL@@QAEFXZ */
  return *(short *)(this + 4);
}



/*
 * Function: RK_SetLastRoot
 * Address: 10006ef0
 */

void RK_SetLastRoot(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006ef0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_SetLastRoot();
  return;
}



/*
 * Function: RK_AnalyzeFilename
 * Address: 10006ef6
 */

void RK_AnalyzeFilename(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006ef6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_AnalyzeFilename();
  return;
}



/*
 * Function: RK_CutFilenameFromFullPath
 * Address: 10006efc
 */

void RK_CutFilenameFromFullPath(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006efc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CutFilenameFromFullPath();
  return;
}



/*
 * Function: RK_CutDirectoryFromFullPath
 * Address: 10006f02
 */

void RK_CutDirectoryFromFullPath(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006f02. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CutDirectoryFromFullPath();
  return;
}



/*
 * Function: RK_CheckSJIS
 * Address: 10006f08
 */

void RK_CheckSJIS(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006f08. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_CheckSJIS();
  return;
}



/*
 * Function: RK_LzEncodeMemoryToMemory
 * Address: 10006f0e
 */

void RK_LzEncodeMemoryToMemory(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006f0e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_LzEncodeMemoryToMemory();
  return;
}



/*
 * Function: RK_LzDecodeMemoryToMemory
 * Address: 10006f14
 */

void RK_LzDecodeMemoryToMemory(void)

{
                    /* WARNING: Could not recover jumptable at 0x10006f14. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_LzDecodeMemoryToMemory();
  return;
}



/*
 * Function: FUN_10006f1a
 * Address: 10006f1a
 */

void FUN_10006f1a(undefined *UNRECOVERED_JUMPTABLE)

{
                    /* WARNING: Load size is inaccurate */
  ExceptionList = *ExceptionList;
                    /* WARNING: Could not recover jumptable at 0x10006f45. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10006f4e
 * Address: 10006f4e
 */

void FUN_10006f4e(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x10006f53. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10006f55
 * Address: 10006f55
 */

void FUN_10006f55(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x10006f5a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10006f5c
 * Address: 10006f5c
 */

void FUN_10006f5c(PVOID param_1,PEXCEPTION_RECORD param_2)

{
  void *pvVar1;
  
  pvVar1 = ExceptionList;
  RtlUnwind(param_1,(PVOID)0x10006f84,param_2,(PVOID)0x0);
  param_2->ExceptionFlags = param_2->ExceptionFlags & 0xfffffffd;
  *(void **)pvVar1 = ExceptionList;
  ExceptionList = pvVar1;
  return;
}



/*
 * Function: FUN_10006fab
 * Address: 10006fab
 */

undefined4 __cdecl
FUN_10006fab(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4)

{
  int *in_EAX;
  undefined4 uVar1;
  
  uVar1 = FUN_10007718(param_1,param_2,param_3,param_4,in_EAX,0,(PVOID)0x0,'\0');
  return uVar1;
}



/*
 * Function: FUN_10006fe1
 * Address: 10006fe1
 */

undefined4 __cdecl
FUN_10006fe1(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  void *local_18;
  code *local_14;
  undefined4 local_10;
  undefined4 local_c;
  int local_8;
  
  local_10 = param_2;
  local_14 = FUN_10007035;
  local_8 = param_4 + 1;
  local_c = param_1;
  local_18 = ExceptionList;
  ExceptionList = &local_18;
  uVar1 = __CallSettingFrame_12(param_3,param_1,param_5);
  ExceptionList = local_18;
  return uVar1;
}



/*
 * Function: FUN_10007035
 * Address: 10007035
 */

void __cdecl FUN_10007035(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  FUN_10007718(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),param_2,'\0');
  return;
}



/*
 * Function: FUN_1000705a
 * Address: 1000705a
 */

undefined4 __cdecl
FUN_1000705a(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  undefined4 **ppuVar3;
  undefined4 *local_34;
  undefined4 local_30;
  undefined4 *local_2c;
  code *local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined *local_10;
  undefined *local_c;
  int local_8;
  
  local_c = &stack0xfffffffc;
  local_10 = &stack0xffffffbc;
  local_28 = FUN_10007110;
  local_24 = param_5;
  local_20 = param_2;
  local_1c = param_6;
  local_18 = param_7;
  local_8 = 0;
  local_14 = 0x100070e2;
  local_2c = (undefined4 *)ExceptionList;
  ExceptionList = &local_2c;
  local_34 = param_1;
  local_30 = param_3;
  ppuVar3 = &local_34;
  uVar2 = *param_1;
  pDVar1 = FUN_10008001();
  (*(code *)pDVar1[0x1a])(uVar2,ppuVar3);
  if (local_8 != 0) {
                    /* WARNING: Load size is inaccurate */
    *local_2c = *ExceptionList;
  }
  ExceptionList = local_2c;
  return 0;
}



/*
 * Function: FUN_10007110
 * Address: 10007110
 */

undefined4 __cdecl FUN_10007110(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  undefined4 uVar1;
  
  if ((param_1->ExceptionFlags & 0x66) != 0) {
    *(undefined4 *)((int)param_2 + 0x24) = 1;
    return 1;
  }
  FUN_10007718(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),*(PVOID *)((int)param_2 + 0x14),'\x01');
  if (*(int *)((int)param_2 + 0x24) == 0) {
    FUN_10006f5c(param_2,param_1);
  }
                    /* WARNING: Could not recover jumptable at 0x1000717a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  uVar1 = (**(code **)((int)param_2 + 0x18))();
  return uVar1;
}



/*
 * Function: FUN_10007185
 * Address: 10007185
 */

int __cdecl FUN_10007185(uint param_1,int param_2,int param_3,uint *param_4,uint *param_5)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint local_8;
  
  uVar2 = param_1;
  local_8 = *(uint *)(param_1 + 0xc);
  iVar1 = *(int *)(param_1 + 0x10);
  uVar3 = local_8;
  param_1 = local_8;
  if (-1 < param_2) {
    do {
      if (uVar3 == 0xffffffff) {
        FUN_10008169();
      }
      uVar3 = uVar3 - 1;
      if (((*(int *)(iVar1 + 4 + uVar3 * 0x14) < param_3) &&
          (param_3 <= *(int *)(iVar1 + uVar3 * 0x14 + 8))) || (uVar3 == 0xffffffff)) {
        param_2 = param_2 + -1;
        local_8 = param_1;
        param_1 = uVar3;
      }
    } while (-1 < param_2);
  }
  uVar3 = uVar3 + 1;
  *param_4 = uVar3;
  *param_5 = local_8;
  if ((*(uint *)(uVar2 + 0xc) < local_8) || (local_8 < uVar3)) {
    FUN_10008169();
  }
  return iVar1 + uVar3 * 0x14;
}



/*
 * Function: __global_unwind2
 * Address: 10007200
 */

/* Library Function - Single Match
    __global_unwind2
   
   Library: Visual Studio */

void __cdecl __global_unwind2(PVOID param_1)

{
  RtlUnwind(param_1,(PVOID)0x10007218,(PEXCEPTION_RECORD)0x0,(PVOID)0x0);
  return;
}



/*
 * Function: __local_unwind2
 * Address: 10007242
 */

/* Library Function - Single Match
    __local_unwind2
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release, Visual Studio 2003 Debug, Visual
   Studio 2003 Release */

void __cdecl __local_unwind2(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *pvStack_1c;
  undefined *puStack_18;
  undefined4 local_14;
  int iStack_10;
  
  iStack_10 = param_1;
  puStack_18 = &LAB_10007220;
  pvStack_1c = ExceptionList;
  ExceptionList = &pvStack_1c;
  while( true ) {
    iVar1 = *(int *)(param_1 + 8);
    iVar2 = *(int *)(param_1 + 0xc);
    if ((iVar2 == -1) || (iVar2 == param_2)) break;
    local_14 = *(undefined4 *)(iVar1 + iVar2 * 0xc);
    *(undefined4 *)(param_1 + 0xc) = local_14;
    if (*(int *)(iVar1 + 4 + iVar2 * 0xc) == 0) {
      FUN_100072d6();
      (**(code **)(iVar1 + 8 + iVar2 * 0xc))();
    }
  }
  ExceptionList = pvStack_1c;
  return;
}



/*
 * Function: __abnormal_termination
 * Address: 100072aa
 */

/* Library Function - Single Match
    __abnormal_termination
   
   Library: Visual Studio */

int __cdecl __abnormal_termination(void)

{
  int iVar1;
  
  iVar1 = 0;
  if ((*(undefined **)((int)ExceptionList + 4) == &LAB_10007220) &&
     (*(int *)((int)ExceptionList + 8) == *(int *)(*(int *)((int)ExceptionList + 0xc) + 0xc))) {
    iVar1 = 1;
  }
  return iVar1;
}



/*
 * Function: __NLG_Notify1
 * Address: 100072cd
 */

/* Library Function - Single Match
    __NLG_Notify1
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __fastcall __NLG_Notify1(undefined4 param_1)

{
  undefined4 in_EAX;
  undefined4 unaff_EBP;
  
  DAT_1000f0e0 = param_1;
  DAT_1000f0dc = in_EAX;
  DAT_1000f0e4 = unaff_EBP;
  return;
}



/*
 * Function: FUN_100072d6
 * Address: 100072d6
 */

void FUN_100072d6(void)

{
  undefined4 in_EAX;
  int unaff_EBP;
  
  DAT_1000f0e0 = *(undefined4 *)(unaff_EBP + 8);
  DAT_1000f0dc = in_EAX;
  DAT_1000f0e4 = unaff_EBP;
  return;
}



/*
 * Function: FUN_100072ee
 * Address: 100072ee
 */

void __cdecl FUN_100072ee(LPVOID param_1)

{
  FUN_100081bf(param_1);
  return;
}



/*
 * Function: operator_new
 * Address: 100072f9
 */

/* Library Function - Single Match
    void * __cdecl operator new(unsigned int)
   
   Library: Visual Studio 2003 Release */

void * __cdecl operator_new(uint param_1)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(param_1,1);
  return pvVar1;
}



/*
 * Function: FUN_10007307
 * Address: 10007307
 */

void FUN_10007307(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  int local_20;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b160;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  for (local_20 = 0; local_20 < param_3; local_20 = local_20 + 1) {
    (*(code *)param_4)();
  }
  local_8 = 0xffffffff;
  FUN_10007371();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10007371
 * Address: 10007371
 */

void FUN_10007371(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x20) == 0) {
    FUN_100074d8(*(undefined4 *)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + 0xc),
                 *(int *)(unaff_EBP + -0x1c),*(undefined **)(unaff_EBP + 0x18));
  }
  return;
}



/*
 * Function: FUN_10007389
 * Address: 10007389
 */

int __thiscall FUN_10007389(void *this,byte *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  byte *pbVar5;
  undefined *puVar6;
  
  while( true ) {
    if (DAT_1000f314 < 2) {
      uVar1 = (byte)PTR_DAT_1000f108[(uint)*param_1 * 2] & 8;
      this = PTR_DAT_1000f108;
    }
    else {
      puVar6 = (undefined *)0x8;
      uVar1 = FUN_10008374(this,(uint)*param_1,8);
      this = puVar6;
    }
    if (uVar1 == 0) break;
    param_1 = param_1 + 1;
  }
  uVar1 = (uint)*param_1;
  pbVar5 = param_1 + 1;
  if ((uVar1 == 0x2d) || (uVar4 = uVar1, uVar1 == 0x2b)) {
    uVar4 = (uint)*pbVar5;
    pbVar5 = param_1 + 2;
  }
  iVar3 = 0;
  while( true ) {
    if (DAT_1000f314 < 2) {
      uVar2 = (byte)PTR_DAT_1000f108[uVar4 * 2] & 4;
    }
    else {
      puVar6 = (undefined *)0x4;
      uVar2 = FUN_10008374(this,uVar4,4);
      this = puVar6;
    }
    if (uVar2 == 0) break;
    iVar3 = (uVar4 - 0x30) + iVar3 * 10;
    uVar4 = (uint)*pbVar5;
    pbVar5 = pbVar5 + 1;
  }
  if (uVar1 == 0x2d) {
    iVar3 = -iVar3;
  }
  return iVar3;
}



/*
 * Function: FUN_10007414
 * Address: 10007414
 */

void __thiscall FUN_10007414(void *this,byte *param_1)

{
  FUN_10007389(this,param_1);
  return;
}



/*
 * Function: _strncmp
 * Address: 10007420
 */

/* Library Function - Single Match
    _strncmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strncmp(char *_Str1,char *_Str2,size_t _MaxCount)

{
  char cVar1;
  char cVar2;
  size_t sVar3;
  int iVar4;
  uint uVar5;
  char *pcVar6;
  char *pcVar7;
  
  sVar3 = _MaxCount;
  pcVar6 = _Str1;
  if (_MaxCount != 0) {
    do {
      if (sVar3 == 0) break;
      sVar3 = sVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    iVar4 = _MaxCount - sVar3;
    do {
      pcVar6 = _Str2;
      pcVar7 = _Str1;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar7 = _Str1 + 1;
      pcVar6 = _Str2 + 1;
      cVar2 = *_Str1;
      cVar1 = *_Str2;
      _Str2 = pcVar6;
      _Str1 = pcVar7;
    } while (cVar1 == cVar2);
    uVar5 = 0;
    if ((byte)pcVar6[-1] <= (byte)pcVar7[-1]) {
      if (pcVar6[-1] == pcVar7[-1]) {
        return 0;
      }
      uVar5 = 0xfffffffe;
    }
    _MaxCount = ~uVar5;
  }
  return _MaxCount;
}



/*
 * Function: FUN_10007458
 * Address: 10007458
 */

void FUN_10007458(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b170;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    (*(code *)param_4)();
  }
  local_8 = 0xffffffff;
  FUN_100074c0();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_100074c0
 * Address: 100074c0
 */

void FUN_100074c0(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x1c) == 0) {
    FUN_100074d8(*(undefined4 *)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + 0xc),
                 *(int *)(unaff_EBP + 0x10),*(undefined **)(unaff_EBP + 0x14));
  }
  return;
}



/*
 * Function: FUN_100074d8
 * Address: 100074d8
 */

void FUN_100074d8(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b180;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    (*(code *)param_4)();
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10007540
 * Address: 10007540
 */

/* WARNING: Unable to track spacebase fully for stack */

void FUN_10007540(undefined1 param_1)

{
  uint in_EAX;
  undefined1 *puVar1;
  undefined4 unaff_retaddr;
  
  puVar1 = &param_1;
  if (0xfff < in_EAX) {
    do {
      puVar1 = puVar1 + -0x1000;
      in_EAX = in_EAX - 0x1000;
    } while (0xfff < in_EAX);
  }
  *(undefined4 *)(puVar1 + (-4 - in_EAX)) = unaff_retaddr;
  return;
}



/*
 * Function: FUN_1000756f
 * Address: 1000756f
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_1000756f(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  
  if (param_2 == 1) {
    DAT_1000f7b0 = GetVersion();
    iVar1 = FUN_10008b8a(1);
    if (iVar1 != 0) {
      _DAT_1000f7bc = DAT_1000f7b0 >> 8 & 0xff;
      _DAT_1000f7b8 = DAT_1000f7b0 & 0xff;
      DAT_1000f7b0 = DAT_1000f7b0 >> 0x10;
      _DAT_1000f7b4 = _DAT_1000f7b8 * 0x100 + _DAT_1000f7bc;
      iVar1 = FUN_10007f7c();
      if (iVar1 != 0) {
        DAT_1000fd38 = GetCommandLineA();
        DAT_1000f79c = FUN_10008a58();
        FUN_10008542();
        FUN_1000880b();
        FUN_10008752();
        FUN_10008424();
        DAT_1000f798 = DAT_1000f798 + 1;
        goto LAB_10007642;
      }
      FUN_10008bc6();
    }
LAB_100075cf:
    uVar2 = 0;
  }
  else {
    if (param_2 == 0) {
      if (DAT_1000f798 < 1) goto LAB_100075cf;
      DAT_1000f798 = DAT_1000f798 + -1;
      if (DAT_1000f7e8 == 0) {
        FUN_10008462();
      }
      FUN_100086fe();
      FUN_10007fd0();
      FUN_10008bc6();
    }
    else if (param_2 == 3) {
      FUN_10008068((LPVOID)0x0);
    }
LAB_10007642:
    uVar2 = 1;
  }
  return uVar2;
}



/*
 * Function: entry
 * Address: 10007648
 */

int entry(undefined4 param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = param_2;
  iVar2 = DAT_1000f798;
  if (param_2 != 0) {
    if ((param_2 != 1) && (param_2 != 2)) goto LAB_10007690;
    if ((DAT_1000fd3c != (code *)0x0) &&
       (iVar2 = (*DAT_1000fd3c)(param_1,param_2,param_3), iVar2 == 0)) {
      return 0;
    }
    iVar2 = FUN_1000756f(param_1,param_2);
  }
  if (iVar2 == 0) {
    return 0;
  }
LAB_10007690:
  iVar2 = FUN_10008c3b();
  if (param_2 == 1) {
    if (iVar2 != 0) {
      return iVar2;
    }
    FUN_1000756f(param_1,0);
  }
  if ((param_2 != 0) && (param_2 != 3)) {
    return iVar2;
  }
  iVar3 = FUN_1000756f(param_1,param_2);
  param_2 = iVar2;
  if (iVar3 == 0) {
    param_2 = 0;
  }
  if (param_2 != 0) {
    if (DAT_1000fd3c != (code *)0x0) {
      iVar2 = (*DAT_1000fd3c)(param_1,iVar1,param_3);
      return iVar2;
    }
    return param_2;
  }
  return 0;
}



/*
 * Function: __amsg_exit
 * Address: 100076e5
 */

/* Library Function - Single Match
    __amsg_exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __amsg_exit(int param_1)

{
  if ((DAT_1000f7a4 == 1) || ((DAT_1000f7a4 == 0 && (DAT_1000f7a8 == 1)))) {
    FUN_10008c41();
  }
  FUN_10008c7a(param_1);
  (*(code *)PTR___exit_1000f0f0)(0xff);
  return;
}



/*
 * Function: FUN_10007718
 * Address: 10007718
 */

undefined4 __cdecl
FUN_10007718(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int *param_5,
            int param_6,PVOID param_7,char param_8)

{
  code *pcVar1;
  undefined4 uVar2;
  
  if (*param_5 != 0x19930520) {
    FUN_10008169();
  }
  if ((*(byte *)&param_1->ExceptionFlags & 0x66) == 0) {
    if (param_5[3] != 0) {
      if (((param_1->ExceptionCode == 0xe06d7363) && (0x19930520 < param_1->ExceptionInformation[0])
          ) && (pcVar1 = *(code **)(param_1->ExceptionInformation[2] + 8), pcVar1 != (code *)0x0)) {
        uVar2 = (*pcVar1)(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8);
        return uVar2;
      }
      FUN_100077b3(param_1,param_2,param_3,param_4,(uint)param_5,param_8,param_6,param_7);
    }
  }
  else if ((param_5[1] != 0) && (param_6 == 0)) {
    FUN_10007a6d((int)param_2,param_4,(int)param_5,-1);
  }
  return 1;
}



/*
 * Function: FUN_100077b3
 * Address: 100077b3
 */

void __cdecl
FUN_100077b3(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            char param_6,int param_7,PVOID param_8)

{
  byte *pbVar1;
  bool bVar2;
  DWORD *pDVar3;
  undefined3 extraout_var;
  int *piVar4;
  int iVar5;
  int *piVar6;
  uint local_1c;
  uint local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  local_18 = local_18 & 0xffffff00;
  local_14 = *(int *)((int)param_2 + 8);
  if ((local_14 < -1) || (*(int *)(param_5 + 4) <= local_14)) {
    FUN_10008169();
  }
  if (param_1->ExceptionCode == 0xe06d7363) {
    if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
       (param_1->ExceptionInformation[2] == 0)) {
      pDVar3 = FUN_10008001();
      if (pDVar3[0x1b] == 0) {
        return;
      }
      pDVar3 = FUN_10008001();
      param_1 = (PEXCEPTION_RECORD)pDVar3[0x1b];
      pDVar3 = FUN_10008001();
      param_3 = pDVar3[0x1c];
      local_18 = CONCAT31(local_18._1_3_,1);
      bVar2 = FUN_10008e31(param_1,1);
      if (CONCAT31(extraout_var,bVar2) == 0) {
        FUN_10008169();
      }
      if (param_1->ExceptionCode != 0xe06d7363) goto LAB_1000793b;
      if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
         (param_1->ExceptionInformation[2] == 0)) {
        FUN_10008169();
      }
    }
    iVar5 = local_14;
    if (((param_1->ExceptionCode == 0xe06d7363) && (param_1->NumberParameters == 3)) &&
       (param_1->ExceptionInformation[0] == 0x19930520)) {
      piVar4 = (int *)FUN_10007185(param_5,param_7,local_14,&local_8,&local_1c);
      do {
        if (local_1c <= local_8) {
          if (param_6 == '\0') {
            return;
          }
          FUN_10007ea5((int)param_1);
          return;
        }
        if ((*piVar4 <= iVar5) && (iVar5 <= piVar4[1])) {
          pbVar1 = (byte *)piVar4[4];
          for (local_10 = piVar4[3]; iVar5 = local_14, 0 < local_10; local_10 = local_10 + -1) {
            piVar6 = *(int **)(param_1->ExceptionInformation[2] + 0xc);
            for (local_c = *piVar6; 0 < local_c; local_c = local_c + -1) {
              piVar6 = piVar6 + 1;
              iVar5 = FUN_10007a10(pbVar1,(byte *)*piVar6,(uint *)param_1->ExceptionInformation[2]);
              if (iVar5 != 0) {
                FUN_10007b21(param_1,param_2,param_3,param_4,param_5,pbVar1,(byte *)*piVar6,piVar4,
                             param_7,param_8);
                iVar5 = local_14;
                goto LAB_1000791b;
              }
            }
            pbVar1 = pbVar1 + 0x10;
          }
        }
LAB_1000791b:
        local_8 = local_8 + 1;
        piVar4 = piVar4 + 5;
      } while( true );
    }
  }
LAB_1000793b:
  if (param_6 == '\0') {
    FUN_10007966(param_1,param_2,param_3,param_4,param_5,local_14,param_7,param_8);
    return;
  }
  FUN_10008108();
  return;
}



/*
 * Function: FUN_10007966
 * Address: 10007966
 */

void __cdecl
FUN_10007966(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            int param_6,int param_7,PVOID param_8)

{
  DWORD *pDVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  uint local_c;
  uint local_8;
  
  pDVar1 = FUN_10008001();
  if ((pDVar1[0x1a] != 0) &&
     (iVar2 = FUN_1000705a(&param_1->ExceptionCode,param_2,param_3,param_4,param_5,param_7,param_8),
     iVar2 != 0)) {
    return;
  }
  piVar3 = (int *)FUN_10007185(param_5,param_7,param_6,&local_8,&local_c);
  for (; local_8 < local_c; local_8 = local_8 + 1) {
    if ((*piVar3 <= param_6) && (param_6 <= piVar3[1])) {
      iVar4 = piVar3[3] * 0x10 + piVar3[4];
      iVar2 = *(int *)(iVar4 + -0xc);
      if ((iVar2 == 0) || (*(char *)(iVar2 + 8) == '\0')) {
        FUN_10007b21(param_1,param_2,param_3,param_4,param_5,(byte *)(iVar4 + -0x10),(byte *)0x0,
                     piVar3,param_7,param_8);
      }
    }
    piVar3 = piVar3 + 5;
  }
  return;
}



/*
 * Function: FUN_10007a10
 * Address: 10007a10
 */

undefined4 __cdecl FUN_10007a10(byte *param_1,byte *param_2,uint *param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if ((iVar1 == 0) || (*(char *)(iVar1 + 8) == '\0')) {
LAB_10007a67:
    uVar2 = 1;
  }
  else {
    if (iVar1 == *(int *)(param_2 + 4)) {
LAB_10007a41:
      if (((((*param_2 & 2) == 0) || ((*param_1 & 8) != 0)) &&
          (((*param_3 & 1) == 0 || ((*param_1 & 1) != 0)))) &&
         (((*param_3 & 2) == 0 || ((*param_1 & 2) != 0)))) goto LAB_10007a67;
    }
    else {
      iVar1 = _strcmp((char *)(iVar1 + 8),(char *)(*(int *)(param_2 + 4) + 8));
      if (iVar1 == 0) goto LAB_10007a41;
    }
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_10007a6d
 * Address: 10007a6d
 */

void __cdecl FUN_10007a6d(int param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b190;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  for (iVar2 = *(int *)(param_1 + 8); local_8 = 0xffffffff, iVar2 != param_4;
      iVar2 = *(int *)(*(int *)(param_3 + 8) + iVar2 * 8)) {
    if ((iVar2 < 0) || (*(int *)(param_3 + 4) <= iVar2)) {
      FUN_10008169();
    }
    local_8 = 0;
    iVar1 = *(int *)(*(int *)(param_3 + 8) + 4 + iVar2 * 8);
    if (iVar1 != 0) {
      __CallSettingFrame_12(iVar1,param_1,0x103);
    }
  }
  *(int *)(param_1 + 8) = iVar2;
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10007b0b
 * Address: 10007b0b
 */

undefined4 __cdecl FUN_10007b0b(undefined4 *param_1)

{
  undefined4 uVar1;
  
  if (*(int *)*param_1 != -0x1f928c9d) {
    return 0;
  }
  uVar1 = FUN_10008108();
  return uVar1;
}



/*
 * Function: FUN_10007b21
 * Address: 10007b21
 */

void __cdecl
FUN_10007b21(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int param_5,
            byte *param_6,byte *param_7,int *param_8,int param_9,PVOID param_10)

{
  undefined *UNRECOVERED_JUMPTABLE;
  
  if (param_7 != (byte *)0x0) {
    FUN_10007ce1((int)param_1,(int)param_2,param_6,param_7);
  }
  if (param_10 == (PVOID)0x0) {
    param_10 = param_2;
  }
  FUN_10006f5c(param_10,param_1);
  FUN_10007a6d((int)param_2,param_4,param_5,*param_8);
  *(int *)((int)param_2 + 8) = param_8[1] + 1;
  UNRECOVERED_JUMPTABLE =
       (undefined *)
       FUN_10007b9c((DWORD)param_1,param_2,param_3,param_5,*(undefined4 *)(param_6 + 0xc),param_9,
                    0x100);
  if (UNRECOVERED_JUMPTABLE != (undefined *)0x0) {
    FUN_10006f1a(UNRECOVERED_JUMPTABLE);
  }
  return;
}



/*
 * Function: FUN_10007b9c
 * Address: 10007b9c
 */

undefined4 __cdecl
FUN_10007b9c(DWORD param_1,undefined4 param_2,DWORD param_3,undefined4 param_4,undefined4 param_5,
            int param_6,int param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_1000b1a0;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  FUN_10008001();
  FUN_10008001();
  pDVar1 = FUN_10008001();
  pDVar1[0x1b] = param_1;
  pDVar1 = FUN_10008001();
  pDVar1[0x1c] = param_3;
  local_8 = 1;
  uVar2 = FUN_10006fe1(param_2,param_4,param_5,param_6,param_7);
  local_8 = 0xffffffff;
  FUN_10007c69();
  ExceptionList = local_14;
  return uVar2;
}



/*
 * Function: FUN_10007c69
 * Address: 10007c69
 */

void FUN_10007c69(void)

{
  DWORD *pDVar1;
  int unaff_EBP;
  int unaff_ESI;
  int *unaff_EDI;
  
  *(undefined4 *)(unaff_ESI + -4) = *(undefined4 *)(unaff_EBP + -0x28);
  pDVar1 = FUN_10008001();
  pDVar1[0x1b] = *(DWORD *)(unaff_EBP + -0x1c);
  pDVar1 = FUN_10008001();
  pDVar1[0x1c] = *(DWORD *)(unaff_EBP + -0x20);
  if ((((*unaff_EDI == -0x1f928c9d) && (unaff_EDI[4] == 3)) && (unaff_EDI[5] == 0x19930520)) &&
     ((*(int *)(unaff_EBP + -0x24) == 0 && (*(int *)(unaff_EBP + -0x2c) != 0)))) {
    __abnormal_termination();
    FUN_10007ea5((int)unaff_EDI);
  }
  return;
}



/*
 * Function: FUN_10007cb7
 * Address: 10007cb7
 */

undefined4 __cdecl FUN_10007cb7(int *param_1)

{
  int *piVar1;
  
  piVar1 = (int *)*param_1;
  if ((((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) &&
     (piVar1[7] == 0)) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_10007ce1
 * Address: 10007ce1
 */

void __cdecl FUN_10007ce1(int param_1,int param_2,byte *param_3,byte *param_4)

{
  int *piVar1;
  bool bVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar3;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined4 *puVar4;
  undefined3 extraout_var_05;
  undefined3 extraout_var_06;
  undefined3 extraout_var_07;
  uint uVar5;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b1b8;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  if (*(int *)(param_3 + 4) == 0) {
    return;
  }
  if (*(char *)(*(int *)(param_3 + 4) + 8) == '\0') {
    return;
  }
  if (*(int *)(param_3 + 8) == 0) {
    return;
  }
  piVar1 = (int *)(*(int *)(param_3 + 8) + 0xc + param_2);
  local_8 = 0;
  if ((*param_3 & 8) == 0) {
    if ((*param_4 & 1) == 0) {
      if (*(int *)(param_4 + 0x18) == 0) {
        ExceptionList = &local_14;
        bVar2 = FUN_10008e31(*(void **)(param_1 + 0x18),1);
        if ((CONCAT31(extraout_var_03,bVar2) != 0) &&
           (bVar2 = FUN_10008e4d(piVar1,1), CONCAT31(extraout_var_04,bVar2) != 0)) {
          uVar5 = *(uint *)(param_4 + 0x14);
          puVar4 = (undefined4 *)FUN_10007f0c(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_10008f20(piVar1,puVar4,uVar5);
          ExceptionList = local_14;
          return;
        }
      }
      else {
        ExceptionList = &local_14;
        bVar2 = FUN_10008e31(*(void **)(param_1 + 0x18),1);
        if (((CONCAT31(extraout_var_05,bVar2) != 0) &&
            (bVar2 = FUN_10008e4d(piVar1,1), CONCAT31(extraout_var_06,bVar2) != 0)) &&
           (bVar2 = FUN_10008e69(*(FARPROC *)(param_4 + 0x18)), CONCAT31(extraout_var_07,bVar2) != 0
           )) {
          if ((*param_4 & 4) != 0) {
            FUN_10007f0c(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
            FUN_10006f55(piVar1,*(undefined **)(param_4 + 0x18));
            ExceptionList = local_14;
            return;
          }
          FUN_10007f0c(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_10006f4e(piVar1,*(undefined **)(param_4 + 0x18));
          ExceptionList = local_14;
          return;
        }
      }
    }
    else {
      ExceptionList = &local_14;
      bVar2 = FUN_10008e31(*(void **)(param_1 + 0x18),1);
      if ((CONCAT31(extraout_var_01,bVar2) != 0) &&
         (bVar2 = FUN_10008e4d(piVar1,1), CONCAT31(extraout_var_02,bVar2) != 0)) {
        FUN_10008f20(piVar1,*(undefined4 **)(param_1 + 0x18),*(uint *)(param_4 + 0x14));
        if (*(int *)(param_4 + 0x14) != 4) {
          ExceptionList = local_14;
          return;
        }
        iVar3 = *piVar1;
        if (iVar3 == 0) {
          ExceptionList = local_14;
          return;
        }
        goto LAB_10007d6f;
      }
    }
  }
  else {
    ExceptionList = &local_14;
    bVar2 = FUN_10008e31(*(void **)(param_1 + 0x18),1);
    if ((CONCAT31(extraout_var,bVar2) != 0) &&
       (bVar2 = FUN_10008e4d(piVar1,1), CONCAT31(extraout_var_00,bVar2) != 0)) {
      iVar3 = *(int *)(param_1 + 0x18);
      *piVar1 = iVar3;
LAB_10007d6f:
      iVar3 = FUN_10007f0c(iVar3,(int *)(param_4 + 8));
      *piVar1 = iVar3;
      ExceptionList = local_14;
      return;
    }
  }
  FUN_10008169();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10007ea5
 * Address: 10007ea5
 */

void __cdecl FUN_10007ea5(int param_1)

{
  undefined *UNRECOVERED_JUMPTABLE;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b1c8;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  if ((param_1 != 0) &&
     (UNRECOVERED_JUMPTABLE = *(undefined **)(*(int *)(param_1 + 0x1c) + 4),
     UNRECOVERED_JUMPTABLE != (undefined *)0x0)) {
    local_8 = 0;
    ExceptionList = &local_14;
    FUN_10006f4e(*(undefined4 *)(param_1 + 0x18),UNRECOVERED_JUMPTABLE);
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10007f0c
 * Address: 10007f0c
 */

int __cdecl FUN_10007f0c(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = param_2[1];
  iVar2 = *param_2 + param_1;
  if (-1 < iVar1) {
    iVar2 = iVar2 + *(int *)(*(int *)(iVar1 + param_1) + param_2[2]) + iVar1;
  }
  return iVar2;
}



/*
 * Function: __CallSettingFrame@12
 * Address: 10007f30
 */

/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* Library Function - Single Match
    __CallSettingFrame@12
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __CallSettingFrame_12(undefined4 param_1,undefined4 param_2,int param_3)

{
  code *pcVar1;
  
  pcVar1 = (code *)__NLG_Notify1(param_3);
  (*pcVar1)();
  if (param_3 == 0x100) {
    param_3 = 2;
  }
  __NLG_Notify1(param_3);
  return;
}



/*
 * Function: FUN_10007f7c
 * Address: 10007f7c
 */

undefined4 FUN_10007f7c(void)

{
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  FUN_100092e2();
  DAT_1000f100 = TlsAlloc();
  if (DAT_1000f100 != 0xffffffff) {
    lpTlsValue = (DWORD *)FUN_10009255(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_1000f100,lpTlsValue);
      if (BVar1 != 0) {
        FUN_10007fee((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        return 1;
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_10007fd0
 * Address: 10007fd0
 */

void FUN_10007fd0(void)

{
  FUN_1000930b();
  if (DAT_1000f100 != 0xffffffff) {
    TlsFree(DAT_1000f100);
    DAT_1000f100 = 0xffffffff;
  }
  return;
}



/*
 * Function: FUN_10007fee
 * Address: 10007fee
 */

void __cdecl FUN_10007fee(int param_1)

{
  *(undefined **)(param_1 + 0x50) = &DAT_1000f4a0;
  *(undefined4 *)(param_1 + 0x14) = 1;
  return;
}



/*
 * Function: FUN_10008001
 * Address: 10008001
 */

DWORD * FUN_10008001(void)

{
  DWORD dwErrCode;
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  dwErrCode = GetLastError();
  lpTlsValue = (DWORD *)TlsGetValue(DAT_1000f100);
  if (lpTlsValue == (DWORD *)0x0) {
    lpTlsValue = (DWORD *)FUN_10009255(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_1000f100,lpTlsValue);
      if (BVar1 != 0) {
        FUN_10007fee((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        goto LAB_1000805c;
      }
    }
    __amsg_exit(0x10);
  }
LAB_1000805c:
  SetLastError(dwErrCode);
  return lpTlsValue;
}



/*
 * Function: FUN_10008068
 * Address: 10008068
 */

void __cdecl FUN_10008068(LPVOID param_1)

{
  if (DAT_1000f100 != 0xffffffff) {
    if ((param_1 != (LPVOID)0x0) || (param_1 = TlsGetValue(DAT_1000f100), param_1 != (LPVOID)0x0)) {
      if (*(LPVOID *)((int)param_1 + 0x24) != (LPVOID)0x0) {
        FUN_100081bf(*(LPVOID *)((int)param_1 + 0x24));
      }
      if (*(LPVOID *)((int)param_1 + 0x28) != (LPVOID)0x0) {
        FUN_100081bf(*(LPVOID *)((int)param_1 + 0x28));
      }
      if (*(LPVOID *)((int)param_1 + 0x30) != (LPVOID)0x0) {
        FUN_100081bf(*(LPVOID *)((int)param_1 + 0x30));
      }
      if (*(LPVOID *)((int)param_1 + 0x38) != (LPVOID)0x0) {
        FUN_100081bf(*(LPVOID *)((int)param_1 + 0x38));
      }
      if (*(LPVOID *)((int)param_1 + 0x40) != (LPVOID)0x0) {
        FUN_100081bf(*(LPVOID *)((int)param_1 + 0x40));
      }
      if (*(LPVOID *)((int)param_1 + 0x44) != (LPVOID)0x0) {
        FUN_100081bf(*(LPVOID *)((int)param_1 + 0x44));
      }
      if (*(undefined **)((int)param_1 + 0x50) != &DAT_1000f4a0) {
        FUN_100081bf(*(undefined **)((int)param_1 + 0x50));
      }
      FUN_100081bf(param_1);
    }
    TlsSetValue(DAT_1000f100,(LPVOID)0x0);
    return;
  }
  return;
}



/*
 * Function: FUN_10008108
 * Address: 10008108
 */

void FUN_10008108(void)

{
  DWORD *pDVar1;
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b1d8;
  puStack_10 = &LAB_1000829c;
  pvStack_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &pvStack_14;
  pDVar1 = FUN_10008001();
  if (pDVar1[0x18] != 0) {
    local_8 = 1;
    pDVar1 = FUN_10008001();
    (*(code *)pDVar1[0x18])();
  }
  local_8 = 0xffffffff;
  FUN_100093ed();
  return;
}



/*
 * Function: FUN_10008169
 * Address: 10008169
 */

void FUN_10008169(void)

{
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000b1f0;
  puStack_10 = &LAB_1000829c;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  if (PTR_FUN_1000f104 != (undefined *)0x0) {
    local_8 = 1;
    ExceptionList = &pvStack_14;
    (*(code *)PTR_FUN_1000f104)();
  }
  local_8 = 0xffffffff;
  FUN_10008108();
  return;
}



/*
 * Function: FUN_100081bf
 * Address: 100081bf
 */

void __cdecl FUN_100081bf(LPVOID param_1)

{
  uint *puVar1;
  
  if (param_1 != (LPVOID)0x0) {
    FUN_10009377(9);
    puVar1 = (uint *)FUN_10009442((int)param_1);
    if (puVar1 != (uint *)0x0) {
      FUN_1000946d(puVar1,(uint)param_1);
      FUN_100093d8(9);
      return;
    }
    FUN_100093d8(9);
    HeapFree(DAT_1000fc00,0,param_1);
  }
  return;
}



/*
 * Function: _malloc
 * Address: 10008207
 */

/* Library Function - Single Match
    _malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl _malloc(size_t _Size)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(_Size,DAT_1000f960);
  return pvVar1;
}



/*
 * Function: __nh_malloc
 * Address: 10008219
 */

/* Library Function - Single Match
    __nh_malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl __nh_malloc(size_t _Size,int _NhFlag)

{
  int *piVar1;
  int iVar2;
  
  if (_Size < 0xffffffe1) {
    do {
      piVar1 = FUN_10008245((uint *)_Size);
      if (piVar1 != (int *)0x0) {
        return piVar1;
      }
      if (_NhFlag == 0) {
        return (void *)0x0;
      }
      iVar2 = FUN_10009c4d(_Size);
    } while (iVar2 != 0);
  }
  return (void *)0x0;
}



/*
 * Function: FUN_10008245
 * Address: 10008245
 */

int * __cdecl FUN_10008245(uint *param_1)

{
  int *piVar1;
  
  if (param_1 <= DAT_1000f528) {
    FUN_10009377(9);
    piVar1 = FUN_10009798(param_1);
    FUN_100093d8(9);
    if (piVar1 != (int *)0x0) {
      return piVar1;
    }
  }
  if (param_1 == (uint *)0x0) {
    param_1 = (uint *)0x1;
  }
  piVar1 = (int *)HeapAlloc(DAT_1000fc00,0,(int)param_1 + 0xfU & 0xfffffff0);
  return piVar1;
}



/*
 * Function: FUN_10008359
 * Address: 10008359
 */

void FUN_10008359(int param_1)

{
  __local_unwind2(*(int *)(param_1 + 0x18),*(int *)(param_1 + 0x1c));
  return;
}



/*
 * Function: FUN_10008374
 * Address: 10008374
 */

uint __thiscall FUN_10008374(void *this,int param_1,uint param_2)

{
  BOOL BVar1;
  int iVar2;
  undefined4 local_8;
  
  if (param_1 + 1U < 0x101) {
    param_1._2_2_ = *(ushort *)(PTR_DAT_1000f108 + param_1 * 2);
  }
  else {
    if ((PTR_DAT_1000f108[(param_1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      local_8 = CONCAT31((int3)((uint)this >> 8),(char)param_1) & 0xffff00ff;
      iVar2 = 1;
    }
    else {
      local_8._0_2_ = CONCAT11((char)param_1,(char)((uint)param_1 >> 8));
      local_8 = CONCAT22((short)((uint)this >> 0x10),(undefined2)local_8) & 0xff00ffff;
      iVar2 = 2;
    }
    BVar1 = FUN_10009c68(1,(LPCSTR)&local_8,iVar2,(LPWORD)((int)&param_1 + 2),0,0,1);
    if (BVar1 == 0) {
      return 0;
    }
  }
  return param_1._2_2_ & param_2;
}



/*
 * Function: FUN_10008424
 * Address: 10008424
 */

void FUN_10008424(void)

{
  if (DAT_1000fd34 != (code *)0x0) {
    (*DAT_1000fd34)();
  }
  FUN_10008528((undefined4 *)&DAT_1000f008,(undefined4 *)&DAT_1000f014);
  FUN_10008528((undefined4 *)&DAT_1000f000,(undefined4 *)&DAT_1000f004);
  return;
}



/*
 * Function: __exit
 * Address: 10008451
 */

/* Library Function - Single Match
    __exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __exit(int _Code)

{
  FUN_10008471(_Code,1,0);
  return;
}



/*
 * Function: FUN_10008462
 * Address: 10008462
 */

void FUN_10008462(void)

{
  FUN_10008471(0,0,1);
  return;
}



/*
 * Function: FUN_10008471
 * Address: 10008471
 */

void __cdecl FUN_10008471(UINT param_1,int param_2,int param_3)

{
  HANDLE hProcess;
  undefined4 *puVar1;
  UINT uExitCode;
  
  FUN_10008516();
  if (DAT_1000f7ec == 1) {
    uExitCode = param_1;
    hProcess = GetCurrentProcess();
    TerminateProcess(hProcess,uExitCode);
  }
  DAT_1000f7e8 = 1;
  DAT_1000f7e4 = (undefined)param_3;
  if (param_2 == 0) {
    if ((DAT_1000fd30 != (undefined4 *)0x0) &&
       (puVar1 = (undefined4 *)(DAT_1000fd2c - 4), DAT_1000fd30 <= puVar1)) {
      do {
        if ((code *)*puVar1 != (code *)0x0) {
          (*(code *)*puVar1)();
        }
        puVar1 = puVar1 + -1;
      } while (DAT_1000fd30 <= puVar1);
    }
    FUN_10008528((undefined4 *)&DAT_1000f018,(undefined4 *)&DAT_1000f01c);
  }
  FUN_10008528((undefined4 *)&DAT_1000f020,(undefined4 *)&DAT_1000f028);
  if (param_3 == 0) {
    DAT_1000f7ec = 1;
                    /* WARNING: Subroutine does not return */
    ExitProcess(param_1);
  }
  FUN_1000851f();
  return;
}



/*
 * Function: FUN_10008516
 * Address: 10008516
 */

void FUN_10008516(void)

{
  FUN_10009377(0xd);
  return;
}



/*
 * Function: FUN_1000851f
 * Address: 1000851f
 */

void FUN_1000851f(void)

{
  FUN_100093d8(0xd);
  return;
}



/*
 * Function: FUN_10008528
 * Address: 10008528
 */

void __cdecl FUN_10008528(undefined4 *param_1,undefined4 *param_2)

{
  for (; param_1 < param_2; param_1 = param_1 + 1) {
    if ((code *)*param_1 != (code *)0x0) {
      (*(code *)*param_1)();
    }
  }
  return;
}



/*
 * Function: FUN_10008542
 * Address: 10008542
 */

void FUN_10008542(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  DWORD DVar4;
  HANDLE hFile;
  UINT *pUVar5;
  int iVar6;
  uint uVar7;
  UINT UVar8;
  UINT UVar9;
  _STARTUPINFOA local_4c;
  byte *local_8;
  
  puVar2 = (undefined4 *)_malloc(0x480);
  if (puVar2 == (undefined4 *)0x0) {
    __amsg_exit(0x1b);
  }
  DAT_1000fd20 = 0x20;
  DAT_1000fc20 = puVar2;
  for (; puVar2 < DAT_1000fc20 + 0x120; puVar2 = puVar2 + 9) {
    *(undefined *)(puVar2 + 1) = 0;
    *puVar2 = 0xffffffff;
    puVar2[2] = 0;
    *(undefined *)((int)puVar2 + 5) = 10;
  }
  GetStartupInfoA(&local_4c);
  if ((local_4c.cbReserved2 != 0) && ((UINT *)local_4c.lpReserved2 != (UINT *)0x0)) {
    UVar8 = *(UINT *)local_4c.lpReserved2;
    pUVar5 = (UINT *)((int)local_4c.lpReserved2 + 4);
    local_8 = (byte *)((int)pUVar5 + UVar8);
    if (0x7ff < (int)UVar8) {
      UVar8 = 0x800;
    }
    UVar9 = UVar8;
    if ((int)DAT_1000fd20 < (int)UVar8) {
      puVar2 = &DAT_1000fc24;
      do {
        puVar3 = (undefined4 *)_malloc(0x480);
        UVar9 = DAT_1000fd20;
        if (puVar3 == (undefined4 *)0x0) break;
        DAT_1000fd20 = DAT_1000fd20 + 0x20;
        *puVar2 = puVar3;
        puVar1 = puVar3;
        for (; puVar3 < puVar1 + 0x120; puVar3 = puVar3 + 9) {
          *(undefined *)(puVar3 + 1) = 0;
          *puVar3 = 0xffffffff;
          puVar3[2] = 0;
          *(undefined *)((int)puVar3 + 5) = 10;
          puVar1 = (undefined4 *)*puVar2;
        }
        puVar2 = puVar2 + 1;
        UVar9 = UVar8;
      } while ((int)DAT_1000fd20 < (int)UVar8);
    }
    uVar7 = 0;
    if (0 < (int)UVar9) {
      do {
        if (((*(HANDLE *)local_8 != (HANDLE)0xffffffff) && ((*(byte *)pUVar5 & 1) != 0)) &&
           (((*(byte *)pUVar5 & 8) != 0 || (DVar4 = GetFileType(*(HANDLE *)local_8), DVar4 != 0))))
        {
          puVar2 = (undefined4 *)((int)(&DAT_1000fc20)[(int)uVar7 >> 5] + (uVar7 & 0x1f) * 0x24);
          *puVar2 = *(undefined4 *)local_8;
          *(byte *)(puVar2 + 1) = *(byte *)pUVar5;
        }
        local_8 = local_8 + 4;
        uVar7 = uVar7 + 1;
        pUVar5 = (UINT *)((int)pUVar5 + 1);
      } while ((int)uVar7 < (int)UVar9);
    }
  }
  iVar6 = 0;
  do {
    puVar2 = DAT_1000fc20 + iVar6 * 9;
    if (DAT_1000fc20[iVar6 * 9] == -1) {
      *(undefined *)(puVar2 + 1) = 0x81;
      if (iVar6 == 0) {
        DVar4 = 0xfffffff6;
      }
      else {
        DVar4 = 0xfffffff5 - (iVar6 != 1);
      }
      hFile = GetStdHandle(DVar4);
      if ((hFile != (HANDLE)0xffffffff) && (DVar4 = GetFileType(hFile), DVar4 != 0)) {
        *puVar2 = hFile;
        if ((DVar4 & 0xff) != 2) {
          if ((DVar4 & 0xff) == 3) {
            *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 8;
          }
          goto LAB_100086e7;
        }
      }
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x40;
    }
    else {
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x80;
    }
LAB_100086e7:
    iVar6 = iVar6 + 1;
    if (2 < iVar6) {
      SetHandleCount(DAT_1000fd20);
      return;
    }
  } while( true );
}



/*
 * Function: FUN_100086fe
 * Address: 100086fe
 */

void FUN_100086fe(void)

{
  LPCRITICAL_SECTION lpCriticalSection;
  uint *puVar1;
  uint uVar2;
  
  puVar1 = &DAT_1000fc20;
  do {
    uVar2 = *puVar1;
    if (uVar2 != 0) {
      if (uVar2 < uVar2 + 0x480) {
        lpCriticalSection = (LPCRITICAL_SECTION)(uVar2 + 0xc);
        do {
          if (lpCriticalSection[-1].SpinCount != 0) {
            DeleteCriticalSection(lpCriticalSection);
          }
          uVar2 = uVar2 + 0x24;
          lpCriticalSection = (LPCRITICAL_SECTION)&lpCriticalSection[1].OwningThread;
        } while (uVar2 < *puVar1 + 0x480);
      }
      FUN_100081bf((LPVOID)*puVar1);
      *puVar1 = 0;
    }
    puVar1 = puVar1 + 1;
  } while ((int)puVar1 < 0x1000fd20);
  return;
}



/*
 * Function: FUN_10008752
 * Address: 10008752
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10008752(void)

{
  char cVar1;
  size_t sVar2;
  undefined4 *puVar3;
  void *pvVar4;
  int iVar5;
  uint *puVar6;
  
  if (DAT_1000fd28 == 0) {
    FUN_1000a303();
  }
  iVar5 = 0;
  for (puVar6 = DAT_1000f79c; *(char *)puVar6 != '\0'; puVar6 = (uint *)((int)puVar6 + sVar2 + 1)) {
    if (*(char *)puVar6 != '=') {
      iVar5 = iVar5 + 1;
    }
    sVar2 = _strlen((char *)puVar6);
  }
  puVar3 = (undefined4 *)_malloc(iVar5 * 4 + 4);
  _DAT_1000f7cc = puVar3;
  if (puVar3 == (undefined4 *)0x0) {
    __amsg_exit(9);
  }
  cVar1 = *(char *)DAT_1000f79c;
  puVar6 = DAT_1000f79c;
  while (cVar1 != '\0') {
    sVar2 = _strlen((char *)puVar6);
    if (*(char *)puVar6 != '=') {
      pvVar4 = _malloc(sVar2 + 1);
      *puVar3 = pvVar4;
      if (pvVar4 == (void *)0x0) {
        __amsg_exit(9);
      }
      FUN_10009dc0((uint *)*puVar3,puVar6);
      puVar3 = puVar3 + 1;
    }
    puVar6 = (uint *)((int)puVar6 + sVar2 + 1);
    cVar1 = *(char *)puVar6;
  }
  FUN_100081bf(DAT_1000f79c);
  DAT_1000f79c = (uint *)0x0;
  *puVar3 = 0;
  _DAT_1000fd24 = 1;
  return;
}



/*
 * Function: FUN_1000880b
 * Address: 1000880b
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000880b(void)

{
  undefined4 *puVar1;
  byte *pbVar2;
  int local_c;
  int local_8;
  
  if (DAT_1000fd28 == 0) {
    FUN_1000a303();
  }
  GetModuleFileNameA((HMODULE)0x0,&DAT_1000f7f0,0x104);
  _DAT_1000f7dc = &DAT_1000f7f0;
  pbVar2 = &DAT_1000f7f0;
  if (*DAT_1000fd38 != 0) {
    pbVar2 = DAT_1000fd38;
  }
  FUN_100088a4(pbVar2,(undefined4 *)0x0,(byte *)0x0,&local_8,&local_c);
  puVar1 = (undefined4 *)_malloc(local_c + local_8 * 4);
  if (puVar1 == (undefined4 *)0x0) {
    __amsg_exit(8);
  }
  FUN_100088a4(pbVar2,puVar1,(byte *)(puVar1 + local_8),&local_8,&local_c);
  _DAT_1000f7c4 = puVar1;
  _DAT_1000f7c0 = local_8 + -1;
  return;
}



/*
 * Function: FUN_100088a4
 * Address: 100088a4
 */

void __cdecl FUN_100088a4(byte *param_1,undefined4 *param_2,byte *param_3,int *param_4,int *param_5)

{
  byte bVar1;
  bool bVar2;
  bool bVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  undefined4 *puVar7;
  
  *param_5 = 0;
  *param_4 = 1;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = param_3;
    param_2 = param_2 + 1;
  }
  if (*param_1 == 0x22) {
    while( true ) {
      bVar1 = param_1[1];
      pbVar4 = param_1 + 1;
      if ((bVar1 == 0x22) || (bVar1 == 0)) break;
      if ((((&DAT_1000fae1)[bVar1] & 4) != 0) && (*param_5 = *param_5 + 1, param_3 != (byte *)0x0))
      {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
        pbVar4 = param_1 + 2;
      }
      *param_5 = *param_5 + 1;
      param_1 = pbVar4;
      if (param_3 != (byte *)0x0) {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
      }
    }
    *param_5 = *param_5 + 1;
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    if (*pbVar4 == 0x22) {
      pbVar4 = param_1 + 2;
    }
  }
  else {
    do {
      *param_5 = *param_5 + 1;
      if (param_3 != (byte *)0x0) {
        *param_3 = *param_1;
        param_3 = param_3 + 1;
      }
      bVar1 = *param_1;
      pbVar4 = param_1 + 1;
      if (((&DAT_1000fae1)[bVar1] & 4) != 0) {
        *param_5 = *param_5 + 1;
        if (param_3 != (byte *)0x0) {
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        pbVar4 = param_1 + 2;
      }
      if (bVar1 == 0x20) break;
      if (bVar1 == 0) goto LAB_1000894f;
      param_1 = pbVar4;
    } while (bVar1 != 9);
    if (bVar1 == 0) {
LAB_1000894f:
      pbVar4 = pbVar4 + -1;
    }
    else if (param_3 != (byte *)0x0) {
      param_3[-1] = 0;
    }
  }
  bVar2 = false;
  puVar7 = param_2;
  while (*pbVar4 != 0) {
    for (; (*pbVar4 == 0x20 || (*pbVar4 == 9)); pbVar4 = pbVar4 + 1) {
    }
    if (*pbVar4 == 0) break;
    if (puVar7 != (undefined4 *)0x0) {
      *puVar7 = param_3;
      puVar7 = puVar7 + 1;
      param_2 = puVar7;
    }
    *param_4 = *param_4 + 1;
    while( true ) {
      bVar3 = true;
      uVar6 = 0;
      for (; *pbVar4 == 0x5c; pbVar4 = pbVar4 + 1) {
        uVar6 = uVar6 + 1;
      }
      if (*pbVar4 == 0x22) {
        pbVar5 = pbVar4;
        if ((uVar6 & 1) == 0) {
          if ((!bVar2) || (pbVar5 = pbVar4 + 1, pbVar4[1] != 0x22)) {
            bVar3 = false;
            pbVar5 = pbVar4;
          }
          bVar2 = !bVar2;
          puVar7 = param_2;
        }
        uVar6 = uVar6 >> 1;
        pbVar4 = pbVar5;
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        if (param_3 != (byte *)0x0) {
          *param_3 = 0x5c;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      bVar1 = *pbVar4;
      if ((bVar1 == 0) || ((!bVar2 && ((bVar1 == 0x20 || (bVar1 == 9)))))) break;
      if (bVar3) {
        if (param_3 == (byte *)0x0) {
          if (((&DAT_1000fae1)[bVar1] & 4) != 0) {
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
        }
        else {
          if (((&DAT_1000fae1)[bVar1] & 4) != 0) {
            *param_3 = bVar1;
            param_3 = param_3 + 1;
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      pbVar4 = pbVar4 + 1;
    }
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    *param_5 = *param_5 + 1;
  }
  if (puVar7 != (undefined4 *)0x0) {
    *puVar7 = 0;
  }
  *param_4 = *param_4 + 1;
  return;
}



/*
 * Function: FUN_10008a58
 * Address: 10008a58
 */

LPSTR FUN_10008a58(void)

{
  char cVar1;
  WCHAR WVar2;
  WCHAR *pWVar3;
  WCHAR *pWVar4;
  int iVar5;
  size_t _Size;
  LPSTR pCVar6;
  char *pcVar7;
  LPWCH lpWideCharStr;
  LPCH pCVar9;
  LPSTR local_8;
  char *pcVar8;
  
  lpWideCharStr = (LPWCH)0x0;
  pCVar9 = (LPCH)0x0;
  if (DAT_1000f8f4 == 0) {
    lpWideCharStr = GetEnvironmentStringsW();
    if (lpWideCharStr != (LPWCH)0x0) {
      DAT_1000f8f4 = 1;
LAB_10008aaf:
      if ((lpWideCharStr == (LPWCH)0x0) &&
         (lpWideCharStr = GetEnvironmentStringsW(), lpWideCharStr == (LPWCH)0x0)) {
        return (LPSTR)0x0;
      }
      WVar2 = *lpWideCharStr;
      pWVar4 = lpWideCharStr;
      while (WVar2 != L'\0') {
        do {
          pWVar3 = pWVar4;
          pWVar4 = pWVar3 + 1;
        } while (*pWVar4 != L'\0');
        pWVar4 = pWVar3 + 2;
        WVar2 = *pWVar4;
      }
      iVar5 = ((int)pWVar4 - (int)lpWideCharStr >> 1) + 1;
      _Size = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0);
      local_8 = (LPSTR)0x0;
      if (((_Size != 0) && (pCVar6 = (LPSTR)_malloc(_Size), pCVar6 != (LPSTR)0x0)) &&
         (iVar5 = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,pCVar6,_Size,(LPCSTR)0x0,(LPBOOL)0x0),
         local_8 = pCVar6, iVar5 == 0)) {
        FUN_100081bf(pCVar6);
        local_8 = (LPSTR)0x0;
      }
      FreeEnvironmentStringsW(lpWideCharStr);
      return local_8;
    }
    pCVar9 = GetEnvironmentStrings();
    if (pCVar9 == (LPCH)0x0) {
      return (LPSTR)0x0;
    }
    DAT_1000f8f4 = 2;
  }
  else {
    if (DAT_1000f8f4 == 1) goto LAB_10008aaf;
    if (DAT_1000f8f4 != 2) {
      return (LPSTR)0x0;
    }
  }
  if ((pCVar9 == (LPCH)0x0) && (pCVar9 = GetEnvironmentStrings(), pCVar9 == (LPCH)0x0)) {
    return (LPSTR)0x0;
  }
  cVar1 = *pCVar9;
  pcVar7 = pCVar9;
  while (cVar1 != '\0') {
    do {
      pcVar8 = pcVar7;
      pcVar7 = pcVar8 + 1;
    } while (*pcVar7 != '\0');
    pcVar7 = pcVar8 + 2;
    cVar1 = *pcVar7;
  }
  pCVar6 = (LPSTR)_malloc((size_t)(pcVar7 + (1 - (int)pCVar9)));
  if (pCVar6 == (LPSTR)0x0) {
    pCVar6 = (LPSTR)0x0;
  }
  else {
    FUN_1000a320((undefined4 *)pCVar6,(undefined4 *)pCVar9,(uint)(pcVar7 + (1 - (int)pCVar9)));
  }
  FreeEnvironmentStringsA(pCVar9);
  return pCVar6;
}



/*
 * Function: FUN_10008b8a
 * Address: 10008b8a
 */

undefined4 __cdecl FUN_10008b8a(int param_1)

{
  int iVar1;
  
  DAT_1000fc00 = HeapCreate((uint)(param_1 == 0),0x1000,0);
  if (DAT_1000fc00 != (HANDLE)0x0) {
    iVar1 = FUN_10009404();
    if (iVar1 != 0) {
      return 1;
    }
    HeapDestroy(DAT_1000fc00);
  }
  return 0;
}



/*
 * Function: FUN_10008bc6
 * Address: 10008bc6
 */

void FUN_10008bc6(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = 0;
  if (0 < DAT_1000fbf8) {
    puVar2 = (undefined4 *)((int)DAT_1000fbfc + 0xc);
    do {
      VirtualFree((LPVOID)*puVar2,0x100000,0x4000);
      VirtualFree((LPVOID)*puVar2,0,0x8000);
      HeapFree(DAT_1000fc00,0,(LPVOID)puVar2[1]);
      puVar2 = puVar2 + 5;
      iVar1 = iVar1 + 1;
    } while (iVar1 < DAT_1000fbf8);
  }
  HeapFree(DAT_1000fc00,0,DAT_1000fbfc);
  HeapDestroy(DAT_1000fc00);
  return;
}



/*
 * Function: FUN_10008c3b
 * Address: 10008c3b
 */

undefined4 FUN_10008c3b(void)

{
  return 1;
}



/*
 * Function: FUN_10008c41
 * Address: 10008c41
 */

void FUN_10008c41(void)

{
  if ((DAT_1000f7a4 == 1) || ((DAT_1000f7a4 == 0 && (DAT_1000f7a8 == 1)))) {
    FUN_10008c7a(0xfc);
    if (DAT_1000f8f8 != (code *)0x0) {
      (*DAT_1000f8f8)();
    }
    FUN_10008c7a(0xff);
  }
  return;
}



/*
 * Function: FUN_10008c7a
 * Address: 10008c7a
 */

void __cdecl FUN_10008c7a(DWORD param_1)

{
  undefined4 *puVar1;
  DWORD *pDVar2;
  DWORD DVar3;
  size_t sVar4;
  HANDLE hFile;
  int iVar5;
  uint *_Dest;
  undefined auStackY_1e3 [7];
  LPCVOID lpBuffer;
  LPOVERLAPPED lpOverlapped;
  uint local_1a8 [65];
  uint local_a4 [40];
  
  iVar5 = 0;
  pDVar2 = &DAT_1000f348;
  do {
    if (param_1 == *pDVar2) break;
    pDVar2 = pDVar2 + 2;
    iVar5 = iVar5 + 1;
  } while ((int)pDVar2 < 0x1000f3d8);
  if (param_1 == (&DAT_1000f348)[iVar5 * 2]) {
    if ((DAT_1000f7a4 == 1) || ((DAT_1000f7a4 == 0 && (DAT_1000f7a8 == 1)))) {
      pDVar2 = &param_1;
      puVar1 = (undefined4 *)(iVar5 * 8 + 0x1000f34c);
      lpOverlapped = (LPOVERLAPPED)0x0;
      sVar4 = _strlen((char *)*puVar1);
      lpBuffer = (LPCVOID)*puVar1;
      hFile = GetStdHandle(0xfffffff4);
      WriteFile(hFile,lpBuffer,sVar4,pDVar2,lpOverlapped);
    }
    else if (param_1 != 0xfc) {
      DVar3 = GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_1a8,0x104);
      if (DVar3 == 0) {
        FUN_10009dc0(local_1a8,(uint *)"<program name unknown>");
      }
      _Dest = local_1a8;
      sVar4 = _strlen((char *)local_1a8);
      if (0x3c < sVar4 + 1) {
        sVar4 = _strlen((char *)local_1a8);
        _Dest = (uint *)(auStackY_1e3 + sVar4);
        _strncpy((char *)_Dest,"...",3);
      }
      FUN_10009dc0(local_a4,(uint *)"Runtime Error!\n\nProgram: ");
      FUN_10009dd0(local_a4,_Dest);
      FUN_10009dd0(local_a4,(uint *)&DAT_1000b4bc);
      FUN_10009dd0(local_a4,*(uint **)(iVar5 * 8 + 0x1000f34c));
      auStackY_1e3._3_4_ = 0x10008d9e;
      FUN_1000a655(local_a4,"Microsoft Visual C++ Runtime Library",0x12010);
    }
  }
  return;
}



/*
 * Function: FUN_10008dcd
 * Address: 10008dcd
 */

int FUN_10008dcd(int *param_1)

{
  int *piVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  
  piVar1 = (int *)*param_1;
  if (((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) {
    iVar3 = FUN_10008108();
    return iVar3;
  }
  if ((DAT_1000f8fc != (FARPROC)0x0) &&
     (bVar2 = FUN_10008e69(DAT_1000f8fc), CONCAT31(extraout_var,bVar2) != 0)) {
    iVar3 = (*DAT_1000f8fc)(param_1);
    return iVar3;
  }
  return 0;
}



/*
 * Function: FUN_10008e31
 * Address: 10008e31
 */

bool __cdecl FUN_10008e31(void *param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadReadPtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_10008e4d
 * Address: 10008e4d
 */

bool __cdecl FUN_10008e4d(LPVOID param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadWritePtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_10008e69
 * Address: 10008e69
 */

bool __cdecl FUN_10008e69(FARPROC param_1)

{
  BOOL BVar1;
  
  BVar1 = IsBadCodePtr(param_1);
  return BVar1 == 0;
}



/*
 * Function: _strcmp
 * Address: 10008e90
 */

/* Library Function - Single Match
    _strcmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strcmp(char *_Str1,char *_Str2)

{
  undefined2 uVar1;
  undefined4 uVar2;
  byte bVar3;
  byte bVar4;
  bool bVar5;
  
  if (((uint)_Str1 & 3) != 0) {
    if (((uint)_Str1 & 1) != 0) {
      bVar4 = *_Str1;
      _Str1 = _Str1 + 1;
      bVar5 = bVar4 < (byte)*_Str2;
      if (bVar4 != *_Str2) goto LAB_10008ed4;
      _Str2 = _Str2 + 1;
      if (bVar4 == 0) {
        return 0;
      }
      if (((uint)_Str1 & 2) == 0) goto LAB_10008ea0;
    }
    uVar1 = *(undefined2 *)_Str1;
    _Str1 = _Str1 + 2;
    bVar4 = (byte)uVar1;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) goto LAB_10008ed4;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((ushort)uVar1 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) goto LAB_10008ed4;
    if (bVar4 == 0) {
      return 0;
    }
    _Str2 = (char *)((byte *)_Str2 + 2);
  }
LAB_10008ea0:
  while( true ) {
    uVar2 = *(undefined4 *)_Str1;
    bVar4 = (byte)uVar2;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 0x10);
    bVar5 = bVar4 < ((byte *)_Str2)[2];
    if (bVar4 != ((byte *)_Str2)[2]) break;
    bVar3 = (byte)((uint)uVar2 >> 0x18);
    if (bVar4 == 0) {
      return 0;
    }
    bVar5 = bVar3 < ((byte *)_Str2)[3];
    if (bVar3 != ((byte *)_Str2)[3]) break;
    _Str2 = (char *)((byte *)_Str2 + 4);
    _Str1 = _Str1 + 4;
    if (bVar3 == 0) {
      return 0;
    }
  }
LAB_10008ed4:
  return (uint)bVar5 * -2 + 1;
}



/*
 * Function: FUN_10008f20
 * Address: 10008f20
 */

undefined4 * __cdecl FUN_10008f20(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_100090d7_caseD_2;
        case 3:
          goto switchD_100090d7_caseD_3;
        }
        goto switchD_100090d7_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_100090d7_caseD_0;
      case 1:
        goto switchD_100090d7_caseD_1;
      case 2:
        goto switchD_100090d7_caseD_2;
      case 3:
        goto switchD_100090d7_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100090d7_caseD_2;
            case 3:
              goto switchD_100090d7_caseD_3;
            }
            goto switchD_100090d7_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100090d7_caseD_2;
            case 3:
              goto switchD_100090d7_caseD_3;
            }
            goto switchD_100090d7_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100090d7_caseD_2;
            case 3:
              goto switchD_100090d7_caseD_3;
            }
            goto switchD_100090d7_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_100090d7_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_100090d7_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_100090d7_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_100090d7_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_10008f55_caseD_2;
      case 3:
        goto switchD_10008f55_caseD_3;
      }
      goto switchD_10008f55_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_10008f55_caseD_0;
    case 1:
      goto switchD_10008f55_caseD_1;
    case 2:
      goto switchD_10008f55_caseD_2;
    case 3:
      goto switchD_10008f55_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10008f55_caseD_2;
          case 3:
            goto switchD_10008f55_caseD_3;
          }
          goto switchD_10008f55_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10008f55_caseD_2;
          case 3:
            goto switchD_10008f55_caseD_3;
          }
          goto switchD_10008f55_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10008f55_caseD_2;
          case 3:
            goto switchD_10008f55_caseD_3;
          }
          goto switchD_10008f55_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_10008f55_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_10008f55_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_10008f55_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_10008f55_caseD_0:
  return param_1;
}



/*
 * Function: FUN_10009255
 * Address: 10009255
 */

int * __cdecl FUN_10009255(int param_1,int param_2)

{
  int iVar1;
  uint *_Size;
  uint *puVar2;
  int *piVar3;
  
  _Size = (uint *)(param_1 * param_2);
  puVar2 = _Size;
  if (_Size < (uint *)0xffffffe1) {
    if (_Size == (uint *)0x0) {
      puVar2 = (uint *)0x1;
    }
    puVar2 = (uint *)((int)puVar2 + 0xfU & 0xfffffff0);
  }
  do {
    piVar3 = (int *)0x0;
    if (puVar2 < (uint *)0xffffffe1) {
      if (_Size < DAT_1000f528 || (int)_Size - (int)DAT_1000f528 == 0) {
        FUN_10009377(9);
        piVar3 = FUN_10009798(_Size);
        FUN_100093d8(9);
        if (piVar3 != (int *)0x0) {
          _memset(piVar3,0,(size_t)_Size);
          return piVar3;
        }
      }
      piVar3 = (int *)HeapAlloc(DAT_1000fc00,8,(SIZE_T)puVar2);
      if (piVar3 != (int *)0x0) {
        return piVar3;
      }
    }
    if (DAT_1000f960 == 0) {
      return piVar3;
    }
    iVar1 = FUN_10009c4d(puVar2);
  } while (iVar1 != 0);
  return (int *)0x0;
}



/*
 * Function: FUN_100092e2
 * Address: 100092e2
 */

void FUN_100092e2(void)

{
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f424);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f414);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f404);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f3e4);
  return;
}



/*
 * Function: FUN_1000930b
 * Address: 1000930b
 */

void FUN_1000930b(void)

{
  undefined **ppuVar1;
  
  ppuVar1 = (undefined **)&DAT_1000f3e0;
  do {
    if (((((LPCRITICAL_SECTION)*ppuVar1 != (LPCRITICAL_SECTION)0x0) &&
         (ppuVar1 != &PTR_DAT_1000f424)) && (ppuVar1 != &PTR_DAT_1000f414)) &&
       ((ppuVar1 != &PTR_DAT_1000f404 && (ppuVar1 != &PTR_DAT_1000f3e4)))) {
      DeleteCriticalSection((LPCRITICAL_SECTION)*ppuVar1);
      FUN_100081bf(*ppuVar1);
    }
    ppuVar1 = ppuVar1 + 1;
  } while ((int)ppuVar1 < 0x1000f4a0);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f404);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f414);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f424);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000f3e4);
  return;
}



/*
 * Function: FUN_10009377
 * Address: 10009377
 */

void __cdecl FUN_10009377(int param_1)

{
  int *piVar1;
  LPCRITICAL_SECTION lpCriticalSection;
  
  piVar1 = &DAT_1000f3e0 + param_1;
  if ((&DAT_1000f3e0)[param_1] == 0) {
    lpCriticalSection = (LPCRITICAL_SECTION)_malloc(0x18);
    if (lpCriticalSection == (LPCRITICAL_SECTION)0x0) {
      __amsg_exit(0x11);
    }
    FUN_10009377(0x11);
    if (*piVar1 == 0) {
      InitializeCriticalSection(lpCriticalSection);
      *piVar1 = (int)lpCriticalSection;
    }
    else {
      FUN_100081bf(lpCriticalSection);
    }
    FUN_100093d8(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)*piVar1);
  return;
}



/*
 * Function: FUN_100093d8
 * Address: 100093d8
 */

void __cdecl FUN_100093d8(int param_1)

{
  LeaveCriticalSection((LPCRITICAL_SECTION)(&DAT_1000f3e0)[param_1]);
  return;
}



/*
 * Function: FUN_100093ed
 * Address: 100093ed
 */

void FUN_100093ed(void)

{
  FUN_10008c7a(10);
  FUN_1000a838((DWORD *)0x16);
                    /* WARNING: Subroutine does not return */
  __exit(3);
}



/*
 * Function: FUN_10009404
 * Address: 10009404
 */

undefined4 FUN_10009404(void)

{
  DAT_1000fbfc = HeapAlloc(DAT_1000fc00,0,0x140);
  if (DAT_1000fbfc == (LPVOID)0x0) {
    return 0;
  }
  DAT_1000fbf4 = 0;
  DAT_1000fbf8 = 0;
  DAT_1000fbf0 = DAT_1000fbfc;
  DAT_1000fbe8 = 0x10;
  return 1;
}



/*
 * Function: FUN_10009442
 * Address: 10009442
 */

uint __cdecl FUN_10009442(int param_1)

{
  uint uVar1;
  
  uVar1 = DAT_1000fbfc;
  while( true ) {
    if (DAT_1000fbfc + DAT_1000fbf8 * 0x14 <= uVar1) {
      return 0;
    }
    if ((uint)(param_1 - *(int *)(uVar1 + 0xc)) < 0x100000) break;
    uVar1 = uVar1 + 0x14;
  }
  return uVar1;
}



/*
 * Function: FUN_1000946d
 * Address: 1000946d
 */

void __cdecl FUN_1000946d(uint *param_1,uint param_2)

{
  char *pcVar1;
  uint *puVar2;
  int *piVar3;
  char cVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte bVar8;
  int *piVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int local_10;
  
  uVar5 = param_1[4];
  iVar6 = *(int *)(param_2 - 4);
  piVar9 = (int *)(param_2 - 4);
  uVar10 = param_2 - param_1[3] >> 0xf;
  uVar7 = *(uint *)(param_2 - 8);
  local_10 = iVar6 + -1;
  piVar3 = (int *)(uVar10 * 0x204 + 0x144 + uVar5);
  uVar12 = *(uint *)(local_10 + (int)piVar9);
  if ((uVar12 & 1) == 0) {
    param_2 = ((int)uVar12 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    if (*(int *)(iVar6 + 3 + (int)piVar9) == *(int *)(iVar6 + 7 + (int)piVar9)) {
      if (param_2 < 0x20) {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar11;
        }
      }
      else {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar11;
        }
      }
    }
    *(undefined4 *)(*(int *)(iVar6 + 7 + (int)piVar9) + 4) =
         *(undefined4 *)(iVar6 + 3 + (int)piVar9);
    local_10 = local_10 + uVar12;
    *(undefined4 *)(*(int *)(iVar6 + 3 + (int)piVar9) + 8) =
         *(undefined4 *)(iVar6 + 7 + (int)piVar9);
  }
  uVar12 = (local_10 >> 4) - 1;
  if (0x3f < uVar12) {
    uVar12 = 0x3f;
  }
  if ((uVar7 & 1) == 0) {
    piVar9 = (int *)((int)piVar9 - uVar7);
    param_2 = ((int)uVar7 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    local_10 = local_10 + uVar7;
    uVar12 = (local_10 >> 4) - 1;
    if (0x3f < uVar12) {
      uVar12 = 0x3f;
    }
    if (param_2 != uVar12) {
      if (piVar9[1] == piVar9[2]) {
        if (param_2 < 0x20) {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            *param_1 = *param_1 & uVar11;
          }
        }
        else {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            param_1[1] = param_1[1] & uVar11;
          }
        }
      }
      *(int *)(piVar9[2] + 4) = piVar9[1];
      *(int *)(piVar9[1] + 8) = piVar9[2];
    }
  }
  if (((uVar7 & 1) != 0) || (param_2 != uVar12)) {
    piVar9[1] = piVar3[uVar12 * 2 + 1];
    piVar9[2] = (int)(piVar3 + uVar12 * 2);
    (piVar3 + uVar12 * 2)[1] = (int)piVar9;
    *(int **)(piVar9[1] + 8) = piVar9;
    if (piVar9[1] == piVar9[2]) {
      cVar4 = *(char *)(uVar12 + 4 + uVar5);
      *(char *)(uVar12 + 4 + uVar5) = cVar4 + '\x01';
      bVar8 = (byte)uVar12;
      if (uVar12 < 0x20) {
        if (cVar4 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar8 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 & 0x1f);
      }
      else {
        if (cVar4 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
      }
    }
  }
  *piVar9 = local_10;
  *(int *)(local_10 + -4 + (int)piVar9) = local_10;
  *piVar3 = *piVar3 + -1;
  uVar5 = DAT_1000fbec;
  puVar2 = DAT_1000fbf4;
  if ((*piVar3 == 0) && (uVar5 = uVar10, puVar2 = param_1, DAT_1000fbf4 != (uint *)0x0)) {
    VirtualFree((LPVOID)(DAT_1000fbec * 0x8000 + DAT_1000fbf4[3]),0x8000,0x4000);
    DAT_1000fbf4[2] = DAT_1000fbf4[2] | 0x80000000U >> ((byte)DAT_1000fbec & 0x1f);
    *(undefined4 *)(DAT_1000fbf4[4] + 0xc4 + DAT_1000fbec * 4) = 0;
    *(char *)(DAT_1000fbf4[4] + 0x43) = *(char *)(DAT_1000fbf4[4] + 0x43) + -1;
    if (*(char *)(DAT_1000fbf4[4] + 0x43) == '\0') {
      DAT_1000fbf4[1] = DAT_1000fbf4[1] & 0xfffffffe;
    }
    puVar2 = param_1;
    if (DAT_1000fbf4[2] == 0xffffffff) {
      VirtualFree((LPVOID)DAT_1000fbf4[3],0,0x8000);
      HeapFree(DAT_1000fc00,0,(LPVOID)DAT_1000fbf4[4]);
      FUN_10008f20(DAT_1000fbf4,DAT_1000fbf4 + 5,
                   (DAT_1000fbf8 * 0x14 - (int)DAT_1000fbf4) + -0x14 + DAT_1000fbfc);
      DAT_1000fbf8 = DAT_1000fbf8 + -1;
      if (DAT_1000fbf4 < param_1) {
        param_1 = param_1 + -5;
      }
      DAT_1000fbf0 = DAT_1000fbfc;
      puVar2 = param_1;
    }
  }
  DAT_1000fbf4 = puVar2;
  DAT_1000fbec = uVar5;
  return;
}



/*
 * Function: FUN_10009798
 * Address: 10009798
 */

int * __cdecl FUN_10009798(uint *param_1)

{
  char *pcVar1;
  int *piVar2;
  char cVar3;
  int *piVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  uint *puVar8;
  int iVar9;
  int *piVar10;
  uint *puVar11;
  uint *puVar12;
  uint uVar13;
  int iVar14;
  uint local_10;
  uint local_c;
  int local_8;
  
  puVar8 = DAT_1000fbfc + DAT_1000fbf8 * 5;
  uVar6 = (int)param_1 + 0x17U & 0xfffffff0;
  iVar7 = ((int)((int)param_1 + 0x17U) >> 4) + -1;
  bVar5 = (byte)iVar7;
  if (iVar7 < 0x20) {
    local_10 = 0xffffffff >> (bVar5 & 0x1f);
    local_c = 0xffffffff;
  }
  else {
    local_c = 0xffffffff >> (bVar5 - 0x20 & 0x1f);
    local_10 = 0;
  }
  param_1 = DAT_1000fbf0;
  if (DAT_1000fbf0 < puVar8) {
    do {
      if ((param_1[1] & local_c) != 0 || (*param_1 & local_10) != 0) break;
      param_1 = param_1 + 5;
    } while (param_1 < puVar8);
  }
  puVar11 = DAT_1000fbfc;
  if (param_1 == puVar8) {
    for (; (puVar11 < DAT_1000fbf0 && ((puVar11[1] & local_c) == 0 && (*puVar11 & local_10) == 0));
        puVar11 = puVar11 + 5) {
    }
    param_1 = puVar11;
    if (puVar11 == DAT_1000fbf0) {
      for (; (puVar11 < puVar8 && (puVar11[2] == 0)); puVar11 = puVar11 + 5) {
      }
      puVar12 = DAT_1000fbfc;
      param_1 = puVar11;
      if (puVar11 == puVar8) {
        for (; (puVar12 < DAT_1000fbf0 && (puVar12[2] == 0)); puVar12 = puVar12 + 5) {
        }
        param_1 = puVar12;
        if ((puVar12 == DAT_1000fbf0) && (param_1 = FUN_10009aa1(), param_1 == (uint *)0x0)) {
          return (int *)0x0;
        }
      }
      iVar7 = FUN_10009b52((int)param_1);
      *(int *)param_1[4] = iVar7;
      if (*(int *)param_1[4] == -1) {
        return (int *)0x0;
      }
    }
  }
  piVar4 = (int *)param_1[4];
  local_8 = *piVar4;
  if ((local_8 == -1) ||
     ((piVar4[local_8 + 0x31] & local_c) == 0 && (piVar4[local_8 + 0x11] & local_10) == 0)) {
    local_8 = 0;
    puVar8 = (uint *)(piVar4 + 0x11);
    if ((piVar4[0x31] & local_c) == 0 && (piVar4[0x11] & local_10) == 0) {
      do {
        puVar11 = puVar8 + 0x21;
        local_8 = local_8 + 1;
        puVar8 = puVar8 + 1;
      } while ((*puVar11 & local_c) == 0 && (local_10 & *puVar8) == 0);
    }
  }
  iVar7 = 0;
  piVar2 = piVar4 + local_8 * 0x81 + 0x51;
  local_10 = piVar4[local_8 + 0x11] & local_10;
  if (local_10 == 0) {
    local_10 = piVar4[local_8 + 0x31] & local_c;
    iVar7 = 0x20;
  }
  for (; -1 < (int)local_10; local_10 = local_10 << 1) {
    iVar7 = iVar7 + 1;
  }
  piVar10 = (int *)piVar2[iVar7 * 2 + 1];
  iVar9 = *piVar10 - uVar6;
  iVar14 = (iVar9 >> 4) + -1;
  if (0x3f < iVar14) {
    iVar14 = 0x3f;
  }
  DAT_1000fbf0 = param_1;
  if (iVar14 != iVar7) {
    if (piVar10[1] == piVar10[2]) {
      if (iVar7 < 0x20) {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 & 0x1f));
        piVar4[local_8 + 0x11] = uVar13 & piVar4[local_8 + 0x11];
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar13;
        }
      }
      else {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 - 0x20 & 0x1f));
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] & uVar13;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar13;
        }
      }
    }
    *(int *)(piVar10[2] + 4) = piVar10[1];
    *(int *)(piVar10[1] + 8) = piVar10[2];
    if (iVar9 == 0) goto LAB_10009a5e;
    piVar10[1] = piVar2[iVar14 * 2 + 1];
    piVar10[2] = (int)(piVar2 + iVar14 * 2);
    (piVar2 + iVar14 * 2)[1] = (int)piVar10;
    *(int **)(piVar10[1] + 8) = piVar10;
    if (piVar10[1] == piVar10[2]) {
      cVar3 = *(char *)(iVar14 + 4 + (int)piVar4);
      bVar5 = (byte)iVar14;
      if (iVar14 < 0x20) {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar5 & 0x1f);
        }
        piVar4[local_8 + 0x11] = piVar4[local_8 + 0x11] | 0x80000000U >> (bVar5 & 0x1f);
      }
      else {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
        }
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
      }
    }
  }
  if (iVar9 != 0) {
    *piVar10 = iVar9;
    *(int *)(iVar9 + -4 + (int)piVar10) = iVar9;
  }
LAB_10009a5e:
  piVar10 = (int *)((int)piVar10 + iVar9);
  *piVar10 = uVar6 + 1;
  *(uint *)((int)piVar10 + (uVar6 - 4)) = uVar6 + 1;
  iVar7 = *piVar2;
  *piVar2 = iVar7 + 1;
  if (((iVar7 == 0) && (param_1 == DAT_1000fbf4)) && (local_8 == DAT_1000fbec)) {
    DAT_1000fbf4 = (uint *)0x0;
  }
  *piVar4 = local_8;
  return piVar10 + 1;
}



/*
 * Function: FUN_10009aa1
 * Address: 10009aa1
 */

undefined4 * FUN_10009aa1(void)

{
  undefined4 *puVar1;
  LPVOID pvVar2;
  
  if (DAT_1000fbf8 == DAT_1000fbe8) {
    pvVar2 = HeapReAlloc(DAT_1000fc00,0,DAT_1000fbfc,(DAT_1000fbe8 * 5 + 0x50) * 4);
    if (pvVar2 == (LPVOID)0x0) {
      return (undefined4 *)0x0;
    }
    DAT_1000fbe8 = DAT_1000fbe8 + 0x10;
    DAT_1000fbfc = pvVar2;
  }
  puVar1 = (undefined4 *)((int)DAT_1000fbfc + DAT_1000fbf8 * 0x14);
  pvVar2 = HeapAlloc(DAT_1000fc00,8,0x41c4);
  puVar1[4] = pvVar2;
  if (pvVar2 != (LPVOID)0x0) {
    pvVar2 = VirtualAlloc((LPVOID)0x0,0x100000,0x2000,4);
    puVar1[3] = pvVar2;
    if (pvVar2 != (LPVOID)0x0) {
      puVar1[2] = 0xffffffff;
      *puVar1 = 0;
      puVar1[1] = 0;
      DAT_1000fbf8 = DAT_1000fbf8 + 1;
      *(undefined4 *)puVar1[4] = 0xffffffff;
      return puVar1;
    }
    HeapFree(DAT_1000fc00,0,(LPVOID)puVar1[4]);
  }
  return (undefined4 *)0x0;
}



/*
 * Function: FUN_10009b52
 * Address: 10009b52
 */

int __cdecl FUN_10009b52(int param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  LPVOID pvVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int *lpAddress;
  
  iVar3 = *(int *)(param_1 + 0x10);
  iVar9 = 0;
  for (iVar4 = *(int *)(param_1 + 8); -1 < iVar4; iVar4 = iVar4 << 1) {
    iVar9 = iVar9 + 1;
  }
  iVar8 = 0x3f;
  iVar4 = iVar9 * 0x204 + 0x144 + iVar3;
  iVar5 = iVar4;
  do {
    *(int *)(iVar5 + 8) = iVar5;
    *(int *)(iVar5 + 4) = iVar5;
    iVar5 = iVar5 + 8;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  lpAddress = (int *)(iVar9 * 0x8000 + *(int *)(param_1 + 0xc));
  pvVar6 = VirtualAlloc(lpAddress,0x8000,0x1000,4);
  if (pvVar6 == (LPVOID)0x0) {
    iVar9 = -1;
  }
  else {
    if (lpAddress <= lpAddress + 0x1c00) {
      piVar7 = lpAddress + 4;
      do {
        piVar7[-2] = -1;
        piVar7[0x3fb] = -1;
        piVar7[-1] = 0xff0;
        *piVar7 = (int)(piVar7 + 0x3ff);
        piVar7[1] = (int)(piVar7 + -0x401);
        piVar7[0x3fa] = 0xff0;
        piVar1 = piVar7 + 0x3fc;
        piVar7 = piVar7 + 0x400;
      } while (piVar1 <= lpAddress + 0x1c00);
    }
    *(int **)(iVar4 + 0x1fc) = lpAddress + 3;
    lpAddress[5] = iVar4 + 0x1f8;
    *(int **)(iVar4 + 0x200) = lpAddress + 0x1c03;
    lpAddress[0x1c04] = iVar4 + 0x1f8;
    *(undefined4 *)(iVar3 + 0x44 + iVar9 * 4) = 0;
    *(undefined4 *)(iVar3 + 0xc4 + iVar9 * 4) = 1;
    cVar2 = *(char *)(iVar3 + 0x43);
    *(char *)(iVar3 + 0x43) = cVar2 + '\x01';
    if (cVar2 == '\0') {
      *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 1;
    }
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) & ~(0x80000000U >> ((byte)iVar9 & 0x1f));
  }
  return iVar9;
}



/*
 * Function: FUN_10009c4d
 * Address: 10009c4d
 */

undefined4 __cdecl FUN_10009c4d(undefined4 param_1)

{
  int iVar1;
  
  if (DAT_1000f964 != (code *)0x0) {
    iVar1 = (*DAT_1000f964)(param_1);
    if (iVar1 != 0) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_10009c68
 * Address: 10009c68
 */

BOOL __cdecl
FUN_10009c68(DWORD param_1,LPCSTR param_2,int param_3,LPWORD param_4,UINT param_5,LCID param_6,
            int param_7)

{
  undefined *puVar1;
  BOOL BVar2;
  int iVar3;
  undefined unaff_DI;
  WORD local_20 [2];
  undefined *local_1c;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_1000b500;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  local_1c = &stack0xffffffc8;
  iVar3 = DAT_1000f968;
  ExceptionList = &local_14;
  puVar1 = &stack0xffffffc8;
  if (DAT_1000f968 == 0) {
    ExceptionList = &local_14;
    BVar2 = GetStringTypeW(1,L"",1,local_20);
    iVar3 = 1;
    puVar1 = local_1c;
    if (BVar2 == 0) {
      BVar2 = GetStringTypeA(0,1,"",1,local_20);
      if (BVar2 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      iVar3 = 2;
      puVar1 = local_1c;
    }
  }
  local_1c = puVar1;
  DAT_1000f968 = iVar3;
  if (DAT_1000f968 != 2) {
    if (DAT_1000f968 == 1) {
      if (param_5 == 0) {
        param_5 = DAT_1000f9a8;
      }
      iVar3 = MultiByteToWideChar(param_5,(-(uint)(param_7 != 0) & 8) + 1,param_2,param_3,
                                  (LPWSTR)0x0,0);
      if (iVar3 != 0) {
        local_8 = 0;
        FUN_10007540(unaff_DI);
        local_1c = &stack0xffffffc8;
        _memset(&stack0xffffffc8,0,iVar3 * 2);
        local_8 = 0xffffffff;
        if ((&stack0x00000000 != (undefined *)0x38) &&
           (iVar3 = MultiByteToWideChar(param_5,1,param_2,param_3,(LPWSTR)&stack0xffffffc8,iVar3),
           iVar3 != 0)) {
          BVar2 = GetStringTypeW(param_1,(LPCWSTR)&stack0xffffffc8,iVar3,param_4);
          ExceptionList = local_14;
          return BVar2;
        }
      }
    }
    ExceptionList = local_14;
    return 0;
  }
  if (param_6 == 0) {
    param_6 = DAT_1000f998;
  }
  BVar2 = GetStringTypeA(param_6,param_1,param_2,param_3,param_4);
  ExceptionList = local_14;
  return BVar2;
}



/*
 * Function: FUN_10009dc0
 * Address: 10009dc0
 */

uint * __cdecl FUN_10009dc0(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  
  uVar3 = (uint)param_2 & 3;
  puVar4 = param_1;
  while (uVar3 != 0) {
    bVar1 = *(byte *)param_2;
    uVar3 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_10009ea8;
    *(byte *)puVar4 = bVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    uVar3 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar3 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar3 == '\0') {
LAB_10009ea8:
        *(byte *)puVar4 = (byte)uVar3;
        return param_1;
      }
      if ((char)(uVar3 >> 8) == '\0') {
        *(short *)puVar4 = (short)uVar3;
        return param_1;
      }
      if ((uVar3 & 0xff0000) == 0) {
        *(short *)puVar4 = (short)uVar3;
        *(byte *)((int)puVar4 + 2) = 0;
        return param_1;
      }
      if ((uVar3 & 0xff000000) == 0) {
        *puVar4 = uVar3;
        return param_1;
      }
    }
    *puVar4 = uVar3;
    puVar4 = puVar4 + 1;
  } while( true );
}



/*
 * Function: FUN_10009dd0
 * Address: 10009dd0
 */

uint * __cdecl FUN_10009dd0(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint *puVar5;
  
  uVar4 = (uint)param_1 & 3;
  puVar3 = param_1;
  while (uVar4 != 0) {
    bVar1 = *(byte *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (bVar1 == 0) goto LAB_10009e1f;
    uVar4 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar5 = puVar3;
      puVar3 = puVar5 + 1;
    } while (((*puVar5 ^ 0xffffffff ^ *puVar5 + 0x7efefeff) & 0x81010100) == 0);
    uVar4 = *puVar5;
    if ((char)uVar4 == '\0') goto LAB_10009e31;
    if ((char)(uVar4 >> 8) == '\0') {
      puVar5 = (uint *)((int)puVar5 + 1);
      goto LAB_10009e31;
    }
    if ((uVar4 & 0xff0000) == 0) {
      puVar5 = (uint *)((int)puVar5 + 2);
      goto LAB_10009e31;
    }
  } while ((uVar4 & 0xff000000) != 0);
LAB_10009e1f:
  puVar5 = (uint *)((int)puVar3 + -1);
LAB_10009e31:
  uVar4 = (uint)param_2 & 3;
  while (uVar4 != 0) {
    bVar1 = *(byte *)param_2;
    uVar4 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_10009ea8;
    *(byte *)puVar5 = bVar1;
    puVar5 = (uint *)((int)puVar5 + 1);
    uVar4 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar4 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar4 == '\0') {
LAB_10009ea8:
        *(byte *)puVar5 = (byte)uVar4;
        return param_1;
      }
      if ((char)(uVar4 >> 8) == '\0') {
        *(short *)puVar5 = (short)uVar4;
        return param_1;
      }
      if ((uVar4 & 0xff0000) == 0) {
        *(short *)puVar5 = (short)uVar4;
        *(byte *)((int)puVar5 + 2) = 0;
        return param_1;
      }
      if ((uVar4 & 0xff000000) == 0) {
        *puVar5 = uVar4;
        return param_1;
      }
    }
    *puVar5 = uVar4;
    puVar5 = puVar5 + 1;
  } while( true );
}



/*
 * Function: _strlen
 * Address: 10009eb0
 */

/* Library Function - Single Match
    _strlen
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

size_t __cdecl _strlen(char *_Str)

{
  char cVar1;
  uint uVar2;
  uint *puVar3;
  uint *puVar4;
  
  uVar2 = (uint)_Str & 3;
  puVar3 = (uint *)_Str;
  while (uVar2 != 0) {
    cVar1 = *(char *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (cVar1 == '\0') goto LAB_10009f03;
    uVar2 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar4 = puVar3;
      puVar3 = puVar4 + 1;
    } while (((*puVar4 ^ 0xffffffff ^ *puVar4 + 0x7efefeff) & 0x81010100) == 0);
    uVar2 = *puVar4;
    if ((char)uVar2 == '\0') {
      return (int)puVar4 - (int)_Str;
    }
    if ((char)(uVar2 >> 8) == '\0') {
      return (size_t)((int)puVar4 + (1 - (int)_Str));
    }
    if ((uVar2 & 0xff0000) == 0) {
      return (size_t)((int)puVar4 + (2 - (int)_Str));
    }
  } while ((uVar2 & 0xff000000) != 0);
LAB_10009f03:
  return (size_t)((int)puVar3 + (-1 - (int)_Str));
}



/*
 * Function: FUN_10009f2b
 * Address: 10009f2b
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __cdecl FUN_10009f2b(int param_1)

{
  BYTE *pBVar1;
  byte bVar2;
  byte bVar3;
  UINT CodePage;
  UINT *pUVar4;
  BOOL BVar5;
  uint uVar6;
  uint uVar7;
  BYTE *pBVar8;
  int iVar9;
  byte *pbVar10;
  int iVar11;
  byte *pbVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  _cpinfo local_1c;
  uint local_8;
  
  FUN_10009377(0x19);
  CodePage = FUN_1000a0d8(param_1);
  if (CodePage != DAT_1000f9b4) {
    if (CodePage != 0) {
      iVar11 = 0;
      pUVar4 = &DAT_1000f538;
LAB_10009f68:
      if (*pUVar4 != CodePage) goto code_r0x10009f6c;
      local_8 = 0;
      puVar14 = (undefined4 *)&DAT_1000fae0;
      for (iVar9 = 0x40; iVar9 != 0; iVar9 = iVar9 + -1) {
        *puVar14 = 0;
        puVar14 = puVar14 + 1;
      }
      *(undefined *)puVar14 = 0;
      pbVar12 = &DAT_1000f548 + iVar11 * 0x30;
      do {
        bVar2 = *pbVar12;
        pbVar10 = pbVar12;
        while ((bVar2 != 0 && (bVar2 = pbVar10[1], bVar2 != 0))) {
          uVar7 = (uint)*pbVar10;
          if (uVar7 <= bVar2) {
            bVar3 = (&DAT_1000f530)[local_8];
            do {
              (&DAT_1000fae1)[uVar7] = (&DAT_1000fae1)[uVar7] | bVar3;
              uVar7 = uVar7 + 1;
            } while (uVar7 <= bVar2);
          }
          pbVar10 = pbVar10 + 2;
          bVar2 = *pbVar10;
        }
        local_8 = local_8 + 1;
        pbVar12 = pbVar12 + 8;
      } while (local_8 < 4);
      _DAT_1000f9cc = 1;
      DAT_1000f9b4 = CodePage;
      DAT_1000fbe4 = FUN_1000a122(CodePage);
      DAT_1000f9c0 = (&DAT_1000f53c)[iVar11 * 0xc];
      DAT_1000f9c4 = (&DAT_1000f540)[iVar11 * 0xc];
      DAT_1000f9c8 = (&DAT_1000f544)[iVar11 * 0xc];
      goto LAB_1000a0bc;
    }
    goto LAB_1000a0b7;
  }
  goto LAB_10009f52;
code_r0x10009f6c:
  pUVar4 = pUVar4 + 0xc;
  iVar11 = iVar11 + 1;
  if (0x1000f627 < (int)pUVar4) goto code_r0x10009f77;
  goto LAB_10009f68;
code_r0x10009f77:
  BVar5 = GetCPInfo(CodePage,&local_1c);
  uVar7 = 1;
  if (BVar5 == 1) {
    DAT_1000fbe4 = 0;
    puVar14 = (undefined4 *)&DAT_1000fae0;
    for (iVar11 = 0x40; iVar11 != 0; iVar11 = iVar11 + -1) {
      *puVar14 = 0;
      puVar14 = puVar14 + 1;
    }
    *(undefined *)puVar14 = 0;
    if (local_1c.MaxCharSize < 2) {
      _DAT_1000f9cc = 0;
      DAT_1000f9b4 = CodePage;
    }
    else {
      DAT_1000f9b4 = CodePage;
      if (local_1c.LeadByte[0] != '\0') {
        pBVar8 = local_1c.LeadByte + 1;
        do {
          bVar2 = *pBVar8;
          if (bVar2 == 0) break;
          for (uVar6 = (uint)pBVar8[-1]; uVar6 <= bVar2; uVar6 = uVar6 + 1) {
            (&DAT_1000fae1)[uVar6] = (&DAT_1000fae1)[uVar6] | 4;
          }
          pBVar1 = pBVar8 + 1;
          pBVar8 = pBVar8 + 2;
        } while (*pBVar1 != 0);
      }
      do {
        (&DAT_1000fae1)[uVar7] = (&DAT_1000fae1)[uVar7] | 8;
        uVar7 = uVar7 + 1;
      } while (uVar7 < 0xff);
      DAT_1000fbe4 = FUN_1000a122(CodePage);
      _DAT_1000f9cc = 1;
    }
    DAT_1000f9c0 = 0;
    DAT_1000f9c4 = 0;
    DAT_1000f9c8 = 0;
  }
  else {
    if (DAT_1000f96c == 0) {
      uVar13 = 0xffffffff;
      goto LAB_1000a0c9;
    }
LAB_1000a0b7:
    FUN_1000a155();
  }
LAB_1000a0bc:
  FUN_1000a17e();
LAB_10009f52:
  uVar13 = 0;
LAB_1000a0c9:
  FUN_100093d8(0x19);
  return uVar13;
}



/*
 * Function: FUN_1000a0d8
 * Address: 1000a0d8
 */

int __cdecl FUN_1000a0d8(int param_1)

{
  int iVar1;
  bool bVar2;
  
  if (param_1 == -2) {
    DAT_1000f96c = 1;
                    /* WARNING: Could not recover jumptable at 0x1000a0f2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetOEMCP();
    return iVar1;
  }
  if (param_1 == -3) {
    DAT_1000f96c = 1;
                    /* WARNING: Could not recover jumptable at 0x1000a107. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetACP();
    return iVar1;
  }
  bVar2 = param_1 == -4;
  if (bVar2) {
    param_1 = DAT_1000f9a8;
  }
  DAT_1000f96c = (uint)bVar2;
  return param_1;
}



/*
 * Function: FUN_1000a122
 * Address: 1000a122
 */

undefined4 __cdecl FUN_1000a122(int param_1)

{
  if (param_1 == 0x3a4) {
    return 0x411;
  }
  if (param_1 == 0x3a8) {
    return 0x804;
  }
  if (param_1 == 0x3b5) {
    return 0x412;
  }
  if (param_1 != 0x3b6) {
    return 0;
  }
  return 0x404;
}



/*
 * Function: FUN_1000a155
 * Address: 1000a155
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000a155(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)&DAT_1000fae0;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  *(undefined *)puVar2 = 0;
  DAT_1000f9b4 = 0;
  _DAT_1000f9cc = 0;
  DAT_1000fbe4 = 0;
  DAT_1000f9c0 = 0;
  DAT_1000f9c4 = 0;
  DAT_1000f9c8 = 0;
  return;
}



/*
 * Function: FUN_1000a17e
 * Address: 1000a17e
 */

void FUN_1000a17e(void)

{
  BOOL BVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  ushort *puVar6;
  undefined uVar7;
  BYTE *pBVar8;
  CHAR *pCVar9;
  WORD local_518 [256];
  WCHAR local_318 [128];
  WCHAR local_218 [128];
  CHAR local_118 [256];
  _cpinfo local_18;
  
  BVar1 = GetCPInfo(DAT_1000f9b4,&local_18);
  if (BVar1 == 1) {
    uVar2 = 0;
    do {
      local_118[uVar2] = (CHAR)uVar2;
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
    local_118[0] = ' ';
    if (local_18.LeadByte[0] != 0) {
      pBVar8 = local_18.LeadByte + 1;
      do {
        uVar2 = (uint)local_18.LeadByte[0];
        if (uVar2 <= *pBVar8) {
          uVar4 = (*pBVar8 - uVar2) + 1;
          uVar5 = uVar4 >> 2;
          pCVar9 = local_118 + uVar2;
          while (uVar5 != 0) {
            uVar5 = uVar5 - 1;
            builtin_memcpy(pCVar9,"    ",4);
            pCVar9 = pCVar9 + 4;
          }
          for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
            *pCVar9 = ' ';
            pCVar9 = pCVar9 + 1;
          }
        }
        local_18.LeadByte[0] = pBVar8[1];
        pBVar8 = pBVar8 + 2;
      } while (local_18.LeadByte[0] != 0);
    }
    FUN_10009c68(1,local_118,0x100,local_518,DAT_1000f9b4,DAT_1000fbe4,0);
    FUN_1000a9f7(DAT_1000fbe4,0x100,local_118,0x100,local_218,0x100,DAT_1000f9b4,0);
    FUN_1000a9f7(DAT_1000fbe4,0x200,local_118,0x100,local_318,0x100,DAT_1000f9b4,0);
    uVar2 = 0;
    puVar6 = local_518;
    do {
      if ((*puVar6 & 1) == 0) {
        if ((*puVar6 & 2) != 0) {
          (&DAT_1000fae1)[uVar2] = (&DAT_1000fae1)[uVar2] | 0x20;
          uVar7 = *(undefined *)((int)local_318 + uVar2);
          goto LAB_1000a28a;
        }
        (&DAT_1000f9e0)[uVar2] = 0;
      }
      else {
        (&DAT_1000fae1)[uVar2] = (&DAT_1000fae1)[uVar2] | 0x10;
        uVar7 = *(undefined *)((int)local_218 + uVar2);
LAB_1000a28a:
        (&DAT_1000f9e0)[uVar2] = uVar7;
      }
      uVar2 = uVar2 + 1;
      puVar6 = puVar6 + 1;
    } while (uVar2 < 0x100);
  }
  else {
    uVar2 = 0;
    do {
      if ((uVar2 < 0x41) || (0x5a < uVar2)) {
        if ((0x60 < uVar2) && (uVar2 < 0x7b)) {
          (&DAT_1000fae1)[uVar2] = (&DAT_1000fae1)[uVar2] | 0x20;
          cVar3 = (char)uVar2 + -0x20;
          goto LAB_1000a2d4;
        }
        (&DAT_1000f9e0)[uVar2] = 0;
      }
      else {
        (&DAT_1000fae1)[uVar2] = (&DAT_1000fae1)[uVar2] | 0x10;
        cVar3 = (char)uVar2 + ' ';
LAB_1000a2d4:
        (&DAT_1000f9e0)[uVar2] = cVar3;
      }
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
  }
  return;
}



/*
 * Function: FUN_1000a303
 * Address: 1000a303
 */

void FUN_1000a303(void)

{
  if (DAT_1000fd28 == 0) {
    FUN_10009f2b(-3);
    DAT_1000fd28 = 1;
  }
  return;
}



/*
 * Function: FUN_1000a320
 * Address: 1000a320
 */

undefined4 * __cdecl FUN_1000a320(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_1000a4d7_caseD_2;
        case 3:
          goto switchD_1000a4d7_caseD_3;
        }
        goto switchD_1000a4d7_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_1000a4d7_caseD_0;
      case 1:
        goto switchD_1000a4d7_caseD_1;
      case 2:
        goto switchD_1000a4d7_caseD_2;
      case 3:
        goto switchD_1000a4d7_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_1000a4d7_caseD_2;
            case 3:
              goto switchD_1000a4d7_caseD_3;
            }
            goto switchD_1000a4d7_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_1000a4d7_caseD_2;
            case 3:
              goto switchD_1000a4d7_caseD_3;
            }
            goto switchD_1000a4d7_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_1000a4d7_caseD_2;
            case 3:
              goto switchD_1000a4d7_caseD_3;
            }
            goto switchD_1000a4d7_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_1000a4d7_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_1000a4d7_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_1000a4d7_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_1000a4d7_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_1000a355_caseD_2;
      case 3:
        goto switchD_1000a355_caseD_3;
      }
      goto switchD_1000a355_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_1000a355_caseD_0;
    case 1:
      goto switchD_1000a355_caseD_1;
    case 2:
      goto switchD_1000a355_caseD_2;
    case 3:
      goto switchD_1000a355_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_1000a355_caseD_2;
          case 3:
            goto switchD_1000a355_caseD_3;
          }
          goto switchD_1000a355_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_1000a355_caseD_2;
          case 3:
            goto switchD_1000a355_caseD_3;
          }
          goto switchD_1000a355_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_1000a355_caseD_2;
          case 3:
            goto switchD_1000a355_caseD_3;
          }
          goto switchD_1000a355_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_1000a355_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_1000a355_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_1000a355_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_1000a355_caseD_0:
  return param_1;
}



/*
 * Function: FUN_1000a655
 * Address: 1000a655
 */

int __cdecl FUN_1000a655(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  HMODULE hModule;
  int iVar1;
  
  iVar1 = 0;
  if (DAT_1000f970 == (FARPROC)0x0) {
    hModule = LoadLibraryA("user32.dll");
    if (hModule != (HMODULE)0x0) {
      DAT_1000f970 = GetProcAddress(hModule,"MessageBoxA");
      if (DAT_1000f970 != (FARPROC)0x0) {
        DAT_1000f974 = GetProcAddress(hModule,"GetActiveWindow");
        DAT_1000f978 = GetProcAddress(hModule,"GetLastActivePopup");
        goto LAB_1000a6a4;
      }
    }
    iVar1 = 0;
  }
  else {
LAB_1000a6a4:
    if (DAT_1000f974 != (FARPROC)0x0) {
      iVar1 = (*DAT_1000f974)();
      if ((iVar1 != 0) && (DAT_1000f978 != (FARPROC)0x0)) {
        iVar1 = (*DAT_1000f978)(iVar1);
      }
    }
    iVar1 = (*DAT_1000f970)(iVar1,param_1,param_2,param_3);
  }
  return iVar1;
}



/*
 * Function: _strncpy
 * Address: 1000a6e0
 */

/* Library Function - Single Match
    _strncpy
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

char * __cdecl _strncpy(char *_Dest,char *_Source,size_t _Count)

{
  uint uVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint *puVar5;
  
  if (_Count == 0) {
    return _Dest;
  }
  puVar5 = (uint *)_Dest;
  if (((uint)_Source & 3) != 0) {
    while( true ) {
      cVar3 = *_Source;
      _Source = (char *)((int)_Source + 1);
      *(char *)puVar5 = cVar3;
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
      if (_Count == 0) {
        return _Dest;
      }
      if (cVar3 == '\0') break;
      if (((uint)_Source & 3) == 0) {
        uVar4 = _Count >> 2;
        goto joined_r0x1000a71e;
      }
    }
    do {
      if (((uint)puVar5 & 3) == 0) {
        uVar4 = _Count >> 2;
        cVar3 = '\0';
        if (uVar4 == 0) goto LAB_1000a75b;
        goto LAB_1000a7c9;
      }
      *(char *)puVar5 = '\0';
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
    } while (_Count != 0);
    return _Dest;
  }
  uVar4 = _Count >> 2;
  if (uVar4 != 0) {
    do {
      uVar1 = *(uint *)_Source;
      uVar2 = *(uint *)_Source;
      _Source = (char *)((int)_Source + 4);
      if (((uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff) & 0x81010100) != 0) {
        if ((char)uVar2 == '\0') {
          *puVar5 = 0;
joined_r0x1000a7c5:
          while( true ) {
            uVar4 = uVar4 - 1;
            puVar5 = puVar5 + 1;
            if (uVar4 == 0) break;
LAB_1000a7c9:
            *puVar5 = 0;
          }
          cVar3 = '\0';
          _Count = _Count & 3;
          if (_Count != 0) goto LAB_1000a75b;
          return _Dest;
        }
        if ((char)(uVar2 >> 8) == '\0') {
          *puVar5 = uVar2 & 0xff;
          goto joined_r0x1000a7c5;
        }
        if ((uVar2 & 0xff0000) == 0) {
          *puVar5 = uVar2 & 0xffff;
          goto joined_r0x1000a7c5;
        }
        if ((uVar2 & 0xff000000) == 0) {
          *puVar5 = uVar2;
          goto joined_r0x1000a7c5;
        }
      }
      *puVar5 = uVar2;
      puVar5 = puVar5 + 1;
      uVar4 = uVar4 - 1;
joined_r0x1000a71e:
    } while (uVar4 != 0);
    _Count = _Count & 3;
    if (_Count == 0) {
      return _Dest;
    }
  }
  do {
    cVar3 = *_Source;
    _Source = (char *)((int)_Source + 1);
    *(char *)puVar5 = cVar3;
    puVar5 = (uint *)((int)puVar5 + 1);
    if (cVar3 == '\0') {
      while (_Count = _Count - 1, _Count != 0) {
LAB_1000a75b:
        *(char *)puVar5 = cVar3;
        puVar5 = (uint *)((int)puVar5 + 1);
      }
      return _Dest;
    }
    _Count = _Count - 1;
  } while (_Count != 0);
  return _Dest;
}



/*
 * Function: _memset
 * Address: 1000a7e0
 */

/* Library Function - Single Match
    _memset
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

void * __cdecl _memset(void *_Dst,int _Val,size_t _Size)

{
  uint uVar1;
  uint uVar2;
  size_t sVar3;
  uint *puVar4;
  
  if (_Size == 0) {
    return _Dst;
  }
  uVar1 = _Val & 0xff;
  puVar4 = (uint *)_Dst;
  if (3 < _Size) {
    uVar2 = -(int)_Dst & 3;
    sVar3 = _Size;
    if (uVar2 != 0) {
      sVar3 = _Size - uVar2;
      do {
        *(undefined *)puVar4 = (undefined)_Val;
        puVar4 = (uint *)((int)puVar4 + 1);
        uVar2 = uVar2 - 1;
      } while (uVar2 != 0);
    }
    uVar1 = uVar1 * 0x1010101;
    _Size = sVar3 & 3;
    uVar2 = sVar3 >> 2;
    if (uVar2 != 0) {
      for (; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
      }
      if (_Size == 0) {
        return _Dst;
      }
    }
  }
  do {
    *(char *)puVar4 = (char)uVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    _Size = _Size - 1;
  } while (_Size != 0);
  return _Dst;
}



/*
 * Function: FUN_1000a838
 * Address: 1000a838
 */

undefined4 __cdecl FUN_1000a838(DWORD *param_1)

{
  bool bVar1;
  DWORD *pDVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  undefined4 *puVar7;
  DWORD local_10;
  DWORD local_c;
  
  bVar1 = false;
  if (param_1 == (DWORD *)0x2) {
    puVar7 = &DAT_1000f97c;
    pcVar6 = DAT_1000f97c;
LAB_1000a8be:
    bVar1 = true;
    FUN_10009377(1);
    pDVar2 = param_1;
  }
  else {
    if (((param_1 != (DWORD *)0x4) && (param_1 != (DWORD *)0x8)) && (param_1 != (DWORD *)0xb)) {
      if (param_1 == (DWORD *)0xf) {
        puVar7 = &DAT_1000f988;
        pcVar6 = DAT_1000f988;
      }
      else if (param_1 == (DWORD *)0x15) {
        puVar7 = &DAT_1000f980;
        pcVar6 = DAT_1000f980;
      }
      else {
        if (param_1 != (DWORD *)0x16) {
          return 0xffffffff;
        }
        puVar7 = &DAT_1000f984;
        pcVar6 = DAT_1000f984;
      }
      goto LAB_1000a8be;
    }
    pDVar2 = FUN_10008001();
    uVar3 = FUN_1000a9ba((int)param_1,pDVar2[0x14]);
    puVar7 = (undefined4 *)(uVar3 + 8);
    pcVar6 = (code *)*puVar7;
  }
  if (pcVar6 == (code *)0x1) {
    if (!bVar1) {
      return 0;
    }
    FUN_100093d8(1);
    return 0;
  }
  if (pcVar6 == (code *)0x0) {
    if (bVar1) {
      FUN_100093d8(1);
    }
                    /* WARNING: Subroutine does not return */
    __exit(3);
  }
  if (((param_1 == (DWORD *)0x8) || (param_1 == (DWORD *)0xb)) || (param_1 == (DWORD *)0x4)) {
    local_c = pDVar2[0x15];
    pDVar2[0x15] = 0;
    if (param_1 == (DWORD *)0x8) {
      local_10 = pDVar2[0x16];
      pDVar2[0x16] = 0x8c;
      goto LAB_1000a932;
    }
  }
  else {
LAB_1000a932:
    if (param_1 == (DWORD *)0x8) {
      if (DAT_1000f518 < DAT_1000f51c + DAT_1000f518) {
        iVar4 = DAT_1000f518 * 0xc;
        iVar5 = DAT_1000f518;
        do {
          iVar4 = iVar4 + 0xc;
          *(undefined4 *)((pDVar2[0x14] - 4) + iVar4) = 0;
          iVar5 = iVar5 + 1;
        } while (iVar5 < DAT_1000f51c + DAT_1000f518);
      }
      goto LAB_1000a970;
    }
  }
  *puVar7 = 0;
LAB_1000a970:
  if (bVar1) {
    FUN_100093d8(1);
  }
  if (param_1 == (DWORD *)0x8) {
    (*pcVar6)(8,pDVar2[0x16]);
  }
  else {
    (*pcVar6)(param_1);
    if ((param_1 != (DWORD *)0xb) && (param_1 != (DWORD *)0x4)) {
      return 0;
    }
  }
  pDVar2[0x15] = local_c;
  if (param_1 == (DWORD *)0x8) {
    pDVar2[0x16] = local_10;
  }
  return 0;
}



/*
 * Function: FUN_1000a9ba
 * Address: 1000a9ba
 */

uint __cdecl FUN_1000a9ba(int param_1,uint param_2)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = param_2;
  if (*(int *)(param_2 + 4) != param_1) {
    uVar3 = param_2;
    do {
      uVar2 = uVar3 + 0xc;
      if (param_2 + DAT_1000f524 * 0xc <= uVar2) break;
      piVar1 = (int *)(uVar3 + 0x10);
      uVar3 = uVar2;
    } while (*piVar1 != param_1);
  }
  if ((param_2 + DAT_1000f524 * 0xc <= uVar2) || (*(int *)(uVar2 + 4) != param_1)) {
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_1000a9f7
 * Address: 1000a9f7
 */

int __cdecl
FUN_1000a9f7(LCID param_1,uint param_2,char *param_3,int param_4,LPWSTR param_5,int param_6,
            UINT param_7,int param_8)

{
  int iVar1;
  int iVar2;
  undefined unaff_DI;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_1000b548;
  puStack_10 = &LAB_1000829c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (DAT_1000f9b0 == 0) {
    ExceptionList = &local_14;
    iVar1 = LCMapStringW(0,0x100,L"",1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = LCMapStringA(0,0x100,"",1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      DAT_1000f9b0 = 2;
    }
    else {
      DAT_1000f9b0 = 1;
    }
  }
  if (0 < param_4) {
    param_4 = FUN_1000ac1b(param_3,param_4);
  }
  if (DAT_1000f9b0 == 2) {
    iVar1 = LCMapStringA(param_1,param_2,param_3,param_4,(LPSTR)param_5,param_6);
    ExceptionList = local_14;
    return iVar1;
  }
  if (DAT_1000f9b0 == 1) {
    if (param_7 == 0) {
      param_7 = DAT_1000f9a8;
    }
    iVar1 = MultiByteToWideChar(param_7,(-(uint)(param_8 != 0) & 8) + 1,param_3,param_4,(LPWSTR)0x0,
                                0);
    if (iVar1 != 0) {
      local_8 = 0;
      FUN_10007540(unaff_DI);
      local_8 = 0xffffffff;
      if ((&stack0x00000000 != (undefined *)0x3c) &&
         (iVar2 = MultiByteToWideChar(param_7,1,param_3,param_4,(LPWSTR)&stack0xffffffc4,iVar1),
         iVar2 != 0)) {
        iVar2 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,(LPWSTR)0x0,0);
        if (iVar2 != 0) {
          if ((param_2 & 0x400) == 0) {
            local_8 = 1;
            FUN_10007540(unaff_DI);
            local_8 = 0xffffffff;
            if (&stack0x00000000 == (undefined *)0x3c) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,
                                 (LPWSTR)&stack0xffffffc4,iVar2);
            if (iVar1 == 0) {
              ExceptionList = local_14;
              return 0;
            }
            if (param_6 == 0) {
              param_6 = 0;
              param_5 = (LPWSTR)0x0;
            }
            iVar2 = WideCharToMultiByte(param_7,0x220,(LPCWSTR)&stack0xffffffc4,iVar2,(LPSTR)param_5
                                        ,param_6,(LPCSTR)0x0,(LPBOOL)0x0);
            iVar1 = iVar2;
          }
          else {
            if (param_6 == 0) {
              ExceptionList = local_14;
              return iVar2;
            }
            if (param_6 < iVar2) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,param_5,param_6);
          }
          if (iVar1 != 0) {
            ExceptionList = local_14;
            return iVar2;
          }
        }
      }
    }
  }
  ExceptionList = local_14;
  return 0;
}



/*
 * Function: FUN_1000ac1b
 * Address: 1000ac1b
 */

int __cdecl FUN_1000ac1b(char *param_1,int param_2)

{
  char *pcVar1;
  int iVar2;
  
  pcVar1 = param_1;
  iVar2 = param_2;
  if (param_2 != 0) {
    do {
      iVar2 = iVar2 + -1;
      if (*pcVar1 == '\0') break;
      pcVar1 = pcVar1 + 1;
    } while (iVar2 != 0);
  }
  if (*pcVar1 == '\0') {
    return (int)pcVar1 - (int)param_1;
  }
  return param_2;
}



/*
 * Function: RtlUnwind
 * Address: 1000ac46
 */

void RtlUnwind(PVOID TargetFrame,PVOID TargetIp,PEXCEPTION_RECORD ExceptionRecord,PVOID ReturnValue)

{
                    /* WARNING: Could not recover jumptable at 0x1000ac46. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RtlUnwind(TargetFrame,TargetIp,ExceptionRecord,ReturnValue);
  return;
}



/*
 * Function: Unwind@1000ac50
 * Address: 1000ac50
 */

void Unwind_1000ac50(void)

{
  int unaff_EBP;
  
  RKC_RPGSCRN_CHARANIMBLOCK::~RKC_RPGSCRN_CHARANIMBLOCK
            ((RKC_RPGSCRN_CHARANIMBLOCK *)(*(int *)(unaff_EBP + -0x10) + 0xc));
  return;
}



/*
 * Function: Unwind@1000ac70
 * Address: 1000ac70
 */

void Unwind_1000ac70(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@1000ac90
 * Address: 1000ac90
 */

void Unwind_1000ac90(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@1000acb0
 * Address: 1000acb0
 */

void Unwind_1000acb0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000acb3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x60));
  return;
}



/*
 * Function: Unwind@1000acb9
 * Address: 1000acb9
 */

void Unwind_1000acb9(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@1000acc4
 * Address: 1000acc4
 */

void Unwind_1000acc4(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + -0x44));
  return;
}



/*
 * Function: Unwind@1000accf
 * Address: 1000accf
 */

void Unwind_1000accf(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + -0x30));
  return;
}



/*
 * Function: Unwind@1000acf0
 * Address: 1000acf0
 */

void Unwind_1000acf0(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@1000ad10
 * Address: 1000ad10
 */

void Unwind_1000ad10(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@1000ad30
 * Address: 1000ad30
 */

void Unwind_1000ad30(void)

{
  int unaff_EBP;
  
  RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL
            ((RKC_RPGSCRN_CHARANIMCELL *)(unaff_EBP + -0x1f8c));
  return;
}



/*
 * Function: Unwind@1000ad50
 * Address: 1000ad50
 */

void Unwind_1000ad50(void)

{
  int unaff_EBP;
  
  RKC_RPGSCRN_CHARANIM::~RKC_RPGSCRN_CHARANIM((RKC_RPGSCRN_CHARANIM *)(unaff_EBP + -0x24));
  return;
}



/*
 * Function: Unwind@1000ad70
 * Address: 1000ad70
 */

void Unwind_1000ad70(void)

{
  int unaff_EBP;
  
  RKC_RPGSCRN_CHARANIMCELL::~RKC_RPGSCRN_CHARANIMCELL
            ((RKC_RPGSCRN_CHARANIMCELL *)(unaff_EBP + -0x1f8c));
  return;
}



/*
 * Function: Unwind@1000ad90
 * Address: 1000ad90
 */

void Unwind_1000ad90(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ad96. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x680));
  return;
}



/*
 * Function: Unwind@1000adb0
 * Address: 1000adb0
 */

void Unwind_1000adb0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000adb6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x120));
  return;
}



/*
 * Function: Unwind@1000add0
 * Address: 1000add0
 */

void Unwind_1000add0(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000add3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x40));
  return;
}



/*
 * Function: Unwind@1000add9
 * Address: 1000add9
 */

void Unwind_1000add9(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000addc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x3c));
  return;
}



/*
 * Function: Unwind@1000ade2
 * Address: 1000ade2
 */

void Unwind_1000ade2(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ade5. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x34));
  return;
}



/*
 * Function: Unwind@1000ae00
 * Address: 1000ae00
 */

void Unwind_1000ae00(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ae03. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x6c));
  return;
}



/*
 * Function: Unwind@1000ae09
 * Address: 1000ae09
 */

void Unwind_1000ae09(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ae0c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x44));
  return;
}



/*
 * Function: Unwind@1000ae12
 * Address: 1000ae12
 */

void Unwind_1000ae12(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ae15. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_MEMORY::~RKC_MEMORY((RKC_MEMORY *)(unaff_EBP + -0x4c));
  return;
}



/*
 * Function: Unwind@1000ae30
 * Address: 1000ae30
 */

void Unwind_1000ae30(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@1000ae50
 * Address: 1000ae50
 */

void Unwind_1000ae50(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ae53. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x24));
  return;
}



/*
 * Function: Unwind@1000ae70
 * Address: 1000ae70
 */

void Unwind_1000ae70(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000ae73. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x3c));
  return;
}



/*
 * Function: Unwind@1000ae90
 * Address: 1000ae90
 */

void Unwind_1000ae90(void)

{
  int unaff_EBP;
  
  FUN_100072ee(*(LPVOID *)(unaff_EBP + 4));
  return;
}



