/*
 * Decompiled from: o_RKC_UPDIB.dll
 * Generated by Ghidra
 */

/*
 * Function: RKC_UPDIB
 * Address: 10001000
 */

/* public: __thiscall RKC_UPDIB::RKC_UPDIB(void) */

RKC_UPDIB * __thiscall RKC_UPDIB::RKC_UPDIB(RKC_UPDIB *this)

{
  RKC_DIB *pRVar1;
  void *pvStack_c;
  undefined *puStack_8;
  int local_4;
  
                    /* 0x1000  1  ??0RKC_UPDIB@@QAE@XZ */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10007f77;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_DIB::RKC_DIB((RKC_DIB *)(this + 0x1c));
  local_4 = 0;
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 0x14) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x28) = 0;
  pRVar1 = (RKC_DIB *)operator_new(0xc);
  local_4._0_1_ = 1;
  if (pRVar1 == (RKC_DIB *)0x0) {
    pRVar1 = (RKC_DIB *)0x0;
  }
  else {
    pRVar1 = (RKC_DIB *)RKC_DIB::RKC_DIB(pRVar1);
  }
  local_4 = (uint)local_4._1_3_ << 8;
  *(RKC_DIB **)(this + 0x2c) = pRVar1;
  RKC_DIB::Create(pRVar1,1,1,8,0);
  ExceptionList = pvStack_c;
  return this;
}



/*
 * Function: ~RKC_UPDIB
 * Address: 10001090
 */

/* public: __thiscall RKC_UPDIB::~RKC_UPDIB(void) */

void __thiscall RKC_UPDIB::~RKC_UPDIB(RKC_UPDIB *this)

{
  RKC_DIB *this_00;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1090  7  ??1RKC_UPDIB@@QAE@XZ */
  puStack_8 = &LAB_10007f9c;
  local_c = ExceptionList;
  local_4 = 0;
  ExceptionList = &local_c;
  Release(this);
  this_00 = *(RKC_DIB **)(this + 0x2c);
  if (this_00 != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this_00);
    FUN_10004216(this_00);
  }
  local_4 = 0xffffffff;
  RKC_DIB::~RKC_DIB((RKC_DIB *)(this + 0x1c));
  ExceptionList = local_c;
  return;
}



/*
 * Function: Release
 * Address: 10001100
 */

/* public: void __thiscall RKC_UPDIB::Release(void) */

void __thiscall RKC_UPDIB::Release(RKC_UPDIB *this)

{
  RKC_UPDIB_UPD *this_00;
  RKC_DIBHISPEEDMODE *this_01;
  int iVar1;
  
                    /* 0x1100  62  ?Release@RKC_UPDIB@@QAEXXZ */
  if (*(int *)(this + 8) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 4)) {
      do {
        this_00 = *(RKC_UPDIB_UPD **)(*(int *)(this + 8) + iVar1 * 4);
        if (this_00 != (RKC_UPDIB_UPD *)0x0) {
          RKC_UPDIB_UPD::~RKC_UPDIB_UPD(this_00);
          FUN_10004216(this_00);
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 4));
    }
    GlobalFree(*(HGLOBAL *)(this + 8));
    *(undefined4 *)(this + 8) = 0;
  }
  *(undefined4 *)(this + 4) = 0;
  iVar1 = DeleteVSBlock(this,0);
  while (iVar1 == 1) {
    iVar1 = DeleteVSBlock(this,0);
  }
  this_01 = *(RKC_DIBHISPEEDMODE **)(this + 0x28);
  if (this_01 != (RKC_DIBHISPEEDMODE *)0x0) {
    RKC_DIBHISPEEDMODE::~RKC_DIBHISPEEDMODE(this_01);
    FUN_10004216(this_01);
  }
  *(undefined4 *)(this + 0x28) = 0;
  return;
}



/*
 * Function: InsertVSBlock
 * Address: 10001190
 */

/* public: class RKC_UPDIB_VSBLOCK * __thiscall RKC_UPDIB::InsertVSBlock(long) */

RKC_UPDIB_VSBLOCK * __thiscall RKC_UPDIB::InsertVSBlock(RKC_UPDIB *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_UPDIB_VSBLOCK *pRVar3;
  RKC_UPDIB_VSBLOCK *pRVar4;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1190  58  ?InsertVSBlock@RKC_UPDIB@@QAEPAVRKC_UPDIB_VSBLOCK@@J@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10007fbb;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  lVar2 = GetVSBlockCount(this);
  if ((lVar2 < param_1) || (param_1 < 0)) {
    ExceptionList = local_c;
    return (RKC_UPDIB_VSBLOCK *)0x0;
  }
  pRVar3 = (RKC_UPDIB_VSBLOCK *)operator_new(0x14);
  local_4 = 0;
  if (pRVar3 == (RKC_UPDIB_VSBLOCK *)0x0) {
    pRVar3 = (RKC_UPDIB_VSBLOCK *)0x0;
  }
  else {
    pRVar3 = (RKC_UPDIB_VSBLOCK *)RKC_UPDIB_VSBLOCK::RKC_UPDIB_VSBLOCK(pRVar3);
  }
  local_4 = 0xffffffff;
  *(RKC_UPDIB **)pRVar3 = this;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar3 + 0x10) = *(undefined4 *)this;
    if (*(int *)this != 0) {
      *(RKC_UPDIB_VSBLOCK **)(*(int *)this + 0xc) = pRVar3;
    }
    *(RKC_UPDIB_VSBLOCK **)this = pRVar3;
    ExceptionList = local_c;
    return pRVar3;
  }
  pRVar4 = GetVSBlock(this,param_1 + -1);
  iVar1 = *(int *)(pRVar4 + 0x10);
  *(RKC_UPDIB_VSBLOCK **)(pRVar3 + 0xc) = pRVar4;
  *(int *)(pRVar3 + 0x10) = iVar1;
  if (iVar1 != 0) {
    *(RKC_UPDIB_VSBLOCK **)(iVar1 + 0xc) = pRVar3;
  }
  *(RKC_UPDIB_VSBLOCK **)(pRVar4 + 0x10) = pRVar3;
  ExceptionList = local_c;
  return pRVar3;
}



/*
 * Function: DeleteVSBlock
 * Address: 10001270
 */

/* public: int __thiscall RKC_UPDIB::DeleteVSBlock(long) */

int __thiscall RKC_UPDIB::DeleteVSBlock(RKC_UPDIB *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_UPDIB_VSBLOCK *pRVar3;
  RKC_UPDIB_VSBLOCK *this_00;
  
                    /* 0x1270  23  ?DeleteVSBlock@RKC_UPDIB@@QAEHJ@Z */
  lVar2 = GetVSBlockCount(this);
  if (lVar2 <= param_1) {
    return 0;
  }
  if (param_1 == 0) {
    this_00 = *(RKC_UPDIB_VSBLOCK **)this;
    iVar1 = *(int *)(this_00 + 0x10);
    *(int *)this = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0xc) = 0;
    }
  }
  else {
    pRVar3 = GetVSBlock(this,param_1 + -1);
    this_00 = *(RKC_UPDIB_VSBLOCK **)(pRVar3 + 0x10);
    if (*(int *)(this_00 + 0x10) != 0) {
      *(RKC_UPDIB_VSBLOCK **)(*(int *)(this_00 + 0x10) + 0xc) = pRVar3;
    }
    *(undefined4 *)(pRVar3 + 0x10) = *(undefined4 *)(this_00 + 0x10);
  }
  if (this_00 != (RKC_UPDIB_VSBLOCK *)0x0) {
    RKC_UPDIB_VSBLOCK::~RKC_UPDIB_VSBLOCK(this_00);
    FUN_10004216(this_00);
  }
  return 1;
}



/*
 * Function: GetVSBlockCount
 * Address: 100012e0
 */

/* public: long __thiscall RKC_UPDIB::GetVSBlockCount(void) */

long __thiscall RKC_UPDIB::GetVSBlockCount(RKC_UPDIB *this)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
                    /* 0x12e0  51  ?GetVSBlockCount@RKC_UPDIB@@QAEJXZ */
  for (iVar1 = *(int *)this; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x10)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: GetVSBlock
 * Address: 10001300
 */

/* public: class RKC_UPDIB_VSBLOCK * __thiscall RKC_UPDIB::GetVSBlock(long) */

RKC_UPDIB_VSBLOCK * __thiscall RKC_UPDIB::GetVSBlock(RKC_UPDIB *this,long param_1)

{
  RKC_UPDIB_VSBLOCK *pRVar1;
  int iVar2;
  
                    /* 0x1300  50  ?GetVSBlock@RKC_UPDIB@@QAEPAVRKC_UPDIB_VSBLOCK@@J@Z */
  pRVar1 = *(RKC_UPDIB_VSBLOCK **)this;
  iVar2 = 0;
  while( true ) {
    if (pRVar1 == (RKC_UPDIB_VSBLOCK *)0x0) {
      return (RKC_UPDIB_VSBLOCK *)0x0;
    }
    if (iVar2 == param_1) break;
    pRVar1 = *(RKC_UPDIB_VSBLOCK **)(pRVar1 + 0x10);
    iVar2 = iVar2 + 1;
  }
  return pRVar1;
}



/*
 * Function: ReadUpd
 * Address: 10001320
 */

/* public: int __thiscall RKC_UPDIB::ReadUpd(long,char *,long,long,long,int) */

int __thiscall
RKC_UPDIB::ReadUpd(RKC_UPDIB *this,long param_1,char *param_2,long param_3,long param_4,long param_5
                  ,int param_6)

{
  RKC_UPDIB_UPD *this_00;
  int iVar1;
  long lVar2;
  RKC_UPDIB_PATTERN *pRVar3;
  undefined4 uVar4;
  tagRGBQUAD *ptVar5;
  int iVar6;
  RKC_DIB local_94 [12];
  RKC_UPDIB *local_88;
  RKC_DIB *pRStack_84;
  tagRECT tStack_80;
  tagRECT tStack_70;
  RKC_UPDIB_VSPACKET local_60 [84];
  void *pvStack_c;
  undefined *puStack_8;
  int local_4;
  
                    /* 0x1320  61  ?ReadUpd@RKC_UPDIB@@QAEHJPADJJJH@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10007ff2;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  local_88 = this;
  RKC_UPDIB_VSPACKET::RKC_UPDIB_VSPACKET(local_60);
  iVar6 = 0;
  local_4 = 0;
  RKC_DIB::RKC_DIB(local_94);
  local_4._0_1_ = 1;
  if (param_1 < *(int *)(this + 4)) {
    this_00 = GetUpd(this,param_1);
    iVar1 = RKC_UPDIB_UPD::Read(this_00,param_2,param_3);
    if (iVar1 != 0) {
      if (param_6 == 1) {
        CreateTemporaryDIB(this);
      }
      if ((param_4 != 0) && (param_5 != 0)) {
        SetRect(&tStack_70,0,0,param_4,param_5);
        lVar2 = RKC_UPDIB_UPD::GetPatternCount(this_00);
        if (0 < lVar2) {
          do {
            pRVar3 = RKC_UPDIB_UPD::GetPattern(this_00,iVar6);
            if (pRVar3 != (RKC_UPDIB_PATTERN *)0x0) {
              RKC_UPDIB_VSPACKET::SetPacket
                        (local_60,local_88,param_1,iVar6,-1,1,-*(int *)(pRVar3 + 0xc),
                         -*(int *)(pRVar3 + 0x10),1000,1000,1000,1000,0,1000,1000,1000,
                         (tagRECT *)0x0,(RKC_DIB *)0x0);
              RKC_DIB::Create(local_94,*(long *)(pRVar3 + 0x14),*(long *)(pRVar3 + 0x18),0x18,1);
              RKC_UPDIB_VSPACKET::Render(local_60,local_94,(tagRECT *)0x0);
              if (*(int *)(pRVar3 + 0x24) == 0) {
                pRStack_84 = (RKC_DIB *)operator_new(0xc);
                local_4._0_1_ = 2;
                if (pRStack_84 == (RKC_DIB *)0x0) {
                  uVar4 = 0;
                }
                else {
                  uVar4 = RKC_DIB::RKC_DIB(pRStack_84);
                }
                local_4._0_1_ = 1;
                *(undefined4 *)(pRVar3 + 0x24) = uVar4;
              }
              RKC_DIB::Create(*(RKC_DIB **)(pRVar3 + 0x24),param_4,param_5,0x18,1);
              RKC_DIB::FillByte(*(RKC_DIB **)(pRVar3 + 0x24),'\0');
              SetRect(&tStack_80,0,0,*(int *)(pRVar3 + 0x14),*(int *)(pRVar3 + 0x18));
              RKC_DIB::ZoomToDIB(*(RKC_DIB **)(pRVar3 + 0x24),&tStack_70,local_94,&tStack_80,-1);
              ptVar5 = RKC_UPDIB_UPD::GetPalette(this_00,*(long *)(pRVar3 + 0x1c));
              if (ptVar5 != (tagRGBQUAD *)0x0) {
                RKC_DIB::SetPalette(*(RKC_DIB **)(pRVar3 + 0x24),ptVar5);
              }
            }
            iVar6 = iVar6 + 1;
            lVar2 = RKC_UPDIB_UPD::GetPatternCount(this_00);
          } while (iVar6 < lVar2);
        }
      }
      local_4 = (uint)local_4._1_3_ << 8;
      RKC_DIB::~RKC_DIB(local_94);
      local_4 = 0xffffffff;
      RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(local_60);
      ExceptionList = pvStack_c;
      return 1;
    }
    RKC_UPDIB_UPD::Release(this_00);
  }
  local_4 = (uint)local_4._1_3_ << 8;
  RKC_DIB::~RKC_DIB(local_94);
  local_4 = 0xffffffff;
  RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(local_60);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: operator=
 * Address: 100015b0
 */

/* public: class RKC_UPDIB_PATTERN & __thiscall RKC_UPDIB_PATTERN::operator=(class RKC_UPDIB_PATTERN
   const &) */

RKC_UPDIB_PATTERN * __thiscall
RKC_UPDIB_PATTERN::operator=(RKC_UPDIB_PATTERN *this,RKC_UPDIB_PATTERN *param_1)

{
  int iVar1;
  RKC_UPDIB_PATTERN *pRVar2;
  
                    /* 0x15b0  14  ??4RKC_UPDIB_PATTERN@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 100015d0
 */

/* public: class RKC_UPDIB_VSPACKET & __thiscall RKC_UPDIB_VSPACKET::operator=(class
   RKC_UPDIB_VSPACKET const &) */

RKC_UPDIB_VSPACKET * __thiscall
RKC_UPDIB_VSPACKET::operator=(RKC_UPDIB_VSPACKET *this,RKC_UPDIB_VSPACKET *param_1)

{
  int iVar1;
  RKC_UPDIB_VSPACKET *pRVar2;
  
                    /* 0x15d0  18  ??4RKC_UPDIB_VSPACKET@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0x15; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 100015f0
 */

/* public: class RKC_UPDIB_VS & __thiscall RKC_UPDIB_VS::operator=(class RKC_UPDIB_VS const &) */

RKC_UPDIB_VS * __thiscall RKC_UPDIB_VS::operator=(RKC_UPDIB_VS *this,RKC_UPDIB_VS *param_1)

{
                    /* 0x15f0  16  ??4RKC_UPDIB_VS@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  return this;
}



/*
 * Function: operator=
 * Address: 10001610
 */

/* public: class RKC_UPDIB_VSBLOCK & __thiscall RKC_UPDIB_VSBLOCK::operator=(class RKC_UPDIB_VSBLOCK
   const &) */

RKC_UPDIB_VSBLOCK * __thiscall
RKC_UPDIB_VSBLOCK::operator=(RKC_UPDIB_VSBLOCK *this,RKC_UPDIB_VSBLOCK *param_1)

{
  int iVar1;
  RKC_UPDIB_VSBLOCK *pRVar2;
  
                    /* 0x1610  17  ??4RKC_UPDIB_VSBLOCK@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 10001630
 */

/* public: class RKC_UPDIB & __thiscall RKC_UPDIB::operator=(class RKC_UPDIB const &) */

RKC_UPDIB * __thiscall RKC_UPDIB::operator=(RKC_UPDIB *this,RKC_UPDIB *param_1)

{
  int iVar1;
  RKC_UPDIB *pRVar2;
  
                    /* 0x1630  13  ??4RKC_UPDIB@@QAEAAV0@ABV0@@Z
                       0x1630  15  ??4RKC_UPDIB_UPD@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0xc; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: DeleteUpd
 * Address: 10001650
 */

/* public: int __thiscall RKC_UPDIB::DeleteUpd(long,int) */

int __thiscall RKC_UPDIB::DeleteUpd(RKC_UPDIB *this,long param_1,int param_2)

{
                    /* 0x1650  22  ?DeleteUpd@RKC_UPDIB@@QAEHJH@Z */
  if ((-1 < param_1) && (param_1 < *(int *)(this + 4))) {
    RKC_UPDIB_UPD::Release(*(RKC_UPDIB_UPD **)(*(int *)(this + 8) + param_1 * 4));
    if (param_2 == 1) {
      CreateTemporaryDIB(this);
    }
    return 1;
  }
  return 0;
}



/*
 * Function: GetUpd
 * Address: 10001690
 */

/* public: class RKC_UPDIB_UPD * __thiscall RKC_UPDIB::GetUpd(long) */

RKC_UPDIB_UPD * __thiscall RKC_UPDIB::GetUpd(RKC_UPDIB *this,long param_1)

{
                    /* 0x1690  48  ?GetUpd@RKC_UPDIB@@QAEPAVRKC_UPDIB_UPD@@J@Z */
  if ((-1 < param_1) && (param_1 < *(int *)(this + 4))) {
    return *(RKC_UPDIB_UPD **)(*(int *)(this + 8) + param_1 * 4);
  }
  return (RKC_UPDIB_UPD *)0x0;
}



/*
 * Function: CreateTemporaryDIB
 * Address: 100016b0
 */

/* public: void __thiscall RKC_UPDIB::CreateTemporaryDIB(void) */

void __thiscall RKC_UPDIB::CreateTemporaryDIB(RKC_UPDIB *this)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
                    /* 0x16b0  19  ?CreateTemporaryDIB@RKC_UPDIB@@QAEXXZ */
  RKC_DIB::Release((RKC_DIB *)(this + 0x1c));
  iVar5 = *(int *)(this + 4);
  if (0 < iVar5) {
    piVar3 = *(int **)(this + 8);
    do {
      iVar4 = 0;
      if (0 < *(int *)(*piVar3 + 0xc)) {
        iVar6 = 0;
        do {
          iVar1 = *(int *)(*(int *)(*piVar3 + 0x10) + 4 + iVar6);
          iVar2 = *(int *)(*(int *)(*piVar3 + 0x10) + iVar6 + 8);
          if (*(int *)(this + 0x14) < iVar1) {
            *(int *)(this + 0x14) = iVar1;
          }
          if (*(int *)(this + 0x18) < iVar2) {
            *(int *)(this + 0x18) = iVar2;
          }
          iVar4 = iVar4 + 1;
          iVar6 = iVar6 + 0x10;
        } while (iVar4 < *(int *)(*piVar3 + 0xc));
      }
      piVar3 = piVar3 + 1;
      iVar5 = iVar5 + -1;
    } while (iVar5 != 0);
  }
  if ((*(int *)(this + 0x14) != 0) && (*(int *)(this + 0x18) != 0)) {
    RKC_DIB::Create((RKC_DIB *)(this + 0x1c),*(int *)(this + 0x14),*(int *)(this + 0x18),8,1);
  }
  return;
}



/*
 * Function: CreateUpdBlock
 * Address: 10001740
 */

/* public: int __thiscall RKC_UPDIB::CreateUpdBlock(long) */

int __thiscall RKC_UPDIB::CreateUpdBlock(RKC_UPDIB *this,long param_1)

{
  undefined4 *hMem;
  HGLOBAL pvVar1;
  RKC_UPDIB_UPD *pRVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  int iVar5;
  void *local_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x1740  20  ?CreateUpdBlock@RKC_UPDIB@@QAEHJ@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_10008016;
  local_c = ExceptionList;
  if (param_1 < 1) {
    return 0;
  }
  hMem = *(undefined4 **)(this + 8);
  ExceptionList = &local_c;
  pvVar1 = GlobalAlloc(0x40,param_1 * 4);
  *(HGLOBAL *)(this + 8) = pvVar1;
  if (hMem == (undefined4 *)0x0) {
    iVar5 = 0;
    if (0 < param_1) {
      do {
        pRVar2 = (RKC_UPDIB_UPD *)operator_new(0x30);
        uStack_4 = 1;
        if (pRVar2 == (RKC_UPDIB_UPD *)0x0) {
          uVar3 = 0;
        }
        else {
          uVar3 = RKC_UPDIB_UPD::RKC_UPDIB_UPD(pRVar2);
        }
        iVar5 = iVar5 + 1;
        uStack_4 = 0xffffffff;
        *(undefined4 *)(*(int *)(this + 8) + -4 + iVar5 * 4) = uVar3;
      } while (iVar5 < param_1);
    }
  }
  else {
    iVar5 = 0;
    if (0 < *(int *)(this + 4)) {
      do {
        if (param_1 <= iVar5) goto LAB_10001800;
        *(undefined4 *)(*(int *)(this + 8) + iVar5 * 4) = hMem[iVar5];
        hMem[iVar5] = 0;
        iVar5 = iVar5 + 1;
      } while (iVar5 < *(int *)(this + 4));
    }
    while (iVar5 < param_1) {
      pRVar2 = (RKC_UPDIB_UPD *)operator_new(0x30);
      uStack_4 = 0;
      if (pRVar2 == (RKC_UPDIB_UPD *)0x0) {
        uVar3 = 0;
      }
      else {
        uVar3 = RKC_UPDIB_UPD::RKC_UPDIB_UPD(pRVar2);
      }
      iVar5 = iVar5 + 1;
      uStack_4 = 0xffffffff;
      *(undefined4 *)(*(int *)(this + 8) + -4 + iVar5 * 4) = uVar3;
    }
LAB_10001800:
    iVar5 = 0;
    puVar4 = hMem;
    if (0 < *(int *)(this + 4)) {
      do {
        pRVar2 = (RKC_UPDIB_UPD *)*puVar4;
        if (pRVar2 != (RKC_UPDIB_UPD *)0x0) {
          RKC_UPDIB_UPD::~RKC_UPDIB_UPD(pRVar2);
          FUN_10004216(pRVar2);
        }
        iVar5 = iVar5 + 1;
        puVar4 = puVar4 + 1;
      } while (iVar5 < *(int *)(this + 4));
    }
    GlobalFree(hMem);
  }
  *(long *)(this + 4) = param_1;
  ExceptionList = local_c;
  return 1;
}



/*
 * Function: Initialize
 * Address: 100018a0
 */

/* public: int __thiscall RKC_UPDIB::Initialize(long,long,long,int) */

int __thiscall
RKC_UPDIB::Initialize(RKC_UPDIB *this,long param_1,long param_2,long param_3,int param_4)

{
  RKC_UPDIB_VSBLOCK *this_00;
  int iVar1;
  RKC_DIBHISPEEDMODE *this_01;
  undefined4 uVar2;
  int iVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x18a0  57  ?Initialize@RKC_UPDIB@@QAEHJJJH@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000802b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  Release(this);
  iVar3 = 0;
  if (0 < param_1) {
    do {
      this_00 = InsertVSBlock(this,0);
      if ((this_00 == (RKC_UPDIB_VSBLOCK *)0x0) ||
         (iVar1 = RKC_UPDIB_VSBLOCK::CreateVS(this_00,param_2), iVar1 != 1)) {
        Release(this);
        ExceptionList = local_c;
        return 0;
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < param_1);
  }
  CreateUpdBlock(this,param_3);
  if (param_4 == 1) {
    this_01 = (RKC_DIBHISPEEDMODE *)operator_new(0x11a300);
    local_4 = 0;
    if (this_01 == (RKC_DIBHISPEEDMODE *)0x0) {
      uVar2 = 0;
    }
    else {
      uVar2 = RKC_DIBHISPEEDMODE::RKC_DIBHISPEEDMODE(this_01);
    }
    *(undefined4 *)(this + 0x28) = uVar2;
  }
  ExceptionList = local_c;
  return 1;
}



/*
 * Function: SetPacket
 * Address: 10001960
 */

/* public: int __thiscall
   RKC_UPDIB::SetPacket(long,long,long,long,long,long,long,long,long,long,long,long,long,short,short,short,struct
   tagRECT *,class RKC_DIB *) */

int __thiscall
RKC_UPDIB::SetPacket
          (RKC_UPDIB *this,long param_1,long param_2,long param_3,long param_4,long param_5,
          long param_6,long param_7,long param_8,long param_9,long param_10,long param_11,
          long param_12,long param_13,short param_14,short param_15,short param_16,tagRECT *param_17
          ,RKC_DIB *param_18)

{
  RKC_UPDIB_VSBLOCK *this_00;
  RKC_UPDIB_VS *this_01;
  RKC_UPDIB_VSPACKET *pRVar1;
  RKC_UPDIB_VSPACKET local_60 [84];
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1960  75
                       ?SetPacket@RKC_UPDIB@@QAEHJJJJJJJJJJJJJFFFPAUtagRECT@@PAVRKC_DIB@@@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10008048;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  RKC_UPDIB_VSPACKET::RKC_UPDIB_VSPACKET(local_60);
  local_4 = 0;
  this_00 = GetVSBlock(this,param_1);
  if (this_00 != (RKC_UPDIB_VSBLOCK *)0x0) {
    this_01 = RKC_UPDIB_VSBLOCK::GetVScreen(this_00,param_2);
    if (this_01 != (RKC_UPDIB_VS *)0x0) {
      pRVar1 = RKC_UPDIB_VSPACKET::SetPacket
                         (local_60,this,param_3,param_4,param_5,param_6,param_7,param_8,param_9,
                          param_10,param_11,param_12,param_13,param_14,param_15,param_16,param_17,
                          param_18);
      RKC_UPDIB_VS::SetPacket(this_01,0,pRVar1);
      local_4 = 0xffffffff;
      RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(local_60);
      ExceptionList = local_c;
      return 1;
    }
  }
  local_4 = 0xffffffff;
  RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(local_60);
  ExceptionList = local_c;
  return 0;
}



/*
 * Function: Render
 * Address: 10001aa0
 */

/* public: int __thiscall RKC_UPDIB::Render(class RKC_DIB *,long,long,long,long,struct tagRECT *) */

int __thiscall
RKC_UPDIB::Render(RKC_UPDIB *this,RKC_DIB *param_1,long param_2,long param_3,long param_4,
                 long param_5,tagRECT *param_6)

{
  RKC_UPDIB_VSBLOCK *pRVar1;
  RKC_UPDIB_VSBLOCK *pRVar2;
  
                    /* 0x1aa0  67  ?Render@RKC_UPDIB@@QAEHPAVRKC_DIB@@JJJJPAUtagRECT@@@Z */
  if (param_2 == -1) {
    pRVar2 = *(RKC_UPDIB_VSBLOCK **)this;
    if (param_3 == 0) {
      if (pRVar2 != (RKC_UPDIB_VSBLOCK *)0x0) {
        for (pRVar1 = *(RKC_UPDIB_VSBLOCK **)(pRVar2 + 0x10); pRVar1 != (RKC_UPDIB_VSBLOCK *)0x0;
            pRVar1 = *(RKC_UPDIB_VSBLOCK **)(pRVar1 + 0x10)) {
          pRVar2 = pRVar1;
        }
        if (pRVar2 != (RKC_UPDIB_VSBLOCK *)0x0) {
          do {
            RKC_UPDIB_VSBLOCK::Render(pRVar2,param_1,-1,param_4,param_5,param_6);
            pRVar2 = *(RKC_UPDIB_VSBLOCK **)(pRVar2 + 0xc);
          } while (pRVar2 != (RKC_UPDIB_VSBLOCK *)0x0);
          return 1;
        }
      }
    }
    else if (pRVar2 != (RKC_UPDIB_VSBLOCK *)0x0) {
      do {
        RKC_UPDIB_VSBLOCK::Render(pRVar2,param_1,-1,param_4,param_5,param_6);
        pRVar2 = *(RKC_UPDIB_VSBLOCK **)(pRVar2 + 0x10);
      } while (pRVar2 != (RKC_UPDIB_VSBLOCK *)0x0);
      return 1;
    }
  }
  else {
    pRVar2 = GetVSBlock(this,param_2);
    if (pRVar2 != (RKC_UPDIB_VSBLOCK *)0x0) {
      RKC_UPDIB_VSBLOCK::Render(pRVar2,param_1,-1,0,0,param_6);
    }
  }
  return 1;
}



/*
 * Function: FlushVSBlock
 * Address: 10001b70
 */

/* public: void __thiscall RKC_UPDIB::FlushVSBlock(long) */

void __thiscall RKC_UPDIB::FlushVSBlock(RKC_UPDIB *this,long param_1)

{
  RKC_UPDIB_VSBLOCK *pRVar1;
  
                    /* 0x1b70  26  ?FlushVSBlock@RKC_UPDIB@@QAEXJ@Z */
  if (param_1 == -1) {
    pRVar1 = *(RKC_UPDIB_VSBLOCK **)this;
    if (pRVar1 != (RKC_UPDIB_VSBLOCK *)0x0) {
      do {
        RKC_UPDIB_VSBLOCK::FlushVScreen(pRVar1);
        pRVar1 = *(RKC_UPDIB_VSBLOCK **)(pRVar1 + 0x10);
      } while (pRVar1 != (RKC_UPDIB_VSBLOCK *)0x0);
      return;
    }
  }
  else {
    pRVar1 = GetVSBlock(this,param_1);
    if (pRVar1 != (RKC_UPDIB_VSBLOCK *)0x0) {
      RKC_UPDIB_VSBLOCK::FlushVScreen(pRVar1);
    }
  }
  return;
}



/*
 * Function: ExchangeUpd
 * Address: 10001bb0
 */

/* public: int __thiscall RKC_UPDIB::ExchangeUpd(long,long) */

int __thiscall RKC_UPDIB::ExchangeUpd(RKC_UPDIB *this,long param_1,long param_2)

{
  int iVar1;
  undefined4 uVar2;
  
                    /* 0x1bb0  25  ?ExchangeUpd@RKC_UPDIB@@QAEHJJ@Z */
  if ((((-1 < param_1) && (param_1 < *(int *)(this + 4))) && (-1 < param_2)) &&
     ((param_2 < *(int *)(this + 4) && (param_1 != param_2)))) {
    iVar1 = *(int *)(this + 8);
    uVar2 = *(undefined4 *)(iVar1 + param_1 * 4);
    *(undefined4 *)(iVar1 + param_1 * 4) = *(undefined4 *)(iVar1 + param_2 * 4);
    *(undefined4 *)(*(int *)(this + 8) + param_2 * 4) = uVar2;
    return 1;
  }
  return 0;
}



/*
 * Function: SetStringsPacket
 * Address: 10001c00
 */

/* WARNING: Removing unreachable block (ram,0x10001e56) */
/* WARNING: Removing unreachable block (ram,0x10001d2a) */
/* public: int __thiscall RKC_UPDIB::SetStringsPacket(long,long,long,long,long,char *,unsigned
   char,unsigned char,unsigned char,long,long,long,long,long) */

int __thiscall
RKC_UPDIB::SetStringsPacket
          (RKC_UPDIB *this,long param_1,long param_2,long param_3,long param_4,long param_5,
          char *param_6,uchar param_7,uchar param_8,uchar param_9,long param_10,long param_11,
          long param_12,long param_13,long param_14)

{
  char *pcVar1;
  byte bVar2;
  RKC_UPDIB_VSBLOCK *this_00;
  RKC_UPDIB_VS *this_01;
  RKC_UPDIB_UPD *this_02;
  RKC_UPDIB_PATTERN *pRVar3;
  long lVar4;
  RKC_UPDIB_VSPACKET *pRVar5;
  int iVar6;
  int iVar7;
  long lVar8;
  
                    /* 0x1c00  81  ?SetStringsPacket@RKC_UPDIB@@QAEHJJJJJPADEEEJJJJJ@Z */
  this_00 = GetVSBlock(this,param_1);
  if (this_00 == (RKC_UPDIB_VSBLOCK *)0x0) {
    return 0;
  }
  this_01 = RKC_UPDIB_VSBLOCK::GetVScreen(this_00,param_2);
  if (this_01 == (RKC_UPDIB_VS *)0x0) {
    return 0;
  }
  this_02 = GetUpd(this,param_3);
  if (this_02 == (RKC_UPDIB_UPD *)0x0) {
    return 0;
  }
  pRVar3 = RKC_UPDIB_UPD::GetPattern(this_02,0);
  if (pRVar3 != (RKC_UPDIB_PATTERN *)0x0) {
    iVar6 = (int)(*(int *)(pRVar3 + 0x14) + (*(int *)(pRVar3 + 0x14) >> 0x1f & 0xfU)) >> 4;
    iVar7 = (int)(*(int *)(pRVar3 + 0x18) + (*(int *)(pRVar3 + 0x18) >> 0x1f & 0xfU)) >> 4;
    if (param_11 == 0) {
      param_11 = 2000000;
    }
    if (*param_6 != '\0') {
      param_2 = 1;
      param_1 = 2;
      lVar8 = param_4;
      do {
        bVar2 = *param_6;
        if (((bVar2 < 0x80) || (0x9f < bVar2)) && (bVar2 < 0xe0)) {
          if (param_11 < param_2) {
            return 1;
          }
          if (bVar2 == 10) {
            param_5 = param_5 + iVar7 + param_13;
            lVar8 = param_4;
          }
          else if (bVar2 == 0x20) {
            lVar8 = lVar8 + iVar6 + param_12;
          }
          else {
            pRVar3 = RKC_UPDIB_UPD::GetPattern(this_02,0);
            if (pRVar3 != (RKC_UPDIB_PATTERN *)0x0) {
              pRVar5 = RKC_UPDIB_VS::InsertVSPacket(this_01,0);
              *(uint *)(pRVar5 + 0xc) = lVar8 - (bVar2 & 0x8000000f) * iVar6;
              *(undefined4 *)(pRVar5 + 0x28) = 0;
              *(long *)(pRVar5 + 0x10) = param_5 - ((int)(uint)bVar2 >> 4) * iVar7;
              *(long *)(pRVar5 + 0x24) = param_3;
              *(ushort *)(pRVar5 + 0x30) = (ushort)param_7;
              *(ushort *)(pRVar5 + 0x32) = (ushort)param_8;
              *(ushort *)(pRVar5 + 0x34) = (ushort)param_9;
              *(undefined4 *)(pRVar5 + 0x2c) = *(undefined4 *)(pRVar3 + 0x1c);
              *(uint *)(pRVar5 + 4) = param_10 | 0xa0;
              *(long *)(pRVar5 + 0x1c) = param_14;
              *(long *)(pRVar5 + 0x40) = lVar8;
              *(long *)(pRVar5 + 0x44) = param_5;
              *(int *)(pRVar5 + 0x48) = iVar6 + -1 + lVar8;
              *(int *)(pRVar5 + 0x4c) = iVar7 + -1 + param_5;
            }
            lVar8 = lVar8 + iVar6 + param_12;
          }
          param_1 = param_1 + 1;
          param_2 = param_2 + 1;
        }
        else {
          if (param_11 < param_1) {
            return 1;
          }
          if ((bVar2 < 0x80) || (0x9f < bVar2)) {
            lVar4 = bVar2 - 0xbf;
          }
          else {
            lVar4 = bVar2 - 0x7f;
          }
          bVar2 = param_6[1];
          pRVar3 = RKC_UPDIB_UPD::GetPattern(this_02,lVar4);
          if (pRVar3 != (RKC_UPDIB_PATTERN *)0x0) {
            pRVar5 = RKC_UPDIB_VS::InsertVSPacket(this_01,0);
            *(uint *)(pRVar5 + 0xc) = lVar8 + (bVar2 & 0x8000000f) * iVar6 * -2;
            *(undefined4 *)(pRVar5 + 0x2c) = 0xffffffff;
            *(long *)(pRVar5 + 0x40) = lVar8;
            *(long *)(pRVar5 + 0x10) = param_5 - ((int)(uint)bVar2 >> 4) * iVar7;
            *(long *)(pRVar5 + 0x24) = param_3;
            *(long *)(pRVar5 + 0x28) = lVar4;
            *(ushort *)(pRVar5 + 0x30) = (ushort)param_7;
            *(ushort *)(pRVar5 + 0x32) = (ushort)param_8;
            *(ushort *)(pRVar5 + 0x34) = (ushort)param_9;
            *(uint *)(pRVar5 + 4) = param_10 | 0xa0;
            *(long *)(pRVar5 + 0x1c) = param_14;
            *(long *)(pRVar5 + 0x44) = param_5;
            *(long *)(pRVar5 + 0x48) = lVar8 + -1 + iVar6 * 2;
            *(int *)(pRVar5 + 0x4c) = iVar7 + -1 + param_5;
          }
          lVar8 = lVar8 + param_12 + iVar6 * 2;
          param_6 = param_6 + 1;
          param_1 = param_1 + 2;
          param_2 = param_2 + 2;
        }
        pcVar1 = param_6 + 1;
        param_6 = param_6 + 1;
      } while (*pcVar1 != '\0');
    }
    return 1;
  }
  return 0;
}



/*
 * Function: GetFontParam
 * Address: 10001f50
 */

/* public: int __thiscall RKC_UPDIB::GetFontParam(long,long *,long *) */

int __thiscall RKC_UPDIB::GetFontParam(RKC_UPDIB *this,long param_1,long *param_2,long *param_3)

{
  RKC_UPDIB_UPD *this_00;
  RKC_UPDIB_PATTERN *pRVar1;
  
                    /* 0x1f50  33  ?GetFontParam@RKC_UPDIB@@QAEHJPAJ0@Z */
  this_00 = GetUpd(this,param_1);
  if (this_00 == (RKC_UPDIB_UPD *)0x0) {
    return 0;
  }
  pRVar1 = RKC_UPDIB_UPD::GetPattern(this_00,0);
  if (pRVar1 == (RKC_UPDIB_PATTERN *)0x0) {
    return 0;
  }
  *param_2 = (int)(*(int *)(pRVar1 + 0x14) + (*(int *)(pRVar1 + 0x14) >> 0x1f & 0xfU)) >> 4;
  *param_3 = (int)(*(int *)(pRVar1 + 0x18) + (*(int *)(pRVar1 + 0x18) >> 0x1f & 0xfU)) >> 4;
  return 1;
}



/*
 * Function: GetDIBHISpeedMode
 * Address: 10001fa0
 */

/* public: class RKC_DIBHISPEEDMODE * __thiscall RKC_UPDIB::GetDIBHISpeedMode(void) */

RKC_DIBHISPEEDMODE * __thiscall RKC_UPDIB::GetDIBHISpeedMode(RKC_UPDIB *this)

{
                    /* 0x1fa0  30  ?GetDIBHISpeedMode@RKC_UPDIB@@QAEPAVRKC_DIBHISPEEDMODE@@XZ */
  return *(RKC_DIBHISPEEDMODE **)(this + 0x28);
}



/*
 * Function: RKC_UPDIB_PATTERN
 * Address: 10001fb0
 */

/* public: __thiscall RKC_UPDIB_PATTERN::RKC_UPDIB_PATTERN(void) */

void __thiscall RKC_UPDIB_PATTERN::RKC_UPDIB_PATTERN(RKC_UPDIB_PATTERN *this)

{
                    /* 0x1fb0  2  ??0RKC_UPDIB_PATTERN@@QAE@XZ */
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x1c) = 0xffffffff;
  *(undefined4 *)(this + 0x20) = 0;
  *(undefined4 *)(this + 0x24) = 0;
  return;
}



/*
 * Function: ~RKC_UPDIB_PATTERN
 * Address: 10001fd0
 */

/* public: __thiscall RKC_UPDIB_PATTERN::~RKC_UPDIB_PATTERN(void) */

void __thiscall RKC_UPDIB_PATTERN::~RKC_UPDIB_PATTERN(RKC_UPDIB_PATTERN *this)

{
  RKC_DIB *this_00;
  
                    /* 0x1fd0  8  ??1RKC_UPDIB_PATTERN@@QAE@XZ */
  if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 4));
    *(undefined4 *)(this + 4) = 0;
  }
  *(undefined4 *)this = 0;
  if (*(HGLOBAL *)(this + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 8));
    *(undefined4 *)(this + 8) = 0;
  }
  *(undefined4 *)(this + 0x1c) = 0xffffffff;
  if (*(HGLOBAL *)(this + 0x20) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0x20));
    *(undefined4 *)(this + 0x20) = 0;
  }
  this_00 = *(RKC_DIB **)(this + 0x24);
  if (this_00 != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this_00);
    FUN_10004216(this_00);
  }
  *(undefined4 *)(this + 0x24) = 0;
  return;
}



/*
 * Function: Release
 * Address: 10001fe0
 */

/* public: void __thiscall RKC_UPDIB_PATTERN::Release(void) */

void __thiscall RKC_UPDIB_PATTERN::Release(RKC_UPDIB_PATTERN *this)

{
  RKC_DIB *this_00;
  
                    /* 0x1fe0  63  ?Release@RKC_UPDIB_PATTERN@@QAEXXZ */
  if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 4));
    *(undefined4 *)(this + 4) = 0;
  }
  *(undefined4 *)this = 0;
  if (*(HGLOBAL *)(this + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 8));
    *(undefined4 *)(this + 8) = 0;
  }
  *(undefined4 *)(this + 0x1c) = 0xffffffff;
  if (*(HGLOBAL *)(this + 0x20) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0x20));
    *(undefined4 *)(this + 0x20) = 0;
  }
  this_00 = *(RKC_DIB **)(this + 0x24);
  if (this_00 != (RKC_DIB *)0x0) {
    RKC_DIB::~RKC_DIB(this_00);
    FUN_10004216(this_00);
  }
  *(undefined4 *)(this + 0x24) = 0;
  return;
}



/*
 * Function: GetPartsList
 * Address: 10002040
 */

/* public: struct RKC_UPDIB_PARTSLIST * __thiscall RKC_UPDIB_PATTERN::GetPartsList(long) */

RKC_UPDIB_PARTSLIST * __thiscall
RKC_UPDIB_PATTERN::GetPartsList(RKC_UPDIB_PATTERN *this,long param_1)

{
                    /* 0x2040  42  ?GetPartsList@RKC_UPDIB_PATTERN@@QAEPAURKC_UPDIB_PARTSLIST@@J@Z
                        */
  return (RKC_UPDIB_PARTSLIST *)(*(int *)(this + 4) + param_1 * 0x1c);
}



/*
 * Function: GetBuildRect
 * Address: 10002060
 */

/* public: struct tagRECT * __thiscall RKC_UPDIB_PATTERN::GetBuildRect(void) */

tagRECT * __thiscall RKC_UPDIB_PATTERN::GetBuildRect(RKC_UPDIB_PATTERN *this)

{
                    /* 0x2060  29  ?GetBuildRect@RKC_UPDIB_PATTERN@@QAEPAUtagRECT@@XZ */
  return (tagRECT *)(this + 0xc);
}



/*
 * Function: GetDefaultPaletteNo
 * Address: 10002070
 */

/* public: long __thiscall RKC_UPDIB_PATTERN::GetDefaultPaletteNo(void) */

long __thiscall RKC_UPDIB_PATTERN::GetDefaultPaletteNo(RKC_UPDIB_PATTERN *this)

{
                    /* 0x2070  31  ?GetDefaultPaletteNo@RKC_UPDIB_PATTERN@@QAEJXZ
                       0x2070  38  ?GetPaletteCount@RKC_UPDIB_UPD@@QAEJXZ */
  return *(long *)(this + 0x1c);
}



/*
 * Function: GetName
 * Address: 10002080
 */

/* public: char * __thiscall RKC_UPDIB_PATTERN::GetName(void) */

char * __thiscall RKC_UPDIB_PATTERN::GetName(RKC_UPDIB_PATTERN *this)

{
                    /* 0x2080  36  ?GetName@RKC_UPDIB_PATTERN@@QAEPADXZ */
  return *(char **)(this + 0x20);
}



/*
 * Function: GetIcon
 * Address: 10002090
 */

/* public: class RKC_DIB * __thiscall RKC_UPDIB_PATTERN::GetIcon(void) */

RKC_DIB * __thiscall RKC_UPDIB_PATTERN::GetIcon(RKC_UPDIB_PATTERN *this)

{
                    /* 0x2090  34  ?GetIcon@RKC_UPDIB_PATTERN@@QAEPAVRKC_DIB@@XZ
                       0x2090  56  ?GetVersionNo@RKC_UPDIB_UPD@@QAEJXZ */
  return *(RKC_DIB **)(this + 0x24);
}



/*
 * Function: RKC_UPDIB_UPD
 * Address: 100020a0
 */

/* public: __thiscall RKC_UPDIB_UPD::RKC_UPDIB_UPD(void) */

void __thiscall RKC_UPDIB_UPD::RKC_UPDIB_UPD(RKC_UPDIB_UPD *this)

{
                    /* 0x20a0  3  ??0RKC_UPDIB_UPD@@QAE@XZ */
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  *(undefined4 *)(this + 0x1c) = 0;
  *(undefined4 *)(this + 0x20) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 0x24) = 0;
  *(undefined4 *)(this + 0x28) = 0;
  *(undefined4 *)(this + 0x2c) = 0;
  return;
}



/*
 * Function: ~RKC_UPDIB_UPD
 * Address: 100020d0
 */

/* public: __thiscall RKC_UPDIB_UPD::~RKC_UPDIB_UPD(void) */

void __thiscall RKC_UPDIB_UPD::~RKC_UPDIB_UPD(RKC_UPDIB_UPD *this)

{
  HGLOBAL hMem;
  int iVar1;
  int iVar2;
  
                    /* 0x20d0  9  ??1RKC_UPDIB_UPD@@QAE@XZ */
  if (*(int *)(this + 0x10) != 0) {
    if (*(LPVOID *)(this + 0x28) == (LPVOID)0x0) {
      iVar1 = 0;
      if (0 < *(int *)(this + 0xc)) {
        iVar2 = 0;
        do {
          hMem = *(HGLOBAL *)(iVar2 + 0xc + *(int *)(this + 0x10));
          if (hMem != (HGLOBAL)0x0) {
            GlobalFree(hMem);
            *(undefined4 *)(iVar2 + 0xc + *(int *)(this + 0x10)) = 0;
          }
          iVar1 = iVar1 + 1;
          iVar2 = iVar2 + 0x10;
        } while (iVar1 < *(int *)(this + 0xc));
      }
    }
    else {
      FUN_10004216(*(LPVOID *)(this + 0x28));
      *(undefined4 *)(this + 0x28) = 0;
    }
    GlobalFree(*(HGLOBAL *)(this + 0x10));
  }
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  if (*(int *)(this + 0x18) != 0) {
    if (*(int *)(this + 0x2c) == 0) {
      iVar1 = 0;
      if (0 < *(int *)(this + 0x14)) {
        iVar2 = 0;
        do {
          GlobalFree(*(HGLOBAL *)(iVar2 + 4 + *(int *)(this + 0x18)));
          iVar1 = iVar1 + 1;
          *(undefined4 *)(iVar2 + 4 + *(int *)(this + 0x18)) = 0;
          iVar2 = iVar2 + 0x28;
        } while (iVar1 < *(int *)(this + 0x14));
      }
    }
    else {
      iVar1 = 0;
      if (0 < *(int *)(this + 0x14)) {
        iVar2 = 0;
        do {
          iVar1 = iVar1 + 1;
          *(undefined4 *)(iVar2 + 4 + *(int *)(this + 0x18)) = 0;
          iVar2 = iVar2 + 0x28;
        } while (iVar1 < *(int *)(this + 0x14));
      }
      GlobalFree(*(HGLOBAL *)(this + 0x2c));
      *(undefined4 *)(this + 0x2c) = 0;
    }
    iVar1 = *(int *)(this + 0x18);
    if (iVar1 != 0) {
      FUN_10004606(iVar1,0x28,*(int *)(iVar1 + -4),RKC_UPDIB_PATTERN::~RKC_UPDIB_PATTERN);
      FUN_10004216((LPVOID)(iVar1 + -4));
    }
  }
  *(undefined4 *)(this + 0x18) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  if (*(int *)(this + 0x20) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0x1c)) {
      iVar2 = 0;
      do {
        RKC_DIB::SetBitmap((RKC_DIB *)(*(int *)(this + 0x20) + iVar2),(uchar *)0x0);
        iVar1 = iVar1 + 1;
        iVar2 = iVar2 + 0xc;
      } while (iVar1 < *(int *)(this + 0x1c));
    }
    iVar1 = *(int *)(this + 0x20);
    if (iVar1 != 0) {
      FUN_10004606(iVar1,0xc,*(int *)(iVar1 + -4),~RKC_DIB_exref);
      FUN_10004216((LPVOID)(iVar1 + -4));
    }
  }
  *(undefined4 *)(this + 0x20) = 0;
  *(undefined4 *)(this + 0x1c) = 0;
  *(undefined4 *)this = 0;
  if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 4));
    *(undefined4 *)(this + 4) = 0;
  }
  *(undefined4 *)(this + 0x24) = 0;
  return;
}



/*
 * Function: Release
 * Address: 100020e0
 */

/* public: void __thiscall RKC_UPDIB_UPD::Release(void) */

void __thiscall RKC_UPDIB_UPD::Release(RKC_UPDIB_UPD *this)

{
  HGLOBAL hMem;
  int iVar1;
  int iVar2;
  
                    /* 0x20e0  64  ?Release@RKC_UPDIB_UPD@@QAEXXZ */
  if (*(int *)(this + 0x10) != 0) {
    if (*(LPVOID *)(this + 0x28) == (LPVOID)0x0) {
      iVar1 = 0;
      if (0 < *(int *)(this + 0xc)) {
        iVar2 = 0;
        do {
          hMem = *(HGLOBAL *)(iVar2 + 0xc + *(int *)(this + 0x10));
          if (hMem != (HGLOBAL)0x0) {
            GlobalFree(hMem);
            *(undefined4 *)(iVar2 + 0xc + *(int *)(this + 0x10)) = 0;
          }
          iVar1 = iVar1 + 1;
          iVar2 = iVar2 + 0x10;
        } while (iVar1 < *(int *)(this + 0xc));
      }
    }
    else {
      FUN_10004216(*(LPVOID *)(this + 0x28));
      *(undefined4 *)(this + 0x28) = 0;
    }
    GlobalFree(*(HGLOBAL *)(this + 0x10));
  }
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  if (*(int *)(this + 0x18) != 0) {
    if (*(int *)(this + 0x2c) == 0) {
      iVar1 = 0;
      if (0 < *(int *)(this + 0x14)) {
        iVar2 = 0;
        do {
          GlobalFree(*(HGLOBAL *)(iVar2 + 4 + *(int *)(this + 0x18)));
          iVar1 = iVar1 + 1;
          *(undefined4 *)(iVar2 + 4 + *(int *)(this + 0x18)) = 0;
          iVar2 = iVar2 + 0x28;
        } while (iVar1 < *(int *)(this + 0x14));
      }
    }
    else {
      iVar1 = 0;
      if (0 < *(int *)(this + 0x14)) {
        iVar2 = 0;
        do {
          iVar1 = iVar1 + 1;
          *(undefined4 *)(iVar2 + 4 + *(int *)(this + 0x18)) = 0;
          iVar2 = iVar2 + 0x28;
        } while (iVar1 < *(int *)(this + 0x14));
      }
      GlobalFree(*(HGLOBAL *)(this + 0x2c));
      *(undefined4 *)(this + 0x2c) = 0;
    }
    iVar1 = *(int *)(this + 0x18);
    if (iVar1 != 0) {
      FUN_10004606(iVar1,0x28,*(int *)(iVar1 + -4),RKC_UPDIB_PATTERN::~RKC_UPDIB_PATTERN);
      FUN_10004216((LPVOID)(iVar1 + -4));
    }
  }
  *(undefined4 *)(this + 0x18) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  if (*(int *)(this + 0x20) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0x1c)) {
      iVar2 = 0;
      do {
        RKC_DIB::SetBitmap((RKC_DIB *)(*(int *)(this + 0x20) + iVar2),(uchar *)0x0);
        iVar1 = iVar1 + 1;
        iVar2 = iVar2 + 0xc;
      } while (iVar1 < *(int *)(this + 0x1c));
    }
    iVar1 = *(int *)(this + 0x20);
    if (iVar1 != 0) {
      FUN_10004606(iVar1,0xc,*(int *)(iVar1 + -4),~RKC_DIB_exref);
      FUN_10004216((LPVOID)(iVar1 + -4));
    }
  }
  *(undefined4 *)(this + 0x20) = 0;
  *(undefined4 *)(this + 0x1c) = 0;
  *(undefined4 *)this = 0;
  if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 4));
    *(undefined4 *)(this + 4) = 0;
  }
  *(undefined4 *)(this + 0x24) = 0;
  return;
}



/*
 * Function: Read
 * Address: 10002250
 */

/* public: int __thiscall RKC_UPDIB_UPD::Read(char *,long) */

int __thiscall RKC_UPDIB_UPD::Read(RKC_UPDIB_UPD *this,char *param_1,long param_2)

{
  RKC_UPDIB_UPD *pRVar1;
  char cVar2;
  int iVar3;
  char *pcVar4;
  void *pvVar5;
  HGLOBAL pvVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  void *extraout_ECX;
  void *extraout_ECX_00;
  void *extraout_ECX_01;
  code *pcVar11;
  char *pcVar12;
  undefined4 *puVar13;
  code *pcVar14;
  undefined4 *puVar15;
  int *piVar16;
  RKC_FILE local_88 [4];
  RKC_FILE local_84 [4];
  int iStack_80;
  SIZE_T SStack_7c;
  int iStack_78;
  undefined4 *puStack_74;
  int iStack_70;
  uint uStack_6c;
  int iStack_68;
  int iStack_64;
  int iStack_60;
  int iStack_5c;
  undefined uStack_58;
  undefined uStack_57;
  undefined uStack_56;
  int *local_54;
  int *local_50;
  int iStack_4c;
  int iStack_48;
  RKC_DIB local_44 [12];
  RKC_DIB local_38 [12];
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  long lStack_20;
  char acStack_1c [12];
  byte abStack_10 [3];
  undefined uStack_d;
  void *pvStack_c;
  undefined *puStack_8;
  int local_4;
  
                    /* 0x2250  60  ?Read@RKC_UPDIB_UPD@@QAEHPADJ@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_100080a0;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_FILE::RKC_FILE(local_88);
  local_4 = 0;
  RKC_FILE::RKC_FILE(local_84);
  local_4._0_1_ = 1;
  RKC_DIB::RKC_DIB(local_38);
  local_4._0_1_ = 2;
  RKC_DIB::RKC_DIB(local_44);
  local_4._0_1_ = 3;
  local_54 = (int *)0x0;
  local_50 = (int *)0x0;
  Release(this);
  iVar3 = RKC_FILE::Create(local_88,param_1,0);
  if (iVar3 != 0) {
    if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
      GlobalFree(*(HGLOBAL *)(this + 4));
    }
    uVar9 = 0xffffffff;
    pcVar4 = param_1;
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      cVar2 = *pcVar4;
      pcVar4 = pcVar4 + 1;
    } while (cVar2 != '\0');
    pcVar4 = (char *)GlobalAlloc(0x40,~uVar9);
    uVar9 = 0xffffffff;
    *(char **)(this + 4) = pcVar4;
    pcVar11 = Read_exref;
    do {
      pcVar12 = param_1;
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      pcVar12 = param_1 + 1;
      cVar2 = *param_1;
      param_1 = pcVar12;
    } while (cVar2 != '\0');
    uVar9 = ~uVar9;
    pcVar12 = pcVar12 + -uVar9;
    for (uVar10 = uVar9 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
      *(undefined4 *)pcVar4 = *(undefined4 *)pcVar12;
      pcVar12 = pcVar12 + 4;
      pcVar4 = pcVar4 + 4;
    }
    for (uVar9 = uVar9 & 3; uVar9 != 0; uVar9 = uVar9 - 1) {
      *pcVar4 = *pcVar12;
      pcVar12 = pcVar12 + 1;
      pcVar4 = pcVar4 + 1;
    }
    iVar3 = RKC_FILE::Read(local_88,acStack_1c,0x10);
    if (iVar3 != 0) {
      uStack_d = 0;
      iVar3 = _strncmp(acStack_1c,s_UnitePatData_1000c050,0xc);
      if (iVar3 == 0) {
        iStack_5c = 1;
        iStack_68 = 0;
        *(undefined4 *)this = 1;
        pvVar5 = extraout_ECX;
      }
      else {
        iVar3 = _strncmp(acStack_1c,s_NJudgeUniPat_1000c040,0xc);
        if (iVar3 == 0) {
          *(undefined4 *)this = 2;
          iStack_5c = 0;
          iStack_68 = 0;
          pvVar5 = extraout_ECX_00;
        }
        else {
          iVar3 = _strncmp(acStack_1c,s_ShadowLowPat_1000c030,0xc);
          if (iVar3 != 0) goto LAB_10002ccd;
          iStack_68 = 1;
          iStack_5c = 0;
          *(undefined4 *)this = 4;
          pvVar5 = extraout_ECX_01;
        }
      }
      iVar3 = FUN_10004807(pvVar5,abStack_10);
      *(int *)(this + 0x24) = iVar3;
      if ((-1 < iVar3) && (iVar3 < 4)) {
        pRVar1 = this + 0xc;
        iVar3 = RKC_FILE::Read(local_88,pRVar1,4);
        if ((iVar3 != 0) && (-1 < *(int *)pRVar1)) {
          if (2 < *(int *)(this + 0x24)) {
            iVar3 = RKC_FILE::Read(local_88,&uStack_6c,4);
            if (iVar3 == 0) goto LAB_10002ccd;
            uStack_6c = 0;
            iStack_80 = 0;
            if (0 < *(int *)pRVar1) {
              do {
                iVar3 = RKC_FILE::Read(local_88,&iStack_70,4);
                if ((((iVar3 == 0) || (iVar3 = RKC_FILE::Read(local_88,&iStack_78,4), iVar3 == 0))
                    || (iVar3 = RKC_FILE::Read(local_88,&iStack_64,4), iVar3 == 0)) ||
                   (iVar3 = RKC_FILE::Read(local_88,&iStack_60,4), iVar3 == 0)) goto LAB_10002ccd;
                if (iStack_68 == 0) {
                  if (iStack_70 == 4) {
                    iVar3 = (iStack_78 + 1) / 2 + 3;
                    iVar3 = ((int)(iVar3 + (iVar3 >> 0x1f & 3U)) >> 2) << 2;
                  }
                  else {
                    iVar3 = ((int)(iStack_78 + 3 + (iStack_78 + 3 >> 0x1f & 3U)) >> 2) << 2;
                  }
                }
                else {
                  iStack_70 = 1;
                  iVar3 = ((int)(iStack_78 + 7 + (iStack_78 + 7 >> 0x1f & 7U)) >> 3) + 3;
                  iVar3 = ((int)(iVar3 + (iVar3 >> 0x1f & 3U)) >> 2) << 2;
                }
                SStack_7c = iVar3 * iStack_64;
                if (iStack_60 == 0) {
                  iVar3 = RKC_FILE::Seek(local_88,SStack_7c,1);
                }
                else {
                  iVar3 = RKC_FILE::Read(local_88,&uStack_2c,0x10);
                  if (iVar3 == 0) goto LAB_10002ccd;
                  iVar3 = RKC_FILE::Seek(local_88,lStack_20,1);
                }
                if (iVar3 == 0) goto LAB_10002ccd;
                uStack_6c = uStack_6c + SStack_7c;
                iStack_80 = iStack_80 + 1;
              } while (iStack_80 < *(int *)pRVar1);
            }
            RKC_FILE::Seek(local_88,0,0);
            iVar3 = RKC_FILE::Seek(local_88,0x10,1);
            if (((iVar3 == 0) || (iVar3 = RKC_FILE::Seek(local_88,4,1), iVar3 == 0)) ||
               (iVar3 = RKC_FILE::Seek(local_88,4,1), iVar3 == 0)) goto LAB_10002ccd;
            if (uStack_6c != 0) {
              pvVar5 = operator_new(uStack_6c);
              *(void **)(this + 0x28) = pvVar5;
            }
          }
          pvVar6 = GlobalAlloc(0x40,*(int *)pRVar1 << 4);
          *(HGLOBAL *)(this + 0x10) = pvVar6;
          iStack_80 = 0;
          if (0 < *(int *)pRVar1) {
            iVar3 = 0;
            pcVar14 = Read_exref;
            do {
              iVar7 = (*pcVar14)(&iStack_70,4);
              if (((iVar7 == 0) || (iVar7 = (*pcVar14)(&iStack_78,4), iVar7 == 0)) ||
                 ((iVar7 = (*pcVar14)(&iStack_64,4), iVar7 == 0 ||
                  (iVar7 = (*pcVar14)(&iStack_60,4), iVar7 == 0)))) goto LAB_10002ccd;
              if (iStack_68 == 0) {
                if (iStack_70 == 4) {
                  iVar7 = (iStack_78 + 1) / 2 + 3;
                  iVar7 = ((int)(iVar7 + (iVar7 >> 0x1f & 3U)) >> 2) << 2;
                }
                else {
                  iVar7 = ((int)(iStack_78 + 3 + (iStack_78 + 3 >> 0x1f & 3U)) >> 2) << 2;
                }
              }
              else {
                iStack_70 = 1;
                iVar7 = ((int)(iStack_78 + 7 + (iStack_78 + 7 >> 0x1f & 7U)) >> 3) + 3;
                iVar7 = ((int)(iVar7 + (iVar7 >> 0x1f & 3U)) >> 2) << 2;
              }
              SStack_7c = iVar7 * iStack_64;
              if (SStack_7c == 0) {
                *(undefined4 *)(*(int *)(this + 0x10) + 0xc + iVar3) = 0;
              }
              else {
                puStack_74 = (undefined4 *)GlobalAlloc(0,SStack_7c);
                if (iStack_60 == 0) {
                  iVar7 = (*pcVar14)(puStack_74,SStack_7c);
                  if (iVar7 == 0) goto LAB_10002ccd;
                }
                else {
                  iVar7 = (*pcVar14)(&uStack_2c,0x10);
                  if (iVar7 == 0) goto LAB_10002ccd;
                  *puStack_74 = uStack_2c;
                  puStack_74[1] = uStack_28;
                  puStack_74[2] = uStack_24;
                  puStack_74[3] = lStack_20;
                  iVar7 = (*pcVar14)(puStack_74 + 4,lStack_20);
                  puVar13 = puStack_74;
                  if (iVar7 == 0) goto LAB_10002ccd;
                  puStack_74 = (undefined4 *)0x0;
                  iVar7 = RK_LzDecodeMemoryToMemory(puVar13,lStack_20 + 0x10,&puStack_74,&uStack_2c)
                  ;
                  if (iVar7 == 0) goto LAB_10002ccd;
                  GlobalFree(puVar13);
                }
                *(int *)(*(int *)(this + 0x10) + 4 + iVar3) = iStack_78;
                *(int *)(*(int *)(this + 0x10) + 8 + iVar3) = iStack_64;
                *(int *)(*(int *)(this + 0x10) + iVar3) = iStack_70;
                if (*(int *)(this + 0x24) < 3) {
                  pvVar6 = GlobalAlloc(0,SStack_7c);
                  *(HGLOBAL *)(*(int *)(this + 0x10) + 0xc + iVar3) = pvVar6;
                }
                else {
                  *(int *)(*(int *)(this + 0x10) + 0xc + iVar3) =
                       *(int *)(this + 0x28) + (int)local_54;
                  local_54 = (int *)((int)local_54 + SStack_7c);
                }
                puVar13 = puStack_74;
                puVar15 = *(undefined4 **)(*(int *)(this + 0x10) + 0xc + iVar3);
                for (uVar9 = SStack_7c >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
                  *puVar15 = *puVar13;
                  puVar13 = puVar13 + 1;
                  puVar15 = puVar15 + 1;
                }
                for (uVar9 = SStack_7c & 3; uVar9 != 0; uVar9 = uVar9 - 1) {
                  *(undefined *)puVar15 = *(undefined *)puVar13;
                  puVar13 = (undefined4 *)((int)puVar13 + 1);
                  puVar15 = (undefined4 *)((int)puVar15 + 1);
                }
                GlobalFree(puStack_74);
                pcVar14 = Read_exref;
              }
              iStack_80 = iStack_80 + 1;
              iVar3 = iVar3 + 0x10;
              pcVar11 = Read_exref;
            } while (iStack_80 < *(int *)(this + 0xc));
          }
          pRVar1 = this + 0x14;
          iVar3 = (*pcVar11)(pRVar1,4);
          if ((iVar3 != 0) && (-1 < *(int *)pRVar1)) {
            if (2 < *(int *)(this + 0x24)) {
              iVar3 = (*pcVar11)(&iStack_4c,4);
              if (iVar3 == 0) goto LAB_10002ccd;
              pvVar6 = GlobalAlloc(0,iStack_4c * 0x1c);
              *(HGLOBAL *)(this + 0x2c) = pvVar6;
            }
            iVar3 = *(int *)pRVar1;
            local_54 = (int *)operator_new(iVar3 * 0x28 + 4);
            local_4._0_1_ = 4;
            if (local_54 == (int *)0x0) {
              piVar16 = (int *)0x0;
            }
            else {
              piVar16 = local_54 + 1;
              *local_54 = iVar3;
              FUN_100046fa(piVar16,0x28,iVar3,RKC_UPDIB_PATTERN::RKC_UPDIB_PATTERN);
            }
            *(int **)(this + 0x18) = piVar16;
            local_4._0_1_ = 3;
            iStack_80 = 0;
            iVar3 = 0;
            if (0 < *(int *)(this + 0x14)) {
              do {
                iVar7 = (*pcVar11)(iVar3 + *(int *)(this + 0x18),4);
                if (((iVar7 == 0) || (*(int *)(iVar3 + *(int *)(this + 0x18)) < 0)) ||
                   (iVar7 = (*pcVar11)(iVar3 + *(int *)(this + 0x18) + 0xc,0x10), iVar7 == 0))
                goto LAB_10002ccd;
                if (iStack_5c == 1) {
                  if (*(int *)(iVar3 + 8 + *(int *)(this + 0x18)) == 0) {
                    pvVar6 = GlobalAlloc(0x40,0xa8);
                    *(HGLOBAL *)(iVar3 + 8 + *(int *)(this + 0x18)) = pvVar6;
                  }
                  iVar7 = (*pcVar11)(*(undefined4 *)(iVar3 + 8 + *(int *)(this + 0x18)),0xa8);
                  if (iVar7 == 0) goto LAB_10002ccd;
                }
                if ((0 < *(int *)(this + 0x24)) &&
                   (iVar7 = (*pcVar11)(iVar3 + 0x1c + *(int *)(this + 0x18),4), iVar7 == 0))
                goto LAB_10002ccd;
                if (*(int *)(this + 0x24) < 3) {
                  pvVar6 = GlobalAlloc(0x40,*(int *)(iVar3 + *(int *)(this + 0x18)) * 0x1c);
                  *(HGLOBAL *)(iVar3 + 4 + *(int *)(this + 0x18)) = pvVar6;
                }
                else {
                  *(int *)(iVar3 + 4 + *(int *)(this + 0x18)) =
                       *(int *)(this + 0x2c) + (int)local_50 * 0x1c;
                  local_50 = (int *)((int)local_50 + *(int *)(iVar3 + *(int *)(this + 0x18)));
                }
                local_54 = (int *)0x0;
                piVar16 = (int *)(iVar3 + *(int *)(this + 0x18));
                if (0 < *(int *)(iVar3 + *(int *)(this + 0x18))) {
                  iVar7 = 0;
                  do {
                    iVar8 = (*pcVar11)(piVar16[1] + iVar7,4);
                    if ((iVar8 == 0) || (iVar8 = (*pcVar11)(&iStack_48,4), iVar8 == 0))
                    goto LAB_10002ccd;
                    if ((iStack_48 < 0) || (*(int *)(this + 0xc) <= iStack_48)) {
                      *(undefined4 *)(*(int *)(iVar3 + 4 + *(int *)(this + 0x18)) + 0x18 + iVar7) =
                           0;
                    }
                    else {
                      *(int *)(*(int *)(iVar3 + 4 + *(int *)(this + 0x18)) + 0x18 + iVar7) =
                           iStack_48 * 0x10 + *(int *)(this + 0x10);
                    }
                    iVar8 = (*pcVar11)(*(int *)(iVar3 + 4 + *(int *)(this + 0x18)) + 4 + iVar7,8);
                    if ((((iVar8 == 0) ||
                         (iVar8 = (*pcVar11)(*(int *)(iVar3 + 4 + *(int *)(this + 0x18)) + 0xc +
                                             iVar7,4), iVar8 == 0)) ||
                        (iVar8 = (*pcVar11)(*(int *)(iVar3 + 4 + *(int *)(this + 0x18)) + 0x10 +
                                            iVar7,4), iVar8 == 0)) ||
                       (iVar8 = (*pcVar11)(*(int *)(iVar3 + 4 + *(int *)(this + 0x18)) + 0x14 +
                                           iVar7,4), iVar8 == 0)) goto LAB_10002ccd;
                    local_54 = (int *)((int)local_54 + 1);
                    iVar7 = iVar7 + 0x1c;
                    piVar16 = (int *)(iVar3 + *(int *)(this + 0x18));
                  } while ((int)local_54 < *piVar16);
                }
                *(undefined4 *)(iVar3 + 0x20 + *(int *)(this + 0x18)) = 0;
                iStack_80 = iStack_80 + 1;
                iVar3 = iVar3 + 0x28;
              } while (iStack_80 < *(int *)(this + 0x14));
            }
            iVar3 = (*pcVar11)(this + 0x1c,4);
            if (iVar3 != 0) {
              iVar3 = *(int *)(this + 0x1c);
              if (-1 < iVar3) {
                if (iVar3 != 0) {
                  local_50 = (int *)operator_new(iVar3 * 0xc + 4);
                  pcVar14 = RKC_DIB_exref;
                  local_4._0_1_ = 5;
                  if (local_50 == (int *)0x0) {
                    piVar16 = (int *)0x0;
                  }
                  else {
                    *local_50 = iVar3;
                    piVar16 = local_50 + 1;
                    FUN_100046fa(piVar16,0xc,iVar3,pcVar14);
                  }
                  *(int **)(this + 0x20) = piVar16;
                  iVar3 = 0;
                  local_4._0_1_ = 3;
                  iStack_80 = 0;
                  if (0 < *(int *)(this + 0x1c)) {
                    do {
                      RKC_DIB::Create((RKC_DIB *)(iVar3 + *(int *)(this + 0x20)),1,1,8,0);
                      iVar7 = 0;
                      do {
                        iVar8 = (*pcVar11)(&uStack_58,4);
                        if (iVar8 == 0) goto LAB_10002ccd;
                        iVar8 = iVar7 + 4;
                        *(undefined *)(iVar7 + 2 + *(int *)(iVar3 + 4 + *(int *)(this + 0x20))) =
                             uStack_58;
                        *(undefined *)(iVar7 + *(int *)(iVar3 + 4 + *(int *)(this + 0x20))) =
                             uStack_56;
                        *(undefined *)(iVar7 + 1 + *(int *)(iVar3 + 4 + *(int *)(this + 0x20))) =
                             uStack_57;
                        *(undefined *)(iVar7 + 3 + *(int *)(iVar3 + 4 + *(int *)(this + 0x20))) = 0;
                        iVar7 = iVar8;
                      } while (iVar8 < 0x400);
                      iStack_80 = iStack_80 + 1;
                      iVar3 = iVar3 + 0xc;
                    } while (iStack_80 < *(int *)(this + 0x1c));
                  }
                }
                if (((1 < *(int *)(this + 0x24)) && (iVar3 = (*pcVar11)(&SStack_7c,4), iVar3 == 1))
                   && (iVar3 = 0, 0 < *(int *)(this + 0x14))) {
                  iVar7 = 0;
                  do {
                    if ((iVar7 != 0) && (iVar8 = (*pcVar11)(&SStack_7c,4), iVar8 == 0))
                    goto LAB_10002ccd;
                    pvVar6 = GlobalAlloc(0,SStack_7c + 1);
                    *(HGLOBAL *)(iVar7 + 0x20 + *(int *)(this + 0x18)) = pvVar6;
                    iVar8 = (*pcVar11)(*(undefined4 *)(iVar7 + 0x20 + *(int *)(this + 0x18)),
                                       SStack_7c);
                    if (iVar8 == 0) goto LAB_10002ccd;
                    iVar3 = iVar3 + 1;
                    iVar8 = iVar7 + 0x20;
                    iVar7 = iVar7 + 0x28;
                    *(undefined *)(*(int *)(iVar8 + *(int *)(this + 0x18)) + SStack_7c) = 0;
                  } while (iVar3 < *(int *)(this + 0x14));
                }
                local_4._0_1_ = 2;
                RKC_DIB::~RKC_DIB(local_44);
                local_4._0_1_ = 1;
                RKC_DIB::~RKC_DIB(local_38);
                local_4 = (uint)local_4._1_3_ << 8;
                RKC_FILE::~RKC_FILE(local_84);
                local_4 = 0xffffffff;
                RKC_FILE::~RKC_FILE(local_88);
                ExceptionList = pvStack_c;
                return 1;
              }
            }
          }
        }
      }
    }
  }
LAB_10002ccd:
  local_4._0_1_ = 2;
  RKC_DIB::~RKC_DIB(local_44);
  local_4._0_1_ = 1;
  RKC_DIB::~RKC_DIB(local_38);
  local_4 = (uint)local_4._1_3_ << 8;
  RKC_FILE::~RKC_FILE(local_84);
  local_4 = 0xffffffff;
  RKC_FILE::~RKC_FILE(local_88);
  ExceptionList = pvStack_c;
  return 0;
}



/*
 * Function: GetParts
 * Address: 10002d40
 */

/* public: struct RKC_UPDIB_UPD_PARTS * __thiscall RKC_UPDIB_UPD::GetParts(long) */

RKC_UPDIB_UPD_PARTS * __thiscall RKC_UPDIB_UPD::GetParts(RKC_UPDIB_UPD *this,long param_1)

{
                    /* 0x2d40  40  ?GetParts@RKC_UPDIB_UPD@@QAEPAURKC_UPDIB_UPD_PARTS@@J@Z */
  if (*(int *)(this + 0xc) <= param_1) {
    return (RKC_UPDIB_UPD_PARTS *)0x0;
  }
  return (RKC_UPDIB_UPD_PARTS *)(param_1 * 0x10 + *(int *)(this + 0x10));
}



/*
 * Function: GetPattern
 * Address: 10002d60
 */

/* public: class RKC_UPDIB_PATTERN * __thiscall RKC_UPDIB_UPD::GetPattern(long) */

RKC_UPDIB_PATTERN * __thiscall RKC_UPDIB_UPD::GetPattern(RKC_UPDIB_UPD *this,long param_1)

{
                    /* 0x2d60  44  ?GetPattern@RKC_UPDIB_UPD@@QAEPAVRKC_UPDIB_PATTERN@@J@Z */
  if (*(int *)(this + 0x14) <= param_1) {
    return (RKC_UPDIB_PATTERN *)0x0;
  }
  return (RKC_UPDIB_PATTERN *)(*(int *)(this + 0x18) + param_1 * 0x28);
}



/*
 * Function: GetPalette
 * Address: 10002d80
 */

/* public: struct tagRGBQUAD * __thiscall RKC_UPDIB_UPD::GetPalette(long) */

tagRGBQUAD * __thiscall RKC_UPDIB_UPD::GetPalette(RKC_UPDIB_UPD *this,long param_1)

{
                    /* 0x2d80  37  ?GetPalette@RKC_UPDIB_UPD@@QAEPAUtagRGBQUAD@@J@Z */
  if ((-1 < param_1) && (param_1 < *(int *)(this + 0x1c))) {
    return *(tagRGBQUAD **)(*(int *)(this + 0x20) + 4 + param_1 * 0xc);
  }
  return (tagRGBQUAD *)0x0;
}



/*
 * Function: GetPaletteDIB
 * Address: 10002da0
 */

/* public: class RKC_DIB * __thiscall RKC_UPDIB_UPD::GetPaletteDIB(long) */

RKC_DIB * __thiscall RKC_UPDIB_UPD::GetPaletteDIB(RKC_UPDIB_UPD *this,long param_1)

{
                    /* 0x2da0  39  ?GetPaletteDIB@RKC_UPDIB_UPD@@QAEPAVRKC_DIB@@J@Z */
  if ((-1 < param_1) && (param_1 < *(int *)(this + 0x1c))) {
    return (RKC_DIB *)(*(int *)(this + 0x20) + param_1 * 0xc);
  }
  return (RKC_DIB *)0x0;
}



/*
 * Function: GetPartsCount
 * Address: 10002dc0
 */

/* public: long __thiscall RKC_UPDIB_UPD::GetPartsCount(void) */

long __thiscall RKC_UPDIB_UPD::GetPartsCount(RKC_UPDIB_UPD *this)

{
                    /* 0x2dc0  41  ?GetPartsCount@RKC_UPDIB_UPD@@QAEJXZ */
  return *(long *)(this + 0xc);
}



/*
 * Function: GetPatternCount
 * Address: 10002dd0
 */

/* public: long __thiscall RKC_UPDIB_UPD::GetPatternCount(void) */

long __thiscall RKC_UPDIB_UPD::GetPatternCount(RKC_UPDIB_UPD *this)

{
                    /* 0x2dd0  45  ?GetPatternCount@RKC_UPDIB_UPD@@QAEJXZ */
  return *(long *)(this + 0x14);
}



/*
 * Function: GetFilename
 * Address: 10002de0
 */

/* public: char * __thiscall RKC_UPDIB_UPD::GetFilename(void) */

char * __thiscall RKC_UPDIB_UPD::GetFilename(RKC_UPDIB_UPD *this)

{
                    /* 0x2de0  32  ?GetFilename@RKC_UPDIB_UPD@@QAEPADXZ
                       0x2de0  49  ?GetUpdCount@RKC_UPDIB@@QAEJXZ
                       0x2de0  52  ?GetVSCount@RKC_UPDIB_VSBLOCK@@QAEJXZ */
  return *(char **)(this + 4);
}



/*
 * Function: SetStatus
 * Address: 10002df0
 */

/* public: void __thiscall RKC_UPDIB_UPD::SetStatus(long) */

void __thiscall RKC_UPDIB_UPD::SetStatus(RKC_UPDIB_UPD *this,long param_1)

{
                    /* 0x2df0  80  ?SetStatus@RKC_UPDIB_UPD@@QAEXJ@Z */
  *(long *)(this + 8) = param_1;
  return;
}



/*
 * Function: GetJudgement
 * Address: 10002e00
 */

/* public: struct RKC_UPDIB_JUDGE * __thiscall RKC_UPDIB_PATTERN::GetJudgement(void) */

RKC_UPDIB_JUDGE * __thiscall RKC_UPDIB_PATTERN::GetJudgement(RKC_UPDIB_PATTERN *this)

{
                    /* 0x2e00  35  ?GetJudgement@RKC_UPDIB_PATTERN@@QAEPAURKC_UPDIB_JUDGE@@XZ
                       0x2e00  46  ?GetStatus@RKC_UPDIB_UPD@@QAEJXZ */
  return *(RKC_UPDIB_JUDGE **)(this + 8);
}



/*
 * Function: GetPartsListCount
 * Address: 10002e10
 */

/* public: long __thiscall RKC_UPDIB_PATTERN::GetPartsListCount(void) */

long __thiscall RKC_UPDIB_PATTERN::GetPartsListCount(RKC_UPDIB_PATTERN *this)

{
                    /* 0x2e10  43  ?GetPartsListCount@RKC_UPDIB_PATTERN@@QAEJXZ
                       0x2e10  47  ?GetType@RKC_UPDIB_UPD@@QAEJXZ */
  return *(long *)this;
}



/*
 * Function: RKC_UPDIB_VS
 * Address: 10002e20
 */

/* public: __thiscall RKC_UPDIB_VS::RKC_UPDIB_VS(void) */

void __thiscall RKC_UPDIB_VS::RKC_UPDIB_VS(RKC_UPDIB_VS *this)

{
                    /* 0x2e20  4  ??0RKC_UPDIB_VS@@QAE@XZ */
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: ~RKC_UPDIB_VS
 * Address: 10002e30
 */

/* public: __thiscall RKC_UPDIB_VS::~RKC_UPDIB_VS(void) */

void __thiscall RKC_UPDIB_VS::~RKC_UPDIB_VS(RKC_UPDIB_VS *this)

{
  int iVar1;
  
                    /* 0x2e30  10  ??1RKC_UPDIB_VS@@QAE@XZ */
  iVar1 = DeleteVSPacket(this,0);
  while (iVar1 == 1) {
    iVar1 = DeleteVSPacket(this,0);
  }
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: SetPacket
 * Address: 10002e40
 */

/* public: class RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VS::SetPacket(long,class
   RKC_UPDIB_VSPACKET *) */

RKC_UPDIB_VSPACKET * __thiscall
RKC_UPDIB_VS::SetPacket(RKC_UPDIB_VS *this,long param_1,RKC_UPDIB_VSPACKET *param_2)

{
  RKC_UPDIB_VSPACKET *this_00;
  
                    /* 0x2e40  77  ?SetPacket@RKC_UPDIB_VS@@QAEPAVRKC_UPDIB_VSPACKET@@JPAV2@@Z */
  this_00 = InsertVSPacket(this,param_1);
  if (this_00 != (RKC_UPDIB_VSPACKET *)0x0) {
    RKC_UPDIB_VSPACKET::SetPacket(this_00,param_2);
    *(undefined4 *)this_00 = *(undefined4 *)this;
  }
  return this_00;
}



/*
 * Function: SetPacket
 * Address: 10002e70
 */

/* public: class RKC_UPDIB_VSPACKET * __thiscall
   RKC_UPDIB_VS::SetPacket(long,long,long,long,long,long,long,long,long,long,long,long,short,short,short,struct
   tagRECT *,class RKC_DIB *) */

RKC_UPDIB_VSPACKET * __thiscall
RKC_UPDIB_VS::SetPacket
          (RKC_UPDIB_VS *this,long param_1,long param_2,long param_3,long param_4,long param_5,
          long param_6,long param_7,long param_8,long param_9,long param_10,long param_11,
          long param_12,short param_13,short param_14,short param_15,tagRECT *param_16,
          RKC_DIB *param_17)

{
  RKC_UPDIB_VSPACKET *this_00;
  
                    /* 0x2e70  76
                       ?SetPacket@RKC_UPDIB_VS@@QAEPAVRKC_UPDIB_VSPACKET@@JJJJJJJJJJJJFFFPAUtagRECT@@PAVRKC_DIB@@@Z
                        */
  this_00 = InsertVSPacket(this,param_1);
  if (this_00 != (RKC_UPDIB_VSPACKET *)0x0) {
    RKC_UPDIB_VSPACKET::SetPacket
              (this_00,*(RKC_UPDIB **)this,param_2,param_3,param_4,param_5,param_6,param_7,param_8,
               param_9,param_10,param_11,param_12,param_13,param_14,param_15,param_16,param_17);
  }
  return this_00;
}



/*
 * Function: InsertVSPacket
 * Address: 10002ef0
 */

/* public: class RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VS::InsertVSPacket(long) */

RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VS::InsertVSPacket(RKC_UPDIB_VS *this,long param_1)

{
  int iVar1;
  RKC_UPDIB_VSPACKET *pRVar2;
  RKC_UPDIB_VSPACKET *pRVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x2ef0  59  ?InsertVSPacket@RKC_UPDIB_VS@@QAEPAVRKC_UPDIB_VSPACKET@@J@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_100080bb;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  pRVar2 = (RKC_UPDIB_VSPACKET *)operator_new(0x54);
  local_4 = 0;
  if (pRVar2 == (RKC_UPDIB_VSPACKET *)0x0) {
    pRVar2 = (RKC_UPDIB_VSPACKET *)0x0;
  }
  else {
    pRVar2 = (RKC_UPDIB_VSPACKET *)RKC_UPDIB_VSPACKET::RKC_UPDIB_VSPACKET(pRVar2);
  }
  local_4 = 0xffffffff;
  *(undefined4 *)pRVar2 = *(undefined4 *)this;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar2 + 0x3c) = *(undefined4 *)(this + 4);
    if (*(int *)(this + 4) != 0) {
      *(RKC_UPDIB_VSPACKET **)(*(int *)(this + 4) + 0x38) = pRVar2;
    }
    *(RKC_UPDIB_VSPACKET **)(this + 4) = pRVar2;
  }
  else {
    pRVar3 = GetVSPacket(this,param_1 + -1);
    iVar1 = *(int *)(pRVar3 + 0x3c);
    *(RKC_UPDIB_VSPACKET **)(pRVar2 + 0x38) = pRVar3;
    *(int *)(pRVar2 + 0x3c) = iVar1;
    if (iVar1 != 0) {
      *(RKC_UPDIB_VSPACKET **)(iVar1 + 0x38) = pRVar2;
    }
    *(RKC_UPDIB_VSPACKET **)(pRVar3 + 0x3c) = pRVar2;
  }
  ExceptionList = local_c;
  return pRVar2;
}



/*
 * Function: DeleteVSPacket
 * Address: 10002f90
 */

/* public: int __thiscall RKC_UPDIB_VS::DeleteVSPacket(long) */

int __thiscall RKC_UPDIB_VS::DeleteVSPacket(RKC_UPDIB_VS *this,long param_1)

{
  int iVar1;
  long lVar2;
  RKC_UPDIB_VSPACKET *pRVar3;
  RKC_UPDIB_VSPACKET *this_00;
  
                    /* 0x2f90  24  ?DeleteVSPacket@RKC_UPDIB_VS@@QAEHJ@Z */
  lVar2 = GetVSPacketCount(this);
  if (lVar2 <= param_1) {
    return 0;
  }
  if (param_1 == 0) {
    this_00 = *(RKC_UPDIB_VSPACKET **)(this + 4);
    iVar1 = *(int *)(this_00 + 0x3c);
    *(int *)(this + 4) = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x38) = 0;
    }
  }
  else {
    pRVar3 = GetVSPacket(this,param_1 + -1);
    this_00 = *(RKC_UPDIB_VSPACKET **)(pRVar3 + 0x3c);
    if (*(int *)(this_00 + 0x3c) != 0) {
      *(RKC_UPDIB_VSPACKET **)(*(int *)(this_00 + 0x3c) + 0x38) = pRVar3;
    }
    *(undefined4 *)(pRVar3 + 0x3c) = *(undefined4 *)(this_00 + 0x3c);
  }
  if (this_00 != (RKC_UPDIB_VSPACKET *)0x0) {
    RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(this_00);
    FUN_10004216(this_00);
  }
  return 1;
}



/*
 * Function: GetVSPacket
 * Address: 10003000
 */

/* public: class RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VS::GetVSPacket(long) */

RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VS::GetVSPacket(RKC_UPDIB_VS *this,long param_1)

{
  RKC_UPDIB_VSPACKET *pRVar1;
  int iVar2;
  
                    /* 0x3000  53  ?GetVSPacket@RKC_UPDIB_VS@@QAEPAVRKC_UPDIB_VSPACKET@@J@Z */
  pRVar1 = *(RKC_UPDIB_VSPACKET **)(this + 4);
  iVar2 = 0;
  while( true ) {
    if (pRVar1 == (RKC_UPDIB_VSPACKET *)0x0) {
      return (RKC_UPDIB_VSPACKET *)0x0;
    }
    if (iVar2 == param_1) break;
    pRVar1 = *(RKC_UPDIB_VSPACKET **)(pRVar1 + 0x3c);
    iVar2 = iVar2 + 1;
  }
  return pRVar1;
}



/*
 * Function: GetVSPacketCount
 * Address: 10003020
 */

/* public: long __thiscall RKC_UPDIB_VS::GetVSPacketCount(void) */

long __thiscall RKC_UPDIB_VS::GetVSPacketCount(RKC_UPDIB_VS *this)

{
  int iVar1;
  int iVar2;
  
                    /* 0x3020  54  ?GetVSPacketCount@RKC_UPDIB_VS@@QAEJXZ */
  iVar2 = 0;
  for (iVar1 = *(int *)(this + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x3c)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: Release
 * Address: 10003040
 */

/* public: void __thiscall RKC_UPDIB_VS::Release(void) */

void __thiscall RKC_UPDIB_VS::Release(RKC_UPDIB_VS *this)

{
  int iVar1;
  
                    /* 0x3040  65  ?Release@RKC_UPDIB_VS@@QAEXXZ */
  iVar1 = DeleteVSPacket(this,0);
  while (iVar1 == 1) {
    iVar1 = DeleteVSPacket(this,0);
  }
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Render
 * Address: 10003070
 */

/* public: int __thiscall RKC_UPDIB_VS::Render(class RKC_DIB *,long,long,struct tagRECT *) */

int __thiscall
RKC_UPDIB_VS::Render(RKC_UPDIB_VS *this,RKC_DIB *param_1,long param_2,long param_3,tagRECT *param_4)

{
  RKC_UPDIB_VSPACKET *pRVar1;
  RKC_UPDIB_VSPACKET *pRVar2;
  
                    /* 0x3070  68  ?Render@RKC_UPDIB_VS@@QAEHPAVRKC_DIB@@JJPAUtagRECT@@@Z */
  if (param_2 == -1) {
    pRVar2 = *(RKC_UPDIB_VSPACKET **)(this + 4);
    if (param_3 == 0) {
      if (pRVar2 != (RKC_UPDIB_VSPACKET *)0x0) {
        for (pRVar1 = *(RKC_UPDIB_VSPACKET **)(pRVar2 + 0x3c); pRVar1 != (RKC_UPDIB_VSPACKET *)0x0;
            pRVar1 = *(RKC_UPDIB_VSPACKET **)(pRVar1 + 0x3c)) {
          pRVar2 = pRVar1;
        }
        if (pRVar2 != (RKC_UPDIB_VSPACKET *)0x0) {
          do {
            RKC_UPDIB_VSPACKET::Render(pRVar2,param_1,param_4);
            pRVar2 = *(RKC_UPDIB_VSPACKET **)(pRVar2 + 0x38);
          } while (pRVar2 != (RKC_UPDIB_VSPACKET *)0x0);
          return 1;
        }
      }
    }
    else if (pRVar2 != (RKC_UPDIB_VSPACKET *)0x0) {
      do {
        RKC_UPDIB_VSPACKET::Render(pRVar2,param_1,param_4);
        pRVar2 = *(RKC_UPDIB_VSPACKET **)(pRVar2 + 0x3c);
      } while (pRVar2 != (RKC_UPDIB_VSPACKET *)0x0);
      return 1;
    }
  }
  else {
    pRVar2 = GetVSPacket(this,param_2);
    if (pRVar2 != (RKC_UPDIB_VSPACKET *)0x0) {
      RKC_UPDIB_VSPACKET::Render(pRVar2,param_1,param_4);
    }
  }
  return 1;
}



/*
 * Function: FlushVSPacket
 * Address: 10003110
 */

/* public: void __thiscall RKC_UPDIB_VS::FlushVSPacket(void) */

void __thiscall RKC_UPDIB_VS::FlushVSPacket(RKC_UPDIB_VS *this)

{
  RKC_UPDIB_VSPACKET *pRVar1;
  RKC_UPDIB_VSPACKET *this_00;
  
                    /* 0x3110  27  ?FlushVSPacket@RKC_UPDIB_VS@@QAEXXZ */
  this_00 = *(RKC_UPDIB_VSPACKET **)(this + 4);
  if (this_00 == (RKC_UPDIB_VSPACKET *)0x0) {
    *(undefined4 *)(this + 4) = 0;
    return;
  }
  do {
    pRVar1 = *(RKC_UPDIB_VSPACKET **)(this_00 + 0x3c);
    if (this_00 != (RKC_UPDIB_VSPACKET *)0x0) {
      RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(this_00);
      FUN_10004216(this_00);
    }
    this_00 = pRVar1;
  } while (pRVar1 != (RKC_UPDIB_VSPACKET *)0x0);
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: RKC_UPDIB_VSBLOCK
 * Address: 10003150
 */

/* public: __thiscall RKC_UPDIB_VSBLOCK::RKC_UPDIB_VSBLOCK(void) */

void __thiscall RKC_UPDIB_VSBLOCK::RKC_UPDIB_VSBLOCK(RKC_UPDIB_VSBLOCK *this)

{
                    /* 0x3150  5  ??0RKC_UPDIB_VSBLOCK@@QAE@XZ */
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: ~RKC_UPDIB_VSBLOCK
 * Address: 10003170
 */

/* public: __thiscall RKC_UPDIB_VSBLOCK::~RKC_UPDIB_VSBLOCK(void) */

void __thiscall RKC_UPDIB_VSBLOCK::~RKC_UPDIB_VSBLOCK(RKC_UPDIB_VSBLOCK *this)

{
  int iVar1;
  
                    /* 0x3170  11  ??1RKC_UPDIB_VSBLOCK@@QAE@XZ */
  iVar1 = *(int *)(this + 8);
  if (iVar1 != 0) {
    FUN_10004606(iVar1,8,*(int *)(iVar1 + -4),RKC_UPDIB_VS::~RKC_UPDIB_VS);
    FUN_10004216((LPVOID)(iVar1 + -4));
  }
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: CreateVS
 * Address: 10003180
 */

/* public: int __thiscall RKC_UPDIB_VSBLOCK::CreateVS(long) */

int __thiscall RKC_UPDIB_VSBLOCK::CreateVS(RKC_UPDIB_VSBLOCK *this,long param_1)

{
  long *plVar1;
  int iVar2;
  long *plVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x3180  21  ?CreateVS@RKC_UPDIB_VSBLOCK@@QAEHJ@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_100080db;
  local_c = ExceptionList;
  if (param_1 < 0) {
    return 0;
  }
  iVar2 = *(int *)(this + 8);
  ExceptionList = &local_c;
  if (iVar2 != 0) {
    ExceptionList = &local_c;
    FUN_10004606(iVar2,8,*(int *)(iVar2 + -4),RKC_UPDIB_VS::~RKC_UPDIB_VS);
    FUN_10004216((LPVOID)(iVar2 + -4));
  }
  *(undefined4 *)(this + 8) = 0;
  plVar1 = (long *)operator_new(param_1 * 8 + 4);
  local_4 = 0;
  if (plVar1 == (long *)0x0) {
    plVar3 = (long *)0x0;
  }
  else {
    plVar3 = plVar1 + 1;
    *plVar1 = param_1;
    FUN_100046fa(plVar3,8,param_1,RKC_UPDIB_VS::RKC_UPDIB_VS);
  }
  iVar2 = 0;
  *(long **)(this + 8) = plVar3;
  if (0 < param_1) {
    do {
      *(undefined4 *)(*(int *)(this + 8) + iVar2 * 8) = *(undefined4 *)this;
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_1);
  }
  *(long *)(this + 4) = param_1;
  ExceptionList = local_c;
  return 1;
}



/*
 * Function: Release
 * Address: 10003260
 */

/* public: void __thiscall RKC_UPDIB_VSBLOCK::Release(void) */

void __thiscall RKC_UPDIB_VSBLOCK::Release(RKC_UPDIB_VSBLOCK *this)

{
  int iVar1;
  
                    /* 0x3260  66  ?Release@RKC_UPDIB_VSBLOCK@@QAEXXZ */
  iVar1 = *(int *)(this + 8);
  if (iVar1 != 0) {
    FUN_10004606(iVar1,8,*(int *)(iVar1 + -4),RKC_UPDIB_VS::~RKC_UPDIB_VS);
    FUN_10004216((LPVOID)(iVar1 + -4));
  }
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Render
 * Address: 100032b0
 */

/* public: int __thiscall RKC_UPDIB_VSBLOCK::Render(class RKC_DIB *,long,long,long,struct tagRECT *)
    */

int __thiscall
RKC_UPDIB_VSBLOCK::Render
          (RKC_UPDIB_VSBLOCK *this,RKC_DIB *param_1,long param_2,long param_3,long param_4,
          tagRECT *param_5)

{
  int iVar1;
  
                    /* 0x32b0  69  ?Render@RKC_UPDIB_VSBLOCK@@QAEHPAVRKC_DIB@@JJJPAUtagRECT@@@Z */
  if (param_2 == -1) {
    if (param_3 == 0) {
      iVar1 = *(int *)(this + 4) + -1;
      if (-1 < iVar1) {
        do {
          RKC_UPDIB_VS::Render
                    ((RKC_UPDIB_VS *)(*(int *)(this + 8) + iVar1 * 8),param_1,-1,param_4,param_5);
          iVar1 = iVar1 + -1;
        } while (-1 < iVar1);
        return 1;
      }
    }
    else {
      iVar1 = 0;
      if (0 < *(int *)(this + 4)) {
        do {
          RKC_UPDIB_VS::Render
                    ((RKC_UPDIB_VS *)(*(int *)(this + 8) + iVar1 * 8),param_1,-1,param_4,param_5);
          iVar1 = iVar1 + 1;
        } while (iVar1 < *(int *)(this + 4));
        return 1;
      }
    }
  }
  else {
    RKC_UPDIB_VS::Render((RKC_UPDIB_VS *)(*(int *)(this + 8) + param_2 * 8),param_1,-1,0,param_5);
  }
  return 1;
}



/*
 * Function: GetVScreen
 * Address: 10003360
 */

/* public: class RKC_UPDIB_VS * __thiscall RKC_UPDIB_VSBLOCK::GetVScreen(long) */

RKC_UPDIB_VS * __thiscall RKC_UPDIB_VSBLOCK::GetVScreen(RKC_UPDIB_VSBLOCK *this,long param_1)

{
  char *pcVar1;
  
                    /* 0x3360  55  ?GetVScreen@RKC_UPDIB_VSBLOCK@@QAEPAVRKC_UPDIB_VS@@J@Z */
  pcVar1 = RKC_UPDIB_UPD::GetFilename((RKC_UPDIB_UPD *)this);
  if ((int)pcVar1 <= param_1) {
    return (RKC_UPDIB_VS *)0x0;
  }
  return (RKC_UPDIB_VS *)(*(int *)(this + 8) + param_1 * 8);
}



/*
 * Function: FlushVScreen
 * Address: 10003380
 */

/* public: void __thiscall RKC_UPDIB_VSBLOCK::FlushVScreen(void) */

void __thiscall RKC_UPDIB_VSBLOCK::FlushVScreen(RKC_UPDIB_VSBLOCK *this)

{
  int iVar1;
  
                    /* 0x3380  28  ?FlushVScreen@RKC_UPDIB_VSBLOCK@@QAEXXZ */
  iVar1 = 0;
  if (0 < *(int *)(this + 4)) {
    do {
      RKC_UPDIB_VS::FlushVSPacket((RKC_UPDIB_VS *)(*(int *)(this + 8) + iVar1 * 8));
      iVar1 = iVar1 + 1;
    } while (iVar1 < *(int *)(this + 4));
  }
  return;
}



/*
 * Function: RKC_UPDIB_VSPACKET
 * Address: 100033b0
 */

/* public: __thiscall RKC_UPDIB_VSPACKET::RKC_UPDIB_VSPACKET(void) */

void __thiscall RKC_UPDIB_VSPACKET::RKC_UPDIB_VSPACKET(RKC_UPDIB_VSPACKET *this)

{
                    /* 0x33b0  6  ??0RKC_UPDIB_VSPACKET@@QAE@XZ */
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x14) = 1000;
  *(undefined4 *)(this + 0x18) = 1000;
  *(undefined4 *)(this + 0x1c) = 1000;
  *(undefined4 *)(this + 0x20) = 1000;
  *(undefined4 *)(this + 0x38) = 0;
  *(undefined4 *)(this + 0x3c) = 0;
  *(undefined4 *)(this + 0x24) = 0;
  *(undefined4 *)(this + 0x28) = 0;
  *(undefined4 *)(this + 0x2c) = 0xffffffff;
  *(undefined2 *)(this + 0x30) = 1000;
  *(undefined2 *)(this + 0x32) = 1000;
  *(undefined2 *)(this + 0x34) = 1000;
  *(undefined4 *)(this + 0x50) = 0;
  return;
}



/*
 * Function: ~RKC_UPDIB_VSPACKET
 * Address: 10003400
 */

/* public: __thiscall RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(void) */

void __thiscall RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET(RKC_UPDIB_VSPACKET *this)

{
                    /* 0x3400  12  ??1RKC_UPDIB_VSPACKET@@QAE@XZ */
  return;
}



/*
 * Function: SetPacket
 * Address: 10003410
 */

/* public: class RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VSPACKET::SetPacket(class
   RKC_UPDIB_VSPACKET *) */

RKC_UPDIB_VSPACKET * __thiscall
RKC_UPDIB_VSPACKET::SetPacket(RKC_UPDIB_VSPACKET *this,RKC_UPDIB_VSPACKET *param_1)

{
                    /* 0x3410  78  ?SetPacket@RKC_UPDIB_VSPACKET@@QAEPAV1@PAV1@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)(this + 8) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)(this + 0xc) = *(undefined4 *)(param_1 + 0xc);
  *(undefined4 *)(this + 0x10) = *(undefined4 *)(param_1 + 0x10);
  *(undefined4 *)(this + 0x14) = *(undefined4 *)(param_1 + 0x14);
  *(undefined4 *)(this + 0x18) = *(undefined4 *)(param_1 + 0x18);
  *(undefined4 *)(this + 0x1c) = *(undefined4 *)(param_1 + 0x1c);
  *(undefined4 *)(this + 0x20) = *(undefined4 *)(param_1 + 0x20);
  *(undefined4 *)(this + 0x24) = *(undefined4 *)(param_1 + 0x24);
  *(undefined4 *)(this + 0x28) = *(undefined4 *)(param_1 + 0x28);
  *(undefined4 *)(this + 0x2c) = *(undefined4 *)(param_1 + 0x2c);
  *(undefined2 *)(this + 0x30) = *(undefined2 *)(param_1 + 0x30);
  *(undefined2 *)(this + 0x32) = *(undefined2 *)(param_1 + 0x32);
  *(undefined2 *)(this + 0x34) = *(undefined2 *)(param_1 + 0x34);
  *(undefined4 *)(this + 0x40) = *(undefined4 *)(param_1 + 0x40);
  *(undefined4 *)(this + 0x44) = *(undefined4 *)(param_1 + 0x44);
  *(undefined4 *)(this + 0x48) = *(undefined4 *)(param_1 + 0x48);
  *(undefined4 *)(this + 0x4c) = *(undefined4 *)(param_1 + 0x4c);
  *(undefined4 *)(this + 0x50) = *(undefined4 *)(param_1 + 0x50);
  return this;
}



/*
 * Function: SetPacket
 * Address: 100034a0
 */

/* public: class RKC_UPDIB_VSPACKET * __thiscall RKC_UPDIB_VSPACKET::SetPacket(class RKC_UPDIB
   *,long,long,long,long,long,long,long,long,long,long,long,short,short,short,struct tagRECT *,class
   RKC_DIB *) */

RKC_UPDIB_VSPACKET * __thiscall
RKC_UPDIB_VSPACKET::SetPacket
          (RKC_UPDIB_VSPACKET *this,RKC_UPDIB *param_1,long param_2,long param_3,long param_4,
          long param_5,long param_6,long param_7,long param_8,long param_9,long param_10,
          long param_11,long param_12,short param_13,short param_14,short param_15,tagRECT *param_16
          ,RKC_DIB *param_17)

{
                    /* 0x34a0  79
                       ?SetPacket@RKC_UPDIB_VSPACKET@@QAEPAV1@PAVRKC_UPDIB@@JJJJJJJJJJJFFFPAUtagRECT@@PAVRKC_DIB@@@Z
                        */
  *(RKC_UPDIB **)this = param_1;
  *(long *)(this + 8) = param_12;
  *(long *)(this + 0x10) = param_7;
  *(long *)(this + 4) = param_5;
  *(long *)(this + 0x18) = param_9;
  *(long *)(this + 0xc) = param_6;
  *(long *)(this + 0x20) = param_11;
  *(long *)(this + 0x14) = param_8;
  *(long *)(this + 0x28) = param_3;
  *(long *)(this + 0x1c) = param_10;
  *(short *)(this + 0x30) = param_13;
  *(long *)(this + 0x24) = param_2;
  *(short *)(this + 0x34) = param_15;
  *(long *)(this + 0x2c) = param_4;
  *(short *)(this + 0x32) = param_14;
  if (param_16 != (tagRECT *)0x0) {
    *(LONG *)(this + 0x40) = param_16->left;
    *(LONG *)(this + 0x44) = param_16->top;
    *(LONG *)(this + 0x48) = param_16->right;
    *(LONG *)(this + 0x4c) = param_16->bottom;
    *(RKC_DIB **)(this + 0x50) = param_17;
    return this;
  }
  *(RKC_DIB **)(this + 0x50) = param_17;
  return this;
}



/*
 * Function: Render
 * Address: 10003550
 */

/* public: int __thiscall RKC_UPDIB_VSPACKET::Render(class RKC_DIB *,struct tagRECT *) */

int __thiscall
RKC_UPDIB_VSPACKET::Render(RKC_UPDIB_VSPACKET *this,RKC_DIB *param_1,tagRECT *param_2)

{
  uint *puVar1;
  byte *pbVar2;
  byte bVar3;
  RKC_DIB *pRVar4;
  int iVar5;
  undefined2 *puVar6;
  byte bVar7;
  short sVar8;
  short sVar9;
  short sVar10;
  int iVar11;
  RKC_UPDIB_UPD *this_00;
  RKC_UPDIB_PATTERN *this_01;
  tagRECT *ptVar12;
  uint uVar13;
  int iVar14;
  char cVar15;
  uint uVar16;
  int iVar17;
  long lVar18;
  int iVar19;
  int iVar20;
  uint local_54;
  RKC_DIB *local_50;
  uint local_4c;
  RKC_DIB *local_40;
  tagRGBQUAD *local_3c;
  int local_34;
  tagRECT tStack_20;
  tagRECT tStack_10;
  
                    /* 0x3550  70  ?Render@RKC_UPDIB_VSPACKET@@QAEHPAVRKC_DIB@@PAUtagRECT@@@Z */
  uVar13 = *(uint *)(this + 4);
  if ((uVar13 & 0x100) != 0) {
    iVar11 = RenderPoint(this,param_1,param_2);
    return iVar11;
  }
  if ((uVar13 & 0x200) != 0) {
    iVar11 = RenderLine(this,param_1,param_2);
    return iVar11;
  }
  if ((uVar13 & 0x400) != 0) {
    iVar11 = RenderBox(this,param_1,param_2);
    return iVar11;
  }
  if ((uVar13 & 0x800) != 0) {
    iVar11 = RenderFill(this,param_1,param_2);
    return iVar11;
  }
  if ((uVar13 & 0x1000) != 0) {
    pRVar4 = *(RKC_DIB **)(this + 0x50);
    if (pRVar4 != (RKC_DIB *)0x0) {
      iVar19 = *(int *)(this + 0xc);
      iVar14 = *(int *)(this + 0x10);
      lVar18 = 0;
      local_4c = 0;
      iVar11 = *(int *)(*(int *)pRVar4 + 4) + -1 + iVar19;
      iVar20 = *(int *)(*(int *)pRVar4 + 8) + -1 + iVar14;
      iVar17 = -(uint)((*(uint *)(this + 4) & 1) != 0);
      if (((byte)this[4] & 0x20) != 0) {
        if (iVar19 < *(int *)(this + 0x40)) {
          local_4c = *(int *)(this + 0x40) - iVar19;
          iVar19 = *(int *)(this + 0x40);
        }
        if (*(int *)(this + 0x48) < iVar11) {
          iVar11 = *(int *)(this + 0x48);
        }
        iVar5 = *(int *)(this + 0x44);
        if (iVar14 < iVar5) {
          lVar18 = iVar5 - iVar14;
          iVar14 = iVar5;
        }
        if (*(int *)(this + 0x4c) < iVar20) {
          iVar20 = *(int *)(this + 0x4c);
        }
      }
      iVar11 = (iVar11 - iVar19) + 1;
      iVar20 = (iVar20 - iVar14) + 1;
      if (((*(int *)(this + 0x1c) == 1000) && (*(int *)(this + 8) == 0)) &&
         (((byte)this[4] & 10) == 0)) {
        if (iVar17 == -1) {
          RKC_DIB::TransferToDIBFast(param_1,iVar19,iVar14,iVar11,iVar20,pRVar4,local_4c,lVar18);
          return 1;
        }
        RKC_DIB::TransferToDIB(param_1,iVar19,iVar14,iVar11,iVar20,pRVar4,local_4c,lVar18,iVar17);
        return 1;
      }
      param_2 = (tagRECT *)0x0;
      if ((*(uint *)(this + 4) & 2) != 0) {
        param_2 = (tagRECT *)0x4;
      }
      if ((*(uint *)(this + 4) & 8) != 0) {
        param_2 = (tagRECT *)((uint)param_2 | 0x10);
      }
      RKC_DIB::TransferToDIBEx
                (param_1,iVar19,iVar14,iVar11,iVar20,pRVar4,local_4c,lVar18,*(long *)(this + 8),
                 iVar17,*(long *)(this + 0x1c),(long)param_2,
                 *(RKC_DIBHISPEEDMODE **)(*(int *)this + 0x28));
    }
    return 1;
  }
  this_00 = RKC_UPDIB::GetUpd(*(RKC_UPDIB **)this,*(long *)(this + 0x24));
  if ((this_00 != (RKC_UPDIB_UPD *)0x0) &&
     (this_01 = RKC_UPDIB_UPD::GetPattern(this_00,*(long *)(this + 0x28)),
     this_01 != (RKC_UPDIB_PATTERN *)0x0)) {
    if (*(int *)(this + 0x2c) == -1) {
      local_3c = RKC_UPDIB_UPD::GetPalette(this_00,*(long *)(this_01 + 0x1c));
      if (local_3c == (tagRGBQUAD *)0x0) {
        return 0;
      }
    }
    else {
      local_3c = RKC_UPDIB_UPD::GetPalette(this_00,*(int *)(this + 0x2c));
      if (local_3c == (tagRGBQUAD *)0x0) {
        return 0;
      }
    }
    if (((*(short *)(this + 0x30) == 1000) && (*(short *)(this + 0x32) == 1000)) &&
       ((*(short *)(this + 0x34) == 1000 && (((byte)this[4] & 0x10) != 0)))) {
      iVar11 = *(int *)(this + 0x2c);
      if (iVar11 == -1) {
        iVar11 = *(int *)(this_01 + 0x1c);
      }
      local_40 = RKC_UPDIB_UPD::GetPaletteDIB(this_00,iVar11);
      if (local_40 == (RKC_DIB *)0x0) {
        return 0;
      }
    }
    else {
      local_40 = *(RKC_DIB **)(*(int *)this + 0x2c);
    }
    ptVar12 = RKC_UPDIB_PATTERN::GetBuildRect(this_01);
    if ((ptVar12->right != 0) && (ptVar12->bottom != 0)) {
      local_34 = 0;
      if (0 < *(int *)this_01) {
        do {
          puVar1 = (uint *)(*(int *)(this_01 + 4) + local_34 * 0x1c);
          puVar6 = *(undefined2 **)(*(int *)(this_01 + 4) + 0x18 + local_34 * 0x1c);
          if (puVar6 == (undefined2 *)0x0) {
            return 0;
          }
          *(undefined2 *)(*(int *)local_40 + 0xe) = *puVar6;
          *(undefined4 *)(*(int *)local_40 + 4) = *(undefined4 *)(puVar1[6] + 4);
          *(undefined4 *)(*(int *)local_40 + 8) = *(undefined4 *)(puVar1[6] + 8);
          RKC_DIB::SetBitmap(local_40,*(uchar **)(puVar1[6] + 0xc));
          uVar13 = -(uint)(*(int *)puVar1[6] != 4) & 0xf0;
          iVar11 = uVar13 + 0x10;
          uVar16 = (uint)(((*puVar1 ^ *(uint *)(this + 4)) & 0x40000000) != 0);
          if (((*puVar1 ^ *(uint *)(this + 4)) & 0x80000000) != 0) {
            uVar16 = uVar16 | 2;
          }
          if (uVar16 == 0) {
            local_50 = local_40;
          }
          else {
            local_50 = (RKC_DIB *)(*(int *)this + 0x1c);
            RKC_DIB::TransferToDIBEx
                      (local_50,0,0,local_40,0,-1,1000,uVar16,
                       *(RKC_DIBHISPEEDMODE **)(*(int *)this + 0x28));
          }
          pRVar4 = local_50;
          tStack_20.left = 0;
          tStack_20.top = 0;
          iVar14 = puVar1[3] + *(int *)(this + 8);
          tStack_20.right = *(int *)(puVar1[6] + 4) + -1;
          tStack_20.bottom = *(int *)(puVar1[6] + 8) + -1;
          iVar20 = *(int *)(puVar1[6] + 4);
          iVar19 = *(int *)(puVar1[6] + 8);
          if ((*(uint *)(this + 4) & 0x40000000) == 0) {
            local_4c = puVar1[1];
          }
          else {
            local_4c = -((int)(puVar1[4] * iVar20) / 1000) - puVar1[1];
          }
          if ((*(uint *)(this + 4) & 0x80000000) == 0) {
            local_54 = puVar1[2];
          }
          else {
            local_54 = -((int)(puVar1[5] * iVar19) / 1000) - puVar1[2];
          }
          tStack_10.left = (int)(*(int *)(this + 0x14) * local_4c) / 1000 + *(int *)(this + 0xc);
          tStack_10.top = (int)(*(int *)(this + 0x18) * local_54) / 1000 + *(int *)(this + 0x10);
          tStack_10.right =
               (int)(((int)(puVar1[4] * iVar20) / 1000 + local_4c) * *(int *)(this + 0x14)) / 1000 +
               -1 + *(int *)(this + 0xc);
          tStack_10.bottom =
               (int)(((int)(puVar1[5] * iVar19) / 1000 + local_54) * *(int *)(this + 0x18)) / 1000 +
               -1 + *(int *)(this + 0x10);
          if ((((param_2 != (tagRECT *)0x0) && (((byte)this[4] & 4) == 0)) &&
              (*(int *)(this + 0x14) == 1000)) && (*(int *)(this + 0x18) == 1000)) {
            iVar20 = param_2->left;
            if (tStack_10.left < iVar20) {
              tStack_20.left = iVar20 - tStack_10.left;
              tStack_10.left = iVar20;
            }
            iVar20 = param_2->right;
            if (iVar20 < tStack_10.right) {
              tStack_20.right = tStack_20.right + (iVar20 - tStack_10.right);
              tStack_10.right = iVar20;
            }
            iVar20 = param_2->top;
            if (tStack_10.top < iVar20) {
              tStack_20.top = iVar20 - tStack_10.top;
              tStack_10.top = iVar20;
            }
            iVar20 = param_2->bottom;
            if (iVar20 < tStack_10.bottom) {
              tStack_20.bottom = tStack_20.bottom + (iVar20 - tStack_10.bottom);
              tStack_10.bottom = iVar20;
            }
          }
          if (((((byte)this[4] & 0x20) != 0) && (*(int *)(this + 0x14) == 1000)) &&
             (*(int *)(this + 0x18) == 1000)) {
            if (tStack_10.left < *(int *)(this + 0x40)) {
              tStack_20.left = tStack_20.left + (*(int *)(this + 0x40) - tStack_10.left);
              tStack_10.left = *(LONG *)(this + 0x40);
            }
            iVar20 = *(int *)(this + 0x48);
            if (iVar20 < tStack_10.right) {
              tStack_20.right = tStack_20.right + (iVar20 - tStack_10.right);
              tStack_10.right = iVar20;
            }
            iVar20 = *(int *)(this + 0x44);
            if (tStack_10.top < iVar20) {
              tStack_20.top = tStack_20.top + (iVar20 - tStack_10.top);
              tStack_10.top = iVar20;
            }
            iVar20 = *(int *)(this + 0x4c);
            if (iVar20 < tStack_10.bottom) {
              tStack_20.bottom = tStack_20.bottom + (iVar20 - tStack_10.bottom);
              tStack_10.bottom = iVar20;
            }
          }
          tStack_10.right = tStack_10.right + (1 - tStack_10.left);
          tStack_10.bottom = tStack_10.bottom + (1 - tStack_10.top);
          tStack_20.right = tStack_20.right + (1 - tStack_20.left);
          tStack_20.bottom = tStack_20.bottom + (1 - tStack_20.top);
          iVar20 = -(uint)((*(uint *)(this + 4) & 1) != 0);
          if (((0 < tStack_10.right) && (0 < tStack_10.bottom)) &&
             ((0 < tStack_20.right && (0 < tStack_20.bottom)))) {
            if (*(int *)puVar1[6] == 1) {
              sVar8 = *(short *)(this + 0x30);
              if (((sVar8 == 1000) && (*(short *)(this + 0x32) == 1000)) &&
                 (*(short *)(this + 0x34) == 1000)) {
                *(undefined *)(*(int *)(local_50 + 4) + 6) = 0;
                *(undefined *)(*(int *)(local_50 + 4) + 5) = 0;
              }
              else {
                if (sVar8 < 1000) {
                  *(undefined *)(*(int *)(local_50 + 4) + 6) = 0;
                }
                else {
                  iVar11 = (sVar8 + -1000) * 0xff;
                  *(char *)(*(int *)(local_50 + 4) + 6) =
                       ((char)(iVar11 / 1000) + (char)(iVar11 >> 0x1f)) -
                       (char)((longlong)iVar11 * 0x10624dd3 >> 0x3f);
                }
                if (*(short *)(this + 0x32) < 1000) {
                  *(undefined *)(*(int *)(local_50 + 4) + 5) = 0;
                }
                else {
                  iVar11 = (*(short *)(this + 0x30) + -1000) * 0xff;
                  *(char *)(*(int *)(local_50 + 4) + 5) =
                       ((char)(iVar11 / 1000) + (char)(iVar11 >> 0x1f)) -
                       (char)((longlong)iVar11 * 0x10624dd3 >> 0x3f);
                }
                if (999 < *(short *)(this + 0x34)) {
                  iVar11 = (*(short *)(this + 0x30) + -1000) * 0xff;
                  *(char *)(*(int *)(local_50 + 4) + 4) =
                       ((char)(iVar11 / 1000) + (char)(iVar11 >> 0x1f)) -
                       (char)((longlong)iVar11 * 0x10624dd3 >> 0x3f);
                  goto LAB_10003e6c;
                }
              }
              *(undefined *)(*(int *)(local_50 + 4) + 4) = 0;
            }
            else if ((*(uint *)(this + 4) & 0x80) == 0) {
              RKC_DIB::SetPalette(local_50,local_3c);
              if (((*(short *)(this + 0x30) != 1000) || (*(short *)(this + 0x32) != 1000)) ||
                 (*(short *)(this + 0x34) != 1000)) {
                sVar8 = *(short *)(this + 0x30) + -1000;
                iVar19 = 0;
                sVar9 = *(short *)(this + 0x32) + -1000;
                sVar10 = *(short *)(this + 0x34) + -1000;
                if (uVar13 != 0xfffffff0) {
                  do {
                    iVar17 = *(int *)(pRVar4 + 4);
                    bVar3 = *(byte *)(iVar17 + 1 + iVar19 * 4);
                    local_4c._0_1_ = *(byte *)(iVar17 + 2 + iVar19 * 4);
                    pbVar2 = (byte *)(iVar17 + iVar19 * 4);
                    bVar7 = *pbVar2;
                    iVar17 = (int)(short)(ushort)(byte)local_4c;
                    if (sVar8 < 1) {
                      iVar17 = iVar17 * sVar8;
                    }
                    else {
                      iVar17 = (0xff - iVar17) * (int)sVar8;
                    }
                    local_4c._0_1_ = (byte)local_4c + (char)(iVar17 / 1000);
                    iVar17 = (int)(short)(ushort)bVar3;
                    if (sVar9 < 1) {
                      iVar17 = iVar17 * sVar9;
                    }
                    else {
                      iVar17 = (0xff - iVar17) * (int)sVar9;
                    }
                    local_50._0_1_ = bVar3 + (char)(iVar17 / 1000);
                    iVar17 = (int)(short)(ushort)bVar7;
                    if (sVar10 < 1) {
                      cVar15 = (char)((iVar17 * sVar10) / 1000);
                    }
                    else {
                      cVar15 = (char)(((0xff - iVar17) * (int)sVar10) / 1000);
                    }
                    iVar19 = iVar19 + 1;
                    pbVar2[2] = (byte)local_4c;
                    *(char *)(*(int *)(pRVar4 + 4) + -3 + iVar19 * 4) = (char)local_50;
                    *(byte *)(*(int *)(pRVar4 + 4) + -4 + iVar19 * 4) = bVar7 + cVar15;
                  } while (iVar19 < iVar11);
                }
              }
              if ((((byte)this[4] & 0x10) != 0) && (iVar19 = 0, uVar13 != 0xfffffff0)) {
                do {
                  *(char *)(*(int *)(pRVar4 + 4) + 2 + iVar19 * 4) =
                       -1 - *(char *)(*(int *)(pRVar4 + 4) + 2 + iVar19 * 4);
                  *(char *)(*(int *)(pRVar4 + 4) + 1 + iVar19 * 4) =
                       -1 - *(char *)(*(int *)(pRVar4 + 4) + 1 + iVar19 * 4);
                  iVar17 = iVar19 * 4;
                  iVar5 = iVar19 * 4;
                  iVar19 = iVar19 + 1;
                  *(char *)(*(int *)(pRVar4 + 4) + iVar5) =
                       -1 - *(char *)(*(int *)(pRVar4 + 4) + iVar17);
                } while (iVar19 < iVar11);
              }
              if (((*(uint *)(this + 4) & 0x2000) != 0) && (iVar19 = 0, uVar13 != 0xfffffff0)) {
                do {
                  iVar17 = *(int *)(pRVar4 + 4);
                  bVar3 = *(byte *)(iVar17 + 1 + iVar19 * 4);
                  pbVar2 = (byte *)(iVar17 + iVar19 * 4);
                  bVar7 = *(byte *)(iVar17 + 2 + iVar19 * 4);
                  if (bVar7 < bVar3) {
                    bVar7 = bVar3;
                  }
                  bVar3 = *pbVar2;
                  if (bVar7 < bVar3) {
                    bVar7 = bVar3;
                  }
                  pbVar2[2] = bVar7;
                  *(byte *)(*(int *)(pRVar4 + 4) + 1 + iVar19 * 4) = bVar7;
                  *(byte *)(*(int *)(pRVar4 + 4) + iVar19 * 4) = bVar7;
                  iVar19 = iVar19 + 1;
                } while (iVar19 < iVar11);
              }
            }
            else {
              **(undefined4 **)(local_50 + 4) = *(undefined4 *)local_3c;
              *(undefined4 *)(*(int *)(local_50 + 4) + 8) = *(undefined4 *)(local_3c + 8);
              *(RKC_UPDIB_VSPACKET *)(*(int *)(local_50 + 4) + 6) = this[0x30];
              *(RKC_UPDIB_VSPACKET *)(*(int *)(local_50 + 4) + 5) = this[0x32];
              *(RKC_UPDIB_VSPACKET *)(*(int *)(local_50 + 4) + 4) = this[0x34];
            }
LAB_10003e6c:
            if ((tStack_20.right == tStack_10.right) && (tStack_20.bottom == tStack_10.bottom)) {
              if (((*(int *)(this + 0x1c) == 1000) && (iVar14 == 0)) && (((byte)this[4] & 10) == 0))
              {
                if (iVar20 == -1) {
                  RKC_DIB::TransferToDIBFast
                            (param_1,tStack_10.left,tStack_10.top,tStack_10.right,tStack_10.bottom,
                             pRVar4,tStack_20.left,tStack_20.top);
                }
                else {
                  RKC_DIB::TransferToDIB
                            (param_1,tStack_10.left,tStack_10.top,tStack_10.right,tStack_10.bottom,
                             pRVar4,tStack_20.left,tStack_20.top,iVar20);
                }
              }
              else {
                uVar13 = 0;
                if ((*(uint *)(this + 4) & 2) != 0) {
                  uVar13 = 4;
                }
                if ((*(uint *)(this + 4) & 8) != 0) {
                  uVar13 = uVar13 | 0x10;
                }
                RKC_DIB::TransferToDIBEx
                          (param_1,tStack_10.left,tStack_10.top,tStack_10.right,tStack_10.bottom,
                           pRVar4,tStack_20.left,tStack_20.top,iVar14,iVar20,*(int *)(this + 0x1c),
                           uVar13,*(RKC_DIBHISPEEDMODE **)(*(int *)this + 0x28));
              }
            }
            else if ((*(int *)(this + 0x1c) == 1000) &&
                    ((iVar14 == 0 && (((byte)this[4] & 10) == 0)))) {
              RKC_DIB::ZoomToDIB(param_1,&tStack_10,pRVar4,&tStack_20,iVar20);
            }
            else {
              uVar13 = 0;
              if ((*(uint *)(this + 4) & 2) != 0) {
                uVar13 = 4;
              }
              if ((*(uint *)(this + 4) & 8) != 0) {
                uVar13 = uVar13 | 0x10;
              }
              RKC_DIB::ZoomToDIBEx
                        (param_1,&tStack_10,pRVar4,&tStack_20,iVar14,iVar20,*(int *)(this + 0x1c),
                         uVar13);
            }
          }
          RKC_DIB::SetBitmap(local_40,(uchar *)0x0);
          local_34 = local_34 + 1;
        } while (local_34 < *(int *)this_01);
      }
      return 1;
    }
  }
  return 0;
}



/*
 * Function: RenderLine
 * Address: 100040a0
 */

/* public: int __thiscall RKC_UPDIB_VSPACKET::RenderLine(class RKC_DIB *,struct tagRECT *) */

int __thiscall
RKC_UPDIB_VSPACKET::RenderLine(RKC_UPDIB_VSPACKET *this,RKC_DIB *param_1,tagRECT *param_2)

{
  uint uVar1;
  uint uVar2;
  
                    /* 0x40a0  73  ?RenderLine@RKC_UPDIB_VSPACKET@@QAEHPAVRKC_DIB@@PAUtagRECT@@@Z */
  uVar1 = *(uint *)(this + 4);
  uVar2 = 0;
  if ((uVar1 & 2) != 0) {
    uVar2 = 4;
  }
  if ((uVar1 & 0x40) != 0) {
    uVar2 = uVar2 | 8;
  }
  if ((uVar1 & 4) != 0) {
    param_2 = (tagRECT *)0x0;
  }
  RKC_DIB::DrawLine(param_1,*(long *)(this + 0xc),*(long *)(this + 0x10),*(long *)(this + 0x14),
                    *(long *)(this + 0x18),(uchar)this[0x30],(uchar)this[0x32],(uchar)this[0x34],
                    *(long *)(this + 0x1c),uVar2,param_2);
  return 1;
}



/*
 * Function: RenderBox
 * Address: 10004100
 */

/* public: int __thiscall RKC_UPDIB_VSPACKET::RenderBox(class RKC_DIB *,struct tagRECT *) */

int __thiscall
RKC_UPDIB_VSPACKET::RenderBox(RKC_UPDIB_VSPACKET *this,RKC_DIB *param_1,tagRECT *param_2)

{
  uint uVar1;
  uint uVar2;
  
                    /* 0x4100  71  ?RenderBox@RKC_UPDIB_VSPACKET@@QAEHPAVRKC_DIB@@PAUtagRECT@@@Z */
  uVar1 = *(uint *)(this + 4);
  uVar2 = 0;
  if ((uVar1 & 2) != 0) {
    uVar2 = 4;
  }
  if ((uVar1 & 0x40) != 0) {
    uVar2 = uVar2 | 8;
  }
  if ((uVar1 & 4) != 0) {
    param_2 = (tagRECT *)0x0;
  }
  RKC_DIB::DrawBox(param_1,*(long *)(this + 0xc),*(long *)(this + 0x10),*(long *)(this + 0x14),
                   *(long *)(this + 0x18),(uchar)this[0x30],(uchar)this[0x32],(uchar)this[0x34],
                   *(long *)(this + 0x1c),uVar2,param_2);
  return 1;
}



/*
 * Function: RenderFill
 * Address: 10004160
 */

/* public: int __thiscall RKC_UPDIB_VSPACKET::RenderFill(class RKC_DIB *,struct tagRECT *) */

int __thiscall
RKC_UPDIB_VSPACKET::RenderFill(RKC_UPDIB_VSPACKET *this,RKC_DIB *param_1,tagRECT *param_2)

{
  uint uVar1;
  uint uVar2;
  
                    /* 0x4160  72  ?RenderFill@RKC_UPDIB_VSPACKET@@QAEHPAVRKC_DIB@@PAUtagRECT@@@Z */
  uVar1 = *(uint *)(this + 4);
  uVar2 = 0;
  if ((uVar1 & 2) != 0) {
    uVar2 = 4;
  }
  if ((uVar1 & 0x40) != 0) {
    uVar2 = uVar2 | 8;
  }
  if ((uVar1 & 4) != 0) {
    param_2 = (tagRECT *)0x0;
  }
  RKC_DIB::DrawFill(param_1,*(long *)(this + 0xc),*(long *)(this + 0x10),*(long *)(this + 0x14),
                    *(long *)(this + 0x18),(uchar)this[0x30],(uchar)this[0x32],(uchar)this[0x34],
                    *(long *)(this + 0x1c),uVar2,param_2,
                    *(RKC_DIBHISPEEDMODE **)(*(int *)this + 0x28));
  return 1;
}



/*
 * Function: RenderPoint
 * Address: 100041c0
 */

/* public: int __thiscall RKC_UPDIB_VSPACKET::RenderPoint(class RKC_DIB *,struct tagRECT *) */

int __thiscall
RKC_UPDIB_VSPACKET::RenderPoint(RKC_UPDIB_VSPACKET *this,RKC_DIB *param_1,tagRECT *param_2)

{
  uint uVar1;
  uint uVar2;
  
                    /* 0x41c0  74  ?RenderPoint@RKC_UPDIB_VSPACKET@@QAEHPAVRKC_DIB@@PAUtagRECT@@@Z
                        */
  uVar1 = *(uint *)(this + 4);
  uVar2 = 0;
  if ((uVar1 & 2) != 0) {
    uVar2 = 4;
  }
  if ((uVar1 & 0x40) != 0) {
    uVar2 = uVar2 | 8;
  }
  if ((uVar1 & 4) != 0) {
    param_2 = (tagRECT *)0x0;
  }
  RKC_DIB::DrawPoint(param_1,*(long *)(this + 0xc),*(long *)(this + 0x10),(uchar)this[0x30],
                     (uchar)this[0x32],(uchar)this[0x34],*(long *)(this + 0x1c),uVar2,param_2);
  return 1;
}



/*
 * Function: RK_LzDecodeMemoryToMemory
 * Address: 10004210
 */

void RK_LzDecodeMemoryToMemory(void)

{
                    /* WARNING: Could not recover jumptable at 0x10004210. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RK_LzDecodeMemoryToMemory();
  return;
}



/*
 * Function: FUN_10004216
 * Address: 10004216
 */

void __cdecl FUN_10004216(LPVOID param_1)

{
  FUN_10004a01(param_1);
  return;
}



/*
 * Function: operator_new
 * Address: 10004221
 */

/* Library Function - Single Match
    void * __cdecl operator new(unsigned int)
   
   Library: Visual Studio 2003 Release */

void * __cdecl operator_new(uint param_1)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(param_1,1);
  return pvVar1;
}



/*
 * Function: FUN_1000422f
 * Address: 1000422f
 */

void FUN_1000422f(undefined *UNRECOVERED_JUMPTABLE)

{
                    /* WARNING: Load size is inaccurate */
  ExceptionList = *ExceptionList;
                    /* WARNING: Could not recover jumptable at 0x1000425a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10004263
 * Address: 10004263
 */

void FUN_10004263(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x10004268. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_1000426a
 * Address: 1000426a
 */

void FUN_1000426a(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x1000426f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10004271
 * Address: 10004271
 */

void FUN_10004271(PVOID param_1,PEXCEPTION_RECORD param_2)

{
  void *pvVar1;
  
  pvVar1 = ExceptionList;
  RtlUnwind(param_1,(PVOID)0x10004299,param_2,(PVOID)0x0);
  param_2->ExceptionFlags = param_2->ExceptionFlags & 0xfffffffd;
  *(void **)pvVar1 = ExceptionList;
  ExceptionList = pvVar1;
  return;
}



/*
 * Function: FUN_100042c0
 * Address: 100042c0
 */

undefined4 __cdecl
FUN_100042c0(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4)

{
  int *in_EAX;
  undefined4 uVar1;
  
  uVar1 = FUN_10004ad5(param_1,param_2,param_3,param_4,in_EAX,0,(PVOID)0x0,'\0');
  return uVar1;
}



/*
 * Function: FUN_100042f6
 * Address: 100042f6
 */

undefined4 __cdecl
FUN_100042f6(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  void *local_18;
  code *local_14;
  undefined4 local_10;
  undefined4 local_c;
  int local_8;
  
  local_10 = param_2;
  local_14 = FUN_1000434a;
  local_8 = param_4 + 1;
  local_c = param_1;
  local_18 = ExceptionList;
  ExceptionList = &local_18;
  uVar1 = __CallSettingFrame_12(param_3,param_1,param_5);
  ExceptionList = local_18;
  return uVar1;
}



/*
 * Function: FUN_1000434a
 * Address: 1000434a
 */

void __cdecl FUN_1000434a(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  FUN_10004ad5(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),param_2,'\0');
  return;
}



/*
 * Function: FUN_1000436f
 * Address: 1000436f
 */

undefined4 __cdecl
FUN_1000436f(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  undefined4 **ppuVar3;
  undefined4 *local_34;
  undefined4 local_30;
  undefined4 *local_2c;
  code *local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined *local_10;
  undefined *local_c;
  int local_8;
  
  local_c = &stack0xfffffffc;
  local_10 = &stack0xffffffbc;
  local_28 = FUN_10004425;
  local_24 = param_5;
  local_20 = param_2;
  local_1c = param_6;
  local_18 = param_7;
  local_8 = 0;
  local_14 = 0x100043f7;
  local_2c = (undefined4 *)ExceptionList;
  ExceptionList = &local_2c;
  local_34 = param_1;
  local_30 = param_3;
  ppuVar3 = &local_34;
  uVar2 = *param_1;
  pDVar1 = FUN_100053b1();
  (*(code *)pDVar1[0x1a])(uVar2,ppuVar3);
  if (local_8 != 0) {
                    /* WARNING: Load size is inaccurate */
    *local_2c = *ExceptionList;
  }
  ExceptionList = local_2c;
  return 0;
}



/*
 * Function: FUN_10004425
 * Address: 10004425
 */

undefined4 __cdecl FUN_10004425(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  undefined4 uVar1;
  
  if ((param_1->ExceptionFlags & 0x66) != 0) {
    *(undefined4 *)((int)param_2 + 0x24) = 1;
    return 1;
  }
  FUN_10004ad5(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),*(PVOID *)((int)param_2 + 0x14),'\x01');
  if (*(int *)((int)param_2 + 0x24) == 0) {
    FUN_10004271(param_2,param_1);
  }
                    /* WARNING: Could not recover jumptable at 0x1000448f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  uVar1 = (**(code **)((int)param_2 + 0x18))();
  return uVar1;
}



/*
 * Function: FUN_1000449a
 * Address: 1000449a
 */

int __cdecl FUN_1000449a(uint param_1,int param_2,int param_3,uint *param_4,uint *param_5)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint local_8;
  
  uVar2 = param_1;
  local_8 = *(uint *)(param_1 + 0xc);
  iVar1 = *(int *)(param_1 + 0x10);
  uVar3 = local_8;
  param_1 = local_8;
  if (-1 < param_2) {
    do {
      if (uVar3 == 0xffffffff) {
        FUN_10005519();
      }
      uVar3 = uVar3 - 1;
      if (((*(int *)(iVar1 + 4 + uVar3 * 0x14) < param_3) &&
          (param_3 <= *(int *)(iVar1 + uVar3 * 0x14 + 8))) || (uVar3 == 0xffffffff)) {
        param_2 = param_2 + -1;
        local_8 = param_1;
        param_1 = uVar3;
      }
    } while (-1 < param_2);
  }
  uVar3 = uVar3 + 1;
  *param_4 = uVar3;
  *param_5 = local_8;
  if ((*(uint *)(uVar2 + 0xc) < local_8) || (local_8 < uVar3)) {
    FUN_10005519();
  }
  return iVar1 + uVar3 * 0x14;
}



/*
 * Function: __global_unwind2
 * Address: 10004518
 */

/* Library Function - Single Match
    __global_unwind2
   
   Library: Visual Studio */

void __cdecl __global_unwind2(PVOID param_1)

{
  RtlUnwind(param_1,(PVOID)0x10004530,(PEXCEPTION_RECORD)0x0,(PVOID)0x0);
  return;
}



/*
 * Function: __local_unwind2
 * Address: 1000455a
 */

/* Library Function - Single Match
    __local_unwind2
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release, Visual Studio 2003 Debug, Visual
   Studio 2003 Release */

void __cdecl __local_unwind2(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *pvStack_1c;
  undefined *puStack_18;
  undefined4 local_14;
  int iStack_10;
  
  iStack_10 = param_1;
  puStack_18 = &LAB_10004538;
  pvStack_1c = ExceptionList;
  ExceptionList = &pvStack_1c;
  while( true ) {
    iVar1 = *(int *)(param_1 + 8);
    iVar2 = *(int *)(param_1 + 0xc);
    if ((iVar2 == -1) || (iVar2 == param_2)) break;
    local_14 = *(undefined4 *)(iVar1 + iVar2 * 0xc);
    *(undefined4 *)(param_1 + 0xc) = local_14;
    if (*(int *)(iVar1 + 4 + iVar2 * 0xc) == 0) {
      FUN_100045ee();
      (**(code **)(iVar1 + 8 + iVar2 * 0xc))();
    }
  }
  ExceptionList = pvStack_1c;
  return;
}



/*
 * Function: __abnormal_termination
 * Address: 100045c2
 */

/* Library Function - Single Match
    __abnormal_termination
   
   Library: Visual Studio */

int __cdecl __abnormal_termination(void)

{
  int iVar1;
  
  iVar1 = 0;
  if ((*(undefined **)((int)ExceptionList + 4) == &LAB_10004538) &&
     (*(int *)((int)ExceptionList + 8) == *(int *)(*(int *)((int)ExceptionList + 0xc) + 0xc))) {
    iVar1 = 1;
  }
  return iVar1;
}



/*
 * Function: __NLG_Notify1
 * Address: 100045e5
 */

/* Library Function - Single Match
    __NLG_Notify1
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __fastcall __NLG_Notify1(undefined4 param_1)

{
  undefined4 in_EAX;
  undefined4 unaff_EBP;
  
  DAT_1000c068 = param_1;
  DAT_1000c064 = in_EAX;
  DAT_1000c06c = unaff_EBP;
  return;
}



/*
 * Function: FUN_100045ee
 * Address: 100045ee
 */

void FUN_100045ee(void)

{
  undefined4 in_EAX;
  int unaff_EBP;
  
  DAT_1000c068 = *(undefined4 *)(unaff_EBP + 8);
  DAT_1000c064 = in_EAX;
  DAT_1000c06c = unaff_EBP;
  return;
}



/*
 * Function: FUN_10004606
 * Address: 10004606
 */

void FUN_10004606(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_10009148;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    (*(code *)param_4)();
  }
  local_8 = 0xffffffff;
  FUN_1000466e();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_1000466e
 * Address: 1000466e
 */

void FUN_1000466e(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x1c) == 0) {
    FUN_10004686(*(undefined4 *)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + 0xc),
                 *(int *)(unaff_EBP + 0x10),*(undefined **)(unaff_EBP + 0x14));
  }
  return;
}



/*
 * Function: FUN_10004686
 * Address: 10004686
 */

void FUN_10004686(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_10009158;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    (*(code *)param_4)();
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_100046e4
 * Address: 100046e4
 */

undefined4 __cdecl FUN_100046e4(undefined4 *param_1)

{
  undefined4 uVar1;
  
  if (*(int *)*param_1 != -0x1f928c9d) {
    return 0;
  }
  uVar1 = FUN_100054b8();
  return uVar1;
}



/*
 * Function: FUN_100046fa
 * Address: 100046fa
 */

void FUN_100046fa(undefined4 param_1,undefined4 param_2,int param_3,undefined *param_4)

{
  int local_20;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_10009168;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  for (local_20 = 0; local_20 < param_3; local_20 = local_20 + 1) {
    (*(code *)param_4)();
  }
  local_8 = 0xffffffff;
  FUN_10004764();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10004764
 * Address: 10004764
 */

void FUN_10004764(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x20) == 0) {
    FUN_10004686(*(undefined4 *)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + 0xc),
                 *(int *)(unaff_EBP + -0x1c),*(undefined **)(unaff_EBP + 0x18));
  }
  return;
}



/*
 * Function: FUN_1000477c
 * Address: 1000477c
 */

int __thiscall FUN_1000477c(void *this,byte *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  byte *pbVar5;
  undefined *puVar6;
  
  while( true ) {
    if (DAT_1000c294 < 2) {
      uVar1 = (byte)PTR_DAT_1000c088[(uint)*param_1 * 2] & 8;
      this = PTR_DAT_1000c088;
    }
    else {
      puVar6 = (undefined *)0x8;
      uVar1 = FUN_10005650(this,(uint)*param_1,8);
      this = puVar6;
    }
    if (uVar1 == 0) break;
    param_1 = param_1 + 1;
  }
  uVar1 = (uint)*param_1;
  pbVar5 = param_1 + 1;
  if ((uVar1 == 0x2d) || (uVar4 = uVar1, uVar1 == 0x2b)) {
    uVar4 = (uint)*pbVar5;
    pbVar5 = param_1 + 2;
  }
  iVar3 = 0;
  while( true ) {
    if (DAT_1000c294 < 2) {
      uVar2 = (byte)PTR_DAT_1000c088[uVar4 * 2] & 4;
    }
    else {
      puVar6 = (undefined *)0x4;
      uVar2 = FUN_10005650(this,uVar4,4);
      this = puVar6;
    }
    if (uVar2 == 0) break;
    iVar3 = (uVar4 - 0x30) + iVar3 * 10;
    uVar4 = (uint)*pbVar5;
    pbVar5 = pbVar5 + 1;
  }
  if (uVar1 == 0x2d) {
    iVar3 = -iVar3;
  }
  return iVar3;
}



/*
 * Function: FUN_10004807
 * Address: 10004807
 */

void __thiscall FUN_10004807(void *this,byte *param_1)

{
  FUN_1000477c(this,param_1);
  return;
}



/*
 * Function: _strncmp
 * Address: 10004820
 */

/* Library Function - Single Match
    _strncmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strncmp(char *_Str1,char *_Str2,size_t _MaxCount)

{
  char cVar1;
  char cVar2;
  size_t sVar3;
  int iVar4;
  uint uVar5;
  char *pcVar6;
  char *pcVar7;
  
  sVar3 = _MaxCount;
  pcVar6 = _Str1;
  if (_MaxCount != 0) {
    do {
      if (sVar3 == 0) break;
      sVar3 = sVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    iVar4 = _MaxCount - sVar3;
    do {
      pcVar6 = _Str2;
      pcVar7 = _Str1;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar7 = _Str1 + 1;
      pcVar6 = _Str2 + 1;
      cVar2 = *_Str1;
      cVar1 = *_Str2;
      _Str2 = pcVar6;
      _Str1 = pcVar7;
    } while (cVar1 == cVar2);
    uVar5 = 0;
    if ((byte)pcVar6[-1] <= (byte)pcVar7[-1]) {
      if (pcVar6[-1] == pcVar7[-1]) {
        return 0;
      }
      uVar5 = 0xfffffffe;
    }
    _MaxCount = ~uVar5;
  }
  return _MaxCount;
}



/*
 * Function: FUN_10004858
 * Address: 10004858
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_10004858(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  
  if (param_2 == 1) {
    DAT_1000c730 = GetVersion();
    iVar1 = FUN_10005e6a(1);
    if (iVar1 != 0) {
      _DAT_1000c73c = DAT_1000c730 >> 8 & 0xff;
      _DAT_1000c738 = DAT_1000c730 & 0xff;
      DAT_1000c730 = DAT_1000c730 >> 0x10;
      _DAT_1000c734 = _DAT_1000c738 * 0x100 + _DAT_1000c73c;
      iVar1 = FUN_1000532c();
      if (iVar1 != 0) {
        DAT_1000ccb8 = GetCommandLineA();
        DAT_1000c71c = FUN_10005d38();
        FUN_10005822();
        FUN_10005aeb();
        FUN_10005a32();
        FUN_10005704();
        DAT_1000c718 = DAT_1000c718 + 1;
        goto LAB_1000492b;
      }
      FUN_10005ea6();
    }
LAB_100048b8:
    uVar2 = 0;
  }
  else {
    if (param_2 == 0) {
      if (DAT_1000c718 < 1) goto LAB_100048b8;
      DAT_1000c718 = DAT_1000c718 + -1;
      if (DAT_1000c768 == 0) {
        FUN_10005742();
      }
      FUN_100059de();
      FUN_10005380();
      FUN_10005ea6();
    }
    else if (param_2 == 3) {
      FUN_10005418((LPVOID)0x0);
    }
LAB_1000492b:
    uVar2 = 1;
  }
  return uVar2;
}



/*
 * Function: entry
 * Address: 10004931
 */

int entry(undefined4 param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = param_2;
  iVar2 = DAT_1000c718;
  if (param_2 != 0) {
    if ((param_2 != 1) && (param_2 != 2)) goto LAB_10004979;
    if ((DAT_1000ccbc != (code *)0x0) &&
       (iVar2 = (*DAT_1000ccbc)(param_1,param_2,param_3), iVar2 == 0)) {
      return 0;
    }
    iVar2 = FUN_10004858(param_1,param_2);
  }
  if (iVar2 == 0) {
    return 0;
  }
LAB_10004979:
  iVar2 = FUN_10005f1b();
  if (param_2 == 1) {
    if (iVar2 != 0) {
      return iVar2;
    }
    FUN_10004858(param_1,0);
  }
  if ((param_2 != 0) && (param_2 != 3)) {
    return iVar2;
  }
  iVar3 = FUN_10004858(param_1,param_2);
  param_2 = iVar2;
  if (iVar3 == 0) {
    param_2 = 0;
  }
  if (param_2 != 0) {
    if (DAT_1000ccbc != (code *)0x0) {
      iVar2 = (*DAT_1000ccbc)(param_1,iVar1,param_3);
      return iVar2;
    }
    return param_2;
  }
  return 0;
}



/*
 * Function: __amsg_exit
 * Address: 100049ce
 */

/* Library Function - Single Match
    __amsg_exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __amsg_exit(int param_1)

{
  if ((DAT_1000c724 == 1) || ((DAT_1000c724 == 0 && (DAT_1000c728 == 1)))) {
    FUN_10005f21();
  }
  FUN_10005f5a(param_1);
  (*(code *)PTR___exit_1000c070)(0xff);
  return;
}



/*
 * Function: FUN_10004a01
 * Address: 10004a01
 */

void __cdecl FUN_10004a01(LPVOID param_1)

{
  uint *puVar1;
  
  if (param_1 != (LPVOID)0x0) {
    FUN_10006142(9);
    puVar1 = (uint *)FUN_100061f6((int)param_1);
    if (puVar1 != (uint *)0x0) {
      FUN_10006221(puVar1,(uint)param_1);
      FUN_100061a3(9);
      return;
    }
    FUN_100061a3(9);
    HeapFree(DAT_1000cb80,0,param_1);
  }
  return;
}



/*
 * Function: _malloc
 * Address: 10004a49
 */

/* Library Function - Single Match
    _malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl _malloc(size_t _Size)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(_Size,DAT_1000c8e0);
  return pvVar1;
}



/*
 * Function: __nh_malloc
 * Address: 10004a5b
 */

/* Library Function - Single Match
    __nh_malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl __nh_malloc(size_t _Size,int _NhFlag)

{
  int *piVar1;
  int iVar2;
  
  if (_Size < 0xffffffe1) {
    do {
      piVar1 = FUN_10004a87((uint *)_Size);
      if (piVar1 != (int *)0x0) {
        return piVar1;
      }
      if (_NhFlag == 0) {
        return (void *)0x0;
      }
      iVar2 = FUN_10006a01(_Size);
    } while (iVar2 != 0);
  }
  return (void *)0x0;
}



/*
 * Function: FUN_10004a87
 * Address: 10004a87
 */

int * __cdecl FUN_10004a87(uint *param_1)

{
  int *piVar1;
  
  if (param_1 <= DAT_1000c418) {
    FUN_10006142(9);
    piVar1 = FUN_1000654c(param_1);
    FUN_100061a3(9);
    if (piVar1 != (int *)0x0) {
      return piVar1;
    }
  }
  if (param_1 == (uint *)0x0) {
    param_1 = (uint *)0x1;
  }
  piVar1 = (int *)HeapAlloc(DAT_1000cb80,0,(int)param_1 + 0xfU & 0xfffffff0);
  return piVar1;
}



/*
 * Function: FUN_10004ad5
 * Address: 10004ad5
 */

undefined4 __cdecl
FUN_10004ad5(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int *param_5,
            int param_6,PVOID param_7,char param_8)

{
  code *pcVar1;
  undefined4 uVar2;
  
  if (*param_5 != 0x19930520) {
    FUN_10005519();
  }
  if ((*(byte *)&param_1->ExceptionFlags & 0x66) == 0) {
    if (param_5[3] != 0) {
      if (((param_1->ExceptionCode == 0xe06d7363) && (0x19930520 < param_1->ExceptionInformation[0])
          ) && (pcVar1 = *(code **)(param_1->ExceptionInformation[2] + 8), pcVar1 != (code *)0x0)) {
        uVar2 = (*pcVar1)(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8);
        return uVar2;
      }
      FUN_10004b70(param_1,param_2,param_3,param_4,(uint)param_5,param_8,param_6,param_7);
    }
  }
  else if ((param_5[1] != 0) && (param_6 == 0)) {
    FUN_10004e2a((int)param_2,param_4,(int)param_5,-1);
  }
  return 1;
}



/*
 * Function: FUN_10004b70
 * Address: 10004b70
 */

void __cdecl
FUN_10004b70(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            char param_6,int param_7,PVOID param_8)

{
  byte *pbVar1;
  bool bVar2;
  DWORD *pDVar3;
  undefined3 extraout_var;
  int *piVar4;
  int iVar5;
  int *piVar6;
  uint local_1c;
  uint local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  local_18 = local_18 & 0xffffff00;
  local_14 = *(int *)((int)param_2 + 8);
  if ((local_14 < -1) || (*(int *)(param_5 + 4) <= local_14)) {
    FUN_10005519();
  }
  if (param_1->ExceptionCode == 0xe06d7363) {
    if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
       (param_1->ExceptionInformation[2] == 0)) {
      pDVar3 = FUN_100053b1();
      if (pDVar3[0x1b] == 0) {
        return;
      }
      pDVar3 = FUN_100053b1();
      param_1 = (PEXCEPTION_RECORD)pDVar3[0x1b];
      pDVar3 = FUN_100053b1();
      param_3 = pDVar3[0x1c];
      local_18 = CONCAT31(local_18._1_3_,1);
      bVar2 = FUN_10006a80(param_1,1);
      if (CONCAT31(extraout_var,bVar2) == 0) {
        FUN_10005519();
      }
      if (param_1->ExceptionCode != 0xe06d7363) goto LAB_10004cf8;
      if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
         (param_1->ExceptionInformation[2] == 0)) {
        FUN_10005519();
      }
    }
    iVar5 = local_14;
    if (((param_1->ExceptionCode == 0xe06d7363) && (param_1->NumberParameters == 3)) &&
       (param_1->ExceptionInformation[0] == 0x19930520)) {
      piVar4 = (int *)FUN_1000449a(param_5,param_7,local_14,&local_8,&local_1c);
      do {
        if (local_1c <= local_8) {
          if (param_6 == '\0') {
            return;
          }
          FUN_1000524c((int)param_1);
          return;
        }
        if ((*piVar4 <= iVar5) && (iVar5 <= piVar4[1])) {
          pbVar1 = (byte *)piVar4[4];
          for (local_10 = piVar4[3]; iVar5 = local_14, 0 < local_10; local_10 = local_10 + -1) {
            piVar6 = *(int **)(param_1->ExceptionInformation[2] + 0xc);
            for (local_c = *piVar6; 0 < local_c; local_c = local_c + -1) {
              piVar6 = piVar6 + 1;
              iVar5 = FUN_10004dcd(pbVar1,(byte *)*piVar6,(uint *)param_1->ExceptionInformation[2]);
              if (iVar5 != 0) {
                FUN_10004ec8(param_1,param_2,param_3,param_4,param_5,pbVar1,(byte *)*piVar6,piVar4,
                             param_7,param_8);
                iVar5 = local_14;
                goto LAB_10004cd8;
              }
            }
            pbVar1 = pbVar1 + 0x10;
          }
        }
LAB_10004cd8:
        local_8 = local_8 + 1;
        piVar4 = piVar4 + 5;
      } while( true );
    }
  }
LAB_10004cf8:
  if (param_6 == '\0') {
    FUN_10004d23(param_1,param_2,param_3,param_4,param_5,local_14,param_7,param_8);
    return;
  }
  FUN_100054b8();
  return;
}



/*
 * Function: FUN_10004d23
 * Address: 10004d23
 */

void __cdecl
FUN_10004d23(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            int param_6,int param_7,PVOID param_8)

{
  DWORD *pDVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  uint local_c;
  uint local_8;
  
  pDVar1 = FUN_100053b1();
  if ((pDVar1[0x1a] != 0) &&
     (iVar2 = FUN_1000436f(&param_1->ExceptionCode,param_2,param_3,param_4,param_5,param_7,param_8),
     iVar2 != 0)) {
    return;
  }
  piVar3 = (int *)FUN_1000449a(param_5,param_7,param_6,&local_8,&local_c);
  for (; local_8 < local_c; local_8 = local_8 + 1) {
    if ((*piVar3 <= param_6) && (param_6 <= piVar3[1])) {
      iVar4 = piVar3[3] * 0x10 + piVar3[4];
      iVar2 = *(int *)(iVar4 + -0xc);
      if ((iVar2 == 0) || (*(char *)(iVar2 + 8) == '\0')) {
        FUN_10004ec8(param_1,param_2,param_3,param_4,param_5,(byte *)(iVar4 + -0x10),(byte *)0x0,
                     piVar3,param_7,param_8);
      }
    }
    piVar3 = piVar3 + 5;
  }
  return;
}



/*
 * Function: FUN_10004dcd
 * Address: 10004dcd
 */

undefined4 __cdecl FUN_10004dcd(byte *param_1,byte *param_2,uint *param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if ((iVar1 == 0) || (*(char *)(iVar1 + 8) == '\0')) {
LAB_10004e24:
    uVar2 = 1;
  }
  else {
    if (iVar1 == *(int *)(param_2 + 4)) {
LAB_10004dfe:
      if (((((*param_2 & 2) == 0) || ((*param_1 & 8) != 0)) &&
          (((*param_3 & 1) == 0 || ((*param_1 & 1) != 0)))) &&
         (((*param_3 & 2) == 0 || ((*param_1 & 2) != 0)))) goto LAB_10004e24;
    }
    else {
      iVar1 = _strcmp((char *)(iVar1 + 8),(char *)(*(int *)(param_2 + 4) + 8));
      if (iVar1 == 0) goto LAB_10004dfe;
    }
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_10004e2a
 * Address: 10004e2a
 */

void __cdecl FUN_10004e2a(int param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_10009178;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  for (iVar2 = *(int *)(param_1 + 8); local_8 = 0xffffffff, iVar2 != param_4;
      iVar2 = *(int *)(*(int *)(param_3 + 8) + iVar2 * 8)) {
    if ((iVar2 < 0) || (*(int *)(param_3 + 4) <= iVar2)) {
      FUN_10005519();
    }
    local_8 = 0;
    iVar1 = *(int *)(*(int *)(param_3 + 8) + 4 + iVar2 * 8);
    if (iVar1 != 0) {
      __CallSettingFrame_12(iVar1,param_1,0x103);
    }
  }
  *(int *)(param_1 + 8) = iVar2;
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10004ec8
 * Address: 10004ec8
 */

void __cdecl
FUN_10004ec8(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int param_5,
            byte *param_6,byte *param_7,int *param_8,int param_9,PVOID param_10)

{
  undefined *UNRECOVERED_JUMPTABLE;
  
  if (param_7 != (byte *)0x0) {
    FUN_10005088((int)param_1,(int)param_2,param_6,param_7);
  }
  if (param_10 == (PVOID)0x0) {
    param_10 = param_2;
  }
  FUN_10004271(param_10,param_1);
  FUN_10004e2a((int)param_2,param_4,param_5,*param_8);
  *(int *)((int)param_2 + 8) = param_8[1] + 1;
  UNRECOVERED_JUMPTABLE =
       (undefined *)
       FUN_10004f43((DWORD)param_1,param_2,param_3,param_5,*(undefined4 *)(param_6 + 0xc),param_9,
                    0x100);
  if (UNRECOVERED_JUMPTABLE != (undefined *)0x0) {
    FUN_1000422f(UNRECOVERED_JUMPTABLE);
  }
  return;
}



/*
 * Function: FUN_10004f43
 * Address: 10004f43
 */

undefined4 __cdecl
FUN_10004f43(DWORD param_1,undefined4 param_2,DWORD param_3,undefined4 param_4,undefined4 param_5,
            int param_6,int param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_10009188;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  FUN_100053b1();
  FUN_100053b1();
  pDVar1 = FUN_100053b1();
  pDVar1[0x1b] = param_1;
  pDVar1 = FUN_100053b1();
  pDVar1[0x1c] = param_3;
  local_8 = 1;
  uVar2 = FUN_100042f6(param_2,param_4,param_5,param_6,param_7);
  local_8 = 0xffffffff;
  FUN_10005010();
  ExceptionList = local_14;
  return uVar2;
}



/*
 * Function: FUN_10005010
 * Address: 10005010
 */

void FUN_10005010(void)

{
  DWORD *pDVar1;
  int unaff_EBP;
  int unaff_ESI;
  int *unaff_EDI;
  
  *(undefined4 *)(unaff_ESI + -4) = *(undefined4 *)(unaff_EBP + -0x28);
  pDVar1 = FUN_100053b1();
  pDVar1[0x1b] = *(DWORD *)(unaff_EBP + -0x1c);
  pDVar1 = FUN_100053b1();
  pDVar1[0x1c] = *(DWORD *)(unaff_EBP + -0x20);
  if ((((*unaff_EDI == -0x1f928c9d) && (unaff_EDI[4] == 3)) && (unaff_EDI[5] == 0x19930520)) &&
     ((*(int *)(unaff_EBP + -0x24) == 0 && (*(int *)(unaff_EBP + -0x2c) != 0)))) {
    __abnormal_termination();
    FUN_1000524c((int)unaff_EDI);
  }
  return;
}



/*
 * Function: FUN_1000505e
 * Address: 1000505e
 */

undefined4 __cdecl FUN_1000505e(int *param_1)

{
  int *piVar1;
  
  piVar1 = (int *)*param_1;
  if ((((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) &&
     (piVar1[7] == 0)) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_10005088
 * Address: 10005088
 */

void __cdecl FUN_10005088(int param_1,int param_2,byte *param_3,byte *param_4)

{
  int *piVar1;
  bool bVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar3;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined4 *puVar4;
  undefined3 extraout_var_05;
  undefined3 extraout_var_06;
  undefined3 extraout_var_07;
  uint uVar5;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100091a0;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  if (*(int *)(param_3 + 4) == 0) {
    return;
  }
  if (*(char *)(*(int *)(param_3 + 4) + 8) == '\0') {
    return;
  }
  if (*(int *)(param_3 + 8) == 0) {
    return;
  }
  piVar1 = (int *)(*(int *)(param_3 + 8) + 0xc + param_2);
  local_8 = 0;
  if ((*param_3 & 8) == 0) {
    if ((*param_4 & 1) == 0) {
      if (*(int *)(param_4 + 0x18) == 0) {
        ExceptionList = &local_14;
        bVar2 = FUN_10006a80(*(void **)(param_1 + 0x18),1);
        if ((CONCAT31(extraout_var_03,bVar2) != 0) &&
           (bVar2 = FUN_10006a9c(piVar1,1), CONCAT31(extraout_var_04,bVar2) != 0)) {
          uVar5 = *(uint *)(param_4 + 0x14);
          puVar4 = (undefined4 *)FUN_100052b3(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_10006b60(piVar1,puVar4,uVar5);
          ExceptionList = local_14;
          return;
        }
      }
      else {
        ExceptionList = &local_14;
        bVar2 = FUN_10006a80(*(void **)(param_1 + 0x18),1);
        if (((CONCAT31(extraout_var_05,bVar2) != 0) &&
            (bVar2 = FUN_10006a9c(piVar1,1), CONCAT31(extraout_var_06,bVar2) != 0)) &&
           (bVar2 = FUN_10006ab8(*(FARPROC *)(param_4 + 0x18)), CONCAT31(extraout_var_07,bVar2) != 0
           )) {
          if ((*param_4 & 4) != 0) {
            FUN_100052b3(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
            FUN_1000426a(piVar1,*(undefined **)(param_4 + 0x18));
            ExceptionList = local_14;
            return;
          }
          FUN_100052b3(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_10004263(piVar1,*(undefined **)(param_4 + 0x18));
          ExceptionList = local_14;
          return;
        }
      }
    }
    else {
      ExceptionList = &local_14;
      bVar2 = FUN_10006a80(*(void **)(param_1 + 0x18),1);
      if ((CONCAT31(extraout_var_01,bVar2) != 0) &&
         (bVar2 = FUN_10006a9c(piVar1,1), CONCAT31(extraout_var_02,bVar2) != 0)) {
        FUN_10006b60(piVar1,*(undefined4 **)(param_1 + 0x18),*(uint *)(param_4 + 0x14));
        if (*(int *)(param_4 + 0x14) != 4) {
          ExceptionList = local_14;
          return;
        }
        iVar3 = *piVar1;
        if (iVar3 == 0) {
          ExceptionList = local_14;
          return;
        }
        goto LAB_10005116;
      }
    }
  }
  else {
    ExceptionList = &local_14;
    bVar2 = FUN_10006a80(*(void **)(param_1 + 0x18),1);
    if ((CONCAT31(extraout_var,bVar2) != 0) &&
       (bVar2 = FUN_10006a9c(piVar1,1), CONCAT31(extraout_var_00,bVar2) != 0)) {
      iVar3 = *(int *)(param_1 + 0x18);
      *piVar1 = iVar3;
LAB_10005116:
      iVar3 = FUN_100052b3(iVar3,(int *)(param_4 + 8));
      *piVar1 = iVar3;
      ExceptionList = local_14;
      return;
    }
  }
  FUN_10005519();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_1000524c
 * Address: 1000524c
 */

void __cdecl FUN_1000524c(int param_1)

{
  undefined *UNRECOVERED_JUMPTABLE;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100091b0;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  if ((param_1 != 0) &&
     (UNRECOVERED_JUMPTABLE = *(undefined **)(*(int *)(param_1 + 0x1c) + 4),
     UNRECOVERED_JUMPTABLE != (undefined *)0x0)) {
    local_8 = 0;
    ExceptionList = &local_14;
    FUN_10004263(*(undefined4 *)(param_1 + 0x18),UNRECOVERED_JUMPTABLE);
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_100052b3
 * Address: 100052b3
 */

int __cdecl FUN_100052b3(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = param_2[1];
  iVar2 = *param_2 + param_1;
  if (-1 < iVar1) {
    iVar2 = iVar2 + *(int *)(*(int *)(iVar1 + param_1) + param_2[2]) + iVar1;
  }
  return iVar2;
}



/*
 * Function: __CallSettingFrame@12
 * Address: 100052e0
 */

/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* Library Function - Single Match
    __CallSettingFrame@12
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __CallSettingFrame_12(undefined4 param_1,undefined4 param_2,int param_3)

{
  code *pcVar1;
  
  pcVar1 = (code *)__NLG_Notify1(param_3);
  (*pcVar1)();
  if (param_3 == 0x100) {
    param_3 = 2;
  }
  __NLG_Notify1(param_3);
  return;
}



/*
 * Function: FUN_1000532c
 * Address: 1000532c
 */

undefined4 FUN_1000532c(void)

{
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  FUN_100060ad();
  DAT_1000c080 = TlsAlloc();
  if (DAT_1000c080 != 0xffffffff) {
    lpTlsValue = (DWORD *)FUN_10006e95(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_1000c080,lpTlsValue);
      if (BVar1 != 0) {
        FUN_1000539e((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        return 1;
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_10005380
 * Address: 10005380
 */

void FUN_10005380(void)

{
  FUN_100060d6();
  if (DAT_1000c080 != 0xffffffff) {
    TlsFree(DAT_1000c080);
    DAT_1000c080 = 0xffffffff;
  }
  return;
}



/*
 * Function: FUN_1000539e
 * Address: 1000539e
 */

void __cdecl FUN_1000539e(int param_1)

{
  *(undefined **)(param_1 + 0x50) = &DAT_1000c420;
  *(undefined4 *)(param_1 + 0x14) = 1;
  return;
}



/*
 * Function: FUN_100053b1
 * Address: 100053b1
 */

DWORD * FUN_100053b1(void)

{
  DWORD dwErrCode;
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  dwErrCode = GetLastError();
  lpTlsValue = (DWORD *)TlsGetValue(DAT_1000c080);
  if (lpTlsValue == (DWORD *)0x0) {
    lpTlsValue = (DWORD *)FUN_10006e95(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_1000c080,lpTlsValue);
      if (BVar1 != 0) {
        FUN_1000539e((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        goto LAB_1000540c;
      }
    }
    __amsg_exit(0x10);
  }
LAB_1000540c:
  SetLastError(dwErrCode);
  return lpTlsValue;
}



/*
 * Function: FUN_10005418
 * Address: 10005418
 */

void __cdecl FUN_10005418(LPVOID param_1)

{
  if (DAT_1000c080 != 0xffffffff) {
    if ((param_1 != (LPVOID)0x0) || (param_1 = TlsGetValue(DAT_1000c080), param_1 != (LPVOID)0x0)) {
      if (*(LPVOID *)((int)param_1 + 0x24) != (LPVOID)0x0) {
        FUN_10004a01(*(LPVOID *)((int)param_1 + 0x24));
      }
      if (*(LPVOID *)((int)param_1 + 0x28) != (LPVOID)0x0) {
        FUN_10004a01(*(LPVOID *)((int)param_1 + 0x28));
      }
      if (*(LPVOID *)((int)param_1 + 0x30) != (LPVOID)0x0) {
        FUN_10004a01(*(LPVOID *)((int)param_1 + 0x30));
      }
      if (*(LPVOID *)((int)param_1 + 0x38) != (LPVOID)0x0) {
        FUN_10004a01(*(LPVOID *)((int)param_1 + 0x38));
      }
      if (*(LPVOID *)((int)param_1 + 0x40) != (LPVOID)0x0) {
        FUN_10004a01(*(LPVOID *)((int)param_1 + 0x40));
      }
      if (*(LPVOID *)((int)param_1 + 0x44) != (LPVOID)0x0) {
        FUN_10004a01(*(LPVOID *)((int)param_1 + 0x44));
      }
      if (*(undefined **)((int)param_1 + 0x50) != &DAT_1000c420) {
        FUN_10004a01(*(undefined **)((int)param_1 + 0x50));
      }
      FUN_10004a01(param_1);
    }
    TlsSetValue(DAT_1000c080,(LPVOID)0x0);
    return;
  }
  return;
}



/*
 * Function: FUN_100054b8
 * Address: 100054b8
 */

void FUN_100054b8(void)

{
  DWORD *pDVar1;
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100091c0;
  puStack_10 = &LAB_10005578;
  pvStack_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &pvStack_14;
  pDVar1 = FUN_100053b1();
  if (pDVar1[0x18] != 0) {
    local_8 = 1;
    pDVar1 = FUN_100053b1();
    (*(code *)pDVar1[0x18])();
  }
  local_8 = 0xffffffff;
  FUN_10006f22();
  return;
}



/*
 * Function: FUN_10005519
 * Address: 10005519
 */

void FUN_10005519(void)

{
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100091d8;
  puStack_10 = &LAB_10005578;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  if (PTR_FUN_1000c084 != (undefined *)0x0) {
    local_8 = 1;
    ExceptionList = &pvStack_14;
    (*(code *)PTR_FUN_1000c084)();
  }
  local_8 = 0xffffffff;
  FUN_100054b8();
  return;
}



/*
 * Function: FUN_10005635
 * Address: 10005635
 */

void FUN_10005635(int param_1)

{
  __local_unwind2(*(int *)(param_1 + 0x18),*(int *)(param_1 + 0x1c));
  return;
}



/*
 * Function: FUN_10005650
 * Address: 10005650
 */

uint __thiscall FUN_10005650(void *this,int param_1,uint param_2)

{
  BOOL BVar1;
  int iVar2;
  undefined4 local_8;
  
  if (param_1 + 1U < 0x101) {
    param_1._2_2_ = *(ushort *)(PTR_DAT_1000c088 + param_1 * 2);
  }
  else {
    if ((PTR_DAT_1000c088[(param_1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      local_8 = CONCAT31((int3)((uint)this >> 8),(char)param_1) & 0xffff00ff;
      iVar2 = 1;
    }
    else {
      local_8._0_2_ = CONCAT11((char)param_1,(char)((uint)param_1 >> 8));
      local_8 = CONCAT22((short)((uint)this >> 0x10),(undefined2)local_8) & 0xff00ffff;
      iVar2 = 2;
    }
    BVar1 = FUN_10006f39(1,(LPCSTR)&local_8,iVar2,(LPWORD)((int)&param_1 + 2),0,0,1);
    if (BVar1 == 0) {
      return 0;
    }
  }
  return param_1._2_2_ & param_2;
}



/*
 * Function: FUN_10005704
 * Address: 10005704
 */

void FUN_10005704(void)

{
  if (DAT_1000ccb4 != (code *)0x0) {
    (*DAT_1000ccb4)();
  }
  FUN_10005808((undefined4 *)&DAT_1000c008,(undefined4 *)&DAT_1000c014);
  FUN_10005808((undefined4 *)&DAT_1000c000,(undefined4 *)&DAT_1000c004);
  return;
}



/*
 * Function: __exit
 * Address: 10005731
 */

/* Library Function - Single Match
    __exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __exit(int _Code)

{
  FUN_10005751(_Code,1,0);
  return;
}



/*
 * Function: FUN_10005742
 * Address: 10005742
 */

void FUN_10005742(void)

{
  FUN_10005751(0,0,1);
  return;
}



/*
 * Function: FUN_10005751
 * Address: 10005751
 */

void __cdecl FUN_10005751(UINT param_1,int param_2,int param_3)

{
  HANDLE hProcess;
  undefined4 *puVar1;
  UINT uExitCode;
  
  FUN_100057f6();
  if (DAT_1000c76c == 1) {
    uExitCode = param_1;
    hProcess = GetCurrentProcess();
    TerminateProcess(hProcess,uExitCode);
  }
  DAT_1000c768 = 1;
  DAT_1000c764 = (undefined)param_3;
  if (param_2 == 0) {
    if ((DAT_1000ccb0 != (undefined4 *)0x0) &&
       (puVar1 = (undefined4 *)(DAT_1000ccac - 4), DAT_1000ccb0 <= puVar1)) {
      do {
        if ((code *)*puVar1 != (code *)0x0) {
          (*(code *)*puVar1)();
        }
        puVar1 = puVar1 + -1;
      } while (DAT_1000ccb0 <= puVar1);
    }
    FUN_10005808((undefined4 *)&DAT_1000c018,(undefined4 *)&DAT_1000c01c);
  }
  FUN_10005808((undefined4 *)&DAT_1000c020,(undefined4 *)&DAT_1000c028);
  if (param_3 == 0) {
    DAT_1000c76c = 1;
                    /* WARNING: Subroutine does not return */
    ExitProcess(param_1);
  }
  FUN_100057ff();
  return;
}



/*
 * Function: FUN_100057f6
 * Address: 100057f6
 */

void FUN_100057f6(void)

{
  FUN_10006142(0xd);
  return;
}



/*
 * Function: FUN_100057ff
 * Address: 100057ff
 */

void FUN_100057ff(void)

{
  FUN_100061a3(0xd);
  return;
}



/*
 * Function: FUN_10005808
 * Address: 10005808
 */

void __cdecl FUN_10005808(undefined4 *param_1,undefined4 *param_2)

{
  for (; param_1 < param_2; param_1 = param_1 + 1) {
    if ((code *)*param_1 != (code *)0x0) {
      (*(code *)*param_1)();
    }
  }
  return;
}



/*
 * Function: FUN_10005822
 * Address: 10005822
 */

void FUN_10005822(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  DWORD DVar4;
  HANDLE hFile;
  UINT *pUVar5;
  int iVar6;
  uint uVar7;
  UINT UVar8;
  UINT UVar9;
  _STARTUPINFOA local_4c;
  byte *local_8;
  
  puVar2 = (undefined4 *)_malloc(0x480);
  if (puVar2 == (undefined4 *)0x0) {
    __amsg_exit(0x1b);
  }
  DAT_1000cca0 = 0x20;
  DAT_1000cba0 = puVar2;
  for (; puVar2 < DAT_1000cba0 + 0x120; puVar2 = puVar2 + 9) {
    *(undefined *)(puVar2 + 1) = 0;
    *puVar2 = 0xffffffff;
    puVar2[2] = 0;
    *(undefined *)((int)puVar2 + 5) = 10;
  }
  GetStartupInfoA(&local_4c);
  if ((local_4c.cbReserved2 != 0) && ((UINT *)local_4c.lpReserved2 != (UINT *)0x0)) {
    UVar8 = *(UINT *)local_4c.lpReserved2;
    pUVar5 = (UINT *)((int)local_4c.lpReserved2 + 4);
    local_8 = (byte *)((int)pUVar5 + UVar8);
    if (0x7ff < (int)UVar8) {
      UVar8 = 0x800;
    }
    UVar9 = UVar8;
    if ((int)DAT_1000cca0 < (int)UVar8) {
      puVar2 = &DAT_1000cba4;
      do {
        puVar3 = (undefined4 *)_malloc(0x480);
        UVar9 = DAT_1000cca0;
        if (puVar3 == (undefined4 *)0x0) break;
        DAT_1000cca0 = DAT_1000cca0 + 0x20;
        *puVar2 = puVar3;
        puVar1 = puVar3;
        for (; puVar3 < puVar1 + 0x120; puVar3 = puVar3 + 9) {
          *(undefined *)(puVar3 + 1) = 0;
          *puVar3 = 0xffffffff;
          puVar3[2] = 0;
          *(undefined *)((int)puVar3 + 5) = 10;
          puVar1 = (undefined4 *)*puVar2;
        }
        puVar2 = puVar2 + 1;
        UVar9 = UVar8;
      } while ((int)DAT_1000cca0 < (int)UVar8);
    }
    uVar7 = 0;
    if (0 < (int)UVar9) {
      do {
        if (((*(HANDLE *)local_8 != (HANDLE)0xffffffff) && ((*(byte *)pUVar5 & 1) != 0)) &&
           (((*(byte *)pUVar5 & 8) != 0 || (DVar4 = GetFileType(*(HANDLE *)local_8), DVar4 != 0))))
        {
          puVar2 = (undefined4 *)((int)(&DAT_1000cba0)[(int)uVar7 >> 5] + (uVar7 & 0x1f) * 0x24);
          *puVar2 = *(undefined4 *)local_8;
          *(byte *)(puVar2 + 1) = *(byte *)pUVar5;
        }
        local_8 = local_8 + 4;
        uVar7 = uVar7 + 1;
        pUVar5 = (UINT *)((int)pUVar5 + 1);
      } while ((int)uVar7 < (int)UVar9);
    }
  }
  iVar6 = 0;
  do {
    puVar2 = DAT_1000cba0 + iVar6 * 9;
    if (DAT_1000cba0[iVar6 * 9] == -1) {
      *(undefined *)(puVar2 + 1) = 0x81;
      if (iVar6 == 0) {
        DVar4 = 0xfffffff6;
      }
      else {
        DVar4 = 0xfffffff5 - (iVar6 != 1);
      }
      hFile = GetStdHandle(DVar4);
      if ((hFile != (HANDLE)0xffffffff) && (DVar4 = GetFileType(hFile), DVar4 != 0)) {
        *puVar2 = hFile;
        if ((DVar4 & 0xff) != 2) {
          if ((DVar4 & 0xff) == 3) {
            *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 8;
          }
          goto LAB_100059c7;
        }
      }
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x40;
    }
    else {
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x80;
    }
LAB_100059c7:
    iVar6 = iVar6 + 1;
    if (2 < iVar6) {
      SetHandleCount(DAT_1000cca0);
      return;
    }
  } while( true );
}



/*
 * Function: FUN_100059de
 * Address: 100059de
 */

void FUN_100059de(void)

{
  LPCRITICAL_SECTION lpCriticalSection;
  uint *puVar1;
  uint uVar2;
  
  puVar1 = &DAT_1000cba0;
  do {
    uVar2 = *puVar1;
    if (uVar2 != 0) {
      if (uVar2 < uVar2 + 0x480) {
        lpCriticalSection = (LPCRITICAL_SECTION)(uVar2 + 0xc);
        do {
          if (lpCriticalSection[-1].SpinCount != 0) {
            DeleteCriticalSection(lpCriticalSection);
          }
          uVar2 = uVar2 + 0x24;
          lpCriticalSection = (LPCRITICAL_SECTION)&lpCriticalSection[1].OwningThread;
        } while (uVar2 < *puVar1 + 0x480);
      }
      FUN_10004a01((LPVOID)*puVar1);
      *puVar1 = 0;
    }
    puVar1 = puVar1 + 1;
  } while ((int)puVar1 < 0x1000cca0);
  return;
}



/*
 * Function: FUN_10005a32
 * Address: 10005a32
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10005a32(void)

{
  char cVar1;
  size_t sVar2;
  undefined4 *puVar3;
  void *pvVar4;
  int iVar5;
  uint *puVar6;
  
  if (DAT_1000cca8 == 0) {
    FUN_100075d3();
  }
  iVar5 = 0;
  for (puVar6 = DAT_1000c71c; *(char *)puVar6 != '\0'; puVar6 = (uint *)((int)puVar6 + sVar2 + 1)) {
    if (*(char *)puVar6 != '=') {
      iVar5 = iVar5 + 1;
    }
    sVar2 = _strlen((char *)puVar6);
  }
  puVar3 = (undefined4 *)_malloc(iVar5 * 4 + 4);
  _DAT_1000c74c = puVar3;
  if (puVar3 == (undefined4 *)0x0) {
    __amsg_exit(9);
  }
  cVar1 = *(char *)DAT_1000c71c;
  puVar6 = DAT_1000c71c;
  while (cVar1 != '\0') {
    sVar2 = _strlen((char *)puVar6);
    if (*(char *)puVar6 != '=') {
      pvVar4 = _malloc(sVar2 + 1);
      *puVar3 = pvVar4;
      if (pvVar4 == (void *)0x0) {
        __amsg_exit(9);
      }
      FUN_10007090((uint *)*puVar3,puVar6);
      puVar3 = puVar3 + 1;
    }
    puVar6 = (uint *)((int)puVar6 + sVar2 + 1);
    cVar1 = *(char *)puVar6;
  }
  FUN_10004a01(DAT_1000c71c);
  DAT_1000c71c = (uint *)0x0;
  *puVar3 = 0;
  _DAT_1000cca4 = 1;
  return;
}



/*
 * Function: FUN_10005aeb
 * Address: 10005aeb
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10005aeb(void)

{
  undefined4 *puVar1;
  byte *pbVar2;
  int local_c;
  int local_8;
  
  if (DAT_1000cca8 == 0) {
    FUN_100075d3();
  }
  GetModuleFileNameA((HMODULE)0x0,&DAT_1000c770,0x104);
  _DAT_1000c75c = &DAT_1000c770;
  pbVar2 = &DAT_1000c770;
  if (*DAT_1000ccb8 != 0) {
    pbVar2 = DAT_1000ccb8;
  }
  FUN_10005b84(pbVar2,(undefined4 *)0x0,(byte *)0x0,&local_8,&local_c);
  puVar1 = (undefined4 *)_malloc(local_c + local_8 * 4);
  if (puVar1 == (undefined4 *)0x0) {
    __amsg_exit(8);
  }
  FUN_10005b84(pbVar2,puVar1,(byte *)(puVar1 + local_8),&local_8,&local_c);
  _DAT_1000c744 = puVar1;
  _DAT_1000c740 = local_8 + -1;
  return;
}



/*
 * Function: FUN_10005b84
 * Address: 10005b84
 */

void __cdecl FUN_10005b84(byte *param_1,undefined4 *param_2,byte *param_3,int *param_4,int *param_5)

{
  byte bVar1;
  bool bVar2;
  bool bVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  undefined4 *puVar7;
  
  *param_5 = 0;
  *param_4 = 1;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = param_3;
    param_2 = param_2 + 1;
  }
  if (*param_1 == 0x22) {
    while( true ) {
      bVar1 = param_1[1];
      pbVar4 = param_1 + 1;
      if ((bVar1 == 0x22) || (bVar1 == 0)) break;
      if ((((&DAT_1000ca61)[bVar1] & 4) != 0) && (*param_5 = *param_5 + 1, param_3 != (byte *)0x0))
      {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
        pbVar4 = param_1 + 2;
      }
      *param_5 = *param_5 + 1;
      param_1 = pbVar4;
      if (param_3 != (byte *)0x0) {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
      }
    }
    *param_5 = *param_5 + 1;
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    if (*pbVar4 == 0x22) {
      pbVar4 = param_1 + 2;
    }
  }
  else {
    do {
      *param_5 = *param_5 + 1;
      if (param_3 != (byte *)0x0) {
        *param_3 = *param_1;
        param_3 = param_3 + 1;
      }
      bVar1 = *param_1;
      pbVar4 = param_1 + 1;
      if (((&DAT_1000ca61)[bVar1] & 4) != 0) {
        *param_5 = *param_5 + 1;
        if (param_3 != (byte *)0x0) {
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        pbVar4 = param_1 + 2;
      }
      if (bVar1 == 0x20) break;
      if (bVar1 == 0) goto LAB_10005c2f;
      param_1 = pbVar4;
    } while (bVar1 != 9);
    if (bVar1 == 0) {
LAB_10005c2f:
      pbVar4 = pbVar4 + -1;
    }
    else if (param_3 != (byte *)0x0) {
      param_3[-1] = 0;
    }
  }
  bVar2 = false;
  puVar7 = param_2;
  while (*pbVar4 != 0) {
    for (; (*pbVar4 == 0x20 || (*pbVar4 == 9)); pbVar4 = pbVar4 + 1) {
    }
    if (*pbVar4 == 0) break;
    if (puVar7 != (undefined4 *)0x0) {
      *puVar7 = param_3;
      puVar7 = puVar7 + 1;
      param_2 = puVar7;
    }
    *param_4 = *param_4 + 1;
    while( true ) {
      bVar3 = true;
      uVar6 = 0;
      for (; *pbVar4 == 0x5c; pbVar4 = pbVar4 + 1) {
        uVar6 = uVar6 + 1;
      }
      if (*pbVar4 == 0x22) {
        pbVar5 = pbVar4;
        if ((uVar6 & 1) == 0) {
          if ((!bVar2) || (pbVar5 = pbVar4 + 1, pbVar4[1] != 0x22)) {
            bVar3 = false;
            pbVar5 = pbVar4;
          }
          bVar2 = !bVar2;
          puVar7 = param_2;
        }
        uVar6 = uVar6 >> 1;
        pbVar4 = pbVar5;
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        if (param_3 != (byte *)0x0) {
          *param_3 = 0x5c;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      bVar1 = *pbVar4;
      if ((bVar1 == 0) || ((!bVar2 && ((bVar1 == 0x20 || (bVar1 == 9)))))) break;
      if (bVar3) {
        if (param_3 == (byte *)0x0) {
          if (((&DAT_1000ca61)[bVar1] & 4) != 0) {
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
        }
        else {
          if (((&DAT_1000ca61)[bVar1] & 4) != 0) {
            *param_3 = bVar1;
            param_3 = param_3 + 1;
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      pbVar4 = pbVar4 + 1;
    }
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    *param_5 = *param_5 + 1;
  }
  if (puVar7 != (undefined4 *)0x0) {
    *puVar7 = 0;
  }
  *param_4 = *param_4 + 1;
  return;
}



/*
 * Function: FUN_10005d38
 * Address: 10005d38
 */

LPSTR FUN_10005d38(void)

{
  char cVar1;
  WCHAR WVar2;
  WCHAR *pWVar3;
  WCHAR *pWVar4;
  int iVar5;
  size_t _Size;
  LPSTR pCVar6;
  char *pcVar7;
  LPWCH lpWideCharStr;
  LPCH pCVar9;
  LPSTR local_8;
  char *pcVar8;
  
  lpWideCharStr = (LPWCH)0x0;
  pCVar9 = (LPCH)0x0;
  if (DAT_1000c874 == 0) {
    lpWideCharStr = GetEnvironmentStringsW();
    if (lpWideCharStr != (LPWCH)0x0) {
      DAT_1000c874 = 1;
LAB_10005d8f:
      if ((lpWideCharStr == (LPWCH)0x0) &&
         (lpWideCharStr = GetEnvironmentStringsW(), lpWideCharStr == (LPWCH)0x0)) {
        return (LPSTR)0x0;
      }
      WVar2 = *lpWideCharStr;
      pWVar4 = lpWideCharStr;
      while (WVar2 != L'\0') {
        do {
          pWVar3 = pWVar4;
          pWVar4 = pWVar3 + 1;
        } while (*pWVar4 != L'\0');
        pWVar4 = pWVar3 + 2;
        WVar2 = *pWVar4;
      }
      iVar5 = ((int)pWVar4 - (int)lpWideCharStr >> 1) + 1;
      _Size = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0);
      local_8 = (LPSTR)0x0;
      if (((_Size != 0) && (pCVar6 = (LPSTR)_malloc(_Size), pCVar6 != (LPSTR)0x0)) &&
         (iVar5 = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,pCVar6,_Size,(LPCSTR)0x0,(LPBOOL)0x0),
         local_8 = pCVar6, iVar5 == 0)) {
        FUN_10004a01(pCVar6);
        local_8 = (LPSTR)0x0;
      }
      FreeEnvironmentStringsW(lpWideCharStr);
      return local_8;
    }
    pCVar9 = GetEnvironmentStrings();
    if (pCVar9 == (LPCH)0x0) {
      return (LPSTR)0x0;
    }
    DAT_1000c874 = 2;
  }
  else {
    if (DAT_1000c874 == 1) goto LAB_10005d8f;
    if (DAT_1000c874 != 2) {
      return (LPSTR)0x0;
    }
  }
  if ((pCVar9 == (LPCH)0x0) && (pCVar9 = GetEnvironmentStrings(), pCVar9 == (LPCH)0x0)) {
    return (LPSTR)0x0;
  }
  cVar1 = *pCVar9;
  pcVar7 = pCVar9;
  while (cVar1 != '\0') {
    do {
      pcVar8 = pcVar7;
      pcVar7 = pcVar8 + 1;
    } while (*pcVar7 != '\0');
    pcVar7 = pcVar8 + 2;
    cVar1 = *pcVar7;
  }
  pCVar6 = (LPSTR)_malloc((size_t)(pcVar7 + (1 - (int)pCVar9)));
  if (pCVar6 == (LPSTR)0x0) {
    pCVar6 = (LPSTR)0x0;
  }
  else {
    FUN_100075f0((undefined4 *)pCVar6,(undefined4 *)pCVar9,(uint)(pcVar7 + (1 - (int)pCVar9)));
  }
  FreeEnvironmentStringsA(pCVar9);
  return pCVar6;
}



/*
 * Function: FUN_10005e6a
 * Address: 10005e6a
 */

undefined4 __cdecl FUN_10005e6a(int param_1)

{
  int iVar1;
  
  DAT_1000cb80 = HeapCreate((uint)(param_1 == 0),0x1000,0);
  if (DAT_1000cb80 != (HANDLE)0x0) {
    iVar1 = FUN_100061b8();
    if (iVar1 != 0) {
      return 1;
    }
    HeapDestroy(DAT_1000cb80);
  }
  return 0;
}



/*
 * Function: FUN_10005ea6
 * Address: 10005ea6
 */

void FUN_10005ea6(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = 0;
  if (0 < DAT_1000cb78) {
    puVar2 = (undefined4 *)((int)DAT_1000cb7c + 0xc);
    do {
      VirtualFree((LPVOID)*puVar2,0x100000,0x4000);
      VirtualFree((LPVOID)*puVar2,0,0x8000);
      HeapFree(DAT_1000cb80,0,(LPVOID)puVar2[1]);
      puVar2 = puVar2 + 5;
      iVar1 = iVar1 + 1;
    } while (iVar1 < DAT_1000cb78);
  }
  HeapFree(DAT_1000cb80,0,DAT_1000cb7c);
  HeapDestroy(DAT_1000cb80);
  return;
}



/*
 * Function: FUN_10005f1b
 * Address: 10005f1b
 */

undefined4 FUN_10005f1b(void)

{
  return 1;
}



/*
 * Function: FUN_10005f21
 * Address: 10005f21
 */

void FUN_10005f21(void)

{
  if ((DAT_1000c724 == 1) || ((DAT_1000c724 == 0 && (DAT_1000c728 == 1)))) {
    FUN_10005f5a(0xfc);
    if (DAT_1000c878 != (code *)0x0) {
      (*DAT_1000c878)();
    }
    FUN_10005f5a(0xff);
  }
  return;
}



/*
 * Function: FUN_10005f5a
 * Address: 10005f5a
 */

void __cdecl FUN_10005f5a(DWORD param_1)

{
  undefined4 *puVar1;
  DWORD *pDVar2;
  DWORD DVar3;
  size_t sVar4;
  HANDLE hFile;
  int iVar5;
  uint *_Dest;
  undefined auStackY_1e3 [7];
  LPCVOID lpBuffer;
  LPOVERLAPPED lpOverlapped;
  uint local_1a8 [65];
  uint local_a4 [40];
  
  iVar5 = 0;
  pDVar2 = &DAT_1000c2c8;
  do {
    if (param_1 == *pDVar2) break;
    pDVar2 = pDVar2 + 2;
    iVar5 = iVar5 + 1;
  } while ((int)pDVar2 < 0x1000c358);
  if (param_1 == (&DAT_1000c2c8)[iVar5 * 2]) {
    if ((DAT_1000c724 == 1) || ((DAT_1000c724 == 0 && (DAT_1000c728 == 1)))) {
      pDVar2 = &param_1;
      puVar1 = (undefined4 *)(iVar5 * 8 + 0x1000c2cc);
      lpOverlapped = (LPOVERLAPPED)0x0;
      sVar4 = _strlen((char *)*puVar1);
      lpBuffer = (LPCVOID)*puVar1;
      hFile = GetStdHandle(0xfffffff4);
      WriteFile(hFile,lpBuffer,sVar4,pDVar2,lpOverlapped);
    }
    else if (param_1 != 0xfc) {
      DVar3 = GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_1a8,0x104);
      if (DVar3 == 0) {
        FUN_10007090(local_1a8,(uint *)"<program name unknown>");
      }
      _Dest = local_1a8;
      sVar4 = _strlen((char *)local_1a8);
      if (0x3c < sVar4 + 1) {
        sVar4 = _strlen((char *)local_1a8);
        _Dest = (uint *)(auStackY_1e3 + sVar4);
        _strncpy((char *)_Dest,"...",3);
      }
      FUN_10007090(local_a4,(uint *)"Runtime Error!\n\nProgram: ");
      FUN_100070a0(local_a4,_Dest);
      FUN_100070a0(local_a4,(uint *)&DAT_100094a4);
      FUN_100070a0(local_a4,*(uint **)(iVar5 * 8 + 0x1000c2cc));
      auStackY_1e3._3_4_ = 0x1000607e;
      FUN_10007925(local_a4,"Microsoft Visual C++ Runtime Library",0x12010);
    }
  }
  return;
}



/*
 * Function: FUN_100060ad
 * Address: 100060ad
 */

void FUN_100060ad(void)

{
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c39c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c38c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c37c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c35c);
  return;
}



/*
 * Function: FUN_100060d6
 * Address: 100060d6
 */

void FUN_100060d6(void)

{
  undefined **ppuVar1;
  
  ppuVar1 = (undefined **)&DAT_1000c358;
  do {
    if (((((LPCRITICAL_SECTION)*ppuVar1 != (LPCRITICAL_SECTION)0x0) &&
         (ppuVar1 != &PTR_DAT_1000c39c)) && (ppuVar1 != &PTR_DAT_1000c38c)) &&
       ((ppuVar1 != &PTR_DAT_1000c37c && (ppuVar1 != &PTR_DAT_1000c35c)))) {
      DeleteCriticalSection((LPCRITICAL_SECTION)*ppuVar1);
      FUN_10004a01(*ppuVar1);
    }
    ppuVar1 = ppuVar1 + 1;
  } while ((int)ppuVar1 < 0x1000c418);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c37c);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c38c);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c39c);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000c35c);
  return;
}



/*
 * Function: FUN_10006142
 * Address: 10006142
 */

void __cdecl FUN_10006142(int param_1)

{
  int *piVar1;
  LPCRITICAL_SECTION lpCriticalSection;
  
  piVar1 = &DAT_1000c358 + param_1;
  if ((&DAT_1000c358)[param_1] == 0) {
    lpCriticalSection = (LPCRITICAL_SECTION)_malloc(0x18);
    if (lpCriticalSection == (LPCRITICAL_SECTION)0x0) {
      __amsg_exit(0x11);
    }
    FUN_10006142(0x11);
    if (*piVar1 == 0) {
      InitializeCriticalSection(lpCriticalSection);
      *piVar1 = (int)lpCriticalSection;
    }
    else {
      FUN_10004a01(lpCriticalSection);
    }
    FUN_100061a3(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)*piVar1);
  return;
}



/*
 * Function: FUN_100061a3
 * Address: 100061a3
 */

void __cdecl FUN_100061a3(int param_1)

{
  LeaveCriticalSection((LPCRITICAL_SECTION)(&DAT_1000c358)[param_1]);
  return;
}



/*
 * Function: FUN_100061b8
 * Address: 100061b8
 */

undefined4 FUN_100061b8(void)

{
  DAT_1000cb7c = HeapAlloc(DAT_1000cb80,0,0x140);
  if (DAT_1000cb7c == (LPVOID)0x0) {
    return 0;
  }
  DAT_1000cb74 = 0;
  DAT_1000cb78 = 0;
  DAT_1000cb70 = DAT_1000cb7c;
  DAT_1000cb68 = 0x10;
  return 1;
}



/*
 * Function: FUN_100061f6
 * Address: 100061f6
 */

uint __cdecl FUN_100061f6(int param_1)

{
  uint uVar1;
  
  uVar1 = DAT_1000cb7c;
  while( true ) {
    if (DAT_1000cb7c + DAT_1000cb78 * 0x14 <= uVar1) {
      return 0;
    }
    if ((uint)(param_1 - *(int *)(uVar1 + 0xc)) < 0x100000) break;
    uVar1 = uVar1 + 0x14;
  }
  return uVar1;
}



/*
 * Function: FUN_10006221
 * Address: 10006221
 */

void __cdecl FUN_10006221(uint *param_1,uint param_2)

{
  char *pcVar1;
  uint *puVar2;
  int *piVar3;
  char cVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte bVar8;
  int *piVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int local_10;
  
  uVar5 = param_1[4];
  iVar6 = *(int *)(param_2 - 4);
  piVar9 = (int *)(param_2 - 4);
  uVar10 = param_2 - param_1[3] >> 0xf;
  uVar7 = *(uint *)(param_2 - 8);
  local_10 = iVar6 + -1;
  piVar3 = (int *)(uVar10 * 0x204 + 0x144 + uVar5);
  uVar12 = *(uint *)(local_10 + (int)piVar9);
  if ((uVar12 & 1) == 0) {
    param_2 = ((int)uVar12 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    if (*(int *)(iVar6 + 3 + (int)piVar9) == *(int *)(iVar6 + 7 + (int)piVar9)) {
      if (param_2 < 0x20) {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar11;
        }
      }
      else {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar11;
        }
      }
    }
    *(undefined4 *)(*(int *)(iVar6 + 7 + (int)piVar9) + 4) =
         *(undefined4 *)(iVar6 + 3 + (int)piVar9);
    local_10 = local_10 + uVar12;
    *(undefined4 *)(*(int *)(iVar6 + 3 + (int)piVar9) + 8) =
         *(undefined4 *)(iVar6 + 7 + (int)piVar9);
  }
  uVar12 = (local_10 >> 4) - 1;
  if (0x3f < uVar12) {
    uVar12 = 0x3f;
  }
  if ((uVar7 & 1) == 0) {
    piVar9 = (int *)((int)piVar9 - uVar7);
    param_2 = ((int)uVar7 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    local_10 = local_10 + uVar7;
    uVar12 = (local_10 >> 4) - 1;
    if (0x3f < uVar12) {
      uVar12 = 0x3f;
    }
    if (param_2 != uVar12) {
      if (piVar9[1] == piVar9[2]) {
        if (param_2 < 0x20) {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            *param_1 = *param_1 & uVar11;
          }
        }
        else {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            param_1[1] = param_1[1] & uVar11;
          }
        }
      }
      *(int *)(piVar9[2] + 4) = piVar9[1];
      *(int *)(piVar9[1] + 8) = piVar9[2];
    }
  }
  if (((uVar7 & 1) != 0) || (param_2 != uVar12)) {
    piVar9[1] = piVar3[uVar12 * 2 + 1];
    piVar9[2] = (int)(piVar3 + uVar12 * 2);
    (piVar3 + uVar12 * 2)[1] = (int)piVar9;
    *(int **)(piVar9[1] + 8) = piVar9;
    if (piVar9[1] == piVar9[2]) {
      cVar4 = *(char *)(uVar12 + 4 + uVar5);
      *(char *)(uVar12 + 4 + uVar5) = cVar4 + '\x01';
      bVar8 = (byte)uVar12;
      if (uVar12 < 0x20) {
        if (cVar4 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar8 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 & 0x1f);
      }
      else {
        if (cVar4 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
      }
    }
  }
  *piVar9 = local_10;
  *(int *)(local_10 + -4 + (int)piVar9) = local_10;
  *piVar3 = *piVar3 + -1;
  uVar5 = DAT_1000cb6c;
  puVar2 = DAT_1000cb74;
  if ((*piVar3 == 0) && (uVar5 = uVar10, puVar2 = param_1, DAT_1000cb74 != (uint *)0x0)) {
    VirtualFree((LPVOID)(DAT_1000cb6c * 0x8000 + DAT_1000cb74[3]),0x8000,0x4000);
    DAT_1000cb74[2] = DAT_1000cb74[2] | 0x80000000U >> ((byte)DAT_1000cb6c & 0x1f);
    *(undefined4 *)(DAT_1000cb74[4] + 0xc4 + DAT_1000cb6c * 4) = 0;
    *(char *)(DAT_1000cb74[4] + 0x43) = *(char *)(DAT_1000cb74[4] + 0x43) + -1;
    if (*(char *)(DAT_1000cb74[4] + 0x43) == '\0') {
      DAT_1000cb74[1] = DAT_1000cb74[1] & 0xfffffffe;
    }
    puVar2 = param_1;
    if (DAT_1000cb74[2] == 0xffffffff) {
      VirtualFree((LPVOID)DAT_1000cb74[3],0,0x8000);
      HeapFree(DAT_1000cb80,0,(LPVOID)DAT_1000cb74[4]);
      FUN_10006b60(DAT_1000cb74,DAT_1000cb74 + 5,
                   (DAT_1000cb78 * 0x14 - (int)DAT_1000cb74) + -0x14 + DAT_1000cb7c);
      DAT_1000cb78 = DAT_1000cb78 + -1;
      if (DAT_1000cb74 < param_1) {
        param_1 = param_1 + -5;
      }
      DAT_1000cb70 = DAT_1000cb7c;
      puVar2 = param_1;
    }
  }
  DAT_1000cb74 = puVar2;
  DAT_1000cb6c = uVar5;
  return;
}



/*
 * Function: FUN_1000654c
 * Address: 1000654c
 */

int * __cdecl FUN_1000654c(uint *param_1)

{
  char *pcVar1;
  int *piVar2;
  char cVar3;
  int *piVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  uint *puVar8;
  int iVar9;
  int *piVar10;
  uint *puVar11;
  uint *puVar12;
  uint uVar13;
  int iVar14;
  uint local_10;
  uint local_c;
  int local_8;
  
  puVar8 = DAT_1000cb7c + DAT_1000cb78 * 5;
  uVar6 = (int)param_1 + 0x17U & 0xfffffff0;
  iVar7 = ((int)((int)param_1 + 0x17U) >> 4) + -1;
  bVar5 = (byte)iVar7;
  if (iVar7 < 0x20) {
    local_10 = 0xffffffff >> (bVar5 & 0x1f);
    local_c = 0xffffffff;
  }
  else {
    local_c = 0xffffffff >> (bVar5 - 0x20 & 0x1f);
    local_10 = 0;
  }
  param_1 = DAT_1000cb70;
  if (DAT_1000cb70 < puVar8) {
    do {
      if ((param_1[1] & local_c) != 0 || (*param_1 & local_10) != 0) break;
      param_1 = param_1 + 5;
    } while (param_1 < puVar8);
  }
  puVar11 = DAT_1000cb7c;
  if (param_1 == puVar8) {
    for (; (puVar11 < DAT_1000cb70 && ((puVar11[1] & local_c) == 0 && (*puVar11 & local_10) == 0));
        puVar11 = puVar11 + 5) {
    }
    param_1 = puVar11;
    if (puVar11 == DAT_1000cb70) {
      for (; (puVar11 < puVar8 && (puVar11[2] == 0)); puVar11 = puVar11 + 5) {
      }
      puVar12 = DAT_1000cb7c;
      param_1 = puVar11;
      if (puVar11 == puVar8) {
        for (; (puVar12 < DAT_1000cb70 && (puVar12[2] == 0)); puVar12 = puVar12 + 5) {
        }
        param_1 = puVar12;
        if ((puVar12 == DAT_1000cb70) && (param_1 = FUN_10006855(), param_1 == (uint *)0x0)) {
          return (int *)0x0;
        }
      }
      iVar7 = FUN_10006906((int)param_1);
      *(int *)param_1[4] = iVar7;
      if (*(int *)param_1[4] == -1) {
        return (int *)0x0;
      }
    }
  }
  piVar4 = (int *)param_1[4];
  local_8 = *piVar4;
  if ((local_8 == -1) ||
     ((piVar4[local_8 + 0x31] & local_c) == 0 && (piVar4[local_8 + 0x11] & local_10) == 0)) {
    local_8 = 0;
    puVar8 = (uint *)(piVar4 + 0x11);
    if ((piVar4[0x31] & local_c) == 0 && (piVar4[0x11] & local_10) == 0) {
      do {
        puVar11 = puVar8 + 0x21;
        local_8 = local_8 + 1;
        puVar8 = puVar8 + 1;
      } while ((*puVar11 & local_c) == 0 && (local_10 & *puVar8) == 0);
    }
  }
  iVar7 = 0;
  piVar2 = piVar4 + local_8 * 0x81 + 0x51;
  local_10 = piVar4[local_8 + 0x11] & local_10;
  if (local_10 == 0) {
    local_10 = piVar4[local_8 + 0x31] & local_c;
    iVar7 = 0x20;
  }
  for (; -1 < (int)local_10; local_10 = local_10 << 1) {
    iVar7 = iVar7 + 1;
  }
  piVar10 = (int *)piVar2[iVar7 * 2 + 1];
  iVar9 = *piVar10 - uVar6;
  iVar14 = (iVar9 >> 4) + -1;
  if (0x3f < iVar14) {
    iVar14 = 0x3f;
  }
  DAT_1000cb70 = param_1;
  if (iVar14 != iVar7) {
    if (piVar10[1] == piVar10[2]) {
      if (iVar7 < 0x20) {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 & 0x1f));
        piVar4[local_8 + 0x11] = uVar13 & piVar4[local_8 + 0x11];
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar13;
        }
      }
      else {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 - 0x20 & 0x1f));
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] & uVar13;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar13;
        }
      }
    }
    *(int *)(piVar10[2] + 4) = piVar10[1];
    *(int *)(piVar10[1] + 8) = piVar10[2];
    if (iVar9 == 0) goto LAB_10006812;
    piVar10[1] = piVar2[iVar14 * 2 + 1];
    piVar10[2] = (int)(piVar2 + iVar14 * 2);
    (piVar2 + iVar14 * 2)[1] = (int)piVar10;
    *(int **)(piVar10[1] + 8) = piVar10;
    if (piVar10[1] == piVar10[2]) {
      cVar3 = *(char *)(iVar14 + 4 + (int)piVar4);
      bVar5 = (byte)iVar14;
      if (iVar14 < 0x20) {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar5 & 0x1f);
        }
        piVar4[local_8 + 0x11] = piVar4[local_8 + 0x11] | 0x80000000U >> (bVar5 & 0x1f);
      }
      else {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
        }
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
      }
    }
  }
  if (iVar9 != 0) {
    *piVar10 = iVar9;
    *(int *)(iVar9 + -4 + (int)piVar10) = iVar9;
  }
LAB_10006812:
  piVar10 = (int *)((int)piVar10 + iVar9);
  *piVar10 = uVar6 + 1;
  *(uint *)((int)piVar10 + (uVar6 - 4)) = uVar6 + 1;
  iVar7 = *piVar2;
  *piVar2 = iVar7 + 1;
  if (((iVar7 == 0) && (param_1 == DAT_1000cb74)) && (local_8 == DAT_1000cb6c)) {
    DAT_1000cb74 = (uint *)0x0;
  }
  *piVar4 = local_8;
  return piVar10 + 1;
}



/*
 * Function: FUN_10006855
 * Address: 10006855
 */

undefined4 * FUN_10006855(void)

{
  undefined4 *puVar1;
  LPVOID pvVar2;
  
  if (DAT_1000cb78 == DAT_1000cb68) {
    pvVar2 = HeapReAlloc(DAT_1000cb80,0,DAT_1000cb7c,(DAT_1000cb68 * 5 + 0x50) * 4);
    if (pvVar2 == (LPVOID)0x0) {
      return (undefined4 *)0x0;
    }
    DAT_1000cb68 = DAT_1000cb68 + 0x10;
    DAT_1000cb7c = pvVar2;
  }
  puVar1 = (undefined4 *)((int)DAT_1000cb7c + DAT_1000cb78 * 0x14);
  pvVar2 = HeapAlloc(DAT_1000cb80,8,0x41c4);
  puVar1[4] = pvVar2;
  if (pvVar2 != (LPVOID)0x0) {
    pvVar2 = VirtualAlloc((LPVOID)0x0,0x100000,0x2000,4);
    puVar1[3] = pvVar2;
    if (pvVar2 != (LPVOID)0x0) {
      puVar1[2] = 0xffffffff;
      *puVar1 = 0;
      puVar1[1] = 0;
      DAT_1000cb78 = DAT_1000cb78 + 1;
      *(undefined4 *)puVar1[4] = 0xffffffff;
      return puVar1;
    }
    HeapFree(DAT_1000cb80,0,(LPVOID)puVar1[4]);
  }
  return (undefined4 *)0x0;
}



/*
 * Function: FUN_10006906
 * Address: 10006906
 */

int __cdecl FUN_10006906(int param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  LPVOID pvVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int *lpAddress;
  
  iVar3 = *(int *)(param_1 + 0x10);
  iVar9 = 0;
  for (iVar4 = *(int *)(param_1 + 8); -1 < iVar4; iVar4 = iVar4 << 1) {
    iVar9 = iVar9 + 1;
  }
  iVar8 = 0x3f;
  iVar4 = iVar9 * 0x204 + 0x144 + iVar3;
  iVar5 = iVar4;
  do {
    *(int *)(iVar5 + 8) = iVar5;
    *(int *)(iVar5 + 4) = iVar5;
    iVar5 = iVar5 + 8;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  lpAddress = (int *)(iVar9 * 0x8000 + *(int *)(param_1 + 0xc));
  pvVar6 = VirtualAlloc(lpAddress,0x8000,0x1000,4);
  if (pvVar6 == (LPVOID)0x0) {
    iVar9 = -1;
  }
  else {
    if (lpAddress <= lpAddress + 0x1c00) {
      piVar7 = lpAddress + 4;
      do {
        piVar7[-2] = -1;
        piVar7[0x3fb] = -1;
        piVar7[-1] = 0xff0;
        *piVar7 = (int)(piVar7 + 0x3ff);
        piVar7[1] = (int)(piVar7 + -0x401);
        piVar7[0x3fa] = 0xff0;
        piVar1 = piVar7 + 0x3fc;
        piVar7 = piVar7 + 0x400;
      } while (piVar1 <= lpAddress + 0x1c00);
    }
    *(int **)(iVar4 + 0x1fc) = lpAddress + 3;
    lpAddress[5] = iVar4 + 0x1f8;
    *(int **)(iVar4 + 0x200) = lpAddress + 0x1c03;
    lpAddress[0x1c04] = iVar4 + 0x1f8;
    *(undefined4 *)(iVar3 + 0x44 + iVar9 * 4) = 0;
    *(undefined4 *)(iVar3 + 0xc4 + iVar9 * 4) = 1;
    cVar2 = *(char *)(iVar3 + 0x43);
    *(char *)(iVar3 + 0x43) = cVar2 + '\x01';
    if (cVar2 == '\0') {
      *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 1;
    }
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) & ~(0x80000000U >> ((byte)iVar9 & 0x1f));
  }
  return iVar9;
}



/*
 * Function: FUN_10006a01
 * Address: 10006a01
 */

undefined4 __cdecl FUN_10006a01(undefined4 param_1)

{
  int iVar1;
  
  if (DAT_1000c8e4 != (code *)0x0) {
    iVar1 = (*DAT_1000c8e4)(param_1);
    if (iVar1 != 0) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_10006a1c
 * Address: 10006a1c
 */

int FUN_10006a1c(int *param_1)

{
  int *piVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  
  piVar1 = (int *)*param_1;
  if (((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) {
    iVar3 = FUN_100054b8();
    return iVar3;
  }
  if ((DAT_1000c8e8 != (FARPROC)0x0) &&
     (bVar2 = FUN_10006ab8(DAT_1000c8e8), CONCAT31(extraout_var,bVar2) != 0)) {
    iVar3 = (*DAT_1000c8e8)(param_1);
    return iVar3;
  }
  return 0;
}



/*
 * Function: FUN_10006a80
 * Address: 10006a80
 */

bool __cdecl FUN_10006a80(void *param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadReadPtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_10006a9c
 * Address: 10006a9c
 */

bool __cdecl FUN_10006a9c(LPVOID param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadWritePtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_10006ab8
 * Address: 10006ab8
 */

bool __cdecl FUN_10006ab8(FARPROC param_1)

{
  BOOL BVar1;
  
  BVar1 = IsBadCodePtr(param_1);
  return BVar1 == 0;
}



/*
 * Function: _strcmp
 * Address: 10006ad0
 */

/* Library Function - Single Match
    _strcmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strcmp(char *_Str1,char *_Str2)

{
  undefined2 uVar1;
  undefined4 uVar2;
  byte bVar3;
  byte bVar4;
  bool bVar5;
  
  if (((uint)_Str1 & 3) != 0) {
    if (((uint)_Str1 & 1) != 0) {
      bVar4 = *_Str1;
      _Str1 = _Str1 + 1;
      bVar5 = bVar4 < (byte)*_Str2;
      if (bVar4 != *_Str2) goto LAB_10006b14;
      _Str2 = _Str2 + 1;
      if (bVar4 == 0) {
        return 0;
      }
      if (((uint)_Str1 & 2) == 0) goto LAB_10006ae0;
    }
    uVar1 = *(undefined2 *)_Str1;
    _Str1 = _Str1 + 2;
    bVar4 = (byte)uVar1;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) goto LAB_10006b14;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((ushort)uVar1 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) goto LAB_10006b14;
    if (bVar4 == 0) {
      return 0;
    }
    _Str2 = (char *)((byte *)_Str2 + 2);
  }
LAB_10006ae0:
  while( true ) {
    uVar2 = *(undefined4 *)_Str1;
    bVar4 = (byte)uVar2;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 0x10);
    bVar5 = bVar4 < ((byte *)_Str2)[2];
    if (bVar4 != ((byte *)_Str2)[2]) break;
    bVar3 = (byte)((uint)uVar2 >> 0x18);
    if (bVar4 == 0) {
      return 0;
    }
    bVar5 = bVar3 < ((byte *)_Str2)[3];
    if (bVar3 != ((byte *)_Str2)[3]) break;
    _Str2 = (char *)((byte *)_Str2 + 4);
    _Str1 = _Str1 + 4;
    if (bVar3 == 0) {
      return 0;
    }
  }
LAB_10006b14:
  return (uint)bVar5 * -2 + 1;
}



/*
 * Function: FUN_10006b60
 * Address: 10006b60
 */

undefined4 * __cdecl FUN_10006b60(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_10006d17_caseD_2;
        case 3:
          goto switchD_10006d17_caseD_3;
        }
        goto switchD_10006d17_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_10006d17_caseD_0;
      case 1:
        goto switchD_10006d17_caseD_1;
      case 2:
        goto switchD_10006d17_caseD_2;
      case 3:
        goto switchD_10006d17_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_10006d17_caseD_2;
            case 3:
              goto switchD_10006d17_caseD_3;
            }
            goto switchD_10006d17_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_10006d17_caseD_2;
            case 3:
              goto switchD_10006d17_caseD_3;
            }
            goto switchD_10006d17_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_10006d17_caseD_2;
            case 3:
              goto switchD_10006d17_caseD_3;
            }
            goto switchD_10006d17_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_10006d17_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_10006d17_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_10006d17_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_10006d17_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_10006b95_caseD_2;
      case 3:
        goto switchD_10006b95_caseD_3;
      }
      goto switchD_10006b95_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_10006b95_caseD_0;
    case 1:
      goto switchD_10006b95_caseD_1;
    case 2:
      goto switchD_10006b95_caseD_2;
    case 3:
      goto switchD_10006b95_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10006b95_caseD_2;
          case 3:
            goto switchD_10006b95_caseD_3;
          }
          goto switchD_10006b95_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10006b95_caseD_2;
          case 3:
            goto switchD_10006b95_caseD_3;
          }
          goto switchD_10006b95_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10006b95_caseD_2;
          case 3:
            goto switchD_10006b95_caseD_3;
          }
          goto switchD_10006b95_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_10006b95_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_10006b95_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_10006b95_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_10006b95_caseD_0:
  return param_1;
}



/*
 * Function: FUN_10006e95
 * Address: 10006e95
 */

int * __cdecl FUN_10006e95(int param_1,int param_2)

{
  int iVar1;
  uint *_Size;
  uint *puVar2;
  int *piVar3;
  
  _Size = (uint *)(param_1 * param_2);
  puVar2 = _Size;
  if (_Size < (uint *)0xffffffe1) {
    if (_Size == (uint *)0x0) {
      puVar2 = (uint *)0x1;
    }
    puVar2 = (uint *)((int)puVar2 + 0xfU & 0xfffffff0);
  }
  do {
    piVar3 = (int *)0x0;
    if (puVar2 < (uint *)0xffffffe1) {
      if (_Size < DAT_1000c418 || (int)_Size - (int)DAT_1000c418 == 0) {
        FUN_10006142(9);
        piVar3 = FUN_1000654c(_Size);
        FUN_100061a3(9);
        if (piVar3 != (int *)0x0) {
          _memset(piVar3,0,(size_t)_Size);
          return piVar3;
        }
      }
      piVar3 = (int *)HeapAlloc(DAT_1000cb80,8,(SIZE_T)puVar2);
      if (piVar3 != (int *)0x0) {
        return piVar3;
      }
    }
    if (DAT_1000c8e0 == 0) {
      return piVar3;
    }
    iVar1 = FUN_10006a01(puVar2);
  } while (iVar1 != 0);
  return (int *)0x0;
}



/*
 * Function: FUN_10006f22
 * Address: 10006f22
 */

void FUN_10006f22(void)

{
  FUN_10005f5a(10);
  FUN_10007b08((DWORD *)0x16);
                    /* WARNING: Subroutine does not return */
  __exit(3);
}



/*
 * Function: FUN_10006f39
 * Address: 10006f39
 */

BOOL __cdecl
FUN_10006f39(DWORD param_1,LPCSTR param_2,int param_3,LPWORD param_4,UINT param_5,LCID param_6,
            int param_7)

{
  undefined *puVar1;
  BOOL BVar2;
  int iVar3;
  undefined unaff_DI;
  WORD local_20 [2];
  undefined *local_1c;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_100094e8;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  local_1c = &stack0xffffffc8;
  iVar3 = DAT_1000c8ec;
  ExceptionList = &local_14;
  puVar1 = &stack0xffffffc8;
  if (DAT_1000c8ec == 0) {
    ExceptionList = &local_14;
    BVar2 = GetStringTypeW(1,L"",1,local_20);
    iVar3 = 1;
    puVar1 = local_1c;
    if (BVar2 == 0) {
      BVar2 = GetStringTypeA(0,1,"",1,local_20);
      if (BVar2 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      iVar3 = 2;
      puVar1 = local_1c;
    }
  }
  local_1c = puVar1;
  DAT_1000c8ec = iVar3;
  if (DAT_1000c8ec != 2) {
    if (DAT_1000c8ec == 1) {
      if (param_5 == 0) {
        param_5 = DAT_1000c92c;
      }
      iVar3 = MultiByteToWideChar(param_5,(-(uint)(param_7 != 0) & 8) + 1,param_2,param_3,
                                  (LPWSTR)0x0,0);
      if (iVar3 != 0) {
        local_8 = 0;
        FUN_10007cd0(unaff_DI);
        local_1c = &stack0xffffffc8;
        _memset(&stack0xffffffc8,0,iVar3 * 2);
        local_8 = 0xffffffff;
        if ((&stack0x00000000 != (undefined *)0x38) &&
           (iVar3 = MultiByteToWideChar(param_5,1,param_2,param_3,(LPWSTR)&stack0xffffffc8,iVar3),
           iVar3 != 0)) {
          BVar2 = GetStringTypeW(param_1,(LPCWSTR)&stack0xffffffc8,iVar3,param_4);
          ExceptionList = local_14;
          return BVar2;
        }
      }
    }
    ExceptionList = local_14;
    return 0;
  }
  if (param_6 == 0) {
    param_6 = DAT_1000c91c;
  }
  BVar2 = GetStringTypeA(param_6,param_1,param_2,param_3,param_4);
  ExceptionList = local_14;
  return BVar2;
}



/*
 * Function: FUN_10007090
 * Address: 10007090
 */

uint * __cdecl FUN_10007090(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  
  uVar3 = (uint)param_2 & 3;
  puVar4 = param_1;
  while (uVar3 != 0) {
    bVar1 = *(byte *)param_2;
    uVar3 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_10007178;
    *(byte *)puVar4 = bVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    uVar3 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar3 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar3 == '\0') {
LAB_10007178:
        *(byte *)puVar4 = (byte)uVar3;
        return param_1;
      }
      if ((char)(uVar3 >> 8) == '\0') {
        *(short *)puVar4 = (short)uVar3;
        return param_1;
      }
      if ((uVar3 & 0xff0000) == 0) {
        *(short *)puVar4 = (short)uVar3;
        *(byte *)((int)puVar4 + 2) = 0;
        return param_1;
      }
      if ((uVar3 & 0xff000000) == 0) {
        *puVar4 = uVar3;
        return param_1;
      }
    }
    *puVar4 = uVar3;
    puVar4 = puVar4 + 1;
  } while( true );
}



/*
 * Function: FUN_100070a0
 * Address: 100070a0
 */

uint * __cdecl FUN_100070a0(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint *puVar5;
  
  uVar4 = (uint)param_1 & 3;
  puVar3 = param_1;
  while (uVar4 != 0) {
    bVar1 = *(byte *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (bVar1 == 0) goto LAB_100070ef;
    uVar4 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar5 = puVar3;
      puVar3 = puVar5 + 1;
    } while (((*puVar5 ^ 0xffffffff ^ *puVar5 + 0x7efefeff) & 0x81010100) == 0);
    uVar4 = *puVar5;
    if ((char)uVar4 == '\0') goto LAB_10007101;
    if ((char)(uVar4 >> 8) == '\0') {
      puVar5 = (uint *)((int)puVar5 + 1);
      goto LAB_10007101;
    }
    if ((uVar4 & 0xff0000) == 0) {
      puVar5 = (uint *)((int)puVar5 + 2);
      goto LAB_10007101;
    }
  } while ((uVar4 & 0xff000000) != 0);
LAB_100070ef:
  puVar5 = (uint *)((int)puVar3 + -1);
LAB_10007101:
  uVar4 = (uint)param_2 & 3;
  while (uVar4 != 0) {
    bVar1 = *(byte *)param_2;
    uVar4 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_10007178;
    *(byte *)puVar5 = bVar1;
    puVar5 = (uint *)((int)puVar5 + 1);
    uVar4 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar4 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar4 == '\0') {
LAB_10007178:
        *(byte *)puVar5 = (byte)uVar4;
        return param_1;
      }
      if ((char)(uVar4 >> 8) == '\0') {
        *(short *)puVar5 = (short)uVar4;
        return param_1;
      }
      if ((uVar4 & 0xff0000) == 0) {
        *(short *)puVar5 = (short)uVar4;
        *(byte *)((int)puVar5 + 2) = 0;
        return param_1;
      }
      if ((uVar4 & 0xff000000) == 0) {
        *puVar5 = uVar4;
        return param_1;
      }
    }
    *puVar5 = uVar4;
    puVar5 = puVar5 + 1;
  } while( true );
}



/*
 * Function: _strlen
 * Address: 10007180
 */

/* Library Function - Single Match
    _strlen
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

size_t __cdecl _strlen(char *_Str)

{
  char cVar1;
  uint uVar2;
  uint *puVar3;
  uint *puVar4;
  
  uVar2 = (uint)_Str & 3;
  puVar3 = (uint *)_Str;
  while (uVar2 != 0) {
    cVar1 = *(char *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (cVar1 == '\0') goto LAB_100071d3;
    uVar2 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar4 = puVar3;
      puVar3 = puVar4 + 1;
    } while (((*puVar4 ^ 0xffffffff ^ *puVar4 + 0x7efefeff) & 0x81010100) == 0);
    uVar2 = *puVar4;
    if ((char)uVar2 == '\0') {
      return (int)puVar4 - (int)_Str;
    }
    if ((char)(uVar2 >> 8) == '\0') {
      return (size_t)((int)puVar4 + (1 - (int)_Str));
    }
    if ((uVar2 & 0xff0000) == 0) {
      return (size_t)((int)puVar4 + (2 - (int)_Str));
    }
  } while ((uVar2 & 0xff000000) != 0);
LAB_100071d3:
  return (size_t)((int)puVar3 + (-1 - (int)_Str));
}



/*
 * Function: FUN_100071fb
 * Address: 100071fb
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __cdecl FUN_100071fb(int param_1)

{
  BYTE *pBVar1;
  byte bVar2;
  byte bVar3;
  UINT CodePage;
  UINT *pUVar4;
  BOOL BVar5;
  uint uVar6;
  uint uVar7;
  BYTE *pBVar8;
  int iVar9;
  byte *pbVar10;
  int iVar11;
  byte *pbVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  _cpinfo local_1c;
  uint local_8;
  
  FUN_10006142(0x19);
  CodePage = FUN_100073a8(param_1);
  if (CodePage != DAT_1000c938) {
    if (CodePage != 0) {
      iVar11 = 0;
      pUVar4 = &DAT_1000c4b8;
LAB_10007238:
      if (*pUVar4 != CodePage) goto code_r0x1000723c;
      local_8 = 0;
      puVar14 = (undefined4 *)&DAT_1000ca60;
      for (iVar9 = 0x40; iVar9 != 0; iVar9 = iVar9 + -1) {
        *puVar14 = 0;
        puVar14 = puVar14 + 1;
      }
      *(undefined *)puVar14 = 0;
      pbVar12 = &DAT_1000c4c8 + iVar11 * 0x30;
      do {
        bVar2 = *pbVar12;
        pbVar10 = pbVar12;
        while ((bVar2 != 0 && (bVar2 = pbVar10[1], bVar2 != 0))) {
          uVar7 = (uint)*pbVar10;
          if (uVar7 <= bVar2) {
            bVar3 = (&DAT_1000c4b0)[local_8];
            do {
              (&DAT_1000ca61)[uVar7] = (&DAT_1000ca61)[uVar7] | bVar3;
              uVar7 = uVar7 + 1;
            } while (uVar7 <= bVar2);
          }
          pbVar10 = pbVar10 + 2;
          bVar2 = *pbVar10;
        }
        local_8 = local_8 + 1;
        pbVar12 = pbVar12 + 8;
      } while (local_8 < 4);
      _DAT_1000c94c = 1;
      DAT_1000c938 = CodePage;
      DAT_1000cb64 = FUN_100073f2(CodePage);
      DAT_1000c940 = (&DAT_1000c4bc)[iVar11 * 0xc];
      DAT_1000c944 = (&DAT_1000c4c0)[iVar11 * 0xc];
      DAT_1000c948 = (&DAT_1000c4c4)[iVar11 * 0xc];
      goto LAB_1000738c;
    }
    goto LAB_10007387;
  }
  goto LAB_10007222;
code_r0x1000723c:
  pUVar4 = pUVar4 + 0xc;
  iVar11 = iVar11 + 1;
  if (0x1000c5a7 < (int)pUVar4) goto code_r0x10007247;
  goto LAB_10007238;
code_r0x10007247:
  BVar5 = GetCPInfo(CodePage,&local_1c);
  uVar7 = 1;
  if (BVar5 == 1) {
    DAT_1000cb64 = 0;
    puVar14 = (undefined4 *)&DAT_1000ca60;
    for (iVar11 = 0x40; iVar11 != 0; iVar11 = iVar11 + -1) {
      *puVar14 = 0;
      puVar14 = puVar14 + 1;
    }
    *(undefined *)puVar14 = 0;
    if (local_1c.MaxCharSize < 2) {
      _DAT_1000c94c = 0;
      DAT_1000c938 = CodePage;
    }
    else {
      DAT_1000c938 = CodePage;
      if (local_1c.LeadByte[0] != '\0') {
        pBVar8 = local_1c.LeadByte + 1;
        do {
          bVar2 = *pBVar8;
          if (bVar2 == 0) break;
          for (uVar6 = (uint)pBVar8[-1]; uVar6 <= bVar2; uVar6 = uVar6 + 1) {
            (&DAT_1000ca61)[uVar6] = (&DAT_1000ca61)[uVar6] | 4;
          }
          pBVar1 = pBVar8 + 1;
          pBVar8 = pBVar8 + 2;
        } while (*pBVar1 != 0);
      }
      do {
        (&DAT_1000ca61)[uVar7] = (&DAT_1000ca61)[uVar7] | 8;
        uVar7 = uVar7 + 1;
      } while (uVar7 < 0xff);
      DAT_1000cb64 = FUN_100073f2(CodePage);
      _DAT_1000c94c = 1;
    }
    DAT_1000c940 = 0;
    DAT_1000c944 = 0;
    DAT_1000c948 = 0;
  }
  else {
    if (DAT_1000c8f0 == 0) {
      uVar13 = 0xffffffff;
      goto LAB_10007399;
    }
LAB_10007387:
    FUN_10007425();
  }
LAB_1000738c:
  FUN_1000744e();
LAB_10007222:
  uVar13 = 0;
LAB_10007399:
  FUN_100061a3(0x19);
  return uVar13;
}



/*
 * Function: FUN_100073a8
 * Address: 100073a8
 */

int __cdecl FUN_100073a8(int param_1)

{
  int iVar1;
  bool bVar2;
  
  if (param_1 == -2) {
    DAT_1000c8f0 = 1;
                    /* WARNING: Could not recover jumptable at 0x100073c2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetOEMCP();
    return iVar1;
  }
  if (param_1 == -3) {
    DAT_1000c8f0 = 1;
                    /* WARNING: Could not recover jumptable at 0x100073d7. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetACP();
    return iVar1;
  }
  bVar2 = param_1 == -4;
  if (bVar2) {
    param_1 = DAT_1000c92c;
  }
  DAT_1000c8f0 = (uint)bVar2;
  return param_1;
}



/*
 * Function: FUN_100073f2
 * Address: 100073f2
 */

undefined4 __cdecl FUN_100073f2(int param_1)

{
  if (param_1 == 0x3a4) {
    return 0x411;
  }
  if (param_1 == 0x3a8) {
    return 0x804;
  }
  if (param_1 == 0x3b5) {
    return 0x412;
  }
  if (param_1 != 0x3b6) {
    return 0;
  }
  return 0x404;
}



/*
 * Function: FUN_10007425
 * Address: 10007425
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10007425(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)&DAT_1000ca60;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  *(undefined *)puVar2 = 0;
  DAT_1000c938 = 0;
  _DAT_1000c94c = 0;
  DAT_1000cb64 = 0;
  DAT_1000c940 = 0;
  DAT_1000c944 = 0;
  DAT_1000c948 = 0;
  return;
}



/*
 * Function: FUN_1000744e
 * Address: 1000744e
 */

void FUN_1000744e(void)

{
  BOOL BVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  ushort *puVar6;
  undefined uVar7;
  BYTE *pBVar8;
  CHAR *pCVar9;
  WORD local_518 [256];
  WCHAR local_318 [128];
  WCHAR local_218 [128];
  CHAR local_118 [256];
  _cpinfo local_18;
  
  BVar1 = GetCPInfo(DAT_1000c938,&local_18);
  if (BVar1 == 1) {
    uVar2 = 0;
    do {
      local_118[uVar2] = (CHAR)uVar2;
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
    local_118[0] = ' ';
    if (local_18.LeadByte[0] != 0) {
      pBVar8 = local_18.LeadByte + 1;
      do {
        uVar2 = (uint)local_18.LeadByte[0];
        if (uVar2 <= *pBVar8) {
          uVar4 = (*pBVar8 - uVar2) + 1;
          uVar5 = uVar4 >> 2;
          pCVar9 = local_118 + uVar2;
          while (uVar5 != 0) {
            uVar5 = uVar5 - 1;
            builtin_memcpy(pCVar9,"    ",4);
            pCVar9 = pCVar9 + 4;
          }
          for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
            *pCVar9 = ' ';
            pCVar9 = pCVar9 + 1;
          }
        }
        local_18.LeadByte[0] = pBVar8[1];
        pBVar8 = pBVar8 + 2;
      } while (local_18.LeadByte[0] != 0);
    }
    FUN_10006f39(1,local_118,0x100,local_518,DAT_1000c938,DAT_1000cb64,0);
    FUN_10007cff(DAT_1000cb64,0x100,local_118,0x100,local_218,0x100,DAT_1000c938,0);
    FUN_10007cff(DAT_1000cb64,0x200,local_118,0x100,local_318,0x100,DAT_1000c938,0);
    uVar2 = 0;
    puVar6 = local_518;
    do {
      if ((*puVar6 & 1) == 0) {
        if ((*puVar6 & 2) != 0) {
          (&DAT_1000ca61)[uVar2] = (&DAT_1000ca61)[uVar2] | 0x20;
          uVar7 = *(undefined *)((int)local_318 + uVar2);
          goto LAB_1000755a;
        }
        (&DAT_1000c960)[uVar2] = 0;
      }
      else {
        (&DAT_1000ca61)[uVar2] = (&DAT_1000ca61)[uVar2] | 0x10;
        uVar7 = *(undefined *)((int)local_218 + uVar2);
LAB_1000755a:
        (&DAT_1000c960)[uVar2] = uVar7;
      }
      uVar2 = uVar2 + 1;
      puVar6 = puVar6 + 1;
    } while (uVar2 < 0x100);
  }
  else {
    uVar2 = 0;
    do {
      if ((uVar2 < 0x41) || (0x5a < uVar2)) {
        if ((0x60 < uVar2) && (uVar2 < 0x7b)) {
          (&DAT_1000ca61)[uVar2] = (&DAT_1000ca61)[uVar2] | 0x20;
          cVar3 = (char)uVar2 + -0x20;
          goto LAB_100075a4;
        }
        (&DAT_1000c960)[uVar2] = 0;
      }
      else {
        (&DAT_1000ca61)[uVar2] = (&DAT_1000ca61)[uVar2] | 0x10;
        cVar3 = (char)uVar2 + ' ';
LAB_100075a4:
        (&DAT_1000c960)[uVar2] = cVar3;
      }
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
  }
  return;
}



/*
 * Function: FUN_100075d3
 * Address: 100075d3
 */

void FUN_100075d3(void)

{
  if (DAT_1000cca8 == 0) {
    FUN_100071fb(-3);
    DAT_1000cca8 = 1;
  }
  return;
}



/*
 * Function: FUN_100075f0
 * Address: 100075f0
 */

undefined4 * __cdecl FUN_100075f0(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_100077a7_caseD_2;
        case 3:
          goto switchD_100077a7_caseD_3;
        }
        goto switchD_100077a7_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_100077a7_caseD_0;
      case 1:
        goto switchD_100077a7_caseD_1;
      case 2:
        goto switchD_100077a7_caseD_2;
      case 3:
        goto switchD_100077a7_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100077a7_caseD_2;
            case 3:
              goto switchD_100077a7_caseD_3;
            }
            goto switchD_100077a7_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100077a7_caseD_2;
            case 3:
              goto switchD_100077a7_caseD_3;
            }
            goto switchD_100077a7_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100077a7_caseD_2;
            case 3:
              goto switchD_100077a7_caseD_3;
            }
            goto switchD_100077a7_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_100077a7_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_100077a7_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_100077a7_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_100077a7_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_10007625_caseD_2;
      case 3:
        goto switchD_10007625_caseD_3;
      }
      goto switchD_10007625_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_10007625_caseD_0;
    case 1:
      goto switchD_10007625_caseD_1;
    case 2:
      goto switchD_10007625_caseD_2;
    case 3:
      goto switchD_10007625_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007625_caseD_2;
          case 3:
            goto switchD_10007625_caseD_3;
          }
          goto switchD_10007625_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007625_caseD_2;
          case 3:
            goto switchD_10007625_caseD_3;
          }
          goto switchD_10007625_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007625_caseD_2;
          case 3:
            goto switchD_10007625_caseD_3;
          }
          goto switchD_10007625_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_10007625_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_10007625_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_10007625_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_10007625_caseD_0:
  return param_1;
}



/*
 * Function: FUN_10007925
 * Address: 10007925
 */

int __cdecl FUN_10007925(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  HMODULE hModule;
  int iVar1;
  
  iVar1 = 0;
  if (DAT_1000c8f4 == (FARPROC)0x0) {
    hModule = LoadLibraryA("user32.dll");
    if (hModule != (HMODULE)0x0) {
      DAT_1000c8f4 = GetProcAddress(hModule,"MessageBoxA");
      if (DAT_1000c8f4 != (FARPROC)0x0) {
        DAT_1000c8f8 = GetProcAddress(hModule,"GetActiveWindow");
        DAT_1000c8fc = GetProcAddress(hModule,"GetLastActivePopup");
        goto LAB_10007974;
      }
    }
    iVar1 = 0;
  }
  else {
LAB_10007974:
    if (DAT_1000c8f8 != (FARPROC)0x0) {
      iVar1 = (*DAT_1000c8f8)();
      if ((iVar1 != 0) && (DAT_1000c8fc != (FARPROC)0x0)) {
        iVar1 = (*DAT_1000c8fc)(iVar1);
      }
    }
    iVar1 = (*DAT_1000c8f4)(iVar1,param_1,param_2,param_3);
  }
  return iVar1;
}



/*
 * Function: _strncpy
 * Address: 100079b0
 */

/* Library Function - Single Match
    _strncpy
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

char * __cdecl _strncpy(char *_Dest,char *_Source,size_t _Count)

{
  uint uVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint *puVar5;
  
  if (_Count == 0) {
    return _Dest;
  }
  puVar5 = (uint *)_Dest;
  if (((uint)_Source & 3) != 0) {
    while( true ) {
      cVar3 = *_Source;
      _Source = (char *)((int)_Source + 1);
      *(char *)puVar5 = cVar3;
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
      if (_Count == 0) {
        return _Dest;
      }
      if (cVar3 == '\0') break;
      if (((uint)_Source & 3) == 0) {
        uVar4 = _Count >> 2;
        goto joined_r0x100079ee;
      }
    }
    do {
      if (((uint)puVar5 & 3) == 0) {
        uVar4 = _Count >> 2;
        cVar3 = '\0';
        if (uVar4 == 0) goto LAB_10007a2b;
        goto LAB_10007a99;
      }
      *(char *)puVar5 = '\0';
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
    } while (_Count != 0);
    return _Dest;
  }
  uVar4 = _Count >> 2;
  if (uVar4 != 0) {
    do {
      uVar1 = *(uint *)_Source;
      uVar2 = *(uint *)_Source;
      _Source = (char *)((int)_Source + 4);
      if (((uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff) & 0x81010100) != 0) {
        if ((char)uVar2 == '\0') {
          *puVar5 = 0;
joined_r0x10007a95:
          while( true ) {
            uVar4 = uVar4 - 1;
            puVar5 = puVar5 + 1;
            if (uVar4 == 0) break;
LAB_10007a99:
            *puVar5 = 0;
          }
          cVar3 = '\0';
          _Count = _Count & 3;
          if (_Count != 0) goto LAB_10007a2b;
          return _Dest;
        }
        if ((char)(uVar2 >> 8) == '\0') {
          *puVar5 = uVar2 & 0xff;
          goto joined_r0x10007a95;
        }
        if ((uVar2 & 0xff0000) == 0) {
          *puVar5 = uVar2 & 0xffff;
          goto joined_r0x10007a95;
        }
        if ((uVar2 & 0xff000000) == 0) {
          *puVar5 = uVar2;
          goto joined_r0x10007a95;
        }
      }
      *puVar5 = uVar2;
      puVar5 = puVar5 + 1;
      uVar4 = uVar4 - 1;
joined_r0x100079ee:
    } while (uVar4 != 0);
    _Count = _Count & 3;
    if (_Count == 0) {
      return _Dest;
    }
  }
  do {
    cVar3 = *_Source;
    _Source = (char *)((int)_Source + 1);
    *(char *)puVar5 = cVar3;
    puVar5 = (uint *)((int)puVar5 + 1);
    if (cVar3 == '\0') {
      while (_Count = _Count - 1, _Count != 0) {
LAB_10007a2b:
        *(char *)puVar5 = cVar3;
        puVar5 = (uint *)((int)puVar5 + 1);
      }
      return _Dest;
    }
    _Count = _Count - 1;
  } while (_Count != 0);
  return _Dest;
}



/*
 * Function: _memset
 * Address: 10007ab0
 */

/* Library Function - Single Match
    _memset
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

void * __cdecl _memset(void *_Dst,int _Val,size_t _Size)

{
  uint uVar1;
  uint uVar2;
  size_t sVar3;
  uint *puVar4;
  
  if (_Size == 0) {
    return _Dst;
  }
  uVar1 = _Val & 0xff;
  puVar4 = (uint *)_Dst;
  if (3 < _Size) {
    uVar2 = -(int)_Dst & 3;
    sVar3 = _Size;
    if (uVar2 != 0) {
      sVar3 = _Size - uVar2;
      do {
        *(undefined *)puVar4 = (undefined)_Val;
        puVar4 = (uint *)((int)puVar4 + 1);
        uVar2 = uVar2 - 1;
      } while (uVar2 != 0);
    }
    uVar1 = uVar1 * 0x1010101;
    _Size = sVar3 & 3;
    uVar2 = sVar3 >> 2;
    if (uVar2 != 0) {
      for (; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
      }
      if (_Size == 0) {
        return _Dst;
      }
    }
  }
  do {
    *(char *)puVar4 = (char)uVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    _Size = _Size - 1;
  } while (_Size != 0);
  return _Dst;
}



/*
 * Function: FUN_10007b08
 * Address: 10007b08
 */

undefined4 __cdecl FUN_10007b08(DWORD *param_1)

{
  bool bVar1;
  DWORD *pDVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  undefined4 *puVar7;
  DWORD local_10;
  DWORD local_c;
  
  bVar1 = false;
  if (param_1 == (DWORD *)0x2) {
    puVar7 = &DAT_1000c900;
    pcVar6 = DAT_1000c900;
LAB_10007b8e:
    bVar1 = true;
    FUN_10006142(1);
    pDVar2 = param_1;
  }
  else {
    if (((param_1 != (DWORD *)0x4) && (param_1 != (DWORD *)0x8)) && (param_1 != (DWORD *)0xb)) {
      if (param_1 == (DWORD *)0xf) {
        puVar7 = &DAT_1000c90c;
        pcVar6 = DAT_1000c90c;
      }
      else if (param_1 == (DWORD *)0x15) {
        puVar7 = &DAT_1000c904;
        pcVar6 = DAT_1000c904;
      }
      else {
        if (param_1 != (DWORD *)0x16) {
          return 0xffffffff;
        }
        puVar7 = &DAT_1000c908;
        pcVar6 = DAT_1000c908;
      }
      goto LAB_10007b8e;
    }
    pDVar2 = FUN_100053b1();
    uVar3 = FUN_10007c8a((int)param_1,pDVar2[0x14]);
    puVar7 = (undefined4 *)(uVar3 + 8);
    pcVar6 = (code *)*puVar7;
  }
  if (pcVar6 == (code *)0x1) {
    if (!bVar1) {
      return 0;
    }
    FUN_100061a3(1);
    return 0;
  }
  if (pcVar6 == (code *)0x0) {
    if (bVar1) {
      FUN_100061a3(1);
    }
                    /* WARNING: Subroutine does not return */
    __exit(3);
  }
  if (((param_1 == (DWORD *)0x8) || (param_1 == (DWORD *)0xb)) || (param_1 == (DWORD *)0x4)) {
    local_c = pDVar2[0x15];
    pDVar2[0x15] = 0;
    if (param_1 == (DWORD *)0x8) {
      local_10 = pDVar2[0x16];
      pDVar2[0x16] = 0x8c;
      goto LAB_10007c02;
    }
  }
  else {
LAB_10007c02:
    if (param_1 == (DWORD *)0x8) {
      if (DAT_1000c498 < DAT_1000c49c + DAT_1000c498) {
        iVar4 = DAT_1000c498 * 0xc;
        iVar5 = DAT_1000c498;
        do {
          iVar4 = iVar4 + 0xc;
          *(undefined4 *)((pDVar2[0x14] - 4) + iVar4) = 0;
          iVar5 = iVar5 + 1;
        } while (iVar5 < DAT_1000c49c + DAT_1000c498);
      }
      goto LAB_10007c40;
    }
  }
  *puVar7 = 0;
LAB_10007c40:
  if (bVar1) {
    FUN_100061a3(1);
  }
  if (param_1 == (DWORD *)0x8) {
    (*pcVar6)(8,pDVar2[0x16]);
  }
  else {
    (*pcVar6)(param_1);
    if ((param_1 != (DWORD *)0xb) && (param_1 != (DWORD *)0x4)) {
      return 0;
    }
  }
  pDVar2[0x15] = local_c;
  if (param_1 == (DWORD *)0x8) {
    pDVar2[0x16] = local_10;
  }
  return 0;
}



/*
 * Function: FUN_10007c8a
 * Address: 10007c8a
 */

uint __cdecl FUN_10007c8a(int param_1,uint param_2)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = param_2;
  if (*(int *)(param_2 + 4) != param_1) {
    uVar3 = param_2;
    do {
      uVar2 = uVar3 + 0xc;
      if (param_2 + DAT_1000c4a4 * 0xc <= uVar2) break;
      piVar1 = (int *)(uVar3 + 0x10);
      uVar3 = uVar2;
    } while (*piVar1 != param_1);
  }
  if ((param_2 + DAT_1000c4a4 * 0xc <= uVar2) || (*(int *)(uVar2 + 4) != param_1)) {
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_10007cd0
 * Address: 10007cd0
 */

/* WARNING: Unable to track spacebase fully for stack */

void FUN_10007cd0(undefined1 param_1)

{
  uint in_EAX;
  undefined1 *puVar1;
  undefined4 unaff_retaddr;
  
  puVar1 = &param_1;
  if (0xfff < in_EAX) {
    do {
      puVar1 = puVar1 + -0x1000;
      in_EAX = in_EAX - 0x1000;
    } while (0xfff < in_EAX);
  }
  *(undefined4 *)(puVar1 + (-4 - in_EAX)) = unaff_retaddr;
  return;
}



/*
 * Function: FUN_10007cff
 * Address: 10007cff
 */

int __cdecl
FUN_10007cff(LCID param_1,uint param_2,char *param_3,int param_4,LPWSTR param_5,int param_6,
            UINT param_7,int param_8)

{
  int iVar1;
  int iVar2;
  undefined unaff_DI;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_10009530;
  puStack_10 = &LAB_10005578;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (DAT_1000c934 == 0) {
    ExceptionList = &local_14;
    iVar1 = LCMapStringW(0,0x100,L"",1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = LCMapStringA(0,0x100,"",1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      DAT_1000c934 = 2;
    }
    else {
      DAT_1000c934 = 1;
    }
  }
  if (0 < param_4) {
    param_4 = FUN_10007f23(param_3,param_4);
  }
  if (DAT_1000c934 == 2) {
    iVar1 = LCMapStringA(param_1,param_2,param_3,param_4,(LPSTR)param_5,param_6);
    ExceptionList = local_14;
    return iVar1;
  }
  if (DAT_1000c934 == 1) {
    if (param_7 == 0) {
      param_7 = DAT_1000c92c;
    }
    iVar1 = MultiByteToWideChar(param_7,(-(uint)(param_8 != 0) & 8) + 1,param_3,param_4,(LPWSTR)0x0,
                                0);
    if (iVar1 != 0) {
      local_8 = 0;
      FUN_10007cd0(unaff_DI);
      local_8 = 0xffffffff;
      if ((&stack0x00000000 != (undefined *)0x3c) &&
         (iVar2 = MultiByteToWideChar(param_7,1,param_3,param_4,(LPWSTR)&stack0xffffffc4,iVar1),
         iVar2 != 0)) {
        iVar2 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,(LPWSTR)0x0,0);
        if (iVar2 != 0) {
          if ((param_2 & 0x400) == 0) {
            local_8 = 1;
            FUN_10007cd0(unaff_DI);
            local_8 = 0xffffffff;
            if (&stack0x00000000 == (undefined *)0x3c) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,
                                 (LPWSTR)&stack0xffffffc4,iVar2);
            if (iVar1 == 0) {
              ExceptionList = local_14;
              return 0;
            }
            if (param_6 == 0) {
              param_6 = 0;
              param_5 = (LPWSTR)0x0;
            }
            iVar2 = WideCharToMultiByte(param_7,0x220,(LPCWSTR)&stack0xffffffc4,iVar2,(LPSTR)param_5
                                        ,param_6,(LPCSTR)0x0,(LPBOOL)0x0);
            iVar1 = iVar2;
          }
          else {
            if (param_6 == 0) {
              ExceptionList = local_14;
              return iVar2;
            }
            if (param_6 < iVar2) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,param_5,param_6);
          }
          if (iVar1 != 0) {
            ExceptionList = local_14;
            return iVar2;
          }
        }
      }
    }
  }
  ExceptionList = local_14;
  return 0;
}



/*
 * Function: FUN_10007f23
 * Address: 10007f23
 */

int __cdecl FUN_10007f23(char *param_1,int param_2)

{
  char *pcVar1;
  int iVar2;
  
  pcVar1 = param_1;
  iVar2 = param_2;
  if (param_2 != 0) {
    do {
      iVar2 = iVar2 + -1;
      if (*pcVar1 == '\0') break;
      pcVar1 = pcVar1 + 1;
    } while (iVar2 != 0);
  }
  if (*pcVar1 == '\0') {
    return (int)pcVar1 - (int)param_1;
  }
  return param_2;
}



/*
 * Function: RtlUnwind
 * Address: 10007f4e
 */

void RtlUnwind(PVOID TargetFrame,PVOID TargetIp,PEXCEPTION_RECORD ExceptionRecord,PVOID ReturnValue)

{
                    /* WARNING: Could not recover jumptable at 0x10007f4e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RtlUnwind(TargetFrame,TargetIp,ExceptionRecord,ReturnValue);
  return;
}



/*
 * Function: Unwind@10007f60
 * Address: 10007f60
 */

void Unwind_10007f60(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x10007f66. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x14) + 0x1c));
  return;
}



/*
 * Function: Unwind@10007f6c
 * Address: 10007f6c
 */

void Unwind_10007f6c(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@10007f90
 * Address: 10007f90
 */

void Unwind_10007f90(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x10007f96. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(*(int *)(unaff_EBP + -0x10) + 0x1c));
  return;
}



/*
 * Function: Unwind@10007fb0
 * Address: 10007fb0
 */

void Unwind_10007fb0(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@10007fd0
 * Address: 10007fd0
 */

void Unwind_10007fd0(void)

{
  int unaff_EBP;
  
  RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET((RKC_UPDIB_VSPACKET *)(unaff_EBP + -0x60));
  return;
}



/*
 * Function: Unwind@10007fd8
 * Address: 10007fd8
 */

void Unwind_10007fd8(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x10007fde. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x94));
  return;
}



/*
 * Function: Unwind@10007fe4
 * Address: 10007fe4
 */

void Unwind_10007fe4(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + -0x84));
  return;
}



/*
 * Function: Unwind@10008000
 * Address: 10008000
 */

void Unwind_10008000(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@1000800b
 * Address: 1000800b
 */

void Unwind_1000800b(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@10008020
 * Address: 10008020
 */

void Unwind_10008020(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@10008040
 * Address: 10008040
 */

void Unwind_10008040(void)

{
  int unaff_EBP;
  
  RKC_UPDIB_VSPACKET::~RKC_UPDIB_VSPACKET((RKC_UPDIB_VSPACKET *)(unaff_EBP + -0x60));
  return;
}



/*
 * Function: Unwind@10008060
 * Address: 10008060
 */

void Unwind_10008060(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x10008066. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x88));
  return;
}



/*
 * Function: Unwind@1000806c
 * Address: 1000806c
 */

void Unwind_1000806c(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x10008072. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_FILE::~RKC_FILE((RKC_FILE *)(unaff_EBP + -0x84));
  return;
}



/*
 * Function: Unwind@10008078
 * Address: 10008078
 */

void Unwind_10008078(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x1000807b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x38));
  return;
}



/*
 * Function: Unwind@10008081
 * Address: 10008081
 */

void Unwind_10008081(void)

{
  int unaff_EBP;
  
                    /* WARNING: Could not recover jumptable at 0x10008084. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RKC_DIB::~RKC_DIB((RKC_DIB *)(unaff_EBP + -0x44));
  return;
}



/*
 * Function: Unwind@1000808a
 * Address: 1000808a
 */

void Unwind_1000808a(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + -0x54));
  return;
}



/*
 * Function: Unwind@10008095
 * Address: 10008095
 */

void Unwind_10008095(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + -0x50));
  return;
}



/*
 * Function: Unwind@100080b0
 * Address: 100080b0
 */

void Unwind_100080b0(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@100080d0
 * Address: 100080d0
 */

void Unwind_100080d0(void)

{
  int unaff_EBP;
  
  FUN_10004216(*(LPVOID *)(unaff_EBP + 4));
  return;
}



