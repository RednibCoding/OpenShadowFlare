/*
 * Decompiled from: o_RKC_NETWORK.dll
 * Generated by Ghidra
 */

/*
 * Function: RKC_NETWORK
 * Address: 10001000
 */

/* public: __thiscall RKC_NETWORK::RKC_NETWORK(void) */

RKC_NETWORK * __thiscall RKC_NETWORK::RKC_NETWORK(RKC_NETWORK *this)

{
  RKC_NETWORK_SERVER *this_00;
  undefined4 uVar1;
  RKC_NETWORK_CLIENT *this_01;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x1000  1  ??0RKC_NETWORK@@QAE@XZ */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_100093f6;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  DAT_1000dcf0 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
  this_00 = (RKC_NETWORK_SERVER *)operator_new(0x1dc);
  uStack_4 = 0;
  if (this_00 == (RKC_NETWORK_SERVER *)0x0) {
    uVar1 = 0;
  }
  else {
    uVar1 = RKC_NETWORK_SERVER::RKC_NETWORK_SERVER(this_00);
  }
  uStack_4 = 0xffffffff;
  *(undefined4 *)this = uVar1;
  this_01 = (RKC_NETWORK_CLIENT *)operator_new(0x1d0);
  uStack_4 = 1;
  if (this_01 != (RKC_NETWORK_CLIENT *)0x0) {
    uVar1 = RKC_NETWORK_CLIENT::RKC_NETWORK_CLIENT(this_01);
    *(undefined4 *)(this + 4) = uVar1;
    ExceptionList = pvStack_c;
    return this;
  }
  *(undefined4 *)(this + 4) = 0;
  ExceptionList = pvStack_c;
  return this;
}



/*
 * Function: ~RKC_NETWORK
 * Address: 100010b0
 */

/* public: __thiscall RKC_NETWORK::~RKC_NETWORK(void) */

void __thiscall RKC_NETWORK::~RKC_NETWORK(RKC_NETWORK *this)

{
  RKC_NETWORK_SERVER *this_00;
  RKC_NETWORK_CLIENT *this_01;
  
                    /* 0x10b0  12  ??1RKC_NETWORK@@QAE@XZ */
  this_00 = *(RKC_NETWORK_SERVER **)this;
  if (this_00 != (RKC_NETWORK_SERVER *)0x0) {
    RKC_NETWORK_SERVER::~RKC_NETWORK_SERVER(this_00);
    FUN_10003f26(this_00);
  }
  this_01 = *(RKC_NETWORK_CLIENT **)(this + 4);
  if (this_01 != (RKC_NETWORK_CLIENT *)0x0) {
    RKC_NETWORK_CLIENT::~RKC_NETWORK_CLIENT(this_01);
    FUN_10003f26(this_01);
  }
  CloseHandle(DAT_1000dcf0);
  return;
}



/*
 * Function: SetMutex
 * Address: 100010f0
 */

/* public: int __thiscall RKC_NETWORK::SetMutex(void) */

int __thiscall RKC_NETWORK::SetMutex(RKC_NETWORK *this)

{
                    /* 0x10f0  119  ?SetMutex@RKC_NETWORK@@QAEHXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  return 1;
}



/*
 * Function: ResetMutex
 * Address: 10001110
 */

/* public: int __thiscall RKC_NETWORK::ResetMutex(void) */

int __thiscall RKC_NETWORK::ResetMutex(RKC_NETWORK *this)

{
                    /* 0x1110  109  ?ResetMutex@RKC_NETWORK@@QAEHXZ */
  ReleaseMutex(DAT_1000dcf0);
  return 1;
}



/*
 * Function: operator=
 * Address: 10001130
 */

/* public: class RKC_NETWORK_TRANSFER & __thiscall RKC_NETWORK_TRANSFER::operator=(class
   RKC_NETWORK_TRANSFER const &) */

RKC_NETWORK_TRANSFER * __thiscall
RKC_NETWORK_TRANSFER::operator=(RKC_NETWORK_TRANSFER *this,RKC_NETWORK_TRANSFER *param_1)

{
                    /* 0x1130  31  ??4RKC_NETWORK_TRANSFER@@QAEAAV0@ABV0@@Z */
  *this = *param_1;
  return this;
}



/*
 * Function: operator=
 * Address: 10001140
 */

/* public: class RKC_NETWORK_PACKET & __thiscall RKC_NETWORK_PACKET::operator=(class
   RKC_NETWORK_PACKET const &) */

RKC_NETWORK_PACKET * __thiscall
RKC_NETWORK_PACKET::operator=(RKC_NETWORK_PACKET *this,RKC_NETWORK_PACKET *param_1)

{
  int iVar1;
  RKC_NETWORK_PACKET *pRVar2;
  
                    /* 0x1140  25  ??4RKC_NETWORK_PACKET@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 7; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 10001160
 */

/* public: class RKC_NETWORK_PACKETBLOCK & __thiscall RKC_NETWORK_PACKETBLOCK::operator=(class
   RKC_NETWORK_PACKETBLOCK const &) */

RKC_NETWORK_PACKETBLOCK * __thiscall
RKC_NETWORK_PACKETBLOCK::operator=(RKC_NETWORK_PACKETBLOCK *this,RKC_NETWORK_PACKETBLOCK *param_1)

{
                    /* 0x1160  26  ??4RKC_NETWORK_PACKETBLOCK@@QAEAAV0@ABV0@@Z
                       0x1160  33  ??4RKC_NETWORK_USERINFOBLOCK@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  return this;
}



/*
 * Function: operator=
 * Address: 10001170
 */

/* public: class RKC_NETWORK_USERINFO & __thiscall RKC_NETWORK_USERINFO::operator=(class
   RKC_NETWORK_USERINFO const &) */

RKC_NETWORK_USERINFO * __thiscall
RKC_NETWORK_USERINFO::operator=(RKC_NETWORK_USERINFO *this,RKC_NETWORK_USERINFO *param_1)

{
  int iVar1;
  RKC_NETWORK_USERINFO *pRVar2;
  
                    /* 0x1170  32  ??4RKC_NETWORK_USERINFO@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 10001190
 */

/* public: class RKC_NETWORK_CLIENT & __thiscall RKC_NETWORK_CLIENT::operator=(class
   RKC_NETWORK_CLIENT const &) */

RKC_NETWORK_CLIENT * __thiscall
RKC_NETWORK_CLIENT::operator=(RKC_NETWORK_CLIENT *this,RKC_NETWORK_CLIENT *param_1)

{
  int iVar1;
  RKC_NETWORK_CLIENT *pRVar2;
  
                    /* 0x1190  24  ??4RKC_NETWORK_CLIENT@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0x74; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 100011b0
 */

/* public: class RKC_NETWORK_SERVER_SOCKET & __thiscall RKC_NETWORK_SERVER_SOCKET::operator=(class
   RKC_NETWORK_SERVER_SOCKET const &) */

RKC_NETWORK_SERVER_SOCKET * __thiscall
RKC_NETWORK_SERVER_SOCKET::operator=
          (RKC_NETWORK_SERVER_SOCKET *this,RKC_NETWORK_SERVER_SOCKET *param_1)

{
                    /* 0x11b0  29  ??4RKC_NETWORK_SERVER_SOCKET@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  *(undefined4 *)(this + 8) = *(undefined4 *)(param_1 + 8);
  *(undefined4 *)(this + 0xc) = *(undefined4 *)(param_1 + 0xc);
  return this;
}



/*
 * Function: operator=
 * Address: 100011e0
 */

/* public: class RKC_NETWORK_SERVER_CONNECTION & __thiscall
   RKC_NETWORK_SERVER_CONNECTION::operator=(class RKC_NETWORK_SERVER_CONNECTION const &) */

RKC_NETWORK_SERVER_CONNECTION * __thiscall
RKC_NETWORK_SERVER_CONNECTION::operator=
          (RKC_NETWORK_SERVER_CONNECTION *this,RKC_NETWORK_SERVER_CONNECTION *param_1)

{
  int iVar1;
  RKC_NETWORK_SERVER_CONNECTION *pRVar2;
  
                    /* 0x11e0  28  ??4RKC_NETWORK_SERVER_CONNECTION@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 10001200
 */

/* public: class RKC_NETWORK_SERVER & __thiscall RKC_NETWORK_SERVER::operator=(class
   RKC_NETWORK_SERVER const &) */

RKC_NETWORK_SERVER * __thiscall
RKC_NETWORK_SERVER::operator=(RKC_NETWORK_SERVER *this,RKC_NETWORK_SERVER *param_1)

{
  int iVar1;
  RKC_NETWORK_SERVER *pRVar2;
  
                    /* 0x1200  27  ??4RKC_NETWORK_SERVER@@QAEAAV0@ABV0@@Z */
  pRVar2 = this;
  for (iVar1 = 0x77; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined4 *)pRVar2 = *(undefined4 *)param_1;
    param_1 = param_1 + 4;
    pRVar2 = pRVar2 + 4;
  }
  return this;
}



/*
 * Function: operator=
 * Address: 10001220
 */

/* public: class RKC_NETWORK & __thiscall RKC_NETWORK::operator=(class RKC_NETWORK const &) */

RKC_NETWORK * __thiscall RKC_NETWORK::operator=(RKC_NETWORK *this,RKC_NETWORK *param_1)

{
                    /* 0x1220  23  ??4RKC_NETWORK@@QAEAAV0@ABV0@@Z
                       0x1220  30  ??4RKC_NETWORK_SERVER_SOCKETCOMP@@QAEAAV0@ABV0@@Z */
  *(undefined4 *)this = *(undefined4 *)param_1;
  *(undefined4 *)(this + 4) = *(undefined4 *)(param_1 + 4);
  return this;
}



/*
 * Function: RKC_NETWORK_CLIENT
 * Address: 10001240
 */

/* public: __thiscall RKC_NETWORK_CLIENT::RKC_NETWORK_CLIENT(void) */

RKC_NETWORK_CLIENT * __thiscall RKC_NETWORK_CLIENT::RKC_NETWORK_CLIENT(RKC_NETWORK_CLIENT *this)

{
  RKC_NETWORK_PACKETBLOCK *pRVar1;
  undefined4 uVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1240  2  ??0RKC_NETWORK_CLIENT@@QAE@XZ */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10009416;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 0x19c) = 0;
  *(undefined4 *)(this + 0x1a4) = 0;
  *(undefined2 *)(this + 0x1a8) = 0x3168;
  pRVar1 = (RKC_NETWORK_PACKETBLOCK *)operator_new(4);
  local_4 = 0;
  if (pRVar1 == (RKC_NETWORK_PACKETBLOCK *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = RKC_NETWORK_PACKETBLOCK::RKC_NETWORK_PACKETBLOCK(pRVar1);
  }
  local_4 = 0xffffffff;
  *(undefined4 *)(this + 0x1b0) = uVar2;
  pRVar1 = (RKC_NETWORK_PACKETBLOCK *)operator_new(4);
  local_4 = 1;
  if (pRVar1 == (RKC_NETWORK_PACKETBLOCK *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = RKC_NETWORK_PACKETBLOCK::RKC_NETWORK_PACKETBLOCK(pRVar1);
  }
  *(undefined4 *)(this + 0x1b4) = uVar2;
  *(undefined4 *)(this + 0x1a0) = 0;
  *(undefined4 *)(this + 0x1b8) = 0;
  *(undefined4 *)(this + 0x1c4) = 0;
  *(undefined4 *)(this + 0x1c8) = 0;
  ExceptionList = local_c;
  return this;
}



/*
 * Function: ~RKC_NETWORK_CLIENT
 * Address: 10001300
 */

/* public: __thiscall RKC_NETWORK_CLIENT::~RKC_NETWORK_CLIENT(void) */

void __thiscall RKC_NETWORK_CLIENT::~RKC_NETWORK_CLIENT(RKC_NETWORK_CLIENT *this)

{
  RKC_NETWORK_PACKETBLOCK *pRVar1;
  
                    /* 0x1300  13  ??1RKC_NETWORK_CLIENT@@QAE@XZ */
  Release(this);
  pRVar1 = *(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0);
  if (pRVar1 != (RKC_NETWORK_PACKETBLOCK *)0x0) {
    RKC_NETWORK_PACKETBLOCK::~RKC_NETWORK_PACKETBLOCK(pRVar1);
    FUN_10003f26(pRVar1);
  }
  pRVar1 = *(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4);
  if (pRVar1 != (RKC_NETWORK_PACKETBLOCK *)0x0) {
    RKC_NETWORK_PACKETBLOCK::~RKC_NETWORK_PACKETBLOCK(pRVar1);
    FUN_10003f26(pRVar1);
  }
  return;
}



/*
 * Function: Release
 * Address: 10001340
 */

/* public: void __thiscall RKC_NETWORK_CLIENT::Release(void) */

void __thiscall RKC_NETWORK_CLIENT::Release(RKC_NETWORK_CLIENT *this)

{
  HANDLE hThread;
  int iVar1;
  code *pcVar2;
  int iVar3;
  
                    /* 0x1340  102  ?Release@RKC_NETWORK_CLIENT@@QAEXXZ */
  if (*(int *)this == 1) {
    Ordinal_116();
  }
  iVar1 = 0;
  pcVar2 = GlobalFree_exref;
  if (*(int *)(this + 0x1a0) != 0) {
    if (0 < *(int *)(this + 0x19c)) {
      iVar3 = 0;
      do {
        hThread = *(HANDLE *)(*(int *)(this + 0x1a0) + 4 + iVar3);
        if (hThread != (HANDLE)0x0) {
          TerminateThread(hThread,0);
          *(undefined4 *)(*(int *)(this + 0x1a0) + 4 + iVar3) = 0;
        }
        iVar1 = iVar1 + 1;
        iVar3 = iVar3 + 0x14;
      } while (iVar1 < *(int *)(this + 0x19c));
    }
    pcVar2 = GlobalFree_exref;
    GlobalFree(*(HGLOBAL *)(this + 0x1a0));
    *(undefined4 *)(this + 0x1a0) = 0;
  }
  if (*(int *)(this + 0x1a4) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0x19c)) {
      do {
        iVar3 = *(int *)(*(int *)(this + 0x1a4) + iVar1 * 4);
        if (iVar3 != -1) {
          Ordinal_22(iVar3,2);
          Ordinal_3(*(undefined4 *)(*(int *)(this + 0x1a4) + iVar1 * 4));
          *(undefined4 *)(*(int *)(this + 0x1a4) + iVar1 * 4) = 0xffffffff;
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 0x19c));
    }
    (*pcVar2)(*(undefined4 *)(this + 0x1a4));
    *(undefined4 *)(this + 0x1a4) = 0;
  }
  *(undefined4 *)(this + 0x19c) = 0;
  RKC_NETWORK_PACKETBLOCK::Release(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0));
  RKC_NETWORK_PACKETBLOCK::Release(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4));
  *(undefined4 *)(this + 0x1c4) = 0;
  if (*(int *)(this + 0x1c8) != 0) {
    (*pcVar2)(*(int *)(this + 0x1c8));
    *(undefined4 *)(this + 0x1c8) = 0;
  }
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: Initialize
 * Address: 10001460
 */

/* public: int __thiscall RKC_NETWORK_CLIENT::Initialize(struct RKC_NETWORK_IP *,long,class
   RKC_NETWORK_USERINFO *,long,long,long) */

int __thiscall
RKC_NETWORK_CLIENT::Initialize
          (RKC_NETWORK_CLIENT *this,RKC_NETWORK_IP *param_1,long param_2,
          RKC_NETWORK_USERINFO *param_3,long param_4,long param_5,long param_6)

{
  undefined4 uVar1;
  int iVar2;
  HGLOBAL pvVar3;
  uint uVar4;
  undefined4 *puVar5;
  undefined4 *unaff_EBX;
  uint uVar6;
  bool bVar7;
  int unaff_retaddr;
  
                    /* 0x1460  96
                       ?Initialize@RKC_NETWORK_CLIENT@@QAEHPAURKC_NETWORK_IP@@JPAVRKC_NETWORK_USERINFO@@JJJ@Z
                        */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  if (*(int *)this == 1) {
    Release(this);
  }
  ReleaseMutex(DAT_1000dcf0);
  iVar2 = Ordinal_115(0x101,this + 8);
  if (iVar2 != 0) {
    return 0;
  }
  uVar1 = *unaff_EBX;
  *(int *)(this + 0x19c) = unaff_retaddr * 2;
  *(undefined4 *)(this + 0x198) = uVar1;
  pvVar3 = GlobalAlloc(0,unaff_retaddr << 3);
  *(HGLOBAL *)(this + 0x1a4) = pvVar3;
  pvVar3 = GlobalAlloc(0,*(int *)(this + 0x19c) * 0x14);
  *(HGLOBAL *)(this + 0x1a0) = pvVar3;
  uVar6 = 0;
  if (0 < *(int *)(this + 0x19c)) {
    iVar2 = 0;
    do {
      *(undefined4 *)(*(int *)(this + 0x1a4) + uVar6 * 4) = 0xffffffff;
      *(uint *)(iVar2 + 8 + *(int *)(this + 0x1a0)) = uVar6;
      *(RKC_NETWORK_CLIENT **)(iVar2 + *(int *)(this + 0x1a0)) = this;
      *(undefined4 *)(iVar2 + 4 + *(int *)(this + 0x1a0)) = 0;
      *(int *)(iVar2 + 0x10 + *(int *)(this + 0x1a0)) = (int)uVar6 / 2;
      uVar4 = uVar6 & 0x80000001;
      bVar7 = uVar4 == 0;
      if ((int)uVar4 < 0) {
        bVar7 = (uVar4 - 1 | 0xfffffffe) == 0xffffffff;
      }
      if (bVar7) {
        *(undefined4 *)(iVar2 + 0xc + *(int *)(this + 0x1a0)) = 1;
      }
      else {
        *(undefined4 *)(iVar2 + 0xc + *(int *)(this + 0x1a0)) = 0;
      }
      uVar6 = uVar6 + 1;
      iVar2 = iVar2 + 0x14;
    } while ((int)uVar6 < *(int *)(this + 0x19c));
  }
  if (param_1 != (RKC_NETWORK_IP *)0x0) {
    puVar5 = (undefined4 *)GlobalAlloc(0x40,0x14);
    *(undefined4 **)(this + 0x1c8) = puVar5;
    for (iVar2 = 5; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar5 = *(undefined4 *)param_1;
      param_1 = param_1 + 4;
      puVar5 = puVar5 + 1;
    }
  }
  *(long *)(this + 0x1c0) = param_4;
  *(long *)(this + 0x1c4) = param_2;
  *(RKC_NETWORK_USERINFO **)(this + 0x1cc) = param_3;
  return 1;
}



/*
 * Function: Connect
 * Address: 100015c0
 */

/* public: int __thiscall RKC_NETWORK_CLIENT::Connect(long) */

int __thiscall RKC_NETWORK_CLIENT::Connect(RKC_NETWORK_CLIENT *this,long param_1)

{
  HANDLE hThread;
  DWORD DVar1;
  DWORD DVar2;
  uint uVar3;
  DWORD local_4;
  
                    /* 0x15c0  37  ?Connect@RKC_NETWORK_CLIENT@@QAEHJ@Z */
  *(undefined4 *)(this + 0x1ac) = 0;
  hThread = CreateThread((LPSECURITY_ATTRIBUTES)0x0,0,(LPTHREAD_START_ROUTINE)&LAB_10001a50,this,0,
                         &local_4);
  if (hThread != (HANDLE)0x0) {
    DVar1 = GetTickCount();
    DVar2 = GetTickCount();
    uVar3 = DVar2 - DVar1;
    while (uVar3 < (uint)param_1) {
      if (*(int *)(this + 0x1ac) == 1) {
        return 1;
      }
      if (*(int *)(this + 0x1ac) == 2) break;
      Sleep(10);
      DVar2 = GetTickCount();
      uVar3 = DVar2 - DVar1;
    }
    TerminateThread(hThread,0);
    Release(this);
  }
  return 0;
}



/*
 * Function: GetIP
 * Address: 10001660
 */

/* public: struct RKC_NETWORK_IP * __thiscall RKC_NETWORK_CLIENT::GetIP(void) */

RKC_NETWORK_IP * __thiscall RKC_NETWORK_CLIENT::GetIP(RKC_NETWORK_CLIENT *this)

{
                    /* 0x1660  70  ?GetIP@RKC_NETWORK_CLIENT@@QAEPAURKC_NETWORK_IP@@XZ */
  return (RKC_NETWORK_IP *)(this + 0x198);
}



/*
 * Function: GetIP
 * Address: 10001670
 */

/* public: void __thiscall RKC_NETWORK_SERVER::GetIP(struct RKC_NETWORK_IP *) */

void __thiscall RKC_NETWORK_SERVER::GetIP(RKC_NETWORK_SERVER *this,RKC_NETWORK_IP *param_1)

{
  undefined *puVar1;
  int iVar2;
  undefined *puStack_108;
  undefined4 uStack_104;
  undefined local_100 [248];
  undefined *puStack_8;
  
                    /* 0x1670  71  ?GetIP@RKC_NETWORK_SERVER@@QAEXPAURKC_NETWORK_IP@@@Z
                       0x1670  75  ?GetMyIP@RKC_NETWORK_CLIENT@@QAEXPAURKC_NETWORK_IP@@@Z */
  puStack_108 = local_100;
  uStack_104 = 0xff;
  Ordinal_57();
  iVar2 = Ordinal_52(&puStack_108);
  puVar1 = (undefined *)**(undefined4 **)(iVar2 + 0xc);
  *puStack_8 = *puVar1;
  puStack_8[1] = puVar1[1];
  puStack_8[2] = puVar1[2];
  puStack_8[3] = puVar1[3];
  return;
}



/*
 * Function: ConnectThread
 * Address: 100016c0
 */

/* public: void __thiscall RKC_NETWORK_CLIENT::ConnectThread(void) */

void __thiscall RKC_NETWORK_CLIENT::ConnectThread(RKC_NETWORK_CLIENT *this)

{
  RKC_NETWORK_CLIENT *pRVar1;
  RKC_NETWORK_SERVER *this_00;
  uchar *_Dest;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  char *pcVar5;
  undefined2 extraout_var;
  size_t sVar6;
  undefined *puVar7;
  int iVar8;
  uchar *puStack_130;
  int local_12c;
  HGLOBAL local_128;
  undefined2 uStack_124;
  undefined2 uStack_122;
  undefined4 uStack_11c;
  undefined local_10c [256];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x16c0  38  ?ConnectThread@RKC_NETWORK_CLIENT@@QAEXXZ */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000942b;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_NETWORK_TRANSFER::RKC_NETWORK_TRANSFER((RKC_NETWORK_TRANSFER *)&local_12c);
  local_4 = 0;
  _Dest = (uchar *)GlobalAlloc(0x40,*(int *)(this + 0x1c0) + 1);
  local_128 = GlobalAlloc(0x40,*(int *)(this + 0x1c4) + 1);
  FUN_1000441e(local_10c,(byte *)s__d__d__d__d_1000d040);
  puVar7 = local_10c;
  uStack_11c = Ordinal_10();
  uStack_122 = Ordinal_9(CONCAT22(extraout_var,*(undefined2 *)(this + 0x1a8)));
  pRVar1 = this + 0x1bc;
  uStack_124 = 2;
  *(int *)pRVar1 = -1;
  iVar8 = 0;
  if (0 < *(int *)(this + 0x19c)) {
    do {
      uVar2 = Ordinal_23(2,1,0);
      *(undefined4 *)(*(int *)(this + 0x1a4) + iVar8 * 4) = uVar2;
      iVar3 = *(int *)(*(int *)(this + 0x1a4) + iVar8 * 4);
      if (iVar3 == -1) break;
      iVar3 = Ordinal_4(iVar3,&uStack_124,0x10);
      if (((iVar3 == -1) ||
          (iVar3 = RKC_NETWORK_TRANSFER::Send
                             ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                              *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),&stack0xfffffec8,4),
          iVar3 == 0)) ||
         (iVar3 = RKC_NETWORK_TRANSFER::Send
                            ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                             *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),(uchar *)pRVar1,4),
         iVar3 == 0)) goto LAB_1000197b;
      if (*(int *)pRVar1 != -1) goto LAB_10001962;
      this_00 = *(RKC_NETWORK_SERVER **)(this + 0x1c8);
      if (this_00 == (RKC_NETWORK_SERVER *)0x0) goto LAB_10001908;
      if (*(int *)(this + 0x1cc) != 0) {
        sVar6 = *(size_t *)(this + 0x1c0);
        pcVar5 = (char *)GetActiveFlag((RKC_NETWORK_CLIENT *)this_00);
        _strncpy((char *)_Dest,pcVar5,sVar6);
        iVar3 = RKC_NETWORK_TRANSFER::Send
                          ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                           *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),_Dest,
                           *(long *)(this + 0x1c0));
        if (iVar3 != 0) goto LAB_100018b2;
LAB_1000197b:
        Ordinal_22(*(undefined4 *)(*(int *)(this + 0x1a4) + iVar8 * 4),2);
        Ordinal_3(*(undefined4 *)(*(int *)(this + 0x1a4) + (int)puVar7 * 4));
        break;
      }
      local_12c = RKC_NETWORK_SERVER::GetActiveFlag(this_00);
      iVar3 = RKC_NETWORK_TRANSFER::Send
                        ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                         *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),(uchar *)&local_12c,4);
      if (iVar3 == 0) goto LAB_1000197b;
LAB_100018b2:
      uVar4 = RKC_NETWORK_SERVER_SOCKET::Get(*(RKC_NETWORK_SERVER_SOCKET **)(this + 0x1c8));
      if (uVar4 != 0) {
        sVar6 = *(size_t *)(this + 0x1c4);
        pcVar5 = (char *)RKC_NETWORK_SERVER_SOCKET::Get
                                   (*(RKC_NETWORK_SERVER_SOCKET **)(this + 0x1c8));
        _strncpy((char *)puStack_130,pcVar5,sVar6);
        iVar3 = RKC_NETWORK_TRANSFER::Send
                          ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                           *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),puStack_130,
                           *(long *)(this + 0x1c4));
        if (iVar3 == 0) goto LAB_1000197b;
      }
LAB_10001908:
      iVar3 = RKC_NETWORK_TRANSFER::Recv
                        ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                         *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),(uchar *)pRVar1,4);
      if (iVar3 == 0) goto LAB_1000197b;
      if (*(int *)(this + 0x1c8) != 0) {
        iVar3 = RKC_NETWORK_TRANSFER::Recv
                          ((RKC_NETWORK_TRANSFER *)&stack0xfffffecc,
                           *(uint *)(*(int *)(this + 0x1a4) + iVar8 * 4),(uchar *)&local_128,4);
        if (iVar3 == 0) goto LAB_1000197b;
        RKC_NETWORK_SERVER_CONNECTION::SetID
                  (*(RKC_NETWORK_SERVER_CONNECTION **)(this + 0x1c8),(long)local_128);
      }
LAB_10001962:
      iVar8 = iVar8 + 1;
    } while (iVar8 < *(int *)(this + 0x19c));
  }
  if (iVar8 == *(int *)(this + 0x19c)) {
    iVar3 = 0;
    iVar8 = 0;
    if (0 < *(int *)(this + 0x19c)) {
      do {
        iVar3 = iVar8;
        iVar8 = CreateConnectionThread(this,iVar3);
        if (iVar8 == 0) break;
        iVar3 = iVar3 + 1;
        iVar8 = iVar3;
      } while (iVar3 < *(int *)(this + 0x19c));
    }
    if (iVar3 == *(int *)(this + 0x19c)) {
      *(undefined4 *)(this + 0x1ac) = 1;
      *(undefined4 *)(this + 4) = 1;
      goto LAB_100019fc;
    }
  }
  *(undefined4 *)(this + 0x1ac) = 2;
LAB_100019fc:
  if (_Dest != (uchar *)0x0) {
    GlobalFree(_Dest);
  }
  if (puStack_130 != (uchar *)0x0) {
    GlobalFree(puStack_130);
  }
                    /* WARNING: Subroutine does not return */
  ExitThread(0);
}



/*
 * Function: SetSendPacket
 * Address: 10001a60
 */

/* public: long __thiscall RKC_NETWORK_CLIENT::SetSendPacket(long,long,long,void *,long,int,int) */

long __thiscall
RKC_NETWORK_CLIENT::SetSendPacket
          (RKC_NETWORK_CLIENT *this,long param_1,long param_2,long param_3,void *param_4,
          long param_5,int param_6,int param_7)

{
  RKC_NETWORK_PACKET *pRVar1;
  bool bVar2;
  long lVar3;
  RKC_NETWORK_PACKET *pRVar4;
  RKC_NETWORK_PACKET *pRVar5;
  RKC_NETWORK_PACKET *this_00;
  
                    /* 0x1a60  122  ?SetSendPacket@RKC_NETWORK_CLIENT@@QAEJJJJPAXJHH@Z */
  pRVar4 = (RKC_NETWORK_PACKET *)0x0;
  bVar2 = false;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  if ((param_6 == 1) &&
     (this_00 = (RKC_NETWORK_PACKET *)**(int **)(this + 0x1b0), this_00 != (RKC_NETWORK_PACKET *)0x0
     )) {
    do {
      pRVar1 = *(RKC_NETWORK_PACKET **)(this_00 + 0x18);
      pRVar5 = this_00;
      if ((*(int *)(this_00 + 0x14) == param_5) && (*(int *)this_00 == param_1)) {
        if (pRVar4 == (RKC_NETWORK_PACKET *)0x0) {
          **(int **)(this + 0x1b0) = (int)pRVar1;
        }
        else {
          *(RKC_NETWORK_PACKET **)(pRVar4 + 0x18) = pRVar1;
        }
        if (!bVar2) {
          bVar2 = true;
          param_6 = (int)pRVar4;
        }
        pRVar5 = pRVar4;
        if (this_00 != (RKC_NETWORK_PACKET *)0x0) {
          RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(this_00);
          FUN_10003f26(this_00);
        }
      }
      pRVar4 = pRVar5;
      this_00 = pRVar1;
    } while (pRVar1 != (RKC_NETWORK_PACKET *)0x0);
    if (bVar2) {
      if (param_6 == 0) {
        lVar3 = 0;
      }
      else {
        lVar3 = RKC_NETWORK_PACKETBLOCK::GetNo
                          (*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0),(RKC_NETWORK_PACKET *)param_6
                          );
        lVar3 = lVar3 + 1;
      }
      goto LAB_10001b33;
    }
  }
  if (param_7 == 0) {
    lVar3 = RKC_NETWORK_PACKETBLOCK::GetCount(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0));
  }
  else {
    lVar3 = 0;
  }
LAB_10001b33:
  pRVar4 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0),lVar3);
  lVar3 = *(long *)(this + 0x1b8);
  RKC_NETWORK_PACKET::SetParam(pRVar4,param_1,lVar3,param_2,param_3,param_4,param_5);
  *(int *)(this + 0x1b8) = *(int *)(this + 0x1b8) + 1;
  ReleaseMutex(DAT_1000dcf0);
  return lVar3;
}



/*
 * Function: GetRecvPacket
 * Address: 10001b90
 */

/* public: class RKC_NETWORK_PACKET * __thiscall RKC_NETWORK_CLIENT::GetRecvPacket(long,long) */

RKC_NETWORK_PACKET * __thiscall
RKC_NETWORK_CLIENT::GetRecvPacket(RKC_NETWORK_CLIENT *this,long param_1,long param_2)

{
  RKC_NETWORK_PACKET *pRVar1;
  
                    /* 0x1b90  79  ?GetRecvPacket@RKC_NETWORK_CLIENT@@QAEPAVRKC_NETWORK_PACKET@@JJ@Z
                        */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  for (pRVar1 = (RKC_NETWORK_PACKET *)**(undefined4 **)(this + 0x1b4);
      (pRVar1 != (RKC_NETWORK_PACKET *)0x0 &&
      ((*(int *)pRVar1 != param_1 || ((param_2 != -1 && (*(int *)(pRVar1 + 0xc) != param_2))))));
      pRVar1 = *(RKC_NETWORK_PACKET **)(pRVar1 + 0x18)) {
  }
  ReleaseMutex(DAT_1000dcf0);
  return pRVar1;
}



/*
 * Function: CreateConnectionThread
 * Address: 10001be0
 */

/* public: int __thiscall RKC_NETWORK_CLIENT::CreateConnectionThread(long) */

int __thiscall RKC_NETWORK_CLIENT::CreateConnectionThread(RKC_NETWORK_CLIENT *this,long param_1)

{
  HANDLE pvVar1;
  int iVar2;
  
                    /* 0x1be0  41  ?CreateConnectionThread@RKC_NETWORK_CLIENT@@QAEHJ@Z */
  iVar2 = param_1 * 0x14;
  pvVar1 = CreateThread((LPSECURITY_ATTRIBUTES)0x0,0,(LPTHREAD_START_ROUTINE)&LAB_10002000,
                        (LPVOID)(iVar2 + *(int *)(this + 0x1a0)),0,(LPDWORD)&param_1);
  *(HANDLE *)(iVar2 + 4 + *(int *)(this + 0x1a0)) = pvVar1;
  return (uint)(*(int *)(iVar2 + 4 + *(int *)(this + 0x1a0)) != 0);
}



/*
 * Function: ConnectionThread
 * Address: 10001c40
 */

/* public: void __thiscall RKC_NETWORK_CLIENT::ConnectionThread(long) */

void __thiscall RKC_NETWORK_CLIENT::ConnectionThread(RKC_NETWORK_CLIENT *this,long param_1)

{
  RKC_NETWORK_SERVER *pRVar1;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  RKC_NETWORK_PACKET *pRVar3;
  uint *puVar4;
  long lVar5;
  uint uVar6;
  int *piVar7;
  int *piVar8;
  uchar *puVar9;
  uint uVar10;
  code *pcVar11;
  int iVar12;
  long local_28;
  int local_24;
  RKC_NETWORK_TRANSFER local_20 [4];
  int *piStack_1c;
  RKC_NETWORK_PACKET *local_18;
  uint uStack_14;
  RKC_NETWORK_SERVER *pRStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x1c40  39  ?ConnectionThread@RKC_NETWORK_CLIENT@@QAEXJ@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10009448;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_NETWORK_TRANSFER::RKC_NETWORK_TRANSFER(local_20);
  local_4 = 0;
  iVar12 = param_1 * 0x14;
  local_24 = iVar12;
  if (*(int *)(iVar12 + 0xc + *(int *)(this + 0x1a0)) != 1) {
    do {
      pRVar3 = (RKC_NETWORK_PACKET *)0x0;
      WaitForSingleObject(DAT_1000dcf0,0xffffffff);
      lVar5 = RKC_NETWORK_PACKETBLOCK::GetCount
                        (*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0),
                         *(long *)(iVar12 + 0x10 + *(int *)(this + 0x1a0)));
      if (lVar5 != 0) {
        local_28 = 0;
        for (pRVar1 = (RKC_NETWORK_SERVER *)**(undefined4 **)(this + 0x1b0);
            pRVar1 != (RKC_NETWORK_SERVER *)0x0; pRVar1 = *(RKC_NETWORK_SERVER **)(pRVar1 + 0x18)) {
          iVar2 = RKC_NETWORK_SERVER::GetActiveFlag(pRVar1);
          if (iVar2 == *(int *)(iVar12 + 0x10 + *(int *)(this + 0x1a0))) {
            local_28 = local_28 + 0xc;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)pRVar1);
            local_28 = local_28 + uVar6;
          }
        }
        pRVar3 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0),0);
        local_18 = pRVar3;
        RKC_NETWORK_PACKET::SetLine(pRVar3,-1);
        RKC_NETWORK_PACKET::AllocateData(pRVar3,local_28);
        piVar7 = (int *)RKC_NETWORK_PACKET::GetData(pRVar3);
        pRVar1 = *(RKC_NETWORK_SERVER **)(**(int **)(this + 0x1b0) + 0x18);
        iVar12 = local_24;
        pRVar3 = local_18;
        while (this_00 = pRVar1, local_24 = iVar12, local_18 = pRVar3,
              this_00 != (RKC_NETWORK_SERVER *)0x0) {
          pRVar1 = *(RKC_NETWORK_SERVER **)(this_00 + 0x18);
          pRStack_10 = pRVar1;
          iVar2 = RKC_NETWORK_SERVER::GetActiveFlag(this_00);
          iVar12 = local_24;
          pRVar3 = local_18;
          if (iVar2 == *(int *)(local_24 + 0x10 + *(int *)(this + 0x1a0))) {
            iVar12 = GetActiveFlag((RKC_NETWORK_CLIENT *)this_00);
            *piVar7 = iVar12;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)this_00);
            piVar7[1] = uVar6;
            lVar5 = RKC_NETWORK_SERVER::GetConnectionCount(this_00);
            piVar7[2] = lVar5;
            piStack_1c = piVar7 + 3;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)this_00);
            piVar8 = (int *)RKC_NETWORK_PACKET::GetData((RKC_NETWORK_PACKET *)this_00);
            piVar7 = piVar7 + 3;
            for (uVar10 = uVar6 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
              *piVar7 = *piVar8;
              piVar8 = piVar8 + 1;
              piVar7 = piVar7 + 1;
            }
            for (uVar10 = uVar6 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
              *(undefined *)piVar7 = *(undefined *)piVar8;
              piVar8 = (int *)((int)piVar8 + 1);
              piVar7 = (int *)((int)piVar7 + 1);
            }
            uStack_14 = uVar6;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)this_00);
            piStack_1c = (int *)((int)piStack_1c + uVar6);
            RKC_NETWORK_PACKETBLOCK::Delete
                      (*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0),(RKC_NETWORK_PACKET *)this_00);
            pRVar1 = pRStack_10;
            piVar7 = piStack_1c;
            iVar12 = local_24;
            pRVar3 = local_18;
          }
        }
      }
      ReleaseMutex(DAT_1000dcf0);
      if (pRVar3 != (RKC_NETWORK_PACKET *)0x0) {
        iVar2 = RKC_NETWORK_TRANSFER::Send
                          (local_20,*(uint *)(*(int *)(this + 0x1a4) + param_1 * 4),
                           (uchar *)&local_28,4);
        pcVar11 = WaitForSingleObject_exref;
        if (iVar2 == 0) goto LAB_10001f9b;
        uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)pRVar3);
        puVar9 = (uchar *)RKC_NETWORK_PACKET::GetData(pRVar3);
        iVar2 = RKC_NETWORK_TRANSFER::Send
                          (local_20,*(uint *)(*(int *)(this + 0x1a4) + param_1 * 4),puVar9,uVar6);
        pcVar11 = WaitForSingleObject_exref;
        if (iVar2 == 0) goto LAB_10001f9b;
        RKC_NETWORK_PACKETBLOCK::Delete(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0),pRVar3);
      }
      Sleep(1);
    } while( true );
  }
  while (iVar12 = local_24,
        iVar2 = RKC_NETWORK_TRANSFER::Recv
                          (local_20,*(uint *)(*(int *)(this + 0x1a4) + param_1 * 4),
                           (uchar *)&local_28,4), pcVar11 = WaitForSingleObject_exref, iVar2 != 0) {
    WaitForSingleObject(DAT_1000dcf0,0xffffffff);
    pRVar3 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4),0);
    local_18 = pRVar3;
    RKC_NETWORK_PACKET::SetLine(pRVar3,-1);
    RKC_NETWORK_PACKET::AllocateData(pRVar3,local_28);
    puVar4 = (uint *)RKC_NETWORK_PACKET::GetData(pRVar3);
    ReleaseMutex(DAT_1000dcf0);
    iVar2 = RKC_NETWORK_TRANSFER::Recv
                      (local_20,*(uint *)(*(int *)(this + 0x1a4) + param_1 * 4),(uchar *)puVar4,
                       local_28);
    iVar12 = local_24;
    if (iVar2 == 0) break;
    WaitForSingleObject(DAT_1000dcf0,0xffffffff);
    iVar12 = 0;
    if (local_28 != 0) {
      do {
        uStack_14 = *puVar4;
        uVar6 = puVar4[1];
        piStack_1c = (int *)puVar4[2];
        lVar5 = RKC_NETWORK_PACKETBLOCK::GetCount(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4));
        pRVar3 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4),lVar5);
        RKC_NETWORK_PACKET::SetParam
                  (pRVar3,*(long *)(local_24 + 0x10 + *(int *)(this + 0x1a0)),uStack_14,uVar6,
                   (long)piStack_1c,puVar4 + 3,-1);
        iVar12 = uVar6 + 0xc + iVar12;
        puVar4 = (uint *)((int)(puVar4 + 3) + uVar6);
        pRVar3 = local_18;
      } while (iVar12 != local_28);
    }
    ReleaseMutex(DAT_1000dcf0);
    RKC_NETWORK_PACKETBLOCK::Delete(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4),pRVar3);
  }
LAB_10001f9b:
  (*pcVar11)(DAT_1000dcf0,0xffffffff);
  *(undefined4 *)(iVar12 + 4 + *(int *)(this + 0x1a0)) = 0;
  Release(this);
  ReleaseMutex(DAT_1000dcf0);
                    /* WARNING: Subroutine does not return */
  ExitThread(0);
}



/*
 * Function: DeleteRecvPacket
 * Address: 10002010
 */

/* public: int __thiscall RKC_NETWORK_CLIENT::DeleteRecvPacket(class RKC_NETWORK_PACKET *) */

int __thiscall
RKC_NETWORK_CLIENT::DeleteRecvPacket(RKC_NETWORK_CLIENT *this,RKC_NETWORK_PACKET *param_1)

{
  int iVar1;
  
                    /* 0x2010  46
                       ?DeleteRecvPacket@RKC_NETWORK_CLIENT@@QAEHPAVRKC_NETWORK_PACKET@@@Z */
  iVar1 = RKC_NETWORK_PACKETBLOCK::Delete(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4),param_1);
  return iVar1;
}



/*
 * Function: GetSendPacketBlock
 * Address: 10002030
 */

/* public: class RKC_NETWORK_PACKETBLOCK * __thiscall RKC_NETWORK_CLIENT::GetSendPacketBlock(void)
    */

RKC_NETWORK_PACKETBLOCK * __thiscall
RKC_NETWORK_CLIENT::GetSendPacketBlock(RKC_NETWORK_CLIENT *this)

{
                    /* 0x2030  83
                       ?GetSendPacketBlock@RKC_NETWORK_CLIENT@@QAEPAVRKC_NETWORK_PACKETBLOCK@@XZ */
  return *(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b0);
}



/*
 * Function: GetRecvPacketBlock
 * Address: 10002040
 */

/* public: class RKC_NETWORK_PACKETBLOCK * __thiscall RKC_NETWORK_CLIENT::GetRecvPacketBlock(void)
    */

RKC_NETWORK_PACKETBLOCK * __thiscall
RKC_NETWORK_CLIENT::GetRecvPacketBlock(RKC_NETWORK_CLIENT *this)

{
                    /* 0x2040  81
                       ?GetRecvPacketBlock@RKC_NETWORK_CLIENT@@QAEPAVRKC_NETWORK_PACKETBLOCK@@XZ */
  return *(RKC_NETWORK_PACKETBLOCK **)(this + 0x1b4);
}



/*
 * Function: GetConnectionID
 * Address: 10002050
 */

/* public: long __thiscall RKC_NETWORK_CLIENT::GetConnectionID(void) */

long __thiscall RKC_NETWORK_CLIENT::GetConnectionID(RKC_NETWORK_CLIENT *this)

{
                    /* 0x2050  58  ?GetConnectionID@RKC_NETWORK_CLIENT@@QAEJXZ */
  return *(long *)(this + 0x1bc);
}



/*
 * Function: GetUserInfo
 * Address: 10002060
 */

/* public: class RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_CLIENT::GetUserInfo(void) */

RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_CLIENT::GetUserInfo(RKC_NETWORK_CLIENT *this)

{
                    /* 0x2060  93  ?GetUserInfo@RKC_NETWORK_CLIENT@@QAEPAVRKC_NETWORK_USERINFO@@XZ
                        */
  return *(RKC_NETWORK_USERINFO **)(this + 0x1c8);
}



/*
 * Function: RKC_NETWORK_PACKET
 * Address: 10002070
 */

/* public: __thiscall RKC_NETWORK_PACKET::RKC_NETWORK_PACKET(void) */

void __thiscall RKC_NETWORK_PACKET::RKC_NETWORK_PACKET(RKC_NETWORK_PACKET *this)

{
                    /* 0x2070  3  ??0RKC_NETWORK_PACKET@@QAE@XZ */
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  return;
}



/*
 * Function: ~RKC_NETWORK_PACKET
 * Address: 10002090
 */

/* public: __thiscall RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(void) */

void __thiscall RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(RKC_NETWORK_PACKET *this)

{
                    /* 0x2090  14  ??1RKC_NETWORK_PACKET@@QAE@XZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  if (*(HGLOBAL *)(this + 0x10) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0x10));
    *(undefined4 *)(this + 0x10) = 0;
  }
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: Release
 * Address: 100020a0
 */

/* public: void __thiscall RKC_NETWORK_PACKET::Release(void) */

void __thiscall RKC_NETWORK_PACKET::Release(RKC_NETWORK_PACKET *this)

{
                    /* 0x20a0  103  ?Release@RKC_NETWORK_PACKET@@QAEXXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  if (*(HGLOBAL *)(this + 0x10) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0x10));
    *(undefined4 *)(this + 0x10) = 0;
  }
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: SetParam
 * Address: 100020f0
 */

/* public: void __thiscall RKC_NETWORK_PACKET::SetParam(long,long,long,long,void *,long) */

void __thiscall
RKC_NETWORK_PACKET::SetParam
          (RKC_NETWORK_PACKET *this,long param_1,long param_2,long param_3,long param_4,
          void *param_5,long param_6)

{
  undefined4 *puVar1;
  uint uVar2;
  uint uVar3;
  
                    /* 0x20f0  120  ?SetParam@RKC_NETWORK_PACKET@@QAEXJJJJPAXJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(long *)(this + 4) = param_2;
  *(long *)(this + 0x14) = param_6;
  *(long *)this = param_1;
  *(long *)(this + 0xc) = param_4;
  *(long *)(this + 8) = param_3;
  puVar1 = (undefined4 *)GlobalAlloc(0,param_3);
  uVar3 = *(uint *)(this + 8);
  *(undefined4 **)(this + 0x10) = puVar1;
                    /* WARNING: Load size is inaccurate */
  for (uVar2 = uVar3 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
    *puVar1 = *param_5;
    param_5 = (undefined4 *)((int)param_5 + 4);
    puVar1 = puVar1 + 1;
  }
                    /* WARNING: Load size is inaccurate */
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *(undefined *)puVar1 = *param_5;
    param_5 = (undefined4 *)((int)param_5 + 1);
    puVar1 = (undefined4 *)((int)puVar1 + 1);
  }
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: AllocateData
 * Address: 10002160
 */

/* public: void __thiscall RKC_NETWORK_PACKET::AllocateData(long) */

void __thiscall RKC_NETWORK_PACKET::AllocateData(RKC_NETWORK_PACKET *this,long param_1)

{
  HGLOBAL pvVar1;
  
                    /* 0x2160  35  ?AllocateData@RKC_NETWORK_PACKET@@QAEXJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(long *)(this + 8) = param_1;
  pvVar1 = GlobalAlloc(0,param_1);
  *(HGLOBAL *)(this + 0x10) = pvVar1;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: SetLine
 * Address: 100021a0
 */

/* public: void __thiscall RKC_NETWORK_PACKET::SetLine(long) */

void __thiscall RKC_NETWORK_PACKET::SetLine(RKC_NETWORK_PACKET *this,long param_1)

{
                    /* 0x21a0  118  ?SetLine@RKC_NETWORK_PACKET@@QAEXJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(long *)this = param_1;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: SetID
 * Address: 100021d0
 */

/* public: void __thiscall RKC_NETWORK_PACKET::SetID(long) */

void __thiscall RKC_NETWORK_PACKET::SetID(RKC_NETWORK_PACKET *this,long param_1)

{
                    /* 0x21d0  113  ?SetID@RKC_NETWORK_PACKET@@QAEXJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(long *)(this + 4) = param_1;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: SetDisc
 * Address: 10002200
 */

/* public: void __thiscall RKC_NETWORK_PACKET::SetDisc(long) */

void __thiscall RKC_NETWORK_PACKET::SetDisc(RKC_NETWORK_PACKET *this,long param_1)

{
                    /* 0x2200  112  ?SetDisc@RKC_NETWORK_PACKET@@QAEXJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(long *)(this + 0x14) = param_1;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: SetInfoID
 * Address: 10002230
 */

/* public: void __thiscall RKC_NETWORK_PACKET::SetInfoID(long) */

void __thiscall RKC_NETWORK_PACKET::SetInfoID(RKC_NETWORK_PACKET *this,long param_1)

{
                    /* 0x2230  117  ?SetInfoID@RKC_NETWORK_PACKET@@QAEXJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  *(long *)(this + 0xc) = param_1;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: GetNext
 * Address: 10002260
 */

/* public: class RKC_NETWORK_PACKET * __thiscall RKC_NETWORK_PACKET::GetNext(void) */

RKC_NETWORK_PACKET * __thiscall RKC_NETWORK_PACKET::GetNext(RKC_NETWORK_PACKET *this)

{
                    /* 0x2260  76  ?GetNext@RKC_NETWORK_PACKET@@QAEPAV1@XZ */
  return *(RKC_NETWORK_PACKET **)(this + 0x18);
}



/*
 * Function: GetDisc
 * Address: 10002270
 */

/* public: long __thiscall RKC_NETWORK_PACKET::GetDisc(void) */

long __thiscall RKC_NETWORK_PACKET::GetDisc(RKC_NETWORK_PACKET *this)

{
                    /* 0x2270  63  ?GetDisc@RKC_NETWORK_PACKET@@QAEJXZ */
  return *(long *)(this + 0x14);
}



/*
 * Function: GetActiveFlag
 * Address: 10002280
 */

/* public: int __thiscall RKC_NETWORK_CLIENT::GetActiveFlag(void) */

int __thiscall RKC_NETWORK_CLIENT::GetActiveFlag(RKC_NETWORK_CLIENT *this)

{
                    /* 0x2280  52  ?GetActiveFlag@RKC_NETWORK_CLIENT@@QAEHXZ
                       0x2280  54  ?GetClient@RKC_NETWORK@@QAEPAVRKC_NETWORK_CLIENT@@XZ
                       0x2280  67  ?GetID@RKC_NETWORK_PACKET@@QAEJXZ
                       0x2280  92  ?GetUserID@RKC_NETWORK_SERVER_CONNECTION@@QAEJXZ
                       0x2280  95  ?GetUserNameA@RKC_NETWORK_USERINFO@@QAEPADXZ */
  return *(int *)(this + 4);
}



/*
 * Function: GetConnectionCount
 * Address: 10002290
 */

/* public: long __thiscall RKC_NETWORK_SERVER::GetConnectionCount(void) */

long __thiscall RKC_NETWORK_SERVER::GetConnectionCount(RKC_NETWORK_SERVER *this)

{
                    /* 0x2290  57  ?GetConnectionCount@RKC_NETWORK_SERVER@@QAEJXZ
                       0x2290  73  ?GetInfoID@RKC_NETWORK_PACKET@@QAEJXZ
                       0x2290  91  ?GetUserData@RKC_NETWORK_USERINFO@@QAEPAXXZ */
  return *(long *)(this + 0xc);
}



/*
 * Function: GetData
 * Address: 100022a0
 */

/* public: void * __thiscall RKC_NETWORK_PACKET::GetData(void) */

void * __thiscall RKC_NETWORK_PACKET::GetData(RKC_NETWORK_PACKET *this)

{
                    /* 0x22a0  62  ?GetData@RKC_NETWORK_PACKET@@QAEPAXXZ
                       0x22a0  89  ?GetStatus@RKC_NETWORK_SERVER_CONNECTION@@QAEJXZ */
  return *(void **)(this + 0x10);
}



/*
 * Function: ~RKC_NETWORK_PACKETBLOCK
 * Address: 100022b0
 */

/* public: __thiscall RKC_NETWORK_PACKETBLOCK::~RKC_NETWORK_PACKETBLOCK(void) */

void __thiscall RKC_NETWORK_PACKETBLOCK::~RKC_NETWORK_PACKETBLOCK(RKC_NETWORK_PACKETBLOCK *this)

{
  RKC_NETWORK_PACKET *pRVar1;
  RKC_NETWORK_PACKET *this_00;
  
                    /* 0x22b0  15  ??1RKC_NETWORK_PACKETBLOCK@@QAE@XZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = *(RKC_NETWORK_PACKET **)this;
  while (this_00 = pRVar1, this_00 != (RKC_NETWORK_PACKET *)0x0) {
    pRVar1 = *(RKC_NETWORK_PACKET **)(this_00 + 0x18);
    if (this_00 != (RKC_NETWORK_PACKET *)0x0) {
      RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(this_00);
      FUN_10003f26(this_00);
    }
  }
  *(undefined4 *)this = 0;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: Release
 * Address: 100022c0
 */

/* public: void __thiscall RKC_NETWORK_PACKETBLOCK::Release(void) */

void __thiscall RKC_NETWORK_PACKETBLOCK::Release(RKC_NETWORK_PACKETBLOCK *this)

{
  RKC_NETWORK_PACKET *pRVar1;
  RKC_NETWORK_PACKET *this_00;
  
                    /* 0x22c0  104  ?Release@RKC_NETWORK_PACKETBLOCK@@QAEXXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = *(RKC_NETWORK_PACKET **)this;
  while (this_00 = pRVar1, this_00 != (RKC_NETWORK_PACKET *)0x0) {
    pRVar1 = *(RKC_NETWORK_PACKET **)(this_00 + 0x18);
    if (this_00 != (RKC_NETWORK_PACKET *)0x0) {
      RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(this_00);
      FUN_10003f26(this_00);
    }
  }
  *(undefined4 *)this = 0;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: Insert
 * Address: 10002310
 */

/* public: class RKC_NETWORK_PACKET * __thiscall RKC_NETWORK_PACKETBLOCK::Insert(long) */

RKC_NETWORK_PACKET * __thiscall
RKC_NETWORK_PACKETBLOCK::Insert(RKC_NETWORK_PACKETBLOCK *this,long param_1)

{
  RKC_NETWORK_PACKET *pRVar1;
  RKC_NETWORK_PACKET *pRVar2;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 uStack_4;
  
                    /* 0x2310  98  ?Insert@RKC_NETWORK_PACKETBLOCK@@QAEPAVRKC_NETWORK_PACKET@@J@Z */
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1000946b;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = (RKC_NETWORK_PACKET *)operator_new(0x1c);
  uStack_4 = 0;
  if (pRVar1 == (RKC_NETWORK_PACKET *)0x0) {
    pRVar1 = (RKC_NETWORK_PACKET *)0x0;
  }
  else {
    pRVar1 = (RKC_NETWORK_PACKET *)RKC_NETWORK_PACKET::RKC_NETWORK_PACKET(pRVar1);
  }
  uStack_4 = 0xffffffff;
  if (param_1 == 0) {
    *(undefined4 *)(pRVar1 + 0x18) = *(undefined4 *)this;
    *(RKC_NETWORK_PACKET **)this = pRVar1;
  }
  else {
    pRVar2 = Get(this,param_1 + -1);
    *(undefined4 *)(pRVar1 + 0x18) = *(undefined4 *)(pRVar2 + 0x18);
    *(RKC_NETWORK_PACKET **)(pRVar2 + 0x18) = pRVar1;
  }
  ReleaseMutex(DAT_1000dcf0);
  ExceptionList = pvStack_c;
  return pRVar1;
}



/*
 * Function: Get
 * Address: 100023b0
 */

/* public: class RKC_NETWORK_PACKET * __thiscall RKC_NETWORK_PACKETBLOCK::Get(long) */

RKC_NETWORK_PACKET * __thiscall
RKC_NETWORK_PACKETBLOCK::Get(RKC_NETWORK_PACKETBLOCK *this,long param_1)

{
  RKC_NETWORK_PACKET *pRVar1;
  int iVar2;
  
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = *(RKC_NETWORK_PACKET **)this;
                    /* 0x23b0  48  ?Get@RKC_NETWORK_PACKETBLOCK@@QAEPAVRKC_NETWORK_PACKET@@J@Z */
  for (iVar2 = 0; (pRVar1 != (RKC_NETWORK_PACKET *)0x0 && (iVar2 != param_1)); iVar2 = iVar2 + 1) {
    pRVar1 = *(RKC_NETWORK_PACKET **)(pRVar1 + 0x18);
  }
  ReleaseMutex(DAT_1000dcf0);
  return pRVar1;
}



/*
 * Function: Delete
 * Address: 100023f0
 */

/* public: int __thiscall RKC_NETWORK_PACKETBLOCK::Delete(class RKC_NETWORK_PACKET *) */

int __thiscall
RKC_NETWORK_PACKETBLOCK::Delete(RKC_NETWORK_PACKETBLOCK *this,RKC_NETWORK_PACKET *param_1)

{
  RKC_NETWORK_PACKET *this_00;
  RKC_NETWORK_PACKET *pRVar1;
  RKC_NETWORK_PACKET *pRVar2;
  
                    /* 0x23f0  44  ?Delete@RKC_NETWORK_PACKETBLOCK@@QAEHPAVRKC_NETWORK_PACKET@@@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar2 = *(RKC_NETWORK_PACKET **)this;
  pRVar1 = (RKC_NETWORK_PACKET *)0x0;
  do {
    this_00 = pRVar2;
    if (this_00 == (RKC_NETWORK_PACKET *)0x0) {
LAB_1000242e:
      ReleaseMutex(DAT_1000dcf0);
      if (this_00 != (RKC_NETWORK_PACKET *)0x0) {
        RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(this_00);
        FUN_10003f26(this_00);
        return 1;
      }
      return 0;
    }
    if (this_00 == param_1) {
      if (pRVar1 == (RKC_NETWORK_PACKET *)0x0) {
        *(undefined4 *)this = *(undefined4 *)(this_00 + 0x18);
      }
      else {
        *(undefined4 *)(pRVar1 + 0x18) = *(undefined4 *)(this_00 + 0x18);
      }
      goto LAB_1000242e;
    }
    pRVar2 = *(RKC_NETWORK_PACKET **)(this_00 + 0x18);
    pRVar1 = this_00;
  } while( true );
}



/*
 * Function: Delete
 * Address: 10002460
 */

/* public: int __thiscall RKC_NETWORK_PACKETBLOCK::Delete(long) */

int __thiscall RKC_NETWORK_PACKETBLOCK::Delete(RKC_NETWORK_PACKETBLOCK *this,long param_1)

{
  RKC_NETWORK_PACKET *pRVar1;
  RKC_NETWORK_PACKET *this_00;
  
                    /* 0x2460  43  ?Delete@RKC_NETWORK_PACKETBLOCK@@QAEHJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  this_00 = *(RKC_NETWORK_PACKET **)this;
  if (this_00 == (RKC_NETWORK_PACKET *)0x0) {
    ReleaseMutex(DAT_1000dcf0);
    return 0;
  }
  if (param_1 == 0) {
    *(undefined4 *)this = *(undefined4 *)(this_00 + 0x18);
  }
  else {
    pRVar1 = Get(this,param_1 + -1);
    this_00 = *(RKC_NETWORK_PACKET **)(pRVar1 + 0x18);
    *(undefined4 *)(pRVar1 + 0x18) = *(undefined4 *)(this_00 + 0x18);
  }
  if (this_00 != (RKC_NETWORK_PACKET *)0x0) {
    RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(this_00);
    FUN_10003f26(this_00);
  }
  ReleaseMutex(DAT_1000dcf0);
  return 1;
}



/*
 * Function: GetCount
 * Address: 100024e0
 */

/* public: long __thiscall RKC_NETWORK_PACKETBLOCK::GetCount(void) */

long __thiscall RKC_NETWORK_PACKETBLOCK::GetCount(RKC_NETWORK_PACKETBLOCK *this)

{
  int iVar1;
  int iVar2;
  
                    /* 0x24e0  60  ?GetCount@RKC_NETWORK_PACKETBLOCK@@QAEJXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar2 = 0;
  for (iVar1 = *(int *)this; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x18)) {
    iVar2 = iVar2 + 1;
  }
  ReleaseMutex(DAT_1000dcf0);
  return iVar2;
}



/*
 * Function: GetCount
 * Address: 10002520
 */

/* public: long __thiscall RKC_NETWORK_PACKETBLOCK::GetCount(long) */

long __thiscall RKC_NETWORK_PACKETBLOCK::GetCount(RKC_NETWORK_PACKETBLOCK *this,long param_1)

{
  int *piVar1;
  int iVar2;
  
                    /* 0x2520  59  ?GetCount@RKC_NETWORK_PACKETBLOCK@@QAEJJ@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar2 = 0;
  for (piVar1 = *(int **)this; piVar1 != (int *)0x0; piVar1 = (int *)piVar1[6]) {
    if (*piVar1 == param_1) {
      iVar2 = iVar2 + 1;
    }
  }
  ReleaseMutex(DAT_1000dcf0);
  return iVar2;
}



/*
 * Function: GetNo
 * Address: 10002560
 */

/* public: long __thiscall RKC_NETWORK_PACKETBLOCK::GetNo(class RKC_NETWORK_PACKET *) */

long __thiscall
RKC_NETWORK_PACKETBLOCK::GetNo(RKC_NETWORK_PACKETBLOCK *this,RKC_NETWORK_PACKET *param_1)

{
  RKC_NETWORK_PACKET *pRVar1;
  int iVar2;
  
                    /* 0x2560  77  ?GetNo@RKC_NETWORK_PACKETBLOCK@@QAEJPAVRKC_NETWORK_PACKET@@@Z */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = *(RKC_NETWORK_PACKET **)this;
  iVar2 = 0;
  do {
    if (pRVar1 == (RKC_NETWORK_PACKET *)0x0) {
LAB_10002590:
      iVar2 = -1;
LAB_10002593:
      ReleaseMutex(DAT_1000dcf0);
      return iVar2;
    }
    if (param_1 == pRVar1) {
      if (pRVar1 != (RKC_NETWORK_PACKET *)0x0) goto LAB_10002593;
      goto LAB_10002590;
    }
    pRVar1 = *(RKC_NETWORK_PACKET **)(pRVar1 + 0x18);
    iVar2 = iVar2 + 1;
  } while( true );
}



/*
 * Function: RKC_NETWORK_SERVER
 * Address: 100025b0
 */

/* public: __thiscall RKC_NETWORK_SERVER::RKC_NETWORK_SERVER(void) */

RKC_NETWORK_SERVER * __thiscall RKC_NETWORK_SERVER::RKC_NETWORK_SERVER(RKC_NETWORK_SERVER *this)

{
  RKC_NETWORK_SERVER_SOCKETCOMP *this_00;
  undefined4 *puVar1;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x25b0  5  ??0RKC_NETWORK_SERVER@@QAE@XZ */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000948b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 8) = 0x3168;
  *(undefined4 *)(this + 0x1c4) = 0;
  this_00 = (RKC_NETWORK_SERVER_SOCKETCOMP *)operator_new(8);
  local_4 = 0;
  if (this_00 == (RKC_NETWORK_SERVER_SOCKETCOMP *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    puVar1 = (undefined4 *)RKC_NETWORK_SERVER_SOCKETCOMP::RKC_NETWORK_SERVER_SOCKETCOMP(this_00);
  }
  *(undefined4 **)(this + 0x14) = puVar1;
  *puVar1 = this;
  *(undefined4 *)(this + 0x1c8) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  *(undefined4 *)(this + 0x1d4) = 0;
  ExceptionList = local_c;
  return this;
}



/*
 * Function: ~RKC_NETWORK_SERVER
 * Address: 10002630
 */

/* public: __thiscall RKC_NETWORK_SERVER::~RKC_NETWORK_SERVER(void) */

void __thiscall RKC_NETWORK_SERVER::~RKC_NETWORK_SERVER(RKC_NETWORK_SERVER *this)

{
  RKC_NETWORK_SERVER_SOCKETCOMP *this_00;
  
                    /* 0x2630  16  ??1RKC_NETWORK_SERVER@@QAE@XZ */
  Release(this);
  this_00 = *(RKC_NETWORK_SERVER_SOCKETCOMP **)(this + 0x14);
  if (this_00 != (RKC_NETWORK_SERVER_SOCKETCOMP *)0x0) {
    RKC_NETWORK_SERVER_SOCKETCOMP::~RKC_NETWORK_SERVER_SOCKETCOMP(this_00);
    FUN_10003f26(this_00);
  }
  return;
}



/*
 * Function: Release
 * Address: 10002660
 */

/* public: void __thiscall RKC_NETWORK_SERVER::Release(void) */

void __thiscall RKC_NETWORK_SERVER::Release(RKC_NETWORK_SERVER *this)

{
  RKC_NETWORK_SERVER_CONNECTION *this_00;
  int iVar1;
  
                    /* 0x2660  105  ?Release@RKC_NETWORK_SERVER@@QAEXXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  if (*(HANDLE *)(this + 0x1c4) != (HANDLE)0x0) {
    TerminateThread(*(HANDLE *)(this + 0x1c4),0);
    *(undefined4 *)(this + 0x1c4) = 0;
  }
  if (*(int *)(this + 4) == 1) {
    Ordinal_116();
  }
  if (*(int *)(this + 0x10) != 0) {
    iVar1 = 0;
    if (0 < *(int *)(this + 0xc)) {
      do {
        this_00 = *(RKC_NETWORK_SERVER_CONNECTION **)(*(int *)(this + 0x10) + iVar1 * 4);
        if (this_00 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
          RKC_NETWORK_SERVER_CONNECTION::~RKC_NETWORK_SERVER_CONNECTION(this_00);
          FUN_10003f26(this_00);
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(this + 0xc));
    }
    GlobalFree(*(HGLOBAL *)(this + 0x10));
    *(undefined4 *)(this + 0x10) = 0;
  }
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)this = 0;
  *(undefined4 *)(this + 4) = 0;
  if (*(int *)(this + 0x1d4) != 0) {
    *(undefined4 *)(this + 0x1d4) = 0;
  }
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: Initialize
 * Address: 10002700
 */

/* public: int __thiscall RKC_NETWORK_SERVER::Initialize(long,long,class RKC_NETWORK_USERINFOBLOCK
   *,long,long,long) */

int __thiscall
RKC_NETWORK_SERVER::Initialize
          (RKC_NETWORK_SERVER *this,long param_1,long param_2,RKC_NETWORK_USERINFOBLOCK *param_3,
          long param_4,long param_5,long param_6)

{
  RKC_NETWORK_SERVER *pRVar1;
  int iVar2;
  undefined2 uVar3;
  int iVar4;
  undefined4 uVar5;
  HGLOBAL pvVar6;
  RKC_NETWORK_SERVER_CONNECTION *this_00;
  uint uVar7;
  int iVar8;
  undefined2 extraout_var;
  code *pcVar9;
  uint uVar10;
  void *unaff_EBP;
  bool bVar11;
  int unaff_retaddr;
  void *pvStack_c;
  undefined *puStack_8;
  int iStack_4;
  
                    /* 0x2700  97
                       ?Initialize@RKC_NETWORK_SERVER@@QAEHJJPAVRKC_NETWORK_USERINFOBLOCK@@JJJ@Z */
  iStack_4 = -1;
  puStack_8 = &LAB_100094ab;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  if (*(int *)(this + 4) == 1) {
    Release(this);
  }
  ReleaseMutex(DAT_1000dcf0);
  iVar4 = Ordinal_115(0x101,this + 0x20);
  if (iVar4 == 0) {
    pRVar1 = this + 0x1b0;
    *(undefined4 *)pRVar1 = 0;
    *(undefined4 *)(this + 0x1b4) = 0;
    *(undefined4 *)(this + 0x1b8) = 0;
    *(undefined4 *)(this + 0x1bc) = 0;
    uVar3 = Ordinal_9(CONCAT22(extraout_var,*(undefined2 *)(this + 8)));
    *(undefined2 *)(this + 0x1b2) = uVar3;
    *(undefined2 *)pRVar1 = 2;
    uVar5 = Ordinal_8(0);
    *(undefined4 *)(this + 0x1b4) = uVar5;
    iVar4 = Ordinal_23(2,1,0);
    *(int *)(this + 0x1c0) = iVar4;
    if (iVar4 == -1) {
      Ordinal_116();
      iVar4 = 0;
    }
    else {
      iVar4 = Ordinal_2(iVar4,pRVar1,0x10);
      pcVar9 = GlobalAlloc_exref;
      if (iVar4 == -1) {
        Ordinal_116();
        iVar4 = 0;
      }
      else {
        *(int *)(this + 0x1c) = unaff_retaddr * 2;
        *(int *)(this + 0xc) = iStack_4;
        pvVar6 = GlobalAlloc(0x40,iStack_4 * 4);
        *(HGLOBAL *)(this + 0x10) = pvVar6;
        iVar4 = 0;
        if (0 < *(int *)(this + 0xc)) {
          do {
            this_00 = (RKC_NETWORK_SERVER_CONNECTION *)operator_new(0x28);
            pvStack_c = (void *)0x0;
            if (this_00 == (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
              uVar5 = 0;
            }
            else {
              uVar5 = RKC_NETWORK_SERVER_CONNECTION::RKC_NETWORK_SERVER_CONNECTION(this_00);
            }
            pvStack_c = (void *)0xffffffff;
            *(undefined4 *)(*(int *)(this + 0x10) + iVar4 * 4) = uVar5;
            *(RKC_NETWORK_SERVER **)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 8) = this;
            *(undefined4 *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0xc) =
                 *(undefined4 *)(this + 0x1c);
            uVar5 = (*pcVar9)(0,*(int *)(this + 0x1c) << 2);
            *(undefined4 *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x1c) = uVar5;
            uVar5 = (*pcVar9)(0,*(int *)(this + 0x1c) * 0x14);
            uVar10 = 0;
            *(undefined4 *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x18) = uVar5;
            if (0 < *(int *)(this + 0x1c)) {
              iVar8 = 0;
              do {
                *(undefined4 *)
                 (*(int *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x1c) + uVar10 * 4) =
                     0xffffffff;
                *(uint *)(*(int *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x18) + 8 + iVar8)
                     = uVar10;
                *(undefined4 *)
                 (*(int *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x18) + 4 + iVar8) = 0;
                iVar2 = *(int *)(*(int *)(this + 0x10) + iVar4 * 4);
                *(int *)(*(int *)(iVar2 + 0x18) + iVar8) = iVar2;
                *(int *)(*(int *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x18) + 0x10 + iVar8
                        ) = (int)uVar10 / 2;
                uVar7 = uVar10 & 0x80000001;
                bVar11 = uVar7 == 0;
                if ((int)uVar7 < 0) {
                  bVar11 = (uVar7 - 1 | 0xfffffffe) == 0xffffffff;
                }
                if (bVar11) {
                  *(undefined4 *)
                   (*(int *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x18) + 0xc + iVar8) = 0;
                }
                else {
                  *(undefined4 *)
                   (*(int *)(*(int *)(*(int *)(this + 0x10) + iVar4 * 4) + 0x18) + 0xc + iVar8) = 1;
                }
                uVar10 = uVar10 + 1;
                iVar8 = iVar8 + 0x14;
              } while ((int)uVar10 < *(int *)(this + 0x1c));
            }
            iVar4 = iVar4 + 1;
            pcVar9 = GlobalAlloc_exref;
          } while (iVar4 < *(int *)(this + 0xc));
        }
        *(long *)(this + 0x1d4) = param_1;
        *(long *)(this + 0x1d0) = param_4;
        iVar4 = 1;
        *(long *)(this + 0x1cc) = param_2;
        *(RKC_NETWORK_USERINFOBLOCK **)(this + 0x1d8) = param_3;
        *(undefined4 *)(this + 4) = 1;
      }
    }
  }
  else {
    iVar4 = 0;
  }
  ExceptionList = unaff_EBP;
  return iVar4;
}



/*
 * Function: GetConnection
 * Address: 10002970
 */

/* public: class RKC_NETWORK_SERVER_CONNECTION * __thiscall
   RKC_NETWORK_SERVER::GetConnection(long,struct RKC_NETWORK_IP *,long) */

RKC_NETWORK_SERVER_CONNECTION * __thiscall
RKC_NETWORK_SERVER::GetConnection
          (RKC_NETWORK_SERVER *this,long param_1,RKC_NETWORK_IP *param_2,long param_3)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  RKC_NETWORK_SERVER_CONNECTION *pRVar4;
  
                    /* 0x2970  56
                       ?GetConnection@RKC_NETWORK_SERVER@@QAEPAVRKC_NETWORK_SERVER_CONNECTION@@JPAURKC_NETWORK_IP@@J@Z
                        */
  pRVar4 = (RKC_NETWORK_SERVER_CONNECTION *)0x0;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar2 = 0;
  if (0 < *(int *)(this + 0xc)) {
    piVar3 = *(int **)(this + 0x10);
    do {
      piVar1 = (int *)*piVar3;
      if (piVar1[4] == 2) {
        if (param_2 == (RKC_NETWORK_IP *)0x0) {
          if (param_1 < 0) {
            if ((-1 < param_3) && (piVar1[1] == param_3)) goto LAB_100029f6;
          }
          else if (*piVar1 == param_1) {
LAB_100029f6:
            pRVar4 = (RKC_NETWORK_SERVER_CONNECTION *)(*(int **)(this + 0x10))[iVar2];
            goto LAB_100029f9;
          }
        }
        else if ((((*(RKC_NETWORK_IP *)(piVar1 + 5) == *param_2) &&
                  (*(RKC_NETWORK_IP *)((int)piVar1 + 0x15) == param_2[1])) &&
                 (*(RKC_NETWORK_IP *)((int)piVar1 + 0x16) == param_2[2])) &&
                (*(RKC_NETWORK_IP *)((int)piVar1 + 0x17) == param_2[3])) goto LAB_100029f6;
      }
      iVar2 = iVar2 + 1;
      piVar3 = piVar3 + 1;
    } while (iVar2 < *(int *)(this + 0xc));
    pRVar4 = (RKC_NETWORK_SERVER_CONNECTION *)0x0;
  }
LAB_100029f9:
  ReleaseMutex(DAT_1000dcf0);
  return pRVar4;
}



/*
 * Function: GetUseConnection
 * Address: 10002a10
 */

/* public: class RKC_NETWORK_SERVER_CONNECTION * __thiscall
   RKC_NETWORK_SERVER::GetUseConnection(long,struct RKC_NETWORK_IP *,long) */

RKC_NETWORK_SERVER_CONNECTION * __thiscall
RKC_NETWORK_SERVER::GetUseConnection
          (RKC_NETWORK_SERVER *this,long param_1,RKC_NETWORK_IP *param_2,long param_3)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  RKC_NETWORK_SERVER_CONNECTION *pRVar4;
  
                    /* 0x2a10  90
                       ?GetUseConnection@RKC_NETWORK_SERVER@@QAEPAVRKC_NETWORK_SERVER_CONNECTION@@JPAURKC_NETWORK_IP@@J@Z
                        */
  pRVar4 = (RKC_NETWORK_SERVER_CONNECTION *)0x0;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar2 = 0;
  if (0 < *(int *)(this + 0xc)) {
    piVar3 = *(int **)(this + 0x10);
    do {
      piVar1 = (int *)*piVar3;
      if (piVar1[4] != 0) {
        if (param_2 == (RKC_NETWORK_IP *)0x0) {
          if (param_1 < 0) {
            if ((-1 < param_3) && (piVar1[1] == param_3)) goto LAB_10002a97;
          }
          else if (*piVar1 == param_1) {
LAB_10002a97:
            pRVar4 = (RKC_NETWORK_SERVER_CONNECTION *)(*(int **)(this + 0x10))[iVar2];
            goto LAB_10002a9a;
          }
        }
        else if ((((*(RKC_NETWORK_IP *)(piVar1 + 5) == *param_2) &&
                  (*(RKC_NETWORK_IP *)((int)piVar1 + 0x15) == param_2[1])) &&
                 (*(RKC_NETWORK_IP *)((int)piVar1 + 0x16) == param_2[2])) &&
                (*(RKC_NETWORK_IP *)((int)piVar1 + 0x17) == param_2[3])) goto LAB_10002a97;
      }
      iVar2 = iVar2 + 1;
      piVar3 = piVar3 + 1;
    } while (iVar2 < *(int *)(this + 0xc));
    pRVar4 = (RKC_NETWORK_SERVER_CONNECTION *)0x0;
  }
LAB_10002a9a:
  ReleaseMutex(DAT_1000dcf0);
  return pRVar4;
}



/*
 * Function: GetEmptyConnection
 * Address: 10002ac0
 */

/* public: class RKC_NETWORK_SERVER_CONNECTION * __thiscall
   RKC_NETWORK_SERVER::GetEmptyConnection(void) */

RKC_NETWORK_SERVER_CONNECTION * __thiscall
RKC_NETWORK_SERVER::GetEmptyConnection(RKC_NETWORK_SERVER *this)

{
  void *pvVar1;
  RKC_NETWORK_SERVER_CONNECTION *pRVar2;
  int iVar3;
  
                    /* 0x2ac0  64
                       ?GetEmptyConnection@RKC_NETWORK_SERVER@@QAEPAVRKC_NETWORK_SERVER_CONNECTION@@XZ
                        */
  pRVar2 = (RKC_NETWORK_SERVER_CONNECTION *)0x0;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar3 = 0;
  if (0 < *(int *)(this + 0xc)) {
    while( true ) {
      pvVar1 = RKC_NETWORK_PACKET::GetData
                         (*(RKC_NETWORK_PACKET **)(*(int *)(this + 0x10) + iVar3 * 4));
      if (pvVar1 == (void *)0x0) break;
      iVar3 = iVar3 + 1;
      if (*(int *)(this + 0xc) <= iVar3) {
        ReleaseMutex(DAT_1000dcf0);
        return (RKC_NETWORK_SERVER_CONNECTION *)0x0;
      }
    }
    pRVar2 = *(RKC_NETWORK_SERVER_CONNECTION **)(*(int *)(this + 0x10) + iVar3 * 4);
  }
  ReleaseMutex(DAT_1000dcf0);
  return pRVar2;
}



/*
 * Function: GetActiveConnectionCount
 * Address: 10002b20
 */

/* public: long __thiscall RKC_NETWORK_SERVER::GetActiveConnectionCount(void) */

long __thiscall RKC_NETWORK_SERVER::GetActiveConnectionCount(RKC_NETWORK_SERVER *this)

{
  void *pvVar1;
  long lVar2;
  int iVar3;
  
                    /* 0x2b20  51  ?GetActiveConnectionCount@RKC_NETWORK_SERVER@@QAEJXZ */
  lVar2 = 0;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar3 = 0;
  if (0 < *(int *)(this + 0xc)) {
    do {
      pvVar1 = RKC_NETWORK_PACKET::GetData
                         (*(RKC_NETWORK_PACKET **)(*(int *)(this + 0x10) + iVar3 * 4));
      if (pvVar1 != (void *)0x0) {
        lVar2 = lVar2 + 1;
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < *(int *)(this + 0xc));
  }
  ReleaseMutex(DAT_1000dcf0);
  return lVar2;
}



/*
 * Function: Start
 * Address: 10002b70
 */

/* public: int __thiscall RKC_NETWORK_SERVER::Start(void) */

int __thiscall RKC_NETWORK_SERVER::Start(RKC_NETWORK_SERVER *this)

{
  int iVar1;
  HANDLE pvVar2;
  DWORD DStack_c;
  
                    /* 0x2b70  130  ?Start@RKC_NETWORK_SERVER@@QAEHXZ */
  if (*(int *)(this + 4) == 0) {
    return 0;
  }
  DStack_c = 1;
  iVar1 = Ordinal_13(*(undefined4 *)(this + 0x1c0));
  if (iVar1 == -1) {
    Release(this);
    return 0;
  }
  pvVar2 = CreateThread((LPSECURITY_ATTRIBUTES)0x0,0,(LPTHREAD_START_ROUTINE)&LAB_10002c40,this,0,
                        &DStack_c);
  *(HANDLE *)(this + 0x1c4) = pvVar2;
  if (pvVar2 == (HANDLE)0x0) {
    Release(this);
    return 0;
  }
  *(undefined4 *)this = 1;
  return 1;
}



/*
 * Function: Stop
 * Address: 10002be0
 */

/* public: int __thiscall RKC_NETWORK_SERVER::Stop(void) */

int __thiscall RKC_NETWORK_SERVER::Stop(RKC_NETWORK_SERVER *this)

{
                    /* 0x2be0  131  ?Stop@RKC_NETWORK_SERVER@@QAEHXZ */
  Release(this);
  return 1;
}



/*
 * Function: AcceptThreadFunction
 * Address: 10002bf0
 */

/* public: void __thiscall RKC_NETWORK_SERVER::AcceptThreadFunction(void) */

void __thiscall RKC_NETWORK_SERVER::AcceptThreadFunction(RKC_NETWORK_SERVER *this)

{
  uint uVar1;
  undefined4 local_14;
  undefined local_10 [16];
  
                    /* 0x2bf0  34  ?AcceptThreadFunction@RKC_NETWORK_SERVER@@QAEXXZ */
  local_14 = 0x10;
  while( true ) {
    uVar1 = Ordinal_1(*(undefined4 *)(this + 0x1c0),local_10,&local_14);
    if (uVar1 == 0xffffffff) break;
    RKC_NETWORK_SERVER_SOCKETCOMP::InsertComparisionSocket
              (*(RKC_NETWORK_SERVER_SOCKETCOMP **)(this + 0x14),uVar1);
  }
                    /* WARNING: Subroutine does not return */
  ExitThread(0);
}



/*
 * Function: GetSocketCount
 * Address: 10002c50
 */

/* public: long __thiscall RKC_NETWORK_SERVER::GetSocketCount(void) */

long __thiscall RKC_NETWORK_SERVER::GetSocketCount(RKC_NETWORK_SERVER *this)

{
                    /* 0x2c50  88  ?GetSocketCount@RKC_NETWORK_SERVER@@QAEJXZ */
  return *(long *)(this + 0x1c);
}



/*
 * Function: GetConnection
 * Address: 10002c60
 */

/* public: class RKC_NETWORK_SERVER_CONNECTION * __thiscall RKC_NETWORK_SERVER::GetConnection(long)
    */

RKC_NETWORK_SERVER_CONNECTION * __thiscall
RKC_NETWORK_SERVER::GetConnection(RKC_NETWORK_SERVER *this,long param_1)

{
                    /* 0x2c60  55
                       ?GetConnection@RKC_NETWORK_SERVER@@QAEPAVRKC_NETWORK_SERVER_CONNECTION@@J@Z
                        */
  return *(RKC_NETWORK_SERVER_CONNECTION **)(*(int *)(this + 0x10) + param_1 * 4);
}



/*
 * Function: GetUserInfoBlock
 * Address: 10002c70
 */

/* public: class RKC_NETWORK_USERINFOBLOCK * __thiscall RKC_NETWORK_SERVER::GetUserInfoBlock(void)
    */

RKC_NETWORK_USERINFOBLOCK * __thiscall
RKC_NETWORK_SERVER::GetUserInfoBlock(RKC_NETWORK_SERVER *this)

{
                    /* 0x2c70  94
                       ?GetUserInfoBlock@RKC_NETWORK_SERVER@@QAEPAVRKC_NETWORK_USERINFOBLOCK@@XZ */
  return *(RKC_NETWORK_USERINFOBLOCK **)(this + 0x1d4);
}



/*
 * Function: RKC_NETWORK_SERVER_CONNECTION
 * Address: 10002c80
 */

/* public: __thiscall RKC_NETWORK_SERVER_CONNECTION::RKC_NETWORK_SERVER_CONNECTION(void) */

RKC_NETWORK_SERVER_CONNECTION * __thiscall
RKC_NETWORK_SERVER_CONNECTION::RKC_NETWORK_SERVER_CONNECTION(RKC_NETWORK_SERVER_CONNECTION *this)

{
  RKC_NETWORK_PACKETBLOCK *pRVar1;
  undefined4 uVar2;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x2c80  6  ??0RKC_NETWORK_SERVER_CONNECTION@@QAE@XZ */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_100094d6;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x1c) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  pRVar1 = (RKC_NETWORK_PACKETBLOCK *)operator_new(4);
  local_4 = 0;
  if (pRVar1 == (RKC_NETWORK_PACKETBLOCK *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = RKC_NETWORK_PACKETBLOCK::RKC_NETWORK_PACKETBLOCK(pRVar1);
  }
  local_4 = 0xffffffff;
  *(undefined4 *)(this + 0x20) = uVar2;
  pRVar1 = (RKC_NETWORK_PACKETBLOCK *)operator_new(4);
  local_4 = 1;
  if (pRVar1 == (RKC_NETWORK_PACKETBLOCK *)0x0) {
    uVar2 = 0;
  }
  else {
    uVar2 = RKC_NETWORK_PACKETBLOCK::RKC_NETWORK_PACKETBLOCK(pRVar1);
  }
  *(undefined4 *)(this + 0x24) = uVar2;
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)(this + 4) = 0xffffffff;
  ExceptionList = local_c;
  return this;
}



/*
 * Function: ~RKC_NETWORK_SERVER_CONNECTION
 * Address: 10002d20
 */

/* public: __thiscall RKC_NETWORK_SERVER_CONNECTION::~RKC_NETWORK_SERVER_CONNECTION(void) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::~RKC_NETWORK_SERVER_CONNECTION(RKC_NETWORK_SERVER_CONNECTION *this)

{
  RKC_NETWORK_PACKETBLOCK *pRVar1;
  
                    /* 0x2d20  17  ??1RKC_NETWORK_SERVER_CONNECTION@@QAE@XZ */
  Release(this);
  pRVar1 = *(RKC_NETWORK_PACKETBLOCK **)(this + 0x20);
  if (pRVar1 != (RKC_NETWORK_PACKETBLOCK *)0x0) {
    RKC_NETWORK_PACKETBLOCK::~RKC_NETWORK_PACKETBLOCK(pRVar1);
    FUN_10003f26(pRVar1);
  }
  pRVar1 = *(RKC_NETWORK_PACKETBLOCK **)(this + 0x24);
  if (pRVar1 != (RKC_NETWORK_PACKETBLOCK *)0x0) {
    RKC_NETWORK_PACKETBLOCK::~RKC_NETWORK_PACKETBLOCK(pRVar1);
    FUN_10003f26(pRVar1);
  }
  if (*(HGLOBAL *)(this + 0x18) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0x18));
  }
  if (*(HGLOBAL *)(this + 0x1c) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0x1c));
  }
  return;
}



/*
 * Function: Release
 * Address: 10002d80
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::Release(void) */

void __thiscall RKC_NETWORK_SERVER_CONNECTION::Release(RKC_NETWORK_SERVER_CONNECTION *this)

{
  HANDLE hThread;
  int iVar1;
  int iVar2;
  
                    /* 0x2d80  106  ?Release@RKC_NETWORK_SERVER_CONNECTION@@QAEXXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  iVar1 = 0;
  *(undefined4 *)(this + 0x10) = 0;
  if ((*(int *)(this + 0x18) != 0) && (iVar2 = 0, 0 < *(int *)(this + 0xc))) {
    do {
      hThread = *(HANDLE *)(*(int *)(this + 0x18) + 4 + iVar1);
      if (hThread != (HANDLE)0x0) {
        TerminateThread(hThread,0);
        *(undefined4 *)(*(int *)(this + 0x18) + 4 + iVar1) = 0;
      }
      iVar2 = iVar2 + 1;
      iVar1 = iVar1 + 0x14;
    } while (iVar2 < *(int *)(this + 0xc));
  }
  if ((*(int *)(this + 0x1c) != 0) && (iVar1 = 0, 0 < *(int *)(this + 0xc))) {
    do {
      iVar2 = *(int *)(*(int *)(this + 0x1c) + iVar1 * 4);
      if (iVar2 != -1) {
        Ordinal_22(iVar2,2);
        Ordinal_3(*(undefined4 *)(*(int *)(this + 0x1c) + iVar1 * 4));
        *(undefined4 *)(*(int *)(this + 0x1c) + iVar1 * 4) = 0xffffffff;
      }
      iVar1 = iVar1 + 1;
    } while (iVar1 < *(int *)(this + 0xc));
  }
  RKC_NETWORK_PACKETBLOCK::Release(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20));
  RKC_NETWORK_PACKETBLOCK::Release(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x24));
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)(this + 4) = 0xffffffff;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: CreateConnectionThread
 * Address: 10002e50
 */

/* public: int __thiscall RKC_NETWORK_SERVER_CONNECTION::CreateConnectionThread(long) */

int __thiscall
RKC_NETWORK_SERVER_CONNECTION::CreateConnectionThread
          (RKC_NETWORK_SERVER_CONNECTION *this,long param_1)

{
  HANDLE pvVar1;
  int iVar2;
  
                    /* 0x2e50  42  ?CreateConnectionThread@RKC_NETWORK_SERVER_CONNECTION@@QAEHJ@Z */
  iVar2 = param_1 * 0x14;
  pvVar1 = CreateThread((LPSECURITY_ATTRIBUTES)0x0,0,(LPTHREAD_START_ROUTINE)&LAB_10003230,
                        (LPVOID)(*(int *)(this + 0x18) + iVar2),0,(LPDWORD)&param_1);
  *(HANDLE *)(*(int *)(this + 0x18) + 4 + iVar2) = pvVar1;
  if (*(int *)(*(int *)(this + 0x18) + 4 + iVar2) == 0) {
    Release(this);
    return 0;
  }
  return 1;
}



/*
 * Function: ConnectionThread
 * Address: 10002eb0
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::ConnectionThread(long) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::ConnectionThread(RKC_NETWORK_SERVER_CONNECTION *this,long param_1)

{
  RKC_NETWORK_SERVER *pRVar1;
  RKC_NETWORK_SERVER *this_00;
  int iVar2;
  RKC_NETWORK_PACKET *pRVar3;
  uint *puVar4;
  long lVar5;
  uint uVar6;
  int *piVar7;
  int *piVar8;
  uchar *puVar9;
  uint uVar10;
  code *pcVar11;
  int iVar12;
  long local_28;
  int local_24;
  RKC_NETWORK_TRANSFER local_20 [4];
  int *piStack_1c;
  RKC_NETWORK_PACKET *local_18;
  uint uStack_14;
  RKC_NETWORK_SERVER *pRStack_10;
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x2eb0  40  ?ConnectionThread@RKC_NETWORK_SERVER_CONNECTION@@QAEXJ@Z */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_100094e8;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_NETWORK_TRANSFER::RKC_NETWORK_TRANSFER(local_20);
  local_4 = 0;
  iVar12 = param_1 * 0x14;
  local_24 = iVar12;
  if (*(int *)(iVar12 + 0xc + *(int *)(this + 0x18)) != 1) {
    do {
      pRVar3 = (RKC_NETWORK_PACKET *)0x0;
      WaitForSingleObject(DAT_1000dcf0,0xffffffff);
      lVar5 = RKC_NETWORK_PACKETBLOCK::GetCount
                        (*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20),
                         *(long *)(iVar12 + 0x10 + *(int *)(this + 0x18)));
      if (lVar5 != 0) {
        local_28 = 0;
        for (pRVar1 = (RKC_NETWORK_SERVER *)**(undefined4 **)(this + 0x20);
            pRVar1 != (RKC_NETWORK_SERVER *)0x0; pRVar1 = *(RKC_NETWORK_SERVER **)(pRVar1 + 0x18)) {
          iVar2 = RKC_NETWORK_SERVER::GetActiveFlag(pRVar1);
          if (iVar2 == *(int *)(iVar12 + 0x10 + *(int *)(this + 0x18))) {
            local_28 = local_28 + 0xc;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)pRVar1);
            local_28 = local_28 + uVar6;
          }
        }
        pRVar3 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20),0);
        local_18 = pRVar3;
        RKC_NETWORK_PACKET::SetLine(pRVar3,-1);
        RKC_NETWORK_PACKET::AllocateData(pRVar3,local_28);
        piVar7 = (int *)RKC_NETWORK_PACKET::GetData(pRVar3);
        pRVar1 = *(RKC_NETWORK_SERVER **)(**(int **)(this + 0x20) + 0x18);
        iVar12 = local_24;
        pRVar3 = local_18;
        while (this_00 = pRVar1, local_24 = iVar12, local_18 = pRVar3,
              this_00 != (RKC_NETWORK_SERVER *)0x0) {
          pRVar1 = *(RKC_NETWORK_SERVER **)(this_00 + 0x18);
          pRStack_10 = pRVar1;
          iVar2 = RKC_NETWORK_SERVER::GetActiveFlag(this_00);
          iVar12 = local_24;
          pRVar3 = local_18;
          if (iVar2 == *(int *)(local_24 + 0x10 + *(int *)(this + 0x18))) {
            iVar12 = RKC_NETWORK_CLIENT::GetActiveFlag((RKC_NETWORK_CLIENT *)this_00);
            *piVar7 = iVar12;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)this_00);
            piVar7[1] = uVar6;
            lVar5 = RKC_NETWORK_SERVER::GetConnectionCount(this_00);
            piVar7[2] = lVar5;
            piStack_1c = piVar7 + 3;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)this_00);
            piVar8 = (int *)RKC_NETWORK_PACKET::GetData((RKC_NETWORK_PACKET *)this_00);
            piVar7 = piVar7 + 3;
            for (uVar10 = uVar6 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
              *piVar7 = *piVar8;
              piVar8 = piVar8 + 1;
              piVar7 = piVar7 + 1;
            }
            for (uVar10 = uVar6 & 3; uVar10 != 0; uVar10 = uVar10 - 1) {
              *(undefined *)piVar7 = *(undefined *)piVar8;
              piVar8 = (int *)((int)piVar8 + 1);
              piVar7 = (int *)((int)piVar7 + 1);
            }
            uStack_14 = uVar6;
            uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)this_00);
            piStack_1c = (int *)((int)piStack_1c + uVar6);
            RKC_NETWORK_PACKETBLOCK::Delete
                      (*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20),(RKC_NETWORK_PACKET *)this_00);
            pRVar1 = pRStack_10;
            piVar7 = piStack_1c;
            iVar12 = local_24;
            pRVar3 = local_18;
          }
        }
      }
      ReleaseMutex(DAT_1000dcf0);
      if (pRVar3 != (RKC_NETWORK_PACKET *)0x0) {
        iVar2 = RKC_NETWORK_TRANSFER::Send
                          (local_20,*(uint *)(*(int *)(this + 0x1c) + param_1 * 4),
                           (uchar *)&local_28,4);
        pcVar11 = WaitForSingleObject_exref;
        if (iVar2 == 0) goto LAB_100031d2;
        uVar6 = RKC_NETWORK_SERVER_SOCKET::Get((RKC_NETWORK_SERVER_SOCKET *)pRVar3);
        puVar9 = (uchar *)RKC_NETWORK_PACKET::GetData(pRVar3);
        iVar2 = RKC_NETWORK_TRANSFER::Send
                          (local_20,*(uint *)(*(int *)(this + 0x1c) + param_1 * 4),puVar9,uVar6);
        pcVar11 = WaitForSingleObject_exref;
        if (iVar2 == 0) goto LAB_100031d2;
        RKC_NETWORK_PACKETBLOCK::Delete(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20),pRVar3);
      }
      Sleep(1);
    } while( true );
  }
  while (iVar12 = local_24,
        iVar2 = RKC_NETWORK_TRANSFER::Recv
                          (local_20,*(uint *)(*(int *)(this + 0x1c) + param_1 * 4),
                           (uchar *)&local_28,4), pcVar11 = WaitForSingleObject_exref, iVar2 != 0) {
    WaitForSingleObject(DAT_1000dcf0,0xffffffff);
    pRVar3 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x24),0);
    local_18 = pRVar3;
    RKC_NETWORK_PACKET::SetLine(pRVar3,-1);
    RKC_NETWORK_PACKET::AllocateData(pRVar3,local_28);
    puVar4 = (uint *)RKC_NETWORK_PACKET::GetData(pRVar3);
    ReleaseMutex(DAT_1000dcf0);
    iVar2 = RKC_NETWORK_TRANSFER::Recv
                      (local_20,*(uint *)(*(int *)(this + 0x1c) + param_1 * 4),(uchar *)puVar4,
                       local_28);
    iVar12 = local_24;
    if (iVar2 == 0) break;
    WaitForSingleObject(DAT_1000dcf0,0xffffffff);
    iVar12 = 0;
    if (local_28 != 0) {
      do {
        uStack_14 = *puVar4;
        uVar6 = puVar4[1];
        piStack_1c = (int *)puVar4[2];
        lVar5 = RKC_NETWORK_PACKETBLOCK::GetCount(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x24));
        pRVar3 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x24),lVar5);
        RKC_NETWORK_PACKET::SetParam
                  (pRVar3,*(long *)(local_24 + 0x10 + *(int *)(this + 0x18)),uStack_14,uVar6,
                   (long)piStack_1c,puVar4 + 3,-1);
        iVar12 = uVar6 + 0xc + iVar12;
        puVar4 = (uint *)((int)(puVar4 + 3) + uVar6);
        pRVar3 = local_18;
      } while (iVar12 != local_28);
    }
    ReleaseMutex(DAT_1000dcf0);
    RKC_NETWORK_PACKETBLOCK::Delete(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x24),pRVar3);
  }
LAB_100031d2:
  (*pcVar11)(DAT_1000dcf0,0xffffffff);
  *(undefined4 *)(iVar12 + 4 + *(int *)(this + 0x18)) = 0;
  Release(this);
  ReleaseMutex(DAT_1000dcf0);
                    /* WARNING: Subroutine does not return */
  ExitThread(0);
}



/*
 * Function: SetSendPacket
 * Address: 10003240
 */

/* public: long __thiscall RKC_NETWORK_SERVER_CONNECTION::SetSendPacket(long,long,long,void
   *,long,int,int) */

long __thiscall
RKC_NETWORK_SERVER_CONNECTION::SetSendPacket
          (RKC_NETWORK_SERVER_CONNECTION *this,long param_1,long param_2,long param_3,void *param_4,
          long param_5,int param_6,int param_7)

{
  RKC_NETWORK_PACKET *pRVar1;
  bool bVar2;
  long lVar3;
  RKC_NETWORK_PACKET *pRVar4;
  RKC_NETWORK_PACKET *pRVar5;
  RKC_NETWORK_PACKET *this_00;
  
                    /* 0x3240  123  ?SetSendPacket@RKC_NETWORK_SERVER_CONNECTION@@QAEJJJJPAXJHH@Z */
  pRVar4 = (RKC_NETWORK_PACKET *)0x0;
  bVar2 = false;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  if ((param_6 == 1) &&
     (this_00 = (RKC_NETWORK_PACKET *)**(int **)(this + 0x20), this_00 != (RKC_NETWORK_PACKET *)0x0)
     ) {
    do {
      pRVar1 = *(RKC_NETWORK_PACKET **)(this_00 + 0x18);
      pRVar5 = this_00;
      if ((*(int *)(this_00 + 0x14) == param_5) && (*(int *)this_00 == param_1)) {
        if (pRVar4 == (RKC_NETWORK_PACKET *)0x0) {
          **(int **)(this + 0x20) = (int)pRVar1;
        }
        else {
          *(RKC_NETWORK_PACKET **)(pRVar4 + 0x18) = pRVar1;
        }
        if (!bVar2) {
          bVar2 = true;
          param_6 = (int)pRVar4;
        }
        pRVar5 = pRVar4;
        if (this_00 != (RKC_NETWORK_PACKET *)0x0) {
          RKC_NETWORK_PACKET::~RKC_NETWORK_PACKET(this_00);
          FUN_10003f26(this_00);
        }
      }
      pRVar4 = pRVar5;
      this_00 = pRVar1;
    } while (pRVar1 != (RKC_NETWORK_PACKET *)0x0);
    if (bVar2) {
      if (param_6 == 0) {
        lVar3 = 0;
      }
      else {
        lVar3 = RKC_NETWORK_PACKETBLOCK::GetNo
                          (*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20),(RKC_NETWORK_PACKET *)param_6)
        ;
        lVar3 = lVar3 + 1;
      }
      goto LAB_10003303;
    }
  }
  if (param_7 == 0) {
    lVar3 = RKC_NETWORK_PACKETBLOCK::GetCount(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20));
  }
  else {
    lVar3 = 0;
  }
LAB_10003303:
  pRVar4 = RKC_NETWORK_PACKETBLOCK::Insert(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x20),lVar3);
  lVar3 = *(long *)(*(int *)(this + 8) + 0x1c8);
  RKC_NETWORK_PACKET::SetParam(pRVar4,param_1,lVar3,param_2,param_3,param_4,param_5);
  *(int *)(*(int *)(this + 8) + 0x1c8) = *(int *)(*(int *)(this + 8) + 0x1c8) + 1;
  ReleaseMutex(DAT_1000dcf0);
  return lVar3;
}



/*
 * Function: GetRecvPacket
 * Address: 10003360
 */

/* public: class RKC_NETWORK_PACKET * __thiscall
   RKC_NETWORK_SERVER_CONNECTION::GetRecvPacket(long,long) */

RKC_NETWORK_PACKET * __thiscall
RKC_NETWORK_SERVER_CONNECTION::GetRecvPacket
          (RKC_NETWORK_SERVER_CONNECTION *this,long param_1,long param_2)

{
  RKC_NETWORK_PACKET *pRVar1;
  
                    /* 0x3360  80
                       ?GetRecvPacket@RKC_NETWORK_SERVER_CONNECTION@@QAEPAVRKC_NETWORK_PACKET@@JJ@Z
                        */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  for (pRVar1 = (RKC_NETWORK_PACKET *)**(undefined4 **)(this + 0x24);
      (pRVar1 != (RKC_NETWORK_PACKET *)0x0 &&
      ((*(int *)pRVar1 != param_1 || ((param_2 != -1 && (*(int *)(pRVar1 + 0xc) != param_2))))));
      pRVar1 = *(RKC_NETWORK_PACKET **)(pRVar1 + 0x18)) {
  }
  ReleaseMutex(DAT_1000dcf0);
  return pRVar1;
}



/*
 * Function: DeleteRecvPacket
 * Address: 100033b0
 */

/* public: int __thiscall RKC_NETWORK_SERVER_CONNECTION::DeleteRecvPacket(class RKC_NETWORK_PACKET
   *) */

int __thiscall
RKC_NETWORK_SERVER_CONNECTION::DeleteRecvPacket
          (RKC_NETWORK_SERVER_CONNECTION *this,RKC_NETWORK_PACKET *param_1)

{
  int iVar1;
  
                    /* 0x33b0  47
                       ?DeleteRecvPacket@RKC_NETWORK_SERVER_CONNECTION@@QAEHPAVRKC_NETWORK_PACKET@@@Z
                        */
  iVar1 = RKC_NETWORK_PACKETBLOCK::Delete(*(RKC_NETWORK_PACKETBLOCK **)(this + 0x24),param_1);
  return iVar1;
}



/*
 * Function: GetIP
 * Address: 100033c0
 */

/* public: struct RKC_NETWORK_IP * __thiscall RKC_NETWORK_SERVER_CONNECTION::GetIP(void) */

RKC_NETWORK_IP * __thiscall
RKC_NETWORK_SERVER_CONNECTION::GetIP(RKC_NETWORK_SERVER_CONNECTION *this)

{
                    /* 0x33c0  72  ?GetIP@RKC_NETWORK_SERVER_CONNECTION@@QAEPAURKC_NETWORK_IP@@XZ */
  return (RKC_NETWORK_IP *)(this + 0x14);
}



/*
 * Function: GetSocket
 * Address: 100033d0
 */

/* public: unsigned int __thiscall RKC_NETWORK_SERVER_CONNECTION::GetSocket(long) */

uint __thiscall
RKC_NETWORK_SERVER_CONNECTION::GetSocket(RKC_NETWORK_SERVER_CONNECTION *this,long param_1)

{
                    /* 0x33d0  87  ?GetSocket@RKC_NETWORK_SERVER_CONNECTION@@QAEIJ@Z */
  return *(uint *)(*(int *)(this + 0x1c) + param_1 * 4);
}



/*
 * Function: SetStatus
 * Address: 100033e0
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::SetStatus(long) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::SetStatus(RKC_NETWORK_SERVER_CONNECTION *this,long param_1)

{
                    /* 0x33e0  125  ?SetStatus@RKC_NETWORK_SERVER_CONNECTION@@QAEXJ@Z */
  *(long *)(this + 0x10) = param_1;
  return;
}



/*
 * Function: SetIP
 * Address: 100033f0
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::SetIP(struct RKC_NETWORK_IP *) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::SetIP(RKC_NETWORK_SERVER_CONNECTION *this,RKC_NETWORK_IP *param_1)

{
                    /* 0x33f0  116  ?SetIP@RKC_NETWORK_SERVER_CONNECTION@@QAEXPAURKC_NETWORK_IP@@@Z
                        */
  *(undefined4 *)(this + 0x14) = *(undefined4 *)param_1;
  return;
}



/*
 * Function: SetSocket
 * Address: 10003400
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::SetSocket(long,unsigned int) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::SetSocket
          (RKC_NETWORK_SERVER_CONNECTION *this,long param_1,uint param_2)

{
                    /* 0x3400  124  ?SetSocket@RKC_NETWORK_SERVER_CONNECTION@@QAEXJI@Z */
  *(uint *)(*(int *)(this + 0x1c) + param_1 * 4) = param_2;
  return;
}



/*
 * Function: SetUserID
 * Address: 10003420
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::SetUserID(long) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::SetUserID(RKC_NETWORK_SERVER_CONNECTION *this,long param_1)

{
                    /* 0x3420  127  ?SetUserID@RKC_NETWORK_SERVER_CONNECTION@@QAEXJ@Z */
  *(long *)(this + 4) = param_1;
  return;
}



/*
 * Function: GetSendPacketBlock
 * Address: 10003430
 */

/* public: class RKC_NETWORK_PACKETBLOCK * __thiscall
   RKC_NETWORK_SERVER_CONNECTION::GetSendPacketBlock(void) */

RKC_NETWORK_PACKETBLOCK * __thiscall
RKC_NETWORK_SERVER_CONNECTION::GetSendPacketBlock(RKC_NETWORK_SERVER_CONNECTION *this)

{
                    /* 0x3430  84
                       ?GetSendPacketBlock@RKC_NETWORK_SERVER_CONNECTION@@QAEPAVRKC_NETWORK_PACKETBLOCK@@XZ
                        */
  return *(RKC_NETWORK_PACKETBLOCK **)(this + 0x20);
}



/*
 * Function: GetRecvPacketBlock
 * Address: 10003440
 */

/* public: class RKC_NETWORK_PACKETBLOCK * __thiscall
   RKC_NETWORK_SERVER_CONNECTION::GetRecvPacketBlock(void) */

RKC_NETWORK_PACKETBLOCK * __thiscall
RKC_NETWORK_SERVER_CONNECTION::GetRecvPacketBlock(RKC_NETWORK_SERVER_CONNECTION *this)

{
                    /* 0x3440  82
                       ?GetRecvPacketBlock@RKC_NETWORK_SERVER_CONNECTION@@QAEPAVRKC_NETWORK_PACKETBLOCK@@XZ
                        */
  return *(RKC_NETWORK_PACKETBLOCK **)(this + 0x24);
}



/*
 * Function: RKC_NETWORK_SERVER_SOCKET
 * Address: 10003450
 */

/* public: __thiscall RKC_NETWORK_SERVER_SOCKET::RKC_NETWORK_SERVER_SOCKET(void) */

void __thiscall
RKC_NETWORK_SERVER_SOCKET::RKC_NETWORK_SERVER_SOCKET(RKC_NETWORK_SERVER_SOCKET *this)

{
                    /* 0x3450  7  ??0RKC_NETWORK_SERVER_SOCKET@@QAE@XZ */
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: Get
 * Address: 10003460
 */

/* public: unsigned int __thiscall RKC_NETWORK_SERVER_SOCKET::Get(void) */

uint __thiscall RKC_NETWORK_SERVER_SOCKET::Get(RKC_NETWORK_SERVER_SOCKET *this)

{
                    /* 0x3460  49  ?Get@RKC_NETWORK_SERVER_SOCKET@@QAEIXZ
                       0x3460  78  ?GetPassword@RKC_NETWORK_USERINFO@@QAEPADXZ
                       0x3460  86  ?GetSize@RKC_NETWORK_PACKET@@QAEJXZ */
  return *(uint *)(this + 8);
}



/*
 * Function: SocketComparisionThread
 * Address: 10003470
 */

/* public: void __thiscall RKC_NETWORK_SERVER_SOCKET::SocketComparisionThread(void) */

void __thiscall RKC_NETWORK_SERVER_SOCKET::SocketComparisionThread(RKC_NETWORK_SERVER_SOCKET *this)

{
  byte bVar1;
  uchar *puVar2;
  int iVar3;
  long lVar4;
  RKC_NETWORK_SERVER_CONNECTION *pRVar5;
  void *pvVar6;
  uint uVar7;
  int iVar8;
  RKC_NETWORK_USERINFO *pRVar9;
  byte *pbVar10;
  int unaff_EBX;
  int unaff_EBP;
  byte *hMem;
  byte *pbVar11;
  bool bVar12;
  long local_38;
  RKC_NETWORK_IP RStack_34;
  undefined uStack_33;
  undefined uStack_32;
  undefined uStack_31;
  uchar *puStack_30;
  undefined4 local_24;
  undefined4 local_20;
  undefined local_1c [16];
  void *pvStack_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x3470  129  ?SocketComparisionThread@RKC_NETWORK_SERVER_SOCKET@@QAEXXZ */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_10009508;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  RKC_NETWORK_TRANSFER::RKC_NETWORK_TRANSFER((RKC_NETWORK_TRANSFER *)&local_38);
  hMem = (byte *)0x0;
  local_4 = 0;
  local_24 = (HGLOBAL)0x0;
  if (*(int *)(*(int *)this + 0x1cc) != 0) {
    hMem = (byte *)GlobalAlloc(0x40,*(int *)(*(int *)this + 0x1cc) + 1);
  }
  if (*(int *)(*(int *)this + 0x1d0) != 0) {
    local_24 = GlobalAlloc(0x40,*(int *)(*(int *)this + 0x1d0) + 1);
  }
  local_20 = 0x10;
  Ordinal_5(*(undefined4 *)(this + 8),local_1c,&local_20);
  uStack_33 = local_24._1_1_;
  uStack_32 = local_24._2_1_;
  RStack_34 = local_24._0_1_;
  uStack_31 = local_24._3_1_;
  iVar3 = RKC_NETWORK_TRANSFER::Recv
                    ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),&stack0xffffffc0,4
                    );
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  if ((((iVar3 == 1) && (-1 < unaff_EBP)) &&
      (lVar4 = RKC_NETWORK_SERVER::GetSocketCount(*(RKC_NETWORK_SERVER **)this), unaff_EBP < lVar4))
     && (iVar3 = RKC_NETWORK_TRANSFER::Recv
                           ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),
                            (uchar *)&local_38,4), iVar3 != 0)) {
    pRVar5 = RKC_NETWORK_SERVER::GetUseConnection
                       (*(RKC_NETWORK_SERVER **)this,local_38,(RKC_NETWORK_IP *)0x0,-1);
    puVar2 = puStack_30;
    if (pRVar5 == (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
      iVar3 = *(int *)this;
      if (*(int *)(iVar3 + 0x1d4) == 0) {
LAB_1000377e:
        pRVar5 = RKC_NETWORK_SERVER::GetEmptyConnection(*(RKC_NETWORK_SERVER **)this);
        if (pRVar5 != (RKC_NETWORK_SERVER_CONNECTION *)0x0) {
          if (local_38 != -1) {
LAB_100037e9:
            RKC_NETWORK_SERVER_CONNECTION::SetStatus(pRVar5,1);
            RKC_NETWORK_SERVER_CONNECTION::SetIP(pRVar5,&RStack_34);
            RKC_NETWORK_SERVER_CONNECTION::SetID(pRVar5,*(long *)(*(int *)this + 0x18));
            *(int *)(*(int *)this + 0x18) = *(int *)(*(int *)this + 0x18) + 1;
            RKC_NETWORK_SERVER_CONNECTION::SetSocket(pRVar5,unaff_EBP,*(uint *)(this + 8));
            if (*(int *)(*(int *)this + 0x1d4) != 0) {
              RKC_NETWORK_SERVER_CONNECTION::SetUserID(pRVar5,unaff_EBX);
            }
            goto LAB_100035c1;
          }
          local_38 = *(long *)(*(int *)this + 0x18);
          iVar3 = RKC_NETWORK_TRANSFER::Send
                            ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),
                             (uchar *)&local_38,4);
          if ((*(int *)(*(int *)this + 0x1d4) == 0) ||
             (iVar8 = RKC_NETWORK_TRANSFER::Send
                                ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),
                                 &stack0xffffffc4,4), iVar8 != 0)) {
            if (iVar3 != 0) goto LAB_100037e9;
            if (iVar3 != 0) goto LAB_100035c1;
          }
        }
      }
      else {
        if (*(int *)(iVar3 + 0x1d8) == 0) {
          iVar3 = RKC_NETWORK_TRANSFER::Recv
                            ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),
                             &stack0xffffffc4,4);
          if (iVar3 == 0) {
            Ordinal_3(*(undefined4 *)(this + 8));
            goto LAB_10003620;
          }
        }
        else {
          iVar3 = RKC_NETWORK_TRANSFER::Recv
                            ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),puStack_30
                             ,*(long *)(iVar3 + 0x1d0));
          if ((iVar3 == 0) ||
             (pRVar9 = RKC_NETWORK_USERINFOBLOCK::GetFromName
                                 (*(RKC_NETWORK_USERINFOBLOCK **)(*(int *)this + 0x1d4),
                                  (char *)puVar2), pRVar9 == (RKC_NETWORK_USERINFO *)0x0))
          goto LAB_1000384d;
          unaff_EBX = RKC_NETWORK_SERVER::GetActiveFlag((RKC_NETWORK_SERVER *)pRVar9);
        }
        pRVar5 = RKC_NETWORK_SERVER::GetConnection
                           (*(RKC_NETWORK_SERVER **)this,-1,(RKC_NETWORK_IP *)0x0,unaff_EBX);
        if (((pRVar5 == (RKC_NETWORK_SERVER_CONNECTION *)0x0) &&
            (pRVar9 = RKC_NETWORK_USERINFOBLOCK::GetFromID
                                (*(RKC_NETWORK_USERINFOBLOCK **)(*(int *)this + 0x1d4),unaff_EBX),
            pRVar9 != (RKC_NETWORK_USERINFO *)0x0)) &&
           (iVar3 = RKC_NETWORK_TRANSFER::Recv
                              ((RKC_NETWORK_TRANSFER *)&stack0xffffffbc,*(uint *)(this + 8),hMem,
                               *(long *)(*(int *)this + 0x1cc)), iVar3 != 0)) {
          pbVar10 = (byte *)Get((RKC_NETWORK_SERVER_SOCKET *)pRVar9);
          pbVar11 = hMem;
          do {
            bVar1 = *pbVar10;
            bVar12 = bVar1 < *pbVar11;
            if (bVar1 != *pbVar11) {
LAB_10003771:
              iVar3 = (1 - (uint)bVar12) - (uint)(bVar12 != 0);
              goto LAB_10003776;
            }
            if (bVar1 == 0) break;
            bVar1 = pbVar10[1];
            bVar12 = bVar1 < pbVar11[1];
            if (bVar1 != pbVar11[1]) goto LAB_10003771;
            pbVar10 = pbVar10 + 2;
            pbVar11 = pbVar11 + 2;
          } while (bVar1 != 0);
          iVar3 = 0;
LAB_10003776:
          if (iVar3 == 0) goto LAB_1000377e;
        }
      }
    }
    else {
      pvVar6 = RKC_NETWORK_PACKET::GetData((RKC_NETWORK_PACKET *)pRVar5);
      if ((pvVar6 == (void *)0x1) &&
         (uVar7 = RKC_NETWORK_SERVER_CONNECTION::GetSocket(pRVar5,unaff_EBP), uVar7 == 0xffffffff))
      {
        RKC_NETWORK_SERVER_CONNECTION::SetSocket(pRVar5,unaff_EBP,*(uint *)(this + 8));
LAB_100035c1:
        iVar3 = 0;
        lVar4 = RKC_NETWORK_SERVER::GetSocketCount(*(RKC_NETWORK_SERVER **)this);
        if (0 < lVar4) {
          do {
            uVar7 = RKC_NETWORK_SERVER_CONNECTION::GetSocket(pRVar5,iVar3);
            if (uVar7 == 0xffffffff) break;
            iVar3 = iVar3 + 1;
            lVar4 = RKC_NETWORK_SERVER::GetSocketCount(*(RKC_NETWORK_SERVER **)this);
          } while (iVar3 < lVar4);
        }
        lVar4 = RKC_NETWORK_SERVER::GetSocketCount(*(RKC_NETWORK_SERVER **)this);
        if (iVar3 == lVar4) {
          iVar3 = 0;
          lVar4 = RKC_NETWORK_SERVER::GetSocketCount(*(RKC_NETWORK_SERVER **)this);
          if (0 < lVar4) {
            do {
              iVar8 = RKC_NETWORK_SERVER_CONNECTION::CreateConnectionThread(pRVar5,iVar3);
              if (iVar8 == 0) break;
              iVar3 = iVar3 + 1;
              lVar4 = RKC_NETWORK_SERVER::GetSocketCount(*(RKC_NETWORK_SERVER **)this);
            } while (iVar3 < lVar4);
          }
          RKC_NETWORK_SERVER_CONNECTION::SetStatus(pRVar5,2);
        }
        goto LAB_10003620;
      }
    }
  }
LAB_1000384d:
  Ordinal_3(*(undefined4 *)(this + 8));
LAB_10003620:
  ReleaseMutex(DAT_1000dcf0);
  if (hMem != (byte *)0x0) {
    GlobalFree(hMem);
  }
  if (puStack_30 != (uchar *)0x0) {
    GlobalFree(puStack_30);
  }
                    /* WARNING: Subroutine does not return */
  ExitThread(0);
}



/*
 * Function: RKC_NETWORK_SERVER_SOCKETCOMP
 * Address: 10003870
 */

/* public: __thiscall RKC_NETWORK_SERVER_SOCKETCOMP::RKC_NETWORK_SERVER_SOCKETCOMP(void) */

void __thiscall
RKC_NETWORK_SERVER_SOCKETCOMP::RKC_NETWORK_SERVER_SOCKETCOMP(RKC_NETWORK_SERVER_SOCKETCOMP *this)

{
                    /* 0x3870  8  ??0RKC_NETWORK_SERVER_SOCKETCOMP@@QAE@XZ */
  *(undefined4 *)(this + 4) = 0;
  return;
}



/*
 * Function: ~RKC_NETWORK_SERVER_SOCKETCOMP
 * Address: 10003880
 */

/* public: __thiscall RKC_NETWORK_SERVER_SOCKETCOMP::~RKC_NETWORK_SERVER_SOCKETCOMP(void) */

void __thiscall
RKC_NETWORK_SERVER_SOCKETCOMP::~RKC_NETWORK_SERVER_SOCKETCOMP(RKC_NETWORK_SERVER_SOCKETCOMP *this)

{
  RKC_NETWORK_SERVER_SOCKET *pRVar1;
  RKC_NETWORK_SERVER_SOCKET *this_00;
  
                    /* 0x3880  19  ??1RKC_NETWORK_SERVER_SOCKETCOMP@@QAE@XZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = *(RKC_NETWORK_SERVER_SOCKET **)(this + 4);
  while (this_00 = pRVar1, this_00 != (RKC_NETWORK_SERVER_SOCKET *)0x0) {
    pRVar1 = *(RKC_NETWORK_SERVER_SOCKET **)(this_00 + 0xc);
    if (*(HANDLE *)(this_00 + 4) != (HANDLE)0x0) {
      TerminateThread(*(HANDLE *)(this_00 + 4),0);
      *(undefined4 *)(this_00 + 4) = 0;
    }
    if (this_00 != (RKC_NETWORK_SERVER_SOCKET *)0x0) {
      RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET(this_00);
      FUN_10003f26(this_00);
    }
  }
  *(undefined4 *)(this + 4) = 0;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: Release
 * Address: 10003890
 */

/* public: void __thiscall RKC_NETWORK_SERVER_SOCKETCOMP::Release(void) */

void __thiscall RKC_NETWORK_SERVER_SOCKETCOMP::Release(RKC_NETWORK_SERVER_SOCKETCOMP *this)

{
  RKC_NETWORK_SERVER_SOCKET *pRVar1;
  RKC_NETWORK_SERVER_SOCKET *this_00;
  
                    /* 0x3890  107  ?Release@RKC_NETWORK_SERVER_SOCKETCOMP@@QAEXXZ */
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  pRVar1 = *(RKC_NETWORK_SERVER_SOCKET **)(this + 4);
  while (this_00 = pRVar1, this_00 != (RKC_NETWORK_SERVER_SOCKET *)0x0) {
    pRVar1 = *(RKC_NETWORK_SERVER_SOCKET **)(this_00 + 0xc);
    if (*(HANDLE *)(this_00 + 4) != (HANDLE)0x0) {
      TerminateThread(*(HANDLE *)(this_00 + 4),0);
      *(undefined4 *)(this_00 + 4) = 0;
    }
    if (this_00 != (RKC_NETWORK_SERVER_SOCKET *)0x0) {
      RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET(this_00);
      FUN_10003f26(this_00);
    }
  }
  *(undefined4 *)(this + 4) = 0;
  ReleaseMutex(DAT_1000dcf0);
  return;
}



/*
 * Function: InsertComparisionSocket
 * Address: 10003910
 */

/* public: int __thiscall RKC_NETWORK_SERVER_SOCKETCOMP::InsertComparisionSocket(unsigned int) */

int __thiscall
RKC_NETWORK_SERVER_SOCKETCOMP::InsertComparisionSocket
          (RKC_NETWORK_SERVER_SOCKETCOMP *this,uint param_1)

{
  RKC_NETWORK_SERVER_SOCKET *this_00;
  HANDLE pvVar1;
  int iVar2;
  undefined4 auStack_24 [2];
  undefined auStack_1c [4];
  void *pvStack_18;
  undefined4 uStack_10;
  void *pvStack_c;
  RKC_NETWORK_SERVER_SOCKET *pRStack_8;
  undefined4 uStack_4;
  
                    /* 0x3910  99  ?InsertComparisionSocket@RKC_NETWORK_SERVER_SOCKETCOMP@@QAEHI@Z
                        */
  uStack_4 = 0xffffffff;
  pRStack_8 = (RKC_NETWORK_SERVER_SOCKET *)&LAB_1000952b;
  pvStack_c = ExceptionList;
  ExceptionList = &pvStack_c;
  WaitForSingleObject(DAT_1000dcf0,0xffffffff);
  auStack_24[0] = 0x10;
  Ordinal_5(param_1,auStack_1c,auStack_24);
  pRStack_8 = (RKC_NETWORK_SERVER_SOCKET *)operator_new(0x10);
  uStack_10 = 0;
  if (pRStack_8 == (RKC_NETWORK_SERVER_SOCKET *)0x0) {
    this_00 = (RKC_NETWORK_SERVER_SOCKET *)0x0;
  }
  else {
    this_00 = (RKC_NETWORK_SERVER_SOCKET *)
              RKC_NETWORK_SERVER_SOCKET::RKC_NETWORK_SERVER_SOCKET(pRStack_8);
  }
  *(uint *)(this_00 + 8) = param_1;
  *(undefined4 *)(this_00 + 0xc) = *(undefined4 *)(this + 4);
  *(undefined4 *)this_00 = *(undefined4 *)this;
  uStack_10 = 0xffffffff;
  *(RKC_NETWORK_SERVER_SOCKET **)(this + 4) = this_00;
  pvVar1 = CreateThread((LPSECURITY_ATTRIBUTES)0x0,0,(LPTHREAD_START_ROUTINE)&LAB_10003860,this_00,0
                        ,(LPDWORD)&stack0xffffffd4);
  *(HANDLE *)(this_00 + 4) = pvVar1;
  if (pvVar1 == (HANDLE)0x0) {
    *(undefined4 *)(this + 4) = *(undefined4 *)(this_00 + 0xc);
    if (this_00 != (RKC_NETWORK_SERVER_SOCKET *)0x0) {
      RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET(this_00);
      FUN_10003f26(this_00);
    }
    Ordinal_22(param_1,2);
    Ordinal_3(param_1);
    iVar2 = 0;
  }
  else {
    iVar2 = 1;
  }
  ReleaseMutex(DAT_1000dcf0);
  ExceptionList = pvStack_18;
  return iVar2;
}



/*
 * Function: RKC_NETWORK_TRANSFER
 * Address: 10003a10
 */

/* public: __thiscall RKC_NETWORK_TRANSFER::RKC_NETWORK_TRANSFER(void) */

RKC_NETWORK_TRANSFER * __thiscall
RKC_NETWORK_TRANSFER::RKC_NETWORK_TRANSFER(RKC_NETWORK_TRANSFER *this)

{
                    /* 0x3a10  9  ??0RKC_NETWORK_TRANSFER@@QAE@XZ */
  return this;
}



/*
 * Function: ~RKC_NETWORK_SERVER_SOCKET
 * Address: 10003a20
 */

/* public: __thiscall RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET(void) */

void __thiscall
RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET(RKC_NETWORK_SERVER_SOCKET *this)

{
                    /* 0x3a20  18  ??1RKC_NETWORK_SERVER_SOCKET@@QAE@XZ
                       0x3a20  20  ??1RKC_NETWORK_TRANSFER@@QAE@XZ */
  return;
}



/*
 * Function: RecvSub
 * Address: 10003a30
 */

/* private: int __thiscall RKC_NETWORK_TRANSFER::RecvSub(unsigned int,unsigned char *,long) */

int __thiscall
RKC_NETWORK_TRANSFER::RecvSub(RKC_NETWORK_TRANSFER *this,uint param_1,uchar *param_2,long param_3)

{
  int iVar1;
  int iVar2;
  
                    /* 0x3a30  101  ?RecvSub@RKC_NETWORK_TRANSFER@@AAEHIPAEJ@Z */
  iVar2 = 0;
  if (param_3 != 0) {
    do {
      iVar1 = Ordinal_16(param_1,param_2,param_3 - iVar2,0);
      if ((iVar1 == 0) || (iVar1 == -1)) {
        return 0;
      }
      param_2 = param_2 + iVar1;
      iVar2 = iVar2 + iVar1;
      Sleep(1);
    } while (iVar2 != param_3);
  }
  return 1;
}



/*
 * Function: Recv
 * Address: 10003a90
 */

/* public: int __thiscall RKC_NETWORK_TRANSFER::Recv(unsigned int,unsigned char *,long) */

int __thiscall
RKC_NETWORK_TRANSFER::Recv(RKC_NETWORK_TRANSFER *this,uint param_1,uchar *param_2,long param_3)

{
  int iVar1;
  
                    /* 0x3a90  100  ?Recv@RKC_NETWORK_TRANSFER@@QAEHIPAEJ@Z */
  iVar1 = RecvSub(this,param_1,param_2,param_3);
  if (iVar1 == 0) {
    return 0;
  }
  param_3 = -1;
  iVar1 = SendSub(this,param_1,(uchar *)&param_3,4);
  return (uint)(iVar1 != 0);
}



/*
 * Function: SendSub
 * Address: 10003ae0
 */

/* private: int __thiscall RKC_NETWORK_TRANSFER::SendSub(unsigned int,unsigned char *,long) */

int __thiscall
RKC_NETWORK_TRANSFER::SendSub(RKC_NETWORK_TRANSFER *this,uint param_1,uchar *param_2,long param_3)

{
  int iVar1;
  int iVar2;
  
                    /* 0x3ae0  111  ?SendSub@RKC_NETWORK_TRANSFER@@AAEHIPAEJ@Z */
  iVar2 = 0;
  while( true ) {
    iVar1 = Ordinal_19(param_1,param_2 + iVar2,param_3 - iVar2,0);
    if ((iVar1 == 0) || (iVar1 == -1)) break;
    iVar2 = iVar2 + iVar1;
    if (iVar2 == iVar1) {
      return 1;
    }
    Sleep(1);
  }
  return 0;
}



/*
 * Function: Send
 * Address: 10003b40
 */

/* public: int __thiscall RKC_NETWORK_TRANSFER::Send(unsigned int,unsigned char *,long) */

int __thiscall
RKC_NETWORK_TRANSFER::Send(RKC_NETWORK_TRANSFER *this,uint param_1,uchar *param_2,long param_3)

{
  int iVar1;
  
                    /* 0x3b40  110  ?Send@RKC_NETWORK_TRANSFER@@QAEHIPAEJ@Z */
  iVar1 = SendSub(this,param_1,param_2,param_3);
  if (iVar1 == 0) {
    return 0;
  }
  iVar1 = RecvSub(this,param_1,(uchar *)&param_3,4);
  if (iVar1 == 0) {
    return 0;
  }
  return (uint)(param_3 == -1);
}



/*
 * Function: RKC_NETWORK_USERINFO
 * Address: 10003b90
 */

/* public: __thiscall RKC_NETWORK_USERINFO::RKC_NETWORK_USERINFO(void) */

void __thiscall RKC_NETWORK_USERINFO::RKC_NETWORK_USERINFO(RKC_NETWORK_USERINFO *this)

{
                    /* 0x3b90  10  ??0RKC_NETWORK_USERINFO@@QAE@XZ */
  *(undefined4 *)this = 0xffffffff;
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0xc) = 0;
  *(undefined4 *)(this + 4) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  return;
}



/*
 * Function: ~RKC_NETWORK_USERINFO
 * Address: 10003bb0
 */

/* public: __thiscall RKC_NETWORK_USERINFO::~RKC_NETWORK_USERINFO(void) */

void __thiscall RKC_NETWORK_USERINFO::~RKC_NETWORK_USERINFO(RKC_NETWORK_USERINFO *this)

{
                    /* 0x3bb0  21  ??1RKC_NETWORK_USERINFO@@QAE@XZ */
  if (*(HGLOBAL *)(this + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 8));
    *(undefined4 *)(this + 8) = 0;
  }
  if (*(HGLOBAL *)(this + 0xc) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 0xc));
    *(undefined4 *)(this + 0xc) = 0;
  }
  if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 4));
    *(undefined4 *)(this + 4) = 0;
  }
  return;
}



/*
 * Function: GetActiveFlag
 * Address: 10003bf0
 */

/* public: int __thiscall RKC_NETWORK_SERVER::GetActiveFlag(void) */

int __thiscall RKC_NETWORK_SERVER::GetActiveFlag(RKC_NETWORK_SERVER *this)

{
                    /* 0x3bf0  53  ?GetActiveFlag@RKC_NETWORK_SERVER@@QAEHXZ
                       0x3bf0  68  ?GetID@RKC_NETWORK_SERVER_CONNECTION@@QAEJXZ
                       0x3bf0  69  ?GetID@RKC_NETWORK_USERINFO@@QAEJXZ
                       0x3bf0  74  ?GetLine@RKC_NETWORK_PACKET@@QAEJXZ
                       0x3bf0  85  ?GetServer@RKC_NETWORK@@QAEPAVRKC_NETWORK_SERVER@@XZ */
  return *(int *)this;
}



/*
 * Function: SetID
 * Address: 10003c00
 */

/* public: void __thiscall RKC_NETWORK_SERVER_CONNECTION::SetID(long) */

void __thiscall
RKC_NETWORK_SERVER_CONNECTION::SetID(RKC_NETWORK_SERVER_CONNECTION *this,long param_1)

{
                    /* 0x3c00  114  ?SetID@RKC_NETWORK_SERVER_CONNECTION@@QAEXJ@Z
                       0x3c00  115  ?SetID@RKC_NETWORK_USERINFO@@QAEXJ@Z */
  *(long *)this = param_1;
  return;
}



/*
 * Function: SetPassword
 * Address: 10003c10
 */

/* public: void __thiscall RKC_NETWORK_USERINFO::SetPassword(char *) */

void __thiscall RKC_NETWORK_USERINFO::SetPassword(RKC_NETWORK_USERINFO *this,char *param_1)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  
                    /* 0x3c10  121  ?SetPassword@RKC_NETWORK_USERINFO@@QAEXPAD@Z */
  if (*(HGLOBAL *)(this + 8) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 8));
  }
  uVar3 = 0xffffffff;
  pcVar2 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  pcVar2 = (char *)GlobalAlloc(0x40,~uVar3);
  uVar3 = 0xffffffff;
  *(char **)(this + 8) = pcVar2;
  do {
    pcVar5 = param_1;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar5 = param_1 + 1;
    cVar1 = *param_1;
    param_1 = pcVar5;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar5 = pcVar5 + -uVar3;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)pcVar5;
    pcVar5 = pcVar5 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar2 = *pcVar5;
    pcVar5 = pcVar5 + 1;
    pcVar2 = pcVar2 + 1;
  }
  return;
}



/*
 * Function: SetUserData
 * Address: 10003c70
 */

/* public: void __thiscall RKC_NETWORK_USERINFO::SetUserData(void *) */

void __thiscall RKC_NETWORK_USERINFO::SetUserData(RKC_NETWORK_USERINFO *this,void *param_1)

{
                    /* 0x3c70  126  ?SetUserData@RKC_NETWORK_USERINFO@@QAEXPAX@Z */
  *(void **)(this + 0xc) = param_1;
  return;
}



/*
 * Function: SetUserName
 * Address: 10003c80
 */

/* public: void __thiscall RKC_NETWORK_USERINFO::SetUserName(char *) */

void __thiscall RKC_NETWORK_USERINFO::SetUserName(RKC_NETWORK_USERINFO *this,char *param_1)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  
                    /* 0x3c80  128  ?SetUserName@RKC_NETWORK_USERINFO@@QAEXPAD@Z */
  if (*(HGLOBAL *)(this + 4) != (HGLOBAL)0x0) {
    GlobalFree(*(HGLOBAL *)(this + 4));
  }
  uVar3 = 0xffffffff;
  pcVar2 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  pcVar2 = (char *)GlobalAlloc(0x40,~uVar3);
  uVar3 = 0xffffffff;
  *(char **)(this + 4) = pcVar2;
  do {
    pcVar5 = param_1;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar5 = param_1 + 1;
    cVar1 = *param_1;
    param_1 = pcVar5;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar5 = pcVar5 + -uVar3;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)pcVar5;
    pcVar5 = pcVar5 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar2 = *pcVar5;
    pcVar5 = pcVar5 + 1;
    pcVar2 = pcVar2 + 1;
  }
  return;
}



/*
 * Function: RKC_NETWORK_PACKETBLOCK
 * Address: 10003ce0
 */

/* public: __thiscall RKC_NETWORK_PACKETBLOCK::RKC_NETWORK_PACKETBLOCK(void) */

void __thiscall RKC_NETWORK_PACKETBLOCK::RKC_NETWORK_PACKETBLOCK(RKC_NETWORK_PACKETBLOCK *this)

{
                    /* 0x3ce0  4  ??0RKC_NETWORK_PACKETBLOCK@@QAE@XZ
                       0x3ce0  11  ??0RKC_NETWORK_USERINFOBLOCK@@QAE@XZ */
  *(undefined4 *)this = 0;
  return;
}



/*
 * Function: ~RKC_NETWORK_USERINFOBLOCK
 * Address: 10003cf0
 */

/* public: __thiscall RKC_NETWORK_USERINFOBLOCK::~RKC_NETWORK_USERINFOBLOCK(void) */

void __thiscall
RKC_NETWORK_USERINFOBLOCK::~RKC_NETWORK_USERINFOBLOCK(RKC_NETWORK_USERINFOBLOCK *this)

{
  int iVar1;
  
                    /* 0x3cf0  22  ??1RKC_NETWORK_USERINFOBLOCK@@QAE@XZ */
  iVar1 = Delete(this,0);
  while (iVar1 == 1) {
    iVar1 = Delete(this,0);
  }
  return;
}



/*
 * Function: Append
 * Address: 10003d00
 */

/* public: class RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_USERINFOBLOCK::Append(void) */

RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_USERINFOBLOCK::Append(RKC_NETWORK_USERINFOBLOCK *this)

{
  int iVar1;
  int iVar2;
  RKC_NETWORK_USERINFO *pRVar3;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
                    /* 0x3d00  36  ?Append@RKC_NETWORK_USERINFOBLOCK@@QAEPAVRKC_NETWORK_USERINFO@@XZ
                        */
  local_4 = 0xffffffff;
  puStack_8 = &LAB_1000954b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  pRVar3 = (RKC_NETWORK_USERINFO *)operator_new(0x14);
  local_4 = 0;
  if (pRVar3 == (RKC_NETWORK_USERINFO *)0x0) {
    pRVar3 = (RKC_NETWORK_USERINFO *)0x0;
  }
  else {
    pRVar3 = (RKC_NETWORK_USERINFO *)RKC_NETWORK_USERINFO::RKC_NETWORK_USERINFO(pRVar3);
  }
  iVar1 = *(int *)this;
  if (iVar1 != 0) {
    for (iVar2 = *(int *)(iVar1 + 0x10); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x10)) {
      iVar1 = iVar2;
    }
    *(RKC_NETWORK_USERINFO **)(iVar1 + 0x10) = pRVar3;
    ExceptionList = local_c;
    return pRVar3;
  }
  *(RKC_NETWORK_USERINFO **)this = pRVar3;
  ExceptionList = local_c;
  return pRVar3;
}



/*
 * Function: Get
 * Address: 10003d80
 */

/* public: class RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_USERINFOBLOCK::Get(long) */

RKC_NETWORK_USERINFO * __thiscall
RKC_NETWORK_USERINFOBLOCK::Get(RKC_NETWORK_USERINFOBLOCK *this,long param_1)

{
  RKC_NETWORK_USERINFO *pRVar1;
  int iVar2;
  
                    /* 0x3d80  50  ?Get@RKC_NETWORK_USERINFOBLOCK@@QAEPAVRKC_NETWORK_USERINFO@@J@Z
                        */
  pRVar1 = *(RKC_NETWORK_USERINFO **)this;
  for (iVar2 = 0; (pRVar1 != (RKC_NETWORK_USERINFO *)0x0 && (param_1 != iVar2)); iVar2 = iVar2 + 1)
  {
    pRVar1 = *(RKC_NETWORK_USERINFO **)(pRVar1 + 0x10);
  }
  return pRVar1;
}



/*
 * Function: GetFromID
 * Address: 10003da0
 */

/* public: class RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_USERINFOBLOCK::GetFromID(long) */

RKC_NETWORK_USERINFO * __thiscall
RKC_NETWORK_USERINFOBLOCK::GetFromID(RKC_NETWORK_USERINFOBLOCK *this,long param_1)

{
  RKC_NETWORK_USERINFO *pRVar1;
  
                    /* 0x3da0  65
                       ?GetFromID@RKC_NETWORK_USERINFOBLOCK@@QAEPAVRKC_NETWORK_USERINFO@@J@Z */
  for (pRVar1 = *(RKC_NETWORK_USERINFO **)this;
      (pRVar1 != (RKC_NETWORK_USERINFO *)0x0 && (*(int *)pRVar1 != param_1));
      pRVar1 = *(RKC_NETWORK_USERINFO **)(pRVar1 + 0x10)) {
  }
  return pRVar1;
}



/*
 * Function: GetFromName
 * Address: 10003dc0
 */

/* public: class RKC_NETWORK_USERINFO * __thiscall RKC_NETWORK_USERINFOBLOCK::GetFromName(char *) */

RKC_NETWORK_USERINFO * __thiscall
RKC_NETWORK_USERINFOBLOCK::GetFromName(RKC_NETWORK_USERINFOBLOCK *this,char *param_1)

{
  byte bVar1;
  RKC_NETWORK_USERINFO *pRVar2;
  byte *pbVar3;
  int iVar4;
  byte *pbVar5;
  bool bVar6;
  
                    /* 0x3dc0  66
                       ?GetFromName@RKC_NETWORK_USERINFOBLOCK@@QAEPAVRKC_NETWORK_USERINFO@@PAD@Z */
  pRVar2 = *(RKC_NETWORK_USERINFO **)this;
  do {
    if (pRVar2 == (RKC_NETWORK_USERINFO *)0x0) {
      return (RKC_NETWORK_USERINFO *)0x0;
    }
    pbVar3 = *(byte **)(pRVar2 + 4);
    pbVar5 = (byte *)param_1;
    do {
      bVar1 = *pbVar3;
      bVar6 = bVar1 < *pbVar5;
      if (bVar1 != *pbVar5) {
LAB_10003dfb:
        iVar4 = (1 - (uint)bVar6) - (uint)(bVar6 != 0);
        goto LAB_10003e00;
      }
      if (bVar1 == 0) break;
      bVar1 = pbVar3[1];
      bVar6 = bVar1 < pbVar5[1];
      if (bVar1 != pbVar5[1]) goto LAB_10003dfb;
      pbVar3 = pbVar3 + 2;
      pbVar5 = pbVar5 + 2;
    } while (bVar1 != 0);
    iVar4 = 0;
LAB_10003e00:
    if (iVar4 == 0) {
      return pRVar2;
    }
    pRVar2 = *(RKC_NETWORK_USERINFO **)(pRVar2 + 0x10);
  } while( true );
}



/*
 * Function: Delete
 * Address: 10003e20
 */

/* public: int __thiscall RKC_NETWORK_USERINFOBLOCK::Delete(long) */

int __thiscall RKC_NETWORK_USERINFOBLOCK::Delete(RKC_NETWORK_USERINFOBLOCK *this,long param_1)

{
  long lVar1;
  RKC_NETWORK_USERINFO *pRVar2;
  RKC_NETWORK_USERINFO *this_00;
  
                    /* 0x3e20  45  ?Delete@RKC_NETWORK_USERINFOBLOCK@@QAEHJ@Z */
  if (-1 < param_1) {
    lVar1 = GetCount(this);
    if (param_1 < lVar1) {
      if (param_1 == 0) {
        this_00 = *(RKC_NETWORK_USERINFO **)this;
        *(undefined4 *)this = *(undefined4 *)(this_00 + 0x10);
      }
      else {
        pRVar2 = Get(this,param_1 + -1);
        this_00 = *(RKC_NETWORK_USERINFO **)(pRVar2 + 0x10);
        *(undefined4 *)(pRVar2 + 0x10) = *(undefined4 *)(this_00 + 0x10);
      }
      if (this_00 != (RKC_NETWORK_USERINFO *)0x0) {
        RKC_NETWORK_USERINFO::~RKC_NETWORK_USERINFO(this_00);
        FUN_10003f26(this_00);
      }
      return 1;
    }
  }
  return 0;
}



/*
 * Function: GetCount
 * Address: 10003e80
 */

/* public: long __thiscall RKC_NETWORK_USERINFOBLOCK::GetCount(void) */

long __thiscall RKC_NETWORK_USERINFOBLOCK::GetCount(RKC_NETWORK_USERINFOBLOCK *this)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
                    /* 0x3e80  61  ?GetCount@RKC_NETWORK_USERINFOBLOCK@@QAEJXZ */
  for (iVar1 = *(int *)this; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x10)) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



/*
 * Function: Release
 * Address: 10003ea0
 */

/* public: void __thiscall RKC_NETWORK_USERINFOBLOCK::Release(void) */

void __thiscall RKC_NETWORK_USERINFOBLOCK::Release(RKC_NETWORK_USERINFOBLOCK *this)

{
  int iVar1;
  
                    /* 0x3ea0  108  ?Release@RKC_NETWORK_USERINFOBLOCK@@QAEXXZ */
  iVar1 = Delete(this,0);
  while (iVar1 == 1) {
    iVar1 = Delete(this,0);
  }
  return;
}



/*
 * Function: Ordinal_3
 * Address: 10003ec0
 */

void Ordinal_3(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ec0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_3();
  return;
}



/*
 * Function: Ordinal_22
 * Address: 10003ec6
 */

void Ordinal_22(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ec6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_22();
  return;
}



/*
 * Function: Ordinal_116
 * Address: 10003ecc
 */

void Ordinal_116(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ecc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_116();
  return;
}



/*
 * Function: Ordinal_115
 * Address: 10003ed2
 */

void Ordinal_115(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ed2. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_115();
  return;
}



/*
 * Function: Ordinal_52
 * Address: 10003ed8
 */

void Ordinal_52(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ed8. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_52();
  return;
}



/*
 * Function: Ordinal_57
 * Address: 10003ede
 */

void Ordinal_57(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ede. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_57();
  return;
}



/*
 * Function: Ordinal_4
 * Address: 10003ee4
 */

void Ordinal_4(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ee4. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_4();
  return;
}



/*
 * Function: Ordinal_23
 * Address: 10003eea
 */

void Ordinal_23(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003eea. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_23();
  return;
}



/*
 * Function: Ordinal_9
 * Address: 10003ef0
 */

void Ordinal_9(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ef0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_9();
  return;
}



/*
 * Function: Ordinal_10
 * Address: 10003ef6
 */

void Ordinal_10(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003ef6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_10();
  return;
}



/*
 * Function: Ordinal_2
 * Address: 10003efc
 */

void Ordinal_2(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003efc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_2();
  return;
}



/*
 * Function: Ordinal_8
 * Address: 10003f02
 */

void Ordinal_8(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003f02. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_8();
  return;
}



/*
 * Function: Ordinal_13
 * Address: 10003f08
 */

void Ordinal_13(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003f08. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_13();
  return;
}



/*
 * Function: Ordinal_1
 * Address: 10003f0e
 */

void Ordinal_1(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003f0e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_1();
  return;
}



/*
 * Function: Ordinal_5
 * Address: 10003f14
 */

void Ordinal_5(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003f14. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_5();
  return;
}



/*
 * Function: Ordinal_16
 * Address: 10003f1a
 */

void Ordinal_16(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003f1a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_16();
  return;
}



/*
 * Function: Ordinal_19
 * Address: 10003f20
 */

void Ordinal_19(void)

{
                    /* WARNING: Could not recover jumptable at 0x10003f20. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  Ordinal_19();
  return;
}



/*
 * Function: FUN_10003f26
 * Address: 10003f26
 */

void __cdecl FUN_10003f26(LPVOID param_1)

{
  FUN_10004619(param_1);
  return;
}



/*
 * Function: operator_new
 * Address: 10003f31
 */

/* Library Function - Single Match
    void * __cdecl operator new(unsigned int)
   
   Library: Visual Studio 2003 Release */

void * __cdecl operator_new(uint param_1)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(param_1,1);
  return pvVar1;
}



/*
 * Function: FUN_10003f3f
 * Address: 10003f3f
 */

void FUN_10003f3f(undefined *UNRECOVERED_JUMPTABLE)

{
                    /* WARNING: Load size is inaccurate */
  ExceptionList = *ExceptionList;
                    /* WARNING: Could not recover jumptable at 0x10003f6a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10003f73
 * Address: 10003f73
 */

void FUN_10003f73(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x10003f78. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10003f7a
 * Address: 10003f7a
 */

void FUN_10003f7a(undefined4 param_1,undefined *UNRECOVERED_JUMPTABLE)

{
  LOCK();
  UNLOCK();
                    /* WARNING: Could not recover jumptable at 0x10003f7f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)UNRECOVERED_JUMPTABLE)();
  return;
}



/*
 * Function: FUN_10003f81
 * Address: 10003f81
 */

void FUN_10003f81(PVOID param_1,PEXCEPTION_RECORD param_2)

{
  void *pvVar1;
  
  pvVar1 = ExceptionList;
  RtlUnwind(param_1,(PVOID)0x10003fa9,param_2,(PVOID)0x0);
  param_2->ExceptionFlags = param_2->ExceptionFlags & 0xfffffffd;
  *(void **)pvVar1 = ExceptionList;
  ExceptionList = pvVar1;
  return;
}



/*
 * Function: FUN_10003fd0
 * Address: 10003fd0
 */

undefined4 __cdecl
FUN_10003fd0(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4)

{
  int *in_EAX;
  undefined4 uVar1;
  
  uVar1 = FUN_100046ed(param_1,param_2,param_3,param_4,in_EAX,0,(PVOID)0x0,'\0');
  return uVar1;
}



/*
 * Function: FUN_10004006
 * Address: 10004006
 */

undefined4 __cdecl
FUN_10004006(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  void *local_18;
  code *local_14;
  undefined4 local_10;
  undefined4 local_c;
  int local_8;
  
  local_10 = param_2;
  local_14 = FUN_1000405a;
  local_8 = param_4 + 1;
  local_c = param_1;
  local_18 = ExceptionList;
  ExceptionList = &local_18;
  uVar1 = __CallSettingFrame_12(param_3,param_1,param_5);
  ExceptionList = local_18;
  return uVar1;
}



/*
 * Function: FUN_1000405a
 * Address: 1000405a
 */

void __cdecl FUN_1000405a(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  FUN_100046ed(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),param_2,'\0');
  return;
}



/*
 * Function: FUN_1000407f
 * Address: 1000407f
 */

undefined4 __cdecl
FUN_1000407f(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  undefined4 **ppuVar3;
  undefined4 *local_34;
  undefined4 local_30;
  undefined4 *local_2c;
  code *local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined *local_10;
  undefined *local_c;
  int local_8;
  
  local_c = &stack0xfffffffc;
  local_10 = &stack0xffffffbc;
  local_28 = FUN_10004135;
  local_24 = param_5;
  local_20 = param_2;
  local_1c = param_6;
  local_18 = param_7;
  local_8 = 0;
  local_14 = 0x10004107;
  local_2c = (undefined4 *)ExceptionList;
  ExceptionList = &local_2c;
  local_34 = param_1;
  local_30 = param_3;
  ppuVar3 = &local_34;
  uVar2 = *param_1;
  pDVar1 = FUN_10004fe1();
  (*(code *)pDVar1[0x1a])(uVar2,ppuVar3);
  if (local_8 != 0) {
                    /* WARNING: Load size is inaccurate */
    *local_2c = *ExceptionList;
  }
  ExceptionList = local_2c;
  return 0;
}



/*
 * Function: FUN_10004135
 * Address: 10004135
 */

undefined4 __cdecl FUN_10004135(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3)

{
  undefined4 uVar1;
  
  if ((param_1->ExceptionFlags & 0x66) != 0) {
    *(undefined4 *)((int)param_2 + 0x24) = 1;
    return 1;
  }
  FUN_100046ed(param_1,*(PVOID *)((int)param_2 + 0xc),param_3,0,*(int **)((int)param_2 + 8),
               *(int *)((int)param_2 + 0x10),*(PVOID *)((int)param_2 + 0x14),'\x01');
  if (*(int *)((int)param_2 + 0x24) == 0) {
    FUN_10003f81(param_2,param_1);
  }
                    /* WARNING: Could not recover jumptable at 0x1000419f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  uVar1 = (**(code **)((int)param_2 + 0x18))();
  return uVar1;
}



/*
 * Function: FUN_100041aa
 * Address: 100041aa
 */

int __cdecl FUN_100041aa(uint param_1,int param_2,int param_3,uint *param_4,uint *param_5)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint local_8;
  
  uVar2 = param_1;
  local_8 = *(uint *)(param_1 + 0xc);
  iVar1 = *(int *)(param_1 + 0x10);
  uVar3 = local_8;
  param_1 = local_8;
  if (-1 < param_2) {
    do {
      if (uVar3 == 0xffffffff) {
        FUN_10005149();
      }
      uVar3 = uVar3 - 1;
      if (((*(int *)(iVar1 + 4 + uVar3 * 0x14) < param_3) &&
          (param_3 <= *(int *)(iVar1 + uVar3 * 0x14 + 8))) || (uVar3 == 0xffffffff)) {
        param_2 = param_2 + -1;
        local_8 = param_1;
        param_1 = uVar3;
      }
    } while (-1 < param_2);
  }
  uVar3 = uVar3 + 1;
  *param_4 = uVar3;
  *param_5 = local_8;
  if ((*(uint *)(uVar2 + 0xc) < local_8) || (local_8 < uVar3)) {
    FUN_10005149();
  }
  return iVar1 + uVar3 * 0x14;
}



/*
 * Function: __global_unwind2
 * Address: 10004228
 */

/* Library Function - Single Match
    __global_unwind2
   
   Library: Visual Studio */

void __cdecl __global_unwind2(PVOID param_1)

{
  RtlUnwind(param_1,(PVOID)0x10004240,(PEXCEPTION_RECORD)0x0,(PVOID)0x0);
  return;
}



/*
 * Function: __local_unwind2
 * Address: 1000426a
 */

/* Library Function - Single Match
    __local_unwind2
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release, Visual Studio 2003 Debug, Visual
   Studio 2003 Release */

void __cdecl __local_unwind2(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *pvStack_1c;
  undefined *puStack_18;
  undefined4 local_14;
  int iStack_10;
  
  iStack_10 = param_1;
  puStack_18 = &LAB_10004248;
  pvStack_1c = ExceptionList;
  ExceptionList = &pvStack_1c;
  while( true ) {
    iVar1 = *(int *)(param_1 + 8);
    iVar2 = *(int *)(param_1 + 0xc);
    if ((iVar2 == -1) || (iVar2 == param_2)) break;
    local_14 = *(undefined4 *)(iVar1 + iVar2 * 0xc);
    *(undefined4 *)(param_1 + 0xc) = local_14;
    if (*(int *)(iVar1 + 4 + iVar2 * 0xc) == 0) {
      FUN_100042fe();
      (**(code **)(iVar1 + 8 + iVar2 * 0xc))();
    }
  }
  ExceptionList = pvStack_1c;
  return;
}



/*
 * Function: __abnormal_termination
 * Address: 100042d2
 */

/* Library Function - Single Match
    __abnormal_termination
   
   Library: Visual Studio */

int __cdecl __abnormal_termination(void)

{
  int iVar1;
  
  iVar1 = 0;
  if ((*(undefined **)((int)ExceptionList + 4) == &LAB_10004248) &&
     (*(int *)((int)ExceptionList + 8) == *(int *)(*(int *)((int)ExceptionList + 0xc) + 0xc))) {
    iVar1 = 1;
  }
  return iVar1;
}



/*
 * Function: __NLG_Notify1
 * Address: 100042f5
 */

/* Library Function - Single Match
    __NLG_Notify1
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __fastcall __NLG_Notify1(undefined4 param_1)

{
  undefined4 in_EAX;
  undefined4 unaff_EBP;
  
  DAT_1000d054 = param_1;
  DAT_1000d050 = in_EAX;
  DAT_1000d058 = unaff_EBP;
  return;
}



/*
 * Function: FUN_100042fe
 * Address: 100042fe
 */

void FUN_100042fe(void)

{
  undefined4 in_EAX;
  int unaff_EBP;
  
  DAT_1000d054 = *(undefined4 *)(unaff_EBP + 8);
  DAT_1000d050 = in_EAX;
  DAT_1000d058 = unaff_EBP;
  return;
}



/*
 * Function: _strncpy
 * Address: 10004320
 */

/* Library Function - Single Match
    _strncpy
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

char * __cdecl _strncpy(char *_Dest,char *_Source,size_t _Count)

{
  uint uVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint *puVar5;
  
  if (_Count == 0) {
    return _Dest;
  }
  puVar5 = (uint *)_Dest;
  if (((uint)_Source & 3) != 0) {
    while( true ) {
      cVar3 = *_Source;
      _Source = (char *)((int)_Source + 1);
      *(char *)puVar5 = cVar3;
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
      if (_Count == 0) {
        return _Dest;
      }
      if (cVar3 == '\0') break;
      if (((uint)_Source & 3) == 0) {
        uVar4 = _Count >> 2;
        goto joined_r0x1000435e;
      }
    }
    do {
      if (((uint)puVar5 & 3) == 0) {
        uVar4 = _Count >> 2;
        cVar3 = '\0';
        if (uVar4 == 0) goto LAB_1000439b;
        goto LAB_10004409;
      }
      *(char *)puVar5 = '\0';
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
    } while (_Count != 0);
    return _Dest;
  }
  uVar4 = _Count >> 2;
  if (uVar4 != 0) {
    do {
      uVar1 = *(uint *)_Source;
      uVar2 = *(uint *)_Source;
      _Source = (char *)((int)_Source + 4);
      if (((uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff) & 0x81010100) != 0) {
        if ((char)uVar2 == '\0') {
          *puVar5 = 0;
joined_r0x10004405:
          while( true ) {
            uVar4 = uVar4 - 1;
            puVar5 = puVar5 + 1;
            if (uVar4 == 0) break;
LAB_10004409:
            *puVar5 = 0;
          }
          cVar3 = '\0';
          _Count = _Count & 3;
          if (_Count != 0) goto LAB_1000439b;
          return _Dest;
        }
        if ((char)(uVar2 >> 8) == '\0') {
          *puVar5 = uVar2 & 0xff;
          goto joined_r0x10004405;
        }
        if ((uVar2 & 0xff0000) == 0) {
          *puVar5 = uVar2 & 0xffff;
          goto joined_r0x10004405;
        }
        if ((uVar2 & 0xff000000) == 0) {
          *puVar5 = uVar2;
          goto joined_r0x10004405;
        }
      }
      *puVar5 = uVar2;
      puVar5 = puVar5 + 1;
      uVar4 = uVar4 - 1;
joined_r0x1000435e:
    } while (uVar4 != 0);
    _Count = _Count & 3;
    if (_Count == 0) {
      return _Dest;
    }
  }
  do {
    cVar3 = *_Source;
    _Source = (char *)((int)_Source + 1);
    *(char *)puVar5 = cVar3;
    puVar5 = (uint *)((int)puVar5 + 1);
    if (cVar3 == '\0') {
      while (_Count = _Count - 1, _Count != 0) {
LAB_1000439b:
        *(char *)puVar5 = cVar3;
        puVar5 = (uint *)((int)puVar5 + 1);
      }
      return _Dest;
    }
    _Count = _Count - 1;
  } while (_Count != 0);
  return _Dest;
}



/*
 * Function: FUN_1000441e
 * Address: 1000441e
 */

int __cdecl FUN_1000441e(undefined *param_1,byte *param_2)

{
  int iVar1;
  undefined *local_24;
  int local_20;
  undefined *local_1c;
  undefined4 local_18;
  
  local_1c = param_1;
  local_24 = param_1;
  local_18 = 0x42;
  local_20 = 0x7fffffff;
  iVar1 = FUN_100052b7((int *)&local_24,param_2,(undefined4 *)&stack0x0000000c);
  local_20 = local_20 + -1;
  if (local_20 < 0) {
    FUN_1000519f(0,(int *)&local_24);
  }
  else {
    *local_24 = 0;
  }
  return iVar1;
}



/*
 * Function: FUN_10004470
 * Address: 10004470
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_10004470(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  
  if (param_2 == 1) {
    DAT_1000dd0c = GetVersion();
    iVar1 = FUN_10006227(1);
    if (iVar1 != 0) {
      _DAT_1000dd18 = DAT_1000dd0c >> 8 & 0xff;
      _DAT_1000dd14 = DAT_1000dd0c & 0xff;
      DAT_1000dd0c = DAT_1000dd0c >> 0x10;
      _DAT_1000dd10 = _DAT_1000dd14 * 0x100 + _DAT_1000dd18;
      iVar1 = FUN_10004f5c();
      if (iVar1 != 0) {
        DAT_1000f3d8 = GetCommandLineA();
        DAT_1000dcf8 = FUN_100060f5();
        FUN_10005bdf();
        FUN_10005ea8();
        FUN_10005def();
        FUN_10005ac1();
        DAT_1000dcf4 = DAT_1000dcf4 + 1;
        goto LAB_10004543;
      }
      FUN_10006263();
    }
LAB_100044d0:
    uVar2 = 0;
  }
  else {
    if (param_2 == 0) {
      if (DAT_1000dcf4 < 1) goto LAB_100044d0;
      DAT_1000dcf4 = DAT_1000dcf4 + -1;
      if (DAT_1000dd44 == 0) {
        FUN_10005aff();
      }
      FUN_10005d9b();
      FUN_10004fb0();
      FUN_10006263();
    }
    else if (param_2 == 3) {
      FUN_10005048((LPVOID)0x0);
    }
LAB_10004543:
    uVar2 = 1;
  }
  return uVar2;
}



/*
 * Function: entry
 * Address: 10004549
 */

int entry(undefined4 param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = param_2;
  iVar2 = DAT_1000dcf4;
  if (param_2 != 0) {
    if ((param_2 != 1) && (param_2 != 2)) goto LAB_10004591;
    if ((DAT_1000f3dc != (code *)0x0) &&
       (iVar2 = (*DAT_1000f3dc)(param_1,param_2,param_3), iVar2 == 0)) {
      return 0;
    }
    iVar2 = FUN_10004470(param_1,param_2);
  }
  if (iVar2 == 0) {
    return 0;
  }
LAB_10004591:
  iVar2 = FUN_100062d8();
  if (param_2 == 1) {
    if (iVar2 != 0) {
      return iVar2;
    }
    FUN_10004470(param_1,0);
  }
  if ((param_2 != 0) && (param_2 != 3)) {
    return iVar2;
  }
  iVar3 = FUN_10004470(param_1,param_2);
  param_2 = iVar2;
  if (iVar3 == 0) {
    param_2 = 0;
  }
  if (param_2 != 0) {
    if (DAT_1000f3dc != (code *)0x0) {
      iVar2 = (*DAT_1000f3dc)(param_1,iVar1,param_3);
      return iVar2;
    }
    return param_2;
  }
  return 0;
}



/*
 * Function: __amsg_exit
 * Address: 100045e6
 */

/* Library Function - Single Match
    __amsg_exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __amsg_exit(int param_1)

{
  if ((DAT_1000dd00 == 1) || ((DAT_1000dd00 == 0 && (DAT_1000dd04 == 1)))) {
    FUN_100062de();
  }
  FUN_10006317(param_1);
  (*(code *)PTR___exit_1000d060)(0xff);
  return;
}



/*
 * Function: FUN_10004619
 * Address: 10004619
 */

void __cdecl FUN_10004619(LPVOID param_1)

{
  uint *puVar1;
  
  if (param_1 != (LPVOID)0x0) {
    FUN_100064ff(9);
    puVar1 = (uint *)FUN_100065b3((int)param_1);
    if (puVar1 != (uint *)0x0) {
      FUN_100065de(puVar1,(uint)param_1);
      FUN_10006560(9);
      return;
    }
    FUN_10006560(9);
    HeapFree(DAT_1000f2bc,0,param_1);
  }
  return;
}



/*
 * Function: _malloc
 * Address: 10004661
 */

/* Library Function - Single Match
    _malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl _malloc(size_t _Size)

{
  void *pvVar1;
  
  pvVar1 = __nh_malloc(_Size,DAT_1000deb8);
  return pvVar1;
}



/*
 * Function: __nh_malloc
 * Address: 10004673
 */

/* Library Function - Single Match
    __nh_malloc
   
   Library: Visual Studio 2003 Release */

void * __cdecl __nh_malloc(size_t _Size,int _NhFlag)

{
  int *piVar1;
  int iVar2;
  
  if (_Size < 0xffffffe1) {
    do {
      piVar1 = FUN_1000469f((uint *)_Size);
      if (piVar1 != (int *)0x0) {
        return piVar1;
      }
      if (_NhFlag == 0) {
        return (void *)0x0;
      }
      iVar2 = FUN_10006dbe(_Size);
    } while (iVar2 != 0);
  }
  return (void *)0x0;
}



/*
 * Function: FUN_1000469f
 * Address: 1000469f
 */

int * __cdecl FUN_1000469f(uint *param_1)

{
  int *piVar1;
  
  if (param_1 <= DAT_1000d1f8) {
    FUN_100064ff(9);
    piVar1 = FUN_10006909(param_1);
    FUN_10006560(9);
    if (piVar1 != (int *)0x0) {
      return piVar1;
    }
  }
  if (param_1 == (uint *)0x0) {
    param_1 = (uint *)0x1;
  }
  piVar1 = (int *)HeapAlloc(DAT_1000f2bc,0,(int)param_1 + 0xfU & 0xfffffff0);
  return piVar1;
}



/*
 * Function: FUN_100046ed
 * Address: 100046ed
 */

undefined4 __cdecl
FUN_100046ed(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int *param_5,
            int param_6,PVOID param_7,char param_8)

{
  code *pcVar1;
  undefined4 uVar2;
  
  if (*param_5 != 0x19930520) {
    FUN_10005149();
  }
  if ((*(byte *)&param_1->ExceptionFlags & 0x66) == 0) {
    if (param_5[3] != 0) {
      if (((param_1->ExceptionCode == 0xe06d7363) && (0x19930520 < param_1->ExceptionInformation[0])
          ) && (pcVar1 = *(code **)(param_1->ExceptionInformation[2] + 8), pcVar1 != (code *)0x0)) {
        uVar2 = (*pcVar1)(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8);
        return uVar2;
      }
      FUN_10004788(param_1,param_2,param_3,param_4,(uint)param_5,param_8,param_6,param_7);
    }
  }
  else if ((param_5[1] != 0) && (param_6 == 0)) {
    FUN_10004a42((int)param_2,param_4,(int)param_5,-1);
  }
  return 1;
}



/*
 * Function: FUN_10004788
 * Address: 10004788
 */

void __cdecl
FUN_10004788(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            char param_6,int param_7,PVOID param_8)

{
  byte *pbVar1;
  bool bVar2;
  DWORD *pDVar3;
  undefined3 extraout_var;
  int *piVar4;
  int iVar5;
  int *piVar6;
  uint local_1c;
  uint local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  local_18 = local_18 & 0xffffff00;
  local_14 = *(int *)((int)param_2 + 8);
  if ((local_14 < -1) || (*(int *)(param_5 + 4) <= local_14)) {
    FUN_10005149();
  }
  if (param_1->ExceptionCode == 0xe06d7363) {
    if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
       (param_1->ExceptionInformation[2] == 0)) {
      pDVar3 = FUN_10004fe1();
      if (pDVar3[0x1b] == 0) {
        return;
      }
      pDVar3 = FUN_10004fe1();
      param_1 = (PEXCEPTION_RECORD)pDVar3[0x1b];
      pDVar3 = FUN_10004fe1();
      param_3 = pDVar3[0x1c];
      local_18 = CONCAT31(local_18._1_3_,1);
      bVar2 = FUN_10006e3d(param_1,1);
      if (CONCAT31(extraout_var,bVar2) == 0) {
        FUN_10005149();
      }
      if (param_1->ExceptionCode != 0xe06d7363) goto LAB_10004910;
      if (((param_1->NumberParameters == 3) && (param_1->ExceptionInformation[0] == 0x19930520)) &&
         (param_1->ExceptionInformation[2] == 0)) {
        FUN_10005149();
      }
    }
    iVar5 = local_14;
    if (((param_1->ExceptionCode == 0xe06d7363) && (param_1->NumberParameters == 3)) &&
       (param_1->ExceptionInformation[0] == 0x19930520)) {
      piVar4 = (int *)FUN_100041aa(param_5,param_7,local_14,&local_8,&local_1c);
      do {
        if (local_1c <= local_8) {
          if (param_6 == '\0') {
            return;
          }
          FUN_10004e7a((int)param_1);
          return;
        }
        if ((*piVar4 <= iVar5) && (iVar5 <= piVar4[1])) {
          pbVar1 = (byte *)piVar4[4];
          for (local_10 = piVar4[3]; iVar5 = local_14, 0 < local_10; local_10 = local_10 + -1) {
            piVar6 = *(int **)(param_1->ExceptionInformation[2] + 0xc);
            for (local_c = *piVar6; 0 < local_c; local_c = local_c + -1) {
              piVar6 = piVar6 + 1;
              iVar5 = FUN_100049e5(pbVar1,(byte *)*piVar6,(uint *)param_1->ExceptionInformation[2]);
              if (iVar5 != 0) {
                FUN_10004af6(param_1,param_2,param_3,param_4,param_5,pbVar1,(byte *)*piVar6,piVar4,
                             param_7,param_8);
                iVar5 = local_14;
                goto LAB_100048f0;
              }
            }
            pbVar1 = pbVar1 + 0x10;
          }
        }
LAB_100048f0:
        local_8 = local_8 + 1;
        piVar4 = piVar4 + 5;
      } while( true );
    }
  }
LAB_10004910:
  if (param_6 == '\0') {
    FUN_1000493b(param_1,param_2,param_3,param_4,param_5,local_14,param_7,param_8);
    return;
  }
  FUN_100050e8();
  return;
}



/*
 * Function: FUN_1000493b
 * Address: 1000493b
 */

void __cdecl
FUN_1000493b(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,uint param_5,
            int param_6,int param_7,PVOID param_8)

{
  DWORD *pDVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  uint local_c;
  uint local_8;
  
  pDVar1 = FUN_10004fe1();
  if ((pDVar1[0x1a] != 0) &&
     (iVar2 = FUN_1000407f(&param_1->ExceptionCode,param_2,param_3,param_4,param_5,param_7,param_8),
     iVar2 != 0)) {
    return;
  }
  piVar3 = (int *)FUN_100041aa(param_5,param_7,param_6,&local_8,&local_c);
  for (; local_8 < local_c; local_8 = local_8 + 1) {
    if ((*piVar3 <= param_6) && (param_6 <= piVar3[1])) {
      iVar4 = piVar3[3] * 0x10 + piVar3[4];
      iVar2 = *(int *)(iVar4 + -0xc);
      if ((iVar2 == 0) || (*(char *)(iVar2 + 8) == '\0')) {
        FUN_10004af6(param_1,param_2,param_3,param_4,param_5,(byte *)(iVar4 + -0x10),(byte *)0x0,
                     piVar3,param_7,param_8);
      }
    }
    piVar3 = piVar3 + 5;
  }
  return;
}



/*
 * Function: FUN_100049e5
 * Address: 100049e5
 */

undefined4 __cdecl FUN_100049e5(byte *param_1,byte *param_2,uint *param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if ((iVar1 == 0) || (*(char *)(iVar1 + 8) == '\0')) {
LAB_10004a3c:
    uVar2 = 1;
  }
  else {
    if (iVar1 == *(int *)(param_2 + 4)) {
LAB_10004a16:
      if (((((*param_2 & 2) == 0) || ((*param_1 & 8) != 0)) &&
          (((*param_3 & 1) == 0 || ((*param_1 & 1) != 0)))) &&
         (((*param_3 & 2) == 0 || ((*param_1 & 2) != 0)))) goto LAB_10004a3c;
    }
    else {
      iVar1 = _strcmp((char *)(iVar1 + 8),(char *)(*(int *)(param_2 + 4) + 8));
      if (iVar1 == 0) goto LAB_10004a16;
    }
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_10004a42
 * Address: 10004a42
 */

void __cdecl FUN_10004a42(int param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000a150;
  puStack_10 = &LAB_10006f1c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  for (iVar2 = *(int *)(param_1 + 8); local_8 = 0xffffffff, iVar2 != param_4;
      iVar2 = *(int *)(*(int *)(param_3 + 8) + iVar2 * 8)) {
    if ((iVar2 < 0) || (*(int *)(param_3 + 4) <= iVar2)) {
      FUN_10005149();
    }
    local_8 = 0;
    iVar1 = *(int *)(*(int *)(param_3 + 8) + 4 + iVar2 * 8);
    if (iVar1 != 0) {
      __CallSettingFrame_12(iVar1,param_1,0x103);
    }
  }
  *(int *)(param_1 + 8) = iVar2;
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10004ae0
 * Address: 10004ae0
 */

undefined4 __cdecl FUN_10004ae0(undefined4 *param_1)

{
  undefined4 uVar1;
  
  if (*(int *)*param_1 != -0x1f928c9d) {
    return 0;
  }
  uVar1 = FUN_100050e8();
  return uVar1;
}



/*
 * Function: FUN_10004af6
 * Address: 10004af6
 */

void __cdecl
FUN_10004af6(PEXCEPTION_RECORD param_1,PVOID param_2,DWORD param_3,undefined4 param_4,int param_5,
            byte *param_6,byte *param_7,int *param_8,int param_9,PVOID param_10)

{
  undefined *UNRECOVERED_JUMPTABLE;
  
  if (param_7 != (byte *)0x0) {
    FUN_10004cb6((int)param_1,(int)param_2,param_6,param_7);
  }
  if (param_10 == (PVOID)0x0) {
    param_10 = param_2;
  }
  FUN_10003f81(param_10,param_1);
  FUN_10004a42((int)param_2,param_4,param_5,*param_8);
  *(int *)((int)param_2 + 8) = param_8[1] + 1;
  UNRECOVERED_JUMPTABLE =
       (undefined *)
       FUN_10004b71((DWORD)param_1,param_2,param_3,param_5,*(undefined4 *)(param_6 + 0xc),param_9,
                    0x100);
  if (UNRECOVERED_JUMPTABLE != (undefined *)0x0) {
    FUN_10003f3f(UNRECOVERED_JUMPTABLE);
  }
  return;
}



/*
 * Function: FUN_10004b71
 * Address: 10004b71
 */

undefined4 __cdecl
FUN_10004b71(DWORD param_1,undefined4 param_2,DWORD param_3,undefined4 param_4,undefined4 param_5,
            int param_6,int param_7)

{
  DWORD *pDVar1;
  undefined4 uVar2;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_1000a160;
  puStack_10 = &LAB_10006f1c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  FUN_10004fe1();
  FUN_10004fe1();
  pDVar1 = FUN_10004fe1();
  pDVar1[0x1b] = param_1;
  pDVar1 = FUN_10004fe1();
  pDVar1[0x1c] = param_3;
  local_8 = 1;
  uVar2 = FUN_10004006(param_2,param_4,param_5,param_6,param_7);
  local_8 = 0xffffffff;
  FUN_10004c3e();
  ExceptionList = local_14;
  return uVar2;
}



/*
 * Function: FUN_10004c3e
 * Address: 10004c3e
 */

void FUN_10004c3e(void)

{
  DWORD *pDVar1;
  int unaff_EBP;
  int unaff_ESI;
  int *unaff_EDI;
  
  *(undefined4 *)(unaff_ESI + -4) = *(undefined4 *)(unaff_EBP + -0x28);
  pDVar1 = FUN_10004fe1();
  pDVar1[0x1b] = *(DWORD *)(unaff_EBP + -0x1c);
  pDVar1 = FUN_10004fe1();
  pDVar1[0x1c] = *(DWORD *)(unaff_EBP + -0x20);
  if ((((*unaff_EDI == -0x1f928c9d) && (unaff_EDI[4] == 3)) && (unaff_EDI[5] == 0x19930520)) &&
     ((*(int *)(unaff_EBP + -0x24) == 0 && (*(int *)(unaff_EBP + -0x2c) != 0)))) {
    __abnormal_termination();
    FUN_10004e7a((int)unaff_EDI);
  }
  return;
}



/*
 * Function: FUN_10004c8c
 * Address: 10004c8c
 */

undefined4 __cdecl FUN_10004c8c(int *param_1)

{
  int *piVar1;
  
  piVar1 = (int *)*param_1;
  if ((((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) &&
     (piVar1[7] == 0)) {
    return 1;
  }
  return 0;
}



/*
 * Function: FUN_10004cb6
 * Address: 10004cb6
 */

void __cdecl FUN_10004cb6(int param_1,int param_2,byte *param_3,byte *param_4)

{
  int *piVar1;
  bool bVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar3;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined4 *puVar4;
  undefined3 extraout_var_05;
  undefined3 extraout_var_06;
  undefined3 extraout_var_07;
  uint uVar5;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000a178;
  puStack_10 = &LAB_10006f1c;
  local_14 = ExceptionList;
  if (*(int *)(param_3 + 4) == 0) {
    return;
  }
  if (*(char *)(*(int *)(param_3 + 4) + 8) == '\0') {
    return;
  }
  if (*(int *)(param_3 + 8) == 0) {
    return;
  }
  piVar1 = (int *)(*(int *)(param_3 + 8) + 0xc + param_2);
  local_8 = 0;
  if ((*param_3 & 8) == 0) {
    if ((*param_4 & 1) == 0) {
      if (*(int *)(param_4 + 0x18) == 0) {
        ExceptionList = &local_14;
        bVar2 = FUN_10006e3d(*(void **)(param_1 + 0x18),1);
        if ((CONCAT31(extraout_var_03,bVar2) != 0) &&
           (bVar2 = FUN_10006e59(piVar1,1), CONCAT31(extraout_var_04,bVar2) != 0)) {
          uVar5 = *(uint *)(param_4 + 0x14);
          puVar4 = (undefined4 *)FUN_10004ee1(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_10007000(piVar1,puVar4,uVar5);
          ExceptionList = local_14;
          return;
        }
      }
      else {
        ExceptionList = &local_14;
        bVar2 = FUN_10006e3d(*(void **)(param_1 + 0x18),1);
        if (((CONCAT31(extraout_var_05,bVar2) != 0) &&
            (bVar2 = FUN_10006e59(piVar1,1), CONCAT31(extraout_var_06,bVar2) != 0)) &&
           (bVar2 = FUN_10006e75(*(FARPROC *)(param_4 + 0x18)), CONCAT31(extraout_var_07,bVar2) != 0
           )) {
          if ((*param_4 & 4) != 0) {
            FUN_10004ee1(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
            FUN_10003f7a(piVar1,*(undefined **)(param_4 + 0x18));
            ExceptionList = local_14;
            return;
          }
          FUN_10004ee1(*(int *)(param_1 + 0x18),(int *)(param_4 + 8));
          FUN_10003f73(piVar1,*(undefined **)(param_4 + 0x18));
          ExceptionList = local_14;
          return;
        }
      }
    }
    else {
      ExceptionList = &local_14;
      bVar2 = FUN_10006e3d(*(void **)(param_1 + 0x18),1);
      if ((CONCAT31(extraout_var_01,bVar2) != 0) &&
         (bVar2 = FUN_10006e59(piVar1,1), CONCAT31(extraout_var_02,bVar2) != 0)) {
        FUN_10007000(piVar1,*(undefined4 **)(param_1 + 0x18),*(uint *)(param_4 + 0x14));
        if (*(int *)(param_4 + 0x14) != 4) {
          ExceptionList = local_14;
          return;
        }
        iVar3 = *piVar1;
        if (iVar3 == 0) {
          ExceptionList = local_14;
          return;
        }
        goto LAB_10004d44;
      }
    }
  }
  else {
    ExceptionList = &local_14;
    bVar2 = FUN_10006e3d(*(void **)(param_1 + 0x18),1);
    if ((CONCAT31(extraout_var,bVar2) != 0) &&
       (bVar2 = FUN_10006e59(piVar1,1), CONCAT31(extraout_var_00,bVar2) != 0)) {
      iVar3 = *(int *)(param_1 + 0x18);
      *piVar1 = iVar3;
LAB_10004d44:
      iVar3 = FUN_10004ee1(iVar3,(int *)(param_4 + 8));
      *piVar1 = iVar3;
      ExceptionList = local_14;
      return;
    }
  }
  FUN_10005149();
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10004e7a
 * Address: 10004e7a
 */

void __cdecl FUN_10004e7a(int param_1)

{
  undefined *UNRECOVERED_JUMPTABLE;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000a188;
  puStack_10 = &LAB_10006f1c;
  local_14 = ExceptionList;
  if ((param_1 != 0) &&
     (UNRECOVERED_JUMPTABLE = *(undefined **)(*(int *)(param_1 + 0x1c) + 4),
     UNRECOVERED_JUMPTABLE != (undefined *)0x0)) {
    local_8 = 0;
    ExceptionList = &local_14;
    FUN_10003f73(*(undefined4 *)(param_1 + 0x18),UNRECOVERED_JUMPTABLE);
  }
  ExceptionList = local_14;
  return;
}



/*
 * Function: FUN_10004ee1
 * Address: 10004ee1
 */

int __cdecl FUN_10004ee1(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = param_2[1];
  iVar2 = *param_2 + param_1;
  if (-1 < iVar1) {
    iVar2 = iVar2 + *(int *)(*(int *)(iVar1 + param_1) + param_2[2]) + iVar1;
  }
  return iVar2;
}



/*
 * Function: __CallSettingFrame@12
 * Address: 10004f10
 */

/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* Library Function - Single Match
    __CallSettingFrame@12
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __CallSettingFrame_12(undefined4 param_1,undefined4 param_2,int param_3)

{
  code *pcVar1;
  
  pcVar1 = (code *)__NLG_Notify1(param_3);
  (*pcVar1)();
  if (param_3 == 0x100) {
    param_3 = 2;
  }
  __NLG_Notify1(param_3);
  return;
}



/*
 * Function: FUN_10004f5c
 * Address: 10004f5c
 */

undefined4 FUN_10004f5c(void)

{
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  FUN_1000646a();
  DAT_1000d070 = TlsAlloc();
  if (DAT_1000d070 != 0xffffffff) {
    lpTlsValue = (DWORD *)FUN_10007335(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_1000d070,lpTlsValue);
      if (BVar1 != 0) {
        FUN_10004fce((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        return 1;
      }
    }
  }
  return 0;
}



/*
 * Function: FUN_10004fb0
 * Address: 10004fb0
 */

void FUN_10004fb0(void)

{
  FUN_10006493();
  if (DAT_1000d070 != 0xffffffff) {
    TlsFree(DAT_1000d070);
    DAT_1000d070 = 0xffffffff;
  }
  return;
}



/*
 * Function: FUN_10004fce
 * Address: 10004fce
 */

void __cdecl FUN_10004fce(int param_1)

{
  *(undefined **)(param_1 + 0x50) = &DAT_1000d200;
  *(undefined4 *)(param_1 + 0x14) = 1;
  return;
}



/*
 * Function: FUN_10004fe1
 * Address: 10004fe1
 */

DWORD * FUN_10004fe1(void)

{
  DWORD dwErrCode;
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  dwErrCode = GetLastError();
  lpTlsValue = (DWORD *)TlsGetValue(DAT_1000d070);
  if (lpTlsValue == (DWORD *)0x0) {
    lpTlsValue = (DWORD *)FUN_10007335(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_1000d070,lpTlsValue);
      if (BVar1 != 0) {
        FUN_10004fce((int)lpTlsValue);
        DVar2 = GetCurrentThreadId();
        lpTlsValue[1] = 0xffffffff;
        *lpTlsValue = DVar2;
        goto LAB_1000503c;
      }
    }
    __amsg_exit(0x10);
  }
LAB_1000503c:
  SetLastError(dwErrCode);
  return lpTlsValue;
}



/*
 * Function: FUN_10005048
 * Address: 10005048
 */

void __cdecl FUN_10005048(LPVOID param_1)

{
  if (DAT_1000d070 != 0xffffffff) {
    if ((param_1 != (LPVOID)0x0) || (param_1 = TlsGetValue(DAT_1000d070), param_1 != (LPVOID)0x0)) {
      if (*(LPVOID *)((int)param_1 + 0x24) != (LPVOID)0x0) {
        FUN_10004619(*(LPVOID *)((int)param_1 + 0x24));
      }
      if (*(LPVOID *)((int)param_1 + 0x28) != (LPVOID)0x0) {
        FUN_10004619(*(LPVOID *)((int)param_1 + 0x28));
      }
      if (*(LPVOID *)((int)param_1 + 0x30) != (LPVOID)0x0) {
        FUN_10004619(*(LPVOID *)((int)param_1 + 0x30));
      }
      if (*(LPVOID *)((int)param_1 + 0x38) != (LPVOID)0x0) {
        FUN_10004619(*(LPVOID *)((int)param_1 + 0x38));
      }
      if (*(LPVOID *)((int)param_1 + 0x40) != (LPVOID)0x0) {
        FUN_10004619(*(LPVOID *)((int)param_1 + 0x40));
      }
      if (*(LPVOID *)((int)param_1 + 0x44) != (LPVOID)0x0) {
        FUN_10004619(*(LPVOID *)((int)param_1 + 0x44));
      }
      if (*(undefined **)((int)param_1 + 0x50) != &DAT_1000d200) {
        FUN_10004619(*(undefined **)((int)param_1 + 0x50));
      }
      FUN_10004619(param_1);
    }
    TlsSetValue(DAT_1000d070,(LPVOID)0x0);
    return;
  }
  return;
}



/*
 * Function: FUN_100050e8
 * Address: 100050e8
 */

void FUN_100050e8(void)

{
  DWORD *pDVar1;
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000a198;
  puStack_10 = &LAB_10006f1c;
  pvStack_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &pvStack_14;
  pDVar1 = FUN_10004fe1();
  if (pDVar1[0x18] != 0) {
    local_8 = 1;
    pDVar1 = FUN_10004fe1();
    (*(code *)pDVar1[0x18])();
  }
  local_8 = 0xffffffff;
  FUN_100073c2();
  return;
}



/*
 * Function: FUN_10005149
 * Address: 10005149
 */

void FUN_10005149(void)

{
  void *pvStack_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_1000a1b0;
  puStack_10 = &LAB_10006f1c;
  pvStack_14 = ExceptionList;
  ExceptionList = &pvStack_14;
  if (PTR_FUN_1000d074 != (undefined *)0x0) {
    local_8 = 1;
    ExceptionList = &pvStack_14;
    (*(code *)PTR_FUN_1000d074)();
  }
  local_8 = 0xffffffff;
  FUN_100050e8();
  return;
}



/*
 * Function: FUN_1000519f
 * Address: 1000519f
 */

uint __cdecl FUN_1000519f(uint param_1,int *param_2)

{
  uint uVar1;
  uint uVar2;
  char *pcVar3;
  int *piVar4;
  byte bVar5;
  undefined3 extraout_var;
  undefined *puVar6;
  int *piVar7;
  
  piVar4 = param_2;
  uVar1 = param_2[3];
  uVar2 = param_2[4];
  if (((uVar1 & 0x82) == 0) || ((uVar1 & 0x40) != 0)) {
LAB_100052ab:
    param_2[3] = uVar1 | 0x20;
  }
  else {
    if ((uVar1 & 1) != 0) {
      param_2[1] = 0;
      if ((uVar1 & 0x10) == 0) goto LAB_100052ab;
      *param_2 = param_2[2];
      param_2[3] = uVar1 & 0xfffffffe;
    }
    uVar1 = param_2[3];
    param_2[1] = 0;
    param_2 = (int *)0x0;
    piVar4[3] = uVar1 & 0xffffffef | 2;
    if (((uVar1 & 0x10c) == 0) &&
       (((piVar4 != (int *)&DAT_1000d2a8 && (piVar4 != (int *)&DAT_1000d2c8)) ||
        (bVar5 = FUN_100076e5(uVar2), CONCAT31(extraout_var,bVar5) == 0)))) {
      FUN_100076a1(piVar4);
    }
    if ((*(ushort *)(piVar4 + 3) & 0x108) == 0) {
      piVar7 = (int *)0x1;
      param_2 = (int *)FUN_100074b1(uVar2,(char *)&param_1,1);
    }
    else {
      pcVar3 = (char *)piVar4[2];
      piVar7 = (int *)(*piVar4 - (int)pcVar3);
      *piVar4 = (int)(pcVar3 + 1);
      piVar4[1] = piVar4[6] + -1;
      if ((int)piVar7 < 1) {
        if (uVar2 == 0xffffffff) {
          puVar6 = &DAT_1000d080;
        }
        else {
          puVar6 = (undefined *)((&DAT_1000f2c0)[(int)uVar2 >> 5] + (uVar2 & 0x1f) * 0x24);
        }
        if ((puVar6[4] & 0x20) != 0) {
          FUN_100073d9(uVar2,0,2);
        }
      }
      else {
        param_2 = (int *)FUN_100074b1(uVar2,pcVar3,(uint)piVar7);
      }
      *(undefined *)piVar4[2] = (undefined)param_1;
    }
    if (param_2 == piVar7) {
      return param_1 & 0xff;
    }
    piVar4[3] = piVar4[3] | 0x20;
  }
  return 0xffffffff;
}



/*
 * Function: FUN_100052b7
 * Address: 100052b7
 */

int __cdecl FUN_100052b7(int *param_1,byte *param_2,undefined4 *param_3)

{
  int iVar1;
  uint uVar2;
  WCHAR *pWVar3;
  WCHAR *pWVar4;
  undefined4 uVar5;
  short *psVar6;
  int *piVar7;
  LPSTR pCVar8;
  byte bVar9;
  int iVar10;
  uint uVar11;
  LPSTR pCVar12;
  ulonglong uVar13;
  undefined8 uVar14;
  ulonglong uVar15;
  undefined local_24c [511];
  undefined local_4d;
  undefined4 local_4c;
  undefined4 local_48;
  uint local_44;
  uint local_40;
  CHAR local_3c [4];
  undefined4 local_38;
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  char local_1a;
  char local_19;
  int local_18;
  int local_14;
  LPSTR local_10;
  WCHAR *local_c;
  uint local_8;
  
  local_34 = 0;
  bVar9 = *param_2;
  param_2 = param_2 + 1;
  local_10 = (LPSTR)0x0;
  local_18 = 0;
  do {
    if ((bVar9 == 0) || (local_18 < 0)) {
      return local_18;
    }
    if (((char)bVar9 < ' ') || ('x' < (char)bVar9)) {
      uVar2 = 0;
    }
    else {
      uVar2 = *(byte *)((int)&PTR_LAB_1000a1a8 + (int)(char)bVar9) & 0xf;
    }
    local_34 = (int)(char)(&DAT_1000a1c8)[uVar2 * 8 + local_34] >> 4;
    switch(local_34) {
    case 0:
switchD_10005325_caseD_0:
      local_28 = 0;
      if ((PTR_DAT_1000d528[(uint)bVar9 * 2 + 1] & 0x80) != 0) {
        FUN_100059f8((int)(char)bVar9,param_1,&local_18);
        bVar9 = *param_2;
        param_2 = param_2 + 1;
      }
      FUN_100059f8((int)(char)bVar9,param_1,&local_18);
      break;
    case 1:
      local_14 = -1;
      local_38 = 0;
      local_2c = 0;
      local_24 = 0;
      local_20 = 0;
      local_8 = 0;
      local_28 = 0;
      break;
    case 2:
      if (bVar9 == 0x20) {
        local_8 = local_8 | 2;
      }
      else if (bVar9 == 0x23) {
        local_8 = local_8 | 0x80;
      }
      else if (bVar9 == 0x2b) {
        local_8 = local_8 | 1;
      }
      else if (bVar9 == 0x2d) {
        local_8 = local_8 | 4;
      }
      else if (bVar9 == 0x30) {
        local_8 = local_8 | 8;
      }
      break;
    case 3:
      if (bVar9 == 0x2a) {
        local_24 = FUN_10005a96((int *)&param_3);
        if (local_24 < 0) {
          local_8 = local_8 | 4;
          local_24 = -local_24;
        }
      }
      else {
        local_24 = (char)bVar9 + -0x30 + local_24 * 10;
      }
      break;
    case 4:
      local_14 = 0;
      break;
    case 5:
      if (bVar9 == 0x2a) {
        local_14 = FUN_10005a96((int *)&param_3);
        if (local_14 < 0) {
          local_14 = -1;
        }
      }
      else {
        local_14 = (char)bVar9 + -0x30 + local_14 * 10;
      }
      break;
    case 6:
      if (bVar9 == 0x49) {
        if ((*param_2 != 0x36) || (param_2[1] != 0x34)) {
          local_34 = 0;
          goto switchD_10005325_caseD_0;
        }
        param_2 = param_2 + 2;
        local_8 = local_8 | 0x8000;
      }
      else if (bVar9 == 0x68) {
        local_8 = local_8 | 0x20;
      }
      else if (bVar9 == 0x6c) {
        local_8 = local_8 | 0x10;
      }
      else if (bVar9 == 0x77) {
        local_8 = local_8 | 0x800;
      }
      break;
    case 7:
      pWVar4 = local_c;
      if ((char)bVar9 < 'h') {
        if ((char)bVar9 < 'e') {
          if ((char)bVar9 < 'Y') {
            if (bVar9 == 0x58) {
LAB_10005736:
              local_30 = 7;
LAB_1000573d:
              local_10 = (LPSTR)0x10;
              if ((local_8 & 0x80) != 0) {
                local_1a = '0';
                local_19 = (char)local_30 + 'Q';
                local_20 = 2;
              }
              goto LAB_100057a7;
            }
            if (bVar9 != 0x43) {
              if ((bVar9 != 0x45) && (bVar9 != 0x47)) {
                if (bVar9 == 0x53) {
                  if ((local_8 & 0x830) == 0) {
                    local_8 = local_8 | 0x800;
                  }
                  goto LAB_100054e4;
                }
                goto LAB_100058c1;
              }
              local_38 = 1;
              bVar9 = bVar9 + 0x20;
              goto LAB_10005545;
            }
            if ((local_8 & 0x830) == 0) {
              local_8 = local_8 | 0x800;
            }
LAB_10005572:
            if ((local_8 & 0x810) == 0) {
              uVar5 = FUN_10005a96((int *)&param_3);
              local_24c[0] = (char)uVar5;
              local_10 = (LPSTR)0x1;
            }
            else {
              uVar5 = FUN_10005ab3((int *)&param_3);
              local_10 = FUN_100078eb(local_24c,(WCHAR)uVar5);
              if ((int)local_10 < 0) {
                local_2c = 1;
              }
            }
            pWVar4 = (WCHAR *)local_24c;
          }
          else if (bVar9 == 0x5a) {
            psVar6 = (short *)FUN_10005a96((int *)&param_3);
            if ((psVar6 == (short *)0x0) ||
               (pWVar4 = *(WCHAR **)(psVar6 + 2), pWVar4 == (WCHAR *)0x0)) {
              local_c = (WCHAR *)PTR_s__null__1000d078;
              pWVar4 = (WCHAR *)PTR_s__null__1000d078;
              goto LAB_100056b7;
            }
            if ((local_8 & 0x800) == 0) {
              local_28 = 0;
              local_10 = (LPSTR)(int)*psVar6;
            }
            else {
              local_28 = 1;
              local_10 = (LPSTR)((uint)(int)*psVar6 >> 1);
            }
          }
          else {
            if (bVar9 == 99) goto LAB_10005572;
            if (bVar9 == 100) goto LAB_1000579c;
          }
        }
        else {
LAB_10005545:
          local_8 = local_8 | 0x40;
          pWVar4 = (WCHAR *)local_24c;
          if (local_14 < 0) {
            local_14 = 6;
          }
          else if ((local_14 == 0) && (bVar9 == 0x67)) {
            local_14 = 1;
          }
          local_4c = *param_3;
          local_48 = param_3[1];
          param_3 = param_3 + 2;
          local_c = pWVar4;
          (*(code *)PTR___fptrap_1000d510)(&local_4c,local_24c,(int)(char)bVar9,local_14,local_38);
          uVar2 = local_8 & 0x80;
          if ((uVar2 != 0) && (local_14 == 0)) {
            (*(code *)PTR___fptrap_1000d51c)(local_24c);
          }
          if ((bVar9 == 0x67) && (uVar2 == 0)) {
            (*(code *)PTR___fptrap_1000d514)(local_24c);
          }
          if (local_24c[0] == '-') {
            local_8 = local_8 | 0x100;
            pWVar4 = (WCHAR *)(local_24c + 1);
            local_c = pWVar4;
          }
LAB_100056b7:
          local_10 = (LPSTR)_strlen((char *)pWVar4);
          pWVar4 = local_c;
        }
      }
      else {
        if (bVar9 == 0x69) {
LAB_1000579c:
          local_8 = local_8 | 0x40;
        }
        else {
          if (bVar9 == 0x6e) {
            piVar7 = (int *)FUN_10005a96((int *)&param_3);
            if ((local_8 & 0x20) == 0) {
              *piVar7 = local_18;
            }
            else {
              *(undefined2 *)piVar7 = (undefined2)local_18;
            }
            local_2c = 1;
            break;
          }
          if (bVar9 == 0x6f) {
            local_10 = (LPSTR)0x8;
            if ((local_8 & 0x80) != 0) {
              local_8 = local_8 | 0x200;
            }
            goto LAB_100057a7;
          }
          if (bVar9 == 0x70) {
            local_14 = 8;
            goto LAB_10005736;
          }
          if (bVar9 == 0x73) {
LAB_100054e4:
            iVar10 = local_14;
            if (local_14 == -1) {
              iVar10 = 0x7fffffff;
            }
            pWVar3 = (WCHAR *)FUN_10005a96((int *)&param_3);
            if ((local_8 & 0x810) == 0) {
              pWVar4 = pWVar3;
              if (pWVar3 == (WCHAR *)0x0) {
                pWVar3 = (WCHAR *)PTR_s__null__1000d078;
                pWVar4 = (WCHAR *)PTR_s__null__1000d078;
              }
              for (; (iVar10 != 0 && (*(char *)pWVar3 != '\0')); pWVar3 = (WCHAR *)((int)pWVar3 + 1)
                  ) {
                iVar10 = iVar10 + -1;
              }
              local_10 = (LPSTR)((int)pWVar3 - (int)pWVar4);
            }
            else {
              if (pWVar3 == (WCHAR *)0x0) {
                pWVar3 = (WCHAR *)PTR_DAT_1000d07c;
              }
              local_28 = 1;
              for (pWVar4 = pWVar3; (iVar10 != 0 && (*pWVar4 != L'\0')); pWVar4 = pWVar4 + 1) {
                iVar10 = iVar10 + -1;
              }
              local_10 = (LPSTR)((int)pWVar4 - (int)pWVar3 >> 1);
              pWVar4 = pWVar3;
            }
            goto LAB_100058c1;
          }
          if (bVar9 != 0x75) {
            if (bVar9 != 0x78) goto LAB_100058c1;
            local_30 = 0x27;
            goto LAB_1000573d;
          }
        }
        local_10 = (LPSTR)0xa;
LAB_100057a7:
        if ((local_8 & 0x8000) == 0) {
          if ((local_8 & 0x20) == 0) {
            if ((local_8 & 0x40) == 0) {
              uVar2 = FUN_10005a96((int *)&param_3);
              uVar13 = (ulonglong)uVar2;
              goto LAB_100057fa;
            }
            uVar2 = FUN_10005a96((int *)&param_3);
          }
          else if ((local_8 & 0x40) == 0) {
            uVar2 = FUN_10005a96((int *)&param_3);
            uVar2 = uVar2 & 0xffff;
          }
          else {
            uVar5 = FUN_10005a96((int *)&param_3);
            uVar2 = (uint)(short)uVar5;
          }
          uVar13 = (ulonglong)(int)uVar2;
        }
        else {
          uVar13 = FUN_10005aa3((int *)&param_3);
        }
LAB_100057fa:
        iVar10 = (int)(uVar13 >> 0x20);
        if ((((local_8 & 0x40) != 0) && (iVar10 == 0 || (longlong)uVar13 < 0)) &&
           ((longlong)uVar13 < 0)) {
          local_8 = local_8 | 0x100;
          uVar13 = CONCAT44(-(iVar10 + (uint)((int)uVar13 != 0)),-(int)uVar13);
        }
        uVar2 = (uint)(uVar13 >> 0x20);
        uVar15 = uVar13 & 0xffffffff;
        if ((local_8 & 0x8000) == 0) {
          uVar2 = 0;
        }
        if (local_14 < 0) {
          local_14 = 1;
        }
        else {
          local_8 = local_8 & 0xfffffff7;
        }
        if ((int)uVar13 == 0 && uVar2 == 0) {
          local_20 = 0;
        }
        local_c = (WCHAR *)&local_4d;
        while( true ) {
          uVar11 = (uint)uVar15;
          iVar10 = local_14 + -1;
          if ((local_14 < 1) && (uVar11 == 0 && uVar2 == 0)) break;
          local_40 = (int)local_10 >> 0x1f;
          local_44 = (uint)local_10;
          local_14 = iVar10;
          uVar14 = __aullrem(uVar11,uVar2,(uint)local_10,local_40);
          iVar10 = (int)uVar14 + 0x30;
          uVar15 = __aulldiv(uVar11,uVar2,local_44,local_40);
          uVar2 = (uint)(uVar15 >> 0x20);
          if (0x39 < iVar10) {
            iVar10 = iVar10 + local_30;
          }
          pWVar4 = (WCHAR *)((int)local_c + -1);
          *(char *)local_c = (char)iVar10;
          local_c = pWVar4;
        }
        iVar1 = -(int)local_c;
        local_10 = &local_4d + iVar1;
        pWVar4 = (WCHAR *)((int)local_c + 1);
        local_14 = iVar10;
        if (((local_8 & 0x200) != 0) && ((*(char *)pWVar4 != '0' || (local_10 == (LPSTR)0x0)))) {
          *(char *)local_c = '0';
          local_10 = (LPSTR)((int)&local_4c + iVar1);
          pWVar4 = local_c;
        }
      }
LAB_100058c1:
      local_c = pWVar4;
      uVar2 = local_8;
      if (local_2c == 0) {
        if ((local_8 & 0x40) != 0) {
          if ((local_8 & 0x100) == 0) {
            if ((local_8 & 1) == 0) {
              if ((local_8 & 2) == 0) goto LAB_100058f9;
              local_1a = ' ';
            }
            else {
              local_1a = '+';
            }
          }
          else {
            local_1a = '-';
          }
          local_20 = 1;
        }
LAB_100058f9:
        iVar10 = (local_24 - local_20) - (int)local_10;
        if ((local_8 & 0xc) == 0) {
          FUN_10005a2d(0x20,iVar10,param_1,&local_18);
        }
        FUN_10005a5e(&local_1a,local_20,param_1,&local_18);
        if (((uVar2 & 8) != 0) && ((uVar2 & 4) == 0)) {
          FUN_10005a2d(0x30,iVar10,param_1,&local_18);
        }
        if ((local_28 == 0) || (pCVar12 = local_10, pWVar4 = local_c, (int)local_10 < 1)) {
          FUN_10005a5e((char *)local_c,(int)local_10,param_1,&local_18);
        }
        else {
          do {
            pCVar12 = pCVar12 + -1;
            pCVar8 = FUN_100078eb(local_3c,*pWVar4);
            if ((int)pCVar8 < 1) break;
            FUN_10005a5e(local_3c,(int)pCVar8,param_1,&local_18);
            pWVar4 = pWVar4 + 1;
          } while (pCVar12 != (LPSTR)0x0);
        }
        if ((local_8 & 4) != 0) {
          FUN_10005a2d(0x20,iVar10,param_1,&local_18);
        }
      }
    }
    bVar9 = *param_2;
    param_2 = param_2 + 1;
  } while( true );
}



/*
 * Function: FUN_100059f8
 * Address: 100059f8
 */

void __cdecl FUN_100059f8(uint param_1,int *param_2,int *param_3)

{
  int *piVar1;
  uint uVar2;
  
  piVar1 = param_2 + 1;
  *piVar1 = *piVar1 + -1;
  if (*piVar1 < 0) {
    uVar2 = FUN_1000519f(param_1,param_2);
  }
  else {
    *(undefined *)*param_2 = (undefined)param_1;
    *param_2 = *param_2 + 1;
    uVar2 = param_1 & 0xff;
  }
  if (uVar2 == 0xffffffff) {
    *param_3 = -1;
    return;
  }
  *param_3 = *param_3 + 1;
  return;
}



/*
 * Function: FUN_10005a2d
 * Address: 10005a2d
 */

void __cdecl FUN_10005a2d(uint param_1,int param_2,int *param_3,int *param_4)

{
  if (0 < param_2) {
    do {
      param_2 = param_2 + -1;
      FUN_100059f8(param_1,param_3,param_4);
      if (*param_4 == -1) {
        return;
      }
    } while (0 < param_2);
  }
  return;
}



/*
 * Function: FUN_10005a5e
 * Address: 10005a5e
 */

void __cdecl FUN_10005a5e(char *param_1,int param_2,int *param_3,int *param_4)

{
  char cVar1;
  
  if (0 < param_2) {
    do {
      param_2 = param_2 + -1;
      cVar1 = *param_1;
      param_1 = param_1 + 1;
      FUN_100059f8((int)cVar1,param_3,param_4);
      if (*param_4 == -1) {
        return;
      }
    } while (0 < param_2);
  }
  return;
}



/*
 * Function: FUN_10005a96
 * Address: 10005a96
 */

undefined4 __cdecl FUN_10005a96(int *param_1)

{
  *param_1 = *param_1 + 4;
  return *(undefined4 *)(*param_1 + -4);
}



/*
 * Function: FUN_10005aa3
 * Address: 10005aa3
 */

undefined8 __cdecl FUN_10005aa3(int *param_1)

{
  *param_1 = *param_1 + 8;
  return *(undefined8 *)(*param_1 + -8);
}



/*
 * Function: FUN_10005ab3
 * Address: 10005ab3
 */

undefined4 __cdecl FUN_10005ab3(int *param_1)

{
  *param_1 = *param_1 + 4;
  return CONCAT22((short)((uint)*param_1 >> 0x10),*(undefined2 *)(*param_1 + -4));
}



/*
 * Function: FUN_10005ac1
 * Address: 10005ac1
 */

void FUN_10005ac1(void)

{
  if (DAT_1000f3d4 != (code *)0x0) {
    (*DAT_1000f3d4)();
  }
  FUN_10005bc5((undefined4 *)&DAT_1000d008,(undefined4 *)&DAT_1000d018);
  FUN_10005bc5((undefined4 *)&DAT_1000d000,(undefined4 *)&DAT_1000d004);
  return;
}



/*
 * Function: __exit
 * Address: 10005aee
 */

/* Library Function - Single Match
    __exit
   
   Library: Visual Studio 2003 Release */

void __cdecl __exit(int _Code)

{
  FUN_10005b0e(_Code,1,0);
  return;
}



/*
 * Function: FUN_10005aff
 * Address: 10005aff
 */

void FUN_10005aff(void)

{
  FUN_10005b0e(0,0,1);
  return;
}



/*
 * Function: FUN_10005b0e
 * Address: 10005b0e
 */

void __cdecl FUN_10005b0e(UINT param_1,int param_2,int param_3)

{
  HANDLE hProcess;
  undefined4 *puVar1;
  UINT uExitCode;
  
  FUN_10005bb3();
  if (DAT_1000dd48 == 1) {
    uExitCode = param_1;
    hProcess = GetCurrentProcess();
    TerminateProcess(hProcess,uExitCode);
  }
  DAT_1000dd44 = 1;
  DAT_1000dd40 = (undefined)param_3;
  if (param_2 == 0) {
    if ((DAT_1000f3d0 != (undefined4 *)0x0) &&
       (puVar1 = (undefined4 *)(DAT_1000f3cc - 4), DAT_1000f3d0 <= puVar1)) {
      do {
        if ((code *)*puVar1 != (code *)0x0) {
          (*(code *)*puVar1)();
        }
        puVar1 = puVar1 + -1;
      } while (DAT_1000f3d0 <= puVar1);
    }
    FUN_10005bc5((undefined4 *)&DAT_1000d01c,(undefined4 *)&DAT_1000d024);
  }
  FUN_10005bc5((undefined4 *)&DAT_1000d028,(undefined4 *)&DAT_1000d030);
  if (param_3 == 0) {
    DAT_1000dd48 = 1;
                    /* WARNING: Subroutine does not return */
    ExitProcess(param_1);
  }
  FUN_10005bbc();
  return;
}



/*
 * Function: FUN_10005bb3
 * Address: 10005bb3
 */

void FUN_10005bb3(void)

{
  FUN_100064ff(0xd);
  return;
}



/*
 * Function: FUN_10005bbc
 * Address: 10005bbc
 */

void FUN_10005bbc(void)

{
  FUN_10006560(0xd);
  return;
}



/*
 * Function: FUN_10005bc5
 * Address: 10005bc5
 */

void __cdecl FUN_10005bc5(undefined4 *param_1,undefined4 *param_2)

{
  for (; param_1 < param_2; param_1 = param_1 + 1) {
    if ((code *)*param_1 != (code *)0x0) {
      (*(code *)*param_1)();
    }
  }
  return;
}



/*
 * Function: FUN_10005bdf
 * Address: 10005bdf
 */

void FUN_10005bdf(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  DWORD DVar4;
  HANDLE hFile;
  UINT *pUVar5;
  int iVar6;
  uint uVar7;
  UINT UVar8;
  UINT UVar9;
  _STARTUPINFOA local_4c;
  byte *local_8;
  
  puVar2 = (undefined4 *)_malloc(0x480);
  if (puVar2 == (undefined4 *)0x0) {
    __amsg_exit(0x1b);
  }
  DAT_1000f3c0 = 0x20;
  DAT_1000f2c0 = puVar2;
  for (; puVar2 < DAT_1000f2c0 + 0x120; puVar2 = puVar2 + 9) {
    *(undefined *)(puVar2 + 1) = 0;
    *puVar2 = 0xffffffff;
    puVar2[2] = 0;
    *(undefined *)((int)puVar2 + 5) = 10;
  }
  GetStartupInfoA(&local_4c);
  if ((local_4c.cbReserved2 != 0) && ((UINT *)local_4c.lpReserved2 != (UINT *)0x0)) {
    UVar8 = *(UINT *)local_4c.lpReserved2;
    pUVar5 = (UINT *)((int)local_4c.lpReserved2 + 4);
    local_8 = (byte *)((int)pUVar5 + UVar8);
    if (0x7ff < (int)UVar8) {
      UVar8 = 0x800;
    }
    UVar9 = UVar8;
    if ((int)DAT_1000f3c0 < (int)UVar8) {
      puVar2 = &DAT_1000f2c4;
      do {
        puVar3 = (undefined4 *)_malloc(0x480);
        UVar9 = DAT_1000f3c0;
        if (puVar3 == (undefined4 *)0x0) break;
        DAT_1000f3c0 = DAT_1000f3c0 + 0x20;
        *puVar2 = puVar3;
        puVar1 = puVar3;
        for (; puVar3 < puVar1 + 0x120; puVar3 = puVar3 + 9) {
          *(undefined *)(puVar3 + 1) = 0;
          *puVar3 = 0xffffffff;
          puVar3[2] = 0;
          *(undefined *)((int)puVar3 + 5) = 10;
          puVar1 = (undefined4 *)*puVar2;
        }
        puVar2 = puVar2 + 1;
        UVar9 = UVar8;
      } while ((int)DAT_1000f3c0 < (int)UVar8);
    }
    uVar7 = 0;
    if (0 < (int)UVar9) {
      do {
        if (((*(HANDLE *)local_8 != (HANDLE)0xffffffff) && ((*(byte *)pUVar5 & 1) != 0)) &&
           (((*(byte *)pUVar5 & 8) != 0 || (DVar4 = GetFileType(*(HANDLE *)local_8), DVar4 != 0))))
        {
          puVar2 = (undefined4 *)((int)(&DAT_1000f2c0)[(int)uVar7 >> 5] + (uVar7 & 0x1f) * 0x24);
          *puVar2 = *(undefined4 *)local_8;
          *(byte *)(puVar2 + 1) = *(byte *)pUVar5;
        }
        local_8 = local_8 + 4;
        uVar7 = uVar7 + 1;
        pUVar5 = (UINT *)((int)pUVar5 + 1);
      } while ((int)uVar7 < (int)UVar9);
    }
  }
  iVar6 = 0;
  do {
    puVar2 = DAT_1000f2c0 + iVar6 * 9;
    if (DAT_1000f2c0[iVar6 * 9] == -1) {
      *(undefined *)(puVar2 + 1) = 0x81;
      if (iVar6 == 0) {
        DVar4 = 0xfffffff6;
      }
      else {
        DVar4 = 0xfffffff5 - (iVar6 != 1);
      }
      hFile = GetStdHandle(DVar4);
      if ((hFile != (HANDLE)0xffffffff) && (DVar4 = GetFileType(hFile), DVar4 != 0)) {
        *puVar2 = hFile;
        if ((DVar4 & 0xff) != 2) {
          if ((DVar4 & 0xff) == 3) {
            *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 8;
          }
          goto LAB_10005d84;
        }
      }
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x40;
    }
    else {
      *(byte *)(puVar2 + 1) = *(byte *)(puVar2 + 1) | 0x80;
    }
LAB_10005d84:
    iVar6 = iVar6 + 1;
    if (2 < iVar6) {
      SetHandleCount(DAT_1000f3c0);
      return;
    }
  } while( true );
}



/*
 * Function: FUN_10005d9b
 * Address: 10005d9b
 */

void FUN_10005d9b(void)

{
  LPCRITICAL_SECTION lpCriticalSection;
  uint *puVar1;
  uint uVar2;
  
  puVar1 = &DAT_1000f2c0;
  do {
    uVar2 = *puVar1;
    if (uVar2 != 0) {
      if (uVar2 < uVar2 + 0x480) {
        lpCriticalSection = (LPCRITICAL_SECTION)(uVar2 + 0xc);
        do {
          if (lpCriticalSection[-1].SpinCount != 0) {
            DeleteCriticalSection(lpCriticalSection);
          }
          uVar2 = uVar2 + 0x24;
          lpCriticalSection = (LPCRITICAL_SECTION)&lpCriticalSection[1].OwningThread;
        } while (uVar2 < *puVar1 + 0x480);
      }
      FUN_10004619((LPVOID)*puVar1);
      *puVar1 = 0;
    }
    puVar1 = puVar1 + 1;
  } while ((int)puVar1 < 0x1000f3c0);
  return;
}



/*
 * Function: FUN_10005def
 * Address: 10005def
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10005def(void)

{
  char cVar1;
  size_t sVar2;
  undefined4 *puVar3;
  void *pvVar4;
  int iVar5;
  uint *puVar6;
  
  if (DAT_1000f3c8 == 0) {
    FUN_10007f68();
  }
  iVar5 = 0;
  for (puVar6 = DAT_1000dcf8; *(char *)puVar6 != '\0'; puVar6 = (uint *)((int)puVar6 + sVar2 + 1)) {
    if (*(char *)puVar6 != '=') {
      iVar5 = iVar5 + 1;
    }
    sVar2 = _strlen((char *)puVar6);
  }
  puVar3 = (undefined4 *)_malloc(iVar5 * 4 + 4);
  _DAT_1000dd28 = puVar3;
  if (puVar3 == (undefined4 *)0x0) {
    __amsg_exit(9);
  }
  cVar1 = *(char *)DAT_1000dcf8;
  puVar6 = DAT_1000dcf8;
  while (cVar1 != '\0') {
    sVar2 = _strlen((char *)puVar6);
    if (*(char *)puVar6 != '=') {
      pvVar4 = _malloc(sVar2 + 1);
      *puVar3 = pvVar4;
      if (pvVar4 == (void *)0x0) {
        __amsg_exit(9);
      }
      FUN_10007aa0((uint *)*puVar3,puVar6);
      puVar3 = puVar3 + 1;
    }
    puVar6 = (uint *)((int)puVar6 + sVar2 + 1);
    cVar1 = *(char *)puVar6;
  }
  FUN_10004619(DAT_1000dcf8);
  DAT_1000dcf8 = (uint *)0x0;
  *puVar3 = 0;
  _DAT_1000f3c4 = 1;
  return;
}



/*
 * Function: FUN_10005ea8
 * Address: 10005ea8
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10005ea8(void)

{
  undefined4 *puVar1;
  byte *pbVar2;
  int local_c;
  int local_8;
  
  if (DAT_1000f3c8 == 0) {
    FUN_10007f68();
  }
  GetModuleFileNameA((HMODULE)0x0,&DAT_1000dd4c,0x104);
  _DAT_1000dd38 = &DAT_1000dd4c;
  pbVar2 = &DAT_1000dd4c;
  if (*DAT_1000f3d8 != 0) {
    pbVar2 = DAT_1000f3d8;
  }
  FUN_10005f41(pbVar2,(undefined4 *)0x0,(byte *)0x0,&local_8,&local_c);
  puVar1 = (undefined4 *)_malloc(local_c + local_8 * 4);
  if (puVar1 == (undefined4 *)0x0) {
    __amsg_exit(8);
  }
  FUN_10005f41(pbVar2,puVar1,(byte *)(puVar1 + local_8),&local_8,&local_c);
  _DAT_1000dd20 = puVar1;
  _DAT_1000dd1c = local_8 + -1;
  return;
}



/*
 * Function: FUN_10005f41
 * Address: 10005f41
 */

void __cdecl FUN_10005f41(byte *param_1,undefined4 *param_2,byte *param_3,int *param_4,int *param_5)

{
  byte bVar1;
  bool bVar2;
  bool bVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  undefined4 *puVar7;
  
  *param_5 = 0;
  *param_4 = 1;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = param_3;
    param_2 = param_2 + 1;
  }
  if (*param_1 == 0x22) {
    while( true ) {
      bVar1 = param_1[1];
      pbVar4 = param_1 + 1;
      if ((bVar1 == 0x22) || (bVar1 == 0)) break;
      if ((((&DAT_1000e181)[bVar1] & 4) != 0) && (*param_5 = *param_5 + 1, param_3 != (byte *)0x0))
      {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
        pbVar4 = param_1 + 2;
      }
      *param_5 = *param_5 + 1;
      param_1 = pbVar4;
      if (param_3 != (byte *)0x0) {
        *param_3 = *pbVar4;
        param_3 = param_3 + 1;
      }
    }
    *param_5 = *param_5 + 1;
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    if (*pbVar4 == 0x22) {
      pbVar4 = param_1 + 2;
    }
  }
  else {
    do {
      *param_5 = *param_5 + 1;
      if (param_3 != (byte *)0x0) {
        *param_3 = *param_1;
        param_3 = param_3 + 1;
      }
      bVar1 = *param_1;
      pbVar4 = param_1 + 1;
      if (((&DAT_1000e181)[bVar1] & 4) != 0) {
        *param_5 = *param_5 + 1;
        if (param_3 != (byte *)0x0) {
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        pbVar4 = param_1 + 2;
      }
      if (bVar1 == 0x20) break;
      if (bVar1 == 0) goto LAB_10005fec;
      param_1 = pbVar4;
    } while (bVar1 != 9);
    if (bVar1 == 0) {
LAB_10005fec:
      pbVar4 = pbVar4 + -1;
    }
    else if (param_3 != (byte *)0x0) {
      param_3[-1] = 0;
    }
  }
  bVar2 = false;
  puVar7 = param_2;
  while (*pbVar4 != 0) {
    for (; (*pbVar4 == 0x20 || (*pbVar4 == 9)); pbVar4 = pbVar4 + 1) {
    }
    if (*pbVar4 == 0) break;
    if (puVar7 != (undefined4 *)0x0) {
      *puVar7 = param_3;
      puVar7 = puVar7 + 1;
      param_2 = puVar7;
    }
    *param_4 = *param_4 + 1;
    while( true ) {
      bVar3 = true;
      uVar6 = 0;
      for (; *pbVar4 == 0x5c; pbVar4 = pbVar4 + 1) {
        uVar6 = uVar6 + 1;
      }
      if (*pbVar4 == 0x22) {
        pbVar5 = pbVar4;
        if ((uVar6 & 1) == 0) {
          if ((!bVar2) || (pbVar5 = pbVar4 + 1, pbVar4[1] != 0x22)) {
            bVar3 = false;
            pbVar5 = pbVar4;
          }
          bVar2 = !bVar2;
          puVar7 = param_2;
        }
        uVar6 = uVar6 >> 1;
        pbVar4 = pbVar5;
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        if (param_3 != (byte *)0x0) {
          *param_3 = 0x5c;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      bVar1 = *pbVar4;
      if ((bVar1 == 0) || ((!bVar2 && ((bVar1 == 0x20 || (bVar1 == 9)))))) break;
      if (bVar3) {
        if (param_3 == (byte *)0x0) {
          if (((&DAT_1000e181)[bVar1] & 4) != 0) {
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
        }
        else {
          if (((&DAT_1000e181)[bVar1] & 4) != 0) {
            *param_3 = bVar1;
            param_3 = param_3 + 1;
            pbVar4 = pbVar4 + 1;
            *param_5 = *param_5 + 1;
          }
          *param_3 = *pbVar4;
          param_3 = param_3 + 1;
        }
        *param_5 = *param_5 + 1;
      }
      pbVar4 = pbVar4 + 1;
    }
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    *param_5 = *param_5 + 1;
  }
  if (puVar7 != (undefined4 *)0x0) {
    *puVar7 = 0;
  }
  *param_4 = *param_4 + 1;
  return;
}



/*
 * Function: FUN_100060f5
 * Address: 100060f5
 */

LPSTR FUN_100060f5(void)

{
  char cVar1;
  WCHAR WVar2;
  WCHAR *pWVar3;
  WCHAR *pWVar4;
  int iVar5;
  size_t _Size;
  LPSTR pCVar6;
  char *pcVar7;
  LPWCH lpWideCharStr;
  LPCH pCVar9;
  LPSTR local_8;
  char *pcVar8;
  
  lpWideCharStr = (LPWCH)0x0;
  pCVar9 = (LPCH)0x0;
  if (DAT_1000de50 == 0) {
    lpWideCharStr = GetEnvironmentStringsW();
    if (lpWideCharStr != (LPWCH)0x0) {
      DAT_1000de50 = 1;
LAB_1000614c:
      if ((lpWideCharStr == (LPWCH)0x0) &&
         (lpWideCharStr = GetEnvironmentStringsW(), lpWideCharStr == (LPWCH)0x0)) {
        return (LPSTR)0x0;
      }
      WVar2 = *lpWideCharStr;
      pWVar4 = lpWideCharStr;
      while (WVar2 != L'\0') {
        do {
          pWVar3 = pWVar4;
          pWVar4 = pWVar3 + 1;
        } while (*pWVar4 != L'\0');
        pWVar4 = pWVar3 + 2;
        WVar2 = *pWVar4;
      }
      iVar5 = ((int)pWVar4 - (int)lpWideCharStr >> 1) + 1;
      _Size = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0);
      local_8 = (LPSTR)0x0;
      if (((_Size != 0) && (pCVar6 = (LPSTR)_malloc(_Size), pCVar6 != (LPSTR)0x0)) &&
         (iVar5 = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,pCVar6,_Size,(LPCSTR)0x0,(LPBOOL)0x0),
         local_8 = pCVar6, iVar5 == 0)) {
        FUN_10004619(pCVar6);
        local_8 = (LPSTR)0x0;
      }
      FreeEnvironmentStringsW(lpWideCharStr);
      return local_8;
    }
    pCVar9 = GetEnvironmentStrings();
    if (pCVar9 == (LPCH)0x0) {
      return (LPSTR)0x0;
    }
    DAT_1000de50 = 2;
  }
  else {
    if (DAT_1000de50 == 1) goto LAB_1000614c;
    if (DAT_1000de50 != 2) {
      return (LPSTR)0x0;
    }
  }
  if ((pCVar9 == (LPCH)0x0) && (pCVar9 = GetEnvironmentStrings(), pCVar9 == (LPCH)0x0)) {
    return (LPSTR)0x0;
  }
  cVar1 = *pCVar9;
  pcVar7 = pCVar9;
  while (cVar1 != '\0') {
    do {
      pcVar8 = pcVar7;
      pcVar7 = pcVar8 + 1;
    } while (*pcVar7 != '\0');
    pcVar7 = pcVar8 + 2;
    cVar1 = *pcVar7;
  }
  pCVar6 = (LPSTR)_malloc((size_t)(pcVar7 + (1 - (int)pCVar9)));
  if (pCVar6 == (LPSTR)0x0) {
    pCVar6 = (LPSTR)0x0;
  }
  else {
    FUN_10007f90((undefined4 *)pCVar6,(undefined4 *)pCVar9,(uint)(pcVar7 + (1 - (int)pCVar9)));
  }
  FreeEnvironmentStringsA(pCVar9);
  return pCVar6;
}



/*
 * Function: FUN_10006227
 * Address: 10006227
 */

undefined4 __cdecl FUN_10006227(int param_1)

{
  int iVar1;
  
  DAT_1000f2bc = HeapCreate((uint)(param_1 == 0),0x1000,0);
  if (DAT_1000f2bc != (HANDLE)0x0) {
    iVar1 = FUN_10006575();
    if (iVar1 != 0) {
      return 1;
    }
    HeapDestroy(DAT_1000f2bc);
  }
  return 0;
}



/*
 * Function: FUN_10006263
 * Address: 10006263
 */

void FUN_10006263(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = 0;
  if (0 < DAT_1000f2b4) {
    puVar2 = (undefined4 *)((int)DAT_1000f2b8 + 0xc);
    do {
      VirtualFree((LPVOID)*puVar2,0x100000,0x4000);
      VirtualFree((LPVOID)*puVar2,0,0x8000);
      HeapFree(DAT_1000f2bc,0,(LPVOID)puVar2[1]);
      puVar2 = puVar2 + 5;
      iVar1 = iVar1 + 1;
    } while (iVar1 < DAT_1000f2b4);
  }
  HeapFree(DAT_1000f2bc,0,DAT_1000f2b8);
  HeapDestroy(DAT_1000f2bc);
  return;
}



/*
 * Function: FUN_100062d8
 * Address: 100062d8
 */

undefined4 FUN_100062d8(void)

{
  return 1;
}



/*
 * Function: FUN_100062de
 * Address: 100062de
 */

void FUN_100062de(void)

{
  if ((DAT_1000dd00 == 1) || ((DAT_1000dd00 == 0 && (DAT_1000dd04 == 1)))) {
    FUN_10006317(0xfc);
    if (DAT_1000de54 != (code *)0x0) {
      (*DAT_1000de54)();
    }
    FUN_10006317(0xff);
  }
  return;
}



/*
 * Function: FUN_10006317
 * Address: 10006317
 */

void __cdecl FUN_10006317(DWORD param_1)

{
  undefined4 *puVar1;
  DWORD *pDVar2;
  DWORD DVar3;
  size_t sVar4;
  HANDLE hFile;
  int iVar5;
  uint *_Dest;
  undefined auStackY_1e3 [7];
  LPCVOID lpBuffer;
  LPOVERLAPPED lpOverlapped;
  uint local_1a8 [65];
  uint local_a4 [40];
  
  iVar5 = 0;
  pDVar2 = &DAT_1000d0a8;
  do {
    if (param_1 == *pDVar2) break;
    pDVar2 = pDVar2 + 2;
    iVar5 = iVar5 + 1;
  } while ((int)pDVar2 < 0x1000d138);
  if (param_1 == (&DAT_1000d0a8)[iVar5 * 2]) {
    if ((DAT_1000dd00 == 1) || ((DAT_1000dd00 == 0 && (DAT_1000dd04 == 1)))) {
      pDVar2 = &param_1;
      puVar1 = (undefined4 *)(iVar5 * 8 + 0x1000d0ac);
      lpOverlapped = (LPOVERLAPPED)0x0;
      sVar4 = _strlen((char *)*puVar1);
      lpBuffer = (LPCVOID)*puVar1;
      hFile = GetStdHandle(0xfffffff4);
      WriteFile(hFile,lpBuffer,sVar4,pDVar2,lpOverlapped);
    }
    else if (param_1 != 0xfc) {
      DVar3 = GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_1a8,0x104);
      if (DVar3 == 0) {
        FUN_10007aa0(local_1a8,(uint *)"<program name unknown>");
      }
      _Dest = local_1a8;
      sVar4 = _strlen((char *)local_1a8);
      if (0x3c < sVar4 + 1) {
        sVar4 = _strlen((char *)local_1a8);
        _Dest = (uint *)(auStackY_1e3 + sVar4);
        _strncpy((char *)_Dest,"...",3);
      }
      FUN_10007aa0(local_a4,(uint *)"Runtime Error!\n\nProgram: ");
      FUN_10007ab0(local_a4,_Dest);
      FUN_10007ab0(local_a4,(uint *)&DAT_1000a4f0);
      FUN_10007ab0(local_a4,*(uint **)(iVar5 * 8 + 0x1000d0ac));
      auStackY_1e3._3_4_ = 0x1000643b;
      FUN_100082c5(local_a4,"Microsoft Visual C++ Runtime Library",0x12010);
    }
  }
  return;
}



/*
 * Function: FUN_1000646a
 * Address: 1000646a
 */

void FUN_1000646a(void)

{
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d17c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d16c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d15c);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d13c);
  return;
}



/*
 * Function: FUN_10006493
 * Address: 10006493
 */

void FUN_10006493(void)

{
  undefined **ppuVar1;
  
  ppuVar1 = (undefined **)&DAT_1000d138;
  do {
    if (((((LPCRITICAL_SECTION)*ppuVar1 != (LPCRITICAL_SECTION)0x0) &&
         (ppuVar1 != &PTR_DAT_1000d17c)) && (ppuVar1 != &PTR_DAT_1000d16c)) &&
       ((ppuVar1 != &PTR_DAT_1000d15c && (ppuVar1 != &PTR_DAT_1000d13c)))) {
      DeleteCriticalSection((LPCRITICAL_SECTION)*ppuVar1);
      FUN_10004619(*ppuVar1);
    }
    ppuVar1 = ppuVar1 + 1;
  } while ((int)ppuVar1 < 0x1000d1f8);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d15c);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d16c);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d17c);
  DeleteCriticalSection((LPCRITICAL_SECTION)PTR_DAT_1000d13c);
  return;
}



/*
 * Function: FUN_100064ff
 * Address: 100064ff
 */

void __cdecl FUN_100064ff(int param_1)

{
  int *piVar1;
  LPCRITICAL_SECTION lpCriticalSection;
  
  piVar1 = &DAT_1000d138 + param_1;
  if ((&DAT_1000d138)[param_1] == 0) {
    lpCriticalSection = (LPCRITICAL_SECTION)_malloc(0x18);
    if (lpCriticalSection == (LPCRITICAL_SECTION)0x0) {
      __amsg_exit(0x11);
    }
    FUN_100064ff(0x11);
    if (*piVar1 == 0) {
      InitializeCriticalSection(lpCriticalSection);
      *piVar1 = (int)lpCriticalSection;
    }
    else {
      FUN_10004619(lpCriticalSection);
    }
    FUN_10006560(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)*piVar1);
  return;
}



/*
 * Function: FUN_10006560
 * Address: 10006560
 */

void __cdecl FUN_10006560(int param_1)

{
  LeaveCriticalSection((LPCRITICAL_SECTION)(&DAT_1000d138)[param_1]);
  return;
}



/*
 * Function: FUN_10006575
 * Address: 10006575
 */

undefined4 FUN_10006575(void)

{
  DAT_1000f2b8 = HeapAlloc(DAT_1000f2bc,0,0x140);
  if (DAT_1000f2b8 == (LPVOID)0x0) {
    return 0;
  }
  DAT_1000f2b0 = 0;
  DAT_1000f2b4 = 0;
  DAT_1000f2ac = DAT_1000f2b8;
  DAT_1000f2a4 = 0x10;
  return 1;
}



/*
 * Function: FUN_100065b3
 * Address: 100065b3
 */

uint __cdecl FUN_100065b3(int param_1)

{
  uint uVar1;
  
  uVar1 = DAT_1000f2b8;
  while( true ) {
    if (DAT_1000f2b8 + DAT_1000f2b4 * 0x14 <= uVar1) {
      return 0;
    }
    if ((uint)(param_1 - *(int *)(uVar1 + 0xc)) < 0x100000) break;
    uVar1 = uVar1 + 0x14;
  }
  return uVar1;
}



/*
 * Function: FUN_100065de
 * Address: 100065de
 */

void __cdecl FUN_100065de(uint *param_1,uint param_2)

{
  char *pcVar1;
  uint *puVar2;
  int *piVar3;
  char cVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte bVar8;
  int *piVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int local_10;
  
  uVar5 = param_1[4];
  iVar6 = *(int *)(param_2 - 4);
  piVar9 = (int *)(param_2 - 4);
  uVar10 = param_2 - param_1[3] >> 0xf;
  uVar7 = *(uint *)(param_2 - 8);
  local_10 = iVar6 + -1;
  piVar3 = (int *)(uVar10 * 0x204 + 0x144 + uVar5);
  uVar12 = *(uint *)(local_10 + (int)piVar9);
  if ((uVar12 & 1) == 0) {
    param_2 = ((int)uVar12 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    if (*(int *)(iVar6 + 3 + (int)piVar9) == *(int *)(iVar6 + 7 + (int)piVar9)) {
      if (param_2 < 0x20) {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar11;
        }
      }
      else {
        pcVar1 = (char *)(param_2 + 4 + uVar5);
        uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 & uVar11;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar11;
        }
      }
    }
    *(undefined4 *)(*(int *)(iVar6 + 7 + (int)piVar9) + 4) =
         *(undefined4 *)(iVar6 + 3 + (int)piVar9);
    local_10 = local_10 + uVar12;
    *(undefined4 *)(*(int *)(iVar6 + 3 + (int)piVar9) + 8) =
         *(undefined4 *)(iVar6 + 7 + (int)piVar9);
  }
  uVar12 = (local_10 >> 4) - 1;
  if (0x3f < uVar12) {
    uVar12 = 0x3f;
  }
  if ((uVar7 & 1) == 0) {
    piVar9 = (int *)((int)piVar9 - uVar7);
    param_2 = ((int)uVar7 >> 4) - 1;
    if (0x3f < param_2) {
      param_2 = 0x3f;
    }
    local_10 = local_10 + uVar7;
    uVar12 = (local_10 >> 4) - 1;
    if (0x3f < uVar12) {
      uVar12 = 0x3f;
    }
    if (param_2 != uVar12) {
      if (piVar9[1] == piVar9[2]) {
        if (param_2 < 0x20) {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            *param_1 = *param_1 & uVar11;
          }
        }
        else {
          pcVar1 = (char *)(param_2 + 4 + uVar5);
          uVar11 = ~(0x80000000U >> ((byte)param_2 - 0x20 & 0x1f));
          puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
          *puVar2 = *puVar2 & uVar11;
          *pcVar1 = *pcVar1 + -1;
          if (*pcVar1 == '\0') {
            param_1[1] = param_1[1] & uVar11;
          }
        }
      }
      *(int *)(piVar9[2] + 4) = piVar9[1];
      *(int *)(piVar9[1] + 8) = piVar9[2];
    }
  }
  if (((uVar7 & 1) != 0) || (param_2 != uVar12)) {
    piVar9[1] = piVar3[uVar12 * 2 + 1];
    piVar9[2] = (int)(piVar3 + uVar12 * 2);
    (piVar3 + uVar12 * 2)[1] = (int)piVar9;
    *(int **)(piVar9[1] + 8) = piVar9;
    if (piVar9[1] == piVar9[2]) {
      cVar4 = *(char *)(uVar12 + 4 + uVar5);
      *(char *)(uVar12 + 4 + uVar5) = cVar4 + '\x01';
      bVar8 = (byte)uVar12;
      if (uVar12 < 0x20) {
        if (cVar4 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar8 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0x44 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 & 0x1f);
      }
      else {
        if (cVar4 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
        }
        puVar2 = (uint *)(uVar5 + 0xc4 + uVar10 * 4);
        *puVar2 = *puVar2 | 0x80000000U >> (bVar8 - 0x20 & 0x1f);
      }
    }
  }
  *piVar9 = local_10;
  *(int *)(local_10 + -4 + (int)piVar9) = local_10;
  *piVar3 = *piVar3 + -1;
  uVar5 = DAT_1000f2a8;
  puVar2 = DAT_1000f2b0;
  if ((*piVar3 == 0) && (uVar5 = uVar10, puVar2 = param_1, DAT_1000f2b0 != (uint *)0x0)) {
    VirtualFree((LPVOID)(DAT_1000f2a8 * 0x8000 + DAT_1000f2b0[3]),0x8000,0x4000);
    DAT_1000f2b0[2] = DAT_1000f2b0[2] | 0x80000000U >> ((byte)DAT_1000f2a8 & 0x1f);
    *(undefined4 *)(DAT_1000f2b0[4] + 0xc4 + DAT_1000f2a8 * 4) = 0;
    *(char *)(DAT_1000f2b0[4] + 0x43) = *(char *)(DAT_1000f2b0[4] + 0x43) + -1;
    if (*(char *)(DAT_1000f2b0[4] + 0x43) == '\0') {
      DAT_1000f2b0[1] = DAT_1000f2b0[1] & 0xfffffffe;
    }
    puVar2 = param_1;
    if (DAT_1000f2b0[2] == 0xffffffff) {
      VirtualFree((LPVOID)DAT_1000f2b0[3],0,0x8000);
      HeapFree(DAT_1000f2bc,0,(LPVOID)DAT_1000f2b0[4]);
      FUN_10007000(DAT_1000f2b0,DAT_1000f2b0 + 5,
                   (DAT_1000f2b4 * 0x14 - (int)DAT_1000f2b0) + -0x14 + DAT_1000f2b8);
      DAT_1000f2b4 = DAT_1000f2b4 + -1;
      if (DAT_1000f2b0 < param_1) {
        param_1 = param_1 + -5;
      }
      DAT_1000f2ac = DAT_1000f2b8;
      puVar2 = param_1;
    }
  }
  DAT_1000f2b0 = puVar2;
  DAT_1000f2a8 = uVar5;
  return;
}



/*
 * Function: FUN_10006909
 * Address: 10006909
 */

int * __cdecl FUN_10006909(uint *param_1)

{
  char *pcVar1;
  int *piVar2;
  char cVar3;
  int *piVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  uint *puVar8;
  int iVar9;
  int *piVar10;
  uint *puVar11;
  uint *puVar12;
  uint uVar13;
  int iVar14;
  uint local_10;
  uint local_c;
  int local_8;
  
  puVar8 = DAT_1000f2b8 + DAT_1000f2b4 * 5;
  uVar6 = (int)param_1 + 0x17U & 0xfffffff0;
  iVar7 = ((int)((int)param_1 + 0x17U) >> 4) + -1;
  bVar5 = (byte)iVar7;
  if (iVar7 < 0x20) {
    local_10 = 0xffffffff >> (bVar5 & 0x1f);
    local_c = 0xffffffff;
  }
  else {
    local_c = 0xffffffff >> (bVar5 - 0x20 & 0x1f);
    local_10 = 0;
  }
  param_1 = DAT_1000f2ac;
  if (DAT_1000f2ac < puVar8) {
    do {
      if ((param_1[1] & local_c) != 0 || (*param_1 & local_10) != 0) break;
      param_1 = param_1 + 5;
    } while (param_1 < puVar8);
  }
  puVar11 = DAT_1000f2b8;
  if (param_1 == puVar8) {
    for (; (puVar11 < DAT_1000f2ac && ((puVar11[1] & local_c) == 0 && (*puVar11 & local_10) == 0));
        puVar11 = puVar11 + 5) {
    }
    param_1 = puVar11;
    if (puVar11 == DAT_1000f2ac) {
      for (; (puVar11 < puVar8 && (puVar11[2] == 0)); puVar11 = puVar11 + 5) {
      }
      puVar12 = DAT_1000f2b8;
      param_1 = puVar11;
      if (puVar11 == puVar8) {
        for (; (puVar12 < DAT_1000f2ac && (puVar12[2] == 0)); puVar12 = puVar12 + 5) {
        }
        param_1 = puVar12;
        if ((puVar12 == DAT_1000f2ac) && (param_1 = FUN_10006c12(), param_1 == (uint *)0x0)) {
          return (int *)0x0;
        }
      }
      iVar7 = FUN_10006cc3((int)param_1);
      *(int *)param_1[4] = iVar7;
      if (*(int *)param_1[4] == -1) {
        return (int *)0x0;
      }
    }
  }
  piVar4 = (int *)param_1[4];
  local_8 = *piVar4;
  if ((local_8 == -1) ||
     ((piVar4[local_8 + 0x31] & local_c) == 0 && (piVar4[local_8 + 0x11] & local_10) == 0)) {
    local_8 = 0;
    puVar8 = (uint *)(piVar4 + 0x11);
    if ((piVar4[0x31] & local_c) == 0 && (piVar4[0x11] & local_10) == 0) {
      do {
        puVar11 = puVar8 + 0x21;
        local_8 = local_8 + 1;
        puVar8 = puVar8 + 1;
      } while ((*puVar11 & local_c) == 0 && (local_10 & *puVar8) == 0);
    }
  }
  iVar7 = 0;
  piVar2 = piVar4 + local_8 * 0x81 + 0x51;
  local_10 = piVar4[local_8 + 0x11] & local_10;
  if (local_10 == 0) {
    local_10 = piVar4[local_8 + 0x31] & local_c;
    iVar7 = 0x20;
  }
  for (; -1 < (int)local_10; local_10 = local_10 << 1) {
    iVar7 = iVar7 + 1;
  }
  piVar10 = (int *)piVar2[iVar7 * 2 + 1];
  iVar9 = *piVar10 - uVar6;
  iVar14 = (iVar9 >> 4) + -1;
  if (0x3f < iVar14) {
    iVar14 = 0x3f;
  }
  DAT_1000f2ac = param_1;
  if (iVar14 != iVar7) {
    if (piVar10[1] == piVar10[2]) {
      if (iVar7 < 0x20) {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 & 0x1f));
        piVar4[local_8 + 0x11] = uVar13 & piVar4[local_8 + 0x11];
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          *param_1 = *param_1 & uVar13;
        }
      }
      else {
        pcVar1 = (char *)((int)piVar4 + iVar7 + 4);
        uVar13 = ~(0x80000000U >> ((byte)iVar7 - 0x20 & 0x1f));
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] & uVar13;
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 == '\0') {
          param_1[1] = param_1[1] & uVar13;
        }
      }
    }
    *(int *)(piVar10[2] + 4) = piVar10[1];
    *(int *)(piVar10[1] + 8) = piVar10[2];
    if (iVar9 == 0) goto LAB_10006bcf;
    piVar10[1] = piVar2[iVar14 * 2 + 1];
    piVar10[2] = (int)(piVar2 + iVar14 * 2);
    (piVar2 + iVar14 * 2)[1] = (int)piVar10;
    *(int **)(piVar10[1] + 8) = piVar10;
    if (piVar10[1] == piVar10[2]) {
      cVar3 = *(char *)(iVar14 + 4 + (int)piVar4);
      bVar5 = (byte)iVar14;
      if (iVar14 < 0x20) {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          *param_1 = *param_1 | 0x80000000U >> (bVar5 & 0x1f);
        }
        piVar4[local_8 + 0x11] = piVar4[local_8 + 0x11] | 0x80000000U >> (bVar5 & 0x1f);
      }
      else {
        *(char *)(iVar14 + 4 + (int)piVar4) = cVar3 + '\x01';
        if (cVar3 == '\0') {
          param_1[1] = param_1[1] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
        }
        piVar4[local_8 + 0x31] = piVar4[local_8 + 0x31] | 0x80000000U >> (bVar5 - 0x20 & 0x1f);
      }
    }
  }
  if (iVar9 != 0) {
    *piVar10 = iVar9;
    *(int *)(iVar9 + -4 + (int)piVar10) = iVar9;
  }
LAB_10006bcf:
  piVar10 = (int *)((int)piVar10 + iVar9);
  *piVar10 = uVar6 + 1;
  *(uint *)((int)piVar10 + (uVar6 - 4)) = uVar6 + 1;
  iVar7 = *piVar2;
  *piVar2 = iVar7 + 1;
  if (((iVar7 == 0) && (param_1 == DAT_1000f2b0)) && (local_8 == DAT_1000f2a8)) {
    DAT_1000f2b0 = (uint *)0x0;
  }
  *piVar4 = local_8;
  return piVar10 + 1;
}



/*
 * Function: FUN_10006c12
 * Address: 10006c12
 */

undefined4 * FUN_10006c12(void)

{
  undefined4 *puVar1;
  LPVOID pvVar2;
  
  if (DAT_1000f2b4 == DAT_1000f2a4) {
    pvVar2 = HeapReAlloc(DAT_1000f2bc,0,DAT_1000f2b8,(DAT_1000f2a4 * 5 + 0x50) * 4);
    if (pvVar2 == (LPVOID)0x0) {
      return (undefined4 *)0x0;
    }
    DAT_1000f2a4 = DAT_1000f2a4 + 0x10;
    DAT_1000f2b8 = pvVar2;
  }
  puVar1 = (undefined4 *)((int)DAT_1000f2b8 + DAT_1000f2b4 * 0x14);
  pvVar2 = HeapAlloc(DAT_1000f2bc,8,0x41c4);
  puVar1[4] = pvVar2;
  if (pvVar2 != (LPVOID)0x0) {
    pvVar2 = VirtualAlloc((LPVOID)0x0,0x100000,0x2000,4);
    puVar1[3] = pvVar2;
    if (pvVar2 != (LPVOID)0x0) {
      puVar1[2] = 0xffffffff;
      *puVar1 = 0;
      puVar1[1] = 0;
      DAT_1000f2b4 = DAT_1000f2b4 + 1;
      *(undefined4 *)puVar1[4] = 0xffffffff;
      return puVar1;
    }
    HeapFree(DAT_1000f2bc,0,(LPVOID)puVar1[4]);
  }
  return (undefined4 *)0x0;
}



/*
 * Function: FUN_10006cc3
 * Address: 10006cc3
 */

int __cdecl FUN_10006cc3(int param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  LPVOID pvVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int *lpAddress;
  
  iVar3 = *(int *)(param_1 + 0x10);
  iVar9 = 0;
  for (iVar4 = *(int *)(param_1 + 8); -1 < iVar4; iVar4 = iVar4 << 1) {
    iVar9 = iVar9 + 1;
  }
  iVar8 = 0x3f;
  iVar4 = iVar9 * 0x204 + 0x144 + iVar3;
  iVar5 = iVar4;
  do {
    *(int *)(iVar5 + 8) = iVar5;
    *(int *)(iVar5 + 4) = iVar5;
    iVar5 = iVar5 + 8;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  lpAddress = (int *)(iVar9 * 0x8000 + *(int *)(param_1 + 0xc));
  pvVar6 = VirtualAlloc(lpAddress,0x8000,0x1000,4);
  if (pvVar6 == (LPVOID)0x0) {
    iVar9 = -1;
  }
  else {
    if (lpAddress <= lpAddress + 0x1c00) {
      piVar7 = lpAddress + 4;
      do {
        piVar7[-2] = -1;
        piVar7[0x3fb] = -1;
        piVar7[-1] = 0xff0;
        *piVar7 = (int)(piVar7 + 0x3ff);
        piVar7[1] = (int)(piVar7 + -0x401);
        piVar7[0x3fa] = 0xff0;
        piVar1 = piVar7 + 0x3fc;
        piVar7 = piVar7 + 0x400;
      } while (piVar1 <= lpAddress + 0x1c00);
    }
    *(int **)(iVar4 + 0x1fc) = lpAddress + 3;
    lpAddress[5] = iVar4 + 0x1f8;
    *(int **)(iVar4 + 0x200) = lpAddress + 0x1c03;
    lpAddress[0x1c04] = iVar4 + 0x1f8;
    *(undefined4 *)(iVar3 + 0x44 + iVar9 * 4) = 0;
    *(undefined4 *)(iVar3 + 0xc4 + iVar9 * 4) = 1;
    cVar2 = *(char *)(iVar3 + 0x43);
    *(char *)(iVar3 + 0x43) = cVar2 + '\x01';
    if (cVar2 == '\0') {
      *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 1;
    }
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) & ~(0x80000000U >> ((byte)iVar9 & 0x1f));
  }
  return iVar9;
}



/*
 * Function: FUN_10006dbe
 * Address: 10006dbe
 */

undefined4 __cdecl FUN_10006dbe(undefined4 param_1)

{
  int iVar1;
  
  if (DAT_1000debc != (code *)0x0) {
    iVar1 = (*DAT_1000debc)(param_1);
    if (iVar1 != 0) {
      return 1;
    }
  }
  return 0;
}



/*
 * Function: FUN_10006dd9
 * Address: 10006dd9
 */

int FUN_10006dd9(int *param_1)

{
  int *piVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  
  piVar1 = (int *)*param_1;
  if (((*piVar1 == -0x1f928c9d) && (piVar1[4] == 3)) && (piVar1[5] == 0x19930520)) {
    iVar3 = FUN_100050e8();
    return iVar3;
  }
  if ((DAT_1000dec0 != (FARPROC)0x0) &&
     (bVar2 = FUN_10006e75(DAT_1000dec0), CONCAT31(extraout_var,bVar2) != 0)) {
    iVar3 = (*DAT_1000dec0)(param_1);
    return iVar3;
  }
  return 0;
}



/*
 * Function: FUN_10006e3d
 * Address: 10006e3d
 */

bool __cdecl FUN_10006e3d(void *param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadReadPtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_10006e59
 * Address: 10006e59
 */

bool __cdecl FUN_10006e59(LPVOID param_1,UINT_PTR param_2)

{
  BOOL BVar1;
  
  BVar1 = IsBadWritePtr(param_1,param_2);
  return BVar1 == 0;
}



/*
 * Function: FUN_10006e75
 * Address: 10006e75
 */

bool __cdecl FUN_10006e75(FARPROC param_1)

{
  BOOL BVar1;
  
  BVar1 = IsBadCodePtr(param_1);
  return BVar1 == 0;
}



/*
 * Function: _strcmp
 * Address: 10006e90
 */

/* Library Function - Single Match
    _strcmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strcmp(char *_Str1,char *_Str2)

{
  undefined2 uVar1;
  undefined4 uVar2;
  byte bVar3;
  byte bVar4;
  bool bVar5;
  
  if (((uint)_Str1 & 3) != 0) {
    if (((uint)_Str1 & 1) != 0) {
      bVar4 = *_Str1;
      _Str1 = _Str1 + 1;
      bVar5 = bVar4 < (byte)*_Str2;
      if (bVar4 != *_Str2) goto LAB_10006ed4;
      _Str2 = _Str2 + 1;
      if (bVar4 == 0) {
        return 0;
      }
      if (((uint)_Str1 & 2) == 0) goto LAB_10006ea0;
    }
    uVar1 = *(undefined2 *)_Str1;
    _Str1 = _Str1 + 2;
    bVar4 = (byte)uVar1;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) goto LAB_10006ed4;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((ushort)uVar1 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) goto LAB_10006ed4;
    if (bVar4 == 0) {
      return 0;
    }
    _Str2 = (char *)((byte *)_Str2 + 2);
  }
LAB_10006ea0:
  while( true ) {
    uVar2 = *(undefined4 *)_Str1;
    bVar4 = (byte)uVar2;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 0x10);
    bVar5 = bVar4 < ((byte *)_Str2)[2];
    if (bVar4 != ((byte *)_Str2)[2]) break;
    bVar3 = (byte)((uint)uVar2 >> 0x18);
    if (bVar4 == 0) {
      return 0;
    }
    bVar5 = bVar3 < ((byte *)_Str2)[3];
    if (bVar3 != ((byte *)_Str2)[3]) break;
    _Str2 = (char *)((byte *)_Str2 + 4);
    _Str1 = _Str1 + 4;
    if (bVar3 == 0) {
      return 0;
    }
  }
LAB_10006ed4:
  return (uint)bVar5 * -2 + 1;
}



/*
 * Function: FUN_10006fd9
 * Address: 10006fd9
 */

void FUN_10006fd9(int param_1)

{
  __local_unwind2(*(int *)(param_1 + 0x18),*(int *)(param_1 + 0x1c));
  return;
}



/*
 * Function: FUN_10007000
 * Address: 10007000
 */

undefined4 * __cdecl FUN_10007000(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_100071b7_caseD_2;
        case 3:
          goto switchD_100071b7_caseD_3;
        }
        goto switchD_100071b7_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_100071b7_caseD_0;
      case 1:
        goto switchD_100071b7_caseD_1;
      case 2:
        goto switchD_100071b7_caseD_2;
      case 3:
        goto switchD_100071b7_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100071b7_caseD_2;
            case 3:
              goto switchD_100071b7_caseD_3;
            }
            goto switchD_100071b7_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100071b7_caseD_2;
            case 3:
              goto switchD_100071b7_caseD_3;
            }
            goto switchD_100071b7_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_100071b7_caseD_2;
            case 3:
              goto switchD_100071b7_caseD_3;
            }
            goto switchD_100071b7_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_100071b7_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_100071b7_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_100071b7_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_100071b7_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_10007035_caseD_2;
      case 3:
        goto switchD_10007035_caseD_3;
      }
      goto switchD_10007035_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_10007035_caseD_0;
    case 1:
      goto switchD_10007035_caseD_1;
    case 2:
      goto switchD_10007035_caseD_2;
    case 3:
      goto switchD_10007035_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007035_caseD_2;
          case 3:
            goto switchD_10007035_caseD_3;
          }
          goto switchD_10007035_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007035_caseD_2;
          case 3:
            goto switchD_10007035_caseD_3;
          }
          goto switchD_10007035_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007035_caseD_2;
          case 3:
            goto switchD_10007035_caseD_3;
          }
          goto switchD_10007035_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_10007035_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_10007035_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_10007035_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_10007035_caseD_0:
  return param_1;
}



/*
 * Function: FUN_10007335
 * Address: 10007335
 */

int * __cdecl FUN_10007335(int param_1,int param_2)

{
  int iVar1;
  uint *_Size;
  uint *puVar2;
  int *piVar3;
  
  _Size = (uint *)(param_1 * param_2);
  puVar2 = _Size;
  if (_Size < (uint *)0xffffffe1) {
    if (_Size == (uint *)0x0) {
      puVar2 = (uint *)0x1;
    }
    puVar2 = (uint *)((int)puVar2 + 0xfU & 0xfffffff0);
  }
  do {
    piVar3 = (int *)0x0;
    if (puVar2 < (uint *)0xffffffe1) {
      if (_Size < DAT_1000d1f8 || (int)_Size - (int)DAT_1000d1f8 == 0) {
        FUN_100064ff(9);
        piVar3 = FUN_10006909(_Size);
        FUN_10006560(9);
        if (piVar3 != (int *)0x0) {
          _memset(piVar3,0,(size_t)_Size);
          return piVar3;
        }
      }
      piVar3 = (int *)HeapAlloc(DAT_1000f2bc,8,(SIZE_T)puVar2);
      if (piVar3 != (int *)0x0) {
        return piVar3;
      }
    }
    if (DAT_1000deb8 == 0) {
      return piVar3;
    }
    iVar1 = FUN_10006dbe(puVar2);
  } while (iVar1 != 0);
  return (int *)0x0;
}



/*
 * Function: FUN_100073c2
 * Address: 100073c2
 */

void FUN_100073c2(void)

{
  FUN_10006317(10);
  FUN_100083a8((DWORD *)0x16);
                    /* WARNING: Subroutine does not return */
  __exit(3);
}



/*
 * Function: FUN_100073d9
 * Address: 100073d9
 */

DWORD __cdecl FUN_100073d9(uint param_1,LONG param_2,DWORD param_3)

{
  DWORD DVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_1000f3c0) &&
     ((*(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_100086ad(param_1);
    DVar1 = FUN_1000743e(param_1,param_2,param_3);
    FUN_1000870c(param_1);
    return DVar1;
  }
  pDVar2 = FUN_100085da();
  *pDVar2 = 9;
  pDVar2 = FUN_100085e3();
  *pDVar2 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_1000743e
 * Address: 1000743e
 */

DWORD __cdecl FUN_1000743e(uint param_1,LONG param_2,DWORD param_3)

{
  byte *pbVar1;
  HANDLE hFile;
  DWORD *pDVar2;
  DWORD DVar3;
  uint uVar4;
  
  hFile = (HANDLE)FUN_1000866b(param_1);
  if (hFile == (HANDLE)0xffffffff) {
    pDVar2 = FUN_100085da();
    *pDVar2 = 9;
  }
  else {
    DVar3 = SetFilePointer(hFile,param_2,(PLONG)0x0,param_3);
    if (DVar3 == 0xffffffff) {
      uVar4 = GetLastError();
    }
    else {
      uVar4 = 0;
    }
    if (uVar4 == 0) {
      pbVar1 = (byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24);
      *pbVar1 = *pbVar1 & 0xfd;
      return DVar3;
    }
    FUN_10008567(uVar4);
  }
  return 0xffffffff;
}



/*
 * Function: FUN_100074b1
 * Address: 100074b1
 */

int __cdecl FUN_100074b1(uint param_1,char *param_2,uint param_3)

{
  int iVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_1000f3c0) &&
     ((*(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_100086ad(param_1);
    iVar1 = FUN_10007516(param_1,param_2,param_3);
    FUN_1000870c(param_1);
    return iVar1;
  }
  pDVar2 = FUN_100085da();
  *pDVar2 = 9;
  pDVar2 = FUN_100085e3();
  *pDVar2 = 0;
  return -1;
}



/*
 * Function: FUN_10007516
 * Address: 10007516
 */

int __cdecl FUN_10007516(DWORD param_1,char *param_2,uint param_3)

{
  int *piVar1;
  char *pcVar2;
  char cVar3;
  int iVar4;
  char *pcVar5;
  BOOL BVar6;
  DWORD *pDVar7;
  char local_418 [1028];
  int local_14;
  DWORD local_10;
  DWORD local_c;
  char *local_8;
  
  local_c = 0;
  local_14 = 0;
  if (param_3 == 0) {
LAB_1000752f:
    iVar4 = 0;
  }
  else {
    piVar1 = &DAT_1000f2c0 + ((int)param_1 >> 5);
    iVar4 = (param_1 & 0x1f) * 0x24;
    if ((*(byte *)(*piVar1 + 4 + iVar4) & 0x20) != 0) {
      FUN_1000743e(param_1,0,2);
    }
    if ((*(byte *)((undefined4 *)(*piVar1 + iVar4) + 1) & 0x80) == 0) {
      BVar6 = WriteFile(*(HANDLE *)(*piVar1 + iVar4),param_2,param_3,&local_10,(LPOVERLAPPED)0x0);
      if (BVar6 == 0) {
        param_1 = GetLastError();
      }
      else {
        local_c = local_10;
        param_1 = 0;
      }
LAB_100075fe:
      if (local_c != 0) {
        return local_c - local_14;
      }
      if (param_1 == 0) goto LAB_10007670;
      if (param_1 == 5) {
        pDVar7 = FUN_100085da();
        *pDVar7 = 9;
        pDVar7 = FUN_100085e3();
        *pDVar7 = 5;
      }
      else {
        FUN_10008567(param_1);
      }
    }
    else {
      local_8 = param_2;
      param_1 = 0;
      if (param_3 != 0) {
        do {
          pcVar5 = local_418;
          do {
            if (param_3 <= (uint)((int)local_8 - (int)param_2)) break;
            pcVar2 = local_8 + 1;
            cVar3 = *local_8;
            local_8 = pcVar2;
            if (cVar3 == '\n') {
              local_14 = local_14 + 1;
              *pcVar5 = '\r';
              pcVar5 = pcVar5 + 1;
            }
            *pcVar5 = cVar3;
            pcVar5 = pcVar5 + 1;
          } while ((int)pcVar5 - (int)local_418 < 0x400);
          BVar6 = WriteFile(*(HANDLE *)(*piVar1 + iVar4),local_418,(int)pcVar5 - (int)local_418,
                            &local_10,(LPOVERLAPPED)0x0);
          if (BVar6 == 0) {
            param_1 = GetLastError();
            goto LAB_100075fe;
          }
          local_c = local_c + local_10;
          if (((int)local_10 < (int)pcVar5 - (int)local_418) ||
             (param_3 <= (uint)((int)local_8 - (int)param_2))) goto LAB_100075fe;
        } while( true );
      }
LAB_10007670:
      if (((*(byte *)(*piVar1 + 4 + iVar4) & 0x40) != 0) && (*param_2 == '\x1a')) goto LAB_1000752f;
      pDVar7 = FUN_100085da();
      *pDVar7 = 0x1c;
      pDVar7 = FUN_100085e3();
      *pDVar7 = 0;
    }
    iVar4 = -1;
  }
  return iVar4;
}



/*
 * Function: FUN_100076a1
 * Address: 100076a1
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl FUN_100076a1(undefined4 *param_1)

{
  void *pvVar1;
  
  _DAT_1000dec4 = _DAT_1000dec4 + 1;
  pvVar1 = _malloc(0x1000);
  param_1[2] = pvVar1;
  if (pvVar1 == (void *)0x0) {
    param_1[3] = param_1[3] | 4;
    param_1[2] = param_1 + 5;
    param_1[6] = 2;
  }
  else {
    param_1[3] = param_1[3] | 8;
    param_1[6] = 0x1000;
  }
  param_1[1] = 0;
  *param_1 = param_1[2];
  return;
}



/*
 * Function: FUN_100076e5
 * Address: 100076e5
 */

byte __cdecl FUN_100076e5(uint param_1)

{
  if (DAT_1000f3c0 <= param_1) {
    return 0;
  }
  return *(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 0x40;
}



/*
 * Function: FUN_100077ca
 * Address: 100077ca
 */

void __cdecl FUN_100077ca(uint param_1)

{
  if ((0x1000d287 < param_1) && (param_1 < 0x1000d4e9)) {
    FUN_100064ff(((int)(param_1 + 0xefff2d78) >> 5) + 0x1c);
    return;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x20));
  return;
}



/*
 * Function: FUN_100077f9
 * Address: 100077f9
 */

void __cdecl FUN_100077f9(int param_1,int param_2)

{
  if (param_1 < 0x14) {
    FUN_100064ff(param_1 + 0x1c);
    return;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_2 + 0x20));
  return;
}



/*
 * Function: FUN_1000781c
 * Address: 1000781c
 */

void __cdecl FUN_1000781c(uint param_1)

{
  if ((0x1000d287 < param_1) && (param_1 < 0x1000d4e9)) {
    FUN_10006560(((int)(param_1 + 0xefff2d78) >> 5) + 0x1c);
    return;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x20));
  return;
}



/*
 * Function: FUN_1000784b
 * Address: 1000784b
 */

void __cdecl FUN_1000784b(int param_1,int param_2)

{
  if (param_1 < 0x14) {
    FUN_10006560(param_1 + 0x1c);
    return;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_2 + 0x20));
  return;
}



/*
 * Function: _strlen
 * Address: 10007870
 */

/* Library Function - Single Match
    _strlen
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

size_t __cdecl _strlen(char *_Str)

{
  char cVar1;
  uint uVar2;
  uint *puVar3;
  uint *puVar4;
  
  uVar2 = (uint)_Str & 3;
  puVar3 = (uint *)_Str;
  while (uVar2 != 0) {
    cVar1 = *(char *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (cVar1 == '\0') goto LAB_100078c3;
    uVar2 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar4 = puVar3;
      puVar3 = puVar4 + 1;
    } while (((*puVar4 ^ 0xffffffff ^ *puVar4 + 0x7efefeff) & 0x81010100) == 0);
    uVar2 = *puVar4;
    if ((char)uVar2 == '\0') {
      return (int)puVar4 - (int)_Str;
    }
    if ((char)(uVar2 >> 8) == '\0') {
      return (size_t)((int)puVar4 + (1 - (int)_Str));
    }
    if ((uVar2 & 0xff0000) == 0) {
      return (size_t)((int)puVar4 + (2 - (int)_Str));
    }
  } while ((uVar2 & 0xff000000) != 0);
LAB_100078c3:
  return (size_t)((int)puVar3 + (-1 - (int)_Str));
}



/*
 * Function: FUN_100078eb
 * Address: 100078eb
 */

LPSTR __cdecl FUN_100078eb(LPSTR param_1,WCHAR param_2)

{
  LPSTR pCVar1;
  bool bVar2;
  
  InterlockedIncrement((LONG *)&DAT_1000e064);
  bVar2 = DAT_1000e060 != 0;
  if (bVar2) {
    InterlockedDecrement((LONG *)&DAT_1000e064);
    FUN_100064ff(0x13);
  }
  pCVar1 = FUN_10007944(param_1,param_2);
  if (bVar2) {
    FUN_10006560(0x13);
  }
  else {
    InterlockedDecrement((LONG *)&DAT_1000e064);
  }
  return pCVar1;
}



/*
 * Function: FUN_10007944
 * Address: 10007944
 */

LPSTR __cdecl FUN_10007944(LPSTR param_1,WCHAR param_2)

{
  LPSTR pCVar1;
  DWORD *pDVar2;
  
  pCVar1 = param_1;
  if (param_1 == (LPSTR)0x0) {
    return param_1;
  }
  if (DAT_1000df00 == 0) {
    if ((ushort)param_2 < 0x100) {
      *param_1 = (CHAR)param_2;
      return (LPSTR)0x1;
    }
  }
  else {
    param_1 = (LPSTR)0x0;
    pCVar1 = (LPSTR)WideCharToMultiByte(DAT_1000df10,0x220,&param_2,1,pCVar1,DAT_1000dab4,
                                        (LPCSTR)0x0,(LPBOOL)&param_1);
    if ((pCVar1 != (LPSTR)0x0) && (param_1 == (LPSTR)0x0)) {
      return pCVar1;
    }
  }
  pDVar2 = FUN_100085da();
  *pDVar2 = 0x2a;
  return (LPSTR)0xffffffff;
}



/*
 * Function: __aulldiv
 * Address: 100079b0
 */

/* Library Function - Single Match
    __aulldiv
   
   Library: Visual Studio */

undefined8 __aulldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  
  uVar3 = param_1;
  uVar8 = param_4;
  uVar6 = param_2;
  uVar9 = param_3;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar5 = uVar8 >> 1;
      uVar9 = uVar9 >> 1 | (uint)((uVar8 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar8 = uVar5;
      uVar6 = uVar7;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar9;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar8 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar8)) ||
       ((param_2 <= uVar8 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  return CONCAT44(uVar3,iVar4);
}



/*
 * Function: __aullrem
 * Address: 10007a20
 */

/* Library Function - Single Match
    __aullrem
   
   Library: Visual Studio */

undefined8 __aullrem(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  bool bVar11;
  
  uVar3 = param_1;
  uVar4 = param_4;
  uVar9 = param_2;
  uVar10 = param_3;
  if (param_4 == 0) {
    iVar6 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) %
                 (ulonglong)param_3);
    iVar7 = 0;
  }
  else {
    do {
      uVar5 = uVar4 >> 1;
      uVar10 = uVar10 >> 1 | (uint)((uVar4 & 1) != 0) << 0x1f;
      uVar8 = uVar9 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar9 & 1) != 0) << 0x1f;
      uVar4 = uVar5;
      uVar9 = uVar8;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar8,uVar3) / (ulonglong)uVar10;
    uVar3 = (int)uVar1 * param_4;
    lVar2 = (uVar1 & 0xffffffff) * (ulonglong)param_3;
    uVar9 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar4 = (uint)lVar2;
    uVar10 = uVar9 + uVar3;
    if (((CARRY4(uVar9,uVar3)) || (param_2 < uVar10)) || ((param_2 <= uVar10 && (param_1 < uVar4))))
    {
      bVar11 = uVar4 < param_3;
      uVar4 = uVar4 - param_3;
      uVar10 = (uVar10 - param_4) - (uint)bVar11;
    }
    iVar6 = -(uVar4 - param_1);
    iVar7 = -(uint)(uVar4 - param_1 != 0) - ((uVar10 - param_2) - (uint)(uVar4 < param_1));
  }
  return CONCAT44(iVar7,iVar6);
}



/*
 * Function: FUN_10007aa0
 * Address: 10007aa0
 */

uint * __cdecl FUN_10007aa0(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  
  uVar3 = (uint)param_2 & 3;
  puVar4 = param_1;
  while (uVar3 != 0) {
    bVar1 = *(byte *)param_2;
    uVar3 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_10007b88;
    *(byte *)puVar4 = bVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    uVar3 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar3 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar3 == '\0') {
LAB_10007b88:
        *(byte *)puVar4 = (byte)uVar3;
        return param_1;
      }
      if ((char)(uVar3 >> 8) == '\0') {
        *(short *)puVar4 = (short)uVar3;
        return param_1;
      }
      if ((uVar3 & 0xff0000) == 0) {
        *(short *)puVar4 = (short)uVar3;
        *(byte *)((int)puVar4 + 2) = 0;
        return param_1;
      }
      if ((uVar3 & 0xff000000) == 0) {
        *puVar4 = uVar3;
        return param_1;
      }
    }
    *puVar4 = uVar3;
    puVar4 = puVar4 + 1;
  } while( true );
}



/*
 * Function: FUN_10007ab0
 * Address: 10007ab0
 */

uint * __cdecl FUN_10007ab0(uint *param_1,uint *param_2)

{
  byte bVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint *puVar5;
  
  uVar4 = (uint)param_1 & 3;
  puVar3 = param_1;
  while (uVar4 != 0) {
    bVar1 = *(byte *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (bVar1 == 0) goto LAB_10007aff;
    uVar4 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar5 = puVar3;
      puVar3 = puVar5 + 1;
    } while (((*puVar5 ^ 0xffffffff ^ *puVar5 + 0x7efefeff) & 0x81010100) == 0);
    uVar4 = *puVar5;
    if ((char)uVar4 == '\0') goto LAB_10007b11;
    if ((char)(uVar4 >> 8) == '\0') {
      puVar5 = (uint *)((int)puVar5 + 1);
      goto LAB_10007b11;
    }
    if ((uVar4 & 0xff0000) == 0) {
      puVar5 = (uint *)((int)puVar5 + 2);
      goto LAB_10007b11;
    }
  } while ((uVar4 & 0xff000000) != 0);
LAB_10007aff:
  puVar5 = (uint *)((int)puVar3 + -1);
LAB_10007b11:
  uVar4 = (uint)param_2 & 3;
  while (uVar4 != 0) {
    bVar1 = *(byte *)param_2;
    uVar4 = (uint)bVar1;
    param_2 = (uint *)((int)param_2 + 1);
    if (bVar1 == 0) goto LAB_10007b88;
    *(byte *)puVar5 = bVar1;
    puVar5 = (uint *)((int)puVar5 + 1);
    uVar4 = (uint)param_2 & 3;
  }
  do {
    uVar2 = *param_2;
    uVar4 = *param_2;
    param_2 = param_2 + 1;
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar4 == '\0') {
LAB_10007b88:
        *(byte *)puVar5 = (byte)uVar4;
        return param_1;
      }
      if ((char)(uVar4 >> 8) == '\0') {
        *(short *)puVar5 = (short)uVar4;
        return param_1;
      }
      if ((uVar4 & 0xff0000) == 0) {
        *(short *)puVar5 = (short)uVar4;
        *(byte *)((int)puVar5 + 2) = 0;
        return param_1;
      }
      if ((uVar4 & 0xff000000) == 0) {
        *puVar5 = uVar4;
        return param_1;
      }
    }
    *puVar5 = uVar4;
    puVar5 = puVar5 + 1;
  } while( true );
}



/*
 * Function: FUN_10007b90
 * Address: 10007b90
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 __cdecl FUN_10007b90(int param_1)

{
  BYTE *pBVar1;
  byte bVar2;
  byte bVar3;
  UINT CodePage;
  UINT *pUVar4;
  BOOL BVar5;
  uint uVar6;
  uint uVar7;
  BYTE *pBVar8;
  int iVar9;
  byte *pbVar10;
  int iVar11;
  byte *pbVar12;
  undefined4 uVar13;
  undefined4 *puVar14;
  _cpinfo local_1c;
  uint local_8;
  
  FUN_100064ff(0x19);
  CodePage = FUN_10007d3d(param_1);
  if (CodePage != DAT_1000e068) {
    if (CodePage != 0) {
      iVar11 = 0;
      pUVar4 = &DAT_1000d748;
LAB_10007bcd:
      if (*pUVar4 != CodePage) goto code_r0x10007bd1;
      local_8 = 0;
      puVar14 = (undefined4 *)&DAT_1000e180;
      for (iVar9 = 0x40; iVar9 != 0; iVar9 = iVar9 + -1) {
        *puVar14 = 0;
        puVar14 = puVar14 + 1;
      }
      *(undefined *)puVar14 = 0;
      pbVar12 = &DAT_1000d758 + iVar11 * 0x30;
      do {
        bVar2 = *pbVar12;
        pbVar10 = pbVar12;
        while ((bVar2 != 0 && (bVar2 = pbVar10[1], bVar2 != 0))) {
          uVar7 = (uint)*pbVar10;
          if (uVar7 <= bVar2) {
            bVar3 = (&DAT_1000d740)[local_8];
            do {
              (&DAT_1000e181)[uVar7] = (&DAT_1000e181)[uVar7] | bVar3;
              uVar7 = uVar7 + 1;
            } while (uVar7 <= bVar2);
          }
          pbVar10 = pbVar10 + 2;
          bVar2 = *pbVar10;
        }
        local_8 = local_8 + 1;
        pbVar12 = pbVar12 + 8;
      } while (local_8 < 4);
      _DAT_1000e07c = 1;
      DAT_1000e068 = CodePage;
      DAT_1000e284 = FUN_10007d87(CodePage);
      DAT_1000e070 = (&DAT_1000d74c)[iVar11 * 0xc];
      DAT_1000e074 = (&DAT_1000d750)[iVar11 * 0xc];
      DAT_1000e078 = (&DAT_1000d754)[iVar11 * 0xc];
      goto LAB_10007d21;
    }
    goto LAB_10007d1c;
  }
  goto LAB_10007bb7;
code_r0x10007bd1:
  pUVar4 = pUVar4 + 0xc;
  iVar11 = iVar11 + 1;
  if (0x1000d837 < (int)pUVar4) goto code_r0x10007bdc;
  goto LAB_10007bcd;
code_r0x10007bdc:
  BVar5 = GetCPInfo(CodePage,&local_1c);
  uVar7 = 1;
  if (BVar5 == 1) {
    DAT_1000e284 = 0;
    puVar14 = (undefined4 *)&DAT_1000e180;
    for (iVar11 = 0x40; iVar11 != 0; iVar11 = iVar11 + -1) {
      *puVar14 = 0;
      puVar14 = puVar14 + 1;
    }
    *(undefined *)puVar14 = 0;
    if (local_1c.MaxCharSize < 2) {
      _DAT_1000e07c = 0;
      DAT_1000e068 = CodePage;
    }
    else {
      DAT_1000e068 = CodePage;
      if (local_1c.LeadByte[0] != '\0') {
        pBVar8 = local_1c.LeadByte + 1;
        do {
          bVar2 = *pBVar8;
          if (bVar2 == 0) break;
          for (uVar6 = (uint)pBVar8[-1]; uVar6 <= bVar2; uVar6 = uVar6 + 1) {
            (&DAT_1000e181)[uVar6] = (&DAT_1000e181)[uVar6] | 4;
          }
          pBVar1 = pBVar8 + 1;
          pBVar8 = pBVar8 + 2;
        } while (*pBVar1 != 0);
      }
      do {
        (&DAT_1000e181)[uVar7] = (&DAT_1000e181)[uVar7] | 8;
        uVar7 = uVar7 + 1;
      } while (uVar7 < 0xff);
      DAT_1000e284 = FUN_10007d87(CodePage);
      _DAT_1000e07c = 1;
    }
    DAT_1000e070 = 0;
    DAT_1000e074 = 0;
    DAT_1000e078 = 0;
  }
  else {
    if (DAT_1000dec8 == 0) {
      uVar13 = 0xffffffff;
      goto LAB_10007d2e;
    }
LAB_10007d1c:
    FUN_10007dba();
  }
LAB_10007d21:
  FUN_10007de3();
LAB_10007bb7:
  uVar13 = 0;
LAB_10007d2e:
  FUN_10006560(0x19);
  return uVar13;
}



/*
 * Function: FUN_10007d3d
 * Address: 10007d3d
 */

int __cdecl FUN_10007d3d(int param_1)

{
  int iVar1;
  bool bVar2;
  
  if (param_1 == -2) {
    DAT_1000dec8 = 1;
                    /* WARNING: Could not recover jumptable at 0x10007d57. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetOEMCP();
    return iVar1;
  }
  if (param_1 == -3) {
    DAT_1000dec8 = 1;
                    /* WARNING: Could not recover jumptable at 0x10007d6c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    iVar1 = GetACP();
    return iVar1;
  }
  bVar2 = param_1 == -4;
  if (bVar2) {
    param_1 = DAT_1000df10;
  }
  DAT_1000dec8 = (uint)bVar2;
  return param_1;
}



/*
 * Function: FUN_10007d87
 * Address: 10007d87
 */

undefined4 __cdecl FUN_10007d87(int param_1)

{
  if (param_1 == 0x3a4) {
    return 0x411;
  }
  if (param_1 == 0x3a8) {
    return 0x804;
  }
  if (param_1 == 0x3b5) {
    return 0x412;
  }
  if (param_1 != 0x3b6) {
    return 0;
  }
  return 0x404;
}



/*
 * Function: FUN_10007dba
 * Address: 10007dba
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10007dba(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)&DAT_1000e180;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  *(undefined *)puVar2 = 0;
  DAT_1000e068 = 0;
  _DAT_1000e07c = 0;
  DAT_1000e284 = 0;
  DAT_1000e070 = 0;
  DAT_1000e074 = 0;
  DAT_1000e078 = 0;
  return;
}



/*
 * Function: FUN_10007de3
 * Address: 10007de3
 */

void FUN_10007de3(void)

{
  BOOL BVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  ushort *puVar6;
  undefined uVar7;
  BYTE *pBVar8;
  CHAR *pCVar9;
  WORD local_518 [256];
  WCHAR local_318 [128];
  WCHAR local_218 [128];
  CHAR local_118 [256];
  _cpinfo local_18;
  
  BVar1 = GetCPInfo(DAT_1000e068,&local_18);
  if (BVar1 == 1) {
    uVar2 = 0;
    do {
      local_118[uVar2] = (CHAR)uVar2;
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
    local_118[0] = ' ';
    if (local_18.LeadByte[0] != 0) {
      pBVar8 = local_18.LeadByte + 1;
      do {
        uVar2 = (uint)local_18.LeadByte[0];
        if (uVar2 <= *pBVar8) {
          uVar4 = (*pBVar8 - uVar2) + 1;
          uVar5 = uVar4 >> 2;
          pCVar9 = local_118 + uVar2;
          while (uVar5 != 0) {
            uVar5 = uVar5 - 1;
            builtin_memcpy(pCVar9,"    ",4);
            pCVar9 = pCVar9 + 4;
          }
          for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
            *pCVar9 = ' ';
            pCVar9 = pCVar9 + 1;
          }
        }
        local_18.LeadByte[0] = pBVar8[1];
        pBVar8 = pBVar8 + 2;
      } while (local_18.LeadByte[0] != 0);
    }
    FUN_10008b3e(1,local_118,0x100,local_518,DAT_1000e068,DAT_1000e284,0);
    FUN_100088ef(DAT_1000e284,0x100,local_118,0x100,local_218,0x100,DAT_1000e068,0);
    FUN_100088ef(DAT_1000e284,0x200,local_118,0x100,local_318,0x100,DAT_1000e068,0);
    uVar2 = 0;
    puVar6 = local_518;
    do {
      if ((*puVar6 & 1) == 0) {
        if ((*puVar6 & 2) != 0) {
          (&DAT_1000e181)[uVar2] = (&DAT_1000e181)[uVar2] | 0x20;
          uVar7 = *(undefined *)((int)local_318 + uVar2);
          goto LAB_10007eef;
        }
        (&DAT_1000e080)[uVar2] = 0;
      }
      else {
        (&DAT_1000e181)[uVar2] = (&DAT_1000e181)[uVar2] | 0x10;
        uVar7 = *(undefined *)((int)local_218 + uVar2);
LAB_10007eef:
        (&DAT_1000e080)[uVar2] = uVar7;
      }
      uVar2 = uVar2 + 1;
      puVar6 = puVar6 + 1;
    } while (uVar2 < 0x100);
  }
  else {
    uVar2 = 0;
    do {
      if ((uVar2 < 0x41) || (0x5a < uVar2)) {
        if ((0x60 < uVar2) && (uVar2 < 0x7b)) {
          (&DAT_1000e181)[uVar2] = (&DAT_1000e181)[uVar2] | 0x20;
          cVar3 = (char)uVar2 + -0x20;
          goto LAB_10007f39;
        }
        (&DAT_1000e080)[uVar2] = 0;
      }
      else {
        (&DAT_1000e181)[uVar2] = (&DAT_1000e181)[uVar2] | 0x10;
        cVar3 = (char)uVar2 + ' ';
LAB_10007f39:
        (&DAT_1000e080)[uVar2] = cVar3;
      }
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
  }
  return;
}



/*
 * Function: FUN_10007f68
 * Address: 10007f68
 */

void FUN_10007f68(void)

{
  if (DAT_1000f3c8 == 0) {
    FUN_10007b90(-3);
    DAT_1000f3c8 = 1;
  }
  return;
}



/*
 * Function: FUN_10007f90
 * Address: 10007f90
 */

undefined4 * __cdecl FUN_10007f90(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    puVar3 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar4 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar4 & 3) == 0) {
      uVar1 = param_3 >> 2;
      uVar2 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + -1;
          puVar4 = puVar4 + -1;
        }
        switch(uVar2) {
        case 0:
          return param_1;
        case 2:
          goto switchD_10008147_caseD_2;
        case 3:
          goto switchD_10008147_caseD_3;
        }
        goto switchD_10008147_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_10008147_caseD_0;
      case 1:
        goto switchD_10008147_caseD_1;
      case 2:
        goto switchD_10008147_caseD_2;
      case 3:
        goto switchD_10008147_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar4 & 3);
        switch((uint)puVar4 & 3) {
        case 1:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          puVar3 = (undefined4 *)((int)puVar3 + -1);
          uVar1 = uVar1 >> 2;
          puVar4 = (undefined4 *)((int)puVar4 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_10008147_caseD_2;
            case 3:
              goto switchD_10008147_caseD_3;
            }
            goto switchD_10008147_caseD_1;
          }
          break;
        case 2:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          puVar3 = (undefined4 *)((int)puVar3 + -2);
          puVar4 = (undefined4 *)((int)puVar4 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_10008147_caseD_2;
            case 3:
              goto switchD_10008147_caseD_3;
            }
            goto switchD_10008147_caseD_1;
          }
          break;
        case 3:
          uVar2 = uVar1 & 3;
          *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
          *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
          puVar3 = (undefined4 *)((int)puVar3 + -3);
          puVar4 = (undefined4 *)((int)puVar4 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar4 = *puVar3;
              puVar3 = puVar3 + -1;
              puVar4 = puVar4 + -1;
            }
            switch(uVar2) {
            case 0:
              return param_1;
            case 2:
              goto switchD_10008147_caseD_2;
            case 3:
              goto switchD_10008147_caseD_3;
            }
            goto switchD_10008147_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar4[7 - uVar1] = puVar3[7 - uVar1];
    case 6:
      puVar4[6 - uVar1] = puVar3[6 - uVar1];
    case 5:
      puVar4[5 - uVar1] = puVar3[5 - uVar1];
    case 4:
      puVar4[4 - uVar1] = puVar3[4 - uVar1];
    case 3:
      puVar4[3 - uVar1] = puVar3[3 - uVar1];
    case 2:
      puVar4[2 - uVar1] = puVar3[2 - uVar1];
    case 1:
      puVar4[1 - uVar1] = puVar3[1 - uVar1];
      puVar3 = puVar3 + -uVar1;
      puVar4 = puVar4 + -uVar1;
    }
    switch(uVar2) {
    case 1:
switchD_10008147_caseD_1:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      return param_1;
    case 2:
switchD_10008147_caseD_2:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      return param_1;
    case 3:
switchD_10008147_caseD_3:
      *(undefined *)((int)puVar4 + 3) = *(undefined *)((int)puVar3 + 3);
      *(undefined *)((int)puVar4 + 2) = *(undefined *)((int)puVar3 + 2);
      *(undefined *)((int)puVar4 + 1) = *(undefined *)((int)puVar3 + 1);
      return param_1;
    }
switchD_10008147_caseD_0:
    return param_1;
  }
  puVar3 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    uVar2 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar3 = *param_2;
        param_2 = param_2 + 1;
        puVar3 = puVar3 + 1;
      }
      switch(uVar2) {
      case 0:
        return param_1;
      case 2:
        goto switchD_10007fc5_caseD_2;
      case 3:
        goto switchD_10007fc5_caseD_3;
      }
      goto switchD_10007fc5_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_10007fc5_caseD_0;
    case 1:
      goto switchD_10007fc5_caseD_1;
    case 2:
      goto switchD_10007fc5_caseD_2;
    case 3:
      goto switchD_10007fc5_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar3 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007fc5_caseD_2;
          case 3:
            goto switchD_10007fc5_caseD_3;
          }
          goto switchD_10007fc5_caseD_1;
        }
        break;
      case 2:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar3 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007fc5_caseD_2;
          case 3:
            goto switchD_10007fc5_caseD_3;
          }
          goto switchD_10007fc5_caseD_1;
        }
        break;
      case 3:
        uVar2 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar3 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
          }
          switch(uVar2) {
          case 0:
            return param_1;
          case 2:
            goto switchD_10007fc5_caseD_2;
          case 3:
            goto switchD_10007fc5_caseD_3;
          }
          goto switchD_10007fc5_caseD_1;
        }
      }
    }
  }
  switch(uVar1) {
  case 7:
    puVar3[uVar1 - 7] = param_2[uVar1 - 7];
  case 6:
    puVar3[uVar1 - 6] = param_2[uVar1 - 6];
  case 5:
    puVar3[uVar1 - 5] = param_2[uVar1 - 5];
  case 4:
    puVar3[uVar1 - 4] = param_2[uVar1 - 4];
  case 3:
    puVar3[uVar1 - 3] = param_2[uVar1 - 3];
  case 2:
    puVar3[uVar1 - 2] = param_2[uVar1 - 2];
  case 1:
    puVar3[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar3 = puVar3 + uVar1;
  }
  switch(uVar2) {
  case 1:
switchD_10007fc5_caseD_1:
    *(undefined *)puVar3 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_10007fc5_caseD_2:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_10007fc5_caseD_3:
    *(undefined *)puVar3 = *(undefined *)param_2;
    *(undefined *)((int)puVar3 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar3 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_10007fc5_caseD_0:
  return param_1;
}



/*
 * Function: FUN_100082c5
 * Address: 100082c5
 */

int __cdecl FUN_100082c5(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  HMODULE hModule;
  int iVar1;
  
  iVar1 = 0;
  if (DAT_1000decc == (FARPROC)0x0) {
    hModule = LoadLibraryA("user32.dll");
    if (hModule != (HMODULE)0x0) {
      DAT_1000decc = GetProcAddress(hModule,"MessageBoxA");
      if (DAT_1000decc != (FARPROC)0x0) {
        DAT_1000ded0 = GetProcAddress(hModule,"GetActiveWindow");
        DAT_1000ded4 = GetProcAddress(hModule,"GetLastActivePopup");
        goto LAB_10008314;
      }
    }
    iVar1 = 0;
  }
  else {
LAB_10008314:
    if (DAT_1000ded0 != (FARPROC)0x0) {
      iVar1 = (*DAT_1000ded0)();
      if ((iVar1 != 0) && (DAT_1000ded4 != (FARPROC)0x0)) {
        iVar1 = (*DAT_1000ded4)(iVar1);
      }
    }
    iVar1 = (*DAT_1000decc)(iVar1,param_1,param_2,param_3);
  }
  return iVar1;
}



/*
 * Function: _memset
 * Address: 10008350
 */

/* Library Function - Single Match
    _memset
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

void * __cdecl _memset(void *_Dst,int _Val,size_t _Size)

{
  uint uVar1;
  uint uVar2;
  size_t sVar3;
  uint *puVar4;
  
  if (_Size == 0) {
    return _Dst;
  }
  uVar1 = _Val & 0xff;
  puVar4 = (uint *)_Dst;
  if (3 < _Size) {
    uVar2 = -(int)_Dst & 3;
    sVar3 = _Size;
    if (uVar2 != 0) {
      sVar3 = _Size - uVar2;
      do {
        *(undefined *)puVar4 = (undefined)_Val;
        puVar4 = (uint *)((int)puVar4 + 1);
        uVar2 = uVar2 - 1;
      } while (uVar2 != 0);
    }
    uVar1 = uVar1 * 0x1010101;
    _Size = sVar3 & 3;
    uVar2 = sVar3 >> 2;
    if (uVar2 != 0) {
      for (; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
      }
      if (_Size == 0) {
        return _Dst;
      }
    }
  }
  do {
    *(char *)puVar4 = (char)uVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    _Size = _Size - 1;
  } while (_Size != 0);
  return _Dst;
}



/*
 * Function: FUN_100083a8
 * Address: 100083a8
 */

undefined4 __cdecl FUN_100083a8(DWORD *param_1)

{
  bool bVar1;
  DWORD *pDVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  undefined4 *puVar7;
  DWORD local_10;
  DWORD local_c;
  
  bVar1 = false;
  if (param_1 == (DWORD *)0x2) {
    puVar7 = &DAT_1000ded8;
    pcVar6 = DAT_1000ded8;
LAB_1000842e:
    bVar1 = true;
    FUN_100064ff(1);
    pDVar2 = param_1;
  }
  else {
    if (((param_1 != (DWORD *)0x4) && (param_1 != (DWORD *)0x8)) && (param_1 != (DWORD *)0xb)) {
      if (param_1 == (DWORD *)0xf) {
        puVar7 = &DAT_1000dee4;
        pcVar6 = DAT_1000dee4;
      }
      else if (param_1 == (DWORD *)0x15) {
        puVar7 = &DAT_1000dedc;
        pcVar6 = DAT_1000dedc;
      }
      else {
        if (param_1 != (DWORD *)0x16) {
          return 0xffffffff;
        }
        puVar7 = &DAT_1000dee0;
        pcVar6 = DAT_1000dee0;
      }
      goto LAB_1000842e;
    }
    pDVar2 = FUN_10004fe1();
    uVar3 = FUN_1000852a((int)param_1,pDVar2[0x14]);
    puVar7 = (undefined4 *)(uVar3 + 8);
    pcVar6 = (code *)*puVar7;
  }
  if (pcVar6 == (code *)0x1) {
    if (!bVar1) {
      return 0;
    }
    FUN_10006560(1);
    return 0;
  }
  if (pcVar6 == (code *)0x0) {
    if (bVar1) {
      FUN_10006560(1);
    }
                    /* WARNING: Subroutine does not return */
    __exit(3);
  }
  if (((param_1 == (DWORD *)0x8) || (param_1 == (DWORD *)0xb)) || (param_1 == (DWORD *)0x4)) {
    local_c = pDVar2[0x15];
    pDVar2[0x15] = 0;
    if (param_1 == (DWORD *)0x8) {
      local_10 = pDVar2[0x16];
      pDVar2[0x16] = 0x8c;
      goto LAB_100084a2;
    }
  }
  else {
LAB_100084a2:
    if (param_1 == (DWORD *)0x8) {
      if (DAT_1000d278 < DAT_1000d27c + DAT_1000d278) {
        iVar4 = DAT_1000d278 * 0xc;
        iVar5 = DAT_1000d278;
        do {
          iVar4 = iVar4 + 0xc;
          *(undefined4 *)((pDVar2[0x14] - 4) + iVar4) = 0;
          iVar5 = iVar5 + 1;
        } while (iVar5 < DAT_1000d27c + DAT_1000d278);
      }
      goto LAB_100084e0;
    }
  }
  *puVar7 = 0;
LAB_100084e0:
  if (bVar1) {
    FUN_10006560(1);
  }
  if (param_1 == (DWORD *)0x8) {
    (*pcVar6)(8,pDVar2[0x16]);
  }
  else {
    (*pcVar6)(param_1);
    if ((param_1 != (DWORD *)0xb) && (param_1 != (DWORD *)0x4)) {
      return 0;
    }
  }
  pDVar2[0x15] = local_c;
  if (param_1 == (DWORD *)0x8) {
    pDVar2[0x16] = local_10;
  }
  return 0;
}



/*
 * Function: FUN_1000852a
 * Address: 1000852a
 */

uint __cdecl FUN_1000852a(int param_1,uint param_2)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = param_2;
  if (*(int *)(param_2 + 4) != param_1) {
    uVar3 = param_2;
    do {
      uVar2 = uVar3 + 0xc;
      if (param_2 + DAT_1000d284 * 0xc <= uVar2) break;
      piVar1 = (int *)(uVar3 + 0x10);
      uVar3 = uVar2;
    } while (*piVar1 != param_1);
  }
  if ((param_2 + DAT_1000d284 * 0xc <= uVar2) || (*(int *)(uVar2 + 4) != param_1)) {
    uVar2 = 0;
  }
  return uVar2;
}



/*
 * Function: FUN_10008567
 * Address: 10008567
 */

void __cdecl FUN_10008567(uint param_1)

{
  DWORD *pDVar1;
  uint *puVar2;
  int iVar3;
  
  pDVar1 = FUN_100085e3();
  iVar3 = 0;
  *pDVar1 = param_1;
  puVar2 = &DAT_1000d840;
  do {
    if (param_1 == *puVar2) {
      pDVar1 = FUN_100085da();
      *pDVar1 = (&DAT_1000d844)[iVar3 * 2];
      return;
    }
    puVar2 = puVar2 + 2;
    iVar3 = iVar3 + 1;
  } while ((int)puVar2 < 0x1000d9a8);
  if ((0x12 < param_1) && (param_1 < 0x25)) {
    pDVar1 = FUN_100085da();
    *pDVar1 = 0xd;
    return;
  }
  if ((0xbb < param_1) && (param_1 < 0xcb)) {
    pDVar1 = FUN_100085da();
    *pDVar1 = 8;
    return;
  }
  pDVar1 = FUN_100085da();
  *pDVar1 = 0x16;
  return;
}



/*
 * Function: FUN_100085da
 * Address: 100085da
 */

DWORD * FUN_100085da(void)

{
  DWORD *pDVar1;
  
  pDVar1 = FUN_10004fe1();
  return pDVar1 + 2;
}



/*
 * Function: FUN_100085e3
 * Address: 100085e3
 */

DWORD * FUN_100085e3(void)

{
  DWORD *pDVar1;
  
  pDVar1 = FUN_10004fe1();
  return pDVar1 + 3;
}



/*
 * Function: FUN_100085ec
 * Address: 100085ec
 */

undefined4 __cdecl FUN_100085ec(uint param_1)

{
  int *piVar1;
  DWORD *pDVar2;
  int iVar3;
  DWORD nStdHandle;
  
  if (param_1 < DAT_1000f3c0) {
    iVar3 = (param_1 & 0x1f) * 0x24;
    piVar1 = (int *)((&DAT_1000f2c0)[(int)param_1 >> 5] + iVar3);
    if (((*(byte *)(piVar1 + 1) & 1) != 0) && (*piVar1 != -1)) {
      if (DAT_1000dd04 == 1) {
        if (param_1 == 0) {
          nStdHandle = 0xfffffff6;
        }
        else if (param_1 == 1) {
          nStdHandle = 0xfffffff5;
        }
        else {
          if (param_1 != 2) goto LAB_10008648;
          nStdHandle = 0xfffffff4;
        }
        SetStdHandle(nStdHandle,(HANDLE)0x0);
      }
LAB_10008648:
      *(undefined4 *)((&DAT_1000f2c0)[(int)param_1 >> 5] + iVar3) = 0xffffffff;
      return 0;
    }
  }
  pDVar2 = FUN_100085da();
  *pDVar2 = 9;
  pDVar2 = FUN_100085e3();
  *pDVar2 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_1000866b
 * Address: 1000866b
 */

undefined4 __cdecl FUN_1000866b(uint param_1)

{
  DWORD *pDVar1;
  
  if ((param_1 < DAT_1000f3c0) &&
     ((*(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    return *(undefined4 *)((&DAT_1000f2c0)[(int)param_1 >> 5] + (param_1 & 0x1f) * 0x24);
  }
  pDVar1 = FUN_100085da();
  *pDVar1 = 9;
  pDVar1 = FUN_100085e3();
  *pDVar1 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_100086ad
 * Address: 100086ad
 */

void __cdecl FUN_100086ad(uint param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = (param_1 & 0x1f) * 0x24;
  iVar1 = (&DAT_1000f2c0)[(int)param_1 >> 5] + iVar2;
  if (*(int *)(iVar1 + 8) == 0) {
    FUN_100064ff(0x11);
    if (*(int *)(iVar1 + 8) == 0) {
      InitializeCriticalSection((LPCRITICAL_SECTION)(iVar1 + 0xc));
      *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
    }
    FUN_10006560(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)((&DAT_1000f2c0)[(int)param_1 >> 5] + 0xc + iVar2));
  return;
}



/*
 * Function: FUN_1000870c
 * Address: 1000870c
 */

void __cdecl FUN_1000870c(uint param_1)

{
  LeaveCriticalSection
            ((LPCRITICAL_SECTION)
             ((&DAT_1000f2c0)[(int)param_1 >> 5] + 0xc + (param_1 & 0x1f) * 0x24));
  return;
}



/*
 * Function: FUN_100087af
 * Address: 100087af
 */

int __cdecl FUN_100087af(int *param_1)

{
  int iVar1;
  DWORD DVar2;
  
  iVar1 = FUN_100087dd(param_1);
  if (iVar1 != 0) {
    return -1;
  }
  if ((*(byte *)((int)param_1 + 0xd) & 0x40) != 0) {
    DVar2 = FUN_10008d04(param_1[4]);
    return -(uint)(DVar2 != 0);
  }
  return 0;
}



/*
 * Function: FUN_100087dd
 * Address: 100087dd
 */

undefined4 __cdecl FUN_100087dd(int *param_1)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  
  uVar2 = 0;
  if ((((byte)param_1[3] & 3) == 2) && ((param_1[3] & 0x108U) != 0)) {
    uVar3 = *param_1 - param_1[2];
    if (0 < (int)uVar3) {
      uVar1 = FUN_100074b1(param_1[4],(char *)param_1[2],uVar3);
      if (uVar1 == uVar3) {
        if ((param_1[3] & 0x80U) != 0) {
          param_1[3] = param_1[3] & 0xfffffffd;
        }
      }
      else {
        param_1[3] = param_1[3] | 0x20;
        uVar2 = 0xffffffff;
      }
    }
  }
  param_1[1] = 0;
  *param_1 = param_1[2];
  return uVar2;
}



/*
 * Function: FUN_10008842
 * Address: 10008842
 */

int __cdecl FUN_10008842(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar3 = 0;
  iVar5 = 0;
  FUN_100064ff(2);
  iVar4 = 0;
  if (0 < DAT_1000f2a0) {
    do {
      iVar2 = *(int *)(DAT_1000e288 + iVar4 * 4);
      if ((iVar2 != 0) && ((*(byte *)(iVar2 + 0xc) & 0x83) != 0)) {
        FUN_100077f9(iVar4,iVar2);
        piVar1 = *(int **)(DAT_1000e288 + iVar4 * 4);
        if ((piVar1[3] & 0x83U) != 0) {
          if (param_1 == 1) {
            iVar2 = FUN_100087af(piVar1);
            if (iVar2 != -1) {
              iVar3 = iVar3 + 1;
            }
          }
          else if ((param_1 == 0) && ((piVar1[3] & 2U) != 0)) {
            iVar2 = FUN_100087af(piVar1);
            if (iVar2 == -1) {
              iVar5 = -1;
            }
          }
        }
        FUN_1000784b(iVar4,*(int *)(DAT_1000e288 + iVar4 * 4));
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < DAT_1000f2a0);
  }
  FUN_10006560(2);
  if (param_1 != 1) {
    iVar3 = iVar5;
  }
  return iVar3;
}



/*
 * Function: __fptrap
 * Address: 100088e6
 */

/* Library Function - Single Match
    __fptrap
   
   Library: Visual Studio 2003 Release */

void __cdecl __fptrap(void)

{
  __amsg_exit(2);
  return;
}



/*
 * Function: FUN_100088ef
 * Address: 100088ef
 */

int __cdecl
FUN_100088ef(LCID param_1,uint param_2,char *param_3,int param_4,LPWSTR param_5,int param_6,
            UINT param_7,int param_8)

{
  int iVar1;
  int iVar2;
  undefined unaff_DI;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_1000a570;
  puStack_10 = &LAB_10006f1c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (DAT_1000df18 == 0) {
    ExceptionList = &local_14;
    iVar1 = LCMapStringW(0,0x100,L"",1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = LCMapStringA(0,0x100,"",1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      DAT_1000df18 = 2;
    }
    else {
      DAT_1000df18 = 1;
    }
  }
  if (0 < param_4) {
    param_4 = FUN_10008b13(param_3,param_4);
  }
  if (DAT_1000df18 == 2) {
    iVar1 = LCMapStringA(param_1,param_2,param_3,param_4,(LPSTR)param_5,param_6);
    ExceptionList = local_14;
    return iVar1;
  }
  if (DAT_1000df18 == 1) {
    if (param_7 == 0) {
      param_7 = DAT_1000df10;
    }
    iVar1 = MultiByteToWideChar(param_7,(-(uint)(param_8 != 0) & 8) + 1,param_3,param_4,(LPWSTR)0x0,
                                0);
    if (iVar1 != 0) {
      local_8 = 0;
      FUN_10008e60(unaff_DI);
      local_8 = 0xffffffff;
      if ((&stack0x00000000 != (undefined *)0x3c) &&
         (iVar2 = MultiByteToWideChar(param_7,1,param_3,param_4,(LPWSTR)&stack0xffffffc4,iVar1),
         iVar2 != 0)) {
        iVar2 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,(LPWSTR)0x0,0);
        if (iVar2 != 0) {
          if ((param_2 & 0x400) == 0) {
            local_8 = 1;
            FUN_10008e60(unaff_DI);
            local_8 = 0xffffffff;
            if (&stack0x00000000 == (undefined *)0x3c) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,
                                 (LPWSTR)&stack0xffffffc4,iVar2);
            if (iVar1 == 0) {
              ExceptionList = local_14;
              return 0;
            }
            if (param_6 == 0) {
              param_6 = 0;
              param_5 = (LPWSTR)0x0;
            }
            iVar2 = WideCharToMultiByte(param_7,0x220,(LPCWSTR)&stack0xffffffc4,iVar2,(LPSTR)param_5
                                        ,param_6,(LPCSTR)0x0,(LPBOOL)0x0);
            iVar1 = iVar2;
          }
          else {
            if (param_6 == 0) {
              ExceptionList = local_14;
              return iVar2;
            }
            if (param_6 < iVar2) {
              ExceptionList = local_14;
              return 0;
            }
            iVar1 = LCMapStringW(param_1,param_2,(LPCWSTR)&stack0xffffffc4,iVar1,param_5,param_6);
          }
          if (iVar1 != 0) {
            ExceptionList = local_14;
            return iVar2;
          }
        }
      }
    }
  }
  ExceptionList = local_14;
  return 0;
}



/*
 * Function: FUN_10008b13
 * Address: 10008b13
 */

int __cdecl FUN_10008b13(char *param_1,int param_2)

{
  char *pcVar1;
  int iVar2;
  
  pcVar1 = param_1;
  iVar2 = param_2;
  if (param_2 != 0) {
    do {
      iVar2 = iVar2 + -1;
      if (*pcVar1 == '\0') break;
      pcVar1 = pcVar1 + 1;
    } while (iVar2 != 0);
  }
  if (*pcVar1 == '\0') {
    return (int)pcVar1 - (int)param_1;
  }
  return param_2;
}



/*
 * Function: FUN_10008b3e
 * Address: 10008b3e
 */

BOOL __cdecl
FUN_10008b3e(DWORD param_1,LPCSTR param_2,int param_3,LPWORD param_4,UINT param_5,LCID param_6,
            int param_7)

{
  undefined *puVar1;
  BOOL BVar2;
  int iVar3;
  undefined unaff_DI;
  WORD local_20 [2];
  undefined *local_1c;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_1000a588;
  puStack_10 = &LAB_10006f1c;
  local_14 = ExceptionList;
  local_1c = &stack0xffffffc8;
  iVar3 = DAT_1000df1c;
  ExceptionList = &local_14;
  puVar1 = &stack0xffffffc8;
  if (DAT_1000df1c == 0) {
    ExceptionList = &local_14;
    BVar2 = GetStringTypeW(1,L"",1,local_20);
    iVar3 = 1;
    puVar1 = local_1c;
    if (BVar2 == 0) {
      BVar2 = GetStringTypeA(0,1,"",1,local_20);
      if (BVar2 == 0) {
        ExceptionList = local_14;
        return 0;
      }
      iVar3 = 2;
      puVar1 = local_1c;
    }
  }
  local_1c = puVar1;
  DAT_1000df1c = iVar3;
  if (DAT_1000df1c != 2) {
    if (DAT_1000df1c == 1) {
      if (param_5 == 0) {
        param_5 = DAT_1000df10;
      }
      iVar3 = MultiByteToWideChar(param_5,(-(uint)(param_7 != 0) & 8) + 1,param_2,param_3,
                                  (LPWSTR)0x0,0);
      if (iVar3 != 0) {
        local_8 = 0;
        FUN_10008e60(unaff_DI);
        local_1c = &stack0xffffffc8;
        _memset(&stack0xffffffc8,0,iVar3 * 2);
        local_8 = 0xffffffff;
        if ((&stack0x00000000 != (undefined *)0x38) &&
           (iVar3 = MultiByteToWideChar(param_5,1,param_2,param_3,(LPWSTR)&stack0xffffffc8,iVar3),
           iVar3 != 0)) {
          BVar2 = GetStringTypeW(param_1,(LPCWSTR)&stack0xffffffc8,iVar3,param_4);
          ExceptionList = local_14;
          return BVar2;
        }
      }
    }
    ExceptionList = local_14;
    return 0;
  }
  if (param_6 == 0) {
    param_6 = DAT_1000df00;
  }
  BVar2 = GetStringTypeA(param_6,param_1,param_2,param_3,param_4);
  ExceptionList = local_14;
  return BVar2;
}



/*
 * Function: FUN_10008c87
 * Address: 10008c87
 */

undefined4 __cdecl FUN_10008c87(FILE *param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0xffffffff;
  if ((*(byte *)&param_1->_flag & 0x40) == 0) {
    FUN_100077ca((uint)param_1);
    uVar1 = __fclose_lk(param_1);
    FUN_1000781c((uint)param_1);
  }
  else {
    param_1->_flag = 0;
  }
  return uVar1;
}



/*
 * Function: __fclose_lk
 * Address: 10008cb8
 */

/* Library Function - Single Match
    __fclose_lk
   
   Library: Visual Studio 2003 Release */

undefined4 __cdecl __fclose_lk(FILE *param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  uVar2 = 0xffffffff;
  if ((*(byte *)&param_1->_flag & 0x83) != 0) {
    uVar2 = FUN_100087dd((int *)param_1);
    __freebuf(param_1);
    iVar1 = FUN_10008e8f(param_1->_file);
    if (iVar1 < 0) {
      uVar2 = 0xffffffff;
    }
    else if (param_1->_tmpfname != (char *)0x0) {
      FUN_10004619(param_1->_tmpfname);
      param_1->_tmpfname = (char *)0x0;
    }
  }
  param_1->_flag = 0;
  return uVar2;
}



/*
 * Function: FUN_10008d04
 * Address: 10008d04
 */

DWORD __cdecl FUN_10008d04(uint param_1)

{
  HANDLE hFile;
  BOOL BVar1;
  DWORD DVar2;
  DWORD *pDVar3;
  int iVar4;
  
  if (DAT_1000f3c0 <= param_1) {
LAB_10008d85:
    pDVar3 = FUN_100085da();
    *pDVar3 = 9;
    return 0xffffffff;
  }
  iVar4 = (param_1 & 0x1f) * 0x24;
  if ((*(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + iVar4) & 1) == 0) goto LAB_10008d85;
  FUN_100086ad(param_1);
  if ((*(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + iVar4) & 1) != 0) {
    hFile = (HANDLE)FUN_1000866b(param_1);
    BVar1 = FlushFileBuffers(hFile);
    if (BVar1 == 0) {
      DVar2 = GetLastError();
    }
    else {
      DVar2 = 0;
    }
    if (DVar2 == 0) goto LAB_10008d7a;
    pDVar3 = FUN_100085e3();
    *pDVar3 = DVar2;
  }
  pDVar3 = FUN_100085da();
  *pDVar3 = 9;
  DVar2 = 0xffffffff;
LAB_10008d7a:
  FUN_1000870c(param_1);
  return DVar2;
}



/*
 * Function: FUN_10008da0
 * Address: 10008da0
 */

int __cdecl FUN_10008da0(byte *param_1,byte *param_2)

{
  byte bVar1;
  int iVar2;
  byte abStack_28 [32];
  
  abStack_28[0x1c] = 0;
  abStack_28[0x1d] = 0;
  abStack_28[0x1e] = 0;
  abStack_28[0x1f] = 0;
  abStack_28[0x18] = 0;
  abStack_28[0x19] = 0;
  abStack_28[0x1a] = 0;
  abStack_28[0x1b] = 0;
  abStack_28[0x14] = 0;
  abStack_28[0x15] = 0;
  abStack_28[0x16] = 0;
  abStack_28[0x17] = 0;
  abStack_28[0x10] = 0;
  abStack_28[0x11] = 0;
  abStack_28[0x12] = 0;
  abStack_28[0x13] = 0;
  abStack_28[0xc] = 0;
  abStack_28[0xd] = 0;
  abStack_28[0xe] = 0;
  abStack_28[0xf] = 0;
  abStack_28[8] = 0;
  abStack_28[9] = 0;
  abStack_28[10] = 0;
  abStack_28[0xb] = 0;
  abStack_28[4] = 0;
  abStack_28[5] = 0;
  abStack_28[6] = 0;
  abStack_28[7] = 0;
  abStack_28[0] = 0;
  abStack_28[1] = 0;
  abStack_28[2] = 0;
  abStack_28[3] = 0;
  while( true ) {
    bVar1 = *param_2;
    if (bVar1 == 0) break;
    param_2 = param_2 + 1;
    abStack_28[(int)(uint)bVar1 >> 3] = abStack_28[(int)(uint)bVar1 >> 3] | '\x01' << (bVar1 & 7);
  }
  iVar2 = -1;
  do {
    iVar2 = iVar2 + 1;
    bVar1 = *param_1;
    if (bVar1 == 0) {
      return iVar2;
    }
    param_1 = param_1 + 1;
  } while ((abStack_28[(int)(uint)bVar1 >> 3] >> (bVar1 & 7) & 1) == 0);
  return iVar2;
}



/*
 * Function: _strncmp
 * Address: 10008de0
 */

/* Library Function - Single Match
    _strncmp
   
   Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release */

int __cdecl _strncmp(char *_Str1,char *_Str2,size_t _MaxCount)

{
  char cVar1;
  char cVar2;
  size_t sVar3;
  int iVar4;
  uint uVar5;
  char *pcVar6;
  char *pcVar7;
  
  sVar3 = _MaxCount;
  pcVar6 = _Str1;
  if (_MaxCount != 0) {
    do {
      if (sVar3 == 0) break;
      sVar3 = sVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    iVar4 = _MaxCount - sVar3;
    do {
      pcVar6 = _Str2;
      pcVar7 = _Str1;
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      pcVar7 = _Str1 + 1;
      pcVar6 = _Str2 + 1;
      cVar2 = *_Str1;
      cVar1 = *_Str2;
      _Str2 = pcVar6;
      _Str1 = pcVar7;
    } while (cVar1 == cVar2);
    uVar5 = 0;
    if ((byte)pcVar6[-1] <= (byte)pcVar7[-1]) {
      if (pcVar6[-1] == pcVar7[-1]) {
        return 0;
      }
      uVar5 = 0xfffffffe;
    }
    _MaxCount = ~uVar5;
  }
  return _MaxCount;
}



/*
 * Function: FUN_10008e20
 * Address: 10008e20
 */

byte * __cdecl FUN_10008e20(byte *param_1,byte *param_2)

{
  byte bVar1;
  byte *pbVar2;
  byte abStack_28 [32];
  
  abStack_28[0x1c] = 0;
  abStack_28[0x1d] = 0;
  abStack_28[0x1e] = 0;
  abStack_28[0x1f] = 0;
  abStack_28[0x18] = 0;
  abStack_28[0x19] = 0;
  abStack_28[0x1a] = 0;
  abStack_28[0x1b] = 0;
  abStack_28[0x14] = 0;
  abStack_28[0x15] = 0;
  abStack_28[0x16] = 0;
  abStack_28[0x17] = 0;
  abStack_28[0x10] = 0;
  abStack_28[0x11] = 0;
  abStack_28[0x12] = 0;
  abStack_28[0x13] = 0;
  abStack_28[0xc] = 0;
  abStack_28[0xd] = 0;
  abStack_28[0xe] = 0;
  abStack_28[0xf] = 0;
  abStack_28[8] = 0;
  abStack_28[9] = 0;
  abStack_28[10] = 0;
  abStack_28[0xb] = 0;
  abStack_28[4] = 0;
  abStack_28[5] = 0;
  abStack_28[6] = 0;
  abStack_28[7] = 0;
  abStack_28[0] = 0;
  abStack_28[1] = 0;
  abStack_28[2] = 0;
  abStack_28[3] = 0;
  while( true ) {
    bVar1 = *param_2;
    if (bVar1 == 0) break;
    param_2 = param_2 + 1;
    abStack_28[(int)(uint)bVar1 >> 3] = abStack_28[(int)(uint)bVar1 >> 3] | '\x01' << (bVar1 & 7);
  }
  do {
    pbVar2 = param_1;
    bVar1 = *pbVar2;
    if (bVar1 == 0) {
      return (byte *)(uint)bVar1;
    }
    param_1 = pbVar2 + 1;
  } while ((abStack_28[(int)(uint)bVar1 >> 3] >> (bVar1 & 7) & 1) == 0);
  return pbVar2;
}



/*
 * Function: FUN_10008e60
 * Address: 10008e60
 */

/* WARNING: Unable to track spacebase fully for stack */

void FUN_10008e60(undefined1 param_1)

{
  uint in_EAX;
  undefined1 *puVar1;
  undefined4 unaff_retaddr;
  
  puVar1 = &param_1;
  if (0xfff < in_EAX) {
    do {
      puVar1 = puVar1 + -0x1000;
      in_EAX = in_EAX - 0x1000;
    } while (0xfff < in_EAX);
  }
  *(undefined4 *)(puVar1 + (-4 - in_EAX)) = unaff_retaddr;
  return;
}



/*
 * Function: FUN_10008e8f
 * Address: 10008e8f
 */

undefined4 __cdecl FUN_10008e8f(uint param_1)

{
  undefined4 uVar1;
  DWORD *pDVar2;
  
  if ((param_1 < DAT_1000f3c0) &&
     ((*(byte *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    FUN_100086ad(param_1);
    uVar1 = FUN_10008eec(param_1);
    FUN_1000870c(param_1);
    return uVar1;
  }
  pDVar2 = FUN_100085da();
  *pDVar2 = 9;
  pDVar2 = FUN_100085e3();
  *pDVar2 = 0;
  return 0xffffffff;
}



/*
 * Function: FUN_10008eec
 * Address: 10008eec
 */

undefined4 __cdecl FUN_10008eec(uint param_1)

{
  int iVar1;
  int iVar2;
  HANDLE hObject;
  BOOL BVar3;
  DWORD DVar4;
  undefined4 uVar5;
  
  iVar1 = FUN_1000866b(param_1);
  if (iVar1 != -1) {
    if ((param_1 == 1) || (param_1 == 2)) {
      iVar1 = FUN_1000866b(2);
      iVar2 = FUN_1000866b(1);
      if (iVar2 == iVar1) goto LAB_10008f3a;
    }
    hObject = (HANDLE)FUN_1000866b(param_1);
    BVar3 = CloseHandle(hObject);
    if (BVar3 == 0) {
      DVar4 = GetLastError();
      goto LAB_10008f3c;
    }
  }
LAB_10008f3a:
  DVar4 = 0;
LAB_10008f3c:
  FUN_100085ec(param_1);
  *(undefined *)((&DAT_1000f2c0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) = 0;
  if (DVar4 == 0) {
    uVar5 = 0;
  }
  else {
    FUN_10008567(DVar4);
    uVar5 = 0xffffffff;
  }
  return uVar5;
}



/*
 * Function: __freebuf
 * Address: 10008f6f
 */

/* Library Function - Single Match
    __freebuf
   
   Library: Visual Studio 2003 Release */

void __cdecl __freebuf(FILE *_File)

{
  if (((_File->_flag & 0x83U) != 0) && ((_File->_flag & 8U) != 0)) {
    FUN_10004619(_File->_base);
    *(ushort *)&_File->_flag = *(ushort *)&_File->_flag & 0xfbf7;
    _File->_ptr = (char *)0x0;
    _File->_base = (char *)0x0;
    _File->_cnt = 0;
  }
  return;
}



/*
 * Function: FUN_10008fa0
 * Address: 10008fa0
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint __thiscall FUN_10008fa0(void *this,byte *param_1,byte *param_2)

{
  bool bVar1;
  int iVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  uint uVar6;
  void *extraout_ECX;
  void *this_00;
  void *extraout_ECX_00;
  uint uVar7;
  uint uVar8;
  
  iVar2 = _DAT_1000e064;
  if (DAT_1000df00 == 0) {
    bVar5 = 0xff;
    do {
      do {
        if (bVar5 == 0) goto LAB_10008fee;
        bVar5 = *param_2;
        param_2 = param_2 + 1;
        bVar4 = *param_1;
        param_1 = param_1 + 1;
      } while (bVar4 == bVar5);
      bVar3 = bVar5 + 0xbf + (-((byte)(bVar5 + 0xbf) < 0x1a) & 0x20U) + 0x41;
      bVar4 = bVar4 + 0xbf;
      bVar5 = bVar4 + (-(bVar4 < 0x1a) & 0x20U) + 0x41;
    } while (bVar5 == bVar3);
    bVar5 = (bVar5 < bVar3) * -2 + 1;
LAB_10008fee:
    uVar6 = (uint)(char)bVar5;
  }
  else {
    LOCK();
    _DAT_1000e064 = _DAT_1000e064 + 1;
    UNLOCK();
    bVar1 = 0 < DAT_1000e060;
    if (bVar1) {
      LOCK();
      UNLOCK();
      _DAT_1000e064 = iVar2;
      FUN_100064ff(0x13);
      this = extraout_ECX;
    }
    uVar8 = (uint)bVar1;
    uVar6 = 0xff;
    uVar7 = 0;
    do {
      do {
        if ((char)uVar6 == '\0') goto LAB_1000904f;
        bVar5 = *param_2;
        uVar6 = CONCAT31((int3)(uVar6 >> 8),bVar5);
        param_2 = param_2 + 1;
        bVar4 = *param_1;
        uVar7 = CONCAT31((int3)(uVar7 >> 8),bVar4);
        param_1 = param_1 + 1;
      } while (bVar5 == bVar4);
      uVar7 = FUN_100091e6(this,uVar7);
      uVar6 = FUN_100091e6(this_00,uVar6);
      this = extraout_ECX_00;
    } while ((byte)uVar7 == (byte)uVar6);
    uVar7 = (uint)((byte)uVar7 < (byte)uVar6);
    uVar6 = (1 - uVar7) - (uint)(uVar7 != 0);
LAB_1000904f:
    if (uVar8 == 0) {
      LOCK();
      _DAT_1000e064 = _DAT_1000e064 + -1;
      UNLOCK();
    }
    else {
      FUN_10006560(0x13);
    }
  }
  return uVar6;
}



/*
 * Function: FUN_10009070
 * Address: 10009070
 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void * __cdecl FUN_10009070(byte *param_1,char *param_2,void *param_3)

{
  char cVar1;
  int iVar2;
  byte bVar3;
  ushort uVar4;
  uint uVar5;
  void *this;
  uint uVar6;
  bool bVar7;
  uint uVar8;
  
  iVar2 = _DAT_1000e064;
  if (param_3 != (void *)0x0) {
    if (DAT_1000df00 == 0) {
      do {
        bVar3 = *param_1;
        cVar1 = *param_2;
        uVar4 = CONCAT11(bVar3,cVar1);
        if (bVar3 == 0) break;
        uVar4 = CONCAT11(bVar3,cVar1);
        uVar6 = (uint)uVar4;
        if (cVar1 == '\0') break;
        param_1 = param_1 + 1;
        param_2 = param_2 + 1;
        if ((0x40 < bVar3) && (bVar3 < 0x5b)) {
          uVar6 = (uint)CONCAT11(bVar3 + 0x20,cVar1);
        }
        uVar4 = (ushort)uVar6;
        bVar3 = (byte)uVar6;
        if ((0x40 < bVar3) && (bVar3 < 0x5b)) {
          uVar4 = (ushort)CONCAT31((int3)(uVar6 >> 8),bVar3 + 0x20);
        }
        bVar3 = (byte)(uVar4 >> 8);
        bVar7 = bVar3 < (byte)uVar4;
        if (bVar3 != (byte)uVar4) goto LAB_100090cf;
        param_3 = (void *)((int)param_3 + -1);
      } while (param_3 != (void *)0x0);
      param_3 = (void *)0x0;
      bVar3 = (byte)(uVar4 >> 8);
      bVar7 = bVar3 < (byte)uVar4;
      if (bVar3 != (byte)uVar4) {
LAB_100090cf:
        param_3 = (void *)0xffffffff;
        if (!bVar7) {
          param_3 = (void *)0x1;
        }
      }
    }
    else {
      LOCK();
      _DAT_1000e064 = _DAT_1000e064 + 1;
      UNLOCK();
      bVar7 = 0 < DAT_1000e060;
      if (bVar7) {
        LOCK();
        UNLOCK();
        _DAT_1000e064 = iVar2;
        FUN_100064ff(0x13);
      }
      uVar8 = (uint)bVar7;
      uVar5 = 0;
      uVar6 = 0;
      do {
        uVar5 = CONCAT31((int3)(uVar5 >> 8),*param_1);
        uVar6 = CONCAT31((int3)(uVar6 >> 8),*param_2);
        if ((uVar5 == 0) || (uVar6 == 0)) break;
        param_1 = param_1 + 1;
        param_2 = param_2 + 1;
        uVar6 = FUN_100091e6(param_3,uVar6);
        uVar5 = FUN_100091e6(this,uVar5);
        bVar7 = uVar5 < uVar6;
        if (uVar5 != uVar6) goto LAB_10009145;
        param_3 = (void *)((int)param_3 + -1);
      } while (param_3 != (void *)0x0);
      param_3 = (void *)0x0;
      bVar7 = uVar5 < uVar6;
      if (uVar5 != uVar6) {
LAB_10009145:
        param_3 = (void *)0xffffffff;
        if (!bVar7) {
          param_3 = (void *)0x1;
        }
      }
      if (uVar8 == 0) {
        LOCK();
        _DAT_1000e064 = _DAT_1000e064 + -1;
        UNLOCK();
      }
      else {
        FUN_10006560(0x13);
      }
    }
  }
  return param_3;
}



/*
 * Function: FUN_10009171
 * Address: 10009171
 */

uint __thiscall FUN_10009171(void *this,int param_1,uint param_2)

{
  BOOL BVar1;
  int iVar2;
  undefined4 local_8;
  
  if (param_1 + 1U < 0x101) {
    param_1._2_2_ = *(ushort *)(PTR_DAT_1000d528 + param_1 * 2);
  }
  else {
    if ((PTR_DAT_1000d528[(param_1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      local_8 = CONCAT31((int3)((uint)this >> 8),(char)param_1) & 0xffff00ff;
      iVar2 = 1;
    }
    else {
      local_8._0_2_ = CONCAT11((char)param_1,(char)((uint)param_1 >> 8));
      local_8 = CONCAT22((short)((uint)this >> 0x10),(undefined2)local_8) & 0xff00ffff;
      iVar2 = 2;
    }
    BVar1 = FUN_10008b3e(1,(LPCSTR)&local_8,iVar2,(LPWORD)((int)&param_1 + 2),0,0,1);
    if (BVar1 == 0) {
      return 0;
    }
  }
  return param_1._2_2_ & param_2;
}



/*
 * Function: FUN_100091e6
 * Address: 100091e6
 */

uint __thiscall FUN_100091e6(void *this,uint param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  void *local_8;
  
  uVar1 = param_1;
  if (DAT_1000df00 == 0) {
    if ((0x40 < (int)param_1) && ((int)param_1 < 0x5b)) {
      uVar1 = param_1 + 0x20;
    }
  }
  else {
    iVar3 = 1;
    local_8 = this;
    if ((int)param_1 < 0x100) {
      if (DAT_1000dab4 < 2) {
        uVar2 = (byte)PTR_DAT_1000d528[param_1 * 2] & 1;
      }
      else {
        uVar2 = FUN_10009171(this,param_1,1);
      }
      if (uVar2 == 0) {
        return uVar1;
      }
    }
    if ((PTR_DAT_1000d528[((int)uVar1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      param_1 = CONCAT31((int3)(param_1 >> 8),(char)uVar1) & 0xffff00ff;
    }
    else {
      uVar2 = param_1 >> 0x10;
      param_1._0_2_ = CONCAT11((char)uVar1,(char)(uVar1 >> 8));
      param_1 = CONCAT22((short)uVar2,(undefined2)param_1) & 0xff00ffff;
      iVar3 = 2;
    }
    iVar3 = FUN_100088ef(DAT_1000df00,0x100,(char *)&param_1,iVar3,(LPWSTR)&local_8,3,0,1);
    if (iVar3 != 0) {
      if (iVar3 == 1) {
        uVar1 = (uint)local_8 & 0xff;
      }
      else {
        uVar1 = (uint)local_8 & 0xffff;
      }
    }
  }
  return uVar1;
}



/*
 * Function: RtlUnwind
 * Address: 100093cc
 */

void RtlUnwind(PVOID TargetFrame,PVOID TargetIp,PEXCEPTION_RECORD ExceptionRecord,PVOID ReturnValue)

{
                    /* WARNING: Could not recover jumptable at 0x100093cc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  RtlUnwind(TargetFrame,TargetIp,ExceptionRecord,ReturnValue);
  return;
}



/*
 * Function: Unwind@100093e0
 * Address: 100093e0
 */

void Unwind_100093e0(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@100093eb
 * Address: 100093eb
 */

void Unwind_100093eb(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@10009400
 * Address: 10009400
 */

void Unwind_10009400(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@1000940b
 * Address: 1000940b
 */

void Unwind_1000940b(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@10009420
 * Address: 10009420
 */

void Unwind_10009420(void)

{
  int unaff_EBP;
  
  RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET
            ((RKC_NETWORK_SERVER_SOCKET *)(unaff_EBP + -300));
  return;
}



/*
 * Function: Unwind@10009440
 * Address: 10009440
 */

void Unwind_10009440(void)

{
  int unaff_EBP;
  
  RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET
            ((RKC_NETWORK_SERVER_SOCKET *)(unaff_EBP + -0x20));
  return;
}



/*
 * Function: Unwind@10009460
 * Address: 10009460
 */

void Unwind_10009460(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@10009480
 * Address: 10009480
 */

void Unwind_10009480(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@100094a0
 * Address: 100094a0
 */

void Unwind_100094a0(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + 8));
  return;
}



/*
 * Function: Unwind@100094c0
 * Address: 100094c0
 */

void Unwind_100094c0(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@100094cb
 * Address: 100094cb
 */

void Unwind_100094cb(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



/*
 * Function: Unwind@100094e0
 * Address: 100094e0
 */

void Unwind_100094e0(void)

{
  int unaff_EBP;
  
  RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET
            ((RKC_NETWORK_SERVER_SOCKET *)(unaff_EBP + -0x20));
  return;
}



/*
 * Function: Unwind@10009500
 * Address: 10009500
 */

void Unwind_10009500(void)

{
  int unaff_EBP;
  
  RKC_NETWORK_SERVER_SOCKET::~RKC_NETWORK_SERVER_SOCKET
            ((RKC_NETWORK_SERVER_SOCKET *)(unaff_EBP + -0x38));
  return;
}



/*
 * Function: Unwind@10009520
 * Address: 10009520
 */

void Unwind_10009520(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + 4));
  return;
}



/*
 * Function: Unwind@10009540
 * Address: 10009540
 */

void Unwind_10009540(void)

{
  int unaff_EBP;
  
  FUN_10003f26(*(LPVOID *)(unaff_EBP + -0x10));
  return;
}



